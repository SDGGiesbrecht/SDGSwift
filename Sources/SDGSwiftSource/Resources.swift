/*
 Resources.swift

 This source file is part of the SDGSwift open source project.
 https://sdggiesbrecht.github.io/SDGSwift

 Copyright ©2018–2019 Jeremy David Giesbrecht and the SDGSwift project contributors.

 Soli Deo gloria.

 Licensed under the Apache Licence, Version 2.0.
 See http://www.apache.org/licenses/LICENSE-2.0 for licence information.
 */

import Foundation

internal enum Resources {}

extension Resources {
    enum CoreLibraries {
        static let dispatch = String(data: Data(base64Encoded: "cHVibGljIHByb3RvY29sIERpc3BhdGNoU291cmNlRmlsZVN5c3RlbU9iamVjdCA6IERpc3BhdGNoU291cmNlUHJvdG9jb2wgewojaWYgIW9zKExpbnV4KSAmJiAhb3MoQW5kcm9pZCkKICAgIHZhciBkYXRhOiBEaXNwYXRjaFNvdXJjZS5GaWxlU3lzdGVtRXZlbnQgeyBnZXQgfQojZW5kaWYKI2lmICFvcyhMaW51eCkgJiYgIW9zKEFuZHJvaWQpCiAgICB2YXIgaGFuZGxlOiBJbnQzMiB7IGdldCB9CiNlbmRpZgojaWYgIW9zKExpbnV4KSAmJiAhb3MoQW5kcm9pZCkKICAgIHZhciBtYXNrOiBEaXNwYXRjaFNvdXJjZS5GaWxlU3lzdGVtRXZlbnQgeyBnZXQgfQojZW5kaWYKfQpwdWJsaWMgcHJvdG9jb2wgRGlzcGF0Y2hTb3VyY2VNYWNoUmVjZWl2ZSA6IERpc3BhdGNoU291cmNlUHJvdG9jb2wgewojaWYgSEFWRV9NQUNICiAgICB2YXIgaGFuZGxlOiBtYWNoX3BvcnRfdCB7IGdldCB9CiNlbmRpZgp9CnB1YmxpYyBwcm90b2NvbCBEaXNwYXRjaFNvdXJjZU1hY2hTZW5kIDogRGlzcGF0Y2hTb3VyY2VQcm90b2NvbCB7CiNpZiBIQVZFX01BQ0gKICAgIHZhciBkYXRhOiBEaXNwYXRjaFNvdXJjZS5NYWNoU2VuZEV2ZW50IHsgZ2V0IH0KI2VuZGlmCiNpZiBIQVZFX01BQ0gKICAgIHZhciBoYW5kbGU6IG1hY2hfcG9ydF90IHsgZ2V0IH0KI2VuZGlmCiNpZiBIQVZFX01BQ0gKICAgIHZhciBtYXNrOiBEaXNwYXRjaFNvdXJjZS5NYWNoU2VuZEV2ZW50IHsgZ2V0IH0KI2VuZGlmCn0KcHVibGljIHByb3RvY29sIERpc3BhdGNoU291cmNlTWVtb3J5UHJlc3N1cmUgOiBEaXNwYXRjaFNvdXJjZVByb3RvY29sIHsKI2lmIEhBVkVfTUFDSAogICAgdmFyIGRhdGE6IERpc3BhdGNoU291cmNlLk1lbW9yeVByZXNzdXJlRXZlbnQgeyBnZXQgfQojZW5kaWYKI2lmIEhBVkVfTUFDSAogICAgdmFyIG1hc2s6IERpc3BhdGNoU291cmNlLk1lbW9yeVByZXNzdXJlRXZlbnQgeyBnZXQgfQojZW5kaWYKfQpwdWJsaWMgcHJvdG9jb2wgRGlzcGF0Y2hTb3VyY2VQcm9jZXNzIDogRGlzcGF0Y2hTb3VyY2VQcm90b2NvbCB7CiNpZiAhb3MoTGludXgpICYmICFvcyhBbmRyb2lkKQogICAgdmFyIGRhdGE6IERpc3BhdGNoU291cmNlLlByb2Nlc3NFdmVudCB7IGdldCB9CiNlbmRpZgojaWYgIW9zKExpbnV4KSAmJiAhb3MoQW5kcm9pZCkKICAgIHZhciBoYW5kbGU6IHBpZF90IHsgZ2V0IH0KI2VuZGlmCiNpZiAhb3MoTGludXgpICYmICFvcyhBbmRyb2lkKQogICAgdmFyIG1hc2s6IERpc3BhdGNoU291cmNlLlByb2Nlc3NFdmVudCB7IGdldCB9CiNlbmRpZgp9CnB1YmxpYyBwcm90b2NvbCBEaXNwYXRjaFNvdXJjZVByb3RvY29sIHsKICAgIHZhciBkYXRhOiBVSW50IHsgZ2V0IH0KICAgIHZhciBoYW5kbGU6IFVJbnQgeyBnZXQgfQogICAgdmFyIGlzQ2FuY2VsbGVkOiBCb29sIHsgZ2V0IH0KICAgIHZhciBtYXNrOiBVSW50IHsgZ2V0IH0KICAgIEBhdmFpbGFibGUobWFjT1MxMC4xMiwgaU9TMTAuMCwgdHZPUzEwLjAsIHdhdGNoT1MzLjAsICopIGZ1bmMgYWN0aXZhdGUoKQogICAgZnVuYyBjYW5jZWwoKQogICAgZnVuYyByZXN1bWUoKQogICAgQGF2YWlsYWJsZShtYWNPUzEwLjEwLCBpT1M4LjAsICopIGZ1bmMgc2V0Q2FuY2VsSGFuZGxlcihoYW5kbGVyOiBEaXNwYXRjaFdvcmtJdGVtKQogICAgZnVuYyBzZXRDYW5jZWxIYW5kbGVyKHFvczogRGlzcGF0Y2hRb1MgPSB4LCBmbGFnczogRGlzcGF0Y2hXb3JrSXRlbUZsYWdzID0geCwgaGFuZGxlcjogRGlzcGF0Y2hTb3VyY2VIYW5kbGVyPykKICAgIEBhdmFpbGFibGUobWFjT1MxMC4xMCwgaU9TOC4wLCAqKSBmdW5jIHNldEV2ZW50SGFuZGxlcihoYW5kbGVyOiBEaXNwYXRjaFdvcmtJdGVtKQogICAgZnVuYyBzZXRFdmVudEhhbmRsZXIocW9zOiBEaXNwYXRjaFFvUyA9IHgsIGZsYWdzOiBEaXNwYXRjaFdvcmtJdGVtRmxhZ3MgPSB4LCBoYW5kbGVyOiBEaXNwYXRjaFNvdXJjZUhhbmRsZXI/KQogICAgQGF2YWlsYWJsZShtYWNPUzEwLjEwLCBpT1M4LjAsICopIGZ1bmMgc2V0UmVnaXN0cmF0aW9uSGFuZGxlcihoYW5kbGVyOiBEaXNwYXRjaFdvcmtJdGVtKQogICAgZnVuYyBzZXRSZWdpc3RyYXRpb25IYW5kbGVyKHFvczogRGlzcGF0Y2hRb1MgPSB4LCBmbGFnczogRGlzcGF0Y2hXb3JrSXRlbUZsYWdzID0geCwgaGFuZGxlcjogRGlzcGF0Y2hTb3VyY2VIYW5kbGVyPykKICAgIGZ1bmMgc3VzcGVuZCgpCn0KcHVibGljIHByb3RvY29sIERpc3BhdGNoU291cmNlUmVhZCA6IERpc3BhdGNoU291cmNlUHJvdG9jb2wgewp9CnB1YmxpYyBwcm90b2NvbCBEaXNwYXRjaFNvdXJjZVNpZ25hbCA6IERpc3BhdGNoU291cmNlUHJvdG9jb2wgewp9CnB1YmxpYyBwcm90b2NvbCBEaXNwYXRjaFNvdXJjZVRpbWVyIDogRGlzcGF0Y2hTb3VyY2VQcm90b2NvbCB7CiAgICBAYXZhaWxhYmxlKHN3aWZ0LCBpbnRyb2R1Y2VkOiA0KSBmdW5jIHNjaGVkdWxlKGRlYWRsaW5lOiBEaXNwYXRjaFRpbWUsIHJlcGVhdGluZyBpbnRlcnZhbDogRGlzcGF0Y2hUaW1lSW50ZXJ2YWwgPSB4LCBsZWV3YXk6IERpc3BhdGNoVGltZUludGVydmFsID0geCkKICAgIEBhdmFpbGFibGUoc3dpZnQsIGludHJvZHVjZWQ6IDQpIGZ1bmMgc2NoZWR1bGUoZGVhZGxpbmU6IERpc3BhdGNoVGltZSwgcmVwZWF0aW5nIGludGVydmFsOiBEb3VibGUsIGxlZXdheTogRGlzcGF0Y2hUaW1lSW50ZXJ2YWwgPSB4KQogICAgQGF2YWlsYWJsZShzd2lmdCwgaW50cm9kdWNlZDogNCkgZnVuYyBzY2hlZHVsZSh3YWxsRGVhZGxpbmU6IERpc3BhdGNoV2FsbFRpbWUsIHJlcGVhdGluZyBpbnRlcnZhbDogRGlzcGF0Y2hUaW1lSW50ZXJ2YWwgPSB4LCBsZWV3YXk6IERpc3BhdGNoVGltZUludGVydmFsID0geCkKICAgIEBhdmFpbGFibGUoc3dpZnQsIGludHJvZHVjZWQ6IDQpIGZ1bmMgc2NoZWR1bGUod2FsbERlYWRsaW5lOiBEaXNwYXRjaFdhbGxUaW1lLCByZXBlYXRpbmcgaW50ZXJ2YWw6IERvdWJsZSwgbGVld2F5OiBEaXNwYXRjaFRpbWVJbnRlcnZhbCA9IHgpCiAgICBmdW5jIHNjaGVkdWxlT25lc2hvdChkZWFkbGluZTogRGlzcGF0Y2hUaW1lLCBsZWV3YXk6IERpc3BhdGNoVGltZUludGVydmFsKQogICAgZnVuYyBzY2hlZHVsZU9uZXNob3Qod2FsbERlYWRsaW5lOiBEaXNwYXRjaFdhbGxUaW1lLCBsZWV3YXk6IERpc3BhdGNoVGltZUludGVydmFsKQogICAgZnVuYyBzY2hlZHVsZVJlcGVhdGluZyhkZWFkbGluZTogRGlzcGF0Y2hUaW1lLCBpbnRlcnZhbDogRGlzcGF0Y2hUaW1lSW50ZXJ2YWwsIGxlZXdheTogRGlzcGF0Y2hUaW1lSW50ZXJ2YWwpCiAgICBmdW5jIHNjaGVkdWxlUmVwZWF0aW5nKHdhbGxEZWFkbGluZTogRGlzcGF0Y2hXYWxsVGltZSwgaW50ZXJ2YWw6IERpc3BhdGNoVGltZUludGVydmFsLCBsZWV3YXk6IERpc3BhdGNoVGltZUludGVydmFsKQp9CnB1YmxpYyBwcm90b2NvbCBEaXNwYXRjaFNvdXJjZVVzZXJEYXRhQWRkIDogRGlzcGF0Y2hTb3VyY2VQcm90b2NvbCB7CiAgICBmdW5jIGFkZChkYXRhOiBVSW50KQp9CnB1YmxpYyBwcm90b2NvbCBEaXNwYXRjaFNvdXJjZVVzZXJEYXRhT3IgOiBEaXNwYXRjaFNvdXJjZVByb3RvY29sIHsKICAgIGZ1bmMgb3IoZGF0YTogVUludCkKfQpwdWJsaWMgcHJvdG9jb2wgRGlzcGF0Y2hTb3VyY2VVc2VyRGF0YVJlcGxhY2UgOiBEaXNwYXRjaFNvdXJjZVByb3RvY29sIHsKICAgIGZ1bmMgcmVwbGFjZShkYXRhOiBVSW50KQp9CnB1YmxpYyBwcm90b2NvbCBEaXNwYXRjaFNvdXJjZVdyaXRlIDogRGlzcGF0Y2hTb3VyY2VQcm90b2NvbCB7Cn0=")!, encoding: String.Encoding.utf8)!
        static let foundation = String(data: Data(base64Encoded: "b3BlbiBjbGFzcyBCbG9ja09wZXJhdGlvbiA6IEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCwgT3BlcmF0aW9uLCBfIHsKICAgIHB1YmxpYyBpbml0KGJsb2NrOiBAZXNjYXBpbmcgKCkgLT4gVm9pZCkge30KICAgIG9wZW4gdmFyIGV4ZWN1dGlvbkJsb2NrczogWygpIC0+IFZvaWRdIHsgZ2V0IH0KICAgIG9wZW4gZnVuYyBhZGRFeGVjdXRpb25CbG9jayhfIGJsb2NrOiBAZXNjYXBpbmcgKCkgLT4gVm9pZCkge30KfQpvcGVuIGNsYXNzIEJ1bmRsZSA6IEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCwgXyB7CiAgICBvcGVuIGNsYXNzIHZhciBhbGxCdW5kbGVzOiBbQnVuZGxlXSB7IGdldCB9CiAgICBvcGVuIGNsYXNzIHZhciBtYWluOiBCdW5kbGUgeyBnZXQgfQogICAgb3BlbiBjbGFzcyBmdW5jIHBhdGgoZm9yUmVzb3VyY2UgbmFtZTogU3RyaW5nPywgb2ZUeXBlIGV4dDogU3RyaW5nPywgaW5EaXJlY3RvcnkgYnVuZGxlUGF0aDogU3RyaW5nKSAtPiBTdHJpbmc/IHt9CiAgICBvcGVuIGNsYXNzIGZ1bmMgcGF0aHMoZm9yUmVzb3VyY2VzT2ZUeXBlIGV4dDogU3RyaW5nPywgaW5EaXJlY3RvcnkgYnVuZGxlUGF0aDogU3RyaW5nKSAtPiBbU3RyaW5nXSB7fQogICAgb3BlbiBjbGFzcyBmdW5jIHByZWZlcnJlZExvY2FsaXphdGlvbnMoZnJvbSBsb2NhbGl6YXRpb25zQXJyYXk6IFtTdHJpbmddKSAtPiBbU3RyaW5nXSB7fQogICAgb3BlbiBjbGFzcyBmdW5jIHByZWZlcnJlZExvY2FsaXphdGlvbnMoZnJvbSBsb2NhbGl6YXRpb25zQXJyYXk6IFtTdHJpbmddLCBmb3JQcmVmZXJlbmNlcyBwcmVmZXJlbmNlc0FycmF5OiBbU3RyaW5nXT8pIC0+IFtTdHJpbmddIHt9CiAgICBvcGVuIGNsYXNzIGZ1bmMgdXJsKGZvclJlc291cmNlIG5hbWU6IFN0cmluZz8sIHdpdGhFeHRlbnNpb24gZXh0OiBTdHJpbmc/LCBzdWJkaXJlY3Rvcnkgc3VicGF0aDogU3RyaW5nPywgaW4gYnVuZGxlVVJMOiBVUkwpIC0+IFVSTD8ge30KICAgIG9wZW4gY2xhc3MgZnVuYyB1cmxzKGZvclJlc291cmNlc1dpdGhFeHRlbnNpb24gZXh0OiBTdHJpbmc/LCBzdWJkaXJlY3Rvcnkgc3VicGF0aDogU3RyaW5nPywgaW4gYnVuZGxlVVJMOiBOU1VSTCkgLT4gW05TVVJMXT8ge30KICAgIHB1YmxpYyBpbml0KGZvciBhQ2xhc3M6IEFueUNsYXNzKSB7fQogICAgcHVibGljIGluaXQ/KGlkZW50aWZpZXI6IFN0cmluZykge30KICAgIHB1YmxpYyBpbml0PyhwYXRoOiBTdHJpbmcpIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdD8odXJsOiBVUkwpIHt9CiAgICBvcGVuIHZhciBhcHBTdG9yZVJlY2VpcHRVUkw6IFVSTD8geyBnZXQgfQogICAgb3BlbiB2YXIgYnVpbHRJblBsdWdJbnNQYXRoOiBTdHJpbmc/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGJ1aWx0SW5QbHVnSW5zVVJMOiBVUkw/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGJ1bmRsZUlkZW50aWZpZXI6IFN0cmluZz8geyBnZXQgfQogICAgb3BlbiB2YXIgYnVuZGxlUGF0aDogU3RyaW5nIHsgZ2V0IH0KICAgIG9wZW4gdmFyIGJ1bmRsZVVSTDogVVJMIHsgZ2V0IH0KICAgIG9wZW4gdmFyIGRldmVsb3BtZW50TG9jYWxpemF0aW9uOiBTdHJpbmc/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGV4ZWN1dGFibGVBcmNoaXRlY3R1cmVzOiBbTlNOdW1iZXJdPyB7IGdldCB9CiAgICBvcGVuIHZhciBleGVjdXRhYmxlUGF0aDogU3RyaW5nPyB7IGdldCB9CiAgICBvcGVuIHZhciBleGVjdXRhYmxlVVJMOiBVUkw/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGluZm9EaWN0aW9uYXJ5OiBbU3RyaW5nOiBBbnldPyB7IGdldCB9CiAgICBvcGVuIHZhciBpc0xvYWRlZDogQm9vbCB7IGdldCB9CiAgICBvcGVuIHZhciBsb2NhbGl6YXRpb25zOiBbU3RyaW5nXSB7IGdldCB9CiAgICBvcGVuIHZhciBsb2NhbGl6ZWRJbmZvRGljdGlvbmFyeTogW1N0cmluZzogQW55XT8geyBnZXQgfQogICAgb3BlbiB2YXIgcHJlZmVycmVkTG9jYWxpemF0aW9uczogW1N0cmluZ10geyBnZXQgfQogICAgb3BlbiB2YXIgcHJpbmNpcGFsQ2xhc3M6IEFueUNsYXNzPyB7IGdldCB9CiAgICBvcGVuIHZhciBwcml2YXRlRnJhbWV3b3Jrc1BhdGg6IFN0cmluZz8geyBnZXQgfQogICAgb3BlbiB2YXIgcHJpdmF0ZUZyYW1ld29ya3NVUkw6IFVSTD8geyBnZXQgfQogICAgb3BlbiB2YXIgcmVzb3VyY2VQYXRoOiBTdHJpbmc/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHJlc291cmNlVVJMOiBVUkw/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHNoYXJlZEZyYW1ld29ya3NQYXRoOiBTdHJpbmc/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHNoYXJlZEZyYW1ld29ya3NVUkw6IFVSTD8geyBnZXQgfQogICAgb3BlbiB2YXIgc2hhcmVkU3VwcG9ydFBhdGg6IFN0cmluZz8geyBnZXQgfQogICAgb3BlbiB2YXIgc2hhcmVkU3VwcG9ydFVSTDogVVJMPyB7IGdldCB9CiAgICBvcGVuIGZ1bmMgY2xhc3NOYW1lZChfIGNsYXNzTmFtZTogU3RyaW5nKSAtPiBBbnlDbGFzcz8ge30KICAgIG9wZW4gZnVuYyBsb2FkKCkgLT4gQm9vbCB7fQogICAgb3BlbiBmdW5jIGxvYWRBbmRSZXR1cm5FcnJvcigpIHRocm93cyB7fQogICAgb3BlbiBmdW5jIGxvY2FsaXplZFN0cmluZyhmb3JLZXkga2V5OiBTdHJpbmcsIHZhbHVlOiBTdHJpbmc/LCB0YWJsZSB0YWJsZU5hbWU6IFN0cmluZz8pIC0+IFN0cmluZyB7fQogICAgb3BlbiBmdW5jIG9iamVjdChmb3JJbmZvRGljdGlvbmFyeUtleSBrZXk6IFN0cmluZykgLT4gQW55PyB7fQogICAgb3BlbiBmdW5jIHBhdGgoZm9yQXV4aWxpYXJ5RXhlY3V0YWJsZSBleGVjdXRhYmxlTmFtZTogU3RyaW5nKSAtPiBTdHJpbmc/IHt9CiAgICBvcGVuIGZ1bmMgcGF0aChmb3JSZXNvdXJjZSBuYW1lOiBTdHJpbmc/LCBvZlR5cGUgZXh0OiBTdHJpbmc/KSAtPiBTdHJpbmc/IHt9CiAgICBvcGVuIGZ1bmMgcGF0aChmb3JSZXNvdXJjZSBuYW1lOiBTdHJpbmc/LCBvZlR5cGUgZXh0OiBTdHJpbmc/LCBpbkRpcmVjdG9yeSBzdWJwYXRoOiBTdHJpbmc/KSAtPiBTdHJpbmc/IHt9CiAgICBvcGVuIGZ1bmMgcGF0aChmb3JSZXNvdXJjZSBuYW1lOiBTdHJpbmc/LCBvZlR5cGUgZXh0OiBTdHJpbmc/LCBpbkRpcmVjdG9yeSBzdWJwYXRoOiBTdHJpbmc/LCBmb3JMb2NhbGl6YXRpb24gbG9jYWxpemF0aW9uTmFtZTogU3RyaW5nPykgLT4gU3RyaW5nPyB7fQogICAgb3BlbiBmdW5jIHBhdGhzKGZvclJlc291cmNlc09mVHlwZSBleHQ6IFN0cmluZz8sIGluRGlyZWN0b3J5IHN1YnBhdGg6IFN0cmluZz8pIC0+IFtTdHJpbmddIHt9CiAgICBvcGVuIGZ1bmMgcGF0aHMoZm9yUmVzb3VyY2VzT2ZUeXBlIGV4dDogU3RyaW5nPywgaW5EaXJlY3Rvcnkgc3VicGF0aDogU3RyaW5nPywgZm9yTG9jYWxpemF0aW9uIGxvY2FsaXphdGlvbk5hbWU6IFN0cmluZz8pIC0+IFtTdHJpbmddIHt9CiAgICBvcGVuIGZ1bmMgcHJlZmxpZ2h0KCkgdGhyb3dzIHt9CiAgICBvcGVuIGZ1bmMgdXJsKGZvckF1eGlsaWFyeUV4ZWN1dGFibGUgZXhlY3V0YWJsZU5hbWU6IFN0cmluZykgLT4gVVJMPyB7fQogICAgb3BlbiBmdW5jIHVybChmb3JSZXNvdXJjZSBuYW1lOiBTdHJpbmc/LCB3aXRoRXh0ZW5zaW9uIGV4dDogU3RyaW5nPykgLT4gVVJMPyB7fQogICAgb3BlbiBmdW5jIHVybChmb3JSZXNvdXJjZSBuYW1lOiBTdHJpbmc/LCB3aXRoRXh0ZW5zaW9uIGV4dDogU3RyaW5nPywgc3ViZGlyZWN0b3J5IHN1YnBhdGg6IFN0cmluZz8pIC0+IFVSTD8ge30KICAgIG9wZW4gZnVuYyB1cmwoZm9yUmVzb3VyY2UgbmFtZTogU3RyaW5nPywgd2l0aEV4dGVuc2lvbiBleHQ6IFN0cmluZz8sIHN1YmRpcmVjdG9yeSBzdWJwYXRoOiBTdHJpbmc/LCBsb2NhbGl6YXRpb24gbG9jYWxpemF0aW9uTmFtZTogU3RyaW5nPykgLT4gVVJMPyB7fQogICAgb3BlbiBmdW5jIHVybHMoZm9yUmVzb3VyY2VzV2l0aEV4dGVuc2lvbiBleHQ6IFN0cmluZz8sIHN1YmRpcmVjdG9yeSBzdWJwYXRoOiBTdHJpbmc/KSAtPiBbTlNVUkxdPyB7fQogICAgb3BlbiBmdW5jIHVybHMoZm9yUmVzb3VyY2VzV2l0aEV4dGVuc2lvbiBleHQ6IFN0cmluZz8sIHN1YmRpcmVjdG9yeSBzdWJwYXRoOiBTdHJpbmc/LCBsb2NhbGl6YXRpb24gbG9jYWxpemF0aW9uTmFtZTogU3RyaW5nPykgLT4gW05TVVJMXT8ge30KfQpvcGVuIGNsYXNzIEJ5dGVDb3VudEZvcm1hdHRlciA6IEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEZvcm1hdHRlciwgSGFzaGFibGUsIE5TQ29kaW5nLCBOU0NvcHlpbmcsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBfIHsKICAgIG9wZW4gY2xhc3MgZnVuYyBzdHJpbmcoZnJvbUJ5dGVDb3VudCBieXRlQ291bnQ6IEludDY0LCBjb3VudFN0eWxlOiBCeXRlQ291bnRGb3JtYXR0ZXIuQ291bnRTdHlsZSkgLT4gU3RyaW5nIHt9CiAgICBvcGVuIHZhciBhbGxvd2VkVW5pdHM6IFVuaXRzIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBhbGxvd3NOb25udW1lcmljRm9ybWF0dGluZzogQm9vbCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgY291bnRTdHlsZTogQ291bnRTdHlsZSB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgZm9ybWF0dGluZ0NvbnRleHQ6IENvbnRleHQgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGluY2x1ZGVzQWN0dWFsQnl0ZUNvdW50OiBCb29sIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBpbmNsdWRlc0NvdW50OiBCb29sIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBpbmNsdWRlc1VuaXQ6IEJvb2wgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGlzQWRhcHRpdmU6IEJvb2wgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHplcm9QYWRzRnJhY3Rpb25EaWdpdHM6IEJvb2wgeyBnZXQgc2V0IH0KICAgIG9wZW4gZnVuYyBzdHJpbmcoZnJvbUJ5dGVDb3VudCBieXRlQ291bnQ6IEludDY0KSAtPiBTdHJpbmcge30KfQpvcGVuIGNsYXNzIENhY2hlZFVSTFJlc3BvbnNlIDogQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TQ29kaW5nLCBOU0NvcHlpbmcsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBOU1NlY3VyZUNvZGluZywgXyB7CiAgICBwdWJsaWMgaW5pdChyZXNwb25zZTogVVJMUmVzcG9uc2UsIGRhdGE6IERhdGEpIHt9CiAgICBwdWJsaWMgaW5pdChyZXNwb25zZTogVVJMUmVzcG9uc2UsIGRhdGE6IERhdGEsIHVzZXJJbmZvOiBbQW55SGFzaGFibGU6IEFueV0/ID0geCwgc3RvcmFnZVBvbGljeTogVVJMQ2FjaGUuU3RvcmFnZVBvbGljeSkge30KICAgIG9wZW4gdmFyIGRhdGE6IERhdGEgeyBnZXQgfQogICAgb3BlbiB2YXIgcmVzcG9uc2U6IFVSTFJlc3BvbnNlIHsgZ2V0IH0KICAgIG9wZW4gdmFyIHN0b3JhZ2VQb2xpY3k6IFVSTENhY2hlLlN0b3JhZ2VQb2xpY3kgeyBnZXQgfQogICAgb3BlbiB2YXIgdXNlckluZm86IFtBbnlIYXNoYWJsZTogQW55XT8geyBnZXQgfQp9Cm9wZW4gY2xhc3MgRGF0ZUNvbXBvbmVudHNGb3JtYXR0ZXIgOiBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBGb3JtYXR0ZXIsIEhhc2hhYmxlLCBOU0NvZGluZywgTlNDb3B5aW5nLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCwgXyB7CiAgICBvcGVuIGNsYXNzIGZ1bmMgbG9jYWxpemVkU3RyaW5nKGZyb20gY29tcG9uZW50czogRGF0ZUNvbXBvbmVudHMsIHVuaXRzU3R5bGU6IFVuaXRzU3R5bGUpIC0+IFN0cmluZz8ge30KICAgIG9wZW4gdmFyIGFsbG93ZWRVbml0czogTlNDYWxlbmRhci5Vbml0IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBhbGxvd3NGcmFjdGlvbmFsVW5pdHM6IEJvb2wgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGNhbGVuZGFyOiBDYWxlbmRhcj8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGNvbGxhcHNlc0xhcmdlc3RVbml0OiBCb29sIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBmb3JtYXR0aW5nQ29udGV4dDogQ29udGV4dCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgaW5jbHVkZXNBcHByb3hpbWF0aW9uUGhyYXNlOiBCb29sIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBpbmNsdWRlc1RpbWVSZW1haW5pbmdQaHJhc2U6IEJvb2wgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIG1heGltdW1Vbml0Q291bnQ6IEludCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgdW5pdHNTdHlsZTogVW5pdHNTdHlsZSB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgemVyb0Zvcm1hdHRpbmdCZWhhdmlvcjogWmVyb0Zvcm1hdHRpbmdCZWhhdmlvciB7IGdldCBzZXQgfQogICAgb3BlbiBmdW5jIHN0cmluZyhmcm9tIGNvbXBvbmVudHM6IERhdGVDb21wb25lbnRzKSAtPiBTdHJpbmc/IHt9CiAgICBvcGVuIGZ1bmMgc3RyaW5nKGZyb20gc3RhcnREYXRlOiBEYXRlLCB0byBlbmREYXRlOiBEYXRlKSAtPiBTdHJpbmc/IHt9Cn0Kb3BlbiBjbGFzcyBEYXRlRm9ybWF0dGVyIDogQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgRm9ybWF0dGVyLCBIYXNoYWJsZSwgTlNDb2RpbmcsIE5TQ29weWluZywgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wsIF8gewogICAgb3BlbiBjbGFzcyBmdW5jIGRhdGVGb3JtYXQoZnJvbVRlbXBsYXRlIHRtcGxhdGU6IFN0cmluZywgb3B0aW9ucyBvcHRzOiBJbnQsIGxvY2FsZTogTG9jYWxlPykgLT4gU3RyaW5nPyB7fQogICAgb3BlbiBjbGFzcyBmdW5jIGxvY2FsaXplZFN0cmluZyhmcm9tIGRhdGU6IERhdGUsIGRhdGVTdHlsZSBkc3R5bGU6IFN0eWxlLCB0aW1lU3R5bGUgdHN0eWxlOiBTdHlsZSkgLT4gU3RyaW5nIHt9CiAgICBvcGVuIHZhciBhbVN5bWJvbDogU3RyaW5nISB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgY2FsZW5kYXI6IENhbGVuZGFyISB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgZGF0ZUZvcm1hdDogU3RyaW5nISB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgZGF0ZVN0eWxlOiBTdHlsZSB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgZGVmYXVsdERhdGU6IERhdGU/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGRvZXNSZWxhdGl2ZURhdGVGb3JtYXR0aW5nIHsgZ2V0IH0KICAgIG9wZW4gdmFyIGVyYVN5bWJvbHM6IFtTdHJpbmddISB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgZm9ybWF0dGluZ0NvbnRleHQ6IENvbnRleHQgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGdlbmVyYXRlc0NhbGVuZGFyRGF0ZXMgeyBnZXQgfQogICAgb3BlbiB2YXIgZ3JlZ29yaWFuU3RhcnREYXRlOiBEYXRlPyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgaXNMZW5pZW50IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGxvY2FsZTogTG9jYWxlISB7IGdldCB9CiAgICBvcGVuIHZhciBsb25nRXJhU3ltYm9sczogW1N0cmluZ10hIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBtb250aFN5bWJvbHM6IFtTdHJpbmddISB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgcG1TeW1ib2w6IFN0cmluZyEgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHF1YXJ0ZXJTeW1ib2xzOiBbU3RyaW5nXSEgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHNob3J0TW9udGhTeW1ib2xzOiBbU3RyaW5nXSEgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHNob3J0UXVhcnRlclN5bWJvbHM6IFtTdHJpbmddISB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgc2hvcnRTdGFuZGFsb25lTW9udGhTeW1ib2xzOiBbU3RyaW5nXSEgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHNob3J0U3RhbmRhbG9uZVF1YXJ0ZXJTeW1ib2xzOiBbU3RyaW5nXSEgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHNob3J0U3RhbmRhbG9uZVdlZWtkYXlTeW1ib2xzOiBbU3RyaW5nXSEgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHNob3J0V2Vla2RheVN5bWJvbHM6IFtTdHJpbmddISB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgc3RhbmRhbG9uZU1vbnRoU3ltYm9sczogW1N0cmluZ10hIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBzdGFuZGFsb25lUXVhcnRlclN5bWJvbHM6IFtTdHJpbmddISB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgc3RhbmRhbG9uZVdlZWtkYXlTeW1ib2xzOiBbU3RyaW5nXSEgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHRpbWVTdHlsZTogU3R5bGUgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHRpbWVab25lOiBUaW1lWm9uZSEgeyBnZXQgfQogICAgb3BlbiB2YXIgdHdvRGlnaXRTdGFydERhdGU6IERhdGU/IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciB2ZXJ5U2hvcnRNb250aFN5bWJvbHM6IFtTdHJpbmddISB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgdmVyeVNob3J0U3RhbmRhbG9uZU1vbnRoU3ltYm9sczogW1N0cmluZ10hIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciB2ZXJ5U2hvcnRTdGFuZGFsb25lV2Vla2RheVN5bWJvbHM6IFtTdHJpbmddISB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgdmVyeVNob3J0V2Vla2RheVN5bWJvbHM6IFtTdHJpbmddISB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgd2Vla2RheVN5bWJvbHM6IFtTdHJpbmddISB7IGdldCBzZXQgfQogICAgb3BlbiBmdW5jIGRhdGUoZnJvbSBzdHJpbmc6IFN0cmluZykgLT4gRGF0ZT8ge30KICAgIG9wZW4gZnVuYyBvYmplY3RWYWx1ZShfIHN0cmluZzogU3RyaW5nLCByYW5nZSByYW5nZXA6IFVuc2FmZU11dGFibGVQb2ludGVyPE5TUmFuZ2U+KSB0aHJvd3MgLT4gQW55T2JqZWN0PyB7fQogICAgb3BlbiBmdW5jIHNldExvY2FsaXplZERhdGVGb3JtYXRGcm9tVGVtcGxhdGUoXyBkYXRlRm9ybWF0VGVtcGxhdGU6IFN0cmluZykge30KICAgIG9wZW4gZnVuYyBzdHJpbmcoZnJvbSBkYXRlOiBEYXRlKSAtPiBTdHJpbmcge30KfQpvcGVuIGNsYXNzIERhdGVJbnRlcnZhbEZvcm1hdHRlciA6IEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEZvcm1hdHRlciwgSGFzaGFibGUsIE5TQ29kaW5nLCBOU0NvcHlpbmcsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBfIHsKICAgIG9wZW4gdmFyIGNhbGVuZGFyOiBDYWxlbmRhciEgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGRhdGVTdHlsZTogU3R5bGUgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGRhdGVUZW1wbGF0ZTogU3RyaW5nISB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgbG9jYWxlOiBMb2NhbGUhIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciB0aW1lU3R5bGU6IFN0eWxlIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciB0aW1lWm9uZTogVGltZVpvbmUhIHsgZ2V0IHNldCB9CiAgICBvcGVuIGZ1bmMgc3RyaW5nKGZyb20gZGF0ZUludGVydmFsOiBEYXRlSW50ZXJ2YWwpIC0+IFN0cmluZz8ge30KICAgIG9wZW4gZnVuYyBzdHJpbmcoZnJvbSBmcm9tRGF0ZTogRGF0ZSwgdG8gdG9EYXRlOiBEYXRlKSAtPiBTdHJpbmcge30KfQpvcGVuIGNsYXNzIERpbWVuc2lvbiA6IEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU0NvZGluZywgTlNDb3B5aW5nLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCwgTlNTZWN1cmVDb2RpbmcsIFVuaXQsIF8gewogICAgb3BlbiBjbGFzcyBmdW5jIGJhc2VVbml0KCkgLT4gU2VsZiB7fQogICAgcHVibGljIHJlcXVpcmVkIGluaXQoc3ltYm9sOiBTdHJpbmcsIGNvbnZlcnRlcjogVW5pdENvbnZlcnRlcikge30KICAgIG9wZW4gdmFyIGNvbnZlcnRlcjogVW5pdENvbnZlcnRlciB7IGdldCB9Cn0Kb3BlbiBjbGFzcyBFbmVyZ3lGb3JtYXR0ZXIgOiBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBGb3JtYXR0ZXIsIEhhc2hhYmxlLCBOU0NvZGluZywgTlNDb3B5aW5nLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCwgXyB7CiAgICBvcGVuIHZhciBpc0ZvckZvb2RFbmVyZ3lVc2U6IEJvb2wgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIG51bWJlckZvcm1hdHRlcjogTnVtYmVyRm9ybWF0dGVyISB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgdW5pdFN0eWxlOiBVbml0U3R5bGUgeyBnZXQgc2V0IH0KICAgIG9wZW4gZnVuYyBzdHJpbmcoZnJvbUpvdWxlcyBudW1iZXJJbkpvdWxlczogRG91YmxlKSAtPiBTdHJpbmcge30KICAgIG9wZW4gZnVuYyBzdHJpbmcoZnJvbVZhbHVlIHZhbHVlOiBEb3VibGUsIHVuaXQ6IFVuaXQpIC0+IFN0cmluZyB7fQogICAgb3BlbiBmdW5jIHVuaXRTdHJpbmcoZnJvbUpvdWxlcyBudW1iZXJJbkpvdWxlczogRG91YmxlLCB1c2VkVW5pdCB1bml0cDogVW5zYWZlTXV0YWJsZVBvaW50ZXI8VW5pdD4/KSAtPiBTdHJpbmcge30KICAgIG9wZW4gZnVuYyB1bml0U3RyaW5nKGZyb21WYWx1ZSB2YWx1ZTogRG91YmxlLCB1bml0OiBVbml0KSAtPiBTdHJpbmcge30KfQpvcGVuIGNsYXNzIEZpbGVIYW5kbGUgOiBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNDb2RpbmcsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBOU1NlY3VyZUNvZGluZywgXyB7CiAgICBvcGVuIGNsYXNzIHZhciBudWxsRGV2aWNlOiBGaWxlSGFuZGxlIHsgZ2V0IH0KICAgIHB1YmxpYyBzdGF0aWMgdmFyIHJlYWRDb21wbGV0aW9uTm90aWZpY2F0aW9uIHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgdmFyIHN0YW5kYXJkRXJyb3I6IEZpbGVIYW5kbGUgeyBnZXQgfQogICAgb3BlbiBjbGFzcyB2YXIgc3RhbmRhcmRJbnB1dDogRmlsZUhhbmRsZSB7IGdldCB9CiAgICBvcGVuIGNsYXNzIHZhciBzdGFuZGFyZE91dHB1dDogRmlsZUhhbmRsZSB7IGdldCB9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdChmaWxlRGVzY3JpcHRvciBmZDogSW50MzIpIHt9CiAgICBwdWJsaWMgaW5pdChmaWxlRGVzY3JpcHRvciBmZDogSW50MzIsIGNsb3NlT25EZWFsbG9jIGNsb3Nlb3B0OiBCb29sKSB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQ/KGZvclJlYWRpbmdBdFBhdGggcGF0aDogU3RyaW5nKSB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQoZm9yUmVhZGluZ0Zyb20gdXJsOiBVUkwpIHRocm93cyB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQoZm9yVXBkYXRpbmcgdXJsOiBVUkwpIHRocm93cyB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQ/KGZvclVwZGF0aW5nQXRQYXRoIHBhdGg6IFN0cmluZykge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0Pyhmb3JXcml0aW5nQXRQYXRoIHBhdGg6IFN0cmluZykge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KGZvcldyaXRpbmdUbyB1cmw6IFVSTCkgdGhyb3dzIHt9CiAgICBvcGVuIHZhciBhdmFpbGFibGVEYXRhOiBEYXRhIHsgZ2V0IH0KICAgIG9wZW4gdmFyIGZpbGVEZXNjcmlwdG9yOiBJbnQzMiB7IGdldCB9CiAgICBvcGVuIHZhciBvZmZzZXRJbkZpbGU6IFVJbnQ2NCB7IGdldCB9CiAgICBvcGVuIHZhciByZWFkYWJpbGl0eUhhbmRsZXI6ICgoRmlsZUhhbmRsZSkgLT4gVm9pZCk/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHdyaXRlYWJpbGl0eUhhbmRsZXI6ICgoRmlsZUhhbmRsZSkgLT4gVm9pZCk/IHsgZ2V0IH0KICAgIG9wZW4gZnVuYyBhY2NlcHRDb25uZWN0aW9uSW5CYWNrZ3JvdW5kQW5kTm90aWZ5KCkge30KICAgIG9wZW4gZnVuYyBhY2NlcHRDb25uZWN0aW9uSW5CYWNrZ3JvdW5kQW5kTm90aWZ5KGZvck1vZGVzIG1vZGVzOiBbUnVuTG9vcE1vZGVdPykge30KICAgIG9wZW4gZnVuYyBjbG9zZUZpbGUoKSB7fQogICAgb3BlbiBmdW5jIHJlYWREYXRhKG9mTGVuZ3RoIGxlbmd0aDogSW50KSAtPiBEYXRhIHt9CiAgICBvcGVuIGZ1bmMgcmVhZERhdGFUb0VuZE9mRmlsZSgpIC0+IERhdGEge30KICAgIG9wZW4gZnVuYyByZWFkSW5CYWNrZ3JvdW5kQW5kTm90aWZ5KCkge30KICAgIG9wZW4gZnVuYyByZWFkSW5CYWNrZ3JvdW5kQW5kTm90aWZ5KGZvck1vZGVzIG1vZGVzOiBbUnVuTG9vcE1vZGVdPykge30KICAgIG9wZW4gZnVuYyByZWFkVG9FbmRPZkZpbGVJbkJhY2tncm91bmRBbmROb3RpZnkoKSB7fQogICAgb3BlbiBmdW5jIHJlYWRUb0VuZE9mRmlsZUluQmFja2dyb3VuZEFuZE5vdGlmeShmb3JNb2RlcyBtb2RlczogW1J1bkxvb3BNb2RlXT8pIHt9CiAgICBvcGVuIGZ1bmMgc2Vlayh0b0ZpbGVPZmZzZXQgb2Zmc2V0OiBVSW50NjQpIHt9CiAgICBAZGlzY2FyZGFibGVSZXN1bHQgb3BlbiBmdW5jIHNlZWtUb0VuZE9mRmlsZSgpIC0+IFVJbnQ2NCB7fQogICAgb3BlbiBmdW5jIHN5bmNocm9uaXplRmlsZSgpIHt9CiAgICBvcGVuIGZ1bmMgdHJ1bmNhdGVGaWxlKGF0T2Zmc2V0IG9mZnNldDogVUludDY0KSB7fQogICAgb3BlbiBmdW5jIHdhaXRGb3JEYXRhSW5CYWNrZ3JvdW5kQW5kTm90aWZ5KCkge30KICAgIG9wZW4gZnVuYyB3YWl0Rm9yRGF0YUluQmFja2dyb3VuZEFuZE5vdGlmeShmb3JNb2RlcyBtb2RlczogW1J1bkxvb3BNb2RlXT8pIHt9CiAgICBvcGVuIGZ1bmMgd3JpdGUoXyBkYXRhOiBEYXRhKSB7fQp9Cm9wZW4gY2xhc3MgRmlsZU1hbmFnZXIgOiBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wsIF8gewpvcGVuIGNsYXNzIERpcmVjdG9yeUVudW1lcmF0b3IgOiBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNFbnVtZXJhdG9yLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCwgU2VxdWVuY2UsIF8gewogICAgb3BlbiB2YXIgZGlyZWN0b3J5QXR0cmlidXRlczogW0ZpbGVBdHRyaWJ1dGVLZXk6IEFueV0/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGZpbGVBdHRyaWJ1dGVzOiBbRmlsZUF0dHJpYnV0ZUtleTogQW55XT8geyBnZXQgfQogICAgb3BlbiB2YXIgbGV2ZWw6IEludCB7IGdldCB9CiAgICBvcGVuIGZ1bmMgc2tpcERlc2NlbmRhbnRzKCkge30KfQogICAgb3BlbiBjbGFzcyB2YXIgZGVmYXVsdDogRmlsZU1hbmFnZXIgeyBnZXQgfQogICAgb3BlbiB2YXIgY3VycmVudERpcmVjdG9yeVBhdGg6IFN0cmluZyB7IGdldCB9CiAgICBvcGVuIHdlYWsgdmFyIGRlbGVnYXRlOiBGaWxlTWFuYWdlckRlbGVnYXRlPyB7IGdldCB9CiAgICBvcGVuIHZhciBob21lRGlyZWN0b3J5Rm9yQ3VycmVudFVzZXI6IFVSTCB7IGdldCB9CiAgICBvcGVuIHZhciB0ZW1wb3JhcnlEaXJlY3Rvcnk6IFVSTCB7IGdldCB9CiNpZiAhKG9zKEFuZHJvaWQpKQogICAgb3BlbiBmdW5jIGF0dHJpYnV0ZXNPZkZpbGVTeXN0ZW0oZm9yUGF0aCBwYXRoOiBTdHJpbmcpIHRocm93cyAtPiBbRmlsZUF0dHJpYnV0ZUtleTogQW55XSB7fQojZW5kaWYKICAgIG9wZW4gZnVuYyBhdHRyaWJ1dGVzT2ZJdGVtKGF0UGF0aCBwYXRoOiBTdHJpbmcpIHRocm93cyAtPiBbRmlsZUF0dHJpYnV0ZUtleTogQW55XSB7fQogICAgQGRpc2NhcmRhYmxlUmVzdWx0IG9wZW4gZnVuYyBjaGFuZ2VDdXJyZW50RGlyZWN0b3J5UGF0aChfIHBhdGg6IFN0cmluZykgLT4gQm9vbCB7fQogICAgb3BlbiBmdW5jIGNvbXBvbmVudHNUb0Rpc3BsYXkoZm9yUGF0aCBwYXRoOiBTdHJpbmcpIC0+IFtTdHJpbmddPyB7fQogICAgb3BlbiBmdW5jIGNvbnRlbnRzKGF0UGF0aCBwYXRoOiBTdHJpbmcpIC0+IERhdGE/IHt9CiAgICBvcGVuIGZ1bmMgY29udGVudHNFcXVhbChhdFBhdGggcGF0aDE6IFN0cmluZywgYW5kUGF0aCBwYXRoMjogU3RyaW5nKSAtPiBCb29sIHt9CiAgICBvcGVuIGZ1bmMgY29udGVudHNPZkRpcmVjdG9yeShhdCB1cmw6IFVSTCwgaW5jbHVkaW5nUHJvcGVydGllc0ZvcktleXMga2V5czogW1VSTFJlc291cmNlS2V5XT8sIG9wdGlvbnMgbWFzazogRGlyZWN0b3J5RW51bWVyYXRpb25PcHRpb25zID0geCkgdGhyb3dzIC0+IFtVUkxdIHt9CiAgICBvcGVuIGZ1bmMgY29udGVudHNPZkRpcmVjdG9yeShhdFBhdGggcGF0aDogU3RyaW5nKSB0aHJvd3MgLT4gW1N0cmluZ10ge30KICAgIG9wZW4gZnVuYyBjb3B5SXRlbShhdCBzcmNVUkw6IFVSTCwgdG8gZHN0VVJMOiBVUkwpIHRocm93cyB7fQogICAgb3BlbiBmdW5jIGNvcHlJdGVtKGF0UGF0aCBzcmNQYXRoOiBTdHJpbmcsIHRvUGF0aCBkc3RQYXRoOiBTdHJpbmcpIHRocm93cyB7fQogICAgb3BlbiBmdW5jIGNyZWF0ZURpcmVjdG9yeShhdCB1cmw6IFVSTCwgd2l0aEludGVybWVkaWF0ZURpcmVjdG9yaWVzIGNyZWF0ZUludGVybWVkaWF0ZXM6IEJvb2wsIGF0dHJpYnV0ZXM6IFtGaWxlQXR0cmlidXRlS2V5OiBBbnldPyA9IHgpIHRocm93cyB7fQogICAgb3BlbiBmdW5jIGNyZWF0ZURpcmVjdG9yeShhdFBhdGggcGF0aDogU3RyaW5nLCB3aXRoSW50ZXJtZWRpYXRlRGlyZWN0b3JpZXMgY3JlYXRlSW50ZXJtZWRpYXRlczogQm9vbCwgYXR0cmlidXRlczogW0ZpbGVBdHRyaWJ1dGVLZXk6IEFueV0/ID0geCkgdGhyb3dzIHt9CiAgICBvcGVuIGZ1bmMgY3JlYXRlRmlsZShhdFBhdGggcGF0aDogU3RyaW5nLCBjb250ZW50cyBkYXRhOiBEYXRhPywgYXR0cmlidXRlcyBhdHRyOiBbRmlsZUF0dHJpYnV0ZUtleTogQW55XT8gPSB4KSAtPiBCb29sIHt9CiAgICBvcGVuIGZ1bmMgY3JlYXRlU3ltYm9saWNMaW5rKGF0IHVybDogVVJMLCB3aXRoRGVzdGluYXRpb25VUkwgZGVzdFVSTDogVVJMKSB0aHJvd3Mge30KICAgIG9wZW4gZnVuYyBjcmVhdGVTeW1ib2xpY0xpbmsoYXRQYXRoIHBhdGg6IFN0cmluZywgd2l0aERlc3RpbmF0aW9uUGF0aCBkZXN0UGF0aDogU3RyaW5nKSB0aHJvd3Mge30KICAgIG9wZW4gZnVuYyBkZXN0aW5hdGlvbk9mU3ltYm9saWNMaW5rKGF0UGF0aCBwYXRoOiBTdHJpbmcpIHRocm93cyAtPiBTdHJpbmcge30KICAgIG9wZW4gZnVuYyBkaXNwbGF5TmFtZShhdFBhdGggcGF0aDogU3RyaW5nKSAtPiBTdHJpbmcge30KICAgIG9wZW4gZnVuYyBlbnVtZXJhdG9yKGF0IHVybDogVVJMLCBpbmNsdWRpbmdQcm9wZXJ0aWVzRm9yS2V5cyBrZXlzOiBbVVJMUmVzb3VyY2VLZXldPywgb3B0aW9ucyBtYXNrOiBEaXJlY3RvcnlFbnVtZXJhdGlvbk9wdGlvbnMgPSB4LCBlcnJvckhhbmRsZXIgaGFuZGxlcjogKChVUkwsIEVycm9yKSAtPiBCb29sKT8gPSB4KSAtPiBEaXJlY3RvcnlFbnVtZXJhdG9yPyB7fQogICAgb3BlbiBmdW5jIGVudW1lcmF0b3IoYXRQYXRoIHBhdGg6IFN0cmluZykgLT4gRGlyZWN0b3J5RW51bWVyYXRvcj8ge30KICAgIG9wZW4gZnVuYyBmaWxlRXhpc3RzKGF0UGF0aCBwYXRoOiBTdHJpbmcpIC0+IEJvb2wge30KICAgIG9wZW4gZnVuYyBmaWxlRXhpc3RzKGF0UGF0aCBwYXRoOiBTdHJpbmcsIGlzRGlyZWN0b3J5OiBVbnNhZmVNdXRhYmxlUG9pbnRlcjxPYmpDQm9vbD4/KSAtPiBCb29sIHt9CiAgICBvcGVuIGZ1bmMgZmlsZVN5c3RlbVJlcHJlc2VudGF0aW9uKHdpdGhQYXRoIHBhdGg6IFN0cmluZykgLT4gVW5zYWZlUG9pbnRlcjxJbnQ4PiB7fQogICAgb3BlbiBmdW5jIGdldFJlbGF0aW9uc2hpcChfIG91dFJlbGF0aW9uc2hpcDogVW5zYWZlTXV0YWJsZVBvaW50ZXI8VVJMUmVsYXRpb25zaGlwPiwgb2YgZGlyZWN0b3J5OiBTZWFyY2hQYXRoRGlyZWN0b3J5LCBpbiBkb21haW5NYXNrOiBTZWFyY2hQYXRoRG9tYWluTWFzaywgdG9JdGVtQXQgdXJsOiBVUkwpIHRocm93cyB7fQogICAgb3BlbiBmdW5jIGdldFJlbGF0aW9uc2hpcChfIG91dFJlbGF0aW9uc2hpcDogVW5zYWZlTXV0YWJsZVBvaW50ZXI8VVJMUmVsYXRpb25zaGlwPiwgb2ZEaXJlY3RvcnlBdCBkaXJlY3RvcnlVUkw6IFVSTCwgdG9JdGVtQXQgb3RoZXJVUkw6IFVSTCkgdGhyb3dzIHt9CiAgICBvcGVuIGZ1bmMgaG9tZURpcmVjdG9yeShmb3JVc2VyIHVzZXJOYW1lOiBTdHJpbmcpIC0+IFVSTD8ge30KICAgIG9wZW4gZnVuYyBpc0RlbGV0YWJsZUZpbGUoYXRQYXRoIHBhdGg6IFN0cmluZykgLT4gQm9vbCB7fQogICAgb3BlbiBmdW5jIGlzRXhlY3V0YWJsZUZpbGUoYXRQYXRoIHBhdGg6IFN0cmluZykgLT4gQm9vbCB7fQogICAgb3BlbiBmdW5jIGlzUmVhZGFibGVGaWxlKGF0UGF0aCBwYXRoOiBTdHJpbmcpIC0+IEJvb2wge30KICAgIG9wZW4gZnVuYyBpc1dyaXRhYmxlRmlsZShhdFBhdGggcGF0aDogU3RyaW5nKSAtPiBCb29sIHt9CiAgICBvcGVuIGZ1bmMgbGlua0l0ZW0oYXQgc3JjVVJMOiBVUkwsIHRvIGRzdFVSTDogVVJMKSB0aHJvd3Mge30KICAgIG9wZW4gZnVuYyBsaW5rSXRlbShhdFBhdGggc3JjUGF0aDogU3RyaW5nLCB0b1BhdGggZHN0UGF0aDogU3RyaW5nKSB0aHJvd3Mge30KICAgIG9wZW4gZnVuYyBtb3VudGVkVm9sdW1lVVJMcyhpbmNsdWRpbmdSZXNvdXJjZVZhbHVlc0ZvcktleXMgcHJvcGVydHlLZXlzOiBbVVJMUmVzb3VyY2VLZXldPywgb3B0aW9uczogVm9sdW1lRW51bWVyYXRpb25PcHRpb25zID0geCkgLT4gW1VSTF0/IHt9CiAgICBvcGVuIGZ1bmMgbW92ZUl0ZW0oYXQgc3JjVVJMOiBVUkwsIHRvIGRzdFVSTDogVVJMKSB0aHJvd3Mge30KICAgIG9wZW4gZnVuYyBtb3ZlSXRlbShhdFBhdGggc3JjUGF0aDogU3RyaW5nLCB0b1BhdGggZHN0UGF0aDogU3RyaW5nKSB0aHJvd3Mge30KICAgIG9wZW4gZnVuYyByZW1vdmVJdGVtKGF0IHVybDogVVJMKSB0aHJvd3Mge30KICAgIG9wZW4gZnVuYyByZW1vdmVJdGVtKGF0UGF0aCBwYXRoOiBTdHJpbmcpIHRocm93cyB7fQogICAgb3BlbiBmdW5jIHJlcGxhY2VJdGVtKGF0IG9yaWdpbmFsSXRlbVVSTDogVVJMLCB3aXRoSXRlbUF0IG5ld0l0ZW1VUkw6IFVSTCwgYmFja3VwSXRlbU5hbWU6IFN0cmluZz8sIG9wdGlvbnM6IEl0ZW1SZXBsYWNlbWVudE9wdGlvbnMgPSB4KSB0aHJvd3Mge30KICAgIHB1YmxpYyBmdW5jIHJlcGxhY2VJdGVtQXQoXyBvcmlnaW5hbEl0ZW1VUkw6IFVSTCwgd2l0aEl0ZW1BdCBuZXdJdGVtVVJMOiBVUkwsIGJhY2t1cEl0ZW1OYW1lOiBTdHJpbmc/ID0geCwgb3B0aW9uczogSXRlbVJlcGxhY2VtZW50T3B0aW9ucyA9IHgpIHRocm93cyAtPiBOU1VSTD8ge30KICAgIG9wZW4gZnVuYyBzZXRBdHRyaWJ1dGVzKF8gYXR0cmlidXRlczogW0ZpbGVBdHRyaWJ1dGVLZXk6IEFueV0sIG9mSXRlbUF0UGF0aCBwYXRoOiBTdHJpbmcpIHRocm93cyB7fQogICAgb3BlbiBmdW5jIHN0cmluZyh3aXRoRmlsZVN5c3RlbVJlcHJlc2VudGF0aW9uIHN0cjogVW5zYWZlUG9pbnRlcjxJbnQ4PiwgbGVuZ3RoIGxlbjogSW50KSAtPiBTdHJpbmcge30KICAgIG9wZW4gZnVuYyBzdWJwYXRocyhhdFBhdGggcGF0aDogU3RyaW5nKSAtPiBbU3RyaW5nXT8ge30KICAgIG9wZW4gZnVuYyBzdWJwYXRoc09mRGlyZWN0b3J5KGF0UGF0aCBwYXRoOiBTdHJpbmcpIHRocm93cyAtPiBbU3RyaW5nXSB7fQogICAgb3BlbiBmdW5jIHVybChmb3IgZGlyZWN0b3J5OiBTZWFyY2hQYXRoRGlyZWN0b3J5LCBpbiBkb21haW46IFNlYXJjaFBhdGhEb21haW5NYXNrLCBhcHByb3ByaWF0ZUZvciB1cmw6IFVSTD8sIGNyZWF0ZSBzaG91bGRDcmVhdGU6IEJvb2wpIHRocm93cyAtPiBVUkwge30KICAgIG9wZW4gZnVuYyB1cmxzKGZvciBkaXJlY3Rvcnk6IFNlYXJjaFBhdGhEaXJlY3RvcnksIGluIGRvbWFpbk1hc2s6IFNlYXJjaFBhdGhEb21haW5NYXNrKSAtPiBbVVJMXSB7fQp9Cm9wZW4gY2xhc3MgRm9ybWF0dGVyIDogQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TQ29kaW5nLCBOU0NvcHlpbmcsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBfIHsKICAgIG9wZW4gZnVuYyBlZGl0aW5nU3RyaW5nKGZvciBvYmo6IEFueSkgLT4gU3RyaW5nPyB7fQogICAgb3BlbiBmdW5jIG9iamVjdFZhbHVlKF8gc3RyaW5nOiBTdHJpbmcpIHRocm93cyAtPiBBbnk/IHt9CiAgICBvcGVuIGZ1bmMgc3RyaW5nKGZvciBvYmo6IEFueSkgLT4gU3RyaW5nPyB7fQp9Cm9wZW4gY2xhc3MgSFRUUENvb2tpZSA6IEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCwgXyB7CiAgICBvcGVuIGNsYXNzIGZ1bmMgY29va2llcyh3aXRoUmVzcG9uc2VIZWFkZXJGaWVsZHMgaGVhZGVyRmllbGRzOiBbU3RyaW5nOiBTdHJpbmddLCBmb3IgVVJMOiBVUkwpIC0+IFtIVFRQQ29va2llXSB7fQogICAgb3BlbiBjbGFzcyBmdW5jIHJlcXVlc3RIZWFkZXJGaWVsZHMod2l0aCBjb29raWVzOiBbSFRUUENvb2tpZV0pIC0+IFtTdHJpbmc6IFN0cmluZ10ge30KICAgIHB1YmxpYyBpbml0Pyhwcm9wZXJ0aWVzOiBbSFRUUENvb2tpZVByb3BlcnR5S2V5OiBBbnldKSB7fQogICAgb3BlbiB2YXIgY29tbWVudDogU3RyaW5nPyB7IGdldCB9CiAgICBvcGVuIHZhciBjb21tZW50VVJMOiBVUkw/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGRvbWFpbjogU3RyaW5nIHsgZ2V0IH0KICAgIG9wZW4gdmFyIGV4cGlyZXNEYXRlOiBEYXRlPyB7IGdldCB9CiAgICBvcGVuIHZhciBpc0hUVFBPbmx5OiBCb29sIHsgZ2V0IH0KICAgIG9wZW4gdmFyIGlzU2VjdXJlOiBCb29sIHsgZ2V0IH0KICAgIG9wZW4gdmFyIGlzU2Vzc2lvbk9ubHk6IEJvb2wgeyBnZXQgfQogICAgb3BlbiB2YXIgbmFtZTogU3RyaW5nIHsgZ2V0IH0KICAgIG9wZW4gdmFyIHBhdGg6IFN0cmluZyB7IGdldCB9CiAgICBvcGVuIHZhciBwb3J0TGlzdDogW05TTnVtYmVyXT8geyBnZXQgfQogICAgb3BlbiB2YXIgcHJvcGVydGllczogW0hUVFBDb29raWVQcm9wZXJ0eUtleTogQW55XT8geyBnZXQgfQogICAgb3BlbiB2YXIgdmFsdWU6IFN0cmluZyB7IGdldCB9CiAgICBvcGVuIHZhciB2ZXJzaW9uOiBJbnQgeyBnZXQgfQp9Cm9wZW4gY2xhc3MgSFRUUENvb2tpZVN0b3JhZ2UgOiBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wsIF8gewogICAgb3BlbiBjbGFzcyB2YXIgc2hhcmVkOiBIVFRQQ29va2llU3RvcmFnZSB7IGdldCB9CiAgICBvcGVuIGNsYXNzIGZ1bmMgc2hhcmVkQ29va2llU3RvcmFnZShmb3JHcm91cENvbnRhaW5lcklkZW50aWZpZXIgaWRlbnRpZmllcjogU3RyaW5nKSAtPiBIVFRQQ29va2llU3RvcmFnZSB7fQogICAgb3BlbiB2YXIgY29va2llQWNjZXB0UG9saWN5OiBIVFRQQ29va2llLkFjY2VwdFBvbGljeSB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgY29va2llczogW0hUVFBDb29raWVdPyB7IGdldCB9CiAgICBvcGVuIGZ1bmMgY29va2llcyhmb3IgdXJsOiBVUkwpIC0+IFtIVFRQQ29va2llXT8ge30KICAgIG9wZW4gZnVuYyBkZWxldGVDb29raWUoXyBjb29raWU6IEhUVFBDb29raWUpIHt9CiAgICBvcGVuIGZ1bmMgcmVtb3ZlQ29va2llcyhzaW5jZSBkYXRlOiBEYXRlKSB7fQogICAgb3BlbiBmdW5jIHNldENvb2tpZShfIGNvb2tpZTogSFRUUENvb2tpZSkge30KICAgIG9wZW4gZnVuYyBzZXRDb29raWVzKF8gY29va2llczogW0hUVFBDb29raWVdLCBmb3IgdXJsOiBVUkw/LCBtYWluRG9jdW1lbnRVUkw6IFVSTD8pIHt9CiAgICBvcGVuIGZ1bmMgc29ydGVkQ29va2llcyh1c2luZyBzb3J0T3JkZXI6IFtOU1NvcnREZXNjcmlwdG9yXSkgLT4gW0hUVFBDb29raWVdIHt9Cn0Kb3BlbiBjbGFzcyBIVFRQVVJMUmVzcG9uc2UgOiBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNDb2RpbmcsIE5TQ29weWluZywgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wsIE5TU2VjdXJlQ29kaW5nLCBVUkxSZXNwb25zZSwgXyB7CiAgICBvcGVuIGNsYXNzIGZ1bmMgbG9jYWxpemVkU3RyaW5nKGZvclN0YXR1c0NvZGUgc3RhdHVzQ29kZTogSW50KSAtPiBTdHJpbmcge30KICAgIHB1YmxpYyBpbml0Pyh1cmw6IFVSTCwgc3RhdHVzQ29kZTogSW50LCBodHRwVmVyc2lvbjogU3RyaW5nPywgaGVhZGVyRmllbGRzOiBbU3RyaW5nOiBTdHJpbmddPykge30KICAgIHB1YmxpYyB2YXIgYWxsSGVhZGVyRmllbGRzOiBbQW55SGFzaGFibGU6IEFueV0geyBnZXQgfQogICAgcHVibGljIHZhciBzdGF0dXNDb2RlOiBJbnQgeyBnZXQgfQp9Cm9wZW4gY2xhc3MgSG9zdCA6IEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCwgXyB7CiAgICBvcGVuIGNsYXNzIGZ1bmMgY3VycmVudCgpIC0+IEhvc3Qge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KGFkZHJlc3M6IFN0cmluZykge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KG5hbWU6IFN0cmluZz8pIHt9CiAgICBvcGVuIHZhciBhZGRyZXNzOiBTdHJpbmc/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGFkZHJlc3NlczogW1N0cmluZ10geyBnZXQgfQogICAgb3BlbiB2YXIgbG9jYWxpemVkTmFtZTogU3RyaW5nPyB7IGdldCB9CiAgICBvcGVuIHZhciBuYW1lOiBTdHJpbmc/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIG5hbWVzOiBbU3RyaW5nXSB7IGdldCB9CiAgICBvcGVuIGZ1bmMgaXNFcXVhbCh0byBhSG9zdDogSG9zdCkgLT4gQm9vbCB7fQp9Cm9wZW4gY2xhc3MgSVNPODYwMURhdGVGb3JtYXR0ZXIgOiBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBGb3JtYXR0ZXIsIEhhc2hhYmxlLCBOU0NvZGluZywgTlNDb3B5aW5nLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCwgTlNTZWN1cmVDb2RpbmcsIF8gewogICAgb3BlbiBjbGFzcyBmdW5jIHN0cmluZyhmcm9tIGRhdGU6IERhdGUsIHRpbWVab25lOiBUaW1lWm9uZSwgZm9ybWF0T3B0aW9uczogSVNPODYwMURhdGVGb3JtYXR0ZXIuT3B0aW9ucyA9IHgpIC0+IFN0cmluZyB7fQogICAgb3BlbiB2YXIgZm9ybWF0T3B0aW9uczogSVNPODYwMURhdGVGb3JtYXR0ZXIuT3B0aW9ucyB7IGdldCB9CiAgICBvcGVuIHZhciB0aW1lWm9uZTogVGltZVpvbmUhIHsgZ2V0IH0KICAgIG9wZW4gZnVuYyBkYXRlKGZyb20gc3RyaW5nOiBTdHJpbmcpIC0+IERhdGU/IHt9CiAgICBvcGVuIGZ1bmMgc3RyaW5nKGZyb20gZGF0ZTogRGF0ZSkgLT4gU3RyaW5nIHt9Cn0Kb3BlbiBjbGFzcyBJbnB1dFN0cmVhbSA6IEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCwgU3RyZWFtLCBfIHsKICAgIHB1YmxpYyBpbml0KGRhdGE6IERhdGEpIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdD8oZmlsZUF0UGF0aCBwYXRoOiBTdHJpbmcpIHt9CiAgICBwdWJsaWMgaW5pdD8odXJsOiBVUkwpIHt9CiAgICBvcGVuIHZhciBoYXNCeXRlc0F2YWlsYWJsZTogQm9vbCB7IGdldCB9CiAgICBvcGVuIGZ1bmMgZ2V0QnVmZmVyKF8gYnVmZmVyOiBVbnNhZmVNdXRhYmxlUG9pbnRlcjxVbnNhZmVNdXRhYmxlUG9pbnRlcjxVSW50OD4/PiwgbGVuZ3RoIGxlbjogVW5zYWZlTXV0YWJsZVBvaW50ZXI8SW50PikgLT4gQm9vbCB7fQogICAgb3BlbiBmdW5jIHJlYWQoXyBidWZmZXI6IFVuc2FmZU11dGFibGVQb2ludGVyPFVJbnQ4PiwgbWF4TGVuZ3RoIGxlbjogSW50KSAtPiBJbnQge30KfQpvcGVuIGNsYXNzIEpTT05EZWNvZGVyIHsKICAgIHB1YmxpYyBpbml0KCkge30KICAgIG9wZW4gdmFyIGRhdGFEZWNvZGluZ1N0cmF0ZWd5OiBEYXRhRGVjb2RpbmdTdHJhdGVneSB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgZGF0ZURlY29kaW5nU3RyYXRlZ3k6IERhdGVEZWNvZGluZ1N0cmF0ZWd5IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBrZXlEZWNvZGluZ1N0cmF0ZWd5OiBLZXlEZWNvZGluZ1N0cmF0ZWd5IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBub25Db25mb3JtaW5nRmxvYXREZWNvZGluZ1N0cmF0ZWd5OiBOb25Db25mb3JtaW5nRmxvYXREZWNvZGluZ1N0cmF0ZWd5IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciB1c2VySW5mbzogW0NvZGluZ1VzZXJJbmZvS2V5OiBBbnldIHsgZ2V0IHNldCB9CiAgICBvcGVuIGZ1bmMgZGVjb2RlPFQ+KF8gdHlwZTogVC5UeXBlLCBmcm9tIGRhdGE6IERhdGEpIHRocm93cyAtPiBUIHdoZXJlIFQgOiBEZWNvZGFibGUge30KfQpvcGVuIGNsYXNzIEpTT05FbmNvZGVyIHsKICAgIHB1YmxpYyBpbml0KCkge30KICAgIG9wZW4gdmFyIGRhdGFFbmNvZGluZ1N0cmF0ZWd5OiBEYXRhRW5jb2RpbmdTdHJhdGVneSB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgZGF0ZUVuY29kaW5nU3RyYXRlZ3k6IERhdGVFbmNvZGluZ1N0cmF0ZWd5IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBrZXlFbmNvZGluZ1N0cmF0ZWd5OiBLZXlFbmNvZGluZ1N0cmF0ZWd5IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBub25Db25mb3JtaW5nRmxvYXRFbmNvZGluZ1N0cmF0ZWd5OiBOb25Db25mb3JtaW5nRmxvYXRFbmNvZGluZ1N0cmF0ZWd5IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBvdXRwdXRGb3JtYXR0aW5nOiBPdXRwdXRGb3JtYXR0aW5nIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciB1c2VySW5mbzogW0NvZGluZ1VzZXJJbmZvS2V5OiBBbnldIHsgZ2V0IHNldCB9CiAgICBvcGVuIGZ1bmMgZW5jb2RlPFQ+KF8gdmFsdWU6IFQpIHRocm93cyAtPiBEYXRhIHdoZXJlIFQgOiBFbmNvZGFibGUge30KfQpvcGVuIGNsYXNzIEpTT05TZXJpYWxpemF0aW9uIDogQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBfIHsKICAgIG9wZW4gY2xhc3MgZnVuYyBkYXRhKHdpdGhKU09OT2JqZWN0IHZhbHVlOiBBbnksIG9wdGlvbnMgb3B0OiBXcml0aW5nT3B0aW9ucyA9IHgpIHRocm93cyAtPiBEYXRhIHt9CiAgICBvcGVuIGNsYXNzIGZ1bmMgaXNWYWxpZEpTT05PYmplY3QoXyBvYmo6IEFueSkgLT4gQm9vbCB7fQogICAgb3BlbiBjbGFzcyBmdW5jIGpzb25PYmplY3Qod2l0aCBkYXRhOiBEYXRhLCBvcHRpb25zIG9wdDogUmVhZGluZ09wdGlvbnMgPSB4KSB0aHJvd3MgLT4gQW55IHt9CiAgICBvcGVuIGNsYXNzIGZ1bmMgd3JpdGVKU09OT2JqZWN0KF8gb2JqOiBBbnksIHRvU3RyZWFtIHN0cmVhbTogT3V0cHV0U3RyZWFtLCBvcHRpb25zIG9wdDogV3JpdGluZ09wdGlvbnMpIHRocm93cyAtPiBJbnQge30KfQpvcGVuIGNsYXNzIExlbmd0aEZvcm1hdHRlciA6IEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEZvcm1hdHRlciwgSGFzaGFibGUsIE5TQ29kaW5nLCBOU0NvcHlpbmcsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBfIHsKICAgIG9wZW4gdmFyIGlzRm9yUGVyc29uSGVpZ2h0VXNlOiBCb29sIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBudW1iZXJGb3JtYXR0ZXI6IE51bWJlckZvcm1hdHRlciEgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHVuaXRTdHlsZTogVW5pdFN0eWxlIHsgZ2V0IHNldCB9CiAgICBvcGVuIGZ1bmMgc3RyaW5nKGZyb21NZXRlcnMgbnVtYmVySW5NZXRlcnM6IERvdWJsZSkgLT4gU3RyaW5nIHt9CiAgICBvcGVuIGZ1bmMgc3RyaW5nKGZyb21WYWx1ZSB2YWx1ZTogRG91YmxlLCB1bml0OiBMZW5ndGhGb3JtYXR0ZXIuVW5pdCkgLT4gU3RyaW5nIHt9CiAgICBvcGVuIGZ1bmMgdW5pdFN0cmluZyhmcm9tTWV0ZXJzIG51bWJlckluTWV0ZXJzOiBEb3VibGUsIHVzZWRVbml0IHVuaXRwOiBVbnNhZmVNdXRhYmxlUG9pbnRlcjxVbml0Pj8pIC0+IFN0cmluZyB7fQogICAgb3BlbiBmdW5jIHVuaXRTdHJpbmcoZnJvbVZhbHVlIHZhbHVlOiBEb3VibGUsIHVuaXQ6IFVuaXQpIC0+IFN0cmluZyB7fQp9Cm9wZW4gY2xhc3MgTWFzc0Zvcm1hdHRlciA6IEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEZvcm1hdHRlciwgSGFzaGFibGUsIE5TQ29kaW5nLCBOU0NvcHlpbmcsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBfIHsKICAgIG9wZW4gdmFyIGlzRm9yUGVyc29uTWFzc1VzZTogQm9vbCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgbnVtYmVyRm9ybWF0dGVyOiBOdW1iZXJGb3JtYXR0ZXIhIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciB1bml0U3R5bGU6IFVuaXRTdHlsZSB7IGdldCBzZXQgfQogICAgb3BlbiBmdW5jIHN0cmluZyhmcm9tS2lsb2dyYW1zIG51bWJlckluS2lsb2dyYW1zOiBEb3VibGUpIC0+IFN0cmluZyB7fQogICAgb3BlbiBmdW5jIHN0cmluZyhmcm9tVmFsdWUgdmFsdWU6IERvdWJsZSwgdW5pdDogVW5pdCkgLT4gU3RyaW5nIHt9CiAgICBvcGVuIGZ1bmMgdW5pdFN0cmluZyhmcm9tS2lsb2dyYW1zIG51bWJlckluS2lsb2dyYW1zOiBEb3VibGUsIHVzZWRVbml0IHVuaXRwOiBVbnNhZmVNdXRhYmxlUG9pbnRlcjxVbml0Pj8pIC0+IFN0cmluZyB7fQogICAgb3BlbiBmdW5jIHVuaXRTdHJpbmcoZnJvbVZhbHVlIHZhbHVlOiBEb3VibGUsIHVuaXQ6IFVuaXQpIC0+IFN0cmluZyB7fQogICAgb3BlbiBmdW5jIHVuaXRTdHJpbmdEaXNwbGF5ZWRBZGphY2VudCh0b1ZhbHVlIHZhbHVlOiBEb3VibGUsIHVuaXQ6IFVuaXQpIC0+IFN0cmluZyB7fQp9Cm9wZW4gY2xhc3MgTWVhc3VyZW1lbnRGb3JtYXR0ZXIgOiBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBGb3JtYXR0ZXIsIEhhc2hhYmxlLCBOU0NvZGluZywgTlNDb3B5aW5nLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCwgTlNTZWN1cmVDb2RpbmcsIF8gewogICAgb3BlbiB2YXIgbG9jYWxlOiBMb2NhbGUhIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBudW1iZXJGb3JtYXR0ZXI6IE51bWJlckZvcm1hdHRlciEgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHVuaXRPcHRpb25zOiBNZWFzdXJlbWVudEZvcm1hdHRlci5Vbml0T3B0aW9ucyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgdW5pdFN0eWxlOiBGb3JtYXR0ZXIuVW5pdFN0eWxlIHsgZ2V0IHNldCB9CiAgICBwdWJsaWMgZnVuYyBzdHJpbmc8VW5pdFR5cGU+KGZyb20gbWVhc3VyZW1lbnQ6IE1lYXN1cmVtZW50PFVuaXRUeXBlPikgLT4gU3RyaW5nIHt9Cn0Kb3BlbiBjbGFzcyBNZXNzYWdlUG9ydCA6IEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU0NvZGluZywgTlNDb3B5aW5nLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCwgUG9ydCwgXyB7Cn0Kb3BlbiBjbGFzcyBOU0FmZmluZVRyYW5zZm9ybSA6IEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU0NvZGluZywgTlNDb3B5aW5nLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCwgTlNTZWN1cmVDb2RpbmcsIF8sIF9TdHJ1Y3RUeXBlQnJpZGdlYWJsZSB7CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdCh0cmFuc2Zvcm06IEFmZmluZVRyYW5zZm9ybSkge30KICAgIHB1YmxpYyB2YXIgdHJhbnNmb3JtU3RydWN0OiBOU0FmZmluZVRyYW5zZm9ybVN0cnVjdCB7IGdldCBzZXQgfQogICAgb3BlbiBmdW5jIGFwcGVuZChfIHRyYW5zZm9ybTogQWZmaW5lVHJhbnNmb3JtKSB7fQogICAgb3BlbiBmdW5jIGludmVydCgpIHt9CiAgICBvcGVuIGZ1bmMgcHJlcGVuZChfIHRyYW5zZm9ybTogQWZmaW5lVHJhbnNmb3JtKSB7fQogICAgb3BlbiBmdW5jIHJvdGF0ZShieURlZ3JlZXMgYW5nbGU6IENHRmxvYXQpIHt9CiAgICBvcGVuIGZ1bmMgcm90YXRlKGJ5UmFkaWFucyBhbmdsZTogQ0dGbG9hdCkge30KICAgIG9wZW4gZnVuYyBzY2FsZShieSBzY2FsZTogQ0dGbG9hdCkge30KICAgIG9wZW4gZnVuYyBzY2FsZVgoYnkgc2NhbGVYOiBDR0Zsb2F0LCB5Qnkgc2NhbGVZOiBDR0Zsb2F0KSB7fQogICAgb3BlbiBmdW5jIHRyYW5zZm9ybShfIGFQb2ludDogTlNQb2ludCkgLT4gTlNQb2ludCB7fQogICAgb3BlbiBmdW5jIHRyYW5zZm9ybShfIGFTaXplOiBOU1NpemUpIC0+IE5TU2l6ZSB7fQogICAgb3BlbiBmdW5jIHRyYW5zbGF0ZVgoYnkgZGVsdGFYOiBDR0Zsb2F0LCB5QnkgZGVsdGFZOiBDR0Zsb2F0KSB7fQp9Cm9wZW4gY2xhc3MgTlNBcnJheSA6IEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVJlZmxlY3RhYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBFeHByZXNzaWJsZUJ5QXJyYXlMaXRlcmFsLCBIYXNoYWJsZSwgTlNDb2RpbmcsIE5TQ29weWluZywgTlNNdXRhYmxlQ29weWluZywgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wsIE5TU2VjdXJlQ29kaW5nLCBTZXF1ZW5jZSwgXywgX0NGQnJpZGdlYWJsZSwgX1N0cnVjdFR5cGVCcmlkZ2VhYmxlLCBfU3dpZnRCcmlkZ2VhYmxlIHsKICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KGFycmF5OiBbQW55XSkge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KGFycmF5OiBbQW55XSwgY29weUl0ZW1zOiBCb29sKSB7fQogICAgcHVibGljIHJlcXVpcmVkIGNvbnZlbmllbmNlIGluaXQoYXJyYXlMaXRlcmFsIGVsZW1lbnRzOiBBbnkuLi4pIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdChjb250ZW50c09mIHVybDogVVJMLCBlcnJvcjogVm9pZCkgdGhyb3dzIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdChvYmplY3QgYW5PYmplY3Q6IEFueSkge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KG9iamVjdHMgZWxlbWVudHM6IEFueU9iamVjdC4uLikge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KG9iamVjdHM6IFVuc2FmZVBvaW50ZXI8QW55T2JqZWN0PiwgY291bnQ6IEludCkge30KICAgIG9wZW4gdmFyIGNvdW50OiBJbnQgeyBnZXQgfQogICAgcHVibGljIHZhciBjdXN0b21NaXJyb3I6IE1pcnJvciB7IGdldCB9CiAgICBvcGVuIHZhciBmaXJzdE9iamVjdDogQW55PyB7IGdldCB9CiAgICBvcGVuIHZhciBsYXN0T2JqZWN0OiBBbnk/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHNvcnRlZEFycmF5SGludDogRGF0YSB7IGdldCB9CiAgICBvcGVuIHN1YnNjcmlwdChpZHg6IEludCkgLT4gQW55IHsgZ2V0IH0ge30KICAgIG9wZW4gZnVuYyBhZGRpbmcoXyBhbk9iamVjdDogQW55KSAtPiBbQW55XSB7fQogICAgb3BlbiBmdW5jIGFkZGluZ09iamVjdHMoZnJvbSBvdGhlckFycmF5OiBbQW55XSkgLT4gW0FueV0ge30KICAgIG9wZW4gZnVuYyBjb21wb25lbnRzSm9pbmVkKGJ5IHNlcGFyYXRvcjogU3RyaW5nKSAtPiBTdHJpbmcge30KICAgIG9wZW4gZnVuYyBjb250YWlucyhfIGFuT2JqZWN0OiBBbnkpIC0+IEJvb2wge30KICAgIG9wZW4gZnVuYyBkZXNjcmlwdGlvbih3aXRoTG9jYWxlIGxvY2FsZTogTG9jYWxlPykgLT4gU3RyaW5nIHt9CiAgICBvcGVuIGZ1bmMgZGVzY3JpcHRpb24od2l0aExvY2FsZSBsb2NhbGU6IExvY2FsZT8sIGluZGVudCBsZXZlbDogSW50KSAtPiBTdHJpbmcge30KICAgIG9wZW4gZnVuYyBlbnVtZXJhdGVPYmplY3RzKF8gYmxvY2s6IChBbnksIEludCwgVW5zYWZlTXV0YWJsZVBvaW50ZXI8T2JqQ0Jvb2w+KSAtPiBTd2lmdC5Wb2lkKSB7fQogICAgb3BlbiBmdW5jIGVudW1lcmF0ZU9iamVjdHMoYXQgczogSW5kZXhTZXQsIG9wdGlvbnMgb3B0czogTlNFbnVtZXJhdGlvbk9wdGlvbnMgPSB4LCB1c2luZyBibG9jazogKEFueSwgSW50LCBVbnNhZmVNdXRhYmxlUG9pbnRlcjxPYmpDQm9vbD4pIC0+IFN3aWZ0LlZvaWQpIHt9CiAgICBvcGVuIGZ1bmMgZW51bWVyYXRlT2JqZWN0cyhvcHRpb25zIG9wdHM6IE5TRW51bWVyYXRpb25PcHRpb25zID0geCwgdXNpbmcgYmxvY2s6IChBbnksIEludCwgVW5zYWZlTXV0YWJsZVBvaW50ZXI8T2JqQ0Jvb2w+KSAtPiBTd2lmdC5Wb2lkKSB7fQogICAgb3BlbiBmdW5jIGZpbHRlcmVkKHVzaW5nIHByZWRpY2F0ZTogTlNQcmVkaWNhdGUpIC0+IFtBbnldIHt9CiAgICBvcGVuIGZ1bmMgZmlyc3RPYmplY3RDb21tb24od2l0aCBvdGhlckFycmF5OiBbQW55XSkgLT4gQW55PyB7fQogICAgb3BlbiBmdW5jIGluZGV4KG9mIGFuT2JqZWN0OiBBbnkpIC0+IEludCB7fQogICAgb3BlbiBmdW5jIGluZGV4KG9mIGFuT2JqZWN0OiBBbnksIGluIHJhbmdlOiBOU1JhbmdlKSAtPiBJbnQge30KICAgIG9wZW4gZnVuYyBpbmRleChvZiBvYmo6IEFueSwgaW5Tb3J0ZWRSYW5nZSByOiBOU1JhbmdlLCBvcHRpb25zIG9wdHM6IE5TQmluYXJ5U2VhcmNoaW5nT3B0aW9ucyA9IHgsIHVzaW5nQ29tcGFyYXRvciBjbXA6IChBbnksIEFueSkgLT4gQ29tcGFyaXNvblJlc3VsdCkgLT4gSW50IHt9CiAgICBvcGVuIGZ1bmMgaW5kZXhPZk9iamVjdChhdCBzOiBJbmRleFNldCwgb3B0aW9ucyBvcHRzOiBOU0VudW1lcmF0aW9uT3B0aW9ucyA9IHgsIHBhc3NpbmdUZXN0IHByZWRpY2F0ZTogKEFueSwgSW50LCBVbnNhZmVNdXRhYmxlUG9pbnRlcjxPYmpDQm9vbD4pIC0+IEJvb2wpIC0+IEludCB7fQogICAgb3BlbiBmdW5jIGluZGV4T2ZPYmplY3Qob3B0aW9ucyBvcHRzOiBOU0VudW1lcmF0aW9uT3B0aW9ucyA9IHgsIHBhc3NpbmdUZXN0IHByZWRpY2F0ZTogKEFueSwgSW50LCBVbnNhZmVNdXRhYmxlUG9pbnRlcjxPYmpDQm9vbD4pIC0+IEJvb2wpIC0+IEludCB7fQogICAgb3BlbiBmdW5jIGluZGV4T2ZPYmplY3QocGFzc2luZ1Rlc3QgcHJlZGljYXRlOiAoQW55LCBJbnQsIFVuc2FmZU11dGFibGVQb2ludGVyPE9iakNCb29sPikgLT4gQm9vbCkgLT4gSW50IHt9CiAgICBvcGVuIGZ1bmMgaW5kZXhPZk9iamVjdElkZW50aWNhbCh0byBhbk9iamVjdDogQW55KSAtPiBJbnQge30KICAgIG9wZW4gZnVuYyBpbmRleE9mT2JqZWN0SWRlbnRpY2FsKHRvIGFuT2JqZWN0OiBBbnksIGluIHJhbmdlOiBOU1JhbmdlKSAtPiBJbnQge30KICAgIG9wZW4gZnVuYyBpbmRleGVzT2ZPYmplY3RzKGF0IHM6IEluZGV4U2V0LCBvcHRpb25zIG9wdHM6IE5TRW51bWVyYXRpb25PcHRpb25zID0geCwgcGFzc2luZ1Rlc3QgcHJlZGljYXRlOiAoQW55LCBJbnQsIFVuc2FmZU11dGFibGVQb2ludGVyPE9iakNCb29sPikgLT4gQm9vbCkgLT4gSW5kZXhTZXQge30KICAgIG9wZW4gZnVuYyBpbmRleGVzT2ZPYmplY3RzKG9wdGlvbnMgb3B0czogTlNFbnVtZXJhdGlvbk9wdGlvbnMgPSB4LCBwYXNzaW5nVGVzdCBwcmVkaWNhdGU6IChBbnksIEludCwgVW5zYWZlTXV0YWJsZVBvaW50ZXI8T2JqQ0Jvb2w+KSAtPiBCb29sKSAtPiBJbmRleFNldCB7fQogICAgb3BlbiBmdW5jIGluZGV4ZXNPZk9iamVjdHMocGFzc2luZ1Rlc3QgcHJlZGljYXRlOiAoQW55LCBJbnQsIFVuc2FmZU11dGFibGVQb2ludGVyPE9iakNCb29sPikgLT4gQm9vbCkgLT4gSW5kZXhTZXQge30KICAgIG9wZW4gZnVuYyBpc0VxdWFsKHRvIG90aGVyQXJyYXk6IFtBbnldKSAtPiBCb29sIHt9CiAgICBwdWJsaWMgZnVuYyBtYWtlSXRlcmF0b3IoKSAtPiBJdGVyYXRvciB7fQogICAgb3BlbiBmdW5jIG9iamVjdChhdCBpbmRleDogSW50KSAtPiBBbnkge30KICAgIG9wZW4gZnVuYyBvYmplY3RFbnVtZXJhdG9yKCkgLT4gTlNFbnVtZXJhdG9yIHt9CiAgICBvcGVuIGZ1bmMgb2JqZWN0cyhhdCBpbmRleGVzOiBJbmRleFNldCkgLT4gW0FueV0ge30KICAgIG9wZW4gZnVuYyBwYXRoc01hdGNoaW5nRXh0ZW5zaW9ucyhfIGZpbHRlclR5cGVzOiBbU3RyaW5nXSkgLT4gW1N0cmluZ10ge30KICAgIG9wZW4gZnVuYyByZXZlcnNlT2JqZWN0RW51bWVyYXRvcigpIC0+IE5TRW51bWVyYXRvciB7fQogICAgb3BlbiBmdW5jIHNvcnRlZEFycmF5KF8gY29tcGFyYXRvcjogKEFueSwgQW55LCBVbnNhZmVNdXRhYmxlUmF3UG9pbnRlcj8pIC0+IEludCwgY29udGV4dDogVW5zYWZlTXV0YWJsZVJhd1BvaW50ZXI/KSAtPiBbQW55XSB7fQogICAgb3BlbiBmdW5jIHNvcnRlZEFycmF5KF8gY29tcGFyYXRvcjogKEFueSwgQW55LCBVbnNhZmVNdXRhYmxlUmF3UG9pbnRlcj8pIC0+IEludCwgY29udGV4dDogVW5zYWZlTXV0YWJsZVJhd1BvaW50ZXI/LCBoaW50OiBEYXRhPykgLT4gW0FueV0ge30KICAgIG9wZW4gZnVuYyBzb3J0ZWRBcnJheShjb21wYXJhdG9yIGNtcHRyOiAoQW55LCBBbnkpIC0+IENvbXBhcmlzb25SZXN1bHQpIC0+IFtBbnldIHt9CiAgICBvcGVuIGZ1bmMgc29ydGVkQXJyYXkob3B0aW9ucyBvcHRzOiBOU1NvcnRPcHRpb25zID0geCwgdXNpbmdDb21wYXJhdG9yIGNtcHRyOiAoQW55LCBBbnkpIC0+IENvbXBhcmlzb25SZXN1bHQpIC0+IFtBbnldIHt9CiAgICBwdWJsaWMgZnVuYyBzb3J0ZWRBcnJheSh1c2luZyBzb3J0RGVzY3JpcHRvcnM6IFtOU1NvcnREZXNjcmlwdG9yXSkgLT4gW0FueV0ge30KICAgIG9wZW4gZnVuYyBzdWJhcnJheSh3aXRoIHJhbmdlOiBOU1JhbmdlKSAtPiBbQW55XSB7fQogICAgb3BlbiBmdW5jIHdyaXRlKHRvIHVybDogVVJMKSB0aHJvd3Mge30KfQpvcGVuIGNsYXNzIE5TQXR0cmlidXRlZFN0cmluZyA6IEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU0NvZGluZywgTlNDb3B5aW5nLCBOU011dGFibGVDb3B5aW5nLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCwgTlNTZWN1cmVDb2RpbmcsIF8sIF9DRkJyaWRnZWFibGUgewogICAgcHVibGljIGluaXQoYXR0cmlidXRlZFN0cmluZzogTlNBdHRyaWJ1dGVkU3RyaW5nKSB7fQogICAgcHVibGljIGluaXQoc3RyaW5nOiBTdHJpbmcpIHt9CiAgICBwdWJsaWMgaW5pdChzdHJpbmc6IFN0cmluZywgYXR0cmlidXRlcyBhdHRyczogW05TQXR0cmlidXRlZFN0cmluZ0tleTogQW55XT8gPSB4KSB7fQogICAgb3BlbiB2YXIgbGVuZ3RoOiBJbnQgeyBnZXQgfQogICAgb3BlbiB2YXIgc3RyaW5nOiBTdHJpbmcgeyBnZXQgfQogICAgb3BlbiBmdW5jIGF0dHJpYnV0ZShfIGF0dHJOYW1lOiBOU0F0dHJpYnV0ZWRTdHJpbmdLZXksIGF0IGxvY2F0aW9uOiBJbnQsIGVmZmVjdGl2ZVJhbmdlIHJhbmdlOiBOU1JhbmdlUG9pbnRlcj8pIC0+IEFueT8ge30KICAgIG9wZW4gZnVuYyBhdHRyaWJ1dGUoXyBhdHRyTmFtZTogTlNBdHRyaWJ1dGVkU3RyaW5nS2V5LCBhdCBsb2NhdGlvbjogSW50LCBsb25nZXN0RWZmZWN0aXZlUmFuZ2UgcmFuZ2U6IE5TUmFuZ2VQb2ludGVyPywgaW4gcmFuZ2VMaW1pdDogTlNSYW5nZSkgLT4gQW55PyB7fQogICAgb3BlbiBmdW5jIGF0dHJpYnV0ZWRTdWJzdHJpbmcoZnJvbSByYW5nZTogTlNSYW5nZSkgLT4gTlNBdHRyaWJ1dGVkU3RyaW5nIHt9CiAgICBvcGVuIGZ1bmMgYXR0cmlidXRlcyhhdCBsb2NhdGlvbjogSW50LCBlZmZlY3RpdmVSYW5nZSByYW5nZTogTlNSYW5nZVBvaW50ZXI/KSAtPiBbTlNBdHRyaWJ1dGVkU3RyaW5nS2V5OiBBbnldIHt9CiAgICBvcGVuIGZ1bmMgYXR0cmlidXRlcyhhdCBsb2NhdGlvbjogSW50LCBsb25nZXN0RWZmZWN0aXZlUmFuZ2UgcmFuZ2U6IE5TUmFuZ2VQb2ludGVyPywgaW4gcmFuZ2VMaW1pdDogTlNSYW5nZSkgLT4gW05TQXR0cmlidXRlZFN0cmluZ0tleTogQW55XSB7fQogICAgb3BlbiBmdW5jIGVudW1lcmF0ZUF0dHJpYnV0ZShfIGF0dHJOYW1lOiBOU0F0dHJpYnV0ZWRTdHJpbmdLZXksIGluIGVudW1lcmF0aW9uUmFuZ2U6IE5TUmFuZ2UsIG9wdGlvbnMgb3B0czogTlNBdHRyaWJ1dGVkU3RyaW5nLkVudW1lcmF0aW9uT3B0aW9ucyA9IHgsIHVzaW5nIGJsb2NrOiAoQW55PywgTlNSYW5nZSwgVW5zYWZlTXV0YWJsZVBvaW50ZXI8T2JqQ0Jvb2w+KSAtPiBTd2lmdC5Wb2lkKSB7fQogICAgb3BlbiBmdW5jIGVudW1lcmF0ZUF0dHJpYnV0ZXMoaW4gZW51bWVyYXRpb25SYW5nZTogTlNSYW5nZSwgb3B0aW9ucyBvcHRzOiBOU0F0dHJpYnV0ZWRTdHJpbmcuRW51bWVyYXRpb25PcHRpb25zID0geCwgdXNpbmcgYmxvY2s6IChbTlNBdHRyaWJ1dGVkU3RyaW5nS2V5OiBBbnldLCBOU1JhbmdlLCBVbnNhZmVNdXRhYmxlUG9pbnRlcjxPYmpDQm9vbD4pIC0+IFN3aWZ0LlZvaWQpIHt9CiAgICBvcGVuIGZ1bmMgaXNFcXVhbCh0byBvdGhlcjogTlNBdHRyaWJ1dGVkU3RyaW5nKSAtPiBCb29sIHt9Cn0Kb3BlbiBjbGFzcyBOU0NhY2hlPEtleVR5cGUsIE9iamVjdFR5cGU+IDogQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBfIHsKICAgIG9wZW4gdmFyIGNvdW50TGltaXQ6IEludCB7IGdldCBzZXQgfQogICAgb3BlbiB3ZWFrIHZhciBkZWxlZ2F0ZTogTlNDYWNoZURlbGVnYXRlPyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgZXZpY3RzT2JqZWN0c1dpdGhEaXNjYXJkZWRDb250ZW50OiBCb29sIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBuYW1lOiBTdHJpbmcgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHRvdGFsQ29zdExpbWl0OiBJbnQgeyBnZXQgc2V0IH0KICAgIG9wZW4gZnVuYyBvYmplY3QoZm9yS2V5IGtleTogS2V5VHlwZSkgLT4gT2JqZWN0VHlwZT8ge30KICAgIG9wZW4gZnVuYyByZW1vdmVBbGxPYmplY3RzKCkge30KICAgIG9wZW4gZnVuYyByZW1vdmVPYmplY3QoZm9yS2V5IGtleTogS2V5VHlwZSkge30KICAgIG9wZW4gZnVuYyBzZXRPYmplY3QoXyBvYmo6IE9iamVjdFR5cGUsIGZvcktleSBrZXk6IEtleVR5cGUpIHt9CiAgICBvcGVuIGZ1bmMgc2V0T2JqZWN0KF8gb2JqOiBPYmplY3RUeXBlLCBmb3JLZXkga2V5OiBLZXlUeXBlLCBjb3N0IGc6IEludCkge30KfQpvcGVuIGNsYXNzIE5TQ2FsZW5kYXIgOiBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNDb2RpbmcsIE5TQ29weWluZywgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wsIE5TU2VjdXJlQ29kaW5nLCBfLCBfQ0ZCcmlkZ2VhYmxlLCBfU3RydWN0VHlwZUJyaWRnZWFibGUsIF9Td2lmdEJyaWRnZWFibGUgewogICAgb3BlbiBjbGFzcyB2YXIgYXV0b3VwZGF0aW5nQ3VycmVudDogQ2FsZW5kYXIgeyBnZXQgfQogICAgb3BlbiBjbGFzcyB2YXIgY3VycmVudDogQ2FsZW5kYXIgeyBnZXQgfQogICAgcHVibGljIGluaXQ/KGNhbGVuZGFySWRlbnRpZmllciBpZGVudDogSWRlbnRpZmllcikge30KICAgIHB1YmxpYyBpbml0PyhpZGVudGlmaWVyIGNhbGVuZGFySWRlbnRpZmllckNvbnN0YW50OiBJZGVudGlmaWVyKSB7fQogICAgb3BlbiB2YXIgYW1TeW1ib2w6IFN0cmluZyB7IGdldCB9CiAgICBvcGVuIHZhciBjYWxlbmRhcklkZW50aWZpZXI6IElkZW50aWZpZXIgeyBnZXQgfQogICAgb3BlbiB2YXIgZXJhU3ltYm9sczogW1N0cmluZ10geyBnZXQgfQogICAgb3BlbiB2YXIgZmlyc3RXZWVrZGF5OiBJbnQgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGxvY2FsZTogTG9jYWxlPyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgbG9uZ0VyYVN5bWJvbHM6IFtTdHJpbmddIHsgZ2V0IH0KICAgIG9wZW4gdmFyIG1pbmltdW1EYXlzSW5GaXJzdFdlZWs6IEludCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgbW9udGhTeW1ib2xzOiBbU3RyaW5nXSB7IGdldCB9CiAgICBvcGVuIHZhciBwbVN5bWJvbDogU3RyaW5nIHsgZ2V0IH0KICAgIG9wZW4gdmFyIHF1YXJ0ZXJTeW1ib2xzOiBbU3RyaW5nXSB7IGdldCB9CiAgICBvcGVuIHZhciBzaG9ydE1vbnRoU3ltYm9sczogW1N0cmluZ10geyBnZXQgfQogICAgb3BlbiB2YXIgc2hvcnRRdWFydGVyU3ltYm9sczogW1N0cmluZ10geyBnZXQgfQogICAgb3BlbiB2YXIgc2hvcnRTdGFuZGFsb25lTW9udGhTeW1ib2xzOiBbU3RyaW5nXSB7IGdldCB9CiAgICBvcGVuIHZhciBzaG9ydFN0YW5kYWxvbmVRdWFydGVyU3ltYm9sczogW1N0cmluZ10geyBnZXQgfQogICAgb3BlbiB2YXIgc2hvcnRTdGFuZGFsb25lV2Vla2RheVN5bWJvbHM6IFtTdHJpbmddIHsgZ2V0IH0KICAgIG9wZW4gdmFyIHNob3J0V2Vla2RheVN5bWJvbHM6IFtTdHJpbmddIHsgZ2V0IH0KICAgIG9wZW4gdmFyIHN0YW5kYWxvbmVNb250aFN5bWJvbHM6IFtTdHJpbmddIHsgZ2V0IH0KICAgIG9wZW4gdmFyIHN0YW5kYWxvbmVRdWFydGVyU3ltYm9sczogW1N0cmluZ10geyBnZXQgfQogICAgb3BlbiB2YXIgc3RhbmRhbG9uZVdlZWtkYXlTeW1ib2xzOiBbU3RyaW5nXSB7IGdldCB9CiAgICBvcGVuIHZhciB0aW1lWm9uZTogVGltZVpvbmUgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHZlcnlTaG9ydE1vbnRoU3ltYm9sczogW1N0cmluZ10geyBnZXQgfQogICAgb3BlbiB2YXIgdmVyeVNob3J0U3RhbmRhbG9uZU1vbnRoU3ltYm9sczogW1N0cmluZ10geyBnZXQgfQogICAgb3BlbiB2YXIgdmVyeVNob3J0U3RhbmRhbG9uZVdlZWtkYXlTeW1ib2xzOiBbU3RyaW5nXSB7IGdldCB9CiAgICBvcGVuIHZhciB2ZXJ5U2hvcnRXZWVrZGF5U3ltYm9sczogW1N0cmluZ10geyBnZXQgfQogICAgb3BlbiB2YXIgd2Vla2RheVN5bWJvbHM6IFtTdHJpbmddIHsgZ2V0IH0KICAgIG9wZW4gZnVuYyBjb21wYXJlKF8gZGF0ZTE6IERhdGUsIHRvIGRhdGUyOiBEYXRlLCB0b1VuaXRHcmFudWxhcml0eSB1bml0OiBVbml0KSAtPiBDb21wYXJpc29uUmVzdWx0IHt9CiAgICBvcGVuIGZ1bmMgY29tcG9uZW50KF8gdW5pdDogVW5pdCwgZnJvbSBkYXRlOiBEYXRlKSAtPiBJbnQge30KICAgIG9wZW4gZnVuYyBjb21wb25lbnRzKF8gdW5pdEZsYWdzOiBVbml0LCBmcm9tIGRhdGU6IERhdGUpIC0+IERhdGVDb21wb25lbnRzIHt9CiAgICBvcGVuIGZ1bmMgY29tcG9uZW50cyhfIHVuaXRGbGFnczogVW5pdCwgZnJvbSBzdGFydGluZ0RhdGU6IERhdGUsIHRvIHJlc3VsdERhdGU6IERhdGUsIG9wdGlvbnMgb3B0czogT3B0aW9ucyA9IHgpIC0+IERhdGVDb21wb25lbnRzIHt9CiAgICBvcGVuIGZ1bmMgY29tcG9uZW50cyhpbiB0aW1lem9uZTogVGltZVpvbmUsIGZyb20gZGF0ZTogRGF0ZSkgLT4gRGF0ZUNvbXBvbmVudHMge30KICAgIG9wZW4gZnVuYyBkYXRlKF8gZGF0ZTogRGF0ZSwgbWF0Y2hlc0NvbXBvbmVudHMgY29tcG9uZW50czogRGF0ZUNvbXBvbmVudHMpIC0+IEJvb2wge30KICAgIG9wZW4gZnVuYyBkYXRlKGJ5QWRkaW5nIGNvbXBzOiBEYXRlQ29tcG9uZW50cywgdG8gZGF0ZTogRGF0ZSwgb3B0aW9ucyBvcHRzOiBPcHRpb25zID0geCkgLT4gRGF0ZT8ge30KICAgIG9wZW4gZnVuYyBkYXRlKGJ5QWRkaW5nIHVuaXQ6IFVuaXQsIHZhbHVlOiBJbnQsIHRvIGRhdGU6IERhdGUsIG9wdGlvbnM6IE9wdGlvbnMgPSB4KSAtPiBEYXRlPyB7fQogICAgb3BlbiBmdW5jIGRhdGUoYnlTZXR0aW5nSG91ciBoOiBJbnQsIG1pbnV0ZSBtOiBJbnQsIHNlY29uZCBzOiBJbnQsIG9mIGRhdGU6IERhdGUsIG9wdGlvbnMgb3B0czogT3B0aW9ucyA9IHgpIC0+IERhdGU/IHt9CiAgICBvcGVuIGZ1bmMgZGF0ZShieVNldHRpbmdVbml0IHVuaXQ6IFVuaXQsIHZhbHVlIHY6IEludCwgb2YgZGF0ZTogRGF0ZSwgb3B0aW9ucyBvcHRzOiBPcHRpb25zID0geCkgLT4gRGF0ZT8ge30KICAgIG9wZW4gZnVuYyBkYXRlKGVyYSBlcmFWYWx1ZTogSW50LCB5ZWFyIHllYXJWYWx1ZTogSW50LCBtb250aCBtb250aFZhbHVlOiBJbnQsIGRheSBkYXlWYWx1ZTogSW50LCBob3VyIGhvdXJWYWx1ZTogSW50LCBtaW51dGUgbWludXRlVmFsdWU6IEludCwgc2Vjb25kIHNlY29uZFZhbHVlOiBJbnQsIG5hbm9zZWNvbmQgbmFub3NlY29uZFZhbHVlOiBJbnQpIC0+IERhdGU/IHt9CiAgICBvcGVuIGZ1bmMgZGF0ZShlcmEgZXJhVmFsdWU6IEludCwgeWVhckZvcldlZWtPZlllYXIgeWVhclZhbHVlOiBJbnQsIHdlZWtPZlllYXIgd2Vla1ZhbHVlOiBJbnQsIHdlZWtkYXkgd2Vla2RheVZhbHVlOiBJbnQsIGhvdXIgaG91clZhbHVlOiBJbnQsIG1pbnV0ZSBtaW51dGVWYWx1ZTogSW50LCBzZWNvbmQgc2Vjb25kVmFsdWU6IEludCwgbmFub3NlY29uZCBuYW5vc2Vjb25kVmFsdWU6IEludCkgLT4gRGF0ZT8ge30KICAgIG9wZW4gZnVuYyBkYXRlKGZyb20gY29tcHM6IERhdGVDb21wb25lbnRzKSAtPiBEYXRlPyB7fQogICAgb3BlbiBmdW5jIGVudW1lcmF0ZURhdGVzKHN0YXJ0aW5nQWZ0ZXIgc3RhcnQ6IERhdGUsIG1hdGNoaW5nIGNvbXBzOiBEYXRlQ29tcG9uZW50cywgb3B0aW9ucyBvcHRzOiBOU0NhbGVuZGFyLk9wdGlvbnMgPSB4LCB1c2luZyBibG9jazogKERhdGU/LCBCb29sLCBVbnNhZmVNdXRhYmxlUG9pbnRlcjxPYmpDQm9vbD4pIC0+IFN3aWZ0LlZvaWQpIHt9CiAgICBvcGVuIGZ1bmMgZ2V0RXJhKF8gZXJhVmFsdWVQb2ludGVyOiBVbnNhZmVNdXRhYmxlUG9pbnRlcjxJbnQ+PywgeWVhciB5ZWFyVmFsdWVQb2ludGVyOiBVbnNhZmVNdXRhYmxlUG9pbnRlcjxJbnQ+PywgbW9udGggbW9udGhWYWx1ZVBvaW50ZXI6IFVuc2FmZU11dGFibGVQb2ludGVyPEludD4/LCBkYXkgZGF5VmFsdWVQb2ludGVyOiBVbnNhZmVNdXRhYmxlUG9pbnRlcjxJbnQ+PywgZnJvbSBkYXRlOiBEYXRlKSB7fQogICAgb3BlbiBmdW5jIGdldEVyYShfIGVyYVZhbHVlUG9pbnRlcjogVW5zYWZlTXV0YWJsZVBvaW50ZXI8SW50Pj8sIHllYXJGb3JXZWVrT2ZZZWFyIHllYXJWYWx1ZVBvaW50ZXI6IFVuc2FmZU11dGFibGVQb2ludGVyPEludD4/LCB3ZWVrT2ZZZWFyIHdlZWtWYWx1ZVBvaW50ZXI6IFVuc2FmZU11dGFibGVQb2ludGVyPEludD4/LCB3ZWVrZGF5IHdlZWtkYXlWYWx1ZVBvaW50ZXI6IFVuc2FmZU11dGFibGVQb2ludGVyPEludD4/LCBmcm9tIGRhdGU6IERhdGUpIHt9CiAgICBvcGVuIGZ1bmMgZ2V0SG91cihfIGhvdXJWYWx1ZVBvaW50ZXI6IFVuc2FmZU11dGFibGVQb2ludGVyPEludD4/LCBtaW51dGUgbWludXRlVmFsdWVQb2ludGVyOiBVbnNhZmVNdXRhYmxlUG9pbnRlcjxJbnQ+Pywgc2Vjb25kIHNlY29uZFZhbHVlUG9pbnRlcjogVW5zYWZlTXV0YWJsZVBvaW50ZXI8SW50Pj8sIG5hbm9zZWNvbmQgbmFub3NlY29uZFZhbHVlUG9pbnRlcjogVW5zYWZlTXV0YWJsZVBvaW50ZXI8SW50Pj8sIGZyb20gZGF0ZTogRGF0ZSkge30KICAgIG9wZW4gZnVuYyBpc0RhdGUoXyBkYXRlMTogRGF0ZSwgZXF1YWxUbyBkYXRlMjogRGF0ZSwgdG9Vbml0R3JhbnVsYXJpdHkgdW5pdDogVW5pdCkgLT4gQm9vbCB7fQogICAgb3BlbiBmdW5jIGlzRGF0ZShfIGRhdGUxOiBEYXRlLCBpblNhbWVEYXlBcyBkYXRlMjogRGF0ZSkgLT4gQm9vbCB7fQogICAgb3BlbiBmdW5jIGlzRGF0ZUluVG9kYXkoXyBkYXRlOiBEYXRlKSAtPiBCb29sIHt9CiAgICBvcGVuIGZ1bmMgaXNEYXRlSW5Ub21vcnJvdyhfIGRhdGU6IERhdGUpIC0+IEJvb2wge30KICAgIG9wZW4gZnVuYyBpc0RhdGVJbldlZWtlbmQoXyBkYXRlOiBEYXRlKSAtPiBCb29sIHt9CiAgICBvcGVuIGZ1bmMgaXNEYXRlSW5ZZXN0ZXJkYXkoXyBkYXRlOiBEYXRlKSAtPiBCb29sIHt9CiAgICBvcGVuIGZ1bmMgbWF4aW11bVJhbmdlKG9mIHVuaXQ6IFVuaXQpIC0+IE5TUmFuZ2Uge30KICAgIG9wZW4gZnVuYyBtaW5pbXVtUmFuZ2Uob2YgdW5pdDogVW5pdCkgLT4gTlNSYW5nZSB7fQogICAgb3BlbiBmdW5jIG5leHREYXRlKGFmdGVyIGRhdGU6IERhdGUsIG1hdGNoaW5nIGNvbXBzOiBEYXRlQ29tcG9uZW50cywgb3B0aW9uczogT3B0aW9ucyA9IHgpIC0+IERhdGU/IHt9CiAgICBvcGVuIGZ1bmMgbmV4dERhdGUoYWZ0ZXIgZGF0ZTogRGF0ZSwgbWF0Y2hpbmcgdW5pdDogVW5pdCwgdmFsdWU6IEludCwgb3B0aW9uczogT3B0aW9ucyA9IHgpIC0+IERhdGU/IHt9CiAgICBvcGVuIGZ1bmMgbmV4dERhdGUoYWZ0ZXIgZGF0ZTogRGF0ZSwgbWF0Y2hpbmdIb3VyIGhvdXJWYWx1ZTogSW50LCBtaW51dGUgbWludXRlVmFsdWU6IEludCwgc2Vjb25kIHNlY29uZFZhbHVlOiBJbnQsIG9wdGlvbnM6IE9wdGlvbnMgPSB4KSAtPiBEYXRlPyB7fQogICAgb3BlbiBmdW5jIG5leHRXZWVrZW5kQWZ0ZXIoXyBkYXRlOiBEYXRlLCBvcHRpb25zOiBPcHRpb25zKSAtPiBEYXRlSW50ZXJ2YWw/IHt9CiAgICBvcGVuIGZ1bmMgb3JkaW5hbGl0eShvZiBzbWFsbGVyOiBVbml0LCBpbiBsYXJnZXI6IFVuaXQsIGZvciBkYXRlOiBEYXRlKSAtPiBJbnQge30KICAgIG9wZW4gZnVuYyByYW5nZShvZiB1bml0OiBVbml0LCBmb3IgZGF0ZTogRGF0ZSkgLT4gRGF0ZUludGVydmFsPyB7fQogICAgb3BlbiBmdW5jIHJhbmdlKG9mIHNtYWxsZXI6IFVuaXQsIGluIGxhcmdlcjogVW5pdCwgZm9yIGRhdGU6IERhdGUpIC0+IE5TUmFuZ2Uge30KICAgIG9wZW4gZnVuYyByYW5nZShvZldlZWtlbmRDb250YWluaW5nIGRhdGU6IERhdGUpIC0+IERhdGVJbnRlcnZhbD8ge30KICAgIG9wZW4gZnVuYyBzdGFydE9mRGF5KGZvciBkYXRlOiBEYXRlKSAtPiBEYXRlIHt9Cn0Kb3BlbiBjbGFzcyBOU0NoYXJhY3RlclNldCA6IEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU0NvZGluZywgTlNDb3B5aW5nLCBOU011dGFibGVDb3B5aW5nLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCwgXywgX1N0cnVjdFR5cGVCcmlkZ2VhYmxlLCBfU3dpZnRCcmlkZ2VhYmxlIHsKICAgIG9wZW4gY2xhc3MgdmFyIGFscGhhbnVtZXJpY3M6IENoYXJhY3RlclNldCB7IGdldCB9CiAgICBvcGVuIGNsYXNzIHZhciBjYXBpdGFsaXplZExldHRlcnM6IENoYXJhY3RlclNldCB7IGdldCB9CiAgICBvcGVuIGNsYXNzIHZhciBjb250cm9sQ2hhcmFjdGVyczogQ2hhcmFjdGVyU2V0IHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgdmFyIGRlY2ltYWxEaWdpdHM6IENoYXJhY3RlclNldCB7IGdldCB9CiAgICBvcGVuIGNsYXNzIHZhciBkZWNvbXBvc2FibGVzOiBDaGFyYWN0ZXJTZXQgeyBnZXQgfQogICAgb3BlbiBjbGFzcyB2YXIgaWxsZWdhbENoYXJhY3RlcnM6IENoYXJhY3RlclNldCB7IGdldCB9CiAgICBwdWJsaWMgY2xhc3MgdmFyIGxldHRlcnM6IENoYXJhY3RlclNldCB7IGdldCB9CiAgICBvcGVuIGNsYXNzIHZhciBsb3dlcmNhc2VMZXR0ZXJzOiBDaGFyYWN0ZXJTZXQgeyBnZXQgfQogICAgb3BlbiBjbGFzcyB2YXIgbmV3bGluZXM6IENoYXJhY3RlclNldCB7IGdldCB9CiAgICBvcGVuIGNsYXNzIHZhciBub25CYXNlQ2hhcmFjdGVyczogQ2hhcmFjdGVyU2V0IHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgdmFyIHB1bmN0dWF0aW9uQ2hhcmFjdGVyczogQ2hhcmFjdGVyU2V0IHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgdmFyIHN5bWJvbHM6IENoYXJhY3RlclNldCB7IGdldCB9CiAgICBvcGVuIGNsYXNzIHZhciB1cHBlcmNhc2VMZXR0ZXJzOiBDaGFyYWN0ZXJTZXQgeyBnZXQgfQogICAgb3BlbiBjbGFzcyB2YXIgdXJsRnJhZ21lbnRBbGxvd2VkOiBDaGFyYWN0ZXJTZXQgeyBnZXQgfQogICAgb3BlbiBjbGFzcyB2YXIgdXJsSG9zdEFsbG93ZWQ6IENoYXJhY3RlclNldCB7IGdldCB9CiAgICBvcGVuIGNsYXNzIHZhciB1cmxQYXNzd29yZEFsbG93ZWQ6IENoYXJhY3RlclNldCB7IGdldCB9CiAgICBvcGVuIGNsYXNzIHZhciB1cmxQYXRoQWxsb3dlZDogQ2hhcmFjdGVyU2V0IHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgdmFyIHVybFF1ZXJ5QWxsb3dlZDogQ2hhcmFjdGVyU2V0IHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgdmFyIHVybFVzZXJBbGxvd2VkOiBDaGFyYWN0ZXJTZXQgeyBnZXQgfQogICAgb3BlbiBjbGFzcyB2YXIgd2hpdGVzcGFjZXM6IENoYXJhY3RlclNldCB7IGdldCB9CiAgICBvcGVuIGNsYXNzIHZhciB3aGl0ZXNwYWNlc0FuZE5ld2xpbmVzOiBDaGFyYWN0ZXJTZXQgeyBnZXQgfQogICAgcHVibGljIGluaXQoYml0bWFwUmVwcmVzZW50YXRpb24gZGF0YTogRGF0YSkge30KICAgIHB1YmxpYyBpbml0KGNoYXJhY3RlcnNJbiBhU3RyaW5nOiBTdHJpbmcpIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdD8oY29udGVudHNPZkZpbGUgZk5hbWU6IFN0cmluZykge30KICAgIHB1YmxpYyBpbml0KHJhbmdlIGFSYW5nZTogTlNSYW5nZSkge30KICAgIG9wZW4gdmFyIGJpdG1hcFJlcHJlc2VudGF0aW9uOiBEYXRhIHsgZ2V0IH0KICAgIG9wZW4gdmFyIGludmVydGVkOiBDaGFyYWN0ZXJTZXQgeyBnZXQgfQogICAgb3BlbiBmdW5jIGNoYXJhY3RlcklzTWVtYmVyKF8gYUNoYXJhY3RlcjogdW5pY2hhcikgLT4gQm9vbCB7fQogICAgb3BlbiBmdW5jIGhhc01lbWJlckluUGxhbmUoXyB0aGVQbGFuZTogVUludDgpIC0+IEJvb2wge30KICAgIG9wZW4gZnVuYyBpc1N1cGVyc2V0KG9mIHRoZU90aGVyU2V0OiBDaGFyYWN0ZXJTZXQpIC0+IEJvb2wge30KICAgIG9wZW4gZnVuYyBsb25nQ2hhcmFjdGVySXNNZW1iZXIoXyB0aGVMb25nQ2hhcjogVUludDMyKSAtPiBCb29sIHt9Cn0Kb3BlbiBjbGFzcyBOU0NvZGVyIDogQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBfIHsKICAgIG9wZW4gdmFyIGFsbG93ZWRDbGFzc2VzOiBbQW55Q2xhc3NdPyB7IGdldCB9CiAgICBvcGVuIHZhciBhbGxvd3NLZXllZENvZGluZzogQm9vbCB7IGdldCB9CiAgICBvcGVuIHZhciBkZWNvZGluZ0ZhaWx1cmVQb2xpY3k6IE5TQ29kZXIuRGVjb2RpbmdGYWlsdXJlUG9saWN5IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGVycm9yOiBFcnJvcj8geyBnZXQgfQogICAgb3BlbiB2YXIgcmVxdWlyZXNTZWN1cmVDb2Rpbmc6IEJvb2wgeyBnZXQgfQogICAgb3BlbiB2YXIgc3lzdGVtVmVyc2lvbjogVUludDMyIHsgZ2V0IH0KICAgIG9wZW4gZnVuYyBjb250YWluc1ZhbHVlKGZvcktleSBrZXk6IFN0cmluZykgLT4gQm9vbCB7fQogICAgb3BlbiBmdW5jIGRlY29kZUFycmF5KG9mT2JqQ1R5cGUgaXRlbVR5cGU6IFVuc2FmZVBvaW50ZXI8SW50OD4sIGNvdW50OiBJbnQsIGF0IGFycmF5OiBVbnNhZmVNdXRhYmxlUmF3UG9pbnRlcikge30KICAgIG9wZW4gZnVuYyBkZWNvZGVCb29sKGZvcktleSBrZXk6IFN0cmluZykgLT4gQm9vbCB7fQogICAgb3BlbiBmdW5jIGRlY29kZUNJbnQoZm9yS2V5IGtleTogU3RyaW5nKSAtPiBJbnQzMiB7fQogICAgb3BlbiBmdW5jIGRlY29kZURhdGEoKSAtPiBEYXRhPyB7fQogICAgb3BlbiBmdW5jIGRlY29kZURvdWJsZShmb3JLZXkga2V5OiBTdHJpbmcpIC0+IERvdWJsZSB7fQogICAgb3BlbiBmdW5jIGRlY29kZUZsb2F0KGZvcktleSBrZXk6IFN0cmluZykgLT4gRmxvYXQge30KICAgIG9wZW4gZnVuYyBkZWNvZGVJbnQzMihmb3JLZXkga2V5OiBTdHJpbmcpIC0+IEludDMyIHt9CiAgICBvcGVuIGZ1bmMgZGVjb2RlSW50NjQoZm9yS2V5IGtleTogU3RyaW5nKSAtPiBJbnQ2NCB7fQogICAgb3BlbiBmdW5jIGRlY29kZUludGVnZXIoZm9yS2V5IGtleTogU3RyaW5nKSAtPiBJbnQge30KICAgIG9wZW4gZnVuYyBkZWNvZGVPYmplY3QoKSAtPiBBbnk/IHt9CiAgICBvcGVuIGZ1bmMgZGVjb2RlT2JqZWN0KGZvcktleSBrZXk6IFN0cmluZykgLT4gQW55PyB7fQogICAgb3BlbiBmdW5jIGRlY29kZU9iamVjdChvZiBjbGFzc2VzOiBbQW55Q2xhc3NdPywgZm9yS2V5IGtleTogU3RyaW5nKSAtPiBBbnk/IHt9CiAgICBwdWJsaWMgZnVuYyBkZWNvZGVQb2ludCgpIC0+IE5TUG9pbnQge30KICAgIHB1YmxpYyBmdW5jIGRlY29kZVBvaW50KGZvcktleSBrZXk6IFN0cmluZykgLT4gTlNQb2ludCB7fQogICAgb3BlbiBmdW5jIGRlY29kZVByb3BlcnR5TGlzdCgpIC0+IEFueT8ge30KICAgIG9wZW4gZnVuYyBkZWNvZGVQcm9wZXJ0eUxpc3QoZm9yS2V5IGtleTogU3RyaW5nKSAtPiBBbnk/IHt9CiAgICBwdWJsaWMgZnVuYyBkZWNvZGVSZWN0KCkgLT4gTlNSZWN0IHt9CiAgICBwdWJsaWMgZnVuYyBkZWNvZGVSZWN0KGZvcktleSBrZXk6IFN0cmluZykgLT4gTlNSZWN0IHt9CiAgICBwdWJsaWMgZnVuYyBkZWNvZGVTaXplKCkgLT4gTlNTaXplIHt9CiAgICBwdWJsaWMgZnVuYyBkZWNvZGVTaXplKGZvcktleSBrZXk6IFN0cmluZykgLT4gTlNTaXplIHt9CiAgICBvcGVuIGZ1bmMgZGVjb2RlVG9wTGV2ZWxPYmplY3QoKSB0aHJvd3MgLT4gQW55PyB7fQogICAgb3BlbiBmdW5jIGRlY29kZVRvcExldmVsT2JqZWN0KGZvcktleSBrZXk6IFN0cmluZykgdGhyb3dzIC0+IEFueT8ge30KICAgIG9wZW4gZnVuYyBkZWNvZGVUb3BMZXZlbE9iamVjdChvZiBjbGFzc2VzOiBbQW55Q2xhc3NdLCBmb3JLZXkga2V5OiBTdHJpbmcpIHRocm93cyAtPiBBbnk/IHt9CiAgICBvcGVuIGZ1bmMgZGVjb2RlVmFsdWUob2ZPYmpDVHlwZSB0eXBlOiBVbnNhZmVQb2ludGVyPEludDg+LCBhdCBkYXRhOiBVbnNhZmVNdXRhYmxlUmF3UG9pbnRlcikge30KICAgIG9wZW4gZnVuYyBlbmNvZGUoXyBkYXRhOiBEYXRhKSB7fQogICAgb3BlbiBmdW5jIGVuY29kZShfIG9iamVjdDogQW55Pykge30KICAgIG9wZW4gZnVuYyBlbmNvZGUoXyBib29sdjogQm9vbCwgZm9yS2V5IGtleTogU3RyaW5nKSB7fQogICAgb3BlbiBmdW5jIGVuY29kZShfIGludHY6IEludCwgZm9yS2V5IGtleTogU3RyaW5nKSB7fQogICAgb3BlbiBmdW5jIGVuY29kZShfIGludHY6IEludDMyLCBmb3JLZXkga2V5OiBTdHJpbmcpIHt9CiAgICBvcGVuIGZ1bmMgZW5jb2RlKF8gaW50djogSW50NjQsIGZvcktleSBrZXk6IFN0cmluZykge30KICAgIG9wZW4gZnVuYyBlbmNvZGUoXyBvYmp2OiBBbnk/LCBmb3JLZXkga2V5OiBTdHJpbmcpIHt9CiAgICBvcGVuIGZ1bmMgZW5jb2RlKF8gcmVhbHY6IERvdWJsZSwgZm9yS2V5IGtleTogU3RyaW5nKSB7fQogICAgb3BlbiBmdW5jIGVuY29kZUFycmF5KG9mT2JqQ1R5cGUgdHlwZTogVW5zYWZlUG9pbnRlcjxJbnQ4PiwgY291bnQ6IEludCwgYXQgYXJyYXk6IFVuc2FmZVJhd1BvaW50ZXIpIHt9CiAgICBvcGVuIGZ1bmMgZW5jb2RlQnljb3B5T2JqZWN0KF8gYW5PYmplY3Q6IEFueT8pIHt9CiAgICBvcGVuIGZ1bmMgZW5jb2RlQnlyZWZPYmplY3QoXyBhbk9iamVjdDogQW55Pykge30KICAgIG9wZW4gZnVuYyBlbmNvZGVCeXRlcyhfIGJ5dGVhZGRyOiBVbnNhZmVSYXdQb2ludGVyPywgbGVuZ3RoOiBJbnQpIHt9CiAgICBvcGVuIGZ1bmMgZW5jb2RlQnl0ZXMoXyBieXRlc3A6IFVuc2FmZVBvaW50ZXI8VUludDg+PywgbGVuZ3RoIGxlbnY6IEludCwgZm9yS2V5IGtleTogU3RyaW5nKSB7fQogICAgb3BlbiBmdW5jIGVuY29kZUNvbmRpdGlvbmFsT2JqZWN0KF8gb2JqZWN0OiBBbnk/KSB7fQogICAgb3BlbiBmdW5jIGVuY29kZUNvbmRpdGlvbmFsT2JqZWN0KF8gb2JqdjogQW55PywgZm9yS2V5IGtleTogU3RyaW5nKSB7fQogICAgb3BlbiBmdW5jIGVuY29kZVByb3BlcnR5TGlzdChfIGFQcm9wZXJ0eUxpc3Q6IEFueSkge30KICAgIG9wZW4gZnVuYyBlbmNvZGVSb290T2JqZWN0KF8gcm9vdE9iamVjdDogQW55KSB7fQogICAgb3BlbiBmdW5jIGVuY29kZVZhbHVlKG9mT2JqQ1R5cGUgdHlwZTogVW5zYWZlUG9pbnRlcjxJbnQ4PiwgYXQgYWRkcjogVW5zYWZlUmF3UG9pbnRlcikge30KICAgIG9wZW4gZnVuYyBmYWlsV2l0aEVycm9yKF8gZXJyb3I6IEVycm9yKSB7fQogICAgb3BlbiBmdW5jIHZlcnNpb24oZm9yQ2xhc3NOYW1lIGNsYXNzTmFtZTogU3RyaW5nKSAtPiBJbnQge30KICAgIG9wZW4gZnVuYyB3aXRoRGVjb2RlZFVuc2FmZUJ1ZmZlclBvaW50ZXI8UmVzdWx0VHlwZT4oZm9yS2V5IGtleTogU3RyaW5nLCBib2R5OiAoVW5zYWZlQnVmZmVyUG9pbnRlcjxVSW50OD4/KSB0aHJvd3MgLT4gUmVzdWx0VHlwZSkgcmV0aHJvd3MgLT4gUmVzdWx0VHlwZSB7fQp9Cm9wZW4gY2xhc3MgTlNDb21wYXJpc29uUHJlZGljYXRlIDogQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TQ29kaW5nLCBOU0NvcHlpbmcsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBOU1ByZWRpY2F0ZSwgTlNTZWN1cmVDb2RpbmcsIF8gewogICAgcHVibGljIGluaXQobGVmdEV4cHJlc3Npb24gbGhzOiBOU0V4cHJlc3Npb24sIHJpZ2h0RXhwcmVzc2lvbiByaHM6IE5TRXhwcmVzc2lvbiwgbW9kaWZpZXI6IE1vZGlmaWVyLCB0eXBlOiBPcGVyYXRvciwgb3B0aW9uczogT3B0aW9ucykge30KICAgIG9wZW4gdmFyIGNvbXBhcmlzb25QcmVkaWNhdGVNb2RpZmllcjogTW9kaWZpZXIgeyBnZXQgfQogICAgb3BlbiB2YXIgbGVmdEV4cHJlc3Npb246IE5TRXhwcmVzc2lvbiB7IGdldCB9CiAgICBvcGVuIHZhciBvcHRpb25zOiBPcHRpb25zIHsgZ2V0IH0KICAgIG9wZW4gdmFyIHByZWRpY2F0ZU9wZXJhdG9yVHlwZTogT3BlcmF0b3IgeyBnZXQgfQogICAgb3BlbiB2YXIgcmlnaHRFeHByZXNzaW9uOiBOU0V4cHJlc3Npb24geyBnZXQgfQp9Cm9wZW4gY2xhc3MgTlNDb21wb3VuZFByZWRpY2F0ZSA6IEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU0NvZGluZywgTlNDb3B5aW5nLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCwgTlNQcmVkaWNhdGUsIE5TU2VjdXJlQ29kaW5nLCBfIHsKICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KGFuZFByZWRpY2F0ZVdpdGhTdWJwcmVkaWNhdGVzIHN1YnByZWRpY2F0ZXM6IFtOU1ByZWRpY2F0ZV0pIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdChub3RQcmVkaWNhdGVXaXRoU3VicHJlZGljYXRlIHByZWRpY2F0ZTogTlNQcmVkaWNhdGUpIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdChvclByZWRpY2F0ZVdpdGhTdWJwcmVkaWNhdGVzIHN1YnByZWRpY2F0ZXM6IFtOU1ByZWRpY2F0ZV0pIHt9CiAgICBwdWJsaWMgaW5pdCh0eXBlOiBMb2dpY2FsVHlwZSwgc3VicHJlZGljYXRlczogW05TUHJlZGljYXRlXSkge30KICAgIG9wZW4gdmFyIGNvbXBvdW5kUHJlZGljYXRlVHlwZTogTG9naWNhbFR5cGUgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHN1YnByZWRpY2F0ZXM6IFtOU1ByZWRpY2F0ZV0geyBnZXQgc2V0IH0KfQpvcGVuIGNsYXNzIE5TQ29uZGl0aW9uIDogQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TTG9ja2luZywgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wsIF8gewogICAgb3BlbiB2YXIgbmFtZTogU3RyaW5nPyB7IGdldCBzZXQgfQogICAgb3BlbiBmdW5jIGJyb2FkY2FzdCgpIHt9CiAgICBvcGVuIGZ1bmMgc2lnbmFsKCkge30KICAgIG9wZW4gZnVuYyB3YWl0KCkge30KICAgIG9wZW4gZnVuYyB3YWl0KHVudGlsIGxpbWl0OiBEYXRlKSAtPiBCb29sIHt9Cn0Kb3BlbiBjbGFzcyBOU0NvbmRpdGlvbkxvY2sgOiBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNMb2NraW5nLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCwgXyB7CiAgICBwdWJsaWMgaW5pdChjb25kaXRpb246IEludCkge30KICAgIG9wZW4gdmFyIGNvbmRpdGlvbjogSW50IHsgZ2V0IH0KICAgIG9wZW4gdmFyIG5hbWU6IFN0cmluZz8geyBnZXQgc2V0IH0KICAgIG9wZW4gZnVuYyBsb2NrKGJlZm9yZSBsaW1pdDogRGF0ZSkgLT4gQm9vbCB7fQogICAgb3BlbiBmdW5jIGxvY2sod2hlbkNvbmRpdGlvbiBjb25kaXRpb246IEludCkge30KICAgIG9wZW4gZnVuYyBsb2NrKHdoZW5Db25kaXRpb24gY29uZGl0aW9uOiBJbnQsIGJlZm9yZSBsaW1pdDogRGF0ZSkgLT4gQm9vbCB7fQogICAgb3BlbiBmdW5jIHRyeSgpIC0+IEJvb2wge30KICAgIG9wZW4gZnVuYyB0cnlMb2NrKHdoZW5Db25kaXRpb24gY29uZGl0aW9uOiBJbnQpIC0+IEJvb2wge30KICAgIG9wZW4gZnVuYyB1bmxvY2sod2l0aENvbmRpdGlvbiBjb25kaXRpb246IEludCkge30KfQpvcGVuIGNsYXNzIE5TQ291bnRlZFNldCA6IEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVJlZmxlY3RhYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNDb2RpbmcsIE5TQ29weWluZywgTlNNdXRhYmxlQ29weWluZywgTlNNdXRhYmxlU2V0LCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCwgTlNTZWN1cmVDb2RpbmcsIE5TU2V0LCBTZXF1ZW5jZSwgXywgX0NGQnJpZGdlYWJsZSwgX1N0cnVjdFR5cGVCcmlkZ2VhYmxlLCBfU3dpZnRCcmlkZ2VhYmxlIHsKICAgIG9wZW4gZnVuYyBjb3VudChmb3Igb2JqZWN0OiBBbnkpIC0+IEludCB7fQp9Cm9wZW4gY2xhc3MgTlNEYXRhIDogQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TQ29kaW5nLCBOU0NvcHlpbmcsIE5TTXV0YWJsZUNvcHlpbmcsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBOU1NlY3VyZUNvZGluZywgXywgX0NGQnJpZGdlYWJsZSwgX0hhc0N1c3RvbUFueUhhc2hhYmxlUmVwcmVzZW50YXRpb24sIF9TdHJ1Y3RUeXBlQnJpZGdlYWJsZSwgX1N3aWZ0QnJpZGdlYWJsZSB7CiAgICBwdWJsaWMgaW5pdD8oYmFzZTY0RW5jb2RlZCBiYXNlNjREYXRhOiBEYXRhLCBvcHRpb25zOiBCYXNlNjREZWNvZGluZ09wdGlvbnMgPSB4KSB7fQogICAgcHVibGljIGluaXQ/KGJhc2U2NEVuY29kZWQgYmFzZTY0U3RyaW5nOiBTdHJpbmcsIG9wdGlvbnM6IEJhc2U2NERlY29kaW5nT3B0aW9ucyA9IHgpIHt9CiAgICBwdWJsaWMgaW5pdChieXRlczogVW5zYWZlUmF3UG9pbnRlcj8sIGxlbmd0aDogSW50KSB7fQogICAgcHVibGljIGluaXQoYnl0ZXNOb0NvcHkgYnl0ZXM6IFVuc2FmZU11dGFibGVSYXdQb2ludGVyLCBsZW5ndGg6IEludCkge30KICAgIHB1YmxpYyBpbml0KGJ5dGVzTm9Db3B5IGJ5dGVzOiBVbnNhZmVNdXRhYmxlUmF3UG9pbnRlciwgbGVuZ3RoOiBJbnQsIGRlYWxsb2NhdG9yOiAoKFVuc2FmZU11dGFibGVSYXdQb2ludGVyLCBJbnQpIC0+IFZvaWQpPyA9IHgpIHt9CiAgICBwdWJsaWMgaW5pdChieXRlc05vQ29weSBieXRlczogVW5zYWZlTXV0YWJsZVJhd1BvaW50ZXIsIGxlbmd0aDogSW50LCBmcmVlV2hlbkRvbmU6IEJvb2wpIHt9CiAgICBwdWJsaWMgaW5pdD8oY29udGVudHNPZiB1cmw6IFVSTCkge30KICAgIHB1YmxpYyBpbml0KGNvbnRlbnRzT2YgdXJsOiBVUkwsIG9wdGlvbnMgcmVhZE9wdGlvbnNNYXNrOiBSZWFkaW5nT3B0aW9ucyA9IHgpIHRocm93cyB7fQogICAgcHVibGljIGluaXQ/KGNvbnRlbnRzT2ZGaWxlIHBhdGg6IFN0cmluZykge30KICAgIHB1YmxpYyBpbml0KGNvbnRlbnRzT2ZGaWxlIHBhdGg6IFN0cmluZywgb3B0aW9ucyByZWFkT3B0aW9uc01hc2s6IFJlYWRpbmdPcHRpb25zID0geCkgdGhyb3dzIHt9CiAgICBwdWJsaWMgaW5pdChkYXRhOiBEYXRhKSB7fQogICAgb3BlbiB2YXIgYnl0ZXM6IFVuc2FmZVJhd1BvaW50ZXIgeyBnZXQgfQogICAgb3BlbiB2YXIgbGVuZ3RoOiBJbnQgeyBnZXQgfQogICAgb3BlbiBmdW5jIGJhc2U2NEVuY29kZWREYXRhKG9wdGlvbnM6IEJhc2U2NEVuY29kaW5nT3B0aW9ucyA9IHgpIC0+IERhdGEge30KICAgIG9wZW4gZnVuYyBiYXNlNjRFbmNvZGVkU3RyaW5nKG9wdGlvbnM6IEJhc2U2NEVuY29kaW5nT3B0aW9ucyA9IHgpIC0+IFN0cmluZyB7fQogICAgb3BlbiBmdW5jIGVudW1lcmF0ZUJ5dGVzKF8gYmxvY2s6IChVbnNhZmVSYXdQb2ludGVyLCBOU1JhbmdlLCBVbnNhZmVNdXRhYmxlUG9pbnRlcjxCb29sPikgLT4gVm9pZCkge30KICAgIG9wZW4gZnVuYyBnZXRCeXRlcyhfIGJ1ZmZlcjogVW5zYWZlTXV0YWJsZVJhd1BvaW50ZXIsIGxlbmd0aDogSW50KSB7fQogICAgb3BlbiBmdW5jIGdldEJ5dGVzKF8gYnVmZmVyOiBVbnNhZmVNdXRhYmxlUmF3UG9pbnRlciwgcmFuZ2U6IE5TUmFuZ2UpIHt9CiAgICBvcGVuIGZ1bmMgaXNFcXVhbCh0byBvdGhlcjogRGF0YSkgLT4gQm9vbCB7fQogICAgb3BlbiBmdW5jIHJhbmdlKG9mIGRhdGFUb0ZpbmQ6IERhdGEsIG9wdGlvbnMgbWFzazogU2VhcmNoT3B0aW9ucyA9IHgsIGluIHNlYXJjaFJhbmdlOiBOU1JhbmdlKSAtPiBOU1JhbmdlIHt9CiAgICBvcGVuIGZ1bmMgc3ViZGF0YSh3aXRoIHJhbmdlOiBOU1JhbmdlKSAtPiBEYXRhIHt9CiAgICBvcGVuIGZ1bmMgd3JpdGUodG8gdXJsOiBVUkwsIGF0b21pY2FsbHk6IEJvb2wpIC0+IEJvb2wge30KICAgIG9wZW4gZnVuYyB3cml0ZSh0byB1cmw6IFVSTCwgb3B0aW9ucyB3cml0ZU9wdGlvbnNNYXNrOiBXcml0aW5nT3B0aW9ucyA9IHgpIHRocm93cyB7fQogICAgb3BlbiBmdW5jIHdyaXRlKHRvRmlsZSBwYXRoOiBTdHJpbmcsIGF0b21pY2FsbHkgdXNlQXV4aWxpYXJ5RmlsZTogQm9vbCkgLT4gQm9vbCB7fQogICAgb3BlbiBmdW5jIHdyaXRlKHRvRmlsZSBwYXRoOiBTdHJpbmcsIG9wdGlvbnMgd3JpdGVPcHRpb25zTWFzazogV3JpdGluZ09wdGlvbnMgPSB4KSB0aHJvd3Mge30KfQpvcGVuIGNsYXNzIE5TRGF0ZSA6IEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU0NvZGluZywgTlNDb3B5aW5nLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCwgTlNTZWN1cmVDb2RpbmcsIF8sIF9DRkJyaWRnZWFibGUsIF9TdHJ1Y3RUeXBlQnJpZGdlYWJsZSwgX1N3aWZ0QnJpZGdlYWJsZSB7CiAgICBvcGVuIGNsYXNzIHZhciBkaXN0YW50RnV0dXJlOiBEYXRlIHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgdmFyIGRpc3RhbnRQYXN0OiBEYXRlIHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgdmFyIHRpbWVJbnRlcnZhbFNpbmNlUmVmZXJlbmNlRGF0ZTogVGltZUludGVydmFsIHsgZ2V0IH0KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KHRpbWVJbnRlcnZhbCBzZWNzVG9CZUFkZGVkOiBUaW1lSW50ZXJ2YWwsIHNpbmNlIGRhdGU6IERhdGUpIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdCh0aW1lSW50ZXJ2YWxTaW5jZTE5NzAgc2VjczogVGltZUludGVydmFsKSB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQodGltZUludGVydmFsU2luY2VOb3cgc2VjczogVGltZUludGVydmFsKSB7fQogICAgcHVibGljIHJlcXVpcmVkIGluaXQodGltZUludGVydmFsU2luY2VSZWZlcmVuY2VEYXRlIHRpOiBUaW1lSW50ZXJ2YWwpIHt9CiAgICBvcGVuIHZhciB0aW1lSW50ZXJ2YWxTaW5jZTE5NzA6IFRpbWVJbnRlcnZhbCB7IGdldCB9CiAgICBvcGVuIHZhciB0aW1lSW50ZXJ2YWxTaW5jZU5vdzogVGltZUludGVydmFsIHsgZ2V0IH0KICAgIG9wZW4gdmFyIHRpbWVJbnRlcnZhbFNpbmNlUmVmZXJlbmNlRGF0ZTogVGltZUludGVydmFsIHsgZ2V0IH0KICAgIG9wZW4gZnVuYyBhZGRpbmdUaW1lSW50ZXJ2YWwoXyB0aTogVGltZUludGVydmFsKSAtPiBEYXRlIHt9CiAgICBvcGVuIGZ1bmMgY29tcGFyZShfIG90aGVyOiBEYXRlKSAtPiBDb21wYXJpc29uUmVzdWx0IHt9CiAgICBvcGVuIGZ1bmMgZGVzY3JpcHRpb24od2l0aCBsb2NhbGU6IExvY2FsZT8pIC0+IFN0cmluZyB7fQogICAgb3BlbiBmdW5jIGVhcmxpZXJEYXRlKF8gYW5vdGhlckRhdGU6IERhdGUpIC0+IERhdGUge30KICAgIG9wZW4gZnVuYyBpc0VxdWFsKHRvIG90aGVyRGF0ZTogRGF0ZSkgLT4gQm9vbCB7fQogICAgb3BlbiBmdW5jIGxhdGVyRGF0ZShfIGFub3RoZXJEYXRlOiBEYXRlKSAtPiBEYXRlIHt9CiAgICBvcGVuIGZ1bmMgdGltZUludGVydmFsU2luY2UoXyBhbm90aGVyRGF0ZTogRGF0ZSkgLT4gVGltZUludGVydmFsIHt9Cn0Kb3BlbiBjbGFzcyBOU0RhdGVDb21wb25lbnRzIDogQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TQ29kaW5nLCBOU0NvcHlpbmcsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBOU1NlY3VyZUNvZGluZywgXywgX1N0cnVjdFR5cGVCcmlkZ2VhYmxlLCBfU3dpZnRCcmlkZ2VhYmxlIHsKICAgIG9wZW4gdmFyIGNhbGVuZGFyOiBDYWxlbmRhcj8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGRhdGU6IERhdGU/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGRheTogSW50IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBlcmE6IEludCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgaG91cjogSW50IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBpc0xlYXBNb250aDogQm9vbCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgaXNWYWxpZERhdGU6IEJvb2wgeyBnZXQgfQogICAgb3BlbiB2YXIgbWludXRlOiBJbnQgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIG1vbnRoOiBJbnQgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIG5hbm9zZWNvbmQ6IEludCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgcXVhcnRlcjogSW50IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBzZWNvbmQ6IEludCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgdGltZVpvbmU6IFRpbWVab25lPyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgd2Vla09mTW9udGg6IEludCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgd2Vla09mWWVhcjogSW50IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciB3ZWVrZGF5OiBJbnQgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHdlZWtkYXlPcmRpbmFsOiBJbnQgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHllYXI6IEludCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgeWVhckZvcldlZWtPZlllYXI6IEludCB7IGdldCBzZXQgfQogICAgb3BlbiBmdW5jIGlzVmFsaWREYXRlKGluIGNhbGVuZGFyOiBDYWxlbmRhcikgLT4gQm9vbCB7fQogICAgb3BlbiBmdW5jIHNldFZhbHVlKF8gdmFsdWU6IEludCwgZm9yQ29tcG9uZW50IHVuaXQ6IE5TQ2FsZW5kYXIuVW5pdCkge30KICAgIG9wZW4gZnVuYyB2YWx1ZShmb3JDb21wb25lbnQgdW5pdDogTlNDYWxlbmRhci5Vbml0KSAtPiBJbnQge30KfQpvcGVuIGNsYXNzIE5TRGF0ZUludGVydmFsIDogQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TQ29kaW5nLCBOU0NvcHlpbmcsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBOU1NlY3VyZUNvZGluZywgXywgX1N0cnVjdFR5cGVCcmlkZ2VhYmxlIHsKICAgIHB1YmxpYyBpbml0KHN0YXJ0IHN0YXJ0RGF0ZTogRGF0ZSwgZHVyYXRpb246IFRpbWVJbnRlcnZhbCkge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KHN0YXJ0IHN0YXJ0RGF0ZTogRGF0ZSwgZW5kIGVuZERhdGU6IERhdGUpIHt9CiAgICBvcGVuIHZhciBkdXJhdGlvbjogVGltZUludGVydmFsIHsgZ2V0IH0KICAgIG9wZW4gdmFyIGVuZERhdGU6IERhdGUgeyBnZXQgfQogICAgb3BlbiB2YXIgc3RhcnREYXRlOiBEYXRlIHsgZ2V0IH0KICAgIG9wZW4gZnVuYyBjb21wYXJlKF8gZGF0ZUludGVydmFsOiBEYXRlSW50ZXJ2YWwpIC0+IENvbXBhcmlzb25SZXN1bHQge30KICAgIG9wZW4gZnVuYyBjb250YWlucyhfIGRhdGU6IERhdGUpIC0+IEJvb2wge30KICAgIG9wZW4gZnVuYyBpbnRlcnNlY3Rpb24od2l0aCBkYXRlSW50ZXJ2YWw6IERhdGVJbnRlcnZhbCkgLT4gRGF0ZUludGVydmFsPyB7fQogICAgb3BlbiBmdW5jIGludGVyc2VjdHMoXyBkYXRlSW50ZXJ2YWw6IERhdGVJbnRlcnZhbCkgLT4gQm9vbCB7fQogICAgb3BlbiBmdW5jIGlzRXF1YWwodG8gZGF0ZUludGVydmFsOiBEYXRlSW50ZXJ2YWwpIC0+IEJvb2wge30KfQpvcGVuIGNsYXNzIE5TRGVjaW1hbE51bWJlciA6IEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEV4cHJlc3NpYmxlQnlCb29sZWFuTGl0ZXJhbCwgRXhwcmVzc2libGVCeUZsb2F0TGl0ZXJhbCwgRXhwcmVzc2libGVCeUludGVnZXJMaXRlcmFsLCBIYXNoYWJsZSwgTlNDb2RpbmcsIE5TQ29weWluZywgTlNOdW1iZXIsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBOU1NlY3VyZUNvZGluZywgTlNWYWx1ZSwgXywgX0ZhY3RvcnksIF9OU051bWJlckNhc3RpbmdXaXRob3V0QnJpZGdpbmcgewogICAgb3BlbiBjbGFzcyB2YXIgZGVmYXVsdEJlaGF2aW9yOiBOU0RlY2ltYWxOdW1iZXJCZWhhdmlvcnMgeyBnZXQgfQogICAgb3BlbiBjbGFzcyB2YXIgbWF4aW11bTogTlNEZWNpbWFsTnVtYmVyIHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgdmFyIG1pbmltdW06IE5TRGVjaW1hbE51bWJlciB7IGdldCB9CiAgICBvcGVuIGNsYXNzIHZhciBub3RBTnVtYmVyOiBOU0RlY2ltYWxOdW1iZXIgeyBnZXQgfQogICAgb3BlbiBjbGFzcyB2YXIgb25lOiBOU0RlY2ltYWxOdW1iZXIgeyBnZXQgfQogICAgb3BlbiBjbGFzcyB2YXIgemVybzogTlNEZWNpbWFsTnVtYmVyIHsgZ2V0IH0KICAgIHB1YmxpYyBpbml0KGRlY2ltYWwgZGNtOiBEZWNpbWFsKSB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQobWFudGlzc2E6IFVJbnQ2NCwgZXhwb25lbnQ6IEludDE2LCBpc05lZ2F0aXZlOiBCb29sKSB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQoc3RyaW5nIG51bWJlclZhbHVlOiBTdHJpbmc/KSB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQoc3RyaW5nIG51bWJlclZhbHVlOiBTdHJpbmc/LCBsb2NhbGU6IEFueT8pIHt9CiAgICBvcGVuIGZ1bmMgYWRkaW5nKF8gb3RoZXI6IE5TRGVjaW1hbE51bWJlcikgLT4gTlNEZWNpbWFsTnVtYmVyIHt9CiAgICBvcGVuIGZ1bmMgYWRkaW5nKF8gb3RoZXI6IE5TRGVjaW1hbE51bWJlciwgd2l0aEJlaGF2aW9yIGI6IE5TRGVjaW1hbE51bWJlckJlaGF2aW9ycz8pIC0+IE5TRGVjaW1hbE51bWJlciB7fQogICAgb3BlbiBmdW5jIGRpdmlkaW5nKGJ5IG90aGVyOiBOU0RlY2ltYWxOdW1iZXIpIC0+IE5TRGVjaW1hbE51bWJlciB7fQogICAgb3BlbiBmdW5jIGRpdmlkaW5nKGJ5IG90aGVyOiBOU0RlY2ltYWxOdW1iZXIsIHdpdGhCZWhhdmlvciBiOiBOU0RlY2ltYWxOdW1iZXJCZWhhdmlvcnM/KSAtPiBOU0RlY2ltYWxOdW1iZXIge30KICAgIG9wZW4gZnVuYyBtdWx0aXBseWluZyhieSBvdGhlcjogTlNEZWNpbWFsTnVtYmVyKSAtPiBOU0RlY2ltYWxOdW1iZXIge30KICAgIG9wZW4gZnVuYyBtdWx0aXBseWluZyhieSBvdGhlcjogTlNEZWNpbWFsTnVtYmVyLCB3aXRoQmVoYXZpb3IgYjogTlNEZWNpbWFsTnVtYmVyQmVoYXZpb3JzPykgLT4gTlNEZWNpbWFsTnVtYmVyIHt9CiAgICBvcGVuIGZ1bmMgbXVsdGlwbHlpbmcoYnlQb3dlck9mMTAgcG93ZXI6IEludDE2KSAtPiBOU0RlY2ltYWxOdW1iZXIge30KICAgIG9wZW4gZnVuYyBtdWx0aXBseWluZyhieVBvd2VyT2YxMCBwb3dlcjogSW50MTYsIHdpdGhCZWhhdmlvciBiOiBOU0RlY2ltYWxOdW1iZXJCZWhhdmlvcnM/KSAtPiBOU0RlY2ltYWxOdW1iZXIge30KICAgIG9wZW4gZnVuYyByYWlzaW5nKHRvUG93ZXIgcG93ZXI6IEludCkgLT4gTlNEZWNpbWFsTnVtYmVyIHt9CiAgICBvcGVuIGZ1bmMgcmFpc2luZyh0b1Bvd2VyIHBvd2VyOiBJbnQsIHdpdGhCZWhhdmlvciBiOiBOU0RlY2ltYWxOdW1iZXJCZWhhdmlvcnM/KSAtPiBOU0RlY2ltYWxOdW1iZXIge30KICAgIG9wZW4gZnVuYyByb3VuZGluZyhhY2NvcmRpbmdUb0JlaGF2aW9yIGI6IE5TRGVjaW1hbE51bWJlckJlaGF2aW9ycz8pIC0+IE5TRGVjaW1hbE51bWJlciB7fQogICAgb3BlbiBmdW5jIHN1YnRyYWN0aW5nKF8gb3RoZXI6IE5TRGVjaW1hbE51bWJlcikgLT4gTlNEZWNpbWFsTnVtYmVyIHt9CiAgICBvcGVuIGZ1bmMgc3VidHJhY3RpbmcoXyBvdGhlcjogTlNEZWNpbWFsTnVtYmVyLCB3aXRoQmVoYXZpb3IgYjogTlNEZWNpbWFsTnVtYmVyQmVoYXZpb3JzPykgLT4gTlNEZWNpbWFsTnVtYmVyIHt9Cn0Kb3BlbiBjbGFzcyBOU0RlY2ltYWxOdW1iZXJIYW5kbGVyIDogQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TQ29kaW5nLCBOU0RlY2ltYWxOdW1iZXJCZWhhdmlvcnMsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBfIHsKICAgIG9wZW4gY2xhc3MgdmFyIGRlZmF1bHQ6IE5TRGVjaW1hbE51bWJlckhhbmRsZXIgeyBnZXQgfQogICAgcHVibGljIGluaXQocm91bmRpbmdNb2RlOiBOU0RlY2ltYWxOdW1iZXIuUm91bmRpbmdNb2RlLCBzY2FsZTogSW50MTYsIHJhaXNlT25FeGFjdG5lc3MgZXhhY3Q6IEJvb2wsIHJhaXNlT25PdmVyZmxvdyBvdmVyZmxvdzogQm9vbCwgcmFpc2VPblVuZGVyZmxvdyB1bmRlcmZsb3c6IEJvb2wsIHJhaXNlT25EaXZpZGVCeVplcm8gZGl2aWRlQnlaZXJvOiBCb29sKSB7fQp9Cm9wZW4gY2xhc3MgTlNEaWN0aW9uYXJ5IDogQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tUmVmbGVjdGFibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEV4cHJlc3NpYmxlQnlEaWN0aW9uYXJ5TGl0ZXJhbCwgSGFzaGFibGUsIE5TQ29kaW5nLCBOU0NvcHlpbmcsIE5TTXV0YWJsZUNvcHlpbmcsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBOU1NlY3VyZUNvZGluZywgU2VxdWVuY2UsIF8sIF9DRkJyaWRnZWFibGUsIF9TdHJ1Y3RUeXBlQnJpZGdlYWJsZSwgX1N3aWZ0QnJpZGdlYWJsZSB7CiAgICBvcGVuIGNsYXNzIGZ1bmMgc2hhcmVkS2V5U2V0KGZvcktleXMga2V5czogW05TQ29weWluZ10pIC0+IEFueSB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQoZGljdGlvbmFyeSBvdGhlckRpY3Rpb25hcnk6IFtBbnlIYXNoYWJsZTogQW55XSkge30KICAgIHB1YmxpYyByZXF1aXJlZCBjb252ZW5pZW5jZSBpbml0KGRpY3Rpb25hcnlMaXRlcmFsIGVsZW1lbnRzOiAoQW55LCBBbnkpLi4uKSB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQob2JqZWN0OiBBbnksIGZvcktleSBrZXk6IE5TQ29weWluZykge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KG9iamVjdHM6IFtBbnldLCBmb3JLZXlzIGtleXM6IFtOU09iamVjdF0pIHt9CiAgICBwdWJsaWMgcmVxdWlyZWQgaW5pdChvYmplY3RzOiBVbnNhZmVQb2ludGVyPEFueU9iamVjdD4hLCBmb3JLZXlzIGtleXM6IFVuc2FmZVBvaW50ZXI8TlNPYmplY3Q+ISwgY291bnQgY250OiBJbnQpIHt9CiAgICBvcGVuIHZhciBhbGxLZXlzOiBbQW55XSB7IGdldCB9CiAgICBvcGVuIHZhciBhbGxWYWx1ZXM6IFtBbnldIHsgZ2V0IH0KICAgIG9wZW4gdmFyIGNvdW50OiBJbnQgeyBnZXQgfQogICAgcHVibGljIHZhciBjdXN0b21NaXJyb3I6IE1pcnJvciB7IGdldCB9CiAgICBvcGVuIHZhciBkZXNjcmlwdGlvbkluU3RyaW5nc0ZpbGVGb3JtYXQ6IFN0cmluZyB7IGdldCB9CiAgICBvcGVuIHN1YnNjcmlwdChrZXk6IEFueSkgLT4gQW55PyB7IGdldCB9IHt9CiAgICBvcGVuIGZ1bmMgYWxsS2V5cyhmb3IgYW5PYmplY3Q6IEFueSkgLT4gW0FueV0ge30KICAgIG9wZW4gZnVuYyBkZXNjcmlwdGlvbih3aXRoTG9jYWxlIGxvY2FsZTogTG9jYWxlPykgLT4gU3RyaW5nIHt9CiAgICBvcGVuIGZ1bmMgZGVzY3JpcHRpb24od2l0aExvY2FsZSBsb2NhbGU6IExvY2FsZT8sIGluZGVudCBsZXZlbDogSW50KSAtPiBTdHJpbmcge30KICAgIG9wZW4gZnVuYyBlbnVtZXJhdGVLZXlzQW5kT2JqZWN0cyhfIGJsb2NrOiAoQW55LCBBbnksIFVuc2FmZU11dGFibGVQb2ludGVyPE9iakNCb29sPikgLT4gU3dpZnQuVm9pZCkge30KICAgIG9wZW4gZnVuYyBlbnVtZXJhdGVLZXlzQW5kT2JqZWN0cyhvcHRpb25zIG9wdHM6IE5TRW51bWVyYXRpb25PcHRpb25zID0geCwgdXNpbmcgYmxvY2s6IChBbnksIEFueSwgVW5zYWZlTXV0YWJsZVBvaW50ZXI8T2JqQ0Jvb2w+KSAtPiBWb2lkKSB7fQogICAgb3BlbiBmdW5jIGdldE9iamVjdHMoXyBvYmplY3RzOiBpbm91dCBbQW55XSwgYW5kS2V5cyBrZXlzOiBpbm91dCBbQW55XSwgY291bnQ6IEludCkge30KICAgIG9wZW4gZnVuYyBpc0VxdWFsKHRvIG90aGVyRGljdGlvbmFyeTogW0FueUhhc2hhYmxlOiBBbnldKSAtPiBCb29sIHt9CiAgICBvcGVuIGZ1bmMga2V5RW51bWVyYXRvcigpIC0+IE5TRW51bWVyYXRvciB7fQogICAgb3BlbiBmdW5jIGtleXNPZkVudHJpZXMob3B0aW9ucyBvcHRzOiBOU0VudW1lcmF0aW9uT3B0aW9ucyA9IHgsIHBhc3NpbmdUZXN0IHByZWRpY2F0ZTogKEFueSwgQW55LCBVbnNhZmVNdXRhYmxlUG9pbnRlcjxPYmpDQm9vbD4pIC0+IEJvb2wpIC0+IFNldDxBbnlIYXNoYWJsZT4ge30KICAgIG9wZW4gZnVuYyBrZXlzT2ZFbnRyaWVzKHBhc3NpbmdUZXN0IHByZWRpY2F0ZTogKEFueSwgQW55LCBVbnNhZmVNdXRhYmxlUG9pbnRlcjxPYmpDQm9vbD4pIC0+IEJvb2wpIC0+IFNldDxBbnlIYXNoYWJsZT4ge30KICAgIG9wZW4gZnVuYyBrZXlzU29ydGVkQnlWYWx1ZShjb21wYXJhdG9yIGNtcHRyOiAoQW55LCBBbnkpIC0+IENvbXBhcmlzb25SZXN1bHQpIC0+IFtBbnldIHt9CiAgICBvcGVuIGZ1bmMga2V5c1NvcnRlZEJ5VmFsdWUob3B0aW9ucyBvcHRzOiBOU1NvcnRPcHRpb25zID0geCwgdXNpbmdDb21wYXJhdG9yIGNtcHRyOiAoQW55LCBBbnkpIC0+IENvbXBhcmlzb25SZXN1bHQpIC0+IFtBbnldIHt9CiAgICBwdWJsaWMgZnVuYyBtYWtlSXRlcmF0b3IoKSAtPiBJdGVyYXRvciB7fQogICAgb3BlbiBmdW5jIG9iamVjdChmb3JLZXkgYUtleTogQW55KSAtPiBBbnk/IHt9CiAgICBvcGVuIGZ1bmMgb2JqZWN0RW51bWVyYXRvcigpIC0+IE5TRW51bWVyYXRvciB7fQogICAgb3BlbiBmdW5jIG9iamVjdHMoZm9yS2V5cyBrZXlzOiBbQW55XSwgbm90Rm91bmRNYXJrZXIgbWFya2VyOiBBbnkpIC0+IFtBbnldIHt9CiAgICBvcGVuIGZ1bmMgdmFsdWUoZm9yS2V5IGtleTogU3RyaW5nKSAtPiBBbnk/IHt9CiAgICBvcGVuIGZ1bmMgd3JpdGUodG8gdXJsOiBVUkwsIGF0b21pY2FsbHk6IEJvb2wpIC0+IEJvb2wge30KICAgIG9wZW4gZnVuYyB3cml0ZSh0b0ZpbGUgcGF0aDogU3RyaW5nLCBhdG9taWNhbGx5IHVzZUF1eGlsaWFyeUZpbGU6IEJvb2wpIC0+IEJvb2wge30KfQpvcGVuIGNsYXNzIE5TRW51bWVyYXRvciA6IEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCwgU2VxdWVuY2UsIF8gewogICAgcHVibGljIHZhciBhbGxPYmplY3RzOiBbQW55XSB7IGdldCB9CiAgICBwdWJsaWMgZnVuYyBtYWtlSXRlcmF0b3IoKSAtPiBJdGVyYXRvciB7fQogICAgb3BlbiBmdW5jIG5leHRPYmplY3QoKSAtPiBBbnk/IHt9Cn0Kb3BlbiBjbGFzcyBOU0Vycm9yIDogQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TQ29kaW5nLCBOU0NvcHlpbmcsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBOU1NlY3VyZUNvZGluZywgU3dpZnQuRXJyb3IsIF8sIF9DRkJyaWRnZWFibGUgewogICAgb3BlbiBjbGFzcyBmdW5jIHNldFVzZXJJbmZvVmFsdWVQcm92aWRlcihmb3JEb21haW4gZXJyb3JEb21haW46IFN0cmluZywgcHJvdmlkZXI6ICgoRXJyb3IsIFN0cmluZykgLT4gQW55Pyk/KSB7fQogICAgb3BlbiBjbGFzcyBmdW5jIHVzZXJJbmZvVmFsdWVQcm92aWRlcihmb3JEb21haW4gZXJyb3JEb21haW46IFN0cmluZykgLT4gKChFcnJvciwgU3RyaW5nKSAtPiBBbnk/KT8ge30KICAgIHB1YmxpYyBpbml0KGRvbWFpbjogU3RyaW5nLCBjb2RlOiBJbnQsIHVzZXJJbmZvIGRpY3Q6IFtTdHJpbmc6IEFueV0/ID0geCkge30KICAgIG9wZW4gdmFyIGNvZGU6IEludCB7IGdldCB9CiAgICBvcGVuIHZhciBkb21haW46IFN0cmluZyB7IGdldCB9CiAgICBvcGVuIHZhciBoZWxwQW5jaG9yOiBTdHJpbmc/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGxvY2FsaXplZERlc2NyaXB0aW9uOiBTdHJpbmcgeyBnZXQgfQogICAgb3BlbiB2YXIgbG9jYWxpemVkRmFpbHVyZVJlYXNvbjogU3RyaW5nPyB7IGdldCB9CiAgICBvcGVuIHZhciBsb2NhbGl6ZWRSZWNvdmVyeU9wdGlvbnM6IFtTdHJpbmddPyB7IGdldCB9CiAgICBvcGVuIHZhciBsb2NhbGl6ZWRSZWNvdmVyeVN1Z2dlc3Rpb246IFN0cmluZz8geyBnZXQgfQogICAgb3BlbiB2YXIgcmVjb3ZlcnlBdHRlbXB0ZXI6IEFueT8geyBnZXQgfQogICAgb3BlbiB2YXIgdXNlckluZm86IFtTdHJpbmc6IEFueV0geyBnZXQgfQp9Cm9wZW4gY2xhc3MgTlNFeHByZXNzaW9uIDogQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TQ29kaW5nLCBOU0NvcHlpbmcsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBOU1NlY3VyZUNvZGluZywgXyB7CiAgICBvcGVuIGNsYXNzIGZ1bmMgZXhwcmVzc2lvbkZvckFueUtleSgpIC0+IE5TRXhwcmVzc2lvbiB7fQogICAgb3BlbiBjbGFzcyBmdW5jIGV4cHJlc3Npb25Gb3JFdmFsdWF0ZWRPYmplY3QoKSAtPiBOU0V4cHJlc3Npb24ge30KICAgIHB1YmxpYyBpbml0KGJsb2NrOiBAZXNjYXBpbmcgKEFueT8sIFtBbnldLCBOU011dGFibGVEaWN0aW9uYXJ5PykgLT4gQW55LCBhcmd1bWVudHM6IFtOU0V4cHJlc3Npb25dPykge30KICAgIHB1YmxpYyBpbml0KGV4cHJlc3Npb25UeXBlIHR5cGU6IEV4cHJlc3Npb25UeXBlKSB7fQogICAgcHVibGljIGluaXQoZm9yQWdncmVnYXRlIHN1YmV4cHJlc3Npb25zOiBbQW55XSkge30KICAgIHB1YmxpYyBpbml0KGZvckNvbmRpdGlvbmFsIHByZWRpY2F0ZTogQW55LCB0cnVlRXhwcmVzc2lvbjogTlNFeHByZXNzaW9uLCBmYWxzZUV4cHJlc3Npb246IE5TRXhwcmVzc2lvbikge30KICAgIHB1YmxpYyBpbml0KGZvckNvbnN0YW50VmFsdWUgb2JqOiBBbnk/KSB7fQogICAgcHVibGljIGluaXQoZm9yRnVuY3Rpb24gbmFtZTogU3RyaW5nLCBhcmd1bWVudHMgcGFyYW1ldGVyczogW0FueV0pIHt9CiAgICBwdWJsaWMgaW5pdChmb3JGdW5jdGlvbiB0YXJnZXQ6IE5TRXhwcmVzc2lvbiwgc2VsZWN0b3JOYW1lIG5hbWU6IFN0cmluZywgYXJndW1lbnRzIHBhcmFtZXRlcnM6IFtBbnldPykge30KICAgIHB1YmxpYyBpbml0KGZvckludGVyc2VjdFNldCBsZWZ0OiBOU0V4cHJlc3Npb24sIHdpdGggcmlnaHQ6IE5TRXhwcmVzc2lvbikge30KICAgIHB1YmxpYyBpbml0KGZvcktleVBhdGgga2V5UGF0aDogU3RyaW5nKSB7fQogICAgcHVibGljIGluaXQoZm9yTWludXNTZXQgbGVmdDogTlNFeHByZXNzaW9uLCB3aXRoIHJpZ2h0OiBOU0V4cHJlc3Npb24pIHt9CiAgICBwdWJsaWMgaW5pdChmb3JTdWJxdWVyeSBleHByZXNzaW9uOiBOU0V4cHJlc3Npb24sIHVzaW5nSXRlcmF0b3JWYXJpYWJsZSB2YXJpYWJsZTogU3RyaW5nLCBwcmVkaWNhdGU6IEFueSkge30KICAgIHB1YmxpYyBpbml0KGZvclVuaW9uU2V0IGxlZnQ6IE5TRXhwcmVzc2lvbiwgd2l0aCByaWdodDogTlNFeHByZXNzaW9uKSB7fQogICAgcHVibGljIGluaXQoZm9yVmFyaWFibGUgc3RyaW5nOiBTdHJpbmcpIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdChmb3JtYXQgZXhwcmVzc2lvbkZvcm1hdDogU3RyaW5nLCBfIGFyZ3M6IENWYXJBcmcuLi4pIHt9CiAgICBwdWJsaWMgaW5pdChmb3JtYXQgZXhwcmVzc2lvbkZvcm1hdDogU3RyaW5nLCBhcmd1bWVudEFycmF5IGFyZ3VtZW50czogW0FueV0pIHt9CiAgICBwdWJsaWMgaW5pdChmb3JtYXQgZXhwcmVzc2lvbkZvcm1hdDogU3RyaW5nLCBhcmd1bWVudHMgYXJnTGlzdDogQ1ZhTGlzdFBvaW50ZXIpIHt9CiAgICBvcGVuIHZhciBhcmd1bWVudHM6IFtOU0V4cHJlc3Npb25dPyB7IGdldCB9CiAgICBvcGVuIHZhciBjb2xsZWN0aW9uOiBBbnkgeyBnZXQgfQogICAgb3BlbiB2YXIgY29uc3RhbnRWYWx1ZTogQW55IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGV4cHJlc3Npb25CbG9jazogKEFueT8sIFtBbnldLCBOU011dGFibGVEaWN0aW9uYXJ5PykgLT4gQW55IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGV4cHJlc3Npb25UeXBlOiBFeHByZXNzaW9uVHlwZSB7IGdldCB9CiAgICBvcGVuIHZhciBmYWxzZTogTlNFeHByZXNzaW9uIHsgZ2V0IH0KICAgIG9wZW4gdmFyIGZ1bmN0aW9uOiBTdHJpbmcgeyBnZXQgfQogICAgb3BlbiB2YXIga2V5UGF0aDogU3RyaW5nIHsgZ2V0IH0KICAgIG9wZW4gdmFyIGxlZnQ6IE5TRXhwcmVzc2lvbiB7IGdldCB9CiAgICBvcGVuIHZhciBvcGVyYW5kOiBOU0V4cHJlc3Npb24geyBnZXQgfQogICAgb3BlbiB2YXIgcHJlZGljYXRlOiBOU1ByZWRpY2F0ZSB7IGdldCB9CiAgICBvcGVuIHZhciByaWdodDogTlNFeHByZXNzaW9uIHsgZ2V0IH0KICAgIG9wZW4gdmFyIHRydWU6IE5TRXhwcmVzc2lvbiB7IGdldCB9CiAgICBvcGVuIHZhciB2YXJpYWJsZTogU3RyaW5nIHsgZ2V0IH0KICAgIG9wZW4gZnVuYyBhbGxvd0V2YWx1YXRpb24oKSB7fQogICAgb3BlbiBmdW5jIGV4cHJlc3Npb25WYWx1ZSh3aXRoIG9iamVjdDogQW55PywgY29udGV4dDogTlNNdXRhYmxlRGljdGlvbmFyeT8pIC0+IEFueT8ge30KfQpvcGVuIGNsYXNzIE5TSW5kZXhQYXRoIDogQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TQ29kaW5nLCBOU0NvcHlpbmcsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBOU1NlY3VyZUNvZGluZywgXywgX0hhc0N1c3RvbUFueUhhc2hhYmxlUmVwcmVzZW50YXRpb24sIF9TdHJ1Y3RUeXBlQnJpZGdlYWJsZSB7CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdChpbmRleDogSW50KSB7fQogICAgcHVibGljIGluaXQoaW5kZXhlczogVW5zYWZlUG9pbnRlcjxJbnQ+ISwgbGVuZ3RoOiBJbnQpIHt9CiAgICBvcGVuIHZhciBsZW5ndGg6IEludCB7IGdldCB9CiAgICBvcGVuIGZ1bmMgYWRkaW5nKF8gaW5kZXg6IEludCkgLT4gSW5kZXhQYXRoIHt9CiAgICBvcGVuIGZ1bmMgY29tcGFyZShfIG90aGVyT2JqZWN0OiBJbmRleFBhdGgpIC0+IENvbXBhcmlzb25SZXN1bHQge30KICAgIG9wZW4gZnVuYyBnZXRJbmRleGVzKF8gaW5kZXhlczogVW5zYWZlTXV0YWJsZVBvaW50ZXI8SW50Pikge30KICAgIG9wZW4gZnVuYyBnZXRJbmRleGVzKF8gaW5kZXhlczogVW5zYWZlTXV0YWJsZVBvaW50ZXI8SW50PiwgcmFuZ2UgcG9zaXRpb25SYW5nZTogTlNSYW5nZSkge30KICAgIG9wZW4gZnVuYyBpbmRleChhdFBvc2l0aW9uIHBvc2l0aW9uOiBJbnQpIC0+IEludCB7fQogICAgb3BlbiBmdW5jIHJlbW92aW5nTGFzdEluZGV4KCkgLT4gSW5kZXhQYXRoIHt9Cn0Kb3BlbiBjbGFzcyBOU0luZGV4U2V0IDogQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TQ29kaW5nLCBOU0NvcHlpbmcsIE5TTXV0YWJsZUNvcHlpbmcsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBOU1NlY3VyZUNvZGluZywgU2VxdWVuY2UsIF8sIF9IYXNDdXN0b21BbnlIYXNoYWJsZVJlcHJlc2VudGF0aW9uLCBfU3RydWN0VHlwZUJyaWRnZWFibGUgewogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQoaW5kZXggdmFsdWU6IEludCkge30KICAgIHB1YmxpYyBpbml0KGluZGV4U2V0OiBJbmRleFNldCkge30KICAgIHB1YmxpYyBpbml0KGluZGV4ZXNJbiByYW5nZTogTlNSYW5nZSkge30KICAgIG9wZW4gdmFyIGNvdW50OiBJbnQgeyBnZXQgfQogICAgb3BlbiB2YXIgZmlyc3RJbmRleDogSW50IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGxhc3RJbmRleDogSW50IHsgZ2V0IH0KICAgIG9wZW4gZnVuYyBjb250YWlucyhfIGluZGV4U2V0OiBJbmRleFNldCkgLT4gQm9vbCB7fQogICAgb3BlbiBmdW5jIGNvbnRhaW5zKGluIHJhbmdlOiBOU1JhbmdlKSAtPiBCb29sIHt9CiAgICBvcGVuIGZ1bmMgY291bnRPZkluZGV4ZXMoaW4gcmFuZ2U6IE5TUmFuZ2UpIC0+IEludCB7fQogICAgb3BlbiBmdW5jIGVudW1lcmF0ZShfIGJsb2NrOiAoSW50LCBVbnNhZmVNdXRhYmxlUG9pbnRlcjxPYmpDQm9vbD4pIC0+IFZvaWQpIHt9CiAgICBvcGVuIGZ1bmMgZW51bWVyYXRlKGluIHJhbmdlOiBOU1JhbmdlLCBvcHRpb25zIG9wdHM6IE5TRW51bWVyYXRpb25PcHRpb25zID0geCwgdXNpbmcgYmxvY2s6IChJbnQsIFVuc2FmZU11dGFibGVQb2ludGVyPE9iakNCb29sPikgLT4gVm9pZCkge30KICAgIG9wZW4gZnVuYyBlbnVtZXJhdGUob3B0aW9ucyBvcHRzOiBOU0VudW1lcmF0aW9uT3B0aW9ucyA9IHgsIHVzaW5nIGJsb2NrOiAoSW50LCBVbnNhZmVNdXRhYmxlUG9pbnRlcjxPYmpDQm9vbD4pIC0+IFZvaWQpIHt9CiAgICBvcGVuIGZ1bmMgZW51bWVyYXRlUmFuZ2VzKF8gYmxvY2s6IChOU1JhbmdlLCBVbnNhZmVNdXRhYmxlUG9pbnRlcjxPYmpDQm9vbD4pIC0+IFZvaWQpIHt9CiAgICBvcGVuIGZ1bmMgZW51bWVyYXRlUmFuZ2VzKGluIHJhbmdlOiBOU1JhbmdlLCBvcHRpb25zIG9wdHM6IE5TRW51bWVyYXRpb25PcHRpb25zID0geCwgdXNpbmcgYmxvY2s6IChOU1JhbmdlLCBVbnNhZmVNdXRhYmxlUG9pbnRlcjxPYmpDQm9vbD4pIC0+IFZvaWQpIHt9CiAgICBvcGVuIGZ1bmMgZW51bWVyYXRlUmFuZ2VzKG9wdGlvbnMgb3B0czogTlNFbnVtZXJhdGlvbk9wdGlvbnMgPSB4LCB1c2luZyBibG9jazogKE5TUmFuZ2UsIFVuc2FmZU11dGFibGVQb2ludGVyPE9iakNCb29sPikgLT4gVm9pZCkge30KICAgIG9wZW4gZnVuYyBnZXRJbmRleGVzKF8gaW5kZXhCdWZmZXI6IFVuc2FmZU11dGFibGVQb2ludGVyPEludD4sIG1heENvdW50IGJ1ZmZlclNpemU6IEludCwgaW5JbmRleFJhbmdlIHJhbmdlOiBOU1JhbmdlUG9pbnRlcj8pIC0+IEludCB7fQogICAgb3BlbiBmdW5jIGluZGV4KGluIHJhbmdlOiBOU1JhbmdlLCBvcHRpb25zIG9wdHM6IE5TRW51bWVyYXRpb25PcHRpb25zID0geCwgcGFzc2luZ1Rlc3QgcHJlZGljYXRlOiAoSW50LCBVbnNhZmVNdXRhYmxlUG9pbnRlcjxPYmpDQm9vbD4pIC0+IEJvb2wpIC0+IEludCB7fQogICAgb3BlbiBmdW5jIGluZGV4KG9wdGlvbnMgb3B0czogTlNFbnVtZXJhdGlvbk9wdGlvbnMgPSB4LCBwYXNzaW5nVGVzdCBwcmVkaWNhdGU6IChJbnQsIFVuc2FmZU11dGFibGVQb2ludGVyPE9iakNCb29sPikgLT4gQm9vbCkgLT4gSW50IHt9CiAgICBvcGVuIGZ1bmMgaW5kZXgocGFzc2luZ1Rlc3QgcHJlZGljYXRlOiAoSW50LCBVbnNhZmVNdXRhYmxlUG9pbnRlcjxPYmpDQm9vbD4pIC0+IEJvb2wpIC0+IEludCB7fQogICAgb3BlbiBmdW5jIGluZGV4R3JlYXRlclRoYW5JbmRleChfIHZhbHVlOiBJbnQpIC0+IEludCB7fQogICAgb3BlbiBmdW5jIGluZGV4R3JlYXRlclRoYW5PckVxdWFsKHRvIHZhbHVlOiBJbnQpIC0+IEludCB7fQogICAgb3BlbiBmdW5jIGluZGV4TGVzc1RoYW5JbmRleChfIHZhbHVlOiBJbnQpIC0+IEludCB7fQogICAgb3BlbiBmdW5jIGluZGV4TGVzc1RoYW5PckVxdWFsKHRvIHZhbHVlOiBJbnQpIC0+IEludCB7fQogICAgb3BlbiBmdW5jIGluZGV4ZXMoaW4gcmFuZ2U6IE5TUmFuZ2UsIG9wdGlvbnMgb3B0czogTlNFbnVtZXJhdGlvbk9wdGlvbnMgPSB4LCBwYXNzaW5nVGVzdCBwcmVkaWNhdGU6IChJbnQsIFVuc2FmZU11dGFibGVQb2ludGVyPE9iakNCb29sPikgLT4gQm9vbCkgLT4gSW5kZXhTZXQge30KICAgIG9wZW4gZnVuYyBpbmRleGVzKG9wdGlvbnMgb3B0czogTlNFbnVtZXJhdGlvbk9wdGlvbnMgPSB4LCBwYXNzaW5nVGVzdCBwcmVkaWNhdGU6IChJbnQsIFVuc2FmZU11dGFibGVQb2ludGVyPE9iakNCb29sPikgLT4gQm9vbCkgLT4gSW5kZXhTZXQge30KICAgIG9wZW4gZnVuYyBpbmRleGVzKHBhc3NpbmdUZXN0IHByZWRpY2F0ZTogKEludCwgVW5zYWZlTXV0YWJsZVBvaW50ZXI8T2JqQ0Jvb2w+KSAtPiBCb29sKSAtPiBJbmRleFNldCB7fQogICAgb3BlbiBmdW5jIGludGVyc2VjdHMoaW4gcmFuZ2U6IE5TUmFuZ2UpIC0+IEJvb2wge30KICAgIG9wZW4gZnVuYyBpc0VxdWFsKHRvIGluZGV4U2V0OiBJbmRleFNldCkgLT4gQm9vbCB7fQogICAgcHVibGljIGZ1bmMgbWFrZUl0ZXJhdG9yKCkgLT4gTlNJbmRleFNldEl0ZXJhdG9yIHt9Cn0Kb3BlbiBjbGFzcyBOU0tleWVkQXJjaGl2ZXIgOiBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNDb2RlciwgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wsIF8gewogICAgb3BlbiBjbGFzcyBmdW5jIGFyY2hpdmVSb290T2JqZWN0KF8gcm9vdE9iamVjdDogQW55LCB0b0ZpbGUgcGF0aDogU3RyaW5nKSAtPiBCb29sIHt9CiAgICBvcGVuIGNsYXNzIGZ1bmMgYXJjaGl2ZWREYXRhKHdpdGhSb290T2JqZWN0IHJvb3RPYmplY3Q6IEFueSkgLT4gRGF0YSB7fQogICAgb3BlbiBjbGFzcyBmdW5jIGNsYXNzTmFtZUZvckNsYXNzKF8gY2xzOiBBbnlDbGFzcykgLT4gU3RyaW5nPyB7fQogICAgb3BlbiBjbGFzcyBmdW5jIHNldENsYXNzTmFtZShfIGNvZGVkTmFtZTogU3RyaW5nPywgZm9yIGNsczogQW55Q2xhc3MpIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdChmb3JXcml0aW5nV2l0aCBkYXRhOiBOU011dGFibGVEYXRhKSB7fQogICAgb3BlbiB3ZWFrIHZhciBkZWxlZ2F0ZTogTlNLZXllZEFyY2hpdmVyRGVsZWdhdGU/IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBlbmNvZGVkRGF0YTogRGF0YSB7IGdldCB9CiAgICBvcGVuIHZhciBvdXRwdXRGb3JtYXQgeyBnZXQgfQogICAgb3BlbiBmdW5jIGNsYXNzTmFtZUZvckNsYXNzKF8gY2xzOiBBbnlDbGFzcykgLT4gU3RyaW5nPyB7fQogICAgb3BlbiBmdW5jIGVuY29kZVByb3BlcnR5TGlzdChfIGFQcm9wZXJ0eUxpc3Q6IEFueSwgZm9yS2V5IGtleTogU3RyaW5nKSB7fQogICAgb3BlbiBmdW5jIGZpbmlzaEVuY29kaW5nKCkge30KICAgIG9wZW4gZnVuYyBzZXRDbGFzc05hbWUoXyBjb2RlZE5hbWU6IFN0cmluZz8sIGZvciBjbHM6IEFueUNsYXNzKSB7fQp9Cm9wZW4gY2xhc3MgTlNLZXllZFVuYXJjaGl2ZXIgOiBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNDb2RlciwgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wsIF8gewogICAgb3BlbiBjbGFzcyBmdW5jIGNsYXNzKGZvckNsYXNzTmFtZSBjb2RlZE5hbWU6IFN0cmluZykgLT4gQW55Q2xhc3M/IHt9CiAgICBvcGVuIGNsYXNzIGZ1bmMgc2V0Q2xhc3MoXyBjbHM6IEFueUNsYXNzPywgZm9yQ2xhc3NOYW1lIGNvZGVkTmFtZTogU3RyaW5nKSB7fQogICAgb3BlbiBjbGFzcyBmdW5jIHVuYXJjaGl2ZU9iamVjdCh3aXRoIGRhdGE6IERhdGEpIC0+IEFueT8ge30KICAgIG9wZW4gY2xhc3MgZnVuYyB1bmFyY2hpdmVPYmplY3Qod2l0aEZpbGUgcGF0aDogU3RyaW5nKSAtPiBBbnk/IHt9CiAgICBvcGVuIGNsYXNzIGZ1bmMgdW5hcmNoaXZlVG9wTGV2ZWxPYmplY3RXaXRoRGF0YShfIGRhdGE6IERhdGEpIHRocm93cyAtPiBBbnk/IHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdChmb3JSZWFkaW5nV2l0aCBkYXRhOiBEYXRhKSB7fQogICAgb3BlbiB3ZWFrIHZhciBkZWxlZ2F0ZTogTlNLZXllZFVuYXJjaGl2ZXJEZWxlZ2F0ZT8geyBnZXQgc2V0IH0KICAgIG9wZW4gZnVuYyBjbGFzcyhmb3JDbGFzc05hbWUgY29kZWROYW1lOiBTdHJpbmcpIC0+IEFueUNsYXNzPyB7fQogICAgb3BlbiBmdW5jIGZpbmlzaERlY29kaW5nKCkge30KICAgIG9wZW4gZnVuYyBzZXRDbGFzcyhfIGNsczogQW55Q2xhc3M/LCBmb3JDbGFzc05hbWUgY29kZWROYW1lOiBTdHJpbmcpIHt9Cn0Kb3BlbiBjbGFzcyBOU0xvY2FsZSA6IEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU0NvZGluZywgTlNDb3B5aW5nLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCwgTlNTZWN1cmVDb2RpbmcsIF8sIF9TdHJ1Y3RUeXBlQnJpZGdlYWJsZSwgX1N3aWZ0QnJpZGdlYWJsZSB7CiAgICBvcGVuIGNsYXNzIHZhciBhdmFpbGFibGVMb2NhbGVJZGVudGlmaWVyczogW1N0cmluZ10geyBnZXQgfQogICAgb3BlbiBjbGFzcyB2YXIgY29tbW9uSVNPQ3VycmVuY3lDb2RlczogW1N0cmluZ10geyBnZXQgfQogICAgb3BlbiBjbGFzcyB2YXIgY3VycmVudDogTG9jYWxlIHsgZ2V0IH0KICAgIHB1YmxpYyBzdGF0aWMgdmFyIGN1cnJlbnRMb2NhbGVEaWRDaGFuZ2VOb3RpZmljYXRpb24geyBnZXQgfQogICAgb3BlbiBjbGFzcyB2YXIgaXNvQ291bnRyeUNvZGVzOiBbU3RyaW5nXSB7IGdldCB9CiAgICBvcGVuIGNsYXNzIHZhciBpc29DdXJyZW5jeUNvZGVzOiBbU3RyaW5nXSB7IGdldCB9CiAgICBvcGVuIGNsYXNzIHZhciBpc29MYW5ndWFnZUNvZGVzOiBbU3RyaW5nXSB7IGdldCB9CiAgICBvcGVuIGNsYXNzIHZhciBwcmVmZXJyZWRMYW5ndWFnZXM6IFtTdHJpbmddIHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgdmFyIHN5c3RlbTogTG9jYWxlIHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgZnVuYyBjYW5vbmljYWxMYW5ndWFnZUlkZW50aWZpZXIoZnJvbSBzdHJpbmc6IFN0cmluZykgLT4gU3RyaW5nIHt9CiAgICBvcGVuIGNsYXNzIGZ1bmMgY2Fub25pY2FsTG9jYWxlSWRlbnRpZmllcihmcm9tIHN0cmluZzogU3RyaW5nKSAtPiBTdHJpbmcge30KICAgIG9wZW4gY2xhc3MgZnVuYyBjaGFyYWN0ZXJEaXJlY3Rpb24oZm9yTGFuZ3VhZ2UgaXNvTGFuZ0NvZGU6IFN0cmluZykgLT4gTlNMb2NhbGUuTGFuZ3VhZ2VEaXJlY3Rpb24ge30KICAgIG9wZW4gY2xhc3MgZnVuYyBjb21wb25lbnRzKGZyb21Mb2NhbGVJZGVudGlmaWVyIHN0cmluZzogU3RyaW5nKSAtPiBbU3RyaW5nOiBTdHJpbmddIHt9CiAgICBvcGVuIGNsYXNzIGZ1bmMgbGluZURpcmVjdGlvbihmb3JMYW5ndWFnZSBpc29MYW5nQ29kZTogU3RyaW5nKSAtPiBOU0xvY2FsZS5MYW5ndWFnZURpcmVjdGlvbiB7fQogICAgb3BlbiBjbGFzcyBmdW5jIGxvY2FsZUlkZW50aWZpZXIoZnJvbUNvbXBvbmVudHMgZGljdDogW1N0cmluZzogU3RyaW5nXSkgLT4gU3RyaW5nIHt9CiAgICBvcGVuIGNsYXNzIGZ1bmMgbG9jYWxlSWRlbnRpZmllcihmcm9tV2luZG93c0xvY2FsZUNvZGUgbGNpZDogVUludDMyKSAtPiBTdHJpbmc/IHt9CiAgICBvcGVuIGNsYXNzIGZ1bmMgd2luZG93c0xvY2FsZUNvZGUoZnJvbUxvY2FsZUlkZW50aWZpZXIgbG9jYWxlSWRlbnRpZmllcjogU3RyaW5nKSAtPiBVSW50MzIge30KICAgIHB1YmxpYyBpbml0KGxvY2FsZUlkZW50aWZpZXIgc3RyaW5nOiBTdHJpbmcpIHt9CiAgICBwdWJsaWMgdmFyIGxvY2FsZUlkZW50aWZpZXI6IFN0cmluZyB7IGdldCB9CiAgICBvcGVuIGZ1bmMgZGlzcGxheU5hbWUoZm9yS2V5IGtleTogS2V5LCB2YWx1ZTogU3RyaW5nKSAtPiBTdHJpbmc/IHt9CiAgICBvcGVuIGZ1bmMgb2JqZWN0KGZvcktleSBrZXk6IE5TTG9jYWxlLktleSkgLT4gQW55PyB7fQp9Cm9wZW4gY2xhc3MgTlNMb2NrIDogQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TTG9ja2luZywgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wsIF8gewogICAgb3BlbiB2YXIgbmFtZTogU3RyaW5nPyB7IGdldCBzZXQgfQogICAgb3BlbiBmdW5jIGxvY2soYmVmb3JlIGxpbWl0OiBEYXRlKSAtPiBCb29sIHt9CiAgICBvcGVuIGZ1bmMgdHJ5KCkgLT4gQm9vbCB7fQp9Cm9wZW4gY2xhc3MgTlNNZWFzdXJlbWVudCA6IEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU0NvZGluZywgTlNDb3B5aW5nLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCwgTlNTZWN1cmVDb2RpbmcsIF8sIF9IYXNDdXN0b21BbnlIYXNoYWJsZVJlcHJlc2VudGF0aW9uLCBfU3RydWN0VHlwZUJyaWRnZWFibGUgewogICAgcHVibGljIGluaXQoZG91YmxlVmFsdWU6IERvdWJsZSwgdW5pdDogVW5pdCkge30KICAgIG9wZW4gdmFyIGRvdWJsZVZhbHVlOiBEb3VibGUgeyBnZXQgfQogICAgb3BlbiB2YXIgdW5pdDogVW5pdCB7IGdldCB9CiAgICBvcGVuIGZ1bmMgYWRkaW5nKF8gbWVhc3VyZW1lbnQ6IE1lYXN1cmVtZW50PFVuaXQ+KSAtPiBNZWFzdXJlbWVudDxVbml0PiB7fQogICAgb3BlbiBmdW5jIGNhbkJlQ29udmVydGVkKHRvIHVuaXQ6IFVuaXQpIC0+IEJvb2wge30KICAgIG9wZW4gZnVuYyBjb252ZXJ0aW5nKHRvIHVuaXQ6IFVuaXQpIC0+IE1lYXN1cmVtZW50PFVuaXQ+IHt9CiAgICBvcGVuIGZ1bmMgc3VidHJhY3RpbmcoXyBtZWFzdXJlbWVudDogTWVhc3VyZW1lbnQ8VW5pdD4pIC0+IE1lYXN1cmVtZW50PFVuaXQ+IHt9Cn0Kb3BlbiBjbGFzcyBOU011dGFibGVBcnJheSA6IEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVJlZmxlY3RhYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBFeHByZXNzaWJsZUJ5QXJyYXlMaXRlcmFsLCBIYXNoYWJsZSwgTlNBcnJheSwgTlNDb2RpbmcsIE5TQ29weWluZywgTlNNdXRhYmxlQ29weWluZywgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wsIE5TU2VjdXJlQ29kaW5nLCBTZXF1ZW5jZSwgXywgX0NGQnJpZGdlYWJsZSwgX1N0cnVjdFR5cGVCcmlkZ2VhYmxlLCBfU3dpZnRCcmlkZ2VhYmxlIHsKICAgIHB1YmxpYyBpbml0KGNhcGFjaXR5IG51bUl0ZW1zOiBJbnQpIHt9CiAgICBvcGVuIGZ1bmMgYWRkKF8gYW5PYmplY3Q6IEFueSkge30KICAgIG9wZW4gZnVuYyBhZGRPYmplY3RzKGZyb20gb3RoZXJBcnJheTogW0FueV0pIHt9CiAgICBvcGVuIGZ1bmMgZXhjaGFuZ2VPYmplY3QoYXQgaWR4MTogSW50LCB3aXRoT2JqZWN0QXQgaWR4MjogSW50KSB7fQogICAgb3BlbiBmdW5jIGZpbHRlcih1c2luZyBwcmVkaWNhdGU6IE5TUHJlZGljYXRlKSB7fQogICAgb3BlbiBmdW5jIGluc2VydChfIGFuT2JqZWN0OiBBbnksIGF0IGluZGV4OiBJbnQpIHt9CiAgICBvcGVuIGZ1bmMgcmVtb3ZlKF8gYW5PYmplY3Q6IEFueSkge30KICAgIG9wZW4gZnVuYyByZW1vdmUoXyBhbk9iamVjdDogQW55LCBpbiByYW5nZTogTlNSYW5nZSkge30KICAgIG9wZW4gZnVuYyByZW1vdmVBbGxPYmplY3RzKCkge30KICAgIG9wZW4gZnVuYyByZW1vdmVMYXN0T2JqZWN0KCkge30KICAgIG9wZW4gZnVuYyByZW1vdmVPYmplY3QoYXQgaW5kZXg6IEludCkge30KICAgIG9wZW4gZnVuYyByZW1vdmVPYmplY3QoaWRlbnRpY2FsVG8gYW5PYmplY3Q6IEFueSkge30KICAgIG9wZW4gZnVuYyByZW1vdmVPYmplY3QoaWRlbnRpY2FsVG8gYW5PYmplY3Q6IEFueSwgaW4gcmFuZ2U6IE5TUmFuZ2UpIHt9CiAgICBvcGVuIGZ1bmMgcmVtb3ZlT2JqZWN0cyhhdCBpbmRleGVzOiBJbmRleFNldCkge30KICAgIG9wZW4gZnVuYyByZW1vdmVPYmplY3RzKGluIG90aGVyQXJyYXk6IFtBbnldKSB7fQogICAgb3BlbiBmdW5jIHJlcGxhY2VPYmplY3QoYXQgaW5kZXg6IEludCwgd2l0aCBhbk9iamVjdDogQW55KSB7fQogICAgb3BlbiBmdW5jIHJlcGxhY2VPYmplY3RzKGF0IGluZGV4ZXM6IEluZGV4U2V0LCB3aXRoIG9iamVjdHM6IFtBbnldKSB7fQogICAgb3BlbiBmdW5jIHJlcGxhY2VPYmplY3RzKGluIHJhbmdlOiBOU1JhbmdlLCB3aXRoT2JqZWN0c0Zyb20gb3RoZXJBcnJheTogW0FueV0pIHt9CiAgICBvcGVuIGZ1bmMgcmVwbGFjZU9iamVjdHMoaW4gcmFuZ2U6IE5TUmFuZ2UsIHdpdGhPYmplY3RzRnJvbSBvdGhlckFycmF5OiBbQW55XSwgcmFuZ2Ugb3RoZXJSYW5nZTogTlNSYW5nZSkge30KICAgIG9wZW4gZnVuYyBzZXRBcnJheShfIG90aGVyQXJyYXk6IFtBbnldKSB7fQogICAgb3BlbiBmdW5jIHNvcnQoXyBjb21wYXJlOiAoQW55LCBBbnksIFVuc2FmZU11dGFibGVSYXdQb2ludGVyPykgLT4gSW50LCBjb250ZXh0OiBVbnNhZmVNdXRhYmxlUmF3UG9pbnRlcj8pIHt9CiAgICBvcGVuIGZ1bmMgc29ydChjb21wYXJhdG9yOiBDb21wYXJhdG9yKSB7fQogICAgb3BlbiBmdW5jIHNvcnQob3B0aW9ucyBvcHRzOiBOU1NvcnRPcHRpb25zID0geCwgdXNpbmdDb21wYXJhdG9yIGNtcHRyOiBDb21wYXJhdG9yKSB7fQogICAgcHVibGljIGZ1bmMgc29ydCh1c2luZyBzb3J0RGVzY3JpcHRvcnM6IFtOU1NvcnREZXNjcmlwdG9yXSkge30KfQpvcGVuIGNsYXNzIE5TTXV0YWJsZUF0dHJpYnV0ZWRTdHJpbmcgOiBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNBdHRyaWJ1dGVkU3RyaW5nLCBOU0NvZGluZywgTlNDb3B5aW5nLCBOU011dGFibGVDb3B5aW5nLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCwgTlNTZWN1cmVDb2RpbmcsIF8sIF9DRkJyaWRnZWFibGUgewogICAgb3BlbiB2YXIgbXV0YWJsZVN0cmluZzogTlNNdXRhYmxlU3RyaW5nIHsgZ2V0IH0KICAgIG9wZW4gZnVuYyBhZGRBdHRyaWJ1dGUoXyBuYW1lOiBOU0F0dHJpYnV0ZWRTdHJpbmdLZXksIHZhbHVlOiBBbnksIHJhbmdlOiBOU1JhbmdlKSB7fQogICAgb3BlbiBmdW5jIGFkZEF0dHJpYnV0ZXMoXyBhdHRyczogW05TQXR0cmlidXRlZFN0cmluZ0tleTogQW55XSwgcmFuZ2U6IE5TUmFuZ2UpIHt9CiAgICBvcGVuIGZ1bmMgYXBwZW5kKF8gYXR0clN0cmluZzogTlNBdHRyaWJ1dGVkU3RyaW5nKSB7fQogICAgb3BlbiBmdW5jIGJlZ2luRWRpdGluZygpIHt9CiAgICBvcGVuIGZ1bmMgZGVsZXRlQ2hhcmFjdGVycyhpbiByYW5nZTogTlNSYW5nZSkge30KICAgIG9wZW4gZnVuYyBlbmRFZGl0aW5nKCkge30KICAgIG9wZW4gZnVuYyBpbnNlcnQoXyBhdHRyU3RyaW5nOiBOU0F0dHJpYnV0ZWRTdHJpbmcsIGF0IGxvYzogSW50KSB7fQogICAgb3BlbiBmdW5jIHJlbW92ZUF0dHJpYnV0ZShfIG5hbWU6IE5TQXR0cmlidXRlZFN0cmluZ0tleSwgcmFuZ2U6IE5TUmFuZ2UpIHt9CiAgICBvcGVuIGZ1bmMgcmVwbGFjZUNoYXJhY3RlcnMoaW4gcmFuZ2U6IE5TUmFuZ2UsIHdpdGggYXR0clN0cmluZzogTlNBdHRyaWJ1dGVkU3RyaW5nKSB7fQogICAgb3BlbiBmdW5jIHNldEF0dHJpYnV0ZWRTdHJpbmcoXyBhdHRyU3RyaW5nOiBOU0F0dHJpYnV0ZWRTdHJpbmcpIHt9CiAgICBvcGVuIGZ1bmMgc2V0QXR0cmlidXRlcyhfIGF0dHJzOiBbTlNBdHRyaWJ1dGVkU3RyaW5nS2V5OiBBbnldPywgcmFuZ2U6IE5TUmFuZ2UpIHt9Cn0Kb3BlbiBjbGFzcyBOU011dGFibGVDaGFyYWN0ZXJTZXQgOiBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNDaGFyYWN0ZXJTZXQsIE5TQ29kaW5nLCBOU0NvcHlpbmcsIE5TTXV0YWJsZUNvcHlpbmcsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBfLCBfU3RydWN0VHlwZUJyaWRnZWFibGUsIF9Td2lmdEJyaWRnZWFibGUgewogICAgb3BlbiBjbGFzcyBmdW5jIGFscGhhbnVtZXJpYygpIC0+IE5TTXV0YWJsZUNoYXJhY3RlclNldCB7fQogICAgb3BlbiBjbGFzcyBmdW5jIGNhcGl0YWxpemVkTGV0dGVyKCkgLT4gTlNNdXRhYmxlQ2hhcmFjdGVyU2V0IHt9CiAgICBvcGVuIGNsYXNzIGZ1bmMgY29udHJvbCgpIC0+IE5TTXV0YWJsZUNoYXJhY3RlclNldCB7fQogICAgb3BlbiBjbGFzcyBmdW5jIGRlY2ltYWxEaWdpdCgpIC0+IE5TTXV0YWJsZUNoYXJhY3RlclNldCB7fQogICAgb3BlbiBjbGFzcyBmdW5jIGRlY29tcG9zYWJsZSgpIC0+IE5TTXV0YWJsZUNoYXJhY3RlclNldCB7fQogICAgb3BlbiBjbGFzcyBmdW5jIGlsbGVnYWwoKSAtPiBOU011dGFibGVDaGFyYWN0ZXJTZXQge30KICAgIHB1YmxpYyBjbGFzcyBmdW5jIGxldHRlcigpIC0+IE5TTXV0YWJsZUNoYXJhY3RlclNldCB7fQogICAgb3BlbiBjbGFzcyBmdW5jIGxvd2VyY2FzZUxldHRlcigpIC0+IE5TTXV0YWJsZUNoYXJhY3RlclNldCB7fQogICAgb3BlbiBjbGFzcyBmdW5jIG5ld2xpbmUoKSAtPiBOU011dGFibGVDaGFyYWN0ZXJTZXQge30KICAgIG9wZW4gY2xhc3MgZnVuYyBub25CYXNlKCkgLT4gTlNNdXRhYmxlQ2hhcmFjdGVyU2V0IHt9CiAgICBvcGVuIGNsYXNzIGZ1bmMgcHVuY3R1YXRpb24oKSAtPiBOU011dGFibGVDaGFyYWN0ZXJTZXQge30KICAgIG9wZW4gY2xhc3MgZnVuYyBzeW1ib2woKSAtPiBOU011dGFibGVDaGFyYWN0ZXJTZXQge30KICAgIG9wZW4gY2xhc3MgZnVuYyB1cHBlcmNhc2VMZXR0ZXIoKSAtPiBOU011dGFibGVDaGFyYWN0ZXJTZXQge30KICAgIG9wZW4gY2xhc3MgZnVuYyB3aGl0ZXNwYWNlKCkgLT4gTlNNdXRhYmxlQ2hhcmFjdGVyU2V0IHt9CiAgICBvcGVuIGNsYXNzIGZ1bmMgd2hpdGVzcGFjZUFuZE5ld2xpbmUoKSAtPiBOU011dGFibGVDaGFyYWN0ZXJTZXQge30KICAgIG9wZW4gZnVuYyBhZGRDaGFyYWN0ZXJzKGluIGFSYW5nZTogTlNSYW5nZSkge30KICAgIG9wZW4gZnVuYyBmb3JtSW50ZXJzZWN0aW9uKHdpdGggb3RoZXJTZXQ6IENoYXJhY3RlclNldCkge30KICAgIG9wZW4gZnVuYyBmb3JtVW5pb24od2l0aCBvdGhlclNldDogQ2hhcmFjdGVyU2V0KSB7fQogICAgb3BlbiBmdW5jIGludmVydCgpIHt9CiAgICBvcGVuIGZ1bmMgcmVtb3ZlQ2hhcmFjdGVycyhpbiBhUmFuZ2U6IE5TUmFuZ2UpIHt9Cn0Kb3BlbiBjbGFzcyBOU011dGFibGVEYXRhIDogQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TQ29kaW5nLCBOU0NvcHlpbmcsIE5TRGF0YSwgTlNNdXRhYmxlQ29weWluZywgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wsIE5TU2VjdXJlQ29kaW5nLCBfLCBfQ0ZCcmlkZ2VhYmxlLCBfU3RydWN0VHlwZUJyaWRnZWFibGUsIF9Td2lmdEJyaWRnZWFibGUgewogICAgcHVibGljIGluaXQ/KGNhcGFjaXR5OiBJbnQpIHt9CiAgICBwdWJsaWMgaW5pdD8obGVuZ3RoOiBJbnQpIHt9CiAgICBvcGVuIHZhciBtdXRhYmxlQnl0ZXM6IFVuc2FmZU11dGFibGVSYXdQb2ludGVyIHsgZ2V0IH0KICAgIG9wZW4gZnVuYyBhcHBlbmQoXyBvdGhlcjogRGF0YSkge30KICAgIG9wZW4gZnVuYyBhcHBlbmQoXyBieXRlczogVW5zYWZlUmF3UG9pbnRlciwgbGVuZ3RoOiBJbnQpIHt9CiAgICBvcGVuIGZ1bmMgaW5jcmVhc2VMZW5ndGgoYnkgZXh0cmFMZW5ndGg6IEludCkge30KICAgIG9wZW4gZnVuYyByZXBsYWNlQnl0ZXMoaW4gcmFuZ2U6IE5TUmFuZ2UsIHdpdGhCeXRlcyBieXRlczogVW5zYWZlUmF3UG9pbnRlcikge30KICAgIG9wZW4gZnVuYyByZXBsYWNlQnl0ZXMoaW4gcmFuZ2U6IE5TUmFuZ2UsIHdpdGhCeXRlcyByZXBsYWNlbWVudEJ5dGVzOiBVbnNhZmVSYXdQb2ludGVyPywgbGVuZ3RoIHJlcGxhY2VtZW50TGVuZ3RoOiBJbnQpIHt9CiAgICBvcGVuIGZ1bmMgcmVzZXRCeXRlcyhpbiByYW5nZTogTlNSYW5nZSkge30KICAgIG9wZW4gZnVuYyBzZXREYXRhKF8gZGF0YTogRGF0YSkge30KfQpvcGVuIGNsYXNzIE5TTXV0YWJsZURpY3Rpb25hcnkgOiBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21SZWZsZWN0YWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgRXhwcmVzc2libGVCeURpY3Rpb25hcnlMaXRlcmFsLCBIYXNoYWJsZSwgTlNDb2RpbmcsIE5TQ29weWluZywgTlNEaWN0aW9uYXJ5LCBOU011dGFibGVDb3B5aW5nLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCwgTlNTZWN1cmVDb2RpbmcsIFNlcXVlbmNlLCBfLCBfQ0ZCcmlkZ2VhYmxlLCBfU3RydWN0VHlwZUJyaWRnZWFibGUsIF9Td2lmdEJyaWRnZWFibGUgewogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQoY2FwYWNpdHkgbnVtSXRlbXM6IEludCkge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KHNoYXJlZEtleVNldCBrZXlzZXQ6IEFueSkge30KICAgIG9wZW4gZnVuYyBhZGRFbnRyaWVzKGZyb20gb3RoZXJEaWN0aW9uYXJ5OiBbQW55SGFzaGFibGU6IEFueV0pIHt9CiAgICBvcGVuIGZ1bmMgcmVtb3ZlQWxsT2JqZWN0cygpIHt9CiAgICBvcGVuIGZ1bmMgcmVtb3ZlT2JqZWN0KGZvcktleSBhS2V5OiBBbnkpIHt9CiAgICBvcGVuIGZ1bmMgcmVtb3ZlT2JqZWN0cyhmb3JLZXlzIGtleUFycmF5OiBbQW55XSkge30KICAgIG9wZW4gZnVuYyBzZXREaWN0aW9uYXJ5KF8gb3RoZXJEaWN0aW9uYXJ5OiBbQW55SGFzaGFibGU6IEFueV0pIHt9CiAgICBvcGVuIGZ1bmMgc2V0T2JqZWN0KF8gYW5PYmplY3Q6IEFueSwgZm9yS2V5IGFLZXk6IEFueUhhc2hhYmxlKSB7fQp9Cm9wZW4gY2xhc3MgTlNNdXRhYmxlSW5kZXhTZXQgOiBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNDb2RpbmcsIE5TQ29weWluZywgTlNJbmRleFNldCwgTlNNdXRhYmxlQ29weWluZywgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wsIE5TU2VjdXJlQ29kaW5nLCBTZXF1ZW5jZSwgXywgX1N0cnVjdFR5cGVCcmlkZ2VhYmxlIHsKICAgIG9wZW4gZnVuYyBhZGQoXyBpbmRleFNldDogSW5kZXhTZXQpIHt9CiAgICBvcGVuIGZ1bmMgYWRkKGluIHI6IE5TUmFuZ2UpIHt9CiAgICBvcGVuIGZ1bmMgcmVtb3ZlKF8gaW5kZXhTZXQ6IEluZGV4U2V0KSB7fQogICAgb3BlbiBmdW5jIHJlbW92ZShpbiByYW5nZTogTlNSYW5nZSkge30KICAgIG9wZW4gZnVuYyByZW1vdmVBbGxJbmRleGVzKCkge30KICAgIG9wZW4gZnVuYyBzaGlmdEluZGV4ZXNTdGFydGluZyhhdCBpbmRleDogSW50LCBieSBkZWx0YTogSW50KSB7fQp9Cm9wZW4gY2xhc3MgTlNNdXRhYmxlT3JkZXJlZFNldCA6IEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEV4cHJlc3NpYmxlQnlBcnJheUxpdGVyYWwsIEhhc2hhYmxlLCBOU0NvZGluZywgTlNDb3B5aW5nLCBOU011dGFibGVDb3B5aW5nLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCwgTlNPcmRlcmVkU2V0LCBOU1NlY3VyZUNvZGluZywgU2VxdWVuY2UsIF8gewogICAgcHVibGljIGluaXQoY2FwYWNpdHkgbnVtSXRlbXM6IEludCkge30KICAgIG9wZW4gZnVuYyBhZGQoXyBvYmplY3Q6IEFueSkge30KICAgIG9wZW4gZnVuYyBhZGQoXyBvYmplY3RzOiBVbnNhZmVQb2ludGVyPEFueU9iamVjdD4hLCBjb3VudDogSW50KSB7fQogICAgb3BlbiBmdW5jIGFkZE9iamVjdHMoZnJvbSBhcnJheTogW0FueV0pIHt9CiAgICBvcGVuIGZ1bmMgZXhjaGFuZ2VPYmplY3QoYXQgaWR4MTogSW50LCB3aXRoT2JqZWN0QXQgaWR4MjogSW50KSB7fQogICAgb3BlbiBmdW5jIGZpbHRlcih1c2luZyBwcmVkaWNhdGU6IE5TUHJlZGljYXRlKSB7fQogICAgb3BlbiBmdW5jIGluc2VydChfIG9iamVjdDogQW55LCBhdCBpZHg6IEludCkge30KICAgIG9wZW4gZnVuYyBpbnRlcnNlY3QoXyBvdGhlcjogTlNPcmRlcmVkU2V0KSB7fQogICAgb3BlbiBmdW5jIGludGVyc2VjdFNldChfIG90aGVyOiBTZXQ8QW55SGFzaGFibGU+KSB7fQogICAgb3BlbiBmdW5jIG1pbnVzKF8gb3RoZXI6IE5TT3JkZXJlZFNldCkge30KICAgIG9wZW4gZnVuYyBtaW51c1NldChfIG90aGVyOiBTZXQ8QW55SGFzaGFibGU+KSB7fQogICAgb3BlbiBmdW5jIG1vdmVPYmplY3RzKGF0IGluZGV4ZXM6IEluZGV4U2V0LCB0byBpZHg6IEludCkge30KICAgIG9wZW4gZnVuYyByZW1vdmUoXyB2YWw6IEFueSkge30KICAgIHB1YmxpYyBmdW5jIHJlbW92ZUFsbE9iamVjdHMoKSB7fQogICAgb3BlbiBmdW5jIHJlbW92ZU9iamVjdChhdCBpZHg6IEludCkge30KICAgIG9wZW4gZnVuYyByZW1vdmVPYmplY3RzKGF0IGluZGV4ZXM6IEluZGV4U2V0KSB7fQogICAgb3BlbiBmdW5jIHJlbW92ZU9iamVjdHMoaW4gYXJyYXk6IFtBbnldKSB7fQogICAgb3BlbiBmdW5jIHJlcGxhY2VPYmplY3QoYXQgaWR4OiBJbnQsIHdpdGggb2JqOiBBbnkpIHt9CiAgICBvcGVuIGZ1bmMgcmVwbGFjZU9iamVjdHMoYXQgaW5kZXhlczogSW5kZXhTZXQsIHdpdGggb2JqZWN0czogW0FueV0pIHt9CiAgICBvcGVuIGZ1bmMgcmVwbGFjZU9iamVjdHMoaW4gcmFuZ2U6IE5TUmFuZ2UsIHdpdGggb2JqZWN0czogVW5zYWZlUG9pbnRlcjxBbnlPYmplY3Q+ISwgY291bnQ6IEludCkge30KICAgIG9wZW4gZnVuYyBzZXRPYmplY3QoXyBvYmo6IEFueSwgYXQgaWR4OiBJbnQpIHt9CiAgICBvcGVuIGZ1bmMgc29ydChjb21wYXJhdG9yIGNtcHRyOiAoQW55LCBBbnkpIC0+IENvbXBhcmlzb25SZXN1bHQpIHt9CiAgICBvcGVuIGZ1bmMgc29ydChvcHRpb25zIG9wdHM6IE5TU29ydE9wdGlvbnMgPSB4LCB1c2luZ0NvbXBhcmF0b3IgY21wdHI6IChBbnksIEFueSkgLT4gQ29tcGFyaXNvblJlc3VsdCkge30KICAgIHB1YmxpYyBmdW5jIHNvcnQodXNpbmcgc29ydERlc2NyaXB0b3JzOiBbTlNTb3J0RGVzY3JpcHRvcl0pIHt9CiAgICBvcGVuIGZ1bmMgc29ydFJhbmdlKF8gcmFuZ2U6IE5TUmFuZ2UsIG9wdGlvbnMgb3B0czogTlNTb3J0T3B0aW9ucyA9IHgsIHVzaW5nQ29tcGFyYXRvciBjbXB0cjogKEFueSwgQW55KSAtPiBDb21wYXJpc29uUmVzdWx0KSB7fQogICAgb3BlbiBmdW5jIHVuaW9uKF8gb3RoZXI6IE5TT3JkZXJlZFNldCkge30KICAgIG9wZW4gZnVuYyB1bmlvblNldChfIG90aGVyOiBTZXQ8QW55SGFzaGFibGU+KSB7fQp9Cm9wZW4gY2xhc3MgTlNNdXRhYmxlU2V0IDogQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tUmVmbGVjdGFibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU0NvZGluZywgTlNDb3B5aW5nLCBOU011dGFibGVDb3B5aW5nLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCwgTlNTZWN1cmVDb2RpbmcsIE5TU2V0LCBTZXF1ZW5jZSwgXywgX0NGQnJpZGdlYWJsZSwgX1N0cnVjdFR5cGVCcmlkZ2VhYmxlLCBfU3dpZnRCcmlkZ2VhYmxlIHsKICAgIHB1YmxpYyByZXF1aXJlZCBpbml0KGNhcGFjaXR5IG51bUl0ZW1zOiBJbnQpIHt9CiAgICBvcGVuIGZ1bmMgYWRkKF8gb2JqZWN0OiBBbnkpIHt9CiAgICBvcGVuIGZ1bmMgYWRkT2JqZWN0cyhmcm9tIGFycmF5OiBbQW55XSkge30KICAgIG9wZW4gZnVuYyBmaWx0ZXIodXNpbmcgcHJlZGljYXRlOiBOU1ByZWRpY2F0ZSkge30KICAgIG9wZW4gZnVuYyBpbnRlcnNlY3QoXyBvdGhlclNldDogU2V0PEFueUhhc2hhYmxlPikge30KICAgIG9wZW4gZnVuYyBtaW51cyhfIG90aGVyU2V0OiBTZXQ8QW55SGFzaGFibGU+KSB7fQogICAgb3BlbiBmdW5jIHJlbW92ZShfIG9iamVjdDogQW55KSB7fQogICAgb3BlbiBmdW5jIHJlbW92ZUFsbE9iamVjdHMoKSB7fQogICAgb3BlbiBmdW5jIHNldFNldChfIG90aGVyU2V0OiBTZXQ8QW55SGFzaGFibGU+KSB7fQogICAgb3BlbiBmdW5jIHVuaW9uKF8gb3RoZXJTZXQ6IFNldDxBbnlIYXNoYWJsZT4pIHt9Cn0Kb3BlbiBjbGFzcyBOU011dGFibGVTdHJpbmcgOiBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBFeHByZXNzaWJsZUJ5U3RyaW5nTGl0ZXJhbCwgSGFzaGFibGUsIE5TQ29kaW5nLCBOU0NvcHlpbmcsIE5TTXV0YWJsZUNvcHlpbmcsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBOU1NlY3VyZUNvZGluZywgTlNTdHJpbmcsIF8sIF9DRkJyaWRnZWFibGUsIF9TdHJ1Y3RUeXBlQnJpZGdlYWJsZSwgX1N3aWZ0QnJpZGdlYWJsZSB7CiAgICBwdWJsaWMgcmVxdWlyZWQgaW5pdChjYXBhY2l0eTogSW50KSB7fQogICAgcHVibGljIGZ1bmMgYXBwZW5kKF8gYVN0cmluZzogU3RyaW5nKSB7fQogICAgcHVibGljIGZ1bmMgYXBwbHlUcmFuc2Zvcm0oXyB0cmFuc2Zvcm06IFN0cmluZywgcmV2ZXJzZTogQm9vbCwgcmFuZ2U6IE5TUmFuZ2UsIHVwZGF0ZWRSYW5nZSByZXN1bHRpbmdSYW5nZTogTlNSYW5nZVBvaW50ZXI/KSAtPiBCb29sIHt9CiAgICBwdWJsaWMgZnVuYyBkZWxldGVDaGFyYWN0ZXJzKGluIHJhbmdlOiBOU1JhbmdlKSB7fQogICAgcHVibGljIGZ1bmMgaW5zZXJ0KF8gYVN0cmluZzogU3RyaW5nLCBhdCBsb2M6IEludCkge30KICAgIG9wZW4gZnVuYyByZXBsYWNlQ2hhcmFjdGVycyhpbiByYW5nZTogTlNSYW5nZSwgd2l0aCBhU3RyaW5nOiBTdHJpbmcpIHt9CiAgICBwdWJsaWMgZnVuYyByZXBsYWNlT2NjdXJyZW5jZXMob2YgdGFyZ2V0OiBTdHJpbmcsIHdpdGggcmVwbGFjZW1lbnQ6IFN0cmluZywgb3B0aW9uczogQ29tcGFyZU9wdGlvbnMgPSB4LCByYW5nZSBzZWFyY2hSYW5nZTogTlNSYW5nZSkgLT4gSW50IHt9CiAgICBwdWJsaWMgZnVuYyBzZXRTdHJpbmcoXyBhU3RyaW5nOiBTdHJpbmcpIHt9Cn0Kb3BlbiBjbGFzcyBOU011dGFibGVVUkxSZXF1ZXN0IDogQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TQ29kaW5nLCBOU0NvcHlpbmcsIE5TTXV0YWJsZUNvcHlpbmcsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBOU1NlY3VyZUNvZGluZywgTlNVUkxSZXF1ZXN0LCBfLCBfU3RydWN0VHlwZUJyaWRnZWFibGUgewogICAgb3BlbiBmdW5jIGFkZFZhbHVlKF8gdmFsdWU6IFN0cmluZywgZm9ySFRUUEhlYWRlckZpZWxkIGZpZWxkOiBTdHJpbmcpIHt9CiAgICBvcGVuIGZ1bmMgc2V0VmFsdWUoXyB2YWx1ZTogU3RyaW5nPywgZm9ySFRUUEhlYWRlckZpZWxkIGZpZWxkOiBTdHJpbmcpIHt9Cn0Kb3BlbiBjbGFzcyBOU05vdGlmaWNhdGlvbiA6IEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU0NvZGluZywgTlNDb3B5aW5nLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCwgXyB7CiAgICBwdWJsaWMgaW5pdChuYW1lOiBOYW1lLCBvYmplY3Q6IEFueT8sIHVzZXJJbmZvOiBbQW55SGFzaGFibGU6IEFueV0/ID0geCkge30KICAgIG9wZW4gdmFyIG5hbWU6IE5hbWUgeyBnZXQgfQogICAgb3BlbiB2YXIgb2JqZWN0OiBBbnk/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHVzZXJJbmZvOiBbQW55SGFzaGFibGU6IEFueV0/IHsgZ2V0IH0KfQpvcGVuIGNsYXNzIE5TTnVsbCA6IEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU0NvZGluZywgTlNDb3B5aW5nLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCwgTlNTZWN1cmVDb2RpbmcsIF8gewp9Cm9wZW4gY2xhc3MgTlNOdW1iZXIgOiBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBFeHByZXNzaWJsZUJ5Qm9vbGVhbkxpdGVyYWwsIEV4cHJlc3NpYmxlQnlGbG9hdExpdGVyYWwsIEV4cHJlc3NpYmxlQnlJbnRlZ2VyTGl0ZXJhbCwgSGFzaGFibGUsIE5TQ29kaW5nLCBOU0NvcHlpbmcsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBOU1NlY3VyZUNvZGluZywgTlNWYWx1ZSwgXywgX0ZhY3RvcnksIF9OU051bWJlckNhc3RpbmdXaXRob3V0QnJpZGdpbmcgewogICAgcHVibGljIHJlcXVpcmVkIGNvbnZlbmllbmNlIGluaXQoYm9vbGVhbkxpdGVyYWwgdmFsdWU6IEJvb2wpIHt9CiAgICBwdWJsaWMgcmVxdWlyZWQgY29udmVuaWVuY2UgaW5pdChmbG9hdExpdGVyYWwgdmFsdWU6IERvdWJsZSkge30KICAgIHB1YmxpYyByZXF1aXJlZCBjb252ZW5pZW5jZSBpbml0KGludGVnZXJMaXRlcmFsIHZhbHVlOiBJbnQpIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdCh2YWx1ZTogQm9vbCkge30KICAgIG9wZW4gdmFyIGJvb2xWYWx1ZTogQm9vbCB7IGdldCB9CiAgICBwdWJsaWMgdmFyIGRlY2ltYWxWYWx1ZTogRGVjaW1hbCB7IGdldCB9CiAgICBvcGVuIHZhciBkb3VibGVWYWx1ZTogRG91YmxlIHsgZ2V0IH0KICAgIG9wZW4gdmFyIGZsb2F0VmFsdWU6IEZsb2F0IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGludDE2VmFsdWU6IEludDE2IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGludDMyVmFsdWU6IEludDMyIHsgZ2V0IH0KICAgIG9wZW4gdmFyIGludDY0VmFsdWU6IEludDY0IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGludDhWYWx1ZTogSW50OCB7IGdldCB9CiAgICBvcGVuIHZhciBpbnRWYWx1ZTogSW50IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHN0cmluZ1ZhbHVlOiBTdHJpbmcgeyBnZXQgfQogICAgb3BlbiB2YXIgdWludDE2VmFsdWU6IFVJbnQxNiB7IGdldCB9CiAgICBvcGVuIHZhciB1aW50MzJWYWx1ZTogVUludDMyIHsgZ2V0IH0KICAgIG9wZW4gdmFyIHVpbnQ2NFZhbHVlOiBVSW50NjQgeyBnZXQgfQogICAgb3BlbiB2YXIgdWludDhWYWx1ZTogVUludDggeyBnZXQgfQogICAgb3BlbiB2YXIgdWludFZhbHVlOiBVSW50IHsgZ2V0IH0KICAgIG9wZW4gZnVuYyBjb21wYXJlKF8gb3RoZXJOdW1iZXI6IE5TTnVtYmVyKSAtPiBDb21wYXJpc29uUmVzdWx0IHt9CiAgICBvcGVuIGZ1bmMgZGVzY3JpcHRpb24od2l0aExvY2FsZSBsb2NhbGU6IExvY2FsZT8pIC0+IFN0cmluZyB7fQp9Cm9wZW4gY2xhc3MgTlNPYmplY3QgOiBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNPYmplY3RQcm90b2NvbCwgXyB7CiAgICBvcGVuIGNsYXNzIGZ1bmMgY2xhc3NGYWxsYmFja3NGb3JLZXllZEFyY2hpdmVyKCkgLT4gW1N0cmluZ10ge30KICAgIG9wZW4gY2xhc3MgZnVuYyBjbGFzc0ZvcktleWVkVW5hcmNoaXZlcigpIC0+IEFueUNsYXNzIHt9CiAgICBwdWJsaWMgaW5pdCgpIHt9CiAgICBvcGVuIHZhciBjbGFzc0ZvckNvZGVyOiBBbnlDbGFzcyB7IGdldCB9CiAgICBvcGVuIHZhciBjbGFzc0ZvcktleWVkQXJjaGl2ZXI6IEFueUNsYXNzPyB7IGdldCB9CiAgICBvcGVuIHZhciBoYXNoVmFsdWU6IEludCB7IGdldCB9CiAgICBwdWJsaWMgZnVuYyA9PShsaHM6IE5TT2JqZWN0LCByaHM6IE5TT2JqZWN0KSAtPiBCb29sIHt9CiAgICBvcGVuIGZ1bmMgY29weSgpIC0+IEFueSB7fQogICAgb3BlbiBmdW5jIG11dGFibGVDb3B5KCkgLT4gQW55IHt9CiAgICBvcGVuIGZ1bmMgcmVwbGFjZW1lbnRPYmplY3QoZm9yIGFDb2RlcjogTlNDb2RlcikgLT4gQW55PyB7fQogICAgb3BlbiBmdW5jIHJlcGxhY2VtZW50T2JqZWN0KGZvciBhcmNoaXZlcjogTlNLZXllZEFyY2hpdmVyKSAtPiBBbnk/IHt9Cn0Kb3BlbiBjbGFzcyBOU09yZGVyZWRTZXQgOiBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBFeHByZXNzaWJsZUJ5QXJyYXlMaXRlcmFsLCBIYXNoYWJsZSwgTlNDb2RpbmcsIE5TQ29weWluZywgTlNNdXRhYmxlQ29weWluZywgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wsIE5TU2VjdXJlQ29kaW5nLCBTZXF1ZW5jZSwgXyB7CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdChhcnJheTogW0FueV0pIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdChhcnJheSBzZXQ6IFtBbnldLCBjb3B5SXRlbXMgZmxhZzogQm9vbCkge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KGFycmF5IHNldDogW0FueV0sIHJhbmdlOiBOU1JhbmdlLCBjb3B5SXRlbXMgZmxhZzogQm9vbCkge30KICAgIHB1YmxpYyByZXF1aXJlZCBjb252ZW5pZW5jZSBpbml0KGFycmF5TGl0ZXJhbCBlbGVtZW50czogQW55Li4uKSB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQob2JqZWN0OiBBbnkpIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdChvYmplY3RzIGVsZW1lbnRzOiBBbnkuLi4pIHt9CiAgICBwdWJsaWMgaW5pdChvYmplY3RzOiBVbnNhZmVQb2ludGVyPEFueU9iamVjdD4hLCBjb3VudCBjbnQ6IEludCkge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KG9yZGVyZWRTZXQgc2V0OiBOU09yZGVyZWRTZXQpIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdChvcmRlcmVkU2V0IHNldDogTlNPcmRlcmVkU2V0LCBjb3B5SXRlbXMgZmxhZzogQm9vbCkge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KG9yZGVyZWRTZXQgc2V0OiBOU09yZGVyZWRTZXQsIHJhbmdlOiBOU1JhbmdlLCBjb3B5SXRlbXMgZmxhZzogQm9vbCkge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KHNldDogU2V0PEFueUhhc2hhYmxlPikge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KHNldDogU2V0PEFueUhhc2hhYmxlPiwgY29weUl0ZW1zIGZsYWc6IEJvb2wpIHt9CiAgICBwdWJsaWMgdmFyIGFycmF5OiBbQW55XSB7IGdldCB9CiAgICBvcGVuIHZhciBjb3VudDogSW50IHsgZ2V0IH0KICAgIHB1YmxpYyB2YXIgZmlyc3RPYmplY3Q6IEFueT8geyBnZXQgfQogICAgcHVibGljIHZhciBsYXN0T2JqZWN0OiBBbnk/IHsgZ2V0IH0KICAgIHB1YmxpYyB2YXIgcmV2ZXJzZWQ6IE5TT3JkZXJlZFNldCB7IGdldCB9CiAgICBwdWJsaWMgdmFyIHNldDogU2V0PEFueUhhc2hhYmxlPiB7IGdldCB9CiAgICBvcGVuIHN1YnNjcmlwdChpZHg6IEludCkgLT4gQW55IHsgZ2V0IH0ge30KICAgIG9wZW4gZnVuYyBjb250YWlucyhfIG9iamVjdDogQW55KSAtPiBCb29sIHt9CiAgICBwdWJsaWMgZnVuYyBkZXNjcmlwdGlvbih3aXRoTG9jYWxlIGxvY2FsZTogTG9jYWxlPykgLT4gU3RyaW5nIHt9CiAgICBwdWJsaWMgZnVuYyBkZXNjcmlwdGlvbih3aXRoTG9jYWxlIGxvY2FsZTogTG9jYWxlPywgaW5kZW50IGxldmVsOiBJbnQpIC0+IFN0cmluZyB7fQogICAgb3BlbiBmdW5jIGVudW1lcmF0ZU9iamVjdHMoXyBibG9jazogKEFueSwgSW50LCBVbnNhZmVNdXRhYmxlUG9pbnRlcjxPYmpDQm9vbD4pIC0+IFN3aWZ0LlZvaWQpIHt9CiAgICBvcGVuIGZ1bmMgZW51bWVyYXRlT2JqZWN0cyhhdCBzOiBJbmRleFNldCwgb3B0aW9ucyBvcHRzOiBOU0VudW1lcmF0aW9uT3B0aW9ucyA9IHgsIHVzaW5nIGJsb2NrOiAoQW55LCBJbnQsIFVuc2FmZU11dGFibGVQb2ludGVyPE9iakNCb29sPikgLT4gU3dpZnQuVm9pZCkge30KICAgIG9wZW4gZnVuYyBlbnVtZXJhdGVPYmplY3RzKG9wdGlvbnMgb3B0czogTlNFbnVtZXJhdGlvbk9wdGlvbnMgPSB4LCB1c2luZyBibG9jazogKEFueSwgSW50LCBVbnNhZmVNdXRhYmxlUG9pbnRlcjxPYmpDQm9vbD4pIC0+IFN3aWZ0LlZvaWQpIHt9CiAgICBvcGVuIGZ1bmMgZmlsdGVyZWQodXNpbmcgcHJlZGljYXRlOiBOU1ByZWRpY2F0ZSkgLT4gTlNPcmRlcmVkU2V0IHt9CiAgICBwdWJsaWMgZnVuYyBnZXRPYmplY3RzKF8gb2JqZWN0czogaW5vdXQgW0FueU9iamVjdF0sIHJhbmdlOiBOU1JhbmdlKSB7fQogICAgb3BlbiBmdW5jIGluZGV4KF8gb3B0czogTlNFbnVtZXJhdGlvbk9wdGlvbnMgPSB4LCBvZk9iamVjdFBhc3NpbmdUZXN0IHByZWRpY2F0ZTogKEFueSwgSW50LCBVbnNhZmVNdXRhYmxlUG9pbnRlcjxPYmpDQm9vbD4pIC0+IEJvb2wpIC0+IEludCB7fQogICAgb3BlbiBmdW5jIGluZGV4KG9mIG9iamVjdDogQW55KSAtPiBJbnQge30KICAgIG9wZW4gZnVuYyBpbmRleChvZiBvYmplY3Q6IEFueSwgaW5Tb3J0ZWRSYW5nZSByYW5nZTogTlNSYW5nZSwgb3B0aW9ucyBvcHRzOiBOU0JpbmFyeVNlYXJjaGluZ09wdGlvbnMgPSB4LCB1c2luZ0NvbXBhcmF0b3IgY21wOiAoQW55LCBBbnkpIC0+IENvbXBhcmlzb25SZXN1bHQpIC0+IEludCB7fQogICAgb3BlbiBmdW5jIGluZGV4KG9mT2JqZWN0QXQgczogSW5kZXhTZXQsIG9wdGlvbnMgb3B0czogTlNFbnVtZXJhdGlvbk9wdGlvbnMgPSB4LCBwYXNzaW5nVGVzdCBwcmVkaWNhdGU6IChBbnksIEludCwgVW5zYWZlTXV0YWJsZVBvaW50ZXI8T2JqQ0Jvb2w+KSAtPiBCb29sKSAtPiBJbnQge30KICAgIG9wZW4gZnVuYyBpbmRleChvZk9iamVjdFBhc3NpbmdUZXN0IHByZWRpY2F0ZTogKEFueSwgSW50LCBVbnNhZmVNdXRhYmxlUG9pbnRlcjxPYmpDQm9vbD4pIC0+IEJvb2wpIC0+IEludCB7fQogICAgb3BlbiBmdW5jIGluZGV4ZXMob2ZPYmplY3RzQXQgczogSW5kZXhTZXQsIG9wdGlvbnMgb3B0czogTlNFbnVtZXJhdGlvbk9wdGlvbnMgPSB4LCBwYXNzaW5nVGVzdCBwcmVkaWNhdGU6IChBbnksIEludCwgVW5zYWZlTXV0YWJsZVBvaW50ZXI8T2JqQ0Jvb2w+KSAtPiBCb29sKSAtPiBJbmRleFNldCB7fQogICAgb3BlbiBmdW5jIGluZGV4ZXMob2ZPYmplY3RzUGFzc2luZ1Rlc3QgcHJlZGljYXRlOiAoQW55LCBJbnQsIFVuc2FmZU11dGFibGVQb2ludGVyPE9iakNCb29sPikgLT4gQm9vbCkgLT4gSW5kZXhTZXQge30KICAgIG9wZW4gZnVuYyBpbmRleGVzKG9wdGlvbnMgb3B0czogTlNFbnVtZXJhdGlvbk9wdGlvbnMgPSB4LCBvZk9iamVjdHNQYXNzaW5nVGVzdCBwcmVkaWNhdGU6IChBbnksIEludCwgVW5zYWZlTXV0YWJsZVBvaW50ZXI8T2JqQ0Jvb2w+KSAtPiBCb29sKSAtPiBJbmRleFNldCB7fQogICAgb3BlbiBmdW5jIGludGVyc2VjdHMoXyBvdGhlcjogTlNPcmRlcmVkU2V0KSAtPiBCb29sIHt9CiAgICBvcGVuIGZ1bmMgaW50ZXJzZWN0c1NldChfIHNldDogU2V0PEFueUhhc2hhYmxlPikgLT4gQm9vbCB7fQogICAgb3BlbiBmdW5jIGlzRXF1YWwodG8gb3RoZXI6IE5TT3JkZXJlZFNldCkgLT4gQm9vbCB7fQogICAgb3BlbiBmdW5jIGlzU3Vic2V0KG9mIG90aGVyOiBOU09yZGVyZWRTZXQpIC0+IEJvb2wge30KICAgIHB1YmxpYyBmdW5jIG1ha2VJdGVyYXRvcigpIC0+IEl0ZXJhdG9yIHt9CiAgICBvcGVuIGZ1bmMgb2JqZWN0KGF0IGlkeDogSW50KSAtPiBBbnkge30KICAgIHB1YmxpYyBmdW5jIG9iamVjdEVudW1lcmF0b3IoKSAtPiBOU0VudW1lcmF0b3Ige30KICAgIG9wZW4gZnVuYyBvYmplY3RzKGF0IGluZGV4ZXM6IEluZGV4U2V0KSAtPiBbQW55XSB7fQogICAgcHVibGljIGZ1bmMgcmV2ZXJzZU9iamVjdEVudW1lcmF0b3IoKSAtPiBOU0VudW1lcmF0b3Ige30KICAgIG9wZW4gZnVuYyBzb3J0ZWRBcnJheShjb21wYXJhdG9yIGNtcHRyOiAoQW55LCBBbnkpIC0+IENvbXBhcmlzb25SZXN1bHQpIC0+IFtBbnldIHt9CiAgICBvcGVuIGZ1bmMgc29ydGVkQXJyYXkob3B0aW9ucyBvcHRzOiBOU1NvcnRPcHRpb25zID0geCwgdXNpbmdDb21wYXJhdG9yIGNtcHRyOiAoQW55LCBBbnkpIC0+IENvbXBhcmlzb25SZXN1bHQpIC0+IFtBbnldIHt9CiAgICBwdWJsaWMgZnVuYyBzb3J0ZWRBcnJheSh1c2luZyBzb3J0RGVzY3JpcHRvcnM6IFtOU1NvcnREZXNjcmlwdG9yXSkgLT4gW0FueV0ge30KfQpvcGVuIGNsYXNzIE5TUGVyc29uTmFtZUNvbXBvbmVudHMgOiBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNDb2RpbmcsIE5TQ29weWluZywgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wsIE5TU2VjdXJlQ29kaW5nLCBfLCBfSGFzQ3VzdG9tQW55SGFzaGFibGVSZXByZXNlbnRhdGlvbiwgX1N0cnVjdFR5cGVCcmlkZ2VhYmxlIHsKICAgIG9wZW4gdmFyIGZhbWlseU5hbWU6IFN0cmluZz8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGdpdmVuTmFtZTogU3RyaW5nPyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgbWlkZGxlTmFtZTogU3RyaW5nPyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgbmFtZVByZWZpeDogU3RyaW5nPyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgbmFtZVN1ZmZpeDogU3RyaW5nPyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgbmlja25hbWU6IFN0cmluZz8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHBob25ldGljUmVwcmVzZW50YXRpb246IFBlcnNvbk5hbWVDb21wb25lbnRzPyB7IGdldCBzZXQgfQp9Cm9wZW4gY2xhc3MgTlNQcmVkaWNhdGUgOiBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNDb2RpbmcsIE5TQ29weWluZywgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wsIE5TU2VjdXJlQ29kaW5nLCBfIHsKICAgIHB1YmxpYyBpbml0KGJsb2NrOiBAZXNjYXBpbmcgKEFueT8sIFtTdHJpbmc6IEFueV0/KSAtPiBCb29sKSB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQoZm9ybWF0IHByZWRpY2F0ZUZvcm1hdDogU3RyaW5nLCBfIGFyZ3M6IENWYXJBcmcuLi4pIHt9CiAgICBwdWJsaWMgaW5pdChmb3JtYXQgcHJlZGljYXRlRm9ybWF0OiBTdHJpbmcsIGFyZ3VtZW50QXJyYXkgYXJndW1lbnRzOiBbQW55XT8pIHt9CiAgICBwdWJsaWMgaW5pdChmb3JtYXQgcHJlZGljYXRlRm9ybWF0OiBTdHJpbmcsIGFyZ3VtZW50cyBhcmdMaXN0OiBDVmFMaXN0UG9pbnRlcikge30KICAgIHB1YmxpYyBpbml0Pyhmcm9tTWV0YWRhdGFRdWVyeVN0cmluZyBxdWVyeVN0cmluZzogU3RyaW5nKSB7fQogICAgcHVibGljIGluaXQodmFsdWU6IEJvb2wpIHt9CiAgICBvcGVuIHZhciBwcmVkaWNhdGVGb3JtYXQ6IFN0cmluZyB7IGdldCB9CiAgICBvcGVuIGZ1bmMgYWxsb3dFdmFsdWF0aW9uKCkge30KICAgIG9wZW4gZnVuYyBldmFsdWF0ZSh3aXRoIG9iamVjdDogQW55PykgLT4gQm9vbCB7fQogICAgb3BlbiBmdW5jIGV2YWx1YXRlKHdpdGggb2JqZWN0OiBBbnk/LCBzdWJzdGl0dXRpb25WYXJpYWJsZXMgYmluZGluZ3M6IFtTdHJpbmc6IEFueV0/KSAtPiBCb29sIHt9CiAgICBvcGVuIGZ1bmMgd2l0aFN1YnN0aXR1dGlvblZhcmlhYmxlcyhfIHZhcmlhYmxlczogW1N0cmluZzogQW55XSkgLT4gU2VsZiB7fQp9Cm9wZW4gY2xhc3MgTlNSZWN1cnNpdmVMb2NrIDogQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TTG9ja2luZywgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wsIF8gewogICAgb3BlbiB2YXIgbmFtZTogU3RyaW5nPyB7IGdldCBzZXQgfQogICAgb3BlbiBmdW5jIGxvY2soYmVmb3JlIGxpbWl0OiBEYXRlKSAtPiBCb29sIHt9CiAgICBvcGVuIGZ1bmMgdHJ5KCkgLT4gQm9vbCB7fQp9Cm9wZW4gY2xhc3MgTlNSZWd1bGFyRXhwcmVzc2lvbiA6IEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU0NvZGluZywgTlNDb3B5aW5nLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCwgXyB7CiAgICBvcGVuIGNsYXNzIGZ1bmMgZXNjYXBlZFBhdHRlcm4oZm9yIHN0cmluZzogU3RyaW5nKSAtPiBTdHJpbmcge30KICAgIG9wZW4gY2xhc3MgZnVuYyBlc2NhcGVkVGVtcGxhdGUoZm9yIHN0cmluZzogU3RyaW5nKSAtPiBTdHJpbmcge30KICAgIHB1YmxpYyBpbml0KHBhdHRlcm46IFN0cmluZywgb3B0aW9uczogT3B0aW9ucyA9IHgpIHRocm93cyB7fQogICAgb3BlbiB2YXIgbnVtYmVyT2ZDYXB0dXJlR3JvdXBzOiBJbnQgeyBnZXQgfQogICAgb3BlbiB2YXIgb3B0aW9uczogT3B0aW9ucyB7IGdldCB9CiAgICBvcGVuIHZhciBwYXR0ZXJuOiBTdHJpbmcgeyBnZXQgfQogICAgcHVibGljIGZ1bmMgZW51bWVyYXRlTWF0Y2hlcyhpbiBzdHJpbmc6IFN0cmluZywgb3B0aW9uczogTlNSZWd1bGFyRXhwcmVzc2lvbi5NYXRjaGluZ09wdGlvbnMgPSB4LCByYW5nZTogTlNSYW5nZSwgdXNpbmcgYmxvY2s6IEBlc2NhcGluZyAoTlNUZXh0Q2hlY2tpbmdSZXN1bHQ/LCBOU1JlZ3VsYXJFeHByZXNzaW9uLk1hdGNoaW5nRmxhZ3MsIFVuc2FmZU11dGFibGVQb2ludGVyPE9iakNCb29sPikgLT4gU3dpZnQuVm9pZCkge30KICAgIHB1YmxpYyBmdW5jIGZpcnN0TWF0Y2goaW4gc3RyaW5nOiBTdHJpbmcsIG9wdGlvbnM6IE5TUmVndWxhckV4cHJlc3Npb24uTWF0Y2hpbmdPcHRpb25zID0geCwgcmFuZ2U6IE5TUmFuZ2UpIC0+IE5TVGV4dENoZWNraW5nUmVzdWx0PyB7fQogICAgcHVibGljIGZ1bmMgbWF0Y2hlcyhpbiBzdHJpbmc6IFN0cmluZywgb3B0aW9uczogTlNSZWd1bGFyRXhwcmVzc2lvbi5NYXRjaGluZ09wdGlvbnMgPSB4LCByYW5nZTogTlNSYW5nZSkgLT4gW05TVGV4dENoZWNraW5nUmVzdWx0XSB7fQogICAgcHVibGljIGZ1bmMgbnVtYmVyT2ZNYXRjaGVzKGluIHN0cmluZzogU3RyaW5nLCBvcHRpb25zOiBOU1JlZ3VsYXJFeHByZXNzaW9uLk1hdGNoaW5nT3B0aW9ucyA9IHgsIHJhbmdlOiBOU1JhbmdlKSAtPiBJbnQge30KICAgIHB1YmxpYyBmdW5jIHJhbmdlT2ZGaXJzdE1hdGNoKGluIHN0cmluZzogU3RyaW5nLCBvcHRpb25zOiBOU1JlZ3VsYXJFeHByZXNzaW9uLk1hdGNoaW5nT3B0aW9ucyA9IHgsIHJhbmdlOiBOU1JhbmdlKSAtPiBOU1JhbmdlIHt9CiAgICBwdWJsaWMgZnVuYyByZXBsYWNlTWF0Y2hlcyhpbiBzdHJpbmc6IE5TTXV0YWJsZVN0cmluZywgb3B0aW9uczogTlNSZWd1bGFyRXhwcmVzc2lvbi5NYXRjaGluZ09wdGlvbnMgPSB4LCByYW5nZTogTlNSYW5nZSwgd2l0aFRlbXBsYXRlIHRlbXBsOiBTdHJpbmcpIC0+IEludCB7fQogICAgcHVibGljIGZ1bmMgcmVwbGFjZW1lbnRTdHJpbmcoZm9yIHJlc3VsdDogTlNUZXh0Q2hlY2tpbmdSZXN1bHQsIGluIHN0cmluZzogU3RyaW5nLCBvZmZzZXQ6IEludCwgdGVtcGxhdGUgdGVtcGw6IFN0cmluZykgLT4gU3RyaW5nIHt9CiAgICBwdWJsaWMgZnVuYyBzdHJpbmdCeVJlcGxhY2luZ01hdGNoZXMoaW4gc3RyaW5nOiBTdHJpbmcsIG9wdGlvbnM6IE5TUmVndWxhckV4cHJlc3Npb24uTWF0Y2hpbmdPcHRpb25zID0geCwgcmFuZ2U6IE5TUmFuZ2UsIHdpdGhUZW1wbGF0ZSB0ZW1wbDogU3RyaW5nKSAtPiBTdHJpbmcge30KfQpvcGVuIGNsYXNzIE5TU2V0IDogQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tUmVmbGVjdGFibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU0NvZGluZywgTlNDb3B5aW5nLCBOU011dGFibGVDb3B5aW5nLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCwgTlNTZWN1cmVDb2RpbmcsIFNlcXVlbmNlLCBfLCBfQ0ZCcmlkZ2VhYmxlLCBfU3RydWN0VHlwZUJyaWRnZWFibGUsIF9Td2lmdEJyaWRnZWFibGUgewogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQoYXJyYXk6IFtBbnldKSB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQob2JqZWN0OiBBbnkpIHt9CiAgICBwdWJsaWMgaW5pdChvYmplY3RzOiBVbnNhZmVQb2ludGVyPEFueU9iamVjdD4hLCBjb3VudCBjbnQ6IEludCkge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KHNldDogU2V0PEFueUhhc2hhYmxlPikge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KHNldDogU2V0PEFueUhhc2hhYmxlPiwgY29weUl0ZW1zIGZsYWc6IEJvb2wpIHt9CiAgICBvcGVuIHZhciBhbGxPYmplY3RzOiBbQW55XSB7IGdldCB9CiAgICBvcGVuIHZhciBjb3VudDogSW50IHsgZ2V0IH0KICAgIHB1YmxpYyB2YXIgY3VzdG9tTWlycm9yOiBNaXJyb3IgeyBnZXQgfQogICAgb3BlbiBmdW5jIGFkZGluZyhfIGFuT2JqZWN0OiBBbnkpIC0+IFNldDxBbnlIYXNoYWJsZT4ge30KICAgIG9wZW4gZnVuYyBhZGRpbmdPYmplY3RzKGZyb20gb3RoZXI6IFNldDxBbnlIYXNoYWJsZT4pIC0+IFNldDxBbnlIYXNoYWJsZT4ge30KICAgIG9wZW4gZnVuYyBhbnlPYmplY3QoKSAtPiBBbnk/IHt9CiAgICBvcGVuIGZ1bmMgY29udGFpbnMoXyBhbk9iamVjdDogQW55KSAtPiBCb29sIHt9CiAgICBvcGVuIGZ1bmMgZGVzY3JpcHRpb24od2l0aExvY2FsZSBsb2NhbGU6IExvY2FsZT8pIC0+IFN0cmluZyB7fQogICAgb3BlbiBmdW5jIGVudW1lcmF0ZU9iamVjdHMoXyBibG9jazogKEFueSwgVW5zYWZlTXV0YWJsZVBvaW50ZXI8T2JqQ0Jvb2w+KSAtPiBTd2lmdC5Wb2lkKSB7fQogICAgb3BlbiBmdW5jIGVudW1lcmF0ZU9iamVjdHMob3B0aW9ucyBvcHRzOiBOU0VudW1lcmF0aW9uT3B0aW9ucyA9IHgsIHVzaW5nIGJsb2NrOiAoQW55LCBVbnNhZmVNdXRhYmxlUG9pbnRlcjxPYmpDQm9vbD4pIC0+IFN3aWZ0LlZvaWQpIHt9CiAgICBvcGVuIGZ1bmMgZmlsdGVyZWQodXNpbmcgcHJlZGljYXRlOiBOU1ByZWRpY2F0ZSkgLT4gU2V0PEFueUhhc2hhYmxlPiB7fQogICAgb3BlbiBmdW5jIGludGVyc2VjdHMoXyBvdGhlclNldDogU2V0PEFueUhhc2hhYmxlPikgLT4gQm9vbCB7fQogICAgb3BlbiBmdW5jIGlzRXF1YWwodG8gb3RoZXJTZXQ6IFNldDxBbnlIYXNoYWJsZT4pIC0+IEJvb2wge30KICAgIG9wZW4gZnVuYyBpc1N1YnNldChvZiBvdGhlclNldDogU2V0PEFueUhhc2hhYmxlPikgLT4gQm9vbCB7fQogICAgcHVibGljIGZ1bmMgbWFrZUl0ZXJhdG9yKCkgLT4gSXRlcmF0b3Ige30KICAgIG9wZW4gZnVuYyBtZW1iZXIoXyBvYmplY3Q6IEFueSkgLT4gQW55PyB7fQogICAgb3BlbiBmdW5jIG9iamVjdEVudW1lcmF0b3IoKSAtPiBOU0VudW1lcmF0b3Ige30KICAgIG9wZW4gZnVuYyBvYmplY3RzKG9wdGlvbnMgb3B0czogTlNFbnVtZXJhdGlvbk9wdGlvbnMgPSB4LCBwYXNzaW5nVGVzdCBwcmVkaWNhdGU6IChBbnksIFVuc2FmZU11dGFibGVQb2ludGVyPE9iakNCb29sPikgLT4gQm9vbCkgLT4gU2V0PEFueUhhc2hhYmxlPiB7fQogICAgb3BlbiBmdW5jIG9iamVjdHMocGFzc2luZ1Rlc3QgcHJlZGljYXRlOiAoQW55LCBVbnNhZmVNdXRhYmxlUG9pbnRlcjxPYmpDQm9vbD4pIC0+IEJvb2wpIC0+IFNldDxBbnlIYXNoYWJsZT4ge30KICAgIHB1YmxpYyBmdW5jIHNvcnRlZEFycmF5KHVzaW5nIHNvcnREZXNjcmlwdG9yczogW05TU29ydERlc2NyaXB0b3JdKSAtPiBbQW55XSB7fQp9Cm9wZW4gY2xhc3MgTlNTb3J0RGVzY3JpcHRvciA6IEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU0NvZGluZywgTlNDb3B5aW5nLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCwgTlNTZWN1cmVDb2RpbmcsIF8gewogICAgcHVibGljIGluaXQoa2V5OiBTdHJpbmc/LCBhc2NlbmRpbmc6IEJvb2wpIHt9CiAgICBwdWJsaWMgaW5pdChrZXk6IFN0cmluZz8sIGFzY2VuZGluZzogQm9vbCwgY29tcGFyYXRvciBjbXB0cjogQ29tcGFyYXRvcikge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0PFJvb3QsIFZhbHVlPihrZXlQYXRoOiBLZXlQYXRoPFJvb3QsIFZhbHVlPiwgYXNjZW5kaW5nOiBCb29sKSB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQ8Um9vdCwgVmFsdWU+KGtleVBhdGg6IEtleVBhdGg8Um9vdCwgVmFsdWU+LCBhc2NlbmRpbmc6IEJvb2wsIGNvbXBhcmF0b3IgY21wdHI6IEBlc2NhcGluZyBDb21wYXJhdG9yKSB7fQogICAgb3BlbiB2YXIgYXNjZW5kaW5nOiBCb29sIHsgZ2V0IH0KICAgIG9wZW4gdmFyIGNvbXBhcmF0b3I6IENvbXBhcmF0b3IgeyBnZXQgfQogICAgb3BlbiB2YXIga2V5OiBTdHJpbmc/IHsgZ2V0IH0KICAgIHB1YmxpYyB2YXIga2V5UGF0aDogQW55S2V5UGF0aD8geyBnZXQgfQogICAgb3BlbiB2YXIgcmV2ZXJzZWRTb3J0RGVzY3JpcHRvcjogQW55IHsgZ2V0IH0KICAgIG9wZW4gZnVuYyBhbGxvd0V2YWx1YXRpb24oKSB7fQogICAgb3BlbiBmdW5jIGNvbXBhcmUoXyBvYmplY3QxOiBBbnksIHRvIG9iamVjdDI6IEFueSkgLT4gQ29tcGFyaXNvblJlc3VsdCB7fQp9Cm9wZW4gY2xhc3MgTlNTdHJpbmcgOiBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBFeHByZXNzaWJsZUJ5U3RyaW5nTGl0ZXJhbCwgSGFzaGFibGUsIE5TQ29kaW5nLCBOU0NvcHlpbmcsIE5TTXV0YWJsZUNvcHlpbmcsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBOU1NlY3VyZUNvZGluZywgXywgX0NGQnJpZGdlYWJsZSwgX1N0cnVjdFR5cGVCcmlkZ2VhYmxlLCBfU3dpZnRCcmlkZ2VhYmxlIHsKICAgIG9wZW4gY2xhc3MgdmFyIGF2YWlsYWJsZVN0cmluZ0VuY29kaW5nczogVW5zYWZlUG9pbnRlcjxVSW50PiB7IGdldCB9CiAgICBvcGVuIGNsYXNzIHZhciBkZWZhdWx0Q1N0cmluZ0VuY29kaW5nOiBVSW50IHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgZnVuYyBsb2NhbGl6ZWROYW1lKG9mIGVuY29kaW5nOiBVSW50KSAtPiBTdHJpbmcge30KICAgIHB1YmxpYyBzdGF0aWMgZnVuYyBwYXRoV2l0aENvbXBvbmVudHMoXyBjb21wb25lbnRzOiBbU3RyaW5nXSkgLT4gU3RyaW5nIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdD8oYnl0ZXM6IFVuc2FmZVJhd1BvaW50ZXIsIGxlbmd0aCBsZW46IEludCwgZW5jb2Rpbmc6IFVJbnQpIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdD8oYnl0ZXNOb0NvcHkgYnl0ZXM6IFVuc2FmZU11dGFibGVSYXdQb2ludGVyLCBsZW5ndGggbGVuOiBJbnQsIGVuY29kaW5nOiBVSW50LCBmcmVlV2hlbkRvbmUgZnJlZUJ1ZmZlcjogQm9vbCkge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0PyhjU3RyaW5nIG51bGxUZXJtaW5hdGVkQ1N0cmluZzogVW5zYWZlUG9pbnRlcjxJbnQ4PiwgZW5jb2Rpbmc6IFVJbnQpIHt9CiAgICBwdWJsaWMgaW5pdChjaGFyYWN0ZXJzOiBVbnNhZmVQb2ludGVyPHVuaWNoYXI+LCBsZW5ndGg6IEludCkge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KGNoYXJhY3RlcnNOb0NvcHkgY2hhcmFjdGVyczogVW5zYWZlTXV0YWJsZVBvaW50ZXI8dW5pY2hhcj4sIGxlbmd0aDogSW50LCBmcmVlV2hlbkRvbmUgZnJlZUJ1ZmZlcjogQm9vbCkge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KGNvbnRlbnRzT2YgdXJsOiBVUkwsIGVuY29kaW5nIGVuYzogVUludCkgdGhyb3dzIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdChjb250ZW50c09mIHVybDogVVJMLCB1c2VkRW5jb2RpbmcgZW5jOiBVbnNhZmVNdXRhYmxlUG9pbnRlcjxVSW50Pj8pIHRocm93cyB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQoY29udGVudHNPZkZpbGUgcGF0aDogU3RyaW5nLCBlbmNvZGluZyBlbmM6IFVJbnQpIHRocm93cyB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQoY29udGVudHNPZkZpbGUgcGF0aDogU3RyaW5nLCB1c2VkRW5jb2RpbmcgZW5jOiBVbnNhZmVNdXRhYmxlUG9pbnRlcjxVSW50Pj8pIHRocm93cyB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQ/KGRhdGE6IERhdGEsIGVuY29kaW5nOiBVSW50KSB7fQogICAgcHVibGljIHJlcXVpcmVkIGNvbnZlbmllbmNlIGluaXQoZXh0ZW5kZWRHcmFwaGVtZUNsdXN0ZXJMaXRlcmFsIHZhbHVlOiBTdGF0aWNTdHJpbmcpIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdChmb3JtYXQ6IE5TU3RyaW5nLCBfIGFyZ3M6IENWYXJBcmcuLi4pIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdChmb3JtYXQ6IFN0cmluZywgYXJndW1lbnRzIGFyZ0xpc3Q6IENWYUxpc3RQb2ludGVyKSB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQoZm9ybWF0OiBTdHJpbmcsIGxvY2FsZTogQW55T2JqZWN0PywgYXJndW1lbnRzIGFyZ0xpc3Q6IENWYUxpc3RQb2ludGVyKSB7fQogICAgcHVibGljIHJlcXVpcmVkIGNvbnZlbmllbmNlIGluaXQoc3RyaW5nIGFTdHJpbmc6IFN0cmluZykge30KICAgIHB1YmxpYyByZXF1aXJlZCBpbml0KHN0cmluZ0xpdGVyYWwgdmFsdWU6IFN0YXRpY1N0cmluZykge30KICAgIHB1YmxpYyByZXF1aXJlZCBjb252ZW5pZW5jZSBpbml0KHVuaWNvZGVTY2FsYXJMaXRlcmFsIHZhbHVlOiBTdGF0aWNTdHJpbmcpIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdD8odXRmOFN0cmluZyBudWxsVGVybWluYXRlZENTdHJpbmc6IFVuc2FmZVBvaW50ZXI8SW50OD4pIHt9CiAgICBwdWJsaWMgdmFyIGJvb2xWYWx1ZTogQm9vbCB7IGdldCB9CiAgICBwdWJsaWMgdmFyIGNhcGl0YWxpemVkOiBTdHJpbmcgeyBnZXQgfQogICAgb3BlbiB2YXIgZGVjb21wb3NlZFN0cmluZ1dpdGhDYW5vbmljYWxNYXBwaW5nOiBTdHJpbmcgeyBnZXQgfQogICAgb3BlbiB2YXIgZGVjb21wb3NlZFN0cmluZ1dpdGhDb21wYXRpYmlsaXR5TWFwcGluZzogU3RyaW5nIHsgZ2V0IH0KICAgIHB1YmxpYyB2YXIgZGVsZXRpbmdMYXN0UGF0aENvbXBvbmVudDogU3RyaW5nIHsgZ2V0IH0KICAgIHB1YmxpYyB2YXIgZGVsZXRpbmdQYXRoRXh0ZW5zaW9uOiBTdHJpbmcgeyBnZXQgfQogICAgcHVibGljIHZhciBkb3VibGVWYWx1ZTogRG91YmxlIHsgZ2V0IH0KICAgIHB1YmxpYyB2YXIgZXhwYW5kaW5nVGlsZGVJblBhdGg6IFN0cmluZyB7IGdldCB9CiAgICBwdWJsaWMgdmFyIGZhc3Rlc3RFbmNvZGluZzogVUludCB7IGdldCB9CiAgICBwdWJsaWMgdmFyIGZpbGVTeXN0ZW1SZXByZXNlbnRhdGlvbjogVW5zYWZlUG9pbnRlcjxJbnQ4PiB7IGdldCB9CiAgICBwdWJsaWMgdmFyIGZsb2F0VmFsdWU6IEZsb2F0IHsgZ2V0IH0KICAgIHB1YmxpYyB2YXIgaW50VmFsdWU6IEludDMyIHsgZ2V0IH0KICAgIHB1YmxpYyB2YXIgaW50ZWdlclZhbHVlOiBJbnQgeyBnZXQgfQogICAgcHVibGljIHZhciBpc0Fic29sdXRlUGF0aDogQm9vbCB7IGdldCB9CiAgICBwdWJsaWMgdmFyIGxhc3RQYXRoQ29tcG9uZW50OiBTdHJpbmcgeyBnZXQgfQogICAgb3BlbiB2YXIgbGVuZ3RoOiBJbnQgeyBnZXQgfQogICAgcHVibGljIHZhciBsb2NhbGl6ZWRDYXBpdGFsaXplZDogU3RyaW5nIHsgZ2V0IH0KICAgIHB1YmxpYyB2YXIgbG9jYWxpemVkTG93ZXJjYXNlOiBTdHJpbmcgeyBnZXQgfQogICAgcHVibGljIHZhciBsb2NhbGl6ZWRVcHBlcmNhc2U6IFN0cmluZyB7IGdldCB9CiAgICBwdWJsaWMgdmFyIGxvbmdMb25nVmFsdWU6IEludDY0IHsgZ2V0IH0KICAgIHB1YmxpYyB2YXIgbG93ZXJjYXNlZDogU3RyaW5nIHsgZ2V0IH0KICAgIHB1YmxpYyB2YXIgcGF0aENvbXBvbmVudHM6IFtTdHJpbmddIHsgZ2V0IH0KICAgIHB1YmxpYyB2YXIgcGF0aEV4dGVuc2lvbjogU3RyaW5nIHsgZ2V0IH0KICAgIG9wZW4gdmFyIHByZWNvbXBvc2VkU3RyaW5nV2l0aENhbm9uaWNhbE1hcHBpbmc6IFN0cmluZyB7IGdldCB9CiAgICBvcGVuIHZhciBwcmVjb21wb3NlZFN0cmluZ1dpdGhDb21wYXRpYmlsaXR5TWFwcGluZzogU3RyaW5nIHsgZ2V0IH0KICAgIG9wZW4gdmFyIHJlbW92aW5nUGVyY2VudEVuY29kaW5nOiBTdHJpbmc/IHsgZ2V0IH0KICAgIHB1YmxpYyB2YXIgcmVzb2x2aW5nU3ltbGlua3NJblBhdGg6IFN0cmluZyB7IGdldCB9CiAgICBwdWJsaWMgdmFyIHNtYWxsZXN0RW5jb2Rpbmc6IFVJbnQgeyBnZXQgfQogICAgcHVibGljIHZhciBzdGFuZGFyZGl6aW5nUGF0aDogU3RyaW5nIHsgZ2V0IH0KICAgIHB1YmxpYyB2YXIgdXBwZXJjYXNlZDogU3RyaW5nIHsgZ2V0IH0KICAgIHB1YmxpYyB2YXIgdXRmOFN0cmluZzogVW5zYWZlUG9pbnRlcjxJbnQ4Pj8geyBnZXQgfQogICAgb3BlbiBmdW5jIGFkZGluZ1BlcmNlbnRFbmNvZGluZyh3aXRoQWxsb3dlZENoYXJhY3RlcnMgYWxsb3dlZENoYXJhY3RlcnM6IENoYXJhY3RlclNldCkgLT4gU3RyaW5nPyB7fQogICAgcHVibGljIGZ1bmMgYXBwZW5kaW5nKF8gYVN0cmluZzogU3RyaW5nKSAtPiBTdHJpbmcge30KICAgIHB1YmxpYyBmdW5jIGFwcGVuZGluZ1BhdGhDb21wb25lbnQoXyBzdHI6IFN0cmluZykgLT4gU3RyaW5nIHt9CiAgICBwdWJsaWMgZnVuYyBhcHBlbmRpbmdQYXRoRXh0ZW5zaW9uKF8gc3RyOiBTdHJpbmcpIC0+IFN0cmluZz8ge30KICAgIG9wZW4gZnVuYyBhcHBseWluZ1RyYW5zZm9ybShfIHRyYW5zZm9ybTogU3RyaW5nLCByZXZlcnNlOiBCb29sKSAtPiBTdHJpbmc/IHt9CiAgICBwdWJsaWMgZnVuYyBjU3RyaW5nKHVzaW5nIGVuY29kaW5nOiBVSW50KSAtPiBVbnNhZmVQb2ludGVyPEludDg+PyB7fQogICAgcHVibGljIGZ1bmMgY2FuQmVDb252ZXJ0ZWQodG8gZW5jb2Rpbmc6IFVJbnQpIC0+IEJvb2wge30KICAgIHB1YmxpYyBmdW5jIGNhcGl0YWxpemVkKHdpdGggbG9jYWxlOiBMb2NhbGU/KSAtPiBTdHJpbmcge30KICAgIHB1YmxpYyBmdW5jIGNhc2VJbnNlbnNpdGl2ZUNvbXBhcmUoXyBzdHJpbmc6IFN0cmluZykgLT4gQ29tcGFyaXNvblJlc3VsdCB7fQogICAgb3BlbiBmdW5jIGNoYXJhY3RlcihhdCBpbmRleDogSW50KSAtPiB1bmljaGFyIHt9CiAgICBwdWJsaWMgZnVuYyBjb21tb25QcmVmaXgod2l0aCBzdHI6IFN0cmluZywgb3B0aW9ucyBtYXNrOiBDb21wYXJlT3B0aW9ucyA9IHgpIC0+IFN0cmluZyB7fQogICAgcHVibGljIGZ1bmMgY29tcGFyZShfIHN0cmluZzogU3RyaW5nKSAtPiBDb21wYXJpc29uUmVzdWx0IHt9CiAgICBwdWJsaWMgZnVuYyBjb21wYXJlKF8gc3RyaW5nOiBTdHJpbmcsIG9wdGlvbnMgbWFzazogQ29tcGFyZU9wdGlvbnMpIC0+IENvbXBhcmlzb25SZXN1bHQge30KICAgIHB1YmxpYyBmdW5jIGNvbXBhcmUoXyBzdHJpbmc6IFN0cmluZywgb3B0aW9ucyBtYXNrOiBDb21wYXJlT3B0aW9ucywgcmFuZ2UgY29tcGFyZVJhbmdlOiBOU1JhbmdlKSAtPiBDb21wYXJpc29uUmVzdWx0IHt9CiAgICBwdWJsaWMgZnVuYyBjb21wYXJlKF8gc3RyaW5nOiBTdHJpbmcsIG9wdGlvbnMgbWFzazogQ29tcGFyZU9wdGlvbnMsIHJhbmdlIGNvbXBhcmVSYW5nZTogTlNSYW5nZSwgbG9jYWxlOiBBbnk/KSAtPiBDb21wYXJpc29uUmVzdWx0IHt9CiAgICBwdWJsaWMgZnVuYyBjb21wbGV0ZVBhdGgoaW50byBvdXRwdXROYW1lOiBpbm91dCBTdHJpbmc/LCBjYXNlU2Vuc2l0aXZlIGZsYWc6IEJvb2wsIG1hdGNoZXNJbnRvIG91dHB1dEFycmF5OiBpbm91dCBbU3RyaW5nXSwgZmlsdGVyVHlwZXM6IFtTdHJpbmddPykgLT4gSW50IHt9CiAgICBvcGVuIGZ1bmMgY29tcG9uZW50cyhzZXBhcmF0ZWRCeSBzZXBhcmF0b3I6IENoYXJhY3RlclNldCkgLT4gW1N0cmluZ10ge30KICAgIHB1YmxpYyBmdW5jIGNvbnRhaW5zKF8gc3RyOiBTdHJpbmcpIC0+IEJvb2wge30KICAgIHB1YmxpYyBmdW5jIGRhdGEodXNpbmcgZW5jb2Rpbmc6IFVJbnQpIC0+IERhdGE/IHt9CiAgICBwdWJsaWMgZnVuYyBkYXRhKHVzaW5nIGVuY29kaW5nOiBVSW50LCBhbGxvd0xvc3N5Q29udmVyc2lvbiBsb3NzeTogQm9vbCA9IHgpIC0+IERhdGE/IHt9CiAgICBwdWJsaWMgZnVuYyBlbnVtZXJhdGVMaW5lcyhfIGJsb2NrOiAoU3RyaW5nLCBVbnNhZmVNdXRhYmxlUG9pbnRlcjxPYmpDQm9vbD4pIC0+IFZvaWQpIHt9CiAgICBwdWJsaWMgZnVuYyBlbnVtZXJhdGVTdWJzdHJpbmdzKGluIHJhbmdlOiBOU1JhbmdlLCBvcHRpb25zIG9wdHM6IEVudW1lcmF0aW9uT3B0aW9ucyA9IHgsIHVzaW5nIGJsb2NrOiAoU3RyaW5nPywgTlNSYW5nZSwgTlNSYW5nZSwgVW5zYWZlTXV0YWJsZVBvaW50ZXI8T2JqQ0Jvb2w+KSAtPiBWb2lkKSB7fQogICAgb3BlbiBmdW5jIGZvbGRpbmcob3B0aW9uczogQ29tcGFyZU9wdGlvbnMgPSB4LCBsb2NhbGU6IExvY2FsZT8pIC0+IFN0cmluZyB7fQogICAgcHVibGljIGZ1bmMgZ2V0Qnl0ZXMoXyBidWZmZXI6IFVuc2FmZU11dGFibGVSYXdQb2ludGVyPywgbWF4TGVuZ3RoIG1heEJ1ZmZlckNvdW50OiBJbnQsIHVzZWRMZW5ndGggdXNlZEJ1ZmZlckNvdW50OiBVbnNhZmVNdXRhYmxlUG9pbnRlcjxJbnQ+PywgZW5jb2Rpbmc6IFVJbnQsIG9wdGlvbnM6IEVuY29kaW5nQ29udmVyc2lvbk9wdGlvbnMgPSB4LCByYW5nZTogTlNSYW5nZSwgcmVtYWluaW5nIGxlZnRvdmVyOiBOU1JhbmdlUG9pbnRlcj8pIC0+IEJvb2wge30KICAgIHB1YmxpYyBmdW5jIGdldENTdHJpbmcoXyBidWZmZXI6IFVuc2FmZU11dGFibGVQb2ludGVyPEludDg+LCBtYXhMZW5ndGggbWF4QnVmZmVyQ291bnQ6IEludCwgZW5jb2Rpbmc6IFVJbnQpIC0+IEJvb2wge30KICAgIHB1YmxpYyBmdW5jIGdldENoYXJhY3RlcnMoXyBidWZmZXI6IFVuc2FmZU11dGFibGVQb2ludGVyPHVuaWNoYXI+LCByYW5nZTogTlNSYW5nZSkge30KICAgIHB1YmxpYyBmdW5jIGdldEZpbGVTeXN0ZW1SZXByZXNlbnRhdGlvbihfIGNuYW1lOiBVbnNhZmVNdXRhYmxlUG9pbnRlcjxJbnQ4PiwgbWF4TGVuZ3RoIG1heDogSW50KSAtPiBCb29sIHt9CiAgICBwdWJsaWMgZnVuYyBnZXRMaW5lU3RhcnQoXyBzdGFydFB0cjogVW5zYWZlTXV0YWJsZVBvaW50ZXI8SW50Pj8sIGVuZCBsaW5lRW5kUHRyOiBVbnNhZmVNdXRhYmxlUG9pbnRlcjxJbnQ+PywgY29udGVudHNFbmQgY29udGVudHNFbmRQdHI6IFVuc2FmZU11dGFibGVQb2ludGVyPEludD4/LCBmb3IgcmFuZ2U6IE5TUmFuZ2UpIHt9CiAgICBwdWJsaWMgZnVuYyBnZXRQYXJhZ3JhcGhTdGFydChfIHN0YXJ0UHRyOiBVbnNhZmVNdXRhYmxlUG9pbnRlcjxJbnQ+PywgZW5kIHBhckVuZFB0cjogVW5zYWZlTXV0YWJsZVBvaW50ZXI8SW50Pj8sIGNvbnRlbnRzRW5kIGNvbnRlbnRzRW5kUHRyOiBVbnNhZmVNdXRhYmxlUG9pbnRlcjxJbnQ+PywgZm9yIHJhbmdlOiBOU1JhbmdlKSB7fQogICAgcHVibGljIGZ1bmMgaGFzUHJlZml4KF8gc3RyOiBTdHJpbmcpIC0+IEJvb2wge30KICAgIHB1YmxpYyBmdW5jIGhhc1N1ZmZpeChfIHN0cjogU3RyaW5nKSAtPiBCb29sIHt9CiAgICBwdWJsaWMgZnVuYyBpc0VxdWFsKHRvIGFTdHJpbmc6IFN0cmluZykgLT4gQm9vbCB7fQogICAgcHVibGljIGZ1bmMgbGVuZ3RoT2ZCeXRlcyh1c2luZyBlbmM6IFVJbnQpIC0+IEludCB7fQogICAgcHVibGljIGZ1bmMgbGluZVJhbmdlKGZvciByYW5nZTogTlNSYW5nZSkgLT4gTlNSYW5nZSB7fQogICAgcHVibGljIGZ1bmMgbG9jYWxpemVkQ2FzZUluc2Vuc2l0aXZlQ29tcGFyZShfIHN0cmluZzogU3RyaW5nKSAtPiBDb21wYXJpc29uUmVzdWx0IHt9CiAgICBwdWJsaWMgZnVuYyBsb2NhbGl6ZWRDYXNlSW5zZW5zaXRpdmVDb250YWlucyhfIHN0cjogU3RyaW5nKSAtPiBCb29sIHt9CiAgICBwdWJsaWMgZnVuYyBsb2NhbGl6ZWRDb21wYXJlKF8gc3RyaW5nOiBTdHJpbmcpIC0+IENvbXBhcmlzb25SZXN1bHQge30KICAgIHB1YmxpYyBmdW5jIGxvY2FsaXplZFN0YW5kYXJkQ29tcGFyZShfIHN0cmluZzogU3RyaW5nKSAtPiBDb21wYXJpc29uUmVzdWx0IHt9CiAgICBwdWJsaWMgZnVuYyBsb2NhbGl6ZWRTdGFuZGFyZENvbnRhaW5zKF8gc3RyOiBTdHJpbmcpIC0+IEJvb2wge30KICAgIHB1YmxpYyBmdW5jIGxvY2FsaXplZFN0YW5kYXJkUmFuZ2Uob2Ygc3RyOiBTdHJpbmcpIC0+IE5TUmFuZ2Uge30KICAgIHB1YmxpYyBmdW5jIGxvd2VyY2FzZWQod2l0aCBsb2NhbGU6IExvY2FsZT8pIC0+IFN0cmluZyB7fQogICAgcHVibGljIGZ1bmMgbWF4aW11bUxlbmd0aE9mQnl0ZXModXNpbmcgZW5jOiBVSW50KSAtPiBJbnQge30KICAgIG9wZW4gZnVuYyBwYWRkaW5nKHRvTGVuZ3RoIG5ld0xlbmd0aDogSW50LCB3aXRoUGFkIHBhZFN0cmluZzogU3RyaW5nLCBzdGFydGluZ0F0IHBhZEluZGV4OiBJbnQpIC0+IFN0cmluZyB7fQogICAgcHVibGljIGZ1bmMgcGFyYWdyYXBoUmFuZ2UoZm9yIHJhbmdlOiBOU1JhbmdlKSAtPiBOU1JhbmdlIHt9CiAgICBwdWJsaWMgZnVuYyByYW5nZShvZiBzZWFyY2hTdHJpbmc6IFN0cmluZykgLT4gTlNSYW5nZSB7fQogICAgcHVibGljIGZ1bmMgcmFuZ2Uob2Ygc2VhcmNoU3RyaW5nOiBTdHJpbmcsIG9wdGlvbnMgbWFzazogQ29tcGFyZU9wdGlvbnMgPSB4KSAtPiBOU1JhbmdlIHt9CiAgICBwdWJsaWMgZnVuYyByYW5nZShvZiBzZWFyY2hTdHJpbmc6IFN0cmluZywgb3B0aW9ucyBtYXNrOiBDb21wYXJlT3B0aW9ucyA9IHgsIHJhbmdlIHNlYXJjaFJhbmdlOiBOU1JhbmdlKSAtPiBOU1JhbmdlIHt9CiAgICBwdWJsaWMgZnVuYyByYW5nZShvZiBzZWFyY2hTdHJpbmc6IFN0cmluZywgb3B0aW9ucyBtYXNrOiBDb21wYXJlT3B0aW9ucyA9IHgsIHJhbmdlIHNlYXJjaFJhbmdlOiBOU1JhbmdlLCBsb2NhbGU6IExvY2FsZT8pIC0+IE5TUmFuZ2Uge30KICAgIHB1YmxpYyBmdW5jIHJhbmdlT2ZDaGFyYWN0ZXIoZnJvbSBzZWFyY2hTZXQ6IENoYXJhY3RlclNldCkgLT4gTlNSYW5nZSB7fQogICAgcHVibGljIGZ1bmMgcmFuZ2VPZkNoYXJhY3Rlcihmcm9tIHNlYXJjaFNldDogQ2hhcmFjdGVyU2V0LCBvcHRpb25zIG1hc2s6IENvbXBhcmVPcHRpb25zID0geCkgLT4gTlNSYW5nZSB7fQogICAgcHVibGljIGZ1bmMgcmFuZ2VPZkNoYXJhY3Rlcihmcm9tIHNlYXJjaFNldDogQ2hhcmFjdGVyU2V0LCBvcHRpb25zIG1hc2s6IENvbXBhcmVPcHRpb25zID0geCwgcmFuZ2Ugc2VhcmNoUmFuZ2U6IE5TUmFuZ2UpIC0+IE5TUmFuZ2Uge30KICAgIHB1YmxpYyBmdW5jIHJhbmdlT2ZDb21wb3NlZENoYXJhY3RlclNlcXVlbmNlKGF0IGluZGV4OiBJbnQpIC0+IE5TUmFuZ2Uge30KICAgIHB1YmxpYyBmdW5jIHJhbmdlT2ZDb21wb3NlZENoYXJhY3RlclNlcXVlbmNlcyhmb3IgcmFuZ2U6IE5TUmFuZ2UpIC0+IE5TUmFuZ2Uge30KICAgIG9wZW4gZnVuYyByZXBsYWNpbmdDaGFyYWN0ZXJzKGluIHJhbmdlOiBOU1JhbmdlLCB3aXRoIHJlcGxhY2VtZW50OiBTdHJpbmcpIC0+IFN0cmluZyB7fQogICAgb3BlbiBmdW5jIHJlcGxhY2luZ09jY3VycmVuY2VzKG9mIHRhcmdldDogU3RyaW5nLCB3aXRoIHJlcGxhY2VtZW50OiBTdHJpbmcpIC0+IFN0cmluZyB7fQogICAgb3BlbiBmdW5jIHJlcGxhY2luZ09jY3VycmVuY2VzKG9mIHRhcmdldDogU3RyaW5nLCB3aXRoIHJlcGxhY2VtZW50OiBTdHJpbmcsIG9wdGlvbnM6IENvbXBhcmVPcHRpb25zID0geCwgcmFuZ2Ugc2VhcmNoUmFuZ2U6IE5TUmFuZ2UpIC0+IFN0cmluZyB7fQogICAgcHVibGljIGZ1bmMgc3RyaW5nc0J5QXBwZW5kaW5nUGF0aHMoXyBwYXRoczogW1N0cmluZ10pIC0+IFtTdHJpbmddIHt9CiAgICBwdWJsaWMgZnVuYyBzdWJzdHJpbmcoZnJvbTogSW50KSAtPiBTdHJpbmcge30KICAgIHB1YmxpYyBmdW5jIHN1YnN0cmluZyh0bzogSW50KSAtPiBTdHJpbmcge30KICAgIHB1YmxpYyBmdW5jIHN1YnN0cmluZyh3aXRoIHJhbmdlOiBOU1JhbmdlKSAtPiBTdHJpbmcge30KICAgIG9wZW4gZnVuYyB0cmltbWluZ0NoYXJhY3RlcnMoaW4gc2V0OiBDaGFyYWN0ZXJTZXQpIC0+IFN0cmluZyB7fQogICAgcHVibGljIGZ1bmMgdXBwZXJjYXNlZCh3aXRoIGxvY2FsZTogTG9jYWxlPykgLT4gU3RyaW5nIHt9CiAgICBvcGVuIGZ1bmMgd3JpdGUodG8gdXJsOiBVUkwsIGF0b21pY2FsbHkgdXNlQXV4aWxpYXJ5RmlsZTogQm9vbCwgZW5jb2RpbmcgZW5jOiBVSW50KSB0aHJvd3Mge30KICAgIG9wZW4gZnVuYyB3cml0ZSh0b0ZpbGUgcGF0aDogU3RyaW5nLCBhdG9taWNhbGx5IHVzZUF1eGlsaWFyeUZpbGU6IEJvb2wsIGVuY29kaW5nIGVuYzogVUludCkgdGhyb3dzIHt9Cn0Kb3BlbiBjbGFzcyBOU1RleHRDaGVja2luZ1Jlc3VsdCA6IEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU0NvZGluZywgTlNDb3B5aW5nLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCwgXyB7CiAgICBvcGVuIGNsYXNzIGZ1bmMgcmVndWxhckV4cHJlc3Npb25DaGVja2luZ1Jlc3VsdFdpdGhSYW5nZXMoXyByYW5nZXM6IE5TUmFuZ2VQb2ludGVyLCBjb3VudDogSW50LCByZWd1bGFyRXhwcmVzc2lvbjogTlNSZWd1bGFyRXhwcmVzc2lvbikgLT4gTlNUZXh0Q2hlY2tpbmdSZXN1bHQge30KICAgIG9wZW4gdmFyIG51bWJlck9mUmFuZ2VzOiBJbnQgeyBnZXQgfQogICAgb3BlbiB2YXIgcmFuZ2U6IE5TUmFuZ2UgeyBnZXQgfQogICAgb3BlbiB2YXIgcmVndWxhckV4cHJlc3Npb246IE5TUmVndWxhckV4cHJlc3Npb24/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHJlc3VsdFR5cGU6IENoZWNraW5nVHlwZSB7IGdldCB9CiAgICBwdWJsaWMgZnVuYyBhZGp1c3RpbmdSYW5nZXMob2Zmc2V0OiBJbnQpIC0+IE5TVGV4dENoZWNraW5nUmVzdWx0IHt9CiAgICBvcGVuIGZ1bmMgcmFuZ2UoYXQgaWR4OiBJbnQpIC0+IE5TUmFuZ2Uge30KfQpvcGVuIGNsYXNzIE5TVGltZVpvbmUgOiBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNDb2RpbmcsIE5TQ29weWluZywgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wsIE5TU2VjdXJlQ29kaW5nLCBfLCBfQ0ZCcmlkZ2VhYmxlLCBfU3dpZnRCcmlkZ2VhYmxlIHsKICAgIG9wZW4gY2xhc3MgdmFyIGFiYnJldmlhdGlvbkRpY3Rpb25hcnk6IFtTdHJpbmc6IFN0cmluZ10geyBnZXQgc2V0IH0KICAgIG9wZW4gY2xhc3MgdmFyIGRlZmF1bHQ6IFRpbWVab25lIHsgZ2V0IHNldCB9CiAgICBvcGVuIGNsYXNzIHZhciBrbm93blRpbWVab25lTmFtZXM6IFtTdHJpbmddIHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgdmFyIGxvY2FsOiBUaW1lWm9uZSB7IGdldCB9CiAgICBvcGVuIGNsYXNzIHZhciBzeXN0ZW06IFRpbWVab25lIHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgdmFyIHRpbWVab25lRGF0YVZlcnNpb246IFN0cmluZyB7IGdldCB9CiAgICBvcGVuIGNsYXNzIGZ1bmMgcmVzZXRTeXN0ZW1UaW1lWm9uZSgpIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdD8oYWJicmV2aWF0aW9uOiBTdHJpbmcpIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdChmb3JTZWNvbmRzRnJvbUdNVCBzZWNvbmRzOiBJbnQpIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdD8obmFtZSB0ek5hbWU6IFN0cmluZykge30KICAgIHB1YmxpYyBpbml0PyhuYW1lIHR6TmFtZTogU3RyaW5nLCBkYXRhIGFEYXRhOiBEYXRhPykge30KICAgIG9wZW4gdmFyIGFiYnJldmlhdGlvbjogU3RyaW5nPyB7IGdldCB9CiAgICBvcGVuIHZhciBkYXRhOiBEYXRhIHsgZ2V0IH0KICAgIG9wZW4gdmFyIGRheWxpZ2h0U2F2aW5nVGltZU9mZnNldDogVGltZUludGVydmFsIHsgZ2V0IH0KICAgIG9wZW4gdmFyIGlzRGF5bGlnaHRTYXZpbmdUaW1lOiBCb29sIHsgZ2V0IH0KICAgIG9wZW4gdmFyIG5hbWU6IFN0cmluZyB7IGdldCB9CiAgICBvcGVuIHZhciBuZXh0RGF5bGlnaHRTYXZpbmdUaW1lVHJhbnNpdGlvbjogRGF0ZT8geyBnZXQgfQogICAgb3BlbiB2YXIgc2Vjb25kc0Zyb21HTVQ6IEludCB7IGdldCB9CiAgICBvcGVuIGZ1bmMgYWJicmV2aWF0aW9uKGZvciBhRGF0ZTogRGF0ZSkgLT4gU3RyaW5nPyB7fQogICAgb3BlbiBmdW5jIGRheWxpZ2h0U2F2aW5nVGltZU9mZnNldChmb3IgYURhdGU6IERhdGUpIC0+IFRpbWVJbnRlcnZhbCB7fQogICAgb3BlbiBmdW5jIGlzRGF5bGlnaHRTYXZpbmdUaW1lKGZvciBhRGF0ZTogRGF0ZSkgLT4gQm9vbCB7fQogICAgb3BlbiBmdW5jIGlzRXF1YWwodG8gYVRpbWVab25lOiBUaW1lWm9uZSkgLT4gQm9vbCB7fQogICAgb3BlbiBmdW5jIGxvY2FsaXplZE5hbWUoXyBzdHlsZTogTmFtZVN0eWxlLCBsb2NhbGU6IExvY2FsZT8pIC0+IFN0cmluZz8ge30KICAgIG9wZW4gZnVuYyBuZXh0RGF5bGlnaHRTYXZpbmdUaW1lVHJhbnNpdGlvbihhZnRlciBhRGF0ZTogRGF0ZSkgLT4gRGF0ZT8ge30KICAgIG9wZW4gZnVuYyBzZWNvbmRzRnJvbUdNVChmb3IgYURhdGU6IERhdGUpIC0+IEludCB7fQp9Cm9wZW4gY2xhc3MgTlNVUkwgOiBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNDb2RpbmcsIE5TQ29weWluZywgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wsIE5TU2VjdXJlQ29kaW5nLCBfLCBfQ0ZCcmlkZ2VhYmxlLCBfU3RydWN0VHlwZUJyaWRnZWFibGUsIF9Td2lmdEJyaWRnZWFibGUgewogICAgb3BlbiBjbGFzcyBmdW5jIGZpbGVVUkwod2l0aFBhdGhDb21wb25lbnRzIGNvbXBvbmVudHM6IFtTdHJpbmddKSAtPiBVUkw/IHt9CiAgICBwdWJsaWMgaW5pdChhYnNvbHV0ZVVSTFdpdGhEYXRhUmVwcmVzZW50YXRpb24gZGF0YTogRGF0YSwgcmVsYXRpdmVUbyBiYXNlVVJMOiBVUkw/KSB7fQogICAgcHVibGljIGluaXQoZGF0YVJlcHJlc2VudGF0aW9uIGRhdGE6IERhdGEsIHJlbGF0aXZlVG8gYmFzZVVSTDogVVJMPykge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KGZpbGVVUkxXaXRoRmlsZVN5c3RlbVJlcHJlc2VudGF0aW9uIHBhdGg6IFVuc2FmZVBvaW50ZXI8SW50OD4sIGlzRGlyZWN0b3J5IGlzRGlyOiBCb29sLCByZWxhdGl2ZVRvIGJhc2VVUkw6IFVSTD8pIHt9CiAgICBwdWJsaWMgaW5pdChmaWxlVVJMV2l0aFBhdGggcGF0aDogU3RyaW5nKSB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQoZmlsZVVSTFdpdGhQYXRoIHBhdGg6IFN0cmluZywgaXNEaXJlY3RvcnkgaXNEaXI6IEJvb2wpIHt9CiAgICBwdWJsaWMgaW5pdChmaWxlVVJMV2l0aFBhdGggcGF0aDogU3RyaW5nLCBpc0RpcmVjdG9yeSBpc0RpcjogQm9vbCwgcmVsYXRpdmVUbyBiYXNlVVJMOiBVUkw/KSB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQoZmlsZVVSTFdpdGhQYXRoIHBhdGg6IFN0cmluZywgcmVsYXRpdmVUbyBiYXNlVVJMOiBVUkw/KSB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQ/KHN0cmluZyBVUkxTdHJpbmc6IFN0cmluZykge30KICAgIHB1YmxpYyBpbml0PyhzdHJpbmcgVVJMU3RyaW5nOiBTdHJpbmcsIHJlbGF0aXZlVG8gYmFzZVVSTDogVVJMPykge30KICAgIG9wZW4gdmFyIGFic29sdXRlU3RyaW5nOiBTdHJpbmcgeyBnZXQgfQogICAgb3BlbiB2YXIgYWJzb2x1dGVVUkw6IFVSTD8geyBnZXQgfQogICAgb3BlbiB2YXIgYmFzZVVSTDogVVJMPyB7IGdldCB9CiAgICBvcGVuIHZhciBkYXRhUmVwcmVzZW50YXRpb246IERhdGEgeyBnZXQgfQogICAgb3BlbiB2YXIgZGVsZXRpbmdMYXN0UGF0aENvbXBvbmVudDogVVJMPyB7IGdldCB9CiAgICBvcGVuIHZhciBkZWxldGluZ1BhdGhFeHRlbnNpb246IFVSTD8geyBnZXQgfQogICAgb3BlbiB2YXIgZmlsZVBhdGhVUkw6IFVSTD8geyBnZXQgfQogICAgb3BlbiB2YXIgZmlsZVN5c3RlbVJlcHJlc2VudGF0aW9uOiBVbnNhZmVQb2ludGVyPEludDg+IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGZyYWdtZW50OiBTdHJpbmc/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGhhc0RpcmVjdG9yeVBhdGg6IEJvb2wgeyBnZXQgfQogICAgb3BlbiB2YXIgaG9zdDogU3RyaW5nPyB7IGdldCB9CiAgICBvcGVuIHZhciBpc0ZpbGVVUkw6IEJvb2wgeyBnZXQgfQogICAgb3BlbiB2YXIgbGFzdFBhdGhDb21wb25lbnQ6IFN0cmluZz8geyBnZXQgfQogICAgb3BlbiB2YXIgcGFyYW1ldGVyU3RyaW5nOiBTdHJpbmc/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHBhc3N3b3JkOiBTdHJpbmc/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHBhdGg6IFN0cmluZz8geyBnZXQgfQogICAgb3BlbiB2YXIgcGF0aENvbXBvbmVudHM6IFtTdHJpbmddPyB7IGdldCB9CiAgICBvcGVuIHZhciBwYXRoRXh0ZW5zaW9uOiBTdHJpbmc/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHBvcnQ6IE5TTnVtYmVyPyB7IGdldCB9CiAgICBvcGVuIHZhciBxdWVyeTogU3RyaW5nPyB7IGdldCB9CiAgICBvcGVuIHZhciByZWxhdGl2ZVBhdGg6IFN0cmluZz8geyBnZXQgfQogICAgb3BlbiB2YXIgcmVsYXRpdmVTdHJpbmc6IFN0cmluZyB7IGdldCB9CiAgICBvcGVuIHZhciByZXNvbHZpbmdTeW1saW5rc0luUGF0aDogVVJMPyB7IGdldCB9CiAgICBvcGVuIHZhciByZXNvdXJjZVNwZWNpZmllcjogU3RyaW5nPyB7IGdldCB9CiAgICBvcGVuIHZhciBzY2hlbWU6IFN0cmluZz8geyBnZXQgfQogICAgb3BlbiB2YXIgc3RhbmRhcmRpemVkOiBVUkw/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHN0YW5kYXJkaXppbmdQYXRoOiBVUkw/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHVzZXI6IFN0cmluZz8geyBnZXQgfQogICAgb3BlbiBmdW5jIGFwcGVuZGluZ1BhdGhDb21wb25lbnQoXyBwYXRoQ29tcG9uZW50OiBTdHJpbmcpIC0+IFVSTD8ge30KICAgIG9wZW4gZnVuYyBhcHBlbmRpbmdQYXRoQ29tcG9uZW50KF8gcGF0aENvbXBvbmVudDogU3RyaW5nLCBpc0RpcmVjdG9yeTogQm9vbCkgLT4gVVJMPyB7fQogICAgb3BlbiBmdW5jIGFwcGVuZGluZ1BhdGhFeHRlbnNpb24oXyBwYXRoRXh0ZW5zaW9uOiBTdHJpbmcpIC0+IFVSTD8ge30KICAgIG9wZW4gZnVuYyBjaGVja1Jlc291cmNlSXNSZWFjaGFibGUoKSB0aHJvd3MgLT4gQm9vbCB7fQogICAgb3BlbiBmdW5jIGdldEZpbGVTeXN0ZW1SZXByZXNlbnRhdGlvbihfIGJ1ZmZlcjogVW5zYWZlTXV0YWJsZVBvaW50ZXI8SW50OD4sIG1heExlbmd0aCBtYXhCdWZmZXJMZW5ndGg6IEludCkgLT4gQm9vbCB7fQogICAgb3BlbiBmdW5jIHJlbW92ZUFsbENhY2hlZFJlc291cmNlVmFsdWVzKCkge30KICAgIG9wZW4gZnVuYyByZW1vdmVDYWNoZWRSZXNvdXJjZVZhbHVlKGZvcktleSBrZXk6IFVSTFJlc291cmNlS2V5KSB7fQogICAgb3BlbiBmdW5jIHJlc291cmNlVmFsdWVzKGZvcktleXMga2V5czogW1VSTFJlc291cmNlS2V5XSkgdGhyb3dzIC0+IFtVUkxSZXNvdXJjZUtleTogQW55XSB7fQogICAgb3BlbiBmdW5jIHNldFJlc291cmNlVmFsdWUoXyB2YWx1ZTogQW55PywgZm9yS2V5IGtleTogVVJMUmVzb3VyY2VLZXkpIHRocm93cyB7fQogICAgb3BlbiBmdW5jIHNldFJlc291cmNlVmFsdWVzKF8ga2V5ZWRWYWx1ZXM6IFtVUkxSZXNvdXJjZUtleTogQW55XSkgdGhyb3dzIHt9CiAgICBvcGVuIGZ1bmMgc2V0VGVtcG9yYXJ5UmVzb3VyY2VWYWx1ZShfIHZhbHVlOiBBbnk/LCBmb3JLZXkga2V5OiBVUkxSZXNvdXJjZUtleSkge30KfQpvcGVuIGNsYXNzIE5TVVJMQ29tcG9uZW50cyA6IEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU0NvcHlpbmcsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBfLCBfU3RydWN0VHlwZUJyaWRnZWFibGUsIF9Td2lmdEJyaWRnZWFibGUgewogICAgcHVibGljIGluaXQ/KHN0cmluZyBVUkxTdHJpbmc6IFN0cmluZykge30KICAgIHB1YmxpYyBpbml0Pyh1cmw6IFVSTCwgcmVzb2x2aW5nQWdhaW5zdEJhc2VVUkwgcmVzb2x2ZTogQm9vbCkge30KICAgIG9wZW4gdmFyIGZyYWdtZW50OiBTdHJpbmc/IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBob3N0OiBTdHJpbmc/IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBwYXNzd29yZDogU3RyaW5nPyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgcGF0aDogU3RyaW5nPyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgcGVyY2VudEVuY29kZWRGcmFnbWVudDogU3RyaW5nPyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgcGVyY2VudEVuY29kZWRIb3N0OiBTdHJpbmc/IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBwZXJjZW50RW5jb2RlZFBhc3N3b3JkOiBTdHJpbmc/IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBwZXJjZW50RW5jb2RlZFBhdGg6IFN0cmluZz8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHBlcmNlbnRFbmNvZGVkUXVlcnk6IFN0cmluZz8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHBlcmNlbnRFbmNvZGVkVXNlcjogU3RyaW5nPyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgcG9ydDogTlNOdW1iZXI/IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBxdWVyeTogU3RyaW5nPyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgcXVlcnlJdGVtczogW1VSTFF1ZXJ5SXRlbV0/IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciByYW5nZU9mRnJhZ21lbnQ6IE5TUmFuZ2UgeyBnZXQgfQogICAgb3BlbiB2YXIgcmFuZ2VPZkhvc3Q6IE5TUmFuZ2UgeyBnZXQgfQogICAgb3BlbiB2YXIgcmFuZ2VPZlBhc3N3b3JkOiBOU1JhbmdlIHsgZ2V0IH0KICAgIG9wZW4gdmFyIHJhbmdlT2ZQYXRoOiBOU1JhbmdlIHsgZ2V0IH0KICAgIG9wZW4gdmFyIHJhbmdlT2ZQb3J0OiBOU1JhbmdlIHsgZ2V0IH0KICAgIG9wZW4gdmFyIHJhbmdlT2ZRdWVyeTogTlNSYW5nZSB7IGdldCB9CiAgICBvcGVuIHZhciByYW5nZU9mU2NoZW1lOiBOU1JhbmdlIHsgZ2V0IH0KICAgIG9wZW4gdmFyIHJhbmdlT2ZVc2VyOiBOU1JhbmdlIHsgZ2V0IH0KICAgIG9wZW4gdmFyIHNjaGVtZTogU3RyaW5nPyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgc3RyaW5nOiBTdHJpbmc/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHVybDogVVJMPyB7IGdldCB9CiAgICBvcGVuIHZhciB1c2VyOiBTdHJpbmc/IHsgZ2V0IHNldCB9CiAgICBvcGVuIGZ1bmMgdXJsKHJlbGF0aXZlVG8gYmFzZVVSTDogVVJMPykgLT4gVVJMPyB7fQp9Cm9wZW4gY2xhc3MgTlNVUkxRdWVyeUl0ZW0gOiBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNDb2RpbmcsIE5TQ29weWluZywgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wsIE5TU2VjdXJlQ29kaW5nLCBfLCBfU3RydWN0VHlwZUJyaWRnZWFibGUsIF9Td2lmdEJyaWRnZWFibGUgewogICAgcHVibGljIGluaXQobmFtZTogU3RyaW5nLCB2YWx1ZTogU3RyaW5nPykge30KICAgIG9wZW4gdmFyIG5hbWU6IFN0cmluZyB7IGdldCB9CiAgICBvcGVuIHZhciB2YWx1ZTogU3RyaW5nPyB7IGdldCB9Cn0Kb3BlbiBjbGFzcyBOU1VSTFJlcXVlc3QgOiBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNDb2RpbmcsIE5TQ29weWluZywgTlNNdXRhYmxlQ29weWluZywgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wsIE5TU2VjdXJlQ29kaW5nLCBfLCBfU3RydWN0VHlwZUJyaWRnZWFibGUgewogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQodXJsOiBVUkwpIHt9CiAgICBwdWJsaWMgaW5pdCh1cmw6IFVSTCwgY2FjaGVQb2xpY3k6IE5TVVJMUmVxdWVzdC5DYWNoZVBvbGljeSwgdGltZW91dEludGVydmFsOiBUaW1lSW50ZXJ2YWwpIHt9CiAgICBvcGVuIHZhciBhbGxIVFRQSGVhZGVyRmllbGRzOiBbU3RyaW5nOiBTdHJpbmddPyB7IGdldCB9CiAgICBvcGVuIHZhciBhbGxvd3NDZWxsdWxhckFjY2VzczogQm9vbCB7IGdldCB9CiAgICBvcGVuIHZhciBjYWNoZVBvbGljeTogQ2FjaGVQb2xpY3kgeyBnZXQgfQogICAgb3BlbiB2YXIgaHR0cEJvZHk6IERhdGE/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGh0dHBCb2R5U3RyZWFtOiBJbnB1dFN0cmVhbT8geyBnZXQgfQogICAgb3BlbiB2YXIgaHR0cE1ldGhvZDogU3RyaW5nPyB7IGdldCB9CiAgICBvcGVuIHZhciBodHRwU2hvdWxkSGFuZGxlQ29va2llczogQm9vbCB7IGdldCB9CiAgICBvcGVuIHZhciBodHRwU2hvdWxkVXNlUGlwZWxpbmluZzogQm9vbCB7IGdldCB9CiAgICBvcGVuIHZhciBtYWluRG9jdW1lbnRVUkw6IFVSTD8geyBnZXQgfQogICAgb3BlbiB2YXIgbmV0d29ya1NlcnZpY2VUeXBlOiBOZXR3b3JrU2VydmljZVR5cGUgeyBnZXQgfQogICAgb3BlbiB2YXIgdGltZW91dEludGVydmFsOiBUaW1lSW50ZXJ2YWwgeyBnZXQgfQogICAgb3BlbiB2YXIgdXJsOiBVUkw/IHsgZ2V0IH0KICAgIG9wZW4gZnVuYyB2YWx1ZShmb3JIVFRQSGVhZGVyRmllbGQgZmllbGQ6IFN0cmluZykgLT4gU3RyaW5nPyB7fQp9Cm9wZW4gY2xhc3MgTlNVVUlEIDogQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TQ29kaW5nLCBOU0NvcHlpbmcsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBOU1NlY3VyZUNvZGluZywgXywgX0hhc0N1c3RvbUFueUhhc2hhYmxlUmVwcmVzZW50YXRpb24sIF9TdHJ1Y3RUeXBlQnJpZGdlYWJsZSB7CiAgICBwdWJsaWMgaW5pdCh1dWlkQnl0ZXMgYnl0ZXM6IFVuc2FmZVBvaW50ZXI8VUludDg+KSB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQ/KHV1aWRTdHJpbmcgc3RyaW5nOiBTdHJpbmcpIHt9CiAgICBvcGVuIHZhciB1dWlkU3RyaW5nOiBTdHJpbmcgeyBnZXQgfQogICAgb3BlbiBmdW5jIGdldEJ5dGVzKF8gdXVpZDogVW5zYWZlTXV0YWJsZVBvaW50ZXI8VUludDg+KSB7fQp9Cm9wZW4gY2xhc3MgTlNWYWx1ZSA6IEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU0NvZGluZywgTlNDb3B5aW5nLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCwgTlNTZWN1cmVDb2RpbmcsIF8sIF9GYWN0b3J5IHsKICAgIHB1YmxpYyByZXF1aXJlZCBjb252ZW5pZW5jZSBpbml0KGJ5dGVzIHZhbHVlOiBVbnNhZmVSYXdQb2ludGVyLCBvYmpDVHlwZSB0eXBlOiBVbnNhZmVQb2ludGVyPEludDg+KSB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQoZWRnZUluc2V0cyBpbnNldHM6IE5TRWRnZUluc2V0cykge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KHBvaW50OiBOU1BvaW50KSB7fQojaWYgREVQTE9ZTUVOVF9SVU5USU1FX1NXSUZUCiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdChyYW5nZTogTlNSYW5nZSkge30KI2VuZGlmCiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdChyZWN0OiBOU1JlY3QpIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdChzaXplOiBOU1NpemUpIHt9CiAgICBwdWJsaWMgdmFyIGVkZ2VJbnNldHNWYWx1ZTogTlNFZGdlSW5zZXRzIHsgZ2V0IH0KICAgIG9wZW4gdmFyIG9iakNUeXBlOiBVbnNhZmVQb2ludGVyPEludDg+IHsgZ2V0IH0KICAgIHB1YmxpYyB2YXIgcG9pbnRWYWx1ZTogTlNQb2ludCB7IGdldCB9CiNpZiBERVBMT1lNRU5UX1JVTlRJTUVfU1dJRlQKICAgIHB1YmxpYyB2YXIgcmFuZ2VWYWx1ZTogTlNSYW5nZSB7IGdldCB9CiNlbmRpZgogICAgcHVibGljIHZhciByZWN0VmFsdWU6IE5TUmVjdCB7IGdldCB9CiAgICBwdWJsaWMgdmFyIHNpemVWYWx1ZTogTlNTaXplIHsgZ2V0IH0KICAgIG9wZW4gZnVuYyBnZXRWYWx1ZShfIHZhbHVlOiBVbnNhZmVNdXRhYmxlUmF3UG9pbnRlcikge30KfQpvcGVuIGNsYXNzIE5vdGlmaWNhdGlvbkNlbnRlciA6IEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCwgXyB7CiAgICBvcGVuIGNsYXNzIHZhciBkZWZhdWx0OiBOb3RpZmljYXRpb25DZW50ZXIgeyBnZXQgfQogICAgb3BlbiBmdW5jIGFkZE9ic2VydmVyKGZvck5hbWUgbmFtZTogTlNOb3RpZmljYXRpb24uTmFtZT8sIG9iamVjdCBvYmo6IEFueT8sIHF1ZXVlOiBPcGVyYXRpb25RdWV1ZT8sIHVzaW5nIGJsb2NrOiBAZXNjYXBpbmcgKE5vdGlmaWNhdGlvbikgLT4gVm9pZCkgLT4gTlNPYmplY3RQcm90b2NvbCB7fQogICAgb3BlbiBmdW5jIHBvc3QoXyBub3RpZmljYXRpb246IE5vdGlmaWNhdGlvbikge30KICAgIG9wZW4gZnVuYyBwb3N0KG5hbWUgYU5hbWU6IE5TTm90aWZpY2F0aW9uLk5hbWUsIG9iamVjdCBhbk9iamVjdDogQW55PywgdXNlckluZm8gYVVzZXJJbmZvOiBbQW55SGFzaGFibGU6IEFueV0/ID0geCkge30KICAgIG9wZW4gZnVuYyByZW1vdmVPYnNlcnZlcihfIG9ic2VydmVyOiBBbnkpIHt9CiAgICBvcGVuIGZ1bmMgcmVtb3ZlT2JzZXJ2ZXIoXyBvYnNlcnZlcjogQW55LCBuYW1lIGFOYW1lOiBOU05vdGlmaWNhdGlvbi5OYW1lPywgb2JqZWN0OiBBbnk/KSB7fQp9Cm9wZW4gY2xhc3MgTm90aWZpY2F0aW9uUXVldWUgOiBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wsIF8gewogICAgb3BlbiBjbGFzcyB2YXIgZGVmYXVsdDogTm90aWZpY2F0aW9uUXVldWUgeyBnZXQgfQogICAgcHVibGljIGluaXQobm90aWZpY2F0aW9uQ2VudGVyOiBOb3RpZmljYXRpb25DZW50ZXIpIHt9CiAgICBvcGVuIGZ1bmMgZGVxdWV1ZU5vdGlmaWNhdGlvbnMobWF0Y2hpbmcgbm90aWZpY2F0aW9uOiBOb3RpZmljYXRpb24sIGNvYWxlc2NlTWFzazogTm90aWZpY2F0aW9uQ29hbGVzY2luZykge30KICAgIG9wZW4gZnVuYyBlbnF1ZXVlKF8gbm90aWZpY2F0aW9uOiBOb3RpZmljYXRpb24sIHBvc3RpbmdTdHlsZTogUG9zdGluZ1N0eWxlKSB7fQogICAgb3BlbiBmdW5jIGVucXVldWUoXyBub3RpZmljYXRpb246IE5vdGlmaWNhdGlvbiwgcG9zdGluZ1N0eWxlOiBQb3N0aW5nU3R5bGUsIGNvYWxlc2NlTWFzazogTm90aWZpY2F0aW9uQ29hbGVzY2luZywgZm9yTW9kZXMgbW9kZXM6IFtSdW5Mb29wTW9kZV0/KSB7fQp9Cm9wZW4gY2xhc3MgTnVtYmVyRm9ybWF0dGVyIDogQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgRm9ybWF0dGVyLCBIYXNoYWJsZSwgTlNDb2RpbmcsIE5TQ29weWluZywgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wsIF8gewogICAgb3BlbiBjbGFzcyBmdW5jIGxvY2FsaXplZFN0cmluZyhmcm9tIG51bTogTlNOdW1iZXIsIG51bWJlciBuc3R5bGU6IFN0eWxlKSAtPiBTdHJpbmcge30KICAgIG9wZW4gdmFyIGFsbG93c0Zsb2F0czogQm9vbCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgYWx3YXlzU2hvd3NEZWNpbWFsU2VwYXJhdG9yOiBCb29sIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBhdHRyaWJ1dGVkU3RyaW5nRm9yTmlsOiBOU0F0dHJpYnV0ZWRTdHJpbmcgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGF0dHJpYnV0ZWRTdHJpbmdGb3JOb3RBTnVtYmVyOiBOU0F0dHJpYnV0ZWRTdHJpbmcgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGF0dHJpYnV0ZWRTdHJpbmdGb3JaZXJvOiBOU0F0dHJpYnV0ZWRTdHJpbmcgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGN1cnJlbmN5Q29kZTogU3RyaW5nISB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgY3VycmVuY3lEZWNpbWFsU2VwYXJhdG9yOiBTdHJpbmchIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBjdXJyZW5jeUdyb3VwaW5nU2VwYXJhdG9yOiBTdHJpbmchIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBjdXJyZW5jeVN5bWJvbDogU3RyaW5nISB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgZGVjaW1hbFNlcGFyYXRvcjogU3RyaW5nISB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgZXhwb25lbnRTeW1ib2w6IFN0cmluZyEgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGZvcm1hdDogU3RyaW5nIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBmb3JtYXRXaWR0aDogSW50IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBmb3JtYXR0aW5nQ29udGV4dDogQ29udGV4dCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgZ2VuZXJhdGVzRGVjaW1hbE51bWJlcnM6IEJvb2wgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGdyb3VwaW5nU2VwYXJhdG9yOiBTdHJpbmchIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBncm91cGluZ1NpemU6IEludCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgaGFzVGhvdXNhbmRTZXBhcmF0b3JzOiBCb29sIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBpbnRlcm5hdGlvbmFsQ3VycmVuY3lTeW1ib2w6IFN0cmluZyEgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGlzTGVuaWVudDogQm9vbCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgaXNQYXJ0aWFsU3RyaW5nVmFsaWRhdGlvbkVuYWJsZWQ6IEJvb2wgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGxvY2FsZTogTG9jYWxlISB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgbG9jYWxpemVzRm9ybWF0OiBCb29sIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBtYXhpbXVtOiBOU051bWJlcj8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIG1heGltdW1GcmFjdGlvbkRpZ2l0czogSW50IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBtYXhpbXVtSW50ZWdlckRpZ2l0czogSW50IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBtYXhpbXVtU2lnbmlmaWNhbnREaWdpdHM6IEludCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgbWluaW11bTogTlNOdW1iZXI/IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBtaW5pbXVtRnJhY3Rpb25EaWdpdHM6IEludCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgbWluaW11bUludGVnZXJEaWdpdHM6IEludCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgbWluaW11bVNpZ25pZmljYW50RGlnaXRzOiBJbnQgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIG1pbnVzU2lnbjogU3RyaW5nISB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgbXVsdGlwbGllcjogTlNOdW1iZXI/IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBuZWdhdGl2ZUZvcm1hdDogU3RyaW5nISB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgbmVnYXRpdmVJbmZpbml0eVN5bWJvbDogU3RyaW5nIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBuZWdhdGl2ZVByZWZpeDogU3RyaW5nISB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgbmVnYXRpdmVTdWZmaXg6IFN0cmluZyEgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIG5pbFN5bWJvbDogU3RyaW5nIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBub3RBTnVtYmVyU3ltYm9sOiBTdHJpbmchIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBudW1iZXJTdHlsZTogU3R5bGUgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHBhZGRpbmdDaGFyYWN0ZXI6IFN0cmluZyEgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHBhZGRpbmdQb3NpdGlvbjogUGFkUG9zaXRpb24geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHBlck1pbGxTeW1ib2w6IFN0cmluZyEgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHBlcmNlbnRTeW1ib2w6IFN0cmluZyEgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHBsdXNTaWduOiBTdHJpbmchIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBwb3NpdGl2ZUZvcm1hdDogU3RyaW5nISB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgcG9zaXRpdmVJbmZpbml0eVN5bWJvbDogU3RyaW5nIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBwb3NpdGl2ZVByZWZpeDogU3RyaW5nISB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgcG9zaXRpdmVTdWZmaXg6IFN0cmluZyEgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHJvdW5kaW5nQmVoYXZpb3I6IE5TRGVjaW1hbE51bWJlckhhbmRsZXIgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHJvdW5kaW5nSW5jcmVtZW50OiBOU051bWJlciEgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHJvdW5kaW5nTW9kZTogUm91bmRpbmdNb2RlIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBzZWNvbmRhcnlHcm91cGluZ1NpemU6IEludCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgdGV4dEF0dHJpYnV0ZXNGb3JOZWdhdGl2ZUluZmluaXR5OiBbU3RyaW5nOiBBbnldPyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgdGV4dEF0dHJpYnV0ZXNGb3JOZWdhdGl2ZVZhbHVlczogW1N0cmluZzogQW55XT8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHRleHRBdHRyaWJ1dGVzRm9yTmlsOiBbU3RyaW5nOiBBbnldPyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgdGV4dEF0dHJpYnV0ZXNGb3JOb3RBTnVtYmVyOiBbU3RyaW5nOiBBbnldPyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgdGV4dEF0dHJpYnV0ZXNGb3JQb3NpdGl2ZUluZmluaXR5OiBbU3RyaW5nOiBBbnldPyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgdGV4dEF0dHJpYnV0ZXNGb3JQb3NpdGl2ZVZhbHVlczogW1N0cmluZzogQW55XT8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHRleHRBdHRyaWJ1dGVzRm9yWmVybzogW1N0cmluZzogQW55XT8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHRob3VzYW5kU2VwYXJhdG9yOiBTdHJpbmchIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciB1c2VzR3JvdXBpbmdTZXBhcmF0b3I6IEJvb2wgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHVzZXNTaWduaWZpY2FudERpZ2l0czogQm9vbCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgemVyb1N5bWJvbDogU3RyaW5nPyB7IGdldCBzZXQgfQogICAgb3BlbiBmdW5jIG51bWJlcihmcm9tIHN0cmluZzogU3RyaW5nKSAtPiBOU051bWJlcj8ge30KICAgIG9wZW4gZnVuYyBvYmplY3RWYWx1ZShfIHN0cmluZzogU3RyaW5nLCByYW5nZTogaW5vdXQgTlNSYW5nZSkgdGhyb3dzIC0+IEFueT8ge30KICAgIG9wZW4gZnVuYyBzdHJpbmcoZnJvbSBudW1iZXI6IE5TTnVtYmVyKSAtPiBTdHJpbmc/IHt9Cn0Kb3BlbiBjbGFzcyBPcGVyYXRpb24gOiBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wsIF8gewogICAgcHVibGljIHZhciBjb21wbGV0aW9uQmxvY2s6ICgoKSAtPiBWb2lkKT8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGRlcGVuZGVuY2llczogW09wZXJhdGlvbl0geyBnZXQgfQogICAgb3BlbiB2YXIgaXNBc3luY2hyb25vdXM6IEJvb2wgeyBnZXQgfQogICAgb3BlbiB2YXIgaXNDYW5jZWxsZWQ6IEJvb2wgeyBnZXQgfQogICAgb3BlbiB2YXIgaXNFeGVjdXRpbmc6IEJvb2wgeyBnZXQgfQogICAgb3BlbiB2YXIgaXNGaW5pc2hlZDogQm9vbCB7IGdldCB9CiAgICBvcGVuIHZhciBpc1JlYWR5OiBCb29sIHsgZ2V0IH0KICAgIG9wZW4gdmFyIG5hbWU6IFN0cmluZz8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHF1YWxpdHlPZlNlcnZpY2U6IFF1YWxpdHlPZlNlcnZpY2UgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHF1ZXVlUHJpb3JpdHk6IFF1ZXVlUHJpb3JpdHkgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHRocmVhZFByaW9yaXR5OiBEb3VibGUgeyBnZXQgc2V0IH0KICAgIG9wZW4gZnVuYyBhZGREZXBlbmRlbmN5KF8gb3A6IE9wZXJhdGlvbikge30KICAgIG9wZW4gZnVuYyBjYW5jZWwoKSB7fQogICAgcHVibGljIGZ1bmMgZGlkQ2hhbmdlVmFsdWUoZm9yS2V5IGtleTogU3RyaW5nKSB7fQogICAgb3BlbiBmdW5jIG1haW4oKSB7fQogICAgb3BlbiBmdW5jIHJlbW92ZURlcGVuZGVuY3koXyBvcDogT3BlcmF0aW9uKSB7fQogICAgb3BlbiBmdW5jIHN0YXJ0KCkge30KICAgIG9wZW4gZnVuYyB3YWl0VW50aWxGaW5pc2hlZCgpIHt9CiAgICBwdWJsaWMgZnVuYyB3aWxsQ2hhbmdlVmFsdWUoZm9yS2V5IGtleTogU3RyaW5nKSB7fQp9Cm9wZW4gY2xhc3MgT3BlcmF0aW9uUXVldWUgOiBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wsIF8gewogICAgb3BlbiBjbGFzcyB2YXIgY3VycmVudDogT3BlcmF0aW9uUXVldWU/IHsgZ2V0IH0KICAgIHB1YmxpYyBzdGF0aWMgdmFyIGRlZmF1bHRNYXhDb25jdXJyZW50T3BlcmF0aW9uQ291bnQ6IEludCB7IGdldCB9CiAgICBvcGVuIGNsYXNzIHZhciBtYWluOiBPcGVyYXRpb25RdWV1ZSB7IGdldCB9CiAgICBvcGVuIHZhciBpc1N1c3BlbmRlZDogQm9vbCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgbWF4Q29uY3VycmVudE9wZXJhdGlvbkNvdW50OiBJbnQgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIG5hbWU6IFN0cmluZz8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIG9wZXJhdGlvbkNvdW50OiBJbnQgeyBnZXQgfQogICAgb3BlbiB2YXIgb3BlcmF0aW9uczogW09wZXJhdGlvbl0geyBnZXQgfQogICAgb3BlbiB2YXIgcXVhbGl0eU9mU2VydmljZTogUXVhbGl0eU9mU2VydmljZSB7IGdldCBzZXQgfQojaWYgREVQTE9ZTUVOVF9FTkFCTEVfTElCRElTUEFUQ0gKICAgIG9wZW4gdmFyIHVuZGVybHlpbmdRdWV1ZTogRGlzcGF0Y2hRdWV1ZT8geyBnZXQgc2V0IH0KI2VuZGlmCiAgICBvcGVuIGZ1bmMgYWRkT3BlcmF0aW9uKF8gYmxvY2s6IEBlc2NhcGluZyAoKSAtPiBTd2lmdC5Wb2lkKSB7fQogICAgb3BlbiBmdW5jIGFkZE9wZXJhdGlvbnMoXyBvcHM6IFtPcGVyYXRpb25dLCB3YWl0VW50aWxGaW5pc2hlZCB3YWl0OiBCb29sKSB7fQogICAgb3BlbiBmdW5jIGNhbmNlbEFsbE9wZXJhdGlvbnMoKSB7fQogICAgb3BlbiBmdW5jIHdhaXRVbnRpbEFsbE9wZXJhdGlvbnNBcmVGaW5pc2hlZCgpIHt9Cn0Kb3BlbiBjbGFzcyBPdXRwdXRTdHJlYW0gOiBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wsIFN0cmVhbSwgXyB7CiAgICBvcGVuIGNsYXNzIGZ1bmMgdG9NZW1vcnkoKSAtPiBTZWxmIHt9CiAgICBwdWJsaWMgaW5pdCh0b0J1ZmZlciBidWZmZXI6IFVuc2FmZU11dGFibGVQb2ludGVyPFVJbnQ4PiwgY2FwYWNpdHk6IEludCkge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0Pyh0b0ZpbGVBdFBhdGggcGF0aDogU3RyaW5nLCBhcHBlbmQgc2hvdWxkQXBwZW5kOiBCb29sKSB7fQogICAgcHVibGljIHJlcXVpcmVkIGluaXQodG9NZW1vcnk6IFZvaWQpIHt9CiAgICBwdWJsaWMgaW5pdD8odXJsOiBVUkwsIGFwcGVuZCBzaG91bGRBcHBlbmQ6IEJvb2wpIHt9CiAgICBvcGVuIHZhciBoYXNTcGFjZUF2YWlsYWJsZTogQm9vbCB7IGdldCB9CiAgICBvcGVuIGZ1bmMgd3JpdGUoXyBidWZmZXI6IFVuc2FmZVBvaW50ZXI8VUludDg+LCBtYXhMZW5ndGggbGVuOiBJbnQpIC0+IEludCB7fQp9Cm9wZW4gY2xhc3MgUGVyc29uTmFtZUNvbXBvbmVudHNGb3JtYXR0ZXIgOiBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBGb3JtYXR0ZXIsIEhhc2hhYmxlLCBOU0NvZGluZywgTlNDb3B5aW5nLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCwgXyB7CiAgICBvcGVuIGNsYXNzIGZ1bmMgbG9jYWxpemVkU3RyaW5nKGZyb20gY29tcG9uZW50czogUGVyc29uTmFtZUNvbXBvbmVudHMsIHN0eWxlIG5hbWVGb3JtYXRTdHlsZTogU3R5bGUsIG9wdGlvbnMgbmFtZU9wdGlvbnM6IE9wdGlvbnMgPSB4KSAtPiBTdHJpbmcge30KICAgIG9wZW4gdmFyIGlzUGhvbmV0aWM6IEJvb2wgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHN0eWxlOiBTdHlsZSB7IGdldCBzZXQgfQogICAgb3BlbiBmdW5jIGFubm90YXRlZFN0cmluZyhmcm9tIGNvbXBvbmVudHM6IFBlcnNvbk5hbWVDb21wb25lbnRzKSAtPiBOU0F0dHJpYnV0ZWRTdHJpbmcge30KICAgIG9wZW4gZnVuYyBwZXJzb25OYW1lQ29tcG9uZW50cyhmcm9tIHN0cmluZzogU3RyaW5nKSAtPiBQZXJzb25OYW1lQ29tcG9uZW50cz8ge30KICAgIG9wZW4gZnVuYyBzdHJpbmcoZnJvbSBjb21wb25lbnRzOiBQZXJzb25OYW1lQ29tcG9uZW50cykgLT4gU3RyaW5nIHt9Cn0Kb3BlbiBjbGFzcyBQaXBlIDogQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBfIHsKICAgIG9wZW4gdmFyIGZpbGVIYW5kbGVGb3JSZWFkaW5nOiBGaWxlSGFuZGxlIHsgZ2V0IH0KICAgIG9wZW4gdmFyIGZpbGVIYW5kbGVGb3JXcml0aW5nOiBGaWxlSGFuZGxlIHsgZ2V0IH0KfQpvcGVuIGNsYXNzIFBvcnQgOiBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNDb2RpbmcsIE5TQ29weWluZywgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wsIF8gewogICAgcHVibGljIHN0YXRpYyB2YXIgZGlkQmVjb21lSW52YWxpZE5vdGlmaWNhdGlvbiB7IGdldCB9CiAgICBvcGVuIHZhciBpc1ZhbGlkOiBCb29sIHsgZ2V0IH0KICAgIG9wZW4gdmFyIHJlc2VydmVkU3BhY2VMZW5ndGg6IEludCB7IGdldCB9CiAgICBvcGVuIGZ1bmMgaW52YWxpZGF0ZSgpIHt9CiAgICBvcGVuIGZ1bmMgcmVtb3ZlKGZyb20gcnVuTG9vcDogUnVuTG9vcCwgZm9yTW9kZSBtb2RlOiBSdW5Mb29wTW9kZSkge30KICAgIG9wZW4gZnVuYyBzY2hlZHVsZShpbiBydW5Mb29wOiBSdW5Mb29wLCBmb3JNb2RlIG1vZGU6IFJ1bkxvb3BNb2RlKSB7fQogICAgb3BlbiBmdW5jIHNlbmRCZWZvcmVEYXRlKF8gbGltaXREYXRlOiBEYXRlLCBjb21wb25lbnRzOiBOU011dGFibGVBcnJheT8sIGZyb20gcmVjZWl2ZVBvcnQ6IFBvcnQ/LCByZXNlcnZlZCBoZWFkZXJTcGFjZVJlc2VydmVkOiBJbnQpIC0+IEJvb2wge30KICAgIG9wZW4gZnVuYyBzZW5kQmVmb3JlRGF0ZShfIGxpbWl0RGF0ZTogRGF0ZSwgbXNnaWQgbXNnSUQ6IEludCwgY29tcG9uZW50czogTlNNdXRhYmxlQXJyYXk/LCBmcm9tIHJlY2VpdmVQb3J0OiBQb3J0PywgcmVzZXJ2ZWQgaGVhZGVyU3BhY2VSZXNlcnZlZDogSW50KSAtPiBCb29sIHt9Cn0Kb3BlbiBjbGFzcyBQb3J0TWVzc2FnZSA6IEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCwgXyB7CiAgICBwdWJsaWMgaW5pdChzZW5kUG9ydDogUG9ydD8sIHJlY2VpdmVQb3J0IHJlcGx5UG9ydDogUG9ydD8sIGNvbXBvbmVudHM6IFtBbnlPYmplY3RdPykge30KICAgIG9wZW4gdmFyIGNvbXBvbmVudHM6IFtBbnlPYmplY3RdPyB7IGdldCB9CiAgICBvcGVuIHZhciBtc2dpZDogVUludDMyIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciByZWNlaXZlUG9ydDogUG9ydD8geyBnZXQgfQogICAgb3BlbiB2YXIgc2VuZFBvcnQ6IFBvcnQ/IHsgZ2V0IH0KICAgIG9wZW4gZnVuYyBzZW5kQmVmb3JlRGF0ZShfIGRhdGU6IERhdGUpIC0+IEJvb2wge30KfQpvcGVuIGNsYXNzIFByb2Nlc3MgOiBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wsIF8gewogICAgcHVibGljIHN0YXRpYyB2YXIgZGlkVGVybWluYXRlTm90aWZpY2F0aW9uIHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgZnVuYyBsYXVuY2hlZFByb2Nlc3MobGF1bmNoUGF0aCBwYXRoOiBTdHJpbmcsIGFyZ3VtZW50czogW1N0cmluZ10pIC0+IFByb2Nlc3Mge30KICAgIG9wZW4gdmFyIGFyZ3VtZW50czogW1N0cmluZ10/IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBjdXJyZW50RGlyZWN0b3J5UGF0aDogU3RyaW5nIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBjdXJyZW50RGlyZWN0b3J5VVJMOiBVUkwgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGVudmlyb25tZW50OiBbU3RyaW5nOiBTdHJpbmddPyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgZXhlY3V0YWJsZVVSTDogVVJMPyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgaXNSdW5uaW5nOiBCb29sIHsgZ2V0IH0KICAgIG9wZW4gdmFyIGxhdW5jaFBhdGg6IFN0cmluZz8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHByb2Nlc3NJZGVudGlmaWVyOiBJbnQzMiB7IGdldCB9CiAgICBvcGVuIHZhciBxdWFsaXR5T2ZTZXJ2aWNlOiBRdWFsaXR5T2ZTZXJ2aWNlIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBzdGFuZGFyZEVycm9yOiBBbnk/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHN0YW5kYXJkSW5wdXQ6IEFueT8geyBnZXQgfQogICAgb3BlbiB2YXIgc3RhbmRhcmRPdXRwdXQ6IEFueT8geyBnZXQgfQogICAgb3BlbiB2YXIgdGVybWluYXRpb25IYW5kbGVyOiAoKFByb2Nlc3MpIC0+IFZvaWQpPyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgdGVybWluYXRpb25SZWFzb246IFRlcm1pbmF0aW9uUmVhc29uIHsgZ2V0IH0KICAgIG9wZW4gdmFyIHRlcm1pbmF0aW9uU3RhdHVzOiBJbnQzMiB7IGdldCB9CiAgICBvcGVuIGZ1bmMgaW50ZXJydXB0KCkge30KICAgIG9wZW4gZnVuYyBsYXVuY2goKSB7fQogICAgb3BlbiBmdW5jIHJlc3VtZSgpIC0+IEJvb2wge30KICAgIG9wZW4gZnVuYyBzdXNwZW5kKCkgLT4gQm9vbCB7fQogICAgb3BlbiBmdW5jIHRlcm1pbmF0ZSgpIHt9CiAgICBvcGVuIGZ1bmMgd2FpdFVudGlsRXhpdCgpIHt9Cn0Kb3BlbiBjbGFzcyBQcm9jZXNzSW5mbyA6IEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCwgXyB7CiAgICBwdWJsaWMgc3RhdGljIHZhciBwcm9jZXNzSW5mbyB7IGdldCB9CiAgICBvcGVuIHZhciBhY3RpdmVQcm9jZXNzb3JDb3VudDogSW50IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGFyZ3VtZW50czogW1N0cmluZ10geyBnZXQgfQogICAgb3BlbiB2YXIgZW52aXJvbm1lbnQ6IFtTdHJpbmc6IFN0cmluZ10geyBnZXQgfQogICAgb3BlbiB2YXIgZnVsbFVzZXJOYW1lOiBTdHJpbmcgeyBnZXQgfQogICAgb3BlbiB2YXIgZ2xvYmFsbHlVbmlxdWVTdHJpbmc6IFN0cmluZyB7IGdldCB9CiAgICBvcGVuIHZhciBob3N0TmFtZTogU3RyaW5nIHsgZ2V0IH0KICAgIG9wZW4gdmFyIG9wZXJhdGluZ1N5c3RlbVZlcnNpb246IE9wZXJhdGluZ1N5c3RlbVZlcnNpb24geyBnZXQgfQogICAgb3BlbiB2YXIgb3BlcmF0aW5nU3lzdGVtVmVyc2lvblN0cmluZzogU3RyaW5nIHsgZ2V0IH0KICAgIG9wZW4gdmFyIHBoeXNpY2FsTWVtb3J5OiBVSW50NjQgeyBnZXQgfQogICAgb3BlbiB2YXIgcHJvY2Vzc0lkZW50aWZpZXI6IEludDMyIHsgZ2V0IH0KICAgIG9wZW4gdmFyIHByb2Nlc3NOYW1lOiBTdHJpbmcgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHByb2Nlc3NvckNvdW50OiBJbnQgeyBnZXQgfQogICAgb3BlbiB2YXIgc3lzdGVtVXB0aW1lOiBUaW1lSW50ZXJ2YWwgeyBnZXQgfQogICAgb3BlbiB2YXIgdXNlck5hbWU6IFN0cmluZyB7IGdldCB9CiAgICBvcGVuIGZ1bmMgaXNPcGVyYXRpbmdTeXN0ZW1BdExlYXN0KF8gdmVyc2lvbjogT3BlcmF0aW5nU3lzdGVtVmVyc2lvbikgLT4gQm9vbCB7fQp9Cm9wZW4gY2xhc3MgUHJvZ3Jlc3MgOiBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wsIF8gewogICAgb3BlbiBjbGFzcyBmdW5jIGN1cnJlbnQoKSAtPiBQcm9ncmVzcz8ge30KICAgIG9wZW4gY2xhc3MgZnVuYyBkaXNjcmV0ZVByb2dyZXNzKHRvdGFsVW5pdENvdW50IHVuaXRDb3VudDogSW50NjQpIC0+IFByb2dyZXNzIHt9CiAgICBwdWJsaWMgaW5pdChwYXJlbnQgcGFyZW50UHJvZ3Jlc3M6IFByb2dyZXNzPywgdXNlckluZm8gdXNlckluZm9Pck5pbDogW1Byb2dyZXNzVXNlckluZm9LZXk6IEFueV0/ID0geCkge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KHRvdGFsVW5pdENvdW50IHVuaXRDb3VudDogSW50NjQpIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdCh0b3RhbFVuaXRDb3VudCB1bml0Q291bnQ6IEludDY0LCBwYXJlbnQ6IFByb2dyZXNzLCBwZW5kaW5nVW5pdENvdW50IHBvcnRpb25PZlBhcmVudFRvdGFsVW5pdENvdW50OiBJbnQ2NCkge30KICAgIG9wZW4gdmFyIGNhbmNlbGxhdGlvbkhhbmRsZXI6ICgoKSAtPiBWb2lkKT8geyBnZXQgfQogICAgb3BlbiB2YXIgY29tcGxldGVkVW5pdENvdW50OiBJbnQ2NCB7IGdldCBzZXQgfQogICAgcHVibGljIHZhciBmcmFjdGlvbkNvbXBsZXRlZDogRG91YmxlIHsgZ2V0IH0KICAgIG9wZW4gdmFyIGlzQ2FuY2VsbGFibGU6IEJvb2wgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGlzQ2FuY2VsbGVkOiBCb29sIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBpc0ZpbmlzaGVkOiBCb29sIHsgZ2V0IH0KICAgIG9wZW4gdmFyIGlzSW5kZXRlcm1pbmF0ZTogQm9vbCB7IGdldCB9CiAgICBvcGVuIHZhciBpc1BhdXNhYmxlOiBCb29sIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBpc1BhdXNlZDogQm9vbCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIga2luZDogUHJvZ3Jlc3NLaW5kPyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgbG9jYWxpemVkQWRkaXRpb25hbERlc2NyaXB0aW9uOiBTdHJpbmchIHsgZ2V0IH0KICAgIG9wZW4gdmFyIGxvY2FsaXplZERlc2NyaXB0aW9uOiBTdHJpbmchIHsgZ2V0IH0KICAgIG9wZW4gdmFyIHBhdXNpbmdIYW5kbGVyOiAoKCkgLT4gVm9pZCk/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHJlc3VtaW5nSGFuZGxlcjogKCgpIC0+IFZvaWQpPyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgdG90YWxVbml0Q291bnQ6IEludDY0IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciB1c2VySW5mbzogW1Byb2dyZXNzVXNlckluZm9LZXk6IEFueV0geyBnZXQgfQogICAgb3BlbiBmdW5jIGFkZENoaWxkKF8gY2hpbGQ6IFByb2dyZXNzLCB3aXRoUGVuZGluZ1VuaXRDb3VudCBpblVuaXRDb3VudDogSW50NjQpIHt9CiAgICBvcGVuIGZ1bmMgYmVjb21lQ3VycmVudCh3aXRoUGVuZGluZ1VuaXRDb3VudCB1bml0Q291bnQ6IEludDY0KSB7fQogICAgb3BlbiBmdW5jIGNhbmNlbCgpIHt9CiAgICBvcGVuIGZ1bmMgcGF1c2UoKSB7fQogICAgb3BlbiBmdW5jIHJlc2lnbkN1cnJlbnQoKSB7fQogICAgb3BlbiBmdW5jIHJlc3VtZSgpIHt9CiAgICBvcGVuIGZ1bmMgc2V0VXNlckluZm9PYmplY3QoXyBvYmplY3RPck5pbDogQW55PywgZm9yS2V5IGtleTogUHJvZ3Jlc3NVc2VySW5mb0tleSkge30KfQpvcGVuIGNsYXNzIFByb3BlcnR5TGlzdFNlcmlhbGl6YXRpb24gOiBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wsIF8gewogICAgb3BlbiBjbGFzcyBmdW5jIGRhdGEoZnJvbVByb3BlcnR5TGlzdCBwbGlzdDogQW55LCBmb3JtYXQ6IFByb3BlcnR5TGlzdEZvcm1hdCwgb3B0aW9ucyBvcHQ6IFdyaXRlT3B0aW9ucykgdGhyb3dzIC0+IERhdGEge30KICAgIG9wZW4gY2xhc3MgZnVuYyBwcm9wZXJ0eUxpc3QoXyBwbGlzdDogQW55LCBpc1ZhbGlkRm9yIGZvcm1hdDogUHJvcGVydHlMaXN0Rm9ybWF0KSAtPiBCb29sIHt9CiAgICBvcGVuIGNsYXNzIGZ1bmMgcHJvcGVydHlMaXN0KGZyb20gZGF0YTogRGF0YSwgb3B0aW9ucyBvcHQ6IFJlYWRPcHRpb25zID0geCwgZm9ybWF0OiBVbnNhZmVNdXRhYmxlUG9pbnRlcjxQcm9wZXJ0eUxpc3RGb3JtYXQ+PykgdGhyb3dzIC0+IEFueSB7fQogICAgb3BlbiBjbGFzcyBmdW5jIHByb3BlcnR5TGlzdCh3aXRoIHN0cmVhbTogSW5wdXRTdHJlYW0sIG9wdGlvbnMgb3B0OiBSZWFkT3B0aW9ucyA9IHgsIGZvcm1hdDogVW5zYWZlTXV0YWJsZVBvaW50ZXI8UHJvcGVydHlMaXN0Rm9ybWF0Pj8pIHRocm93cyAtPiBBbnkge30KfQpvcGVuIGNsYXNzIFJ1bkxvb3AgOiBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wsIF8gewogICAgb3BlbiBjbGFzcyB2YXIgY3VycmVudDogUnVuTG9vcCB7IGdldCB9CiAgICBvcGVuIGNsYXNzIHZhciBtYWluOiBSdW5Mb29wIHsgZ2V0IH0KICAgIG9wZW4gdmFyIGN1cnJlbnRNb2RlOiBSdW5Mb29wTW9kZT8geyBnZXQgfQogICAgb3BlbiBmdW5jIGFjY2VwdElucHV0KGZvck1vZGUgbW9kZTogU3RyaW5nLCBiZWZvcmUgbGltaXREYXRlOiBEYXRlKSB7fQogICAgb3BlbiBmdW5jIGFkZChfIGFQb3J0OiBQb3J0LCBmb3JNb2RlIG1vZGU6IFJ1bkxvb3BNb2RlKSB7fQogICAgb3BlbiBmdW5jIGdldENGUnVuTG9vcCgpIC0+IENGUnVuTG9vcCB7fQogICAgb3BlbiBmdW5jIGxpbWl0RGF0ZShmb3JNb2RlIG1vZGU6IFJ1bkxvb3BNb2RlKSAtPiBEYXRlPyB7fQogICAgcHVibGljIGZ1bmMgcGVyZm9ybShfIGJsb2NrOiBAZXNjYXBpbmcgKCkgLT4gVm9pZCkge30KICAgIHB1YmxpYyBmdW5jIHBlcmZvcm0oaW5Nb2RlcyBtb2RlczogW1J1bkxvb3BNb2RlXSwgYmxvY2s6IEBlc2NhcGluZyAoKSAtPiBWb2lkKSB7fQogICAgb3BlbiBmdW5jIHJlbW92ZShfIGFQb3J0OiBQb3J0LCBmb3JNb2RlIG1vZGU6IFJ1bkxvb3BNb2RlKSB7fQogICAgcHVibGljIGZ1bmMgcnVuKCkge30KICAgIHB1YmxpYyBmdW5jIHJ1bihtb2RlOiBSdW5Mb29wTW9kZSwgYmVmb3JlIGxpbWl0RGF0ZTogRGF0ZSkgLT4gQm9vbCB7fQogICAgcHVibGljIGZ1bmMgcnVuKHVudGlsIGxpbWl0RGF0ZTogRGF0ZSkge30KfQpvcGVuIGNsYXNzIFNjYW5uZXIgOiBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNDb3B5aW5nLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCwgXyB7CiAgICBvcGVuIGNsYXNzIGZ1bmMgbG9jYWxpemVkU2Nhbm5lcldpdGhTdHJpbmcoXyBzdHJpbmc6IFN0cmluZykgLT4gQW55T2JqZWN0IHt9CiAgICBwdWJsaWMgaW5pdChzdHJpbmc6IFN0cmluZykge30KICAgIG9wZW4gdmFyIGNhc2VTZW5zaXRpdmU6IEJvb2wgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGNoYXJhY3RlcnNUb0JlU2tpcHBlZDogQ2hhcmFjdGVyU2V0PyB7IGdldCBzZXQgfQogICAgcHVibGljIHZhciBpc0F0RW5kOiBCb29sIHsgZ2V0IH0KICAgIG9wZW4gdmFyIGxvY2FsZTogTG9jYWxlPyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgc2NhbkxvY2F0aW9uOiBJbnQgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHN0cmluZzogU3RyaW5nIHsgZ2V0IH0KICAgIHB1YmxpYyBmdW5jIHNjYW5DaGFyYWN0ZXJzRnJvbVNldChfIHNldDogQ2hhcmFjdGVyU2V0KSAtPiBTdHJpbmc/IHt9CiAgICBwdWJsaWMgZnVuYyBzY2FuRGVjaW1hbCgpIC0+IERlY2ltYWw/IHt9CiAgICBwdWJsaWMgZnVuYyBzY2FuRGVjaW1hbChfIGRjbTogaW5vdXQgRGVjaW1hbCkgLT4gQm9vbCB7fQogICAgcHVibGljIGZ1bmMgc2NhbkRvdWJsZSgpIC0+IERvdWJsZT8ge30KICAgIHB1YmxpYyBmdW5jIHNjYW5Eb3VibGUoXyByZXN1bHQ6IFVuc2FmZU11dGFibGVQb2ludGVyPERvdWJsZT4pIC0+IEJvb2wge30KICAgIHB1YmxpYyBmdW5jIHNjYW5GbG9hdCgpIC0+IEZsb2F0PyB7fQogICAgcHVibGljIGZ1bmMgc2NhbkZsb2F0KF8gcmVzdWx0OiBVbnNhZmVNdXRhYmxlUG9pbnRlcjxGbG9hdD4pIC0+IEJvb2wge30KICAgIHB1YmxpYyBmdW5jIHNjYW5IZXhEb3VibGUoKSAtPiBEb3VibGU/IHt9CiAgICBwdWJsaWMgZnVuYyBzY2FuSGV4RG91YmxlKF8gcmVzdWx0OiBVbnNhZmVNdXRhYmxlUG9pbnRlcjxEb3VibGU+KSAtPiBCb29sIHt9CiAgICBwdWJsaWMgZnVuYyBzY2FuSGV4RmxvYXQoKSAtPiBGbG9hdD8ge30KICAgIHB1YmxpYyBmdW5jIHNjYW5IZXhGbG9hdChfIHJlc3VsdDogVW5zYWZlTXV0YWJsZVBvaW50ZXI8RmxvYXQ+KSAtPiBCb29sIHt9CiAgICBwdWJsaWMgZnVuYyBzY2FuSGV4SW50MzIoKSAtPiBVSW50MzI/IHt9CiAgICBwdWJsaWMgZnVuYyBzY2FuSGV4SW50MzIoXyByZXN1bHQ6IFVuc2FmZU11dGFibGVQb2ludGVyPFVJbnQzMj4pIC0+IEJvb2wge30KICAgIHB1YmxpYyBmdW5jIHNjYW5IZXhJbnQ2NCgpIC0+IFVJbnQ2ND8ge30KICAgIHB1YmxpYyBmdW5jIHNjYW5IZXhJbnQ2NChfIHJlc3VsdDogVW5zYWZlTXV0YWJsZVBvaW50ZXI8VUludDY0PikgLT4gQm9vbCB7fQogICAgcHVibGljIGZ1bmMgc2NhbkludCgpIC0+IEludD8ge30KICAgIHB1YmxpYyBmdW5jIHNjYW5JbnQoXyByZXN1bHQ6IFVuc2FmZU11dGFibGVQb2ludGVyPEludD4pIC0+IEJvb2wge30KICAgIHB1YmxpYyBmdW5jIHNjYW5JbnQzMigpIC0+IEludDMyPyB7fQogICAgcHVibGljIGZ1bmMgc2NhbkludDMyKF8gcmVzdWx0OiBVbnNhZmVNdXRhYmxlUG9pbnRlcjxJbnQzMj4pIC0+IEJvb2wge30KICAgIHB1YmxpYyBmdW5jIHNjYW5JbnQ2NCgpIC0+IEludDY0PyB7fQogICAgcHVibGljIGZ1bmMgc2NhbkludDY0KF8gcmVzdWx0OiBVbnNhZmVNdXRhYmxlUG9pbnRlcjxJbnQ2ND4pIC0+IEJvb2wge30KICAgIHB1YmxpYyBmdW5jIHNjYW5TdHJpbmcoXyBzZWFyY2hTdHJpbmc6IFN0cmluZykgLT4gU3RyaW5nPyB7fQogICAgcHVibGljIGZ1bmMgc2NhblN0cmluZyhfIHN0cmluZzogU3RyaW5nLCBpbnRvIHB0cjogVW5zYWZlTXV0YWJsZVBvaW50ZXI8U3RyaW5nPz4/KSAtPiBCb29sIHt9CiAgICBwdWJsaWMgZnVuYyBzY2FuVW5zaWduZWRMb25nTG9uZygpIC0+IFVJbnQ2ND8ge30KICAgIHB1YmxpYyBmdW5jIHNjYW5VbnNpZ25lZExvbmdMb25nKF8gcmVzdWx0OiBVbnNhZmVNdXRhYmxlUG9pbnRlcjxVSW50NjQ+KSAtPiBCb29sIHt9CiAgICBwdWJsaWMgZnVuYyBzY2FuVXBUb0NoYXJhY3RlcnMoZnJvbSBzZXQ6IENoYXJhY3RlclNldCwgaW50byBwdHI6IFVuc2FmZU11dGFibGVQb2ludGVyPFN0cmluZz8+PykgLT4gQm9vbCB7fQogICAgcHVibGljIGZ1bmMgc2NhblVwVG9DaGFyYWN0ZXJzRnJvbVNldChfIHNldDogQ2hhcmFjdGVyU2V0KSAtPiBTdHJpbmc/IHt9CiAgICBwdWJsaWMgZnVuYyBzY2FuVXBUb1N0cmluZyhfIHN0cmluZzogU3RyaW5nKSAtPiBTdHJpbmc/IHt9Cn0Kb3BlbiBjbGFzcyBTb2NrZXRQb3J0IDogQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TQ29kaW5nLCBOU0NvcHlpbmcsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBQb3J0LCBfIHsKICAgIHB1YmxpYyBpbml0Pyhwcm90b2NvbEZhbWlseSBmYW1pbHk6IEludDMyLCBzb2NrZXRUeXBlIHR5cGU6IEludDMyLCBwcm90b2NvbDogSW50MzIsIGFkZHJlc3M6IERhdGEpIHt9CiAgICBwdWJsaWMgaW5pdD8ocHJvdG9jb2xGYW1pbHkgZmFtaWx5OiBJbnQzMiwgc29ja2V0VHlwZSB0eXBlOiBJbnQzMiwgcHJvdG9jb2w6IEludDMyLCBzb2NrZXQgc29jazogU29ja2V0TmF0aXZlSGFuZGxlKSB7fQogICAgcHVibGljIGluaXQocmVtb3RlV2l0aFByb3RvY29sRmFtaWx5IGZhbWlseTogSW50MzIsIHNvY2tldFR5cGUgdHlwZTogSW50MzIsIHByb3RvY29sOiBJbnQzMiwgYWRkcmVzczogRGF0YSkge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0PyhyZW1vdGVXaXRoVENQUG9ydCBwb3J0OiBVSW50MTYsIGhvc3QgaG9zdE5hbWU6IFN0cmluZz8pIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdD8odGNwUG9ydCBwb3J0OiBVSW50MTYpIHt9CiAgICBvcGVuIHZhciBhZGRyZXNzOiBEYXRhIHsgZ2V0IH0KICAgIG9wZW4gdmFyIHByb3RvY29sOiBJbnQzMiB7IGdldCB9CiAgICBvcGVuIHZhciBwcm90b2NvbEZhbWlseTogSW50MzIgeyBnZXQgfQogICAgb3BlbiB2YXIgc29ja2V0OiBTb2NrZXROYXRpdmVIYW5kbGUgeyBnZXQgfQogICAgb3BlbiB2YXIgc29ja2V0VHlwZTogSW50MzIgeyBnZXQgfQp9Cm9wZW4gY2xhc3MgU3RyZWFtIDogQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBfIHsKI2lmIGZhbHNlCiAgICBvcGVuIGNsYXNzIGZ1bmMgZ2V0Qm91bmRTdHJlYW1zKHdpdGhCdWZmZXJTaXplIGJ1ZmZlclNpemU6IEludCwgaW5wdXRTdHJlYW06IEF1dG9yZWxlYXNpbmdVbnNhZmVNdXRhYmxlUG9pbnRlcjxJbnB1dFN0cmVhbT8+Pywgb3V0cHV0U3RyZWFtOiBBdXRvcmVsZWFzaW5nVW5zYWZlTXV0YWJsZVBvaW50ZXI8T3V0cHV0U3RyZWFtPz4/KSB7fQojZW5kaWYKI2lmIGZhbHNlCiAgICBvcGVuIGNsYXNzIGZ1bmMgZ2V0U3RyZWFtc1RvSG9zdCh3aXRoTmFtZSBob3N0bmFtZTogU3RyaW5nLCBwb3J0OiBJbnQsIGlucHV0U3RyZWFtOiBBdXRvcmVsZWFzaW5nVW5zYWZlTXV0YWJsZVBvaW50ZXI8SW5wdXRTdHJlYW0/Pj8sIG91dHB1dFN0cmVhbTogQXV0b3JlbGVhc2luZ1Vuc2FmZU11dGFibGVQb2ludGVyPE91dHB1dFN0cmVhbT8+Pykge30KI2VuZGlmCiAgICBvcGVuIHdlYWsgdmFyIGRlbGVnYXRlOiBTdHJlYW1EZWxlZ2F0ZT8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHN0cmVhbUVycm9yOiBFcnJvcj8geyBnZXQgfQogICAgb3BlbiB2YXIgc3RyZWFtU3RhdHVzOiBTdGF0dXMgeyBnZXQgfQogICAgb3BlbiBmdW5jIGNsb3NlKCkge30KICAgIG9wZW4gZnVuYyBvcGVuKCkge30KICAgIG9wZW4gZnVuYyBwcm9wZXJ0eShmb3JLZXkga2V5OiBQcm9wZXJ0eUtleSkgLT4gQW55T2JqZWN0PyB7fQogICAgb3BlbiBmdW5jIHJlbW92ZShmcm9tIGFSdW5Mb29wOiBSdW5Mb29wLCBmb3JNb2RlIG1vZGU6IFJ1bkxvb3BNb2RlKSB7fQogICAgb3BlbiBmdW5jIHNjaGVkdWxlKGluIGFSdW5Mb29wOiBSdW5Mb29wLCBmb3JNb2RlIG1vZGU6IFJ1bkxvb3BNb2RlKSB7fQogICAgb3BlbiBmdW5jIHNldFByb3BlcnR5KF8gcHJvcGVydHk6IEFueU9iamVjdD8sIGZvcktleSBrZXk6IFByb3BlcnR5S2V5KSAtPiBCb29sIHt9Cn0Kb3BlbiBjbGFzcyBUaHJlYWQgOiBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wsIF8gewogICAgb3BlbiBjbGFzcyB2YXIgY2FsbFN0YWNrUmV0dXJuQWRkcmVzc2VzOiBbTlNOdW1iZXJdIHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgdmFyIGNhbGxTdGFja1N5bWJvbHM6IFtTdHJpbmddIHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgdmFyIGN1cnJlbnQ6IFRocmVhZCB7IGdldCB9CiAgICBvcGVuIGNsYXNzIHZhciBpc01haW5UaHJlYWQ6IEJvb2wgeyBnZXQgfQogICAgb3BlbiBjbGFzcyB2YXIgbWFpblRocmVhZDogVGhyZWFkIHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgZnVuYyBkZXRhY2hOZXdUaHJlYWQoXyBibG9jazogQGVzY2FwaW5nICgpIC0+IFN3aWZ0LlZvaWQpIHt9CiAgICBvcGVuIGNsYXNzIGZ1bmMgZXhpdCgpIHt9CiAgICBvcGVuIGNsYXNzIGZ1bmMgaXNNdWx0aVRocmVhZGVkKCkgLT4gQm9vbCB7fQogICAgb3BlbiBjbGFzcyBmdW5jIHNsZWVwKGZvclRpbWVJbnRlcnZhbCBpbnRlcnZhbDogVGltZUludGVydmFsKSB7fQogICAgb3BlbiBjbGFzcyBmdW5jIHNsZWVwKHVudGlsIGRhdGU6IERhdGUpIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdChibG9jazogQGVzY2FwaW5nICgpIC0+IFN3aWZ0LlZvaWQpIHt9CiAgICBvcGVuIHZhciBpc0NhbmNlbGxlZDogQm9vbCB7IGdldCB9CiAgICBvcGVuIHZhciBpc0V4ZWN1dGluZzogQm9vbCB7IGdldCB9CiAgICBvcGVuIHZhciBpc0ZpbmlzaGVkOiBCb29sIHsgZ2V0IH0KICAgIG9wZW4gdmFyIGlzTWFpblRocmVhZDogQm9vbCB7IGdldCB9CiAgICBvcGVuIHZhciBuYW1lOiBTdHJpbmc/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHN0YWNrU2l6ZTogSW50IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciB0aHJlYWREaWN0aW9uYXJ5IHsgZ2V0IHNldCB9CiAgICBvcGVuIGZ1bmMgY2FuY2VsKCkge30KICAgIG9wZW4gZnVuYyBtYWluKCkge30KICAgIG9wZW4gZnVuYyBzdGFydCgpIHt9Cn0Kb3BlbiBjbGFzcyBUaW1lciA6IEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCwgXyB7CiAgICBvcGVuIGNsYXNzIGZ1bmMgc2NoZWR1bGVkVGltZXIod2l0aFRpbWVJbnRlcnZhbCBpbnRlcnZhbDogVGltZUludGVydmFsLCByZXBlYXRzOiBCb29sLCBibG9jazogQGVzY2FwaW5nIChUaW1lcikgLT4gVm9pZCkgLT4gVGltZXIge30KICAgIHB1YmxpYyBpbml0KGZpcmUgZGF0ZTogRGF0ZSwgaW50ZXJ2YWw6IFRpbWVJbnRlcnZhbCwgcmVwZWF0czogQm9vbCwgYmxvY2s6IEBlc2NhcGluZyAoVGltZXIpIC0+IFN3aWZ0LlZvaWQpIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdCh0aW1lSW50ZXJ2YWwgaW50ZXJ2YWw6IFRpbWVJbnRlcnZhbCwgcmVwZWF0czogQm9vbCwgYmxvY2s6IEBlc2NhcGluZyAoVGltZXIpIC0+IFN3aWZ0LlZvaWQpIHt9CiAgICBvcGVuIHZhciBmaXJlRGF0ZTogRGF0ZSB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgaXNWYWxpZDogQm9vbCB7IGdldCB9CiAgICBvcGVuIHZhciB0aW1lSW50ZXJ2YWw6IFRpbWVJbnRlcnZhbCB7IGdldCB9CiAgICBvcGVuIHZhciB0b2xlcmFuY2U6IFRpbWVJbnRlcnZhbCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgdXNlckluZm86IEFueT8geyBnZXQgfQogICAgb3BlbiBmdW5jIGZpcmUoKSB7fQogICAgb3BlbiBmdW5jIGludmFsaWRhdGUoKSB7fQp9Cm9wZW4gY2xhc3MgVVJMQXV0aGVudGljYXRpb25DaGFsbGVuZ2UgOiBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNDb2RpbmcsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBOU1NlY3VyZUNvZGluZywgXyB7CiAgICBwdWJsaWMgaW5pdChhdXRoZW50aWNhdGlvbkNoYWxsZW5nZSBjaGFsbGVuZ2U6IFVSTEF1dGhlbnRpY2F0aW9uQ2hhbGxlbmdlLCBzZW5kZXI6IFVSTEF1dGhlbnRpY2F0aW9uQ2hhbGxlbmdlU2VuZGVyKSB7fQogICAgcHVibGljIGluaXQocHJvdGVjdGlvblNwYWNlIHNwYWNlOiBVUkxQcm90ZWN0aW9uU3BhY2UsIHByb3Bvc2VkQ3JlZGVudGlhbCBjcmVkZW50aWFsOiBVUkxDcmVkZW50aWFsPywgcHJldmlvdXNGYWlsdXJlQ291bnQ6IEludCwgZmFpbHVyZVJlc3BvbnNlIHJlc3BvbnNlOiBVUkxSZXNwb25zZT8sIGVycm9yOiBFcnJvcj8sIHNlbmRlcjogVVJMQXV0aGVudGljYXRpb25DaGFsbGVuZ2VTZW5kZXIpIHt9CiAgICBvcGVuIHZhciBlcnJvcjogRXJyb3I/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGZhaWx1cmVSZXNwb25zZTogVVJMUmVzcG9uc2U/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHByZXZpb3VzRmFpbHVyZUNvdW50OiBJbnQgeyBnZXQgfQogICAgb3BlbiB2YXIgcHJvcG9zZWRDcmVkZW50aWFsOiBVUkxDcmVkZW50aWFsPyB7IGdldCB9CiAgICBvcGVuIHZhciBwcm90ZWN0aW9uU3BhY2U6IFVSTFByb3RlY3Rpb25TcGFjZSB7IGdldCB9CiAgICBvcGVuIHZhciBzZW5kZXI6IFVSTEF1dGhlbnRpY2F0aW9uQ2hhbGxlbmdlU2VuZGVyPyB7IGdldCB9Cn0Kb3BlbiBjbGFzcyBVUkxDYWNoZSA6IEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCwgXyB7CiAgICBvcGVuIGNsYXNzIHZhciBzaGFyZWQ6IFVSTENhY2hlIHsgZ2V0IHNldCB9CiAgICBwdWJsaWMgaW5pdChtZW1vcnlDYXBhY2l0eTogSW50LCBkaXNrQ2FwYWNpdHk6IEludCwgZGlza1BhdGggcGF0aDogU3RyaW5nPykge30KICAgIG9wZW4gdmFyIGN1cnJlbnREaXNrVXNhZ2U6IEludCB7IGdldCB9CiAgICBvcGVuIHZhciBjdXJyZW50TWVtb3J5VXNhZ2U6IEludCB7IGdldCB9CiAgICBvcGVuIHZhciBkaXNrQ2FwYWNpdHk6IEludCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgbWVtb3J5Q2FwYWNpdHk6IEludCB7IGdldCBzZXQgfQogICAgb3BlbiBmdW5jIGNhY2hlZFJlc3BvbnNlKGZvciByZXF1ZXN0OiBVUkxSZXF1ZXN0KSAtPiBDYWNoZWRVUkxSZXNwb25zZT8ge30KICAgIHB1YmxpYyBmdW5jIGdldENhY2hlZFJlc3BvbnNlKGZvciBkYXRhVGFzazogVVJMU2Vzc2lvbkRhdGFUYXNrLCBjb21wbGV0aW9uSGFuZGxlcjogKENhY2hlZFVSTFJlc3BvbnNlPykgLT4gVm9pZCkge30KICAgIG9wZW4gZnVuYyByZW1vdmVBbGxDYWNoZWRSZXNwb25zZXMoKSB7fQogICAgcHVibGljIGZ1bmMgcmVtb3ZlQ2FjaGVkUmVzcG9uc2UoZm9yIGRhdGFUYXNrOiBVUkxTZXNzaW9uRGF0YVRhc2spIHt9CiAgICBvcGVuIGZ1bmMgcmVtb3ZlQ2FjaGVkUmVzcG9uc2VzKHNpbmNlIGRhdGU6IERhdGUpIHt9CiAgICBwdWJsaWMgZnVuYyBzdG9yZUNhY2hlZFJlc3BvbnNlKF8gY2FjaGVkUmVzcG9uc2U6IENhY2hlZFVSTFJlc3BvbnNlLCBmb3IgZGF0YVRhc2s6IFVSTFNlc3Npb25EYXRhVGFzaykge30KfQpvcGVuIGNsYXNzIFVSTENyZWRlbnRpYWwgOiBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNDb2RpbmcsIE5TQ29weWluZywgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wsIE5TU2VjdXJlQ29kaW5nLCBfIHsKICAgIHB1YmxpYyBpbml0KHVzZXI6IFN0cmluZywgcGFzc3dvcmQ6IFN0cmluZywgcGVyc2lzdGVuY2U6IFBlcnNpc3RlbmNlKSB7fQogICAgb3BlbiB2YXIgaGFzUGFzc3dvcmQ6IEJvb2wgeyBnZXQgfQogICAgb3BlbiB2YXIgcGFzc3dvcmQ6IFN0cmluZz8geyBnZXQgfQogICAgb3BlbiB2YXIgcGVyc2lzdGVuY2U6IFBlcnNpc3RlbmNlIHsgZ2V0IH0KICAgIG9wZW4gdmFyIHVzZXI6IFN0cmluZz8geyBnZXQgfQp9Cm9wZW4gY2xhc3MgVVJMQ3JlZGVudGlhbFN0b3JhZ2UgOiBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wsIF8gewogICAgb3BlbiBjbGFzcyB2YXIgc2hhcmVkOiBVUkxDcmVkZW50aWFsU3RvcmFnZSB7IGdldCB9CiAgICBvcGVuIHZhciBhbGxDcmVkZW50aWFsczogW1VSTFByb3RlY3Rpb25TcGFjZTogW1N0cmluZzogVVJMQ3JlZGVudGlhbF1dIHsgZ2V0IH0KICAgIG9wZW4gZnVuYyBjcmVkZW50aWFscyhmb3Igc3BhY2U6IFVSTFByb3RlY3Rpb25TcGFjZSkgLT4gW1N0cmluZzogVVJMQ3JlZGVudGlhbF0/IHt9CiAgICBvcGVuIGZ1bmMgZGVmYXVsdENyZWRlbnRpYWwoZm9yIHNwYWNlOiBVUkxQcm90ZWN0aW9uU3BhY2UpIC0+IFVSTENyZWRlbnRpYWw/IHt9CiAgICBwdWJsaWMgZnVuYyBnZXRDcmVkZW50aWFscyhmb3IgcHJvdGVjdGlvblNwYWNlOiBVUkxQcm90ZWN0aW9uU3BhY2UsIHRhc2s6IFVSTFNlc3Npb25UYXNrLCBjb21wbGV0aW9uSGFuZGxlcjogKFtTdHJpbmc6IFVSTENyZWRlbnRpYWxdPykgLT4gVm9pZCkge30KICAgIHB1YmxpYyBmdW5jIGdldERlZmF1bHRDcmVkZW50aWFsKGZvciBzcGFjZTogVVJMUHJvdGVjdGlvblNwYWNlLCB0YXNrOiBVUkxTZXNzaW9uVGFzaywgY29tcGxldGlvbkhhbmRsZXI6IChVUkxDcmVkZW50aWFsPykgLT4gVm9pZCkge30KICAgIG9wZW4gZnVuYyByZW1vdmUoXyBjcmVkZW50aWFsOiBVUkxDcmVkZW50aWFsLCBmb3Igc3BhY2U6IFVSTFByb3RlY3Rpb25TcGFjZSkge30KICAgIG9wZW4gZnVuYyByZW1vdmUoXyBjcmVkZW50aWFsOiBVUkxDcmVkZW50aWFsLCBmb3Igc3BhY2U6IFVSTFByb3RlY3Rpb25TcGFjZSwgb3B0aW9uczogW1N0cmluZzogQW55T2JqZWN0XT8gPSB4KSB7fQogICAgcHVibGljIGZ1bmMgcmVtb3ZlKF8gY3JlZGVudGlhbDogVVJMQ3JlZGVudGlhbCwgZm9yIHByb3RlY3Rpb25TcGFjZTogVVJMUHJvdGVjdGlvblNwYWNlLCBvcHRpb25zOiBbU3RyaW5nOiBBbnlPYmplY3RdPyA9IHgsIHRhc2s6IFVSTFNlc3Npb25UYXNrKSB7fQogICAgb3BlbiBmdW5jIHNldChfIGNyZWRlbnRpYWw6IFVSTENyZWRlbnRpYWwsIGZvciBzcGFjZTogVVJMUHJvdGVjdGlvblNwYWNlKSB7fQogICAgcHVibGljIGZ1bmMgc2V0KF8gY3JlZGVudGlhbDogVVJMQ3JlZGVudGlhbCwgZm9yIHByb3RlY3Rpb25TcGFjZTogVVJMUHJvdGVjdGlvblNwYWNlLCB0YXNrOiBVUkxTZXNzaW9uVGFzaykge30KICAgIG9wZW4gZnVuYyBzZXREZWZhdWx0Q3JlZGVudGlhbChfIGNyZWRlbnRpYWw6IFVSTENyZWRlbnRpYWwsIGZvciBzcGFjZTogVVJMUHJvdGVjdGlvblNwYWNlKSB7fQogICAgcHVibGljIGZ1bmMgc2V0RGVmYXVsdENyZWRlbnRpYWwoXyBjcmVkZW50aWFsOiBVUkxDcmVkZW50aWFsLCBmb3IgcHJvdGVjdGlvblNwYWNlOiBVUkxQcm90ZWN0aW9uU3BhY2UsIHRhc2s6IFVSTFNlc3Npb25UYXNrKSB7fQp9Cm9wZW4gY2xhc3MgVVJMUHJvdGVjdGlvblNwYWNlIDogQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TQ29kaW5nLCBOU0NvcHlpbmcsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBOU1NlY3VyZUNvZGluZywgXyB7CiAgICBwdWJsaWMgaW5pdChob3N0OiBTdHJpbmcsIHBvcnQ6IEludCwgcHJvdG9jb2w6IFN0cmluZz8sIHJlYWxtOiBTdHJpbmc/LCBhdXRoZW50aWNhdGlvbk1ldGhvZDogU3RyaW5nPykge30KICAgIHB1YmxpYyBpbml0KHByb3h5SG9zdCBob3N0OiBTdHJpbmcsIHBvcnQ6IEludCwgdHlwZTogU3RyaW5nPywgcmVhbG06IFN0cmluZz8sIGF1dGhlbnRpY2F0aW9uTWV0aG9kOiBTdHJpbmc/KSB7fQogICAgb3BlbiB2YXIgYXV0aGVudGljYXRpb25NZXRob2Q6IFN0cmluZyB7IGdldCB9CiAgICBwdWJsaWMgdmFyIGRpc3Rpbmd1aXNoZWROYW1lczogW0RhdGFdPyB7IGdldCB9CiAgICBvcGVuIHZhciBob3N0OiBTdHJpbmcgeyBnZXQgfQogICAgb3BlbiB2YXIgcG9ydDogSW50IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHByb3RvY29sOiBTdHJpbmc/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHByb3h5VHlwZTogU3RyaW5nPyB7IGdldCB9CiAgICBvcGVuIHZhciByZWFsbTogU3RyaW5nPyB7IGdldCB9CiAgICBvcGVuIHZhciByZWNlaXZlc0NyZWRlbnRpYWxTZWN1cmVseTogQm9vbCB7IGdldCB9Cn0Kb3BlbiBjbGFzcyBVUkxQcm90b2NvbCA6IEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCwgXyB7CiAgICBvcGVuIGNsYXNzIGZ1bmMgY2FuSW5pdCh3aXRoIHJlcXVlc3Q6IFVSTFJlcXVlc3QpIC0+IEJvb2wge30KICAgIG9wZW4gY2xhc3MgZnVuYyBjYW5vbmljYWxSZXF1ZXN0KGZvciByZXF1ZXN0OiBVUkxSZXF1ZXN0KSAtPiBVUkxSZXF1ZXN0IHt9CiAgICBvcGVuIGNsYXNzIGZ1bmMgcHJvcGVydHkoZm9yS2V5IGtleTogU3RyaW5nLCBpbiByZXF1ZXN0OiBVUkxSZXF1ZXN0KSAtPiBBbnk/IHt9CiAgICBvcGVuIGNsYXNzIGZ1bmMgcmVnaXN0ZXJDbGFzcyhfIHByb3RvY29sQ2xhc3M6IEFueUNsYXNzKSAtPiBCb29sIHt9CiAgICBvcGVuIGNsYXNzIGZ1bmMgcmVtb3ZlUHJvcGVydHkoZm9yS2V5IGtleTogU3RyaW5nLCBpbiByZXF1ZXN0OiBOU011dGFibGVVUkxSZXF1ZXN0KSB7fQogICAgb3BlbiBjbGFzcyBmdW5jIHJlcXVlc3RJc0NhY2hlRXF1aXZhbGVudChfIGE6IFVSTFJlcXVlc3QsIHRvIGI6IFVSTFJlcXVlc3QpIC0+IEJvb2wge30KICAgIG9wZW4gY2xhc3MgZnVuYyBzZXRQcm9wZXJ0eShfIHZhbHVlOiBBbnksIGZvcktleSBrZXk6IFN0cmluZywgaW4gcmVxdWVzdDogTlNNdXRhYmxlVVJMUmVxdWVzdCkge30KICAgIG9wZW4gY2xhc3MgZnVuYyB1bnJlZ2lzdGVyQ2xhc3MoXyBwcm90b2NvbENsYXNzOiBBbnlDbGFzcykge30KICAgIHB1YmxpYyByZXF1aXJlZCBpbml0KHJlcXVlc3Q6IFVSTFJlcXVlc3QsIGNhY2hlZFJlc3BvbnNlOiBDYWNoZWRVUkxSZXNwb25zZT8sIGNsaWVudDogVVJMUHJvdG9jb2xDbGllbnQ/KSB7fQogICAgcHVibGljIHJlcXVpcmVkIGNvbnZlbmllbmNlIGluaXQodGFzazogVVJMU2Vzc2lvblRhc2ssIGNhY2hlZFJlc3BvbnNlOiBDYWNoZWRVUkxSZXNwb25zZT8sIGNsaWVudDogVVJMUHJvdG9jb2xDbGllbnQ/KSB7fQogICAgb3BlbiB2YXIgY2FjaGVkUmVzcG9uc2U6IENhY2hlZFVSTFJlc3BvbnNlPyB7IGdldCB9CiAgICBvcGVuIHZhciBjbGllbnQ6IFVSTFByb3RvY29sQ2xpZW50PyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgcmVxdWVzdDogVVJMUmVxdWVzdCB7IGdldCB9CiAgICBvcGVuIHZhciB0YXNrOiBVUkxTZXNzaW9uVGFzaz8geyBnZXQgc2V0IH0KICAgIG9wZW4gZnVuYyBzdGFydExvYWRpbmcoKSB7fQogICAgb3BlbiBmdW5jIHN0b3BMb2FkaW5nKCkge30KfQpvcGVuIGNsYXNzIFVSTFJlc3BvbnNlIDogQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TQ29kaW5nLCBOU0NvcHlpbmcsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBOU1NlY3VyZUNvZGluZywgXyB7CiAgICBwdWJsaWMgaW5pdCh1cmw6IFVSTCwgbWltZVR5cGU6IFN0cmluZz8sIGV4cGVjdGVkQ29udGVudExlbmd0aCBsZW5ndGg6IEludCwgdGV4dEVuY29kaW5nTmFtZSBuYW1lOiBTdHJpbmc/KSB7fQogICAgb3BlbiB2YXIgZXhwZWN0ZWRDb250ZW50TGVuZ3RoOiBJbnQ2NCB7IGdldCB9CiAgICBvcGVuIHZhciBtaW1lVHlwZTogU3RyaW5nPyB7IGdldCB9CiAgICBvcGVuIHZhciBzdWdnZXN0ZWRGaWxlbmFtZTogU3RyaW5nPyB7IGdldCB9CiAgICBvcGVuIHZhciB0ZXh0RW5jb2RpbmdOYW1lOiBTdHJpbmc/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHVybDogVVJMPyB7IGdldCB9Cn0Kb3BlbiBjbGFzcyBVUkxTZXNzaW9uIDogQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBVUkxTZXNzaW9uUHJvdG9jb2wsIF8gewogICAgb3BlbiBjbGFzcyB2YXIgc2hhcmVkOiBVUkxTZXNzaW9uIHsgZ2V0IH0KICAgIHB1YmxpYyBpbml0KGNvbmZpZ3VyYXRpb246IFVSTFNlc3Npb25Db25maWd1cmF0aW9uKSB7fQogICAgcHVibGljIGluaXQoY29uZmlndXJhdGlvbjogVVJMU2Vzc2lvbkNvbmZpZ3VyYXRpb24sIGRlbGVnYXRlOiBVUkxTZXNzaW9uRGVsZWdhdGU/LCBkZWxlZ2F0ZVF1ZXVlIHF1ZXVlOiBPcGVyYXRpb25RdWV1ZT8pIHt9CiAgICBvcGVuIHZhciBjb25maWd1cmF0aW9uOiBVUkxTZXNzaW9uQ29uZmlndXJhdGlvbiB7IGdldCB9CiAgICBvcGVuIHZhciBkZWxlZ2F0ZTogVVJMU2Vzc2lvbkRlbGVnYXRlPyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgZGVsZWdhdGVRdWV1ZTogT3BlcmF0aW9uUXVldWUgeyBnZXQgfQogICAgb3BlbiB2YXIgc2Vzc2lvbkRlc2NyaXB0aW9uOiBTdHJpbmc/IHsgZ2V0IHNldCB9CiAgICBvcGVuIGZ1bmMgZGF0YVRhc2sod2l0aCByZXF1ZXN0OiBVUkxSZXF1ZXN0KSAtPiBVUkxTZXNzaW9uRGF0YVRhc2sge30KICAgIG9wZW4gZnVuYyBkYXRhVGFzayh3aXRoIHJlcXVlc3Q6IFVSTFJlcXVlc3QsIGNvbXBsZXRpb25IYW5kbGVyOiBAZXNjYXBpbmcgKERhdGE/LCBVUkxSZXNwb25zZT8sIEVycm9yPykgLT4gVm9pZCkgLT4gVVJMU2Vzc2lvbkRhdGFUYXNrIHt9CiAgICBvcGVuIGZ1bmMgZG93bmxvYWRUYXNrKHdpdGggcmVxdWVzdDogVVJMUmVxdWVzdCkgLT4gVVJMU2Vzc2lvbkRvd25sb2FkVGFzayB7fQogICAgb3BlbiBmdW5jIGRvd25sb2FkVGFzayh3aXRoIHJlcXVlc3Q6IFVSTFJlcXVlc3QsIGNvbXBsZXRpb25IYW5kbGVyOiBAZXNjYXBpbmcgKFVSTD8sIFVSTFJlc3BvbnNlPywgRXJyb3I/KSAtPiBWb2lkKSAtPiBVUkxTZXNzaW9uRG93bmxvYWRUYXNrIHt9CiAgICBvcGVuIGZ1bmMgZG93bmxvYWRUYXNrKHdpdGhSZXN1bWVEYXRhIHJlc3VtZURhdGE6IERhdGEpIC0+IFVSTFNlc3Npb25Eb3dubG9hZFRhc2sge30KICAgIG9wZW4gZnVuYyBkb3dubG9hZFRhc2sod2l0aFJlc3VtZURhdGEgcmVzdW1lRGF0YTogRGF0YSwgY29tcGxldGlvbkhhbmRsZXI6IEBlc2NhcGluZyAoVVJMPywgVVJMUmVzcG9uc2U/LCBFcnJvcj8pIC0+IFZvaWQpIC0+IFVSTFNlc3Npb25Eb3dubG9hZFRhc2sge30KICAgIG9wZW4gZnVuYyBmaW5pc2hUYXNrc0FuZEludmFsaWRhdGUoKSB7fQogICAgb3BlbiBmdW5jIGZsdXNoKGNvbXBsZXRpb25IYW5kbGVyOiBAZXNjYXBpbmcgKCkgLT4gVm9pZCkge30KICAgIG9wZW4gZnVuYyBnZXRBbGxUYXNrcyhjb21wbGV0aW9uSGFuZGxlcjogQGVzY2FwaW5nIChbVVJMU2Vzc2lvblRhc2tdKSAtPiBWb2lkKSB7fQogICAgb3BlbiBmdW5jIGdldFRhc2tzV2l0aENvbXBsZXRpb25IYW5kbGVyKGNvbXBsZXRpb25IYW5kbGVyOiBAZXNjYXBpbmcgKFtVUkxTZXNzaW9uRGF0YVRhc2tdLCBbVVJMU2Vzc2lvblVwbG9hZFRhc2tdLCBbVVJMU2Vzc2lvbkRvd25sb2FkVGFza10pIC0+IFZvaWQpIHt9CiAgICBvcGVuIGZ1bmMgaW52YWxpZGF0ZUFuZENhbmNlbCgpIHt9CiAgICBvcGVuIGZ1bmMgcmVzZXQoY29tcGxldGlvbkhhbmRsZXI6IEBlc2NhcGluZyAoKSAtPiBWb2lkKSB7fQogICAgb3BlbiBmdW5jIHN0cmVhbVRhc2sod2l0aEhvc3ROYW1lIGhvc3RuYW1lOiBTdHJpbmcsIHBvcnQ6IEludCkgLT4gVVJMU2Vzc2lvblN0cmVhbVRhc2sge30KICAgIG9wZW4gZnVuYyB1cGxvYWRUYXNrKHdpdGggcmVxdWVzdDogVVJMUmVxdWVzdCwgZnJvbSBib2R5RGF0YTogRGF0YSkgLT4gVVJMU2Vzc2lvblVwbG9hZFRhc2sge30KICAgIG9wZW4gZnVuYyB1cGxvYWRUYXNrKHdpdGggcmVxdWVzdDogVVJMUmVxdWVzdCwgZnJvbSBib2R5RGF0YTogRGF0YT8sIGNvbXBsZXRpb25IYW5kbGVyOiBAZXNjYXBpbmcgKERhdGE/LCBVUkxSZXNwb25zZT8sIEVycm9yPykgLT4gVm9pZCkgLT4gVVJMU2Vzc2lvblVwbG9hZFRhc2sge30KICAgIG9wZW4gZnVuYyB1cGxvYWRUYXNrKHdpdGggcmVxdWVzdDogVVJMUmVxdWVzdCwgZnJvbUZpbGUgZmlsZVVSTDogVVJMKSAtPiBVUkxTZXNzaW9uVXBsb2FkVGFzayB7fQogICAgb3BlbiBmdW5jIHVwbG9hZFRhc2sod2l0aCByZXF1ZXN0OiBVUkxSZXF1ZXN0LCBmcm9tRmlsZSBmaWxlVVJMOiBVUkwsIGNvbXBsZXRpb25IYW5kbGVyOiBAZXNjYXBpbmcgKERhdGE/LCBVUkxSZXNwb25zZT8sIEVycm9yPykgLT4gVm9pZCkgLT4gVVJMU2Vzc2lvblVwbG9hZFRhc2sge30KICAgIG9wZW4gZnVuYyB1cGxvYWRUYXNrKHdpdGhTdHJlYW1lZFJlcXVlc3QgcmVxdWVzdDogVVJMUmVxdWVzdCkgLT4gVVJMU2Vzc2lvblVwbG9hZFRhc2sge30KfQpvcGVuIGNsYXNzIFVSTFNlc3Npb25Db25maWd1cmF0aW9uIDogQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TQ29weWluZywgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wsIF8gewogICAgb3BlbiBjbGFzcyB2YXIgZGVmYXVsdDogVVJMU2Vzc2lvbkNvbmZpZ3VyYXRpb24geyBnZXQgfQogICAgb3BlbiBjbGFzcyB2YXIgZXBoZW1lcmFsOiBVUkxTZXNzaW9uQ29uZmlndXJhdGlvbiB7IGdldCB9CiAgICBvcGVuIGNsYXNzIGZ1bmMgYmFja2dyb3VuZCh3aXRoSWRlbnRpZmllciBpZGVudGlmaWVyOiBTdHJpbmcpIC0+IFVSTFNlc3Npb25Db25maWd1cmF0aW9uIHt9CiAgICBvcGVuIHZhciBhbGxvd3NDZWxsdWxhckFjY2VzczogQm9vbCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgY29ubmVjdGlvblByb3h5RGljdGlvbmFyeTogW0FueUhhc2hhYmxlOiBBbnldPyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgZGlzY3JldGlvbmFyeTogQm9vbCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgaHR0cEFkZGl0aW9uYWxIZWFkZXJzOiBbQW55SGFzaGFibGU6IEFueV0/IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBodHRwQ29va2llQWNjZXB0UG9saWN5OiBIVFRQQ29va2llLkFjY2VwdFBvbGljeSB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgaHR0cENvb2tpZVN0b3JhZ2U6IEhUVFBDb29raWVTdG9yYWdlPyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgaHR0cE1heGltdW1Db25uZWN0aW9uc1Blckhvc3Q6IEludCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgaHR0cFNob3VsZFNldENvb2tpZXM6IEJvb2wgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGh0dHBTaG91bGRVc2VQaXBlbGluaW5nOiBCb29sIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBpZGVudGlmaWVyOiBTdHJpbmc/IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBuZXR3b3JrU2VydmljZVR5cGU6IFVSTFJlcXVlc3QuTmV0d29ya1NlcnZpY2VUeXBlIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBwcm90b2NvbENsYXNzZXM6IFtBbnlDbGFzc10/IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciByZXF1ZXN0Q2FjaGVQb2xpY3k6IFVSTFJlcXVlc3QuQ2FjaGVQb2xpY3kgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHNoYXJlZENvbnRhaW5lcklkZW50aWZpZXI6IFN0cmluZz8geyBnZXQgfQogICAgb3BlbiB2YXIgc2hvdWxkVXNlRXh0ZW5kZWRCYWNrZ3JvdW5kSWRsZU1vZGU6IEJvb2wgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHRpbWVvdXRJbnRlcnZhbEZvclJlcXVlc3Q6IFRpbWVJbnRlcnZhbCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgdGltZW91dEludGVydmFsRm9yUmVzb3VyY2U6IFRpbWVJbnRlcnZhbCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgdXJsQ2FjaGU6IFVSTENhY2hlPyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgdXJsQ3JlZGVudGlhbFN0b3JhZ2U6IFVSTENyZWRlbnRpYWxTdG9yYWdlPyB7IGdldCBzZXQgfQp9Cm9wZW4gY2xhc3MgVVJMU2Vzc2lvbkRhdGFUYXNrIDogQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TQ29weWluZywgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wsIFByb2dyZXNzUmVwb3J0aW5nLCBVUkxTZXNzaW9uVGFzaywgXyB7Cn0Kb3BlbiBjbGFzcyBVUkxTZXNzaW9uRG93bmxvYWRUYXNrIDogQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TQ29weWluZywgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wsIFByb2dyZXNzUmVwb3J0aW5nLCBVUkxTZXNzaW9uVGFzaywgXyB7CiAgICBvcGVuIGZ1bmMgY2FuY2VsKGJ5UHJvZHVjaW5nUmVzdW1lRGF0YSBjb21wbGV0aW9uSGFuZGxlcjogQGVzY2FwaW5nIChEYXRhPykgLT4gVm9pZCkge30KfQpvcGVuIGNsYXNzIFVSTFNlc3Npb25TdHJlYW1UYXNrIDogQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TQ29weWluZywgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wsIFByb2dyZXNzUmVwb3J0aW5nLCBVUkxTZXNzaW9uVGFzaywgXyB7CiAgICBvcGVuIGZ1bmMgY2FwdHVyZVN0cmVhbXMoKSB7fQogICAgb3BlbiBmdW5jIGNsb3NlUmVhZCgpIHt9CiAgICBvcGVuIGZ1bmMgY2xvc2VXcml0ZSgpIHt9CiAgICBvcGVuIGZ1bmMgcmVhZERhdGEob2ZNaW5MZW5ndGggbWluQnl0ZXM6IEludCwgbWF4TGVuZ3RoIG1heEJ5dGVzOiBJbnQsIHRpbWVvdXQ6IFRpbWVJbnRlcnZhbCwgY29tcGxldGlvbkhhbmRsZXI6IEBlc2NhcGluZyAoRGF0YT8sIEJvb2wsIEVycm9yPykgLT4gVm9pZCkge30KICAgIG9wZW4gZnVuYyBzdGFydFNlY3VyZUNvbm5lY3Rpb24oKSB7fQogICAgb3BlbiBmdW5jIHN0b3BTZWN1cmVDb25uZWN0aW9uKCkge30KICAgIG9wZW4gZnVuYyB3cml0ZShfIGRhdGE6IERhdGEsIHRpbWVvdXQ6IFRpbWVJbnRlcnZhbCwgY29tcGxldGlvbkhhbmRsZXI6IEBlc2NhcGluZyAoRXJyb3I/KSAtPiBWb2lkKSB7fQp9Cm9wZW4gY2xhc3MgVVJMU2Vzc2lvblRhc2sgOiBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNDb3B5aW5nLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCwgUHJvZ3Jlc3NSZXBvcnRpbmcsIF8gewogICAgcHVibGljIHN0YXRpYyB2YXIgZGVmYXVsdFByaW9yaXR5OiBGbG9hdCB7IGdldCB9CiAgICBwdWJsaWMgc3RhdGljIHZhciBoaWdoUHJpb3JpdHk6IEZsb2F0IHsgZ2V0IH0KICAgIHB1YmxpYyBzdGF0aWMgdmFyIGxvd1ByaW9yaXR5OiBGbG9hdCB7IGdldCB9CiAgICBwdWJsaWMgdmFyIGNvdW50T2ZCeXRlc0NsaWVudEV4cGVjdHNUb1JlY2VpdmU6IEludDY0IHsgZ2V0IH0KICAgIHB1YmxpYyB2YXIgY291bnRPZkJ5dGVzQ2xpZW50RXhwZWN0c1RvU2VuZDogSW50NjQgeyBnZXQgfQogICAgb3BlbiB2YXIgY291bnRPZkJ5dGVzRXhwZWN0ZWRUb1JlY2VpdmU6IEludDY0IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGNvdW50T2ZCeXRlc0V4cGVjdGVkVG9TZW5kOiBJbnQ2NCB7IGdldCB9CiAgICBvcGVuIHZhciBjb3VudE9mQnl0ZXNSZWNlaXZlZDogSW50NjQgeyBnZXQgfQogICAgb3BlbiB2YXIgY291bnRPZkJ5dGVzU2VudDogSW50NjQgeyBnZXQgfQogICAgb3BlbiB2YXIgY3VycmVudFJlcXVlc3Q6IFVSTFJlcXVlc3Q/IHsgZ2V0IH0KICAgIHB1YmxpYyB2YXIgZWFybGllc3RCZWdpbkRhdGU6IERhdGU/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGVycm9yOiBFcnJvcj8geyBnZXQgfQogICAgb3BlbiB2YXIgb3JpZ2luYWxSZXF1ZXN0OiBVUkxSZXF1ZXN0PyB7IGdldCB9CiAgICBvcGVuIHZhciBwcmlvcml0eTogRmxvYXQgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHJlc3BvbnNlOiBVUkxSZXNwb25zZT8geyBnZXQgfQogICAgb3BlbiB2YXIgc3RhdGU6IFVSTFNlc3Npb25UYXNrLlN0YXRlIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciB0YXNrRGVzY3JpcHRpb246IFN0cmluZz8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHRhc2tJZGVudGlmaWVyOiBJbnQgeyBnZXQgfQogICAgb3BlbiBmdW5jIGNhbmNlbCgpIHt9CiAgICBvcGVuIGZ1bmMgcmVzdW1lKCkge30KICAgIG9wZW4gZnVuYyBzdXNwZW5kKCkge30KfQpvcGVuIGNsYXNzIFVSTFNlc3Npb25VcGxvYWRUYXNrIDogQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TQ29weWluZywgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wsIFByb2dyZXNzUmVwb3J0aW5nLCBVUkxTZXNzaW9uRGF0YVRhc2ssIFVSTFNlc3Npb25UYXNrLCBfIHsKfQpvcGVuIGNsYXNzIFVuaXQgOiBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNDb2RpbmcsIE5TQ29weWluZywgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wsIE5TU2VjdXJlQ29kaW5nLCBfIHsKICAgIHB1YmxpYyByZXF1aXJlZCBpbml0KHN5bWJvbDogU3RyaW5nKSB7fQogICAgb3BlbiB2YXIgc3ltYm9sOiBTdHJpbmcgeyBnZXQgfQp9Cm9wZW4gY2xhc3MgVW5pdEFjY2VsZXJhdGlvbiA6IEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBEaW1lbnNpb24sIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TQ29kaW5nLCBOU0NvcHlpbmcsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBOU1NlY3VyZUNvZGluZywgVW5pdCwgXyB7CiAgICBvcGVuIGNsYXNzIHZhciBncmF2aXR5OiBVbml0QWNjZWxlcmF0aW9uIHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgdmFyIG1ldGVyc1BlclNlY29uZFNxdWFyZWQ6IFVuaXRBY2NlbGVyYXRpb24geyBnZXQgfQp9Cm9wZW4gY2xhc3MgVW5pdEFuZ2xlIDogQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIERpbWVuc2lvbiwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNDb2RpbmcsIE5TQ29weWluZywgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wsIE5TU2VjdXJlQ29kaW5nLCBVbml0LCBfIHsKICAgIG9wZW4gY2xhc3MgdmFyIGFyY01pbnV0ZXM6IFVuaXRBbmdsZSB7IGdldCB9CiAgICBvcGVuIGNsYXNzIHZhciBhcmNTZWNvbmRzOiBVbml0QW5nbGUgeyBnZXQgfQogICAgb3BlbiBjbGFzcyB2YXIgZGVncmVlczogVW5pdEFuZ2xlIHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgdmFyIGdyYWRpYW5zOiBVbml0QW5nbGUgeyBnZXQgfQogICAgb3BlbiBjbGFzcyB2YXIgcmFkaWFuczogVW5pdEFuZ2xlIHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgdmFyIHJldm9sdXRpb25zOiBVbml0QW5nbGUgeyBnZXQgfQp9Cm9wZW4gY2xhc3MgVW5pdEFyZWEgOiBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRGltZW5zaW9uLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU0NvZGluZywgTlNDb3B5aW5nLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCwgTlNTZWN1cmVDb2RpbmcsIFVuaXQsIF8gewogICAgb3BlbiBjbGFzcyB2YXIgYWNyZXM6IFVuaXRBcmVhIHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgdmFyIGFyZXM6IFVuaXRBcmVhIHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgdmFyIGhlY3RhcmVzOiBVbml0QXJlYSB7IGdldCB9CiAgICBvcGVuIGNsYXNzIHZhciBzcXVhcmVDZW50aW1ldGVyczogVW5pdEFyZWEgeyBnZXQgfQogICAgb3BlbiBjbGFzcyB2YXIgc3F1YXJlRmVldDogVW5pdEFyZWEgeyBnZXQgfQogICAgb3BlbiBjbGFzcyB2YXIgc3F1YXJlSW5jaGVzOiBVbml0QXJlYSB7IGdldCB9CiAgICBvcGVuIGNsYXNzIHZhciBzcXVhcmVLaWxvbWV0ZXJzOiBVbml0QXJlYSB7IGdldCB9CiAgICBvcGVuIGNsYXNzIHZhciBzcXVhcmVNZWdhbWV0ZXJzOiBVbml0QXJlYSB7IGdldCB9CiAgICBvcGVuIGNsYXNzIHZhciBzcXVhcmVNZXRlcnM6IFVuaXRBcmVhIHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgdmFyIHNxdWFyZU1pY3JvbWV0ZXJzOiBVbml0QXJlYSB7IGdldCB9CiAgICBvcGVuIGNsYXNzIHZhciBzcXVhcmVNaWxlczogVW5pdEFyZWEgeyBnZXQgfQogICAgb3BlbiBjbGFzcyB2YXIgc3F1YXJlTWlsbGltZXRlcnM6IFVuaXRBcmVhIHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgdmFyIHNxdWFyZU5hbm9tZXRlcnM6IFVuaXRBcmVhIHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgdmFyIHNxdWFyZVlhcmRzOiBVbml0QXJlYSB7IGdldCB9Cn0Kb3BlbiBjbGFzcyBVbml0Q29uY2VudHJhdGlvbk1hc3MgOiBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRGltZW5zaW9uLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU0NvZGluZywgTlNDb3B5aW5nLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCwgTlNTZWN1cmVDb2RpbmcsIFVuaXQsIF8gewogICAgb3BlbiBjbGFzcyB2YXIgZ3JhbXNQZXJMaXRlcjogVW5pdENvbmNlbnRyYXRpb25NYXNzIHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgdmFyIG1pbGxpZ3JhbXNQZXJEZWNpbGl0ZXI6IFVuaXRDb25jZW50cmF0aW9uTWFzcyB7IGdldCB9CiAgICBvcGVuIGNsYXNzIGZ1bmMgbWlsbGltb2xlc1BlckxpdGVyKHdpdGhHcmFtc1Blck1vbGUgZ3JhbXNQZXJNb2xlOiBEb3VibGUpIC0+IFVuaXRDb25jZW50cmF0aW9uTWFzcyB7fQp9Cm9wZW4gY2xhc3MgVW5pdENvbnZlcnRlciA6IEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCwgXyB7CiAgICBvcGVuIGZ1bmMgYmFzZVVuaXRWYWx1ZShmcm9tVmFsdWUgdmFsdWU6IERvdWJsZSkgLT4gRG91YmxlIHt9CiAgICBvcGVuIGZ1bmMgdmFsdWUoZnJvbUJhc2VVbml0VmFsdWUgYmFzZVVuaXRWYWx1ZTogRG91YmxlKSAtPiBEb3VibGUge30KfQpvcGVuIGNsYXNzIFVuaXRDb252ZXJ0ZXJMaW5lYXIgOiBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNDb2RpbmcsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBOU1NlY3VyZUNvZGluZywgVW5pdENvbnZlcnRlciwgXyB7CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdChjb2VmZmljaWVudDogRG91YmxlKSB7fQogICAgcHVibGljIGluaXQoY29lZmZpY2llbnQ6IERvdWJsZSwgY29uc3RhbnQ6IERvdWJsZSkge30KICAgIG9wZW4gdmFyIGNvZWZmaWNpZW50OiBEb3VibGUgeyBnZXQgfQogICAgb3BlbiB2YXIgY29uc3RhbnQ6IERvdWJsZSB7IGdldCB9Cn0Kb3BlbiBjbGFzcyBVbml0RGlzcGVyc2lvbiA6IEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBEaW1lbnNpb24sIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TQ29kaW5nLCBOU0NvcHlpbmcsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBOU1NlY3VyZUNvZGluZywgVW5pdCwgXyB7CiAgICBvcGVuIGNsYXNzIHZhciBwYXJ0c1Blck1pbGxpb246IFVuaXREaXNwZXJzaW9uIHsgZ2V0IH0KfQpvcGVuIGNsYXNzIFVuaXREdXJhdGlvbiA6IEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBEaW1lbnNpb24sIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TQ29kaW5nLCBOU0NvcHlpbmcsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBOU1NlY3VyZUNvZGluZywgVW5pdCwgXyB7CiAgICBvcGVuIGNsYXNzIHZhciBob3VyczogVW5pdER1cmF0aW9uIHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgdmFyIG1pbnV0ZXM6IFVuaXREdXJhdGlvbiB7IGdldCB9CiAgICBvcGVuIGNsYXNzIHZhciBzZWNvbmRzOiBVbml0RHVyYXRpb24geyBnZXQgfQp9Cm9wZW4gY2xhc3MgVW5pdEVsZWN0cmljQ2hhcmdlIDogQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIERpbWVuc2lvbiwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNDb2RpbmcsIE5TQ29weWluZywgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wsIE5TU2VjdXJlQ29kaW5nLCBVbml0LCBfIHsKICAgIG9wZW4gY2xhc3MgdmFyIGFtcGVyZUhvdXJzOiBVbml0RWxlY3RyaWNDaGFyZ2UgeyBnZXQgfQogICAgb3BlbiBjbGFzcyB2YXIgY291bG9tYnM6IFVuaXRFbGVjdHJpY0NoYXJnZSB7IGdldCB9CiAgICBvcGVuIGNsYXNzIHZhciBraWxvYW1wZXJlSG91cnM6IFVuaXRFbGVjdHJpY0NoYXJnZSB7IGdldCB9CiAgICBvcGVuIGNsYXNzIHZhciBtZWdhYW1wZXJlSG91cnM6IFVuaXRFbGVjdHJpY0NoYXJnZSB7IGdldCB9CiAgICBvcGVuIGNsYXNzIHZhciBtaWNyb2FtcGVyZUhvdXJzOiBVbml0RWxlY3RyaWNDaGFyZ2UgeyBnZXQgfQogICAgb3BlbiBjbGFzcyB2YXIgbWlsbGlhbXBlcmVIb3VyczogVW5pdEVsZWN0cmljQ2hhcmdlIHsgZ2V0IH0KfQpvcGVuIGNsYXNzIFVuaXRFbGVjdHJpY0N1cnJlbnQgOiBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRGltZW5zaW9uLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU0NvZGluZywgTlNDb3B5aW5nLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCwgTlNTZWN1cmVDb2RpbmcsIFVuaXQsIF8gewogICAgb3BlbiBjbGFzcyB2YXIgYW1wZXJlczogVW5pdEVsZWN0cmljQ3VycmVudCB7IGdldCB9CiAgICBvcGVuIGNsYXNzIHZhciBraWxvYW1wZXJlczogVW5pdEVsZWN0cmljQ3VycmVudCB7IGdldCB9CiAgICBvcGVuIGNsYXNzIHZhciBtZWdhYW1wZXJlczogVW5pdEVsZWN0cmljQ3VycmVudCB7IGdldCB9CiAgICBvcGVuIGNsYXNzIHZhciBtaWNyb2FtcGVyZXM6IFVuaXRFbGVjdHJpY0N1cnJlbnQgeyBnZXQgfQogICAgb3BlbiBjbGFzcyB2YXIgbWlsbGlhbXBlcmVzOiBVbml0RWxlY3RyaWNDdXJyZW50IHsgZ2V0IH0KfQpvcGVuIGNsYXNzIFVuaXRFbGVjdHJpY1BvdGVudGlhbERpZmZlcmVuY2UgOiBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRGltZW5zaW9uLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU0NvZGluZywgTlNDb3B5aW5nLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCwgTlNTZWN1cmVDb2RpbmcsIFVuaXQsIF8gewogICAgb3BlbiBjbGFzcyB2YXIga2lsb3ZvbHRzOiBVbml0RWxlY3RyaWNQb3RlbnRpYWxEaWZmZXJlbmNlIHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgdmFyIG1lZ2F2b2x0czogVW5pdEVsZWN0cmljUG90ZW50aWFsRGlmZmVyZW5jZSB7IGdldCB9CiAgICBvcGVuIGNsYXNzIHZhciBtaWNyb3ZvbHRzOiBVbml0RWxlY3RyaWNQb3RlbnRpYWxEaWZmZXJlbmNlIHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgdmFyIG1pbGxpdm9sdHM6IFVuaXRFbGVjdHJpY1BvdGVudGlhbERpZmZlcmVuY2UgeyBnZXQgfQogICAgb3BlbiBjbGFzcyB2YXIgdm9sdHM6IFVuaXRFbGVjdHJpY1BvdGVudGlhbERpZmZlcmVuY2UgeyBnZXQgfQp9Cm9wZW4gY2xhc3MgVW5pdEVsZWN0cmljUmVzaXN0YW5jZSA6IEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBEaW1lbnNpb24sIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TQ29kaW5nLCBOU0NvcHlpbmcsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBOU1NlY3VyZUNvZGluZywgVW5pdCwgXyB7CiAgICBvcGVuIGNsYXNzIHZhciBraWxvb2htczogVW5pdEVsZWN0cmljUmVzaXN0YW5jZSB7IGdldCB9CiAgICBvcGVuIGNsYXNzIHZhciBtZWdhb2htczogVW5pdEVsZWN0cmljUmVzaXN0YW5jZSB7IGdldCB9CiAgICBvcGVuIGNsYXNzIHZhciBtaWNyb29obXM6IFVuaXRFbGVjdHJpY1Jlc2lzdGFuY2UgeyBnZXQgfQogICAgb3BlbiBjbGFzcyB2YXIgbWlsbGlvaG1zOiBVbml0RWxlY3RyaWNSZXNpc3RhbmNlIHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgdmFyIG9obXM6IFVuaXRFbGVjdHJpY1Jlc2lzdGFuY2UgeyBnZXQgfQp9Cm9wZW4gY2xhc3MgVW5pdEVuZXJneSA6IEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBEaW1lbnNpb24sIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TQ29kaW5nLCBOU0NvcHlpbmcsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBOU1NlY3VyZUNvZGluZywgVW5pdCwgXyB7CiAgICBvcGVuIGNsYXNzIHZhciBjYWxvcmllczogVW5pdEVuZXJneSB7IGdldCB9CiAgICBvcGVuIGNsYXNzIHZhciBqb3VsZXM6IFVuaXRFbmVyZ3kgeyBnZXQgfQogICAgb3BlbiBjbGFzcyB2YXIga2lsb2NhbG9yaWVzOiBVbml0RW5lcmd5IHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgdmFyIGtpbG9qb3VsZXM6IFVuaXRFbmVyZ3kgeyBnZXQgfQogICAgb3BlbiBjbGFzcyB2YXIga2lsb3dhdHRIb3VyczogVW5pdEVuZXJneSB7IGdldCB9Cn0Kb3BlbiBjbGFzcyBVbml0RnJlcXVlbmN5IDogQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIERpbWVuc2lvbiwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNDb2RpbmcsIE5TQ29weWluZywgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wsIE5TU2VjdXJlQ29kaW5nLCBVbml0LCBfIHsKICAgIG9wZW4gY2xhc3MgdmFyIGdpZ2FoZXJ0ejogVW5pdEZyZXF1ZW5jeSB7IGdldCB9CiAgICBvcGVuIGNsYXNzIHZhciBoZXJ0ejogVW5pdEZyZXF1ZW5jeSB7IGdldCB9CiAgICBvcGVuIGNsYXNzIHZhciBraWxvaGVydHo6IFVuaXRGcmVxdWVuY3kgeyBnZXQgfQogICAgb3BlbiBjbGFzcyB2YXIgbWVnYWhlcnR6OiBVbml0RnJlcXVlbmN5IHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgdmFyIG1pY3JvaGVydHo6IFVuaXRGcmVxdWVuY3kgeyBnZXQgfQogICAgb3BlbiBjbGFzcyB2YXIgbWlsbGloZXJ0ejogVW5pdEZyZXF1ZW5jeSB7IGdldCB9CiAgICBvcGVuIGNsYXNzIHZhciBuYW5vaGVydHo6IFVuaXRGcmVxdWVuY3kgeyBnZXQgfQogICAgb3BlbiBjbGFzcyB2YXIgdGVyYWhlcnR6OiBVbml0RnJlcXVlbmN5IHsgZ2V0IH0KfQpvcGVuIGNsYXNzIFVuaXRGdWVsRWZmaWNpZW5jeSA6IEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBEaW1lbnNpb24sIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TQ29kaW5nLCBOU0NvcHlpbmcsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBOU1NlY3VyZUNvZGluZywgVW5pdCwgXyB7CiAgICBvcGVuIGNsYXNzIHZhciBsaXRlcnNQZXIxMDBLaWxvbWV0ZXJzOiBVbml0RnVlbEVmZmljaWVuY3kgeyBnZXQgfQogICAgb3BlbiBjbGFzcyB2YXIgbWlsZXNQZXJHYWxsb246IFVuaXRGdWVsRWZmaWNpZW5jeSB7IGdldCB9CiAgICBvcGVuIGNsYXNzIHZhciBtaWxlc1BlckltcGVyaWFsR2FsbG9uOiBVbml0RnVlbEVmZmljaWVuY3kgeyBnZXQgfQp9Cm9wZW4gY2xhc3MgVW5pdElsbHVtaW5hbmNlIDogQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIERpbWVuc2lvbiwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNDb2RpbmcsIE5TQ29weWluZywgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wsIE5TU2VjdXJlQ29kaW5nLCBVbml0LCBfIHsKICAgIG9wZW4gY2xhc3MgdmFyIGx1eDogVW5pdElsbHVtaW5hbmNlIHsgZ2V0IH0KfQpvcGVuIGNsYXNzIFVuaXRMZW5ndGggOiBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRGltZW5zaW9uLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU0NvZGluZywgTlNDb3B5aW5nLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCwgTlNTZWN1cmVDb2RpbmcsIFVuaXQsIF8gewogICAgb3BlbiBjbGFzcyB2YXIgYXN0cm9ub21pY2FsVW5pdHM6IFVuaXRMZW5ndGggeyBnZXQgfQogICAgb3BlbiBjbGFzcyB2YXIgY2VudGltZXRlcnM6IFVuaXRMZW5ndGggeyBnZXQgfQogICAgb3BlbiBjbGFzcyB2YXIgZGVjYW1ldGVyczogVW5pdExlbmd0aCB7IGdldCB9CiAgICBvcGVuIGNsYXNzIHZhciBkZWNpbWV0ZXJzOiBVbml0TGVuZ3RoIHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgdmFyIGZhdGhvbXM6IFVuaXRMZW5ndGggeyBnZXQgfQogICAgb3BlbiBjbGFzcyB2YXIgZmVldDogVW5pdExlbmd0aCB7IGdldCB9CiAgICBvcGVuIGNsYXNzIHZhciBmdXJsb25nczogVW5pdExlbmd0aCB7IGdldCB9CiAgICBvcGVuIGNsYXNzIHZhciBoZWN0b21ldGVyczogVW5pdExlbmd0aCB7IGdldCB9CiAgICBvcGVuIGNsYXNzIHZhciBpbmNoZXM6IFVuaXRMZW5ndGggeyBnZXQgfQogICAgb3BlbiBjbGFzcyB2YXIga2lsb21ldGVyczogVW5pdExlbmd0aCB7IGdldCB9CiAgICBvcGVuIGNsYXNzIHZhciBsaWdodHllYXJzOiBVbml0TGVuZ3RoIHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgdmFyIG1lZ2FtZXRlcnM6IFVuaXRMZW5ndGggeyBnZXQgfQogICAgb3BlbiBjbGFzcyB2YXIgbWV0ZXJzOiBVbml0TGVuZ3RoIHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgdmFyIG1pY3JvbWV0ZXJzOiBVbml0TGVuZ3RoIHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgdmFyIG1pbGVzOiBVbml0TGVuZ3RoIHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgdmFyIG1pbGxpbWV0ZXJzOiBVbml0TGVuZ3RoIHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgdmFyIG5hbm9tZXRlcnM6IFVuaXRMZW5ndGggeyBnZXQgfQogICAgb3BlbiBjbGFzcyB2YXIgbmF1dGljYWxNaWxlczogVW5pdExlbmd0aCB7IGdldCB9CiAgICBvcGVuIGNsYXNzIHZhciBwYXJzZWNzOiBVbml0TGVuZ3RoIHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgdmFyIHBpY29tZXRlcnM6IFVuaXRMZW5ndGggeyBnZXQgfQogICAgb3BlbiBjbGFzcyB2YXIgc2NhbmRpbmF2aWFuTWlsZXM6IFVuaXRMZW5ndGggeyBnZXQgfQogICAgb3BlbiBjbGFzcyB2YXIgeWFyZHM6IFVuaXRMZW5ndGggeyBnZXQgfQp9Cm9wZW4gY2xhc3MgVW5pdE1hc3MgOiBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRGltZW5zaW9uLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU0NvZGluZywgTlNDb3B5aW5nLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCwgTlNTZWN1cmVDb2RpbmcsIFVuaXQsIF8gewogICAgb3BlbiBjbGFzcyB2YXIgY2FyYXRzOiBVbml0TWFzcyB7IGdldCB9CiAgICBvcGVuIGNsYXNzIHZhciBjZW50aWdyYW1zOiBVbml0TWFzcyB7IGdldCB9CiAgICBvcGVuIGNsYXNzIHZhciBkZWNpZ3JhbXM6IFVuaXRNYXNzIHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgdmFyIGdyYW1zOiBVbml0TWFzcyB7IGdldCB9CiAgICBvcGVuIGNsYXNzIHZhciBraWxvZ3JhbXM6IFVuaXRNYXNzIHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgdmFyIG1ldHJpY1RvbnM6IFVuaXRNYXNzIHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgdmFyIG1pY3JvZ3JhbXM6IFVuaXRNYXNzIHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgdmFyIG1pbGxpZ3JhbXM6IFVuaXRNYXNzIHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgdmFyIG5hbm9ncmFtczogVW5pdE1hc3MgeyBnZXQgfQogICAgb3BlbiBjbGFzcyB2YXIgb3VuY2VzOiBVbml0TWFzcyB7IGdldCB9CiAgICBvcGVuIGNsYXNzIHZhciBvdW5jZXNUcm95OiBVbml0TWFzcyB7IGdldCB9CiAgICBvcGVuIGNsYXNzIHZhciBwaWNvZ3JhbXM6IFVuaXRNYXNzIHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgdmFyIHBvdW5kczogVW5pdE1hc3MgeyBnZXQgfQogICAgb3BlbiBjbGFzcyB2YXIgc2hvcnRUb25zOiBVbml0TWFzcyB7IGdldCB9CiAgICBvcGVuIGNsYXNzIHZhciBzbHVnczogVW5pdE1hc3MgeyBnZXQgfQogICAgb3BlbiBjbGFzcyB2YXIgc3RvbmVzOiBVbml0TWFzcyB7IGdldCB9Cn0Kb3BlbiBjbGFzcyBVbml0UG93ZXIgOiBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRGltZW5zaW9uLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU0NvZGluZywgTlNDb3B5aW5nLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCwgTlNTZWN1cmVDb2RpbmcsIFVuaXQsIF8gewogICAgb3BlbiBjbGFzcyB2YXIgZmVtdG93YXR0czogVW5pdFBvd2VyIHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgdmFyIGdpZ2F3YXR0czogVW5pdFBvd2VyIHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgdmFyIGhvcnNlcG93ZXI6IFVuaXRQb3dlciB7IGdldCB9CiAgICBvcGVuIGNsYXNzIHZhciBraWxvd2F0dHM6IFVuaXRQb3dlciB7IGdldCB9CiAgICBvcGVuIGNsYXNzIHZhciBtZWdhd2F0dHM6IFVuaXRQb3dlciB7IGdldCB9CiAgICBvcGVuIGNsYXNzIHZhciBtaWNyb3dhdHRzOiBVbml0UG93ZXIgeyBnZXQgfQogICAgb3BlbiBjbGFzcyB2YXIgbWlsbGl3YXR0czogVW5pdFBvd2VyIHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgdmFyIG5hbm93YXR0czogVW5pdFBvd2VyIHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgdmFyIHBpY293YXR0czogVW5pdFBvd2VyIHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgdmFyIHRlcmF3YXR0czogVW5pdFBvd2VyIHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgdmFyIHdhdHRzOiBVbml0UG93ZXIgeyBnZXQgfQp9Cm9wZW4gY2xhc3MgVW5pdFByZXNzdXJlIDogQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIERpbWVuc2lvbiwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNDb2RpbmcsIE5TQ29weWluZywgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wsIE5TU2VjdXJlQ29kaW5nLCBVbml0LCBfIHsKICAgIG9wZW4gY2xhc3MgdmFyIGJhcnM6IFVuaXRQcmVzc3VyZSB7IGdldCB9CiAgICBvcGVuIGNsYXNzIHZhciBnaWdhcGFzY2FsczogVW5pdFByZXNzdXJlIHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgdmFyIGhlY3RvcGFzY2FsczogVW5pdFByZXNzdXJlIHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgdmFyIGluY2hlc09mTWVyY3VyeTogVW5pdFByZXNzdXJlIHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgdmFyIGtpbG9wYXNjYWxzOiBVbml0UHJlc3N1cmUgeyBnZXQgfQogICAgb3BlbiBjbGFzcyB2YXIgbWVnYXBhc2NhbHM6IFVuaXRQcmVzc3VyZSB7IGdldCB9CiAgICBvcGVuIGNsYXNzIHZhciBtaWxsaWJhcnM6IFVuaXRQcmVzc3VyZSB7IGdldCB9CiAgICBvcGVuIGNsYXNzIHZhciBtaWxsaW1ldGVyc09mTWVyY3VyeTogVW5pdFByZXNzdXJlIHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgdmFyIG5ld3RvbnNQZXJNZXRlcnNTcXVhcmVkOiBVbml0UHJlc3N1cmUgeyBnZXQgfQogICAgb3BlbiBjbGFzcyB2YXIgcG91bmRzRm9yY2VQZXJTcXVhcmVJbmNoOiBVbml0UHJlc3N1cmUgeyBnZXQgfQp9Cm9wZW4gY2xhc3MgVW5pdFNwZWVkIDogQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIERpbWVuc2lvbiwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNDb2RpbmcsIE5TQ29weWluZywgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wsIE5TU2VjdXJlQ29kaW5nLCBVbml0LCBfIHsKICAgIG9wZW4gY2xhc3MgdmFyIGtpbG9tZXRlcnNQZXJIb3VyOiBVbml0U3BlZWQgeyBnZXQgfQogICAgb3BlbiBjbGFzcyB2YXIga25vdHM6IFVuaXRTcGVlZCB7IGdldCB9CiAgICBvcGVuIGNsYXNzIHZhciBtZXRlcnNQZXJTZWNvbmQ6IFVuaXRTcGVlZCB7IGdldCB9CiAgICBvcGVuIGNsYXNzIHZhciBtaWxlc1BlckhvdXI6IFVuaXRTcGVlZCB7IGdldCB9Cn0Kb3BlbiBjbGFzcyBVbml0VGVtcGVyYXR1cmUgOiBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRGltZW5zaW9uLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU0NvZGluZywgTlNDb3B5aW5nLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCwgTlNTZWN1cmVDb2RpbmcsIFVuaXQsIF8gewogICAgb3BlbiBjbGFzcyB2YXIgY2Vsc2l1czogVW5pdFRlbXBlcmF0dXJlIHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgdmFyIGZhaHJlbmhlaXQ6IFVuaXRUZW1wZXJhdHVyZSB7IGdldCB9CiAgICBvcGVuIGNsYXNzIHZhciBrZWx2aW46IFVuaXRUZW1wZXJhdHVyZSB7IGdldCB9Cn0Kb3BlbiBjbGFzcyBVbml0Vm9sdW1lIDogQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIERpbWVuc2lvbiwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNDb2RpbmcsIE5TQ29weWluZywgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wsIE5TU2VjdXJlQ29kaW5nLCBVbml0LCBfIHsKICAgIG9wZW4gY2xhc3MgdmFyIGFjcmVGZWV0OiBVbml0Vm9sdW1lIHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgdmFyIGJ1c2hlbHM6IFVuaXRWb2x1bWUgeyBnZXQgfQogICAgb3BlbiBjbGFzcyB2YXIgY2VudGlsaXRlcnM6IFVuaXRWb2x1bWUgeyBnZXQgfQogICAgb3BlbiBjbGFzcyB2YXIgY3ViaWNDZW50aW1ldGVyczogVW5pdFZvbHVtZSB7IGdldCB9CiAgICBvcGVuIGNsYXNzIHZhciBjdWJpY0RlY2ltZXRlcnM6IFVuaXRWb2x1bWUgeyBnZXQgfQogICAgb3BlbiBjbGFzcyB2YXIgY3ViaWNGZWV0OiBVbml0Vm9sdW1lIHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgdmFyIGN1YmljSW5jaGVzOiBVbml0Vm9sdW1lIHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgdmFyIGN1YmljS2lsb21ldGVyczogVW5pdFZvbHVtZSB7IGdldCB9CiAgICBvcGVuIGNsYXNzIHZhciBjdWJpY01ldGVyczogVW5pdFZvbHVtZSB7IGdldCB9CiAgICBvcGVuIGNsYXNzIHZhciBjdWJpY01pbGVzOiBVbml0Vm9sdW1lIHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgdmFyIGN1YmljTWlsbGltZXRlcnM6IFVuaXRWb2x1bWUgeyBnZXQgfQogICAgb3BlbiBjbGFzcyB2YXIgY3ViaWNZYXJkczogVW5pdFZvbHVtZSB7IGdldCB9CiAgICBvcGVuIGNsYXNzIHZhciBjdXBzOiBVbml0Vm9sdW1lIHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgdmFyIGRlY2lsaXRlcnM6IFVuaXRWb2x1bWUgeyBnZXQgfQogICAgb3BlbiBjbGFzcyB2YXIgZmx1aWRPdW5jZXM6IFVuaXRWb2x1bWUgeyBnZXQgfQogICAgb3BlbiBjbGFzcyB2YXIgZ2FsbG9uczogVW5pdFZvbHVtZSB7IGdldCB9CiAgICBvcGVuIGNsYXNzIHZhciBpbXBlcmlhbEZsdWlkT3VuY2VzOiBVbml0Vm9sdW1lIHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgdmFyIGltcGVyaWFsR2FsbG9uczogVW5pdFZvbHVtZSB7IGdldCB9CiAgICBvcGVuIGNsYXNzIHZhciBpbXBlcmlhbFBpbnRzOiBVbml0Vm9sdW1lIHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgdmFyIGltcGVyaWFsUXVhcnRzOiBVbml0Vm9sdW1lIHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgdmFyIGltcGVyaWFsVGFibGVzcG9vbnM6IFVuaXRWb2x1bWUgeyBnZXQgfQogICAgb3BlbiBjbGFzcyB2YXIgaW1wZXJpYWxUZWFzcG9vbnM6IFVuaXRWb2x1bWUgeyBnZXQgfQogICAgb3BlbiBjbGFzcyB2YXIga2lsb2xpdGVyczogVW5pdFZvbHVtZSB7IGdldCB9CiAgICBvcGVuIGNsYXNzIHZhciBsaXRlcnM6IFVuaXRWb2x1bWUgeyBnZXQgfQogICAgb3BlbiBjbGFzcyB2YXIgbWVnYWxpdGVyczogVW5pdFZvbHVtZSB7IGdldCB9CiAgICBvcGVuIGNsYXNzIHZhciBtZXRyaWNDdXBzOiBVbml0Vm9sdW1lIHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgdmFyIG1pbGxpbGl0ZXJzOiBVbml0Vm9sdW1lIHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgdmFyIHBpbnRzOiBVbml0Vm9sdW1lIHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgdmFyIHF1YXJ0czogVW5pdFZvbHVtZSB7IGdldCB9CiAgICBvcGVuIGNsYXNzIHZhciB0YWJsZXNwb29uczogVW5pdFZvbHVtZSB7IGdldCB9CiAgICBvcGVuIGNsYXNzIHZhciB0ZWFzcG9vbnM6IFVuaXRWb2x1bWUgeyBnZXQgfQp9Cm9wZW4gY2xhc3MgVXNlckRlZmF1bHRzIDogQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBfIHsKICAgIHB1YmxpYyBzdGF0aWMgdmFyIGFyZ3VtZW50RG9tYWluOiBTdHJpbmcgeyBnZXQgfQogICAgcHVibGljIHN0YXRpYyB2YXIgZGlkQ2hhbmdlTm90aWZpY2F0aW9uIHsgZ2V0IH0KICAgIHB1YmxpYyBzdGF0aWMgdmFyIGdsb2JhbERvbWFpbjogU3RyaW5nIHsgZ2V0IH0KICAgIHB1YmxpYyBzdGF0aWMgdmFyIHJlZ2lzdHJhdGlvbkRvbWFpbjogU3RyaW5nIHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgdmFyIHN0YW5kYXJkOiBVc2VyRGVmYXVsdHMgeyBnZXQgfQogICAgb3BlbiBjbGFzcyBmdW5jIHJlc2V0U3RhbmRhcmRVc2VyRGVmYXVsdHMoKSB7fQogICAgcHVibGljIGluaXQ/KHN1aXRlTmFtZSBzdWl0ZW5hbWU6IFN0cmluZz8pIHt9CiAgICBvcGVuIHZhciB2b2xhdGlsZURvbWFpbk5hbWVzOiBbU3RyaW5nXSB7IGdldCB9CiAgICBvcGVuIGZ1bmMgYWRkU3VpdGUobmFtZWQgc3VpdGVOYW1lOiBTdHJpbmcpIHt9CiAgICBvcGVuIGZ1bmMgYXJyYXkoZm9yS2V5IGRlZmF1bHROYW1lOiBTdHJpbmcpIC0+IFtBbnldPyB7fQogICAgb3BlbiBmdW5jIGJvb2woZm9yS2V5IGRlZmF1bHROYW1lOiBTdHJpbmcpIC0+IEJvb2wge30KICAgIG9wZW4gZnVuYyBkYXRhKGZvcktleSBkZWZhdWx0TmFtZTogU3RyaW5nKSAtPiBEYXRhPyB7fQogICAgb3BlbiBmdW5jIGRpY3Rpb25hcnkoZm9yS2V5IGRlZmF1bHROYW1lOiBTdHJpbmcpIC0+IFtTdHJpbmc6IEFueV0/IHt9CiAgICBvcGVuIGZ1bmMgZGljdGlvbmFyeVJlcHJlc2VudGF0aW9uKCkgLT4gW1N0cmluZzogQW55XSB7fQogICAgb3BlbiBmdW5jIGRvdWJsZShmb3JLZXkgZGVmYXVsdE5hbWU6IFN0cmluZykgLT4gRG91YmxlIHt9CiAgICBvcGVuIGZ1bmMgZmxvYXQoZm9yS2V5IGRlZmF1bHROYW1lOiBTdHJpbmcpIC0+IEZsb2F0IHt9CiAgICBvcGVuIGZ1bmMgaW50ZWdlcihmb3JLZXkgZGVmYXVsdE5hbWU6IFN0cmluZykgLT4gSW50IHt9CiAgICBvcGVuIGZ1bmMgb2JqZWN0KGZvcktleSBkZWZhdWx0TmFtZTogU3RyaW5nKSAtPiBBbnk/IHt9CiAgICBvcGVuIGZ1bmMgb2JqZWN0SXNGb3JjZWQoZm9yS2V5IGtleTogU3RyaW5nKSAtPiBCb29sIHt9CiAgICBvcGVuIGZ1bmMgb2JqZWN0SXNGb3JjZWQoZm9yS2V5IGtleTogU3RyaW5nLCBpbkRvbWFpbiBkb21haW46IFN0cmluZykgLT4gQm9vbCB7fQogICAgb3BlbiBmdW5jIHBlcnNpc3RlbnREb21haW4oZm9yTmFtZSBkb21haW5OYW1lOiBTdHJpbmcpIC0+IFtTdHJpbmc6IEFueV0/IHt9CiAgICBvcGVuIGZ1bmMgcmVnaXN0ZXIoZGVmYXVsdHMgcmVnaXN0cmF0aW9uRGljdGlvbmFyeTogW1N0cmluZzogQW55XSkge30KICAgIG9wZW4gZnVuYyByZW1vdmVPYmplY3QoZm9yS2V5IGRlZmF1bHROYW1lOiBTdHJpbmcpIHt9CiAgICBvcGVuIGZ1bmMgcmVtb3ZlUGVyc2lzdGVudERvbWFpbihmb3JOYW1lIGRvbWFpbk5hbWU6IFN0cmluZykge30KICAgIG9wZW4gZnVuYyByZW1vdmVTdWl0ZShuYW1lZCBzdWl0ZU5hbWU6IFN0cmluZykge30KICAgIG9wZW4gZnVuYyByZW1vdmVWb2xhdGlsZURvbWFpbihmb3JOYW1lIGRvbWFpbk5hbWU6IFN0cmluZykge30KICAgIG9wZW4gZnVuYyBzZXQoXyB1cmw6IFVSTD8sIGZvcktleSBkZWZhdWx0TmFtZTogU3RyaW5nKSB7fQogICAgb3BlbiBmdW5jIHNldFBlcnNpc3RlbnREb21haW4oXyBkb21haW46IFtTdHJpbmc6IEFueV0sIGZvck5hbWUgZG9tYWluTmFtZTogU3RyaW5nKSB7fQogICAgb3BlbiBmdW5jIHNldFZvbGF0aWxlRG9tYWluKF8gZG9tYWluOiBbU3RyaW5nOiBBbnldLCBmb3JOYW1lIGRvbWFpbk5hbWU6IFN0cmluZykge30KICAgIG9wZW4gZnVuYyBzdHJpbmcoZm9yS2V5IGRlZmF1bHROYW1lOiBTdHJpbmcpIC0+IFN0cmluZz8ge30KICAgIG9wZW4gZnVuYyBzdHJpbmdBcnJheShmb3JLZXkgZGVmYXVsdE5hbWU6IFN0cmluZykgLT4gW1N0cmluZ10/IHt9CiAgICBAZGlzY2FyZGFibGVSZXN1bHQgb3BlbiBmdW5jIHN5bmNocm9uaXplKCkgLT4gQm9vbCB7fQogICAgb3BlbiBmdW5jIHVybChmb3JLZXkgZGVmYXVsdE5hbWU6IFN0cmluZykgLT4gVVJMPyB7fQogICAgb3BlbiBmdW5jIHZvbGF0aWxlRG9tYWluKGZvck5hbWUgZG9tYWluTmFtZTogU3RyaW5nKSAtPiBbU3RyaW5nOiBBbnldIHt9Cn0Kb3BlbiBjbGFzcyBYTUxEVEQgOiBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNDb3B5aW5nLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCwgWE1MTm9kZSwgXywgX05TWE1MTm9kZUNvbGxlY3Rpb25UeXBlIHsKICAgIG9wZW4gY2xhc3MgZnVuYyBwcmVkZWZpbmVkRW50aXR5RGVjbGFyYXRpb24oZm9yTmFtZSBuYW1lOiBTdHJpbmcpIC0+IFhNTERURE5vZGU/IHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdChjb250ZW50c09mIHVybDogVVJMLCBvcHRpb25zIG1hc2s6IFhNTE5vZGUuT3B0aW9ucyA9IHgpIHRocm93cyB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQoZGF0YTogRGF0YSwgb3B0aW9ucyBtYXNrOiBYTUxOb2RlLk9wdGlvbnMgPSB4KSB0aHJvd3Mge30KICAgIG9wZW4gdmFyIHB1YmxpY0lEOiBTdHJpbmc/IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBzeXN0ZW1JRDogU3RyaW5nPyB7IGdldCBzZXQgfQogICAgb3BlbiBmdW5jIGFkZENoaWxkKF8gY2hpbGQ6IFhNTE5vZGUpIHt9CiAgICBvcGVuIGZ1bmMgYXR0cmlidXRlRGVjbGFyYXRpb24oZm9yTmFtZSBuYW1lOiBTdHJpbmcsIGVsZW1lbnROYW1lOiBTdHJpbmcpIC0+IFhNTERURE5vZGU/IHt9CiAgICBvcGVuIGZ1bmMgZWxlbWVudERlY2xhcmF0aW9uKGZvck5hbWUgbmFtZTogU3RyaW5nKSAtPiBYTUxEVEROb2RlPyB7fQogICAgb3BlbiBmdW5jIGVudGl0eURlY2xhcmF0aW9uKGZvck5hbWUgbmFtZTogU3RyaW5nKSAtPiBYTUxEVEROb2RlPyB7fQogICAgb3BlbiBmdW5jIGluc2VydENoaWxkKF8gY2hpbGQ6IFhNTE5vZGUsIGF0IGluZGV4OiBJbnQpIHt9CiAgICBvcGVuIGZ1bmMgaW5zZXJ0Q2hpbGRyZW4oXyBjaGlsZHJlbjogW1hNTE5vZGVdLCBhdCBpbmRleDogSW50KSB7fQogICAgb3BlbiBmdW5jIG5vdGF0aW9uRGVjbGFyYXRpb24oZm9yTmFtZSBuYW1lOiBTdHJpbmcpIC0+IFhNTERURE5vZGU/IHt9CiAgICBvcGVuIGZ1bmMgcmVtb3ZlQ2hpbGQoYXQgaW5kZXg6IEludCkge30KICAgIG9wZW4gZnVuYyByZXBsYWNlQ2hpbGQoYXQgaW5kZXg6IEludCwgd2l0aCBub2RlOiBYTUxOb2RlKSB7fQogICAgb3BlbiBmdW5jIHNldENoaWxkcmVuKF8gY2hpbGRyZW46IFtYTUxOb2RlXT8pIHt9Cn0Kb3BlbiBjbGFzcyBYTUxEVEROb2RlIDogQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TQ29weWluZywgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wsIFhNTE5vZGUsIF8sIF9OU1hNTE5vZGVDb2xsZWN0aW9uVHlwZSB7CiAgICBwdWJsaWMgaW5pdD8oeG1sU3RyaW5nIHN0cmluZzogU3RyaW5nKSB7fQogICAgb3BlbiB2YXIgZHRkS2luZDogWE1MRFRETm9kZS5EVERLaW5kIHsgZ2V0IH0KICAgIG9wZW4gdmFyIGlzRXh0ZXJuYWw6IEJvb2wgeyBnZXQgfQogICAgb3BlbiB2YXIgbm90YXRpb25OYW1lOiBTdHJpbmc/IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBwdWJsaWNJRDogU3RyaW5nPyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgc3lzdGVtSUQ6IFN0cmluZz8geyBnZXQgc2V0IH0KfQpvcGVuIGNsYXNzIFhNTERvY3VtZW50IDogQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TQ29weWluZywgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wsIFhNTE5vZGUsIF8sIF9OU1hNTE5vZGVDb2xsZWN0aW9uVHlwZSB7CiAgICBvcGVuIGNsYXNzIGZ1bmMgcmVwbGFjZW1lbnRDbGFzcyhmb3IgY2xzOiBBbnlDbGFzcykgLT4gQW55Q2xhc3Mge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KGNvbnRlbnRzT2YgdXJsOiBVUkwsIG9wdGlvbnMgbWFzazogWE1MTm9kZS5PcHRpb25zID0geCkgdGhyb3dzIHt9CiAgICBwdWJsaWMgaW5pdChkYXRhOiBEYXRhLCBvcHRpb25zIG1hc2s6IFhNTE5vZGUuT3B0aW9ucyA9IHgpIHRocm93cyB7fQogICAgcHVibGljIGluaXQocm9vdEVsZW1lbnQgZWxlbWVudDogWE1MRWxlbWVudD8pIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdCh4bWxTdHJpbmcgc3RyaW5nOiBTdHJpbmcsIG9wdGlvbnMgbWFzazogWE1MTm9kZS5PcHRpb25zID0geCkgdGhyb3dzIHt9CiAgICBvcGVuIHZhciBjaGFyYWN0ZXJFbmNvZGluZzogU3RyaW5nPyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgZG9jdW1lbnRDb250ZW50S2luZDogWE1MRG9jdW1lbnQuQ29udGVudEtpbmQgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGR0ZDogWE1MRFREPyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgaXNTdGFuZGFsb25lOiBCb29sIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBtaW1lVHlwZTogU3RyaW5nPyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgdmVyc2lvbjogU3RyaW5nPyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgeG1sRGF0YTogRGF0YSB7IGdldCB9CiAgICBvcGVuIGZ1bmMgYWRkQ2hpbGQoXyBjaGlsZDogWE1MTm9kZSkge30KICAgIG9wZW4gZnVuYyBpbnNlcnRDaGlsZChfIGNoaWxkOiBYTUxOb2RlLCBhdCBpbmRleDogSW50KSB7fQogICAgb3BlbiBmdW5jIGluc2VydENoaWxkcmVuKF8gY2hpbGRyZW46IFtYTUxOb2RlXSwgYXQgaW5kZXg6IEludCkge30KICAgIG9wZW4gZnVuYyBvYmplY3QoYnlBcHBseWluZ1hTTFQgeHNsdDogRGF0YSwgYXJndW1lbnRzOiBbU3RyaW5nOiBTdHJpbmddPykgdGhyb3dzIC0+IEFueSB7fQogICAgb3BlbiBmdW5jIG9iamVjdChieUFwcGx5aW5nWFNMVFN0cmluZyB4c2x0OiBTdHJpbmcsIGFyZ3VtZW50czogW1N0cmluZzogU3RyaW5nXT8pIHRocm93cyAtPiBBbnkge30KICAgIG9wZW4gZnVuYyBvYmplY3RCeUFwcGx5aW5nWFNMVChhdCB4c2x0VVJMOiBVUkwsIGFyZ3VtZW50cyBhcmd1bWVudDogW1N0cmluZzogU3RyaW5nXT8pIHRocm93cyAtPiBBbnkge30KICAgIG9wZW4gZnVuYyByZW1vdmVDaGlsZChhdCBpbmRleDogSW50KSB7fQogICAgb3BlbiBmdW5jIHJlcGxhY2VDaGlsZChhdCBpbmRleDogSW50LCB3aXRoIG5vZGU6IFhNTE5vZGUpIHt9CiAgICBvcGVuIGZ1bmMgcm9vdEVsZW1lbnQoKSAtPiBYTUxFbGVtZW50PyB7fQogICAgb3BlbiBmdW5jIHNldENoaWxkcmVuKF8gY2hpbGRyZW46IFtYTUxOb2RlXT8pIHt9CiAgICBvcGVuIGZ1bmMgc2V0Um9vdEVsZW1lbnQoXyByb290OiBYTUxFbGVtZW50KSB7fQogICAgb3BlbiBmdW5jIHZhbGlkYXRlKCkgdGhyb3dzIHt9CiAgICBvcGVuIGZ1bmMgeG1sRGF0YShvcHRpb25zOiBYTUxOb2RlLk9wdGlvbnMgPSB4KSAtPiBEYXRhIHt9Cn0Kb3BlbiBjbGFzcyBYTUxFbGVtZW50IDogQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TQ29weWluZywgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wsIFhNTE5vZGUsIF8sIF9OU1hNTE5vZGVDb2xsZWN0aW9uVHlwZSB7CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdChuYW1lOiBTdHJpbmcpIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdChuYW1lOiBTdHJpbmcsIHN0cmluZ1ZhbHVlIHN0cmluZzogU3RyaW5nPykge30KICAgIHB1YmxpYyBpbml0KG5hbWU6IFN0cmluZywgdXJpIFVSSTogU3RyaW5nPykge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KHhtbFN0cmluZyBzdHJpbmc6IFN0cmluZykgdGhyb3dzIHt9CiAgICBvcGVuIHZhciBhdHRyaWJ1dGVzOiBbWE1MTm9kZV0/IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBuYW1lc3BhY2VzOiBbWE1MTm9kZV0/IHsgZ2V0IHNldCB9CiAgICBvcGVuIGZ1bmMgYWRkQXR0cmlidXRlKF8gYXR0cmlidXRlOiBYTUxOb2RlKSB7fQogICAgb3BlbiBmdW5jIGFkZENoaWxkKF8gY2hpbGQ6IFhNTE5vZGUpIHt9CiAgICBvcGVuIGZ1bmMgYWRkTmFtZXNwYWNlKF8gYU5hbWVzcGFjZTogWE1MTm9kZSkge30KICAgIG9wZW4gZnVuYyBhdHRyaWJ1dGUoZm9yTG9jYWxOYW1lIGxvY2FsTmFtZTogU3RyaW5nLCB1cmkgVVJJOiBTdHJpbmc/KSAtPiBYTUxOb2RlPyB7fQogICAgb3BlbiBmdW5jIGF0dHJpYnV0ZShmb3JOYW1lIG5hbWU6IFN0cmluZykgLT4gWE1MTm9kZT8ge30KICAgIG9wZW4gZnVuYyBlbGVtZW50cyhmb3JMb2NhbE5hbWUgbG9jYWxOYW1lOiBTdHJpbmcsIHVyaSBVUkk6IFN0cmluZz8pIC0+IFtYTUxFbGVtZW50XSB7fQogICAgb3BlbiBmdW5jIGVsZW1lbnRzKGZvck5hbWUgbmFtZTogU3RyaW5nKSAtPiBbWE1MRWxlbWVudF0ge30KICAgIG9wZW4gZnVuYyBpbnNlcnRDaGlsZChfIGNoaWxkOiBYTUxOb2RlLCBhdCBpbmRleDogSW50KSB7fQogICAgb3BlbiBmdW5jIGluc2VydENoaWxkcmVuKF8gY2hpbGRyZW46IFtYTUxOb2RlXSwgYXQgaW5kZXg6IEludCkge30KICAgIG9wZW4gZnVuYyBuYW1lc3BhY2UoZm9yUHJlZml4IG5hbWU6IFN0cmluZykgLT4gWE1MTm9kZT8ge30KICAgIG9wZW4gZnVuYyBub3JtYWxpemVBZGphY2VudFRleHROb2Rlc1ByZXNlcnZpbmdDREFUQShfIHByZXNlcnZlOiBCb29sKSB7fQogICAgb3BlbiBmdW5jIHJlbW92ZUF0dHJpYnV0ZShmb3JOYW1lIG5hbWU6IFN0cmluZykge30KICAgIG9wZW4gZnVuYyByZW1vdmVDaGlsZChhdCBpbmRleDogSW50KSB7fQogICAgb3BlbiBmdW5jIHJlbW92ZU5hbWVzcGFjZShmb3JQcmVmaXggbmFtZTogU3RyaW5nKSB7fQogICAgb3BlbiBmdW5jIHJlcGxhY2VDaGlsZChhdCBpbmRleDogSW50LCB3aXRoIG5vZGU6IFhNTE5vZGUpIHt9CiAgICBvcGVuIGZ1bmMgcmVzb2x2ZU5hbWVzcGFjZShmb3JOYW1lIG5hbWU6IFN0cmluZykgLT4gWE1MTm9kZT8ge30KICAgIG9wZW4gZnVuYyByZXNvbHZlUHJlZml4KGZvck5hbWVzcGFjZVVSSSBuYW1lc3BhY2VVUkk6IFN0cmluZykgLT4gU3RyaW5nPyB7fQogICAgb3BlbiBmdW5jIHNldEF0dHJpYnV0ZXNXaXRoKF8gYXR0cmlidXRlczogW1N0cmluZzogU3RyaW5nXSkge30KICAgIG9wZW4gZnVuYyBzZXRDaGlsZHJlbihfIGNoaWxkcmVuOiBbWE1MTm9kZV0/KSB7fQp9Cm9wZW4gY2xhc3MgWE1MTm9kZSA6IEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU0NvcHlpbmcsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBfLCBfTlNYTUxOb2RlQ29sbGVjdGlvblR5cGUgewogICAgb3BlbiBjbGFzcyBmdW5jIGF0dHJpYnV0ZSh3aXRoTmFtZSBuYW1lOiBTdHJpbmcsIHN0cmluZ1ZhbHVlOiBTdHJpbmcpIC0+IEFueSB7fQogICAgb3BlbiBjbGFzcyBmdW5jIGF0dHJpYnV0ZSh3aXRoTmFtZSBuYW1lOiBTdHJpbmcsIHVyaTogU3RyaW5nLCBzdHJpbmdWYWx1ZTogU3RyaW5nKSAtPiBBbnkge30KICAgIG9wZW4gY2xhc3MgZnVuYyBjb21tZW50KHdpdGhTdHJpbmdWYWx1ZSBzdHJpbmdWYWx1ZTogU3RyaW5nKSAtPiBBbnkge30KICAgIG9wZW4gY2xhc3MgZnVuYyBkb2N1bWVudCgpIC0+IEFueSB7fQogICAgb3BlbiBjbGFzcyBmdW5jIGRvY3VtZW50KHdpdGhSb290RWxlbWVudCBlbGVtZW50OiBYTUxFbGVtZW50KSAtPiBBbnkge30KICAgIG9wZW4gY2xhc3MgZnVuYyBkdGROb2RlKHdpdGhYTUxTdHJpbmcgc3RyaW5nOiBTdHJpbmcpIC0+IEFueT8ge30KICAgIG9wZW4gY2xhc3MgZnVuYyBlbGVtZW50KHdpdGhOYW1lIG5hbWU6IFN0cmluZykgLT4gQW55IHt9CiAgICBvcGVuIGNsYXNzIGZ1bmMgZWxlbWVudCh3aXRoTmFtZSBuYW1lOiBTdHJpbmcsIGNoaWxkcmVuOiBbWE1MTm9kZV0/LCBhdHRyaWJ1dGVzOiBbWE1MTm9kZV0/KSAtPiBBbnkge30KICAgIG9wZW4gY2xhc3MgZnVuYyBlbGVtZW50KHdpdGhOYW1lIG5hbWU6IFN0cmluZywgc3RyaW5nVmFsdWUgc3RyaW5nOiBTdHJpbmcpIC0+IEFueSB7fQogICAgb3BlbiBjbGFzcyBmdW5jIGVsZW1lbnQod2l0aE5hbWUgbmFtZTogU3RyaW5nLCB1cmk6IFN0cmluZykgLT4gQW55IHt9CiAgICBvcGVuIGNsYXNzIGZ1bmMgbG9jYWxOYW1lKGZvck5hbWUgbmFtZTogU3RyaW5nKSAtPiBTdHJpbmcge30KICAgIG9wZW4gY2xhc3MgZnVuYyBuYW1lc3BhY2Uod2l0aE5hbWUgbmFtZTogU3RyaW5nLCBzdHJpbmdWYWx1ZTogU3RyaW5nKSAtPiBBbnkge30KICAgIG9wZW4gY2xhc3MgZnVuYyBwcmVkZWZpbmVkTmFtZXNwYWNlKGZvclByZWZpeCBuYW1lOiBTdHJpbmcpIC0+IFhNTE5vZGU/IHt9CiAgICBvcGVuIGNsYXNzIGZ1bmMgcHJlZml4KGZvck5hbWUgbmFtZTogU3RyaW5nKSAtPiBTdHJpbmc/IHt9CiAgICBwdWJsaWMgY2xhc3MgZnVuYyBwcm9jZXNzaW5nSW5zdHJ1Y3Rpb24od2l0aE5hbWUgbmFtZTogU3RyaW5nLCBzdHJpbmdWYWx1ZTogU3RyaW5nKSAtPiBBbnkge30KICAgIG9wZW4gY2xhc3MgZnVuYyB0ZXh0KHdpdGhTdHJpbmdWYWx1ZSBzdHJpbmdWYWx1ZTogU3RyaW5nKSAtPiBBbnkge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KGtpbmQ6IFhNTE5vZGUuS2luZCkge30KICAgIHB1YmxpYyBpbml0KGtpbmQ6IFhNTE5vZGUuS2luZCwgb3B0aW9uczogWE1MTm9kZS5PcHRpb25zID0geCkge30KICAgIG9wZW4gdmFyIGNoaWxkQ291bnQ6IEludCB7IGdldCB9CiAgICBvcGVuIHZhciBjaGlsZHJlbjogW1hNTE5vZGVdPyB7IGdldCB9CiAgICBwdWJsaWMgdmFyIGVuZEluZGV4OiBJbmRleCB7IGdldCB9CiAgICBvcGVuIHZhciBpbmRleDogSW50IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGtpbmQ6IFhNTE5vZGUuS2luZCB7IGdldCB9CiAgICBvcGVuIHZhciBsZXZlbDogSW50IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGxvY2FsTmFtZTogU3RyaW5nPyB7IGdldCB9CiAgICBvcGVuIHZhciBuYW1lOiBTdHJpbmc/IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBuZXh0OiBYTUxOb2RlPyB7IGdldCB9CiAgICBvcGVuIHZhciBuZXh0U2libGluZzogWE1MTm9kZT8geyBnZXQgfQogICAgb3BlbiB2YXIgb2JqZWN0VmFsdWU6IEFueT8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHBhcmVudDogWE1MTm9kZT8geyBnZXQgfQogICAgb3BlbiB2YXIgcHJlZml4OiBTdHJpbmc/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHByZXZpb3VzOiBYTUxOb2RlPyB7IGdldCB9CiAgICBvcGVuIHZhciBwcmV2aW91c1NpYmxpbmc6IFhNTE5vZGU/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHJvb3REb2N1bWVudDogWE1MRG9jdW1lbnQ/IHsgZ2V0IH0KICAgIHB1YmxpYyB2YXIgc3RhcnRJbmRleDogSW5kZXggeyBnZXQgfQogICAgb3BlbiB2YXIgc3RyaW5nVmFsdWU6IFN0cmluZz8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHVyaTogU3RyaW5nPyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgeFBhdGg6IFN0cmluZz8geyBnZXQgfQogICAgb3BlbiB2YXIgeG1sU3RyaW5nOiBTdHJpbmcgeyBnZXQgfQogICAgcHVibGljIHN1YnNjcmlwdChpbmRleDogSW5kZXgpIC0+IFhNTE5vZGUgeyBnZXQgfSB7fQogICAgb3BlbiBmdW5jIGNhbm9uaWNhbFhNTFN0cmluZ1ByZXNlcnZpbmdDb21tZW50cyhfIGNvbW1lbnRzOiBCb29sKSAtPiBTdHJpbmcge30KICAgIG9wZW4gZnVuYyBjaGlsZChhdCBpbmRleDogSW50KSAtPiBYTUxOb2RlPyB7fQogICAgb3BlbiBmdW5jIGRldGFjaCgpIHt9CiAgICBwdWJsaWMgZnVuYyBpbmRleChhZnRlciBpOiBJbmRleCkgLT4gSW5kZXgge30KICAgIG9wZW4gZnVuYyBub2Rlcyhmb3JYUGF0aCB4cGF0aDogU3RyaW5nKSB0aHJvd3MgLT4gW1hNTE5vZGVdIHt9CiAgICBvcGVuIGZ1bmMgb2JqZWN0cyhmb3JYUXVlcnkgeHF1ZXJ5OiBTdHJpbmcpIHRocm93cyAtPiBbQW55XSB7fQogICAgb3BlbiBmdW5jIG9iamVjdHMoZm9yWFF1ZXJ5IHhxdWVyeTogU3RyaW5nLCBjb25zdGFudHM6IFtTdHJpbmc6IEFueV0/KSB0aHJvd3MgLT4gW0FueV0ge30KICAgIG9wZW4gZnVuYyBzZXRTdHJpbmdWYWx1ZShfIHN0cmluZzogU3RyaW5nLCByZXNvbHZpbmdFbnRpdGllcyByZXNvbHZlOiBCb29sKSB7fQogICAgb3BlbiBmdW5jIHhtbFN0cmluZyhvcHRpb25zOiBPcHRpb25zKSAtPiBTdHJpbmcge30KfQpvcGVuIGNsYXNzIFhNTFBhcnNlciA6IEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCwgXyB7CiAgICBwdWJsaWMgc3RhdGljIHZhciBlcnJvckRvbWFpbjogU3RyaW5nIHsgZ2V0IH0KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0Pyhjb250ZW50c09mIHVybDogVVJMKSB7fQogICAgcHVibGljIGluaXQoZGF0YTogRGF0YSkge30KICAgIHB1YmxpYyBpbml0KHN0cmVhbTogSW5wdXRTdHJlYW0pIHt9CiAgICBvcGVuIHZhciBhbGxvd2VkRXh0ZXJuYWxFbnRpdHlVUkxzOiBTZXQ8VVJMPj8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGNvbHVtbk51bWJlcjogSW50IHsgZ2V0IH0KICAgIG9wZW4gd2VhayB2YXIgZGVsZWdhdGU6IFhNTFBhcnNlckRlbGVnYXRlPyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgZXh0ZXJuYWxFbnRpdHlSZXNvbHZpbmdQb2xpY3k6IEV4dGVybmFsRW50aXR5UmVzb2x2aW5nUG9saWN5IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBsaW5lTnVtYmVyOiBJbnQgeyBnZXQgfQogICAgb3BlbiB2YXIgcGFyc2VyRXJyb3I6IEVycm9yPyB7IGdldCB9CiAgICBvcGVuIHZhciBwdWJsaWNJRDogU3RyaW5nPyB7IGdldCB9CiAgICBvcGVuIHZhciBzaG91bGRQcm9jZXNzTmFtZXNwYWNlczogQm9vbCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgc2hvdWxkUmVwb3J0TmFtZXNwYWNlUHJlZml4ZXM6IEJvb2wgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHNob3VsZFJlc29sdmVFeHRlcm5hbEVudGl0aWVzOiBCb29sIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBzeXN0ZW1JRDogU3RyaW5nPyB7IGdldCB9CiAgICBvcGVuIGZ1bmMgYWJvcnRQYXJzaW5nKCkge30KICAgIG9wZW4gZnVuYyBwYXJzZSgpIC0+IEJvb2wge30KfQpwdWJsaWMgcHJvdG9jb2wgQ3VzdG9tTlNFcnJvciA6IEVycm9yIHsKICAgIHN0YXRpYyB2YXIgZXJyb3JEb21haW46IFN0cmluZyB7IGdldCB9CiAgICB2YXIgZXJyb3JDb2RlOiBJbnQgeyBnZXQgfQogICAgdmFyIGVycm9yVXNlckluZm86IFtTdHJpbmc6IEFueV0geyBnZXQgfQp9CnB1YmxpYyBwcm90b2NvbCBGaWxlTWFuYWdlckRlbGVnYXRlIDogTlNPYmplY3RQcm90b2NvbCwgXyB7CiAgICBmdW5jIGZpbGVNYW5hZ2VyKF8gZmlsZU1hbmFnZXI6IEZpbGVNYW5hZ2VyLCBzaG91bGRDb3B5SXRlbUF0IHNyY1VSTDogVVJMLCB0byBkc3RVUkw6IFVSTCkgLT4gQm9vbAogICAgZnVuYyBmaWxlTWFuYWdlcihfIGZpbGVNYW5hZ2VyOiBGaWxlTWFuYWdlciwgc2hvdWxkQ29weUl0ZW1BdFBhdGggc3JjUGF0aDogU3RyaW5nLCB0b1BhdGggZHN0UGF0aDogU3RyaW5nKSAtPiBCb29sCiAgICBmdW5jIGZpbGVNYW5hZ2VyKF8gZmlsZU1hbmFnZXI6IEZpbGVNYW5hZ2VyLCBzaG91bGRMaW5rSXRlbUF0IHNyY1VSTDogVVJMLCB0byBkc3RVUkw6IFVSTCkgLT4gQm9vbAogICAgZnVuYyBmaWxlTWFuYWdlcihfIGZpbGVNYW5hZ2VyOiBGaWxlTWFuYWdlciwgc2hvdWxkTGlua0l0ZW1BdFBhdGggc3JjUGF0aDogU3RyaW5nLCB0b1BhdGggZHN0UGF0aDogU3RyaW5nKSAtPiBCb29sCiAgICBmdW5jIGZpbGVNYW5hZ2VyKF8gZmlsZU1hbmFnZXI6IEZpbGVNYW5hZ2VyLCBzaG91bGRNb3ZlSXRlbUF0IHNyY1VSTDogVVJMLCB0byBkc3RVUkw6IFVSTCkgLT4gQm9vbAogICAgZnVuYyBmaWxlTWFuYWdlcihfIGZpbGVNYW5hZ2VyOiBGaWxlTWFuYWdlciwgc2hvdWxkTW92ZUl0ZW1BdFBhdGggc3JjUGF0aDogU3RyaW5nLCB0b1BhdGggZHN0UGF0aDogU3RyaW5nKSAtPiBCb29sCiAgICBmdW5jIGZpbGVNYW5hZ2VyKF8gZmlsZU1hbmFnZXI6IEZpbGVNYW5hZ2VyLCBzaG91bGRQcm9jZWVkQWZ0ZXJFcnJvciBlcnJvcjogRXJyb3IsIGNvcHlpbmdJdGVtQXQgc3JjVVJMOiBVUkwsIHRvIGRzdFVSTDogVVJMKSAtPiBCb29sCiAgICBmdW5jIGZpbGVNYW5hZ2VyKF8gZmlsZU1hbmFnZXI6IEZpbGVNYW5hZ2VyLCBzaG91bGRQcm9jZWVkQWZ0ZXJFcnJvciBlcnJvcjogRXJyb3IsIGNvcHlpbmdJdGVtQXRQYXRoIHNyY1BhdGg6IFN0cmluZywgdG9QYXRoIGRzdFBhdGg6IFN0cmluZykgLT4gQm9vbAogICAgZnVuYyBmaWxlTWFuYWdlcihfIGZpbGVNYW5hZ2VyOiBGaWxlTWFuYWdlciwgc2hvdWxkUHJvY2VlZEFmdGVyRXJyb3IgZXJyb3I6IEVycm9yLCBsaW5raW5nSXRlbUF0IHNyY1VSTDogVVJMLCB0byBkc3RVUkw6IFVSTCkgLT4gQm9vbAogICAgZnVuYyBmaWxlTWFuYWdlcihfIGZpbGVNYW5hZ2VyOiBGaWxlTWFuYWdlciwgc2hvdWxkUHJvY2VlZEFmdGVyRXJyb3IgZXJyb3I6IEVycm9yLCBsaW5raW5nSXRlbUF0UGF0aCBzcmNQYXRoOiBTdHJpbmcsIHRvUGF0aCBkc3RQYXRoOiBTdHJpbmcpIC0+IEJvb2wKICAgIGZ1bmMgZmlsZU1hbmFnZXIoXyBmaWxlTWFuYWdlcjogRmlsZU1hbmFnZXIsIHNob3VsZFByb2NlZWRBZnRlckVycm9yIGVycm9yOiBFcnJvciwgbW92aW5nSXRlbUF0IHNyY1VSTDogVVJMLCB0byBkc3RVUkw6IFVSTCkgLT4gQm9vbAogICAgZnVuYyBmaWxlTWFuYWdlcihfIGZpbGVNYW5hZ2VyOiBGaWxlTWFuYWdlciwgc2hvdWxkUHJvY2VlZEFmdGVyRXJyb3IgZXJyb3I6IEVycm9yLCBtb3ZpbmdJdGVtQXRQYXRoIHNyY1BhdGg6IFN0cmluZywgdG9QYXRoIGRzdFBhdGg6IFN0cmluZykgLT4gQm9vbAogICAgZnVuYyBmaWxlTWFuYWdlcihfIGZpbGVNYW5hZ2VyOiBGaWxlTWFuYWdlciwgc2hvdWxkUHJvY2VlZEFmdGVyRXJyb3IgZXJyb3I6IEVycm9yLCByZW1vdmluZ0l0ZW1BdCBVUkw6IFVSTCkgLT4gQm9vbAogICAgZnVuYyBmaWxlTWFuYWdlcihfIGZpbGVNYW5hZ2VyOiBGaWxlTWFuYWdlciwgc2hvdWxkUHJvY2VlZEFmdGVyRXJyb3IgZXJyb3I6IEVycm9yLCByZW1vdmluZ0l0ZW1BdFBhdGggcGF0aDogU3RyaW5nKSAtPiBCb29sCiAgICBmdW5jIGZpbGVNYW5hZ2VyKF8gZmlsZU1hbmFnZXI6IEZpbGVNYW5hZ2VyLCBzaG91bGRSZW1vdmVJdGVtQXQgVVJMOiBVUkwpIC0+IEJvb2wKICAgIGZ1bmMgZmlsZU1hbmFnZXIoXyBmaWxlTWFuYWdlcjogRmlsZU1hbmFnZXIsIHNob3VsZFJlbW92ZUl0ZW1BdFBhdGggcGF0aDogU3RyaW5nKSAtPiBCb29sCn0KcHVibGljIHByb3RvY29sIExvY2FsaXplZEVycm9yIDogRXJyb3IgewogICAgdmFyIGVycm9yRGVzY3JpcHRpb246IFN0cmluZz8geyBnZXQgfQogICAgdmFyIGZhaWx1cmVSZWFzb246IFN0cmluZz8geyBnZXQgfQogICAgdmFyIGhlbHBBbmNob3I6IFN0cmluZz8geyBnZXQgfQogICAgdmFyIHJlY292ZXJ5U3VnZ2VzdGlvbjogU3RyaW5nPyB7IGdldCB9Cn0KcHVibGljIHByb3RvY29sIE5TQ2FjaGVEZWxlZ2F0ZSA6IE5TT2JqZWN0UHJvdG9jb2wsIF8gewogICAgZnVuYyBjYWNoZShfIGNhY2hlOiBOU0NhY2hlPEFueU9iamVjdCwgQW55T2JqZWN0Piwgd2lsbEV2aWN0T2JqZWN0IG9iajogQW55KQp9CnB1YmxpYyBwcm90b2NvbCBOU0NvZGluZyB7CiAgICBpbml0Pyhjb2RlciBhRGVjb2RlcjogTlNDb2RlcikKICAgIGZ1bmMgZW5jb2RlKHdpdGggYUNvZGVyOiBOU0NvZGVyKQp9CnB1YmxpYyBwcm90b2NvbCBOU0NvcHlpbmcgewogICAgZnVuYyBjb3B5KCkgLT4gQW55CiAgICBmdW5jIGNvcHkod2l0aCB6b25lOiBOU1pvbmU/KSAtPiBBbnkKfQpwdWJsaWMgcHJvdG9jb2wgTlNEZWNpbWFsTnVtYmVyQmVoYXZpb3JzIHsKICAgIGZ1bmMgcm91bmRpbmdNb2RlKCkgLT4gTlNEZWNpbWFsTnVtYmVyLlJvdW5kaW5nTW9kZQogICAgZnVuYyBzY2FsZSgpIC0+IEludDE2Cn0KcHVibGljIHByb3RvY29sIE5TS2V5ZWRBcmNoaXZlckRlbGVnYXRlIDogXyB7CiAgICBmdW5jIGFyY2hpdmVyKF8gYXJjaGl2ZXI6IE5TS2V5ZWRBcmNoaXZlciwgZGlkRW5jb2RlIG9iamVjdDogQW55PykKICAgIGZ1bmMgYXJjaGl2ZXIoXyBhcmNoaXZlcjogTlNLZXllZEFyY2hpdmVyLCB3aWxsRW5jb2RlIG9iamVjdDogQW55KSAtPiBBbnk/CiAgICBmdW5jIGFyY2hpdmVyKF8gYXJjaGl2ZXI6IE5TS2V5ZWRBcmNoaXZlciwgd2lsbFJlcGxhY2Ugb2JqZWN0OiBBbnk/LCB3aXRoT2JqZWN0IG5ld09iamVjdDogQW55PykKICAgIGZ1bmMgYXJjaGl2ZXJEaWRGaW5pc2goXyBhcmNoaXZlcjogTlNLZXllZEFyY2hpdmVyKQogICAgZnVuYyBhcmNoaXZlcldpbGxGaW5pc2goXyBhcmNoaXZlcjogTlNLZXllZEFyY2hpdmVyKQp9CnB1YmxpYyBwcm90b2NvbCBOU0tleWVkVW5hcmNoaXZlckRlbGVnYXRlIDogXyB7CiAgICBmdW5jIHVuYXJjaGl2ZXIoXyB1bmFyY2hpdmVyOiBOU0tleWVkVW5hcmNoaXZlciwgY2Fubm90RGVjb2RlT2JqZWN0T2ZDbGFzc05hbWUgbmFtZTogU3RyaW5nLCBvcmlnaW5hbENsYXNzZXMgY2xhc3NOYW1lczogW1N0cmluZ10pIC0+IEFueUNsYXNzPwogICAgZnVuYyB1bmFyY2hpdmVyKF8gdW5hcmNoaXZlcjogTlNLZXllZFVuYXJjaGl2ZXIsIGRpZERlY29kZSBvYmplY3Q6IEFueT8pIC0+IEFueT8KICAgIGZ1bmMgdW5hcmNoaXZlcihfIHVuYXJjaGl2ZXI6IE5TS2V5ZWRVbmFyY2hpdmVyLCB3aWxsUmVwbGFjZSBvYmplY3Q6IEFueSwgd2l0aCBuZXdPYmplY3Q6IEFueSkKICAgIGZ1bmMgdW5hcmNoaXZlckRpZEZpbmlzaChfIHVuYXJjaGl2ZXI6IE5TS2V5ZWRVbmFyY2hpdmVyKQogICAgZnVuYyB1bmFyY2hpdmVyV2lsbEZpbmlzaChfIHVuYXJjaGl2ZXI6IE5TS2V5ZWRVbmFyY2hpdmVyKQp9CnB1YmxpYyBwcm90b2NvbCBOU0xvY2tpbmcgewogICAgZnVuYyBsb2NrKCkKICAgIGZ1bmMgdW5sb2NrKCkKfQpwdWJsaWMgcHJvdG9jb2wgTlNNdXRhYmxlQ29weWluZyB7CiAgICBmdW5jIG11dGFibGVDb3B5KCkgLT4gQW55CiAgICBmdW5jIG11dGFibGVDb3B5KHdpdGggem9uZTogTlNab25lPykgLT4gQW55Cn0KcHVibGljIHByb3RvY29sIE5TT2JqZWN0UHJvdG9jb2wgOiBfIHsKICAgIHZhciBkZWJ1Z0Rlc2NyaXB0aW9uOiBTdHJpbmcgeyBnZXQgfQogICAgdmFyIGRlc2NyaXB0aW9uOiBTdHJpbmcgeyBnZXQgfQogICAgdmFyIGhhc2g6IEludCB7IGdldCB9CiAgICBmdW5jIGlzRXF1YWwoXyBvYmplY3Q6IEFueT8pIC0+IEJvb2wKICAgIGZ1bmMgaXNQcm94eSgpIC0+IEJvb2wKICAgIGZ1bmMgc2VsZigpIC0+IFNlbGYKfQpwdWJsaWMgcHJvdG9jb2wgTlNTZWN1cmVDb2RpbmcgOiBOU0NvZGluZyB7CiAgICBzdGF0aWMgdmFyIHN1cHBvcnRzU2VjdXJlQ29kaW5nOiBCb29sIHsgZ2V0IH0KfQpwdWJsaWMgcHJvdG9jb2wgUG9ydERlbGVnYXRlIDogXyB7CiAgICBmdW5jIGhhbmRsZVBvcnRNZXNzYWdlKF8gbWVzc2FnZTogUG9ydE1lc3NhZ2UpCn0KcHVibGljIHByb3RvY29sIFByb2dyZXNzUmVwb3J0aW5nIDogTlNPYmplY3RQcm90b2NvbCwgXyB7CiAgICB2YXIgcHJvZ3Jlc3M6IFByb2dyZXNzIHsgZ2V0IH0KfQpwdWJsaWMgcHJvdG9jb2wgUmVjb3ZlcmFibGVFcnJvciA6IEVycm9yIHsKICAgIHZhciByZWNvdmVyeU9wdGlvbnM6IFtTdHJpbmddIHsgZ2V0IH0KICAgIGZ1bmMgYXR0ZW1wdFJlY292ZXJ5KG9wdGlvbkluZGV4IHJlY292ZXJ5T3B0aW9uSW5kZXg6IEludCkgLT4gQm9vbAogICAgZnVuYyBhdHRlbXB0UmVjb3Zlcnkob3B0aW9uSW5kZXggcmVjb3ZlcnlPcHRpb25JbmRleDogSW50LCByZXN1bHRIYW5kbGVyIGhhbmRsZXI6IChfIHJlY292ZXJlZDogQm9vbCkgLT4gVm9pZCkKfQpwdWJsaWMgcHJvdG9jb2wgUmVmZXJlbmNlQ29udmVydGlibGUgOiBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgSGFzaGFibGUgewp9CnB1YmxpYyBwcm90b2NvbCBTdHJlYW1EZWxlZ2F0ZSA6IF8gewogICAgZnVuYyBzdHJlYW0oXyBhU3RyZWFtOiBTdHJlYW0sIGhhbmRsZSBldmVudENvZGU6IFN0cmVhbS5FdmVudCkKfQpwdWJsaWMgcHJvdG9jb2wgVVJMQXV0aGVudGljYXRpb25DaGFsbGVuZ2VTZW5kZXIgOiBOU09iamVjdFByb3RvY29sLCBfIHsKICAgIGZ1bmMgY2FuY2VsKF8gY2hhbGxlbmdlOiBVUkxBdXRoZW50aWNhdGlvbkNoYWxsZW5nZSkKICAgIGZ1bmMgY29udGludWVXaXRob3V0Q3JlZGVudGlhbChmb3IgY2hhbGxlbmdlOiBVUkxBdXRoZW50aWNhdGlvbkNoYWxsZW5nZSkKICAgIGZ1bmMgcGVyZm9ybURlZmF1bHRIYW5kbGluZyhmb3IgY2hhbGxlbmdlOiBVUkxBdXRoZW50aWNhdGlvbkNoYWxsZW5nZSkKICAgIGZ1bmMgcmVqZWN0UHJvdGVjdGlvblNwYWNlQW5kQ29udGludWUod2l0aCBjaGFsbGVuZ2U6IFVSTEF1dGhlbnRpY2F0aW9uQ2hhbGxlbmdlKQogICAgZnVuYyB1c2UoXyBjcmVkZW50aWFsOiBVUkxDcmVkZW50aWFsLCBmb3IgY2hhbGxlbmdlOiBVUkxBdXRoZW50aWNhdGlvbkNoYWxsZW5nZSkKfQpwdWJsaWMgcHJvdG9jb2wgVVJMUHJvdG9jb2xDbGllbnQgOiBOU09iamVjdFByb3RvY29sLCBfIHsKICAgIGZ1bmMgdXJsUHJvdG9jb2woXyBwcm90b2NvbDogVVJMUHJvdG9jb2wsIGNhY2hlZFJlc3BvbnNlSXNWYWxpZCBjYWNoZWRSZXNwb25zZTogQ2FjaGVkVVJMUmVzcG9uc2UpCiAgICBmdW5jIHVybFByb3RvY29sKF8gcHJvdG9jb2w6IFVSTFByb3RvY29sLCBkaWRDYW5jZWwgY2hhbGxlbmdlOiBVUkxBdXRoZW50aWNhdGlvbkNoYWxsZW5nZSkKICAgIGZ1bmMgdXJsUHJvdG9jb2woXyBwcm90b2NvbDogVVJMUHJvdG9jb2wsIGRpZEZhaWxXaXRoRXJyb3IgZXJyb3I6IEVycm9yKQogICAgZnVuYyB1cmxQcm90b2NvbChfIHByb3RvY29sOiBVUkxQcm90b2NvbCwgZGlkTG9hZCBkYXRhOiBEYXRhKQogICAgZnVuYyB1cmxQcm90b2NvbChfIHByb3RvY29sOiBVUkxQcm90b2NvbCwgZGlkUmVjZWl2ZSBjaGFsbGVuZ2U6IFVSTEF1dGhlbnRpY2F0aW9uQ2hhbGxlbmdlKQogICAgZnVuYyB1cmxQcm90b2NvbChfIHByb3RvY29sOiBVUkxQcm90b2NvbCwgZGlkUmVjZWl2ZSByZXNwb25zZTogVVJMUmVzcG9uc2UsIGNhY2hlU3RvcmFnZVBvbGljeSBwb2xpY3k6IFVSTENhY2hlLlN0b3JhZ2VQb2xpY3kpCiAgICBmdW5jIHVybFByb3RvY29sKF8gcHJvdG9jb2w6IFVSTFByb3RvY29sLCB3YXNSZWRpcmVjdGVkVG8gcmVxdWVzdDogVVJMUmVxdWVzdCwgcmVkaXJlY3RSZXNwb25zZTogVVJMUmVzcG9uc2UpCiAgICBmdW5jIHVybFByb3RvY29sRGlkRmluaXNoTG9hZGluZyhfIHByb3RvY29sOiBVUkxQcm90b2NvbCkKfQpwdWJsaWMgcHJvdG9jb2wgVVJMU2Vzc2lvbkRhdGFEZWxlZ2F0ZSA6IE5TT2JqZWN0UHJvdG9jb2wsIFVSTFNlc3Npb25EZWxlZ2F0ZSwgVVJMU2Vzc2lvblRhc2tEZWxlZ2F0ZSwgXyB7CiAgICBmdW5jIHVybFNlc3Npb24oXyBzZXNzaW9uOiBVUkxTZXNzaW9uLCBkYXRhVGFzazogVVJMU2Vzc2lvbkRhdGFUYXNrLCBkaWRCZWNvbWUgZG93bmxvYWRUYXNrOiBVUkxTZXNzaW9uRG93bmxvYWRUYXNrKQogICAgZnVuYyB1cmxTZXNzaW9uKF8gc2Vzc2lvbjogVVJMU2Vzc2lvbiwgZGF0YVRhc2s6IFVSTFNlc3Npb25EYXRhVGFzaywgZGlkUmVjZWl2ZSBkYXRhOiBEYXRhKQogICAgZnVuYyB1cmxTZXNzaW9uKF8gc2Vzc2lvbjogVVJMU2Vzc2lvbiwgZGF0YVRhc2s6IFVSTFNlc3Npb25EYXRhVGFzaywgZGlkUmVjZWl2ZSByZXNwb25zZTogVVJMUmVzcG9uc2UsIGNvbXBsZXRpb25IYW5kbGVyOiBAZXNjYXBpbmcgKFVSTFNlc3Npb24uUmVzcG9uc2VEaXNwb3NpdGlvbikgLT4gVm9pZCkKICAgIGZ1bmMgdXJsU2Vzc2lvbihfIHNlc3Npb246IFVSTFNlc3Npb24sIGRhdGFUYXNrOiBVUkxTZXNzaW9uRGF0YVRhc2ssIHdpbGxDYWNoZVJlc3BvbnNlIHByb3Bvc2VkUmVzcG9uc2U6IENhY2hlZFVSTFJlc3BvbnNlLCBjb21wbGV0aW9uSGFuZGxlcjogQGVzY2FwaW5nIChDYWNoZWRVUkxSZXNwb25zZT8pIC0+IFZvaWQpCn0KcHVibGljIHByb3RvY29sIFVSTFNlc3Npb25EZWxlZ2F0ZSA6IE5TT2JqZWN0UHJvdG9jb2wsIF8gewogICAgZnVuYyB1cmxTZXNzaW9uKF8gc2Vzc2lvbjogVVJMU2Vzc2lvbiwgZGlkQmVjb21lSW52YWxpZFdpdGhFcnJvciBlcnJvcjogRXJyb3I/KQogICAgZnVuYyB1cmxTZXNzaW9uKF8gc2Vzc2lvbjogVVJMU2Vzc2lvbiwgZGlkUmVjZWl2ZSBjaGFsbGVuZ2U6IFVSTEF1dGhlbnRpY2F0aW9uQ2hhbGxlbmdlLCBjb21wbGV0aW9uSGFuZGxlcjogQGVzY2FwaW5nIChVUkxTZXNzaW9uLkF1dGhDaGFsbGVuZ2VEaXNwb3NpdGlvbiwgVVJMQ3JlZGVudGlhbD8pIC0+IFZvaWQpCn0KcHVibGljIHByb3RvY29sIFVSTFNlc3Npb25Eb3dubG9hZERlbGVnYXRlIDogTlNPYmplY3RQcm90b2NvbCwgVVJMU2Vzc2lvbkRlbGVnYXRlLCBVUkxTZXNzaW9uVGFza0RlbGVnYXRlLCBfIHsKICAgIGZ1bmMgdXJsU2Vzc2lvbihfIHNlc3Npb246IFVSTFNlc3Npb24sIGRvd25sb2FkVGFzazogVVJMU2Vzc2lvbkRvd25sb2FkVGFzaywgZGlkRmluaXNoRG93bmxvYWRpbmdUbyBsb2NhdGlvbjogVVJMKQogICAgZnVuYyB1cmxTZXNzaW9uKF8gc2Vzc2lvbjogVVJMU2Vzc2lvbiwgZG93bmxvYWRUYXNrOiBVUkxTZXNzaW9uRG93bmxvYWRUYXNrLCBkaWRSZXN1bWVBdE9mZnNldCBmaWxlT2Zmc2V0OiBJbnQ2NCwgZXhwZWN0ZWRUb3RhbEJ5dGVzOiBJbnQ2NCkKICAgIGZ1bmMgdXJsU2Vzc2lvbihfIHNlc3Npb246IFVSTFNlc3Npb24sIGRvd25sb2FkVGFzazogVVJMU2Vzc2lvbkRvd25sb2FkVGFzaywgZGlkV3JpdGVEYXRhIGJ5dGVzV3JpdHRlbjogSW50NjQsIHRvdGFsQnl0ZXNXcml0dGVuOiBJbnQ2NCwgdG90YWxCeXRlc0V4cGVjdGVkVG9Xcml0ZTogSW50NjQpCn0KcHVibGljIHByb3RvY29sIFVSTFNlc3Npb25TdHJlYW1EZWxlZ2F0ZSA6IE5TT2JqZWN0UHJvdG9jb2wsIFVSTFNlc3Npb25EZWxlZ2F0ZSwgVVJMU2Vzc2lvblRhc2tEZWxlZ2F0ZSwgXyB7CiAgICBmdW5jIHVybFNlc3Npb24oXyBzZXNzaW9uOiBVUkxTZXNzaW9uLCBiZXR0ZXJSb3V0ZURpc2NvdmVyZWRGb3Igc3RyZWFtVGFzazogVVJMU2Vzc2lvblN0cmVhbVRhc2spCiAgICBmdW5jIHVybFNlc3Npb24oXyBzZXNzaW9uOiBVUkxTZXNzaW9uLCByZWFkQ2xvc2VkRm9yIHN0cmVhbVRhc2s6IFVSTFNlc3Npb25TdHJlYW1UYXNrKQogICAgZnVuYyB1cmxTZXNzaW9uKF8gc2Vzc2lvbjogVVJMU2Vzc2lvbiwgc3RyZWFtVGFzazogVVJMU2Vzc2lvblN0cmVhbVRhc2ssIGRpZEJlY29tZSBpbnB1dFN0cmVhbTogSW5wdXRTdHJlYW0sIG91dHB1dFN0cmVhbTogT3V0cHV0U3RyZWFtKQogICAgZnVuYyB1cmxTZXNzaW9uKF8gc2Vzc2lvbjogVVJMU2Vzc2lvbiwgd3JpdGVDbG9zZWRGb3Igc3RyZWFtVGFzazogVVJMU2Vzc2lvblN0cmVhbVRhc2spCn0KcHVibGljIHByb3RvY29sIFVSTFNlc3Npb25UYXNrRGVsZWdhdGUgOiBOU09iamVjdFByb3RvY29sLCBVUkxTZXNzaW9uRGVsZWdhdGUsIF8gewogICAgZnVuYyB1cmxTZXNzaW9uKF8gc2Vzc2lvbjogVVJMU2Vzc2lvbiwgdGFzazogVVJMU2Vzc2lvblRhc2ssIGRpZENvbXBsZXRlV2l0aEVycm9yIGVycm9yOiBFcnJvcj8pCiAgICBmdW5jIHVybFNlc3Npb24oXyBzZXNzaW9uOiBVUkxTZXNzaW9uLCB0YXNrOiBVUkxTZXNzaW9uVGFzaywgZGlkUmVjZWl2ZSBjaGFsbGVuZ2U6IFVSTEF1dGhlbnRpY2F0aW9uQ2hhbGxlbmdlLCBjb21wbGV0aW9uSGFuZGxlcjogQGVzY2FwaW5nIChVUkxTZXNzaW9uLkF1dGhDaGFsbGVuZ2VEaXNwb3NpdGlvbiwgVVJMQ3JlZGVudGlhbD8pIC0+IFZvaWQpCiAgICBmdW5jIHVybFNlc3Npb24oXyBzZXNzaW9uOiBVUkxTZXNzaW9uLCB0YXNrOiBVUkxTZXNzaW9uVGFzaywgZGlkU2VuZEJvZHlEYXRhIGJ5dGVzU2VudDogSW50NjQsIHRvdGFsQnl0ZXNTZW50OiBJbnQ2NCwgdG90YWxCeXRlc0V4cGVjdGVkVG9TZW5kOiBJbnQ2NCkKICAgIGZ1bmMgdXJsU2Vzc2lvbihfIHNlc3Npb246IFVSTFNlc3Npb24sIHRhc2s6IFVSTFNlc3Npb25UYXNrLCBuZWVkTmV3Qm9keVN0cmVhbSBjb21wbGV0aW9uSGFuZGxlcjogQGVzY2FwaW5nIChJbnB1dFN0cmVhbT8pIC0+IFZvaWQpCiAgICBmdW5jIHVybFNlc3Npb24oXyBzZXNzaW9uOiBVUkxTZXNzaW9uLCB0YXNrOiBVUkxTZXNzaW9uVGFzaywgd2lsbEJlZ2luRGVsYXllZFJlcXVlc3QgcmVxdWVzdDogVVJMUmVxdWVzdCwgY29tcGxldGlvbkhhbmRsZXI6IEBlc2NhcGluZyAoVVJMU2Vzc2lvbi5EZWxheWVkUmVxdWVzdERpc3Bvc2l0aW9uLCBVUkxSZXF1ZXN0PykgLT4gVm9pZCkKICAgIGZ1bmMgdXJsU2Vzc2lvbihfIHNlc3Npb246IFVSTFNlc3Npb24sIHRhc2s6IFVSTFNlc3Npb25UYXNrLCB3aWxsUGVyZm9ybUhUVFBSZWRpcmVjdGlvbiByZXNwb25zZTogSFRUUFVSTFJlc3BvbnNlLCBuZXdSZXF1ZXN0IHJlcXVlc3Q6IFVSTFJlcXVlc3QsIGNvbXBsZXRpb25IYW5kbGVyOiBAZXNjYXBpbmcgKFVSTFJlcXVlc3Q/KSAtPiBWb2lkKQp9CnB1YmxpYyBwcm90b2NvbCBYTUxQYXJzZXJEZWxlZ2F0ZSA6IF8gewogICAgZnVuYyBwYXJzZXIoXyBwYXJzZXI6IFhNTFBhcnNlciwgZGlkRW5kRWxlbWVudCBlbGVtZW50TmFtZTogU3RyaW5nLCBuYW1lc3BhY2VVUkk6IFN0cmluZz8sIHF1YWxpZmllZE5hbWUgcU5hbWU6IFN0cmluZz8pCiAgICBmdW5jIHBhcnNlcihfIHBhcnNlcjogWE1MUGFyc2VyLCBkaWRFbmRNYXBwaW5nUHJlZml4IHByZWZpeDogU3RyaW5nKQogICAgZnVuYyBwYXJzZXIoXyBwYXJzZXI6IFhNTFBhcnNlciwgZGlkU3RhcnRFbGVtZW50IGVsZW1lbnROYW1lOiBTdHJpbmcsIG5hbWVzcGFjZVVSSTogU3RyaW5nPywgcXVhbGlmaWVkTmFtZSBxTmFtZTogU3RyaW5nPywgYXR0cmlidXRlcyBhdHRyaWJ1dGVEaWN0OiBbU3RyaW5nOiBTdHJpbmddKQogICAgZnVuYyBwYXJzZXIoXyBwYXJzZXI6IFhNTFBhcnNlciwgZGlkU3RhcnRNYXBwaW5nUHJlZml4IHByZWZpeDogU3RyaW5nLCB0b1VSSSBuYW1lc3BhY2VVUkk6IFN0cmluZykKICAgIGZ1bmMgcGFyc2VyKF8gcGFyc2VyOiBYTUxQYXJzZXIsIGZvdW5kQXR0cmlidXRlRGVjbGFyYXRpb25XaXRoTmFtZSBhdHRyaWJ1dGVOYW1lOiBTdHJpbmcsIGZvckVsZW1lbnQgZWxlbWVudE5hbWU6IFN0cmluZywgdHlwZTogU3RyaW5nPywgZGVmYXVsdFZhbHVlOiBTdHJpbmc/KQogICAgZnVuYyBwYXJzZXIoXyBwYXJzZXI6IFhNTFBhcnNlciwgZm91bmRDREFUQSBDREFUQUJsb2NrOiBEYXRhKQogICAgZnVuYyBwYXJzZXIoXyBwYXJzZXI6IFhNTFBhcnNlciwgZm91bmRDaGFyYWN0ZXJzIHN0cmluZzogU3RyaW5nKQogICAgZnVuYyBwYXJzZXIoXyBwYXJzZXI6IFhNTFBhcnNlciwgZm91bmRDb21tZW50IGNvbW1lbnQ6IFN0cmluZykKICAgIGZ1bmMgcGFyc2VyKF8gcGFyc2VyOiBYTUxQYXJzZXIsIGZvdW5kRWxlbWVudERlY2xhcmF0aW9uV2l0aE5hbWUgZWxlbWVudE5hbWU6IFN0cmluZywgbW9kZWw6IFN0cmluZykKICAgIGZ1bmMgcGFyc2VyKF8gcGFyc2VyOiBYTUxQYXJzZXIsIGZvdW5kRXh0ZXJuYWxFbnRpdHlEZWNsYXJhdGlvbldpdGhOYW1lIG5hbWU6IFN0cmluZywgcHVibGljSUQ6IFN0cmluZz8sIHN5c3RlbUlEOiBTdHJpbmc/KQogICAgZnVuYyBwYXJzZXIoXyBwYXJzZXI6IFhNTFBhcnNlciwgZm91bmRJZ25vcmFibGVXaGl0ZXNwYWNlIHdoaXRlc3BhY2VTdHJpbmc6IFN0cmluZykKICAgIGZ1bmMgcGFyc2VyKF8gcGFyc2VyOiBYTUxQYXJzZXIsIGZvdW5kSW50ZXJuYWxFbnRpdHlEZWNsYXJhdGlvbldpdGhOYW1lIG5hbWU6IFN0cmluZywgdmFsdWU6IFN0cmluZz8pCiAgICBmdW5jIHBhcnNlcihfIHBhcnNlcjogWE1MUGFyc2VyLCBmb3VuZE5vdGF0aW9uRGVjbGFyYXRpb25XaXRoTmFtZSBuYW1lOiBTdHJpbmcsIHB1YmxpY0lEOiBTdHJpbmc/LCBzeXN0ZW1JRDogU3RyaW5nPykKICAgIGZ1bmMgcGFyc2VyKF8gcGFyc2VyOiBYTUxQYXJzZXIsIGZvdW5kUHJvY2Vzc2luZ0luc3RydWN0aW9uV2l0aFRhcmdldCB0YXJnZXQ6IFN0cmluZywgZGF0YTogU3RyaW5nPykKICAgIGZ1bmMgcGFyc2VyKF8gcGFyc2VyOiBYTUxQYXJzZXIsIGZvdW5kVW5wYXJzZWRFbnRpdHlEZWNsYXJhdGlvbldpdGhOYW1lIG5hbWU6IFN0cmluZywgcHVibGljSUQ6IFN0cmluZz8sIHN5c3RlbUlEOiBTdHJpbmc/LCBub3RhdGlvbk5hbWU6IFN0cmluZz8pCiAgICBmdW5jIHBhcnNlcihfIHBhcnNlcjogWE1MUGFyc2VyLCBwYXJzZUVycm9yT2NjdXJyZWQgcGFyc2VFcnJvcjogRXJyb3IpCiAgICBmdW5jIHBhcnNlcihfIHBhcnNlcjogWE1MUGFyc2VyLCByZXNvbHZlRXh0ZXJuYWxFbnRpdHlOYW1lIG5hbWU6IFN0cmluZywgc3lzdGVtSUQ6IFN0cmluZz8pIC0+IERhdGE/CiAgICBmdW5jIHBhcnNlcihfIHBhcnNlcjogWE1MUGFyc2VyLCB2YWxpZGF0aW9uRXJyb3JPY2N1cnJlZCB2YWxpZGF0aW9uRXJyb3I6IEVycm9yKQogICAgZnVuYyBwYXJzZXJEaWRFbmREb2N1bWVudChfIHBhcnNlcjogWE1MUGFyc2VyKQogICAgZnVuYyBwYXJzZXJEaWRTdGFydERvY3VtZW50KF8gcGFyc2VyOiBYTUxQYXJzZXIpCn0KZXh0ZW5zaW9uIEFycmF5IHsKfQpleHRlbnNpb24gQm9vbCB7CiAgICBwdWJsaWMgaW5pdD8oZXhhY3RseSBudW1iZXI6IE5TTnVtYmVyKSB7fQogICAgcHVibGljIGluaXQodHJ1bmNhdGluZyBudW1iZXI6IE5TTnVtYmVyKSB7fQp9CmV4dGVuc2lvbiBDRkFycmF5IHsKfQpleHRlbnNpb24gQ0ZDYWxlbmRhciB7Cn0KZXh0ZW5zaW9uIENGQ2hhcmFjdGVyU2V0IHsKfQpleHRlbnNpb24gQ0ZEYXRhIHsKfQpleHRlbnNpb24gQ0ZEYXRlIHsKfQpleHRlbnNpb24gQ0ZEaWN0aW9uYXJ5IHsKfQpleHRlbnNpb24gQ0ZFcnJvciB7Cn0KZXh0ZW5zaW9uIENGS2V5ZWRBcmNoaXZlclVJRCB7Cn0KZXh0ZW5zaW9uIENGTG9jYWxlIHsKfQpleHRlbnNpb24gQ0ZOdW1iZXIgewp9CmV4dGVuc2lvbiBDRlNldCB7Cn0KZXh0ZW5zaW9uIENGU3RyaW5nIHsKfQpleHRlbnNpb24gQ0ZUaW1lWm9uZSB7Cn0KZXh0ZW5zaW9uIENGVVJMIHsKfQpleHRlbnNpb24gQ0ZVUkxTZXNzaW9uRWFzeUNvZGUgewogICAgcHVibGljIGZ1bmMgPT0obGhzOiBDRlVSTFNlc3Npb25FYXN5Q29kZSwgcmhzOiBDRlVSTFNlc3Npb25FYXN5Q29kZSkgLT4gQm9vbCB7fQp9CmV4dGVuc2lvbiBDRlVSTFNlc3Npb25JbmZvIHsKICAgIHB1YmxpYyB2YXIgZGVidWdIZWFkZXI6IFN0cmluZyB7IGdldCB9CiAgICBwdWJsaWMgZnVuYyA9PShsaHM6IENGVVJMU2Vzc2lvbkluZm8sIHJoczogQ0ZVUkxTZXNzaW9uSW5mbykgLT4gQm9vbCB7fQp9CmV4dGVuc2lvbiBDRlVSTFNlc3Npb25NdWx0aUNvZGUgewogICAgcHVibGljIGZ1bmMgPT0obGhzOiBDRlVSTFNlc3Npb25NdWx0aUNvZGUsIHJoczogQ0ZVUkxTZXNzaW9uTXVsdGlDb2RlKSAtPiBCb29sIHt9Cn0KZXh0ZW5zaW9uIENGVVJMU2Vzc2lvblBvbGwgewogICAgcHVibGljIGZ1bmMgPT0obGhzOiBDRlVSTFNlc3Npb25Qb2xsLCByaHM6IENGVVJMU2Vzc2lvblBvbGwpIC0+IEJvb2wge30KfQpleHRlbnNpb24gRGVjb2RpbmdFcnJvciB7Cn0KZXh0ZW5zaW9uIERpY3Rpb25hcnkgewp9CmV4dGVuc2lvbiBEb3VibGUgewogICAgcHVibGljIGluaXQoXyB2YWx1ZTogQ0dGbG9hdCkge30KICAgIHB1YmxpYyBpbml0PyhleGFjdGx5IG51bWJlcjogTlNOdW1iZXIpIHt9CiAgICBwdWJsaWMgaW5pdCh0cnVuY2F0aW5nIG51bWJlcjogTlNOdW1iZXIpIHt9Cn0KZXh0ZW5zaW9uIEVuY29kaW5nRXJyb3Igewp9CmV4dGVuc2lvbiBGbG9hdCB7CiAgICBwdWJsaWMgaW5pdChfIHZhbHVlOiBDR0Zsb2F0KSB7fQogICAgcHVibGljIGluaXQ/KGV4YWN0bHkgbnVtYmVyOiBOU051bWJlcikge30KICAgIHB1YmxpYyBpbml0KHRydW5jYXRpbmcgbnVtYmVyOiBOU051bWJlcikge30KfQpleHRlbnNpb24gSW50IHsKICAgIHB1YmxpYyBpbml0KF8gdmFsdWU6IENHRmxvYXQpIHt9CiAgICBwdWJsaWMgaW5pdD8oZXhhY3RseSBudW1iZXI6IE5TTnVtYmVyKSB7fQogICAgcHVibGljIGluaXQodHJ1bmNhdGluZyBudW1iZXI6IE5TTnVtYmVyKSB7fQp9CmV4dGVuc2lvbiBJbnQxNiB7CiAgICBwdWJsaWMgaW5pdChfIHZhbHVlOiBDR0Zsb2F0KSB7fQogICAgcHVibGljIGluaXQ/KGV4YWN0bHkgbnVtYmVyOiBOU051bWJlcikge30KICAgIHB1YmxpYyBpbml0KHRydW5jYXRpbmcgbnVtYmVyOiBOU051bWJlcikge30KfQpleHRlbnNpb24gSW50MzIgewogICAgcHVibGljIGluaXQoXyB2YWx1ZTogQ0dGbG9hdCkge30KICAgIHB1YmxpYyBpbml0PyhleGFjdGx5IG51bWJlcjogTlNOdW1iZXIpIHt9CiAgICBwdWJsaWMgaW5pdCh0cnVuY2F0aW5nIG51bWJlcjogTlNOdW1iZXIpIHt9Cn0KZXh0ZW5zaW9uIEludDY0IHsKICAgIHB1YmxpYyBpbml0KF8gdmFsdWU6IENHRmxvYXQpIHt9CiAgICBwdWJsaWMgaW5pdD8oZXhhY3RseSBudW1iZXI6IE5TTnVtYmVyKSB7fQogICAgcHVibGljIGluaXQodHJ1bmNhdGluZyBudW1iZXI6IE5TTnVtYmVyKSB7fQp9CmV4dGVuc2lvbiBJbnQ4IHsKICAgIHB1YmxpYyBpbml0KF8gdmFsdWU6IENHRmxvYXQpIHt9CiAgICBwdWJsaWMgaW5pdD8oZXhhY3RseSBudW1iZXI6IE5TTnVtYmVyKSB7fQogICAgcHVibGljIGluaXQodHJ1bmNhdGluZyBudW1iZXI6IE5TTnVtYmVyKSB7fQp9CmV4dGVuc2lvbiBNZWFzdXJlbWVudCB7CiAgICBwdWJsaWMgaW5pdChmcm9tIGRlY29kZXI6IERlY29kZXIpIHRocm93cyB7fQogICAgcHVibGljIHZhciBjdXN0b21NaXJyb3I6IE1pcnJvciB7IGdldCB9CiAgICBwdWJsaWMgdmFyIGRlYnVnRGVzY3JpcHRpb246IFN0cmluZyB7IGdldCB9CiAgICBwdWJsaWMgdmFyIGRlc2NyaXB0aW9uOiBTdHJpbmcgeyBnZXQgfQogICAgcHVibGljIGZ1bmMgKihsaHM6IERvdWJsZSwgcmhzOiBNZWFzdXJlbWVudDxVbml0VHlwZT4pIC0+IE1lYXN1cmVtZW50PFVuaXRUeXBlPiB7fQogICAgcHVibGljIGZ1bmMgKihsaHM6IE1lYXN1cmVtZW50PFVuaXRUeXBlPiwgcmhzOiBEb3VibGUpIC0+IE1lYXN1cmVtZW50PFVuaXRUeXBlPiB7fQogICAgcHVibGljIGZ1bmMgKyhsaHM6IE1lYXN1cmVtZW50PFVuaXRUeXBlPiwgcmhzOiBNZWFzdXJlbWVudDxVbml0VHlwZT4pIC0+IE1lYXN1cmVtZW50PFVuaXRUeXBlPiB7fQogICAgcHVibGljIGZ1bmMgKyhsaHM6IE1lYXN1cmVtZW50PFVuaXRUeXBlPiwgcmhzOiBNZWFzdXJlbWVudDxVbml0VHlwZT4pIC0+IE1lYXN1cmVtZW50PFVuaXRUeXBlPiB3aGVyZSBVbml0VHlwZSA6IERpbWVuc2lvbiB7fQogICAgcHVibGljIGZ1bmMgLShsaHM6IE1lYXN1cmVtZW50PFVuaXRUeXBlPiwgcmhzOiBNZWFzdXJlbWVudDxVbml0VHlwZT4pIC0+IE1lYXN1cmVtZW50PFVuaXRUeXBlPiB7fQogICAgcHVibGljIGZ1bmMgLShsaHM6IE1lYXN1cmVtZW50PFVuaXRUeXBlPiwgcmhzOiBNZWFzdXJlbWVudDxVbml0VHlwZT4pIC0+IE1lYXN1cmVtZW50PFVuaXRUeXBlPiB3aGVyZSBVbml0VHlwZSA6IERpbWVuc2lvbiB7fQogICAgcHVibGljIGZ1bmMgLyhsaHM6IERvdWJsZSwgcmhzOiBNZWFzdXJlbWVudDxVbml0VHlwZT4pIC0+IE1lYXN1cmVtZW50PFVuaXRUeXBlPiB7fQogICAgcHVibGljIGZ1bmMgLyhsaHM6IE1lYXN1cmVtZW50PFVuaXRUeXBlPiwgcmhzOiBEb3VibGUpIC0+IE1lYXN1cmVtZW50PFVuaXRUeXBlPiB7fQogICAgcHVibGljIGZ1bmMgPDxMZWZ0SGFuZFNpZGVUeXBlLCBSaWdodEhhbmRTaWRlVHlwZT4obGhzOiBNZWFzdXJlbWVudDxMZWZ0SGFuZFNpZGVUeXBlPiwgcmhzOiBNZWFzdXJlbWVudDxSaWdodEhhbmRTaWRlVHlwZT4pIC0+IEJvb2wge30KICAgIHB1YmxpYyBmdW5jID09PExlZnRIYW5kU2lkZVR5cGUsIFJpZ2h0SGFuZFNpZGVUeXBlPihsaHM6IE1lYXN1cmVtZW50PExlZnRIYW5kU2lkZVR5cGU+LCByaHM6IE1lYXN1cmVtZW50PFJpZ2h0SGFuZFNpZGVUeXBlPikgLT4gQm9vbCB7fQogICAgcHVibGljIG11dGF0aW5nIGZ1bmMgY29udmVydCh0byBvdGhlclVuaXQ6IFVuaXRUeXBlKSB3aGVyZSBVbml0VHlwZSA6IERpbWVuc2lvbiB7fQogICAgcHVibGljIGZ1bmMgY29udmVydGVkKHRvIG90aGVyVW5pdDogVW5pdFR5cGUpIC0+IE1lYXN1cmVtZW50PFVuaXRUeXBlPiB3aGVyZSBVbml0VHlwZSA6IERpbWVuc2lvbiB7fQogICAgcHVibGljIGZ1bmMgZW5jb2RlKHRvIGVuY29kZXI6IEVuY29kZXIpIHRocm93cyB7fQp9CmV4dGVuc2lvbiBPcHRpb25hbCB7Cn0KZXh0ZW5zaW9uIFJhbmdlIHsKICAgIHB1YmxpYyBpbml0PyhfIHJhbmdlOiBOU1JhbmdlKSB3aGVyZSBCb3VuZCA6IEJpbmFyeUludGVnZXIge30KICAgIHB1YmxpYyBpbml0PyhfIHJhbmdlOiBOU1JhbmdlLCBpbiBzdHJpbmc6IFN0cmluZykgd2hlcmUgQm91bmQgPT0gU3RyaW5nLkluZGV4IHt9Cn0KZXh0ZW5zaW9uIFNldCB7Cn0KZXh0ZW5zaW9uIFN0cmluZyB7CiAgICBwdWJsaWMgc3RhdGljIHZhciBhdmFpbGFibGVTdHJpbmdFbmNvZGluZ3M6IFtFbmNvZGluZ10geyBnZXQgfQogICAgcHVibGljIHN0YXRpYyB2YXIgZGVmYXVsdENTdHJpbmdFbmNvZGluZzogRW5jb2RpbmcgeyBnZXQgfQogICAgcHVibGljIHN0YXRpYyBmdW5jIGxvY2FsaXplZE5hbWUob2YgZW5jb2Rpbmc6IEVuY29kaW5nKSAtPiBTdHJpbmcge30KICAgIHB1YmxpYyBzdGF0aWMgZnVuYyBsb2NhbGl6ZWRTdHJpbmdXaXRoRm9ybWF0KF8gZm9ybWF0OiBTdHJpbmcsIF8gYXJndW1lbnRzOiBDVmFyQXJnLi4uKSAtPiBTdHJpbmcge30KICAgIHB1YmxpYyBpbml0PzxTPihieXRlczogUywgZW5jb2Rpbmc6IEVuY29kaW5nKSB3aGVyZSBTIDogU2VxdWVuY2UsIFMuSXRlcmF0b3IuRWxlbWVudCA9PSBVSW50OCB7fQogICAgcHVibGljIGluaXQ/KGJ5dGVzTm9Db3B5IGJ5dGVzOiBVbnNhZmVNdXRhYmxlUmF3UG9pbnRlciwgbGVuZ3RoOiBJbnQsIGVuY29kaW5nOiBFbmNvZGluZywgZnJlZVdoZW5Eb25lIGZsYWc6IEJvb2wpIHt9CiAgICBwdWJsaWMgaW5pdD8oY1N0cmluZzogVW5zYWZlUG9pbnRlcjxDQ2hhcj4sIGVuY29kaW5nIGVuYzogRW5jb2RpbmcpIHt9CiAgICBwdWJsaWMgaW5pdChjb250ZW50c09mIHVybDogVVJMKSB0aHJvd3Mge30KICAgIHB1YmxpYyBpbml0KGNvbnRlbnRzT2YgdXJsOiBVUkwsIGVuY29kaW5nIGVuYzogRW5jb2RpbmcpIHRocm93cyB7fQogICAgcHVibGljIGluaXQoY29udGVudHNPZiB1cmw6IFVSTCwgdXNlZEVuY29kaW5nOiBpbm91dCBFbmNvZGluZykgdGhyb3dzIHt9CiAgICBwdWJsaWMgaW5pdChjb250ZW50c09mRmlsZSBwYXRoOiBTdHJpbmcpIHRocm93cyB7fQogICAgcHVibGljIGluaXQoY29udGVudHNPZkZpbGUgcGF0aDogU3RyaW5nLCBlbmNvZGluZyBlbmM6IEVuY29kaW5nKSB0aHJvd3Mge30KICAgIHB1YmxpYyBpbml0KGNvbnRlbnRzT2ZGaWxlIHBhdGg6IFN0cmluZywgdXNlZEVuY29kaW5nOiBpbm91dCBFbmNvZGluZykgdGhyb3dzIHt9CiAgICBwdWJsaWMgaW5pdD8oZGF0YTogRGF0YSwgZW5jb2Rpbmc6IEVuY29kaW5nKSB7fQogICAgcHVibGljIGluaXQoZm9ybWF0OiBTdHJpbmcsIF8gYXJndW1lbnRzOiBDVmFyQXJnLi4uKSB7fQogICAgcHVibGljIGluaXQoZm9ybWF0OiBTdHJpbmcsIGFyZ3VtZW50czogW0NWYXJBcmddKSB7fQogICAgcHVibGljIGluaXQoZm9ybWF0OiBTdHJpbmcsIGxvY2FsZTogTG9jYWxlPywgXyBhcmdzOiBDVmFyQXJnLi4uKSB7fQogICAgcHVibGljIGluaXQoZm9ybWF0OiBTdHJpbmcsIGxvY2FsZTogTG9jYWxlPywgYXJndW1lbnRzOiBbQ1ZhckFyZ10pIHt9CiAgICBwdWJsaWMgaW5pdCh1dGYxNkNvZGVVbml0czogVW5zYWZlUG9pbnRlcjx1bmljaGFyPiwgY291bnQ6IEludCkge30KICAgIHB1YmxpYyBpbml0KHV0ZjE2Q29kZVVuaXRzTm9Db3B5OiBVbnNhZmVQb2ludGVyPHVuaWNoYXI+LCBjb3VudDogSW50LCBmcmVlV2hlbkRvbmUgZmxhZzogQm9vbCkge30KICAgIHB1YmxpYyBpbml0Pyh1dGY4U3RyaW5nIGJ5dGVzOiBVbnNhZmVQb2ludGVyPENDaGFyPikge30KfQpleHRlbnNpb24gU3RyaW5nLkVuY29kaW5nIHsKICAgIHB1YmxpYyB2YXIgZGVzY3JpcHRpb246IFN0cmluZyB7IGdldCB9CiAgICBwdWJsaWMgdmFyIGhhc2hWYWx1ZTogSW50IHsgZ2V0IH0KICAgIHB1YmxpYyBmdW5jID09KGxoczogU3RyaW5nLkVuY29kaW5nLCByaHM6IFN0cmluZy5FbmNvZGluZykgLT4gQm9vbCB7fQp9CmV4dGVuc2lvbiBTdHJpbmdQcm90b2NvbCB7CiAgICBwdWJsaWMgdmFyIGNhcGl0YWxpemVkOiBTdHJpbmcgeyBnZXQgfSB3aGVyZSBJbmRleCA9PSBTdHJpbmcuSW5kZXgKICAgIHB1YmxpYyB2YXIgZGVjb21wb3NlZFN0cmluZ1dpdGhDYW5vbmljYWxNYXBwaW5nOiBTdHJpbmcgeyBnZXQgfSB3aGVyZSBJbmRleCA9PSBTdHJpbmcuSW5kZXgKICAgIHB1YmxpYyB2YXIgZGVjb21wb3NlZFN0cmluZ1dpdGhDb21wYXRpYmlsaXR5TWFwcGluZzogU3RyaW5nIHsgZ2V0IH0gd2hlcmUgSW5kZXggPT0gU3RyaW5nLkluZGV4CiAgICBwdWJsaWMgdmFyIGZhc3Rlc3RFbmNvZGluZzogU3RyaW5nLkVuY29kaW5nIHsgZ2V0IH0gd2hlcmUgSW5kZXggPT0gU3RyaW5nLkluZGV4CiAgICBwdWJsaWMgdmFyIGhhc2g6IEludCB7IGdldCB9IHdoZXJlIEluZGV4ID09IFN0cmluZy5JbmRleAogICAgQGF2YWlsYWJsZShtYWNPUzEwLjExLCBpT1M5LjAsICopIHB1YmxpYyB2YXIgbG9jYWxpemVkQ2FwaXRhbGl6ZWQ6IFN0cmluZyB7IGdldCB9IHdoZXJlIEluZGV4ID09IFN0cmluZy5JbmRleAogICAgQGF2YWlsYWJsZShtYWNPUzEwLjExLCBpT1M5LjAsICopIHB1YmxpYyB2YXIgbG9jYWxpemVkTG93ZXJjYXNlOiBTdHJpbmcgeyBnZXQgfSB3aGVyZSBJbmRleCA9PSBTdHJpbmcuSW5kZXgKICAgIEBhdmFpbGFibGUobWFjT1MxMC4xMSwgaU9TOS4wLCAqKSBwdWJsaWMgdmFyIGxvY2FsaXplZFVwcGVyY2FzZTogU3RyaW5nIHsgZ2V0IH0gd2hlcmUgSW5kZXggPT0gU3RyaW5nLkluZGV4CiAgICBwdWJsaWMgdmFyIHByZWNvbXBvc2VkU3RyaW5nV2l0aENhbm9uaWNhbE1hcHBpbmc6IFN0cmluZyB7IGdldCB9IHdoZXJlIEluZGV4ID09IFN0cmluZy5JbmRleAogICAgcHVibGljIHZhciBwcmVjb21wb3NlZFN0cmluZ1dpdGhDb21wYXRpYmlsaXR5TWFwcGluZzogU3RyaW5nIHsgZ2V0IH0gd2hlcmUgSW5kZXggPT0gU3RyaW5nLkluZGV4CiAgICBwdWJsaWMgdmFyIHJlbW92aW5nUGVyY2VudEVuY29kaW5nOiBTdHJpbmc/IHsgZ2V0IH0gd2hlcmUgSW5kZXggPT0gU3RyaW5nLkluZGV4CiAgICBwdWJsaWMgdmFyIHNtYWxsZXN0RW5jb2Rpbmc6IFN0cmluZy5FbmNvZGluZyB7IGdldCB9IHdoZXJlIEluZGV4ID09IFN0cmluZy5JbmRleAogICAgcHVibGljIGZ1bmMgYWRkaW5nUGVyY2VudEVuY29kaW5nKHdpdGhBbGxvd2VkQ2hhcmFjdGVycyBhbGxvd2VkQ2hhcmFjdGVyczogQ2hhcmFjdGVyU2V0KSAtPiBTdHJpbmc/IHdoZXJlIEluZGV4ID09IFN0cmluZy5JbmRleCB7fQogICAgcHVibGljIGZ1bmMgYXBwZW5kaW5nPFQ+KF8gYVN0cmluZzogVCkgLT4gU3RyaW5nIHdoZXJlIFQgOiBTdHJpbmdQcm90b2NvbCwgSW5kZXggPT0gU3RyaW5nLkluZGV4IHt9CiAgICBwdWJsaWMgZnVuYyBhcHBlbmRpbmdGb3JtYXQ8VD4oXyBmb3JtYXQ6IFQsIF8gYXJndW1lbnRzOiBDVmFyQXJnLi4uKSAtPiBTdHJpbmcgd2hlcmUgVCA6IFN0cmluZ1Byb3RvY29sLCBJbmRleCA9PSBTdHJpbmcuSW5kZXgge30KI2lmICFERVBMT1lNRU5UX1JVTlRJTUVfU1dJRlQKICAgIEBhdmFpbGFibGUobWFjT1MxMC4xMSwgaU9TOS4wLCAqKSBwdWJsaWMgZnVuYyBhcHBseWluZ1RyYW5zZm9ybShfIHRyYW5zZm9ybTogU3RyaW5nVHJhbnNmb3JtLCByZXZlcnNlOiBCb29sKSAtPiBTdHJpbmc/IHdoZXJlIEluZGV4ID09IFN0cmluZy5JbmRleCB7fQojZW5kaWYKICAgIHB1YmxpYyBmdW5jIGNTdHJpbmcodXNpbmcgZW5jb2Rpbmc6IFN0cmluZy5FbmNvZGluZykgLT4gW0NDaGFyXT8gd2hlcmUgSW5kZXggPT0gU3RyaW5nLkluZGV4IHt9CiAgICBwdWJsaWMgZnVuYyBjYW5CZUNvbnZlcnRlZCh0byBlbmNvZGluZzogU3RyaW5nLkVuY29kaW5nKSAtPiBCb29sIHdoZXJlIEluZGV4ID09IFN0cmluZy5JbmRleCB7fQogICAgcHVibGljIGZ1bmMgY2FwaXRhbGl6ZWQod2l0aCBsb2NhbGU6IExvY2FsZT8pIC0+IFN0cmluZyB3aGVyZSBJbmRleCA9PSBTdHJpbmcuSW5kZXgge30KICAgIHB1YmxpYyBmdW5jIGNhc2VJbnNlbnNpdGl2ZUNvbXBhcmU8VD4oXyBhU3RyaW5nOiBUKSAtPiBDb21wYXJpc29uUmVzdWx0IHdoZXJlIFQgOiBTdHJpbmdQcm90b2NvbCwgSW5kZXggPT0gU3RyaW5nLkluZGV4IHt9CiAgICBwdWJsaWMgZnVuYyBjb21tb25QcmVmaXg8VD4od2l0aCBhU3RyaW5nOiBULCBvcHRpb25zOiBTdHJpbmcuQ29tcGFyZU9wdGlvbnMgPSB4KSAtPiBTdHJpbmcgd2hlcmUgVCA6IFN0cmluZ1Byb3RvY29sLCBJbmRleCA9PSBTdHJpbmcuSW5kZXgge30KICAgIHB1YmxpYyBmdW5jIGNvbXBhcmU8VD4oXyBhU3RyaW5nOiBULCBvcHRpb25zIG1hc2s6IFN0cmluZy5Db21wYXJlT3B0aW9ucyA9IHgsIHJhbmdlOiBSYW5nZTxJbmRleD4/ID0geCwgbG9jYWxlOiBMb2NhbGU/ID0geCkgLT4gQ29tcGFyaXNvblJlc3VsdCB3aGVyZSBUIDogU3RyaW5nUHJvdG9jb2wsIEluZGV4ID09IFN0cmluZy5JbmRleCB7fQogICAgcHVibGljIGZ1bmMgY29tcGxldGVQYXRoKGludG8gb3V0cHV0TmFtZTogVW5zYWZlTXV0YWJsZVBvaW50ZXI8U3RyaW5nPj8gPSB4LCBjYXNlU2Vuc2l0aXZlOiBCb29sLCBtYXRjaGVzSW50byBvdXRwdXRBcnJheTogVW5zYWZlTXV0YWJsZVBvaW50ZXI8W1N0cmluZ10+PyA9IHgsIGZpbHRlclR5cGVzOiBbU3RyaW5nXT8gPSB4KSAtPiBJbnQgd2hlcmUgSW5kZXggPT0gU3RyaW5nLkluZGV4IHt9CiAgICBwdWJsaWMgZnVuYyBjb21wb25lbnRzKHNlcGFyYXRlZEJ5IHNlcGFyYXRvcjogQ2hhcmFjdGVyU2V0KSAtPiBbU3RyaW5nXSB3aGVyZSBJbmRleCA9PSBTdHJpbmcuSW5kZXgge30KICAgIHB1YmxpYyBmdW5jIGNvbXBvbmVudHM8VD4oc2VwYXJhdGVkQnkgc2VwYXJhdG9yOiBUKSAtPiBbU3RyaW5nXSB3aGVyZSBUIDogU3RyaW5nUHJvdG9jb2wsIEluZGV4ID09IFN0cmluZy5JbmRleCB7fQogICAgcHVibGljIGZ1bmMgY29udGFpbnM8VD4oXyBvdGhlcjogVCkgLT4gQm9vbCB3aGVyZSBUIDogU3RyaW5nUHJvdG9jb2wsIEluZGV4ID09IFN0cmluZy5JbmRleCB7fQogICAgcHVibGljIGZ1bmMgZGF0YSh1c2luZyBlbmNvZGluZzogU3RyaW5nLkVuY29kaW5nLCBhbGxvd0xvc3N5Q29udmVyc2lvbjogQm9vbCA9IHgpIC0+IERhdGE/IHdoZXJlIEluZGV4ID09IFN0cmluZy5JbmRleCB7fQogICAgcHVibGljIGZ1bmMgZW51bWVyYXRlTGluZXMoaW52b2tpbmcgYm9keTogQGVzY2FwaW5nIChfIGxpbmU6IFN0cmluZywgXyBzdG9wOiBpbm91dCBCb29sKSAtPiBWb2lkKSB3aGVyZSBJbmRleCA9PSBTdHJpbmcuSW5kZXgge30KI2lmICFERVBMT1lNRU5UX1JVTlRJTUVfU1dJRlQKICAgIHB1YmxpYyBmdW5jIGVudW1lcmF0ZUxpbmd1aXN0aWNUYWdzPFQsIFI+KGluIHJhbmdlOiBSLCBzY2hlbWUgdGFnU2NoZW1lOiBULCBvcHRpb25zIG9wdHM6IE5TTGluZ3Vpc3RpY1RhZ2dlci5PcHRpb25zID0geCwgb3J0aG9ncmFwaHk6IE5TT3J0aG9ncmFwaHk/ID0geCwgaW52b2tpbmcgYm9keTogKFN0cmluZywgUmFuZ2U8SW5kZXg+LCBSYW5nZTxJbmRleD4sIGlub3V0IEJvb2wpIC0+IFZvaWQpIHdoZXJlIFIgOiBSYW5nZUV4cHJlc3Npb24sIFQgOiBTdHJpbmdQcm90b2NvbCwgSW5kZXggPT0gUi5Cb3VuZCwgSW5kZXggPT0gU3RyaW5nLkluZGV4IHt9CiNlbmRpZgogICAgcHVibGljIGZ1bmMgZW51bWVyYXRlU3Vic3RyaW5nczxSPihpbiByYW5nZTogUiwgb3B0aW9ucyBvcHRzOiBTdHJpbmcuRW51bWVyYXRpb25PcHRpb25zID0geCwgXyBib2R5OiBAZXNjYXBpbmcgKF8gc3Vic3RyaW5nOiBTdHJpbmc/LCBfIHN1YnN0cmluZ1JhbmdlOiBSYW5nZTxJbmRleD4sIF8gZW5jbG9zaW5nUmFuZ2U6IFJhbmdlPEluZGV4PiwgaW5vdXQgQm9vbCkgLT4gVm9pZCkgd2hlcmUgUiA6IFJhbmdlRXhwcmVzc2lvbiwgSW5kZXggPT0gUi5Cb3VuZCwgSW5kZXggPT0gU3RyaW5nLkluZGV4IHt9CiAgICBwdWJsaWMgZnVuYyBmb2xkaW5nKG9wdGlvbnM6IFN0cmluZy5Db21wYXJlT3B0aW9ucyA9IHgsIGxvY2FsZTogTG9jYWxlPykgLT4gU3RyaW5nIHdoZXJlIEluZGV4ID09IFN0cmluZy5JbmRleCB7fQogICAgcHVibGljIGZ1bmMgZ2V0Qnl0ZXM8Uj4oXyBidWZmZXI6IGlub3V0IFtVSW50OF0sIG1heExlbmd0aCBtYXhCdWZmZXJDb3VudDogSW50LCB1c2VkTGVuZ3RoIHVzZWRCdWZmZXJDb3VudDogVW5zYWZlTXV0YWJsZVBvaW50ZXI8SW50PiwgZW5jb2Rpbmc6IFN0cmluZy5FbmNvZGluZywgb3B0aW9uczogU3RyaW5nLkVuY29kaW5nQ29udmVyc2lvbk9wdGlvbnMgPSB4LCByYW5nZTogUiwgcmVtYWluaW5nIGxlZnRvdmVyOiBVbnNhZmVNdXRhYmxlUG9pbnRlcjxSYW5nZTxJbmRleD4+KSAtPiBCb29sIHdoZXJlIFIgOiBSYW5nZUV4cHJlc3Npb24sIEluZGV4ID09IFIuQm91bmQsIEluZGV4ID09IFN0cmluZy5JbmRleCB7fQogICAgcHVibGljIGZ1bmMgZ2V0Q1N0cmluZyhfIGJ1ZmZlcjogaW5vdXQgW0NDaGFyXSwgbWF4TGVuZ3RoOiBJbnQsIGVuY29kaW5nOiBTdHJpbmcuRW5jb2RpbmcpIC0+IEJvb2wgd2hlcmUgSW5kZXggPT0gU3RyaW5nLkluZGV4IHt9CiAgICBwdWJsaWMgZnVuYyBnZXRMaW5lU3RhcnQ8Uj4oXyBzdGFydDogVW5zYWZlTXV0YWJsZVBvaW50ZXI8SW5kZXg+LCBlbmQ6IFVuc2FmZU11dGFibGVQb2ludGVyPEluZGV4PiwgY29udGVudHNFbmQ6IFVuc2FmZU11dGFibGVQb2ludGVyPEluZGV4PiwgZm9yIHJhbmdlOiBSKSB3aGVyZSBSIDogUmFuZ2VFeHByZXNzaW9uLCBJbmRleCA9PSBSLkJvdW5kLCBJbmRleCA9PSBTdHJpbmcuSW5kZXgge30KICAgIHB1YmxpYyBmdW5jIGdldFBhcmFncmFwaFN0YXJ0PFI+KF8gc3RhcnQ6IFVuc2FmZU11dGFibGVQb2ludGVyPEluZGV4PiwgZW5kOiBVbnNhZmVNdXRhYmxlUG9pbnRlcjxJbmRleD4sIGNvbnRlbnRzRW5kOiBVbnNhZmVNdXRhYmxlUG9pbnRlcjxJbmRleD4sIGZvciByYW5nZTogUikgd2hlcmUgUiA6IFJhbmdlRXhwcmVzc2lvbiwgSW5kZXggPT0gUi5Cb3VuZCwgSW5kZXggPT0gU3RyaW5nLkluZGV4IHt9CiAgICBwdWJsaWMgZnVuYyBsZW5ndGhPZkJ5dGVzKHVzaW5nIGVuY29kaW5nOiBTdHJpbmcuRW5jb2RpbmcpIC0+IEludCB3aGVyZSBJbmRleCA9PSBTdHJpbmcuSW5kZXgge30KICAgIHB1YmxpYyBmdW5jIGxpbmVSYW5nZTxSPihmb3IgYVJhbmdlOiBSKSAtPiBSYW5nZTxJbmRleD4gd2hlcmUgUiA6IFJhbmdlRXhwcmVzc2lvbiwgSW5kZXggPT0gUi5Cb3VuZCwgSW5kZXggPT0gU3RyaW5nLkluZGV4IHt9CiNpZiAhREVQTE9ZTUVOVF9SVU5USU1FX1NXSUZUCiAgICBwdWJsaWMgZnVuYyBsaW5ndWlzdGljVGFnczxULCBSPihpbiByYW5nZTogUiwgc2NoZW1lIHRhZ1NjaGVtZTogVCwgb3B0aW9ucyBvcHRzOiBOU0xpbmd1aXN0aWNUYWdnZXIuT3B0aW9ucyA9IHgsIG9ydGhvZ3JhcGh5OiBOU09ydGhvZ3JhcGh5PyA9IHgsIHRva2VuUmFuZ2VzOiBVbnNhZmVNdXRhYmxlUG9pbnRlcjxbUmFuZ2U8SW5kZXg+XT4/ID0geCkgLT4gW1N0cmluZ10gd2hlcmUgUiA6IFJhbmdlRXhwcmVzc2lvbiwgVCA6IFN0cmluZ1Byb3RvY29sLCBJbmRleCA9PSBSLkJvdW5kLCBJbmRleCA9PSBTdHJpbmcuSW5kZXgge30KI2VuZGlmCiAgICBwdWJsaWMgZnVuYyBsb2NhbGl6ZWRDYXNlSW5zZW5zaXRpdmVDb21wYXJlPFQ+KF8gYVN0cmluZzogVCkgLT4gQ29tcGFyaXNvblJlc3VsdCB3aGVyZSBUIDogU3RyaW5nUHJvdG9jb2wsIEluZGV4ID09IFN0cmluZy5JbmRleCB7fQogICAgcHVibGljIGZ1bmMgbG9jYWxpemVkQ2FzZUluc2Vuc2l0aXZlQ29udGFpbnM8VD4oXyBvdGhlcjogVCkgLT4gQm9vbCB3aGVyZSBUIDogU3RyaW5nUHJvdG9jb2wsIEluZGV4ID09IFN0cmluZy5JbmRleCB7fQogICAgcHVibGljIGZ1bmMgbG9jYWxpemVkQ29tcGFyZTxUPihfIGFTdHJpbmc6IFQpIC0+IENvbXBhcmlzb25SZXN1bHQgd2hlcmUgVCA6IFN0cmluZ1Byb3RvY29sLCBJbmRleCA9PSBTdHJpbmcuSW5kZXgge30KICAgIHB1YmxpYyBmdW5jIGxvY2FsaXplZFN0YW5kYXJkQ29tcGFyZTxUPihfIHN0cmluZzogVCkgLT4gQ29tcGFyaXNvblJlc3VsdCB3aGVyZSBUIDogU3RyaW5nUHJvdG9jb2wsIEluZGV4ID09IFN0cmluZy5JbmRleCB7fQogICAgQGF2YWlsYWJsZShtYWNPUzEwLjExLCBpT1M5LjAsICopIHB1YmxpYyBmdW5jIGxvY2FsaXplZFN0YW5kYXJkQ29udGFpbnM8VD4oXyBzdHJpbmc6IFQpIC0+IEJvb2wgd2hlcmUgVCA6IFN0cmluZ1Byb3RvY29sLCBJbmRleCA9PSBTdHJpbmcuSW5kZXgge30KICAgIEBhdmFpbGFibGUobWFjT1MxMC4xMSwgaU9TOS4wLCAqKSBwdWJsaWMgZnVuYyBsb2NhbGl6ZWRTdGFuZGFyZFJhbmdlPFQ+KG9mIHN0cmluZzogVCkgLT4gUmFuZ2U8SW5kZXg+PyB3aGVyZSBUIDogU3RyaW5nUHJvdG9jb2wsIEluZGV4ID09IFN0cmluZy5JbmRleCB7fQogICAgcHVibGljIGZ1bmMgbG93ZXJjYXNlZCh3aXRoIGxvY2FsZTogTG9jYWxlPykgLT4gU3RyaW5nIHdoZXJlIEluZGV4ID09IFN0cmluZy5JbmRleCB7fQogICAgcHVibGljIGZ1bmMgbWF4aW11bUxlbmd0aE9mQnl0ZXModXNpbmcgZW5jb2Rpbmc6IFN0cmluZy5FbmNvZGluZykgLT4gSW50IHdoZXJlIEluZGV4ID09IFN0cmluZy5JbmRleCB7fQogICAgcHVibGljIGZ1bmMgcGFkZGluZzxUPih0b0xlbmd0aCBuZXdMZW5ndGg6IEludCwgd2l0aFBhZCBwYWRTdHJpbmc6IFQsIHN0YXJ0aW5nQXQgcGFkSW5kZXg6IEludCkgLT4gU3RyaW5nIHdoZXJlIFQgOiBTdHJpbmdQcm90b2NvbCwgSW5kZXggPT0gU3RyaW5nLkluZGV4IHt9CiNpZiAhREVQTE9ZTUVOVF9SVU5USU1FX1NXSUZUCiAgICBwdWJsaWMgZnVuYyBwYXJhZ3JhcGhSYW5nZTxSPihmb3IgYVJhbmdlOiBSKSAtPiBSYW5nZTxJbmRleD4gd2hlcmUgUiA6IFJhbmdlRXhwcmVzc2lvbiwgSW5kZXggPT0gUi5Cb3VuZCwgSW5kZXggPT0gU3RyaW5nLkluZGV4IHt9CiNlbmRpZgojaWYgIURFUExPWU1FTlRfUlVOVElNRV9TV0lGVAogICAgcHVibGljIGZ1bmMgcHJvcGVydHlMaXN0KCkgLT4gQW55IHdoZXJlIEluZGV4ID09IFN0cmluZy5JbmRleCB7fQojZW5kaWYKI2lmICFERVBMT1lNRU5UX1JVTlRJTUVfU1dJRlQKICAgIHB1YmxpYyBmdW5jIHByb3BlcnR5TGlzdEZyb21TdHJpbmdzRmlsZUZvcm1hdCgpIC0+IFtTdHJpbmc6IFN0cmluZ10gd2hlcmUgSW5kZXggPT0gU3RyaW5nLkluZGV4IHt9CiNlbmRpZgogICAgcHVibGljIGZ1bmMgcmFuZ2U8VD4ob2YgYVN0cmluZzogVCwgb3B0aW9ucyBtYXNrOiBTdHJpbmcuQ29tcGFyZU9wdGlvbnMgPSB4LCByYW5nZSBzZWFyY2hSYW5nZTogUmFuZ2U8SW5kZXg+PyA9IHgsIGxvY2FsZTogTG9jYWxlPyA9IHgpIC0+IFJhbmdlPEluZGV4Pj8gd2hlcmUgVCA6IFN0cmluZ1Byb3RvY29sLCBJbmRleCA9PSBTdHJpbmcuSW5kZXgge30KICAgIHB1YmxpYyBmdW5jIHJhbmdlT2ZDaGFyYWN0ZXIoZnJvbSBhU2V0OiBDaGFyYWN0ZXJTZXQsIG9wdGlvbnMgbWFzazogU3RyaW5nLkNvbXBhcmVPcHRpb25zID0geCwgcmFuZ2UgYVJhbmdlOiBSYW5nZTxJbmRleD4/ID0geCkgLT4gUmFuZ2U8SW5kZXg+PyB3aGVyZSBJbmRleCA9PSBTdHJpbmcuSW5kZXgge30KICAgIHB1YmxpYyBmdW5jIHJhbmdlT2ZDb21wb3NlZENoYXJhY3RlclNlcXVlbmNlKGF0IGFuSW5kZXg6IEluZGV4KSAtPiBSYW5nZTxJbmRleD4gd2hlcmUgSW5kZXggPT0gU3RyaW5nLkluZGV4IHt9CiAgICBwdWJsaWMgZnVuYyByYW5nZU9mQ29tcG9zZWRDaGFyYWN0ZXJTZXF1ZW5jZXM8Uj4oZm9yIHJhbmdlOiBSKSAtPiBSYW5nZTxJbmRleD4gd2hlcmUgUiA6IFJhbmdlRXhwcmVzc2lvbiwgSW5kZXggPT0gUi5Cb3VuZCwgSW5kZXggPT0gU3RyaW5nLkluZGV4IHt9CiAgICBwdWJsaWMgZnVuYyByZXBsYWNpbmdDaGFyYWN0ZXJzPFQsIFI+KGluIHJhbmdlOiBSLCB3aXRoIHJlcGxhY2VtZW50OiBUKSAtPiBTdHJpbmcgd2hlcmUgUiA6IFJhbmdlRXhwcmVzc2lvbiwgVCA6IFN0cmluZ1Byb3RvY29sLCBJbmRleCA9PSBSLkJvdW5kLCBJbmRleCA9PSBTdHJpbmcuSW5kZXgge30KICAgIHB1YmxpYyBmdW5jIHJlcGxhY2luZ09jY3VycmVuY2VzPFRhcmdldCwgUmVwbGFjZW1lbnQ+KG9mIHRhcmdldDogVGFyZ2V0LCB3aXRoIHJlcGxhY2VtZW50OiBSZXBsYWNlbWVudCwgb3B0aW9uczogU3RyaW5nLkNvbXBhcmVPcHRpb25zID0geCwgcmFuZ2Ugc2VhcmNoUmFuZ2U6IFJhbmdlPEluZGV4Pj8gPSB4KSAtPiBTdHJpbmcgd2hlcmUgUmVwbGFjZW1lbnQgOiBTdHJpbmdQcm90b2NvbCwgVGFyZ2V0IDogU3RyaW5nUHJvdG9jb2wsIEluZGV4ID09IFN0cmluZy5JbmRleCB7fQogICAgcHVibGljIGZ1bmMgdHJpbW1pbmdDaGFyYWN0ZXJzKGluIHNldDogQ2hhcmFjdGVyU2V0KSAtPiBTdHJpbmcgd2hlcmUgSW5kZXggPT0gU3RyaW5nLkluZGV4IHt9CiAgICBwdWJsaWMgZnVuYyB1cHBlcmNhc2VkKHdpdGggbG9jYWxlOiBMb2NhbGU/KSAtPiBTdHJpbmcgd2hlcmUgSW5kZXggPT0gU3RyaW5nLkluZGV4IHt9CiAgICBwdWJsaWMgZnVuYyB3cml0ZSh0byB1cmw6IFVSTCwgYXRvbWljYWxseSB1c2VBdXhpbGlhcnlGaWxlOiBCb29sLCBlbmNvZGluZyBlbmM6IFN0cmluZy5FbmNvZGluZykgdGhyb3dzIHdoZXJlIEluZGV4ID09IFN0cmluZy5JbmRleCB7fQogICAgcHVibGljIGZ1bmMgd3JpdGU8VD4odG9GaWxlIHBhdGg6IFQsIGF0b21pY2FsbHkgdXNlQXV4aWxpYXJ5RmlsZTogQm9vbCwgZW5jb2RpbmcgZW5jOiBTdHJpbmcuRW5jb2RpbmcpIHRocm93cyB3aGVyZSBUIDogU3RyaW5nUHJvdG9jb2wsIEluZGV4ID09IFN0cmluZy5JbmRleCB7fQp9CmV4dGVuc2lvbiBVSW50IHsKICAgIHB1YmxpYyBpbml0KF8gdmFsdWU6IENHRmxvYXQpIHt9CiAgICBwdWJsaWMgaW5pdD8oZXhhY3RseSBudW1iZXI6IE5TTnVtYmVyKSB7fQogICAgcHVibGljIGluaXQodHJ1bmNhdGluZyBudW1iZXI6IE5TTnVtYmVyKSB7fQp9CmV4dGVuc2lvbiBVSW50MTYgewogICAgcHVibGljIGluaXQoXyB2YWx1ZTogQ0dGbG9hdCkge30KICAgIHB1YmxpYyBpbml0PyhleGFjdGx5IG51bWJlcjogTlNOdW1iZXIpIHt9CiAgICBwdWJsaWMgaW5pdCh0cnVuY2F0aW5nIG51bWJlcjogTlNOdW1iZXIpIHt9Cn0KZXh0ZW5zaW9uIFVJbnQzMiB7CiAgICBwdWJsaWMgaW5pdChfIHZhbHVlOiBDR0Zsb2F0KSB7fQogICAgcHVibGljIGluaXQ/KGV4YWN0bHkgbnVtYmVyOiBOU051bWJlcikge30KICAgIHB1YmxpYyBpbml0KHRydW5jYXRpbmcgbnVtYmVyOiBOU051bWJlcikge30KfQpleHRlbnNpb24gVUludDY0IHsKICAgIHB1YmxpYyBpbml0KF8gdmFsdWU6IENHRmxvYXQpIHt9CiAgICBwdWJsaWMgaW5pdD8oZXhhY3RseSBudW1iZXI6IE5TTnVtYmVyKSB7fQogICAgcHVibGljIGluaXQodHJ1bmNhdGluZyBudW1iZXI6IE5TTnVtYmVyKSB7fQp9CmV4dGVuc2lvbiBVSW50OCB7CiAgICBwdWJsaWMgaW5pdChfIHZhbHVlOiBDR0Zsb2F0KSB7fQogICAgcHVibGljIGluaXQ/KGV4YWN0bHkgbnVtYmVyOiBOU051bWJlcikge30KICAgIHB1YmxpYyBpbml0KHRydW5jYXRpbmcgbnVtYmVyOiBOU051bWJlcikge30KfQ==")!, encoding: String.Encoding.utf8)!
        static let swift = String(data: Data(base64Encoded: "b3BlbiBjbGFzcyBNYW5hZ2VkQnVmZmVyPEhlYWRlciwgRWxlbWVudD4gewogICAgcHVibGljIGNsYXNzIGZ1bmMgY3JlYXRlKG1pbmltdW1DYXBhY2l0eTogSW50LCBtYWtpbmdIZWFkZXJXaXRoIGZhY3Rvcnk6IChNYW5hZ2VkQnVmZmVyPEhlYWRlciwgRWxlbWVudD4pIHRocm93cyAtPiBIZWFkZXIpIHJldGhyb3dzIC0+IE1hbmFnZWRCdWZmZXI8SGVhZGVyLCBFbGVtZW50PiB7fQogICAgcHVibGljIHZhciBjYXBhY2l0eTogSW50IHsgZ2V0IH0KICAgIHB1YmxpYyB2YXIgaGVhZGVyOiBIZWFkZXIgeyBnZXQgc2V0IH0KICAgIHB1YmxpYyBmdW5jIHdpdGhVbnNhZmVNdXRhYmxlUG9pbnRlclRvRWxlbWVudHM8Uj4oXyBib2R5OiAoVW5zYWZlTXV0YWJsZVBvaW50ZXI8RWxlbWVudD4pIHRocm93cyAtPiBSKSByZXRocm93cyAtPiBSIHt9CiAgICBwdWJsaWMgZnVuYyB3aXRoVW5zYWZlTXV0YWJsZVBvaW50ZXJUb0hlYWRlcjxSPihfIGJvZHk6IChVbnNhZmVNdXRhYmxlUG9pbnRlcjxIZWFkZXI+KSB0aHJvd3MgLT4gUikgcmV0aHJvd3MgLT4gUiB7fQogICAgcHVibGljIGZ1bmMgd2l0aFVuc2FmZU11dGFibGVQb2ludGVyczxSPihfIGJvZHk6IChVbnNhZmVNdXRhYmxlUG9pbnRlcjxIZWFkZXI+LCBVbnNhZmVNdXRhYmxlUG9pbnRlcjxFbGVtZW50PikgdGhyb3dzIC0+IFIpIHJldGhyb3dzIC0+IFIge30KfQpwdWJsaWMgcHJvdG9jb2wgQmlkaXJlY3Rpb25hbENvbGxlY3Rpb24gOiBDb2xsZWN0aW9uLCBTZXF1ZW5jZSB7CiAgICB2YXIgbGFzdDogRWxlbWVudD8geyBnZXQgfQogICAgdmFyIGxhc3Q6IEVsZW1lbnQ/IHsgZ2V0IH0KICAgIGZ1bmMgZm9ybUluZGV4KGJlZm9yZSBpOiBpbm91dCBJbmRleCkKICAgIGZ1bmMgaW5kZXgoYmVmb3JlIGk6IEluZGV4KSAtPiBJbmRleAogICAgZnVuYyBsYXN0KHdoZXJlIHByZWRpY2F0ZTogKEVsZW1lbnQpIHRocm93cyAtPiBCb29sKSByZXRocm93cyAtPiBFbGVtZW50PwogICAgZnVuYyBsYXN0SW5kZXgob2YgZWxlbWVudDogRWxlbWVudCkgLT4gSW5kZXg/IHdoZXJlIEVsZW1lbnQgOiBFcXVhdGFibGUKICAgIGZ1bmMgbGFzdEluZGV4KHdoZXJlIHByZWRpY2F0ZTogKEVsZW1lbnQpIHRocm93cyAtPiBCb29sKSByZXRocm93cyAtPiBJbmRleD8KICAgIG11dGF0aW5nIGZ1bmMgcG9wTGFzdCgpIC0+IEVsZW1lbnQ/IHdoZXJlIFNlbGYgPT0gU3ViU2VxdWVuY2UKICAgIEBkaXNjYXJkYWJsZVJlc3VsdCBtdXRhdGluZyBmdW5jIHJlbW92ZUxhc3QoKSAtPiBFbGVtZW50IHdoZXJlIFNlbGYgPT0gU3ViU2VxdWVuY2UKICAgIG11dGF0aW5nIGZ1bmMgcmVtb3ZlTGFzdChfIGs6IEludCkgd2hlcmUgU2VsZiA9PSBTdWJTZXF1ZW5jZQp9CnB1YmxpYyBwcm90b2NvbCBCaW5hcnlGbG9hdGluZ1BvaW50IDogQ29tcGFyYWJsZSwgRXF1YXRhYmxlLCBFeHByZXNzaWJsZUJ5RmxvYXRMaXRlcmFsLCBFeHByZXNzaWJsZUJ5SW50ZWdlckxpdGVyYWwsIEZsb2F0aW5nUG9pbnQsIEhhc2hhYmxlLCBOdW1lcmljLCBTaWduZWROdW1lcmljLCBTdHJpZGVhYmxlIHsKICAgIHN0YXRpYyB2YXIgZXhwb25lbnRCaXRDb3VudDogSW50IHsgZ2V0IH0KICAgIHN0YXRpYyB2YXIgc2lnbmlmaWNhbmRCaXRDb3VudDogSW50IHsgZ2V0IH0KICAgIHN0YXRpYyBmdW5jIHJhbmRvbShpbiByYW5nZTogQ2xvc2VkUmFuZ2U8U2VsZj4pIC0+IFNlbGYgd2hlcmUgUmF3U2lnbmlmaWNhbmQgOiBGaXhlZFdpZHRoSW50ZWdlcgogICAgc3RhdGljIGZ1bmMgcmFuZG9tPFQ+KGluIHJhbmdlOiBDbG9zZWRSYW5nZTxTZWxmPiwgdXNpbmcgZ2VuZXJhdG9yOiBpbm91dCBUKSAtPiBTZWxmIHdoZXJlIFJhd1NpZ25pZmljYW5kIDogRml4ZWRXaWR0aEludGVnZXIsIFQgOiBSYW5kb21OdW1iZXJHZW5lcmF0b3IKICAgIGluaXQoc2lnbjogRmxvYXRpbmdQb2ludFNpZ24sIGV4cG9uZW50Qml0UGF0dGVybjogUmF3RXhwb25lbnQsIHNpZ25pZmljYW5kQml0UGF0dGVybjogUmF3U2lnbmlmaWNhbmQpCiAgICB2YXIgYmluYWRlOiBTZWxmIHsgZ2V0IH0KICAgIHZhciBleHBvbmVudEJpdFBhdHRlcm46IFJhd0V4cG9uZW50IHsgZ2V0IH0KICAgIHZhciBzaWduaWZpY2FuZEJpdFBhdHRlcm46IFJhd1NpZ25pZmljYW5kIHsgZ2V0IH0KICAgIHZhciBzaWduaWZpY2FuZFdpZHRoOiBJbnQgeyBnZXQgfQp9CnB1YmxpYyBwcm90b2NvbCBCaW5hcnlJbnRlZ2VyIDogQ29tcGFyYWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgRXhwcmVzc2libGVCeUludGVnZXJMaXRlcmFsLCBIYXNoYWJsZSwgTnVtZXJpYywgU3RyaWRlYWJsZSB7CiAgICBzdGF0aWMgdmFyIGlzU2lnbmVkOiBCb29sIHsgZ2V0IH0KICAgIGluaXQoKQogICAgaW5pdDxUPihfIHNvdXJjZTogVCkgd2hlcmUgVCA6IEJpbmFyeUZsb2F0aW5nUG9pbnQKICAgIGluaXQ8VD4oXyBzb3VyY2U6IFQpIHdoZXJlIFQgOiBCaW5hcnlJbnRlZ2VyCiAgICBpbml0PFQ+KGNsYW1waW5nIHNvdXJjZTogVCkgd2hlcmUgVCA6IEJpbmFyeUludGVnZXIKICAgIGluaXQ8VD4odHJ1bmNhdGluZ0lmTmVlZGVkIHNvdXJjZTogVCkgd2hlcmUgVCA6IEJpbmFyeUludGVnZXIKICAgIHZhciBiaXRXaWR0aDogSW50IHsgZ2V0IH0KICAgIHZhciB0cmFpbGluZ1plcm9CaXRDb3VudDogSW50IHsgZ2V0IH0KICAgIHZhciB3b3JkczogV29yZHMgeyBnZXQgfQogICAgZnVuYyAlKGxoczogU2VsZiwgcmhzOiBTZWxmKSAtPiBTZWxmCiAgICBmdW5jICU9KGxoczogaW5vdXQgU2VsZiwgcmhzOiBTZWxmKQogICAgZnVuYyAmKGxoczogU2VsZiwgcmhzOiBTZWxmKSAtPiBTZWxmCiAgICBmdW5jICY9KGxoczogaW5vdXQgU2VsZiwgcmhzOiBTZWxmKQogICAgZnVuYyAvKGxoczogU2VsZiwgcmhzOiBTZWxmKSAtPiBTZWxmCiAgICBmdW5jIC89KGxoczogaW5vdXQgU2VsZiwgcmhzOiBTZWxmKQogICAgZnVuYyA8PDxSSFM+KGxoczogU2VsZiwgcmhzOiBSSFMpIC0+IFNlbGYgd2hlcmUgUkhTIDogQmluYXJ5SW50ZWdlcgogICAgZnVuYyA8PD08UkhTPihsaHM6IGlub3V0IFNlbGYsIHJoczogUkhTKSB3aGVyZSBSSFMgOiBCaW5hcnlJbnRlZ2VyCiAgICBmdW5jID4+PFJIUz4obGhzOiBTZWxmLCByaHM6IFJIUykgLT4gU2VsZiB3aGVyZSBSSFMgOiBCaW5hcnlJbnRlZ2VyCiAgICBmdW5jID4+PTxSSFM+KGxoczogaW5vdXQgU2VsZiwgcmhzOiBSSFMpIHdoZXJlIFJIUyA6IEJpbmFyeUludGVnZXIKICAgIGZ1bmMgXihsaHM6IFNlbGYsIHJoczogU2VsZikgLT4gU2VsZgogICAgZnVuYyBePShsaHM6IGlub3V0IFNlbGYsIHJoczogU2VsZikKICAgIGZ1bmMgcXVvdGllbnRBbmRSZW1haW5kZXIoZGl2aWRpbmdCeSByaHM6IFNlbGYpIC0+IChxdW90aWVudCA6IFNlbGYsIHJlbWFpbmRlciA6IFNlbGYpCiAgICBmdW5jIHF1b3RpZW50QW5kUmVtYWluZGVyKGRpdmlkaW5nQnkgcmhzOiBTZWxmKSAtPiAocXVvdGllbnQgOiBTZWxmLCByZW1haW5kZXIgOiBTZWxmKQogICAgZnVuYyBzaWdudW0oKSAtPiBTZWxmCiAgICBmdW5jIHwobGhzOiBTZWxmLCByaHM6IFNlbGYpIC0+IFNlbGYKICAgIGZ1bmMgfD0obGhzOiBpbm91dCBTZWxmLCByaHM6IFNlbGYpCiAgICBwcmVmaXggZnVuYyB+KHg6IFNlbGYpIC0+IFNlbGYKfQpwdWJsaWMgcHJvdG9jb2wgQ1ZhckFyZyB7Cn0KcHVibGljIHByb3RvY29sIENhc2VJdGVyYWJsZSB7CiAgICBzdGF0aWMgdmFyIGFsbENhc2VzOiBBbGxDYXNlcyB7IGdldCB9Cn0KcHVibGljIHByb3RvY29sIENvZGluZ0tleSA6IEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlIHsKICAgIGluaXQ/KGludFZhbHVlOiBJbnQpCiAgICBpbml0PyhzdHJpbmdWYWx1ZTogU3RyaW5nKQogICAgdmFyIGludFZhbHVlOiBJbnQ/IHsgZ2V0IH0KICAgIHZhciBzdHJpbmdWYWx1ZTogU3RyaW5nIHsgZ2V0IH0KfQpwdWJsaWMgcHJvdG9jb2wgQ29sbGVjdGlvbiA6IFNlcXVlbmNlIHsKICAgIHZhciBjb3VudDogSW50IHsgZ2V0IH0KICAgIHZhciBlbmRJbmRleDogSW5kZXggeyBnZXQgfQogICAgdmFyIGZpcnN0OiBFbGVtZW50PyB7IGdldCB9CiAgICB2YXIgaW5kaWNlczogRGVmYXVsdEluZGljZXM8U2VsZj4geyBnZXQgfSB3aGVyZSBEZWZhdWx0SW5kaWNlczxTZWxmPiA9PSBJbmRpY2VzCiAgICB2YXIgaW5kaWNlczogSW5kaWNlcyB7IGdldCB9CiAgICB2YXIgaXNFbXB0eTogQm9vbCB7IGdldCB9CiAgICB2YXIgaXNFbXB0eTogQm9vbCB7IGdldCB9CiAgICB2YXIgc3RhcnRJbmRleDogSW5kZXggeyBnZXQgfQogICAgc3Vic2NyaXB0KGJvdW5kczogUmFuZ2U8SW5kZXg+KSAtPiBTbGljZTxTZWxmPiB7IGdldCB9IHdoZXJlIFNsaWNlPFNlbGY+ID09IFN1YlNlcXVlbmNlCiAgICBzdWJzY3JpcHQoYm91bmRzOiBSYW5nZTxJbmRleD4pIC0+IFN1YlNlcXVlbmNlIHsgZ2V0IH0KICAgIHN1YnNjcmlwdChwb3NpdGlvbjogSW5kZXgpIC0+IEVsZW1lbnQgeyBnZXQgfQogICAgc3Vic2NyaXB0KHg6IFVuYm91bmRlZFJhbmdlKSAtPiBTdWJTZXF1ZW5jZSB7IGdldCB9CiAgICBzdWJzY3JpcHQ8Uj4ocjogUikgLT4gU3ViU2VxdWVuY2UgeyBnZXQgfSB3aGVyZSBSIDogUmFuZ2VFeHByZXNzaW9uLCBJbmRleCA9PSBSLkJvdW5kCiAgICBmdW5jIGRpc3RhbmNlKGZyb20gc3RhcnQ6IEluZGV4LCB0byBlbmQ6IEluZGV4KSAtPiBJbnQKICAgIGZ1bmMgZmlyc3RJbmRleChvZiBlbGVtZW50OiBFbGVtZW50KSAtPiBJbmRleD8gd2hlcmUgRWxlbWVudCA6IEVxdWF0YWJsZQogICAgZnVuYyBmaXJzdEluZGV4KHdoZXJlIHByZWRpY2F0ZTogKEVsZW1lbnQpIHRocm93cyAtPiBCb29sKSByZXRocm93cyAtPiBJbmRleD8KICAgIGZ1bmMgZm9ybUluZGV4KF8gaTogaW5vdXQgSW5kZXgsIG9mZnNldEJ5IGRpc3RhbmNlOiBJbnQpCiAgICBmdW5jIGZvcm1JbmRleChfIGk6IGlub3V0IEluZGV4LCBvZmZzZXRCeSBkaXN0YW5jZTogSW50LCBsaW1pdGVkQnkgbGltaXQ6IEluZGV4KSAtPiBCb29sCiAgICBmdW5jIGZvcm1JbmRleChhZnRlciBpOiBpbm91dCBJbmRleCkKICAgIGZ1bmMgaW5kZXgoXyBpOiBJbmRleCwgb2Zmc2V0QnkgZGlzdGFuY2U6IEludCkgLT4gSW5kZXgKICAgIGZ1bmMgaW5kZXgoXyBpOiBJbmRleCwgb2Zmc2V0QnkgZGlzdGFuY2U6IEludCwgbGltaXRlZEJ5IGxpbWl0OiBJbmRleCkgLT4gSW5kZXg/CiAgICBmdW5jIGluZGV4KGFmdGVyIGk6IEluZGV4KSAtPiBJbmRleAogICAgZnVuYyBpbmRleChvZiBfZWxlbWVudDogRWxlbWVudCkgLT4gSW5kZXg/IHdoZXJlIEVsZW1lbnQgOiBFcXVhdGFibGUKICAgIGZ1bmMgaW5kZXgod2hlcmUgX3ByZWRpY2F0ZTogKEVsZW1lbnQpIHRocm93cyAtPiBCb29sKSByZXRocm93cyAtPiBJbmRleD8KICAgIG11dGF0aW5nIGZ1bmMgcG9wRmlyc3QoKSAtPiBFbGVtZW50PyB3aGVyZSBTZWxmID09IFN1YlNlcXVlbmNlCiAgICBmdW5jIHByZWZpeCh0aHJvdWdoIHBvc2l0aW9uOiBJbmRleCkgLT4gU3ViU2VxdWVuY2UKICAgIGZ1bmMgcHJlZml4KHVwVG8gZW5kOiBJbmRleCkgLT4gU3ViU2VxdWVuY2UKICAgIGZ1bmMgcmFuZG9tRWxlbWVudCgpIC0+IEVsZW1lbnQ/CiAgICBmdW5jIHJhbmRvbUVsZW1lbnQ8VD4odXNpbmcgZ2VuZXJhdG9yOiBpbm91dCBUKSAtPiBFbGVtZW50PyB3aGVyZSBUIDogUmFuZG9tTnVtYmVyR2VuZXJhdG9yCiAgICBAZGlzY2FyZGFibGVSZXN1bHQgbXV0YXRpbmcgZnVuYyByZW1vdmVGaXJzdCgpIC0+IEVsZW1lbnQgd2hlcmUgU2VsZiA9PSBTdWJTZXF1ZW5jZQogICAgbXV0YXRpbmcgZnVuYyByZW1vdmVGaXJzdChfIGs6IEludCkgd2hlcmUgU2VsZiA9PSBTdWJTZXF1ZW5jZQogICAgZnVuYyBzdWZmaXgoZnJvbSBzdGFydDogSW5kZXgpIC0+IFN1YlNlcXVlbmNlCn0KcHVibGljIHByb3RvY29sIENvbXBhcmFibGUgOiBFcXVhdGFibGUgewogICAgcG9zdGZpeCBmdW5jIC4uLihtaW5pbXVtOiBTZWxmKSAtPiBQYXJ0aWFsUmFuZ2VGcm9tPFNlbGY+CiAgICBwcmVmaXggZnVuYyAuLi4obWF4aW11bTogU2VsZikgLT4gUGFydGlhbFJhbmdlVGhyb3VnaDxTZWxmPgogICAgZnVuYyAuLi4obWluaW11bTogU2VsZiwgbWF4aW11bTogU2VsZikgLT4gQ2xvc2VkUmFuZ2U8U2VsZj4KICAgIHByZWZpeCBmdW5jIC4uPChtYXhpbXVtOiBTZWxmKSAtPiBQYXJ0aWFsUmFuZ2VVcFRvPFNlbGY+CiAgICBmdW5jIC4uPChtaW5pbXVtOiBTZWxmLCBtYXhpbXVtOiBTZWxmKSAtPiBSYW5nZTxTZWxmPgogICAgZnVuYyA8KGxoczogU2VsZiwgcmhzOiBTZWxmKSAtPiBCb29sCiAgICBmdW5jIDw9KGxoczogU2VsZiwgcmhzOiBTZWxmKSAtPiBCb29sCiAgICBmdW5jIDw9KGxoczogU2VsZiwgcmhzOiBTZWxmKSAtPiBCb29sCiAgICBmdW5jID4obGhzOiBTZWxmLCByaHM6IFNlbGYpIC0+IEJvb2wKICAgIGZ1bmMgPihsaHM6IFNlbGYsIHJoczogU2VsZikgLT4gQm9vbAogICAgZnVuYyA+PShsaHM6IFNlbGYsIHJoczogU2VsZikgLT4gQm9vbAogICAgZnVuYyA+PShsaHM6IFNlbGYsIHJoczogU2VsZikgLT4gQm9vbAp9CnB1YmxpYyBwcm90b2NvbCBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlIHsKICAgIHZhciBkZWJ1Z0Rlc2NyaXB0aW9uOiBTdHJpbmcgeyBnZXQgfQp9CnB1YmxpYyBwcm90b2NvbCBDdXN0b21MZWFmUmVmbGVjdGFibGUgOiBDdXN0b21SZWZsZWN0YWJsZSB7Cn0KcHVibGljIHByb3RvY29sIEN1c3RvbVBsYXlncm91bmREaXNwbGF5Q29udmVydGlibGUgewogICAgdmFyIHBsYXlncm91bmREZXNjcmlwdGlvbjogQW55IHsgZ2V0IH0KfQpwdWJsaWMgcHJvdG9jb2wgQ3VzdG9tUmVmbGVjdGFibGUgewogICAgdmFyIGN1c3RvbU1pcnJvcjogTWlycm9yIHsgZ2V0IH0KfQpwdWJsaWMgcHJvdG9jb2wgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUgewogICAgdmFyIGRlc2NyaXB0aW9uOiBTdHJpbmcgeyBnZXQgfQp9CnB1YmxpYyBwcm90b2NvbCBEZWNvZGFibGUgewogICAgaW5pdChmcm9tIGRlY29kZXI6IERlY29kZXIpIHRocm93cwp9CnB1YmxpYyBwcm90b2NvbCBEZWNvZGVyIHsKICAgIHZhciBjb2RpbmdQYXRoOiBbQ29kaW5nS2V5XSB7IGdldCB9CiAgICB2YXIgdXNlckluZm86IFtDb2RpbmdVc2VySW5mb0tleTogQW55XSB7IGdldCB9CiAgICBmdW5jIGNvbnRhaW5lcjxLZXk+KGtleWVkQnkgdHlwZTogS2V5LlR5cGUpIHRocm93cyAtPiBLZXllZERlY29kaW5nQ29udGFpbmVyPEtleT4KICAgIGZ1bmMgc2luZ2xlVmFsdWVDb250YWluZXIoKSB0aHJvd3MgLT4gU2luZ2xlVmFsdWVEZWNvZGluZ0NvbnRhaW5lcgogICAgZnVuYyB1bmtleWVkQ29udGFpbmVyKCkgdGhyb3dzIC0+IFVua2V5ZWREZWNvZGluZ0NvbnRhaW5lcgp9CnB1YmxpYyBwcm90b2NvbCBFbmNvZGFibGUgewogICAgZnVuYyBlbmNvZGUodG8gZW5jb2RlcjogRW5jb2RlcikgdGhyb3dzCn0KcHVibGljIHByb3RvY29sIEVuY29kZXIgewogICAgdmFyIGNvZGluZ1BhdGg6IFtDb2RpbmdLZXldIHsgZ2V0IH0KICAgIHZhciB1c2VySW5mbzogW0NvZGluZ1VzZXJJbmZvS2V5OiBBbnldIHsgZ2V0IH0KICAgIGZ1bmMgY29udGFpbmVyPEtleT4oa2V5ZWRCeSB0eXBlOiBLZXkuVHlwZSkgLT4gS2V5ZWRFbmNvZGluZ0NvbnRhaW5lcjxLZXk+CiAgICBmdW5jIHNpbmdsZVZhbHVlQ29udGFpbmVyKCkgLT4gU2luZ2xlVmFsdWVFbmNvZGluZ0NvbnRhaW5lcgogICAgZnVuYyB1bmtleWVkQ29udGFpbmVyKCkgLT4gVW5rZXllZEVuY29kaW5nQ29udGFpbmVyCn0KcHVibGljIHByb3RvY29sIEVxdWF0YWJsZSB7CiAgICBmdW5jICE9KGxoczogU2VsZiwgcmhzOiBTZWxmKSAtPiBCb29sCiAgICBmdW5jID09KGxoczogU2VsZiwgcmhzOiBTZWxmKSAtPiBCb29sCn0KcHVibGljIHByb3RvY29sIEVycm9yIHsKfQpwdWJsaWMgcHJvdG9jb2wgRXhwcmVzc2libGVCeUFycmF5TGl0ZXJhbCB7CiAgICBpbml0KGFycmF5TGl0ZXJhbCBlbGVtZW50czogQXJyYXlMaXRlcmFsRWxlbWVudC4uLikKfQpwdWJsaWMgcHJvdG9jb2wgRXhwcmVzc2libGVCeUJvb2xlYW5MaXRlcmFsIHsKICAgIGluaXQoYm9vbGVhbkxpdGVyYWwgdmFsdWU6IEJvb2xlYW5MaXRlcmFsVHlwZSkKfQpwdWJsaWMgcHJvdG9jb2wgRXhwcmVzc2libGVCeURpY3Rpb25hcnlMaXRlcmFsIHsKICAgIGluaXQoZGljdGlvbmFyeUxpdGVyYWwgZWxlbWVudHM6IChLZXksIFZhbHVlKS4uLikKfQpwdWJsaWMgcHJvdG9jb2wgRXhwcmVzc2libGVCeUV4dGVuZGVkR3JhcGhlbWVDbHVzdGVyTGl0ZXJhbCA6IEV4cHJlc3NpYmxlQnlVbmljb2RlU2NhbGFyTGl0ZXJhbCB7CiAgICBpbml0KGV4dGVuZGVkR3JhcGhlbWVDbHVzdGVyTGl0ZXJhbCB2YWx1ZTogRXh0ZW5kZWRHcmFwaGVtZUNsdXN0ZXJMaXRlcmFsVHlwZSkKfQpwdWJsaWMgcHJvdG9jb2wgRXhwcmVzc2libGVCeUZsb2F0TGl0ZXJhbCB7CiAgICBpbml0KGZsb2F0TGl0ZXJhbCB2YWx1ZTogRmxvYXRMaXRlcmFsVHlwZSkKfQpwdWJsaWMgcHJvdG9jb2wgRXhwcmVzc2libGVCeUludGVnZXJMaXRlcmFsIHsKICAgIGluaXQoaW50ZWdlckxpdGVyYWwgdmFsdWU6IEludGVnZXJMaXRlcmFsVHlwZSkKfQpwdWJsaWMgcHJvdG9jb2wgRXhwcmVzc2libGVCeU5pbExpdGVyYWwgewogICAgaW5pdChuaWxMaXRlcmFsOiBWb2lkKQp9CnB1YmxpYyBwcm90b2NvbCBFeHByZXNzaWJsZUJ5U3RyaW5nTGl0ZXJhbCA6IEV4cHJlc3NpYmxlQnlFeHRlbmRlZEdyYXBoZW1lQ2x1c3RlckxpdGVyYWwsIEV4cHJlc3NpYmxlQnlVbmljb2RlU2NhbGFyTGl0ZXJhbCB7CiAgICBpbml0KHN0cmluZ0xpdGVyYWwgdmFsdWU6IFN0cmluZ0xpdGVyYWxUeXBlKQp9CnB1YmxpYyBwcm90b2NvbCBFeHByZXNzaWJsZUJ5VW5pY29kZVNjYWxhckxpdGVyYWwgewogICAgaW5pdCh1bmljb2RlU2NhbGFyTGl0ZXJhbCB2YWx1ZTogVW5pY29kZVNjYWxhckxpdGVyYWxUeXBlKQp9CnB1YmxpYyBwcm90b2NvbCBGaXhlZFdpZHRoSW50ZWdlciA6IEJpbmFyeUludGVnZXIsIENvbXBhcmFibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEV4cHJlc3NpYmxlQnlJbnRlZ2VyTGl0ZXJhbCwgSGFzaGFibGUsIExvc3NsZXNzU3RyaW5nQ29udmVydGlibGUsIE51bWVyaWMsIFN0cmlkZWFibGUsIF9CaXR3aXNlT3BlcmF0aW9ucyB7CiAgICBzdGF0aWMgdmFyIGJpdFdpZHRoOiBJbnQgeyBnZXQgfQogICAgc3RhdGljIHZhciBtYXg6IFNlbGYgeyBnZXQgfQogICAgc3RhdGljIHZhciBtaW46IFNlbGYgeyBnZXQgfQogICAgc3RhdGljIGZ1bmMgcmFuZG9tKGluIHJhbmdlOiBDbG9zZWRSYW5nZTxTZWxmPikgLT4gU2VsZgogICAgc3RhdGljIGZ1bmMgcmFuZG9tPFQ+KGluIHJhbmdlOiBDbG9zZWRSYW5nZTxTZWxmPiwgdXNpbmcgZ2VuZXJhdG9yOiBpbm91dCBUKSAtPiBTZWxmIHdoZXJlIFQgOiBSYW5kb21OdW1iZXJHZW5lcmF0b3IKICAgIGluaXQ/PFM+KF8gdGV4dDogUywgcmFkaXg6IEludCA9IHgpIHdoZXJlIFMgOiBTdHJpbmdQcm90b2NvbAogICAgaW5pdChiaWdFbmRpYW4gdmFsdWU6IFNlbGYpCiAgICBpbml0KGxpdHRsZUVuZGlhbiB2YWx1ZTogU2VsZikKICAgIHZhciBiaWdFbmRpYW46IFNlbGYgeyBnZXQgfQogICAgdmFyIGJ5dGVTd2FwcGVkOiBTZWxmIHsgZ2V0IH0KICAgIHZhciBsZWFkaW5nWmVyb0JpdENvdW50OiBJbnQgeyBnZXQgfQogICAgdmFyIGxpdHRsZUVuZGlhbjogU2VsZiB7IGdldCB9CiAgICB2YXIgbm9uemVyb0JpdENvdW50OiBJbnQgeyBnZXQgfQogICAgZnVuYyAmKihsaHM6IFNlbGYsIHJoczogU2VsZikgLT4gU2VsZgogICAgZnVuYyAmKj0obGhzOiBpbm91dCBTZWxmLCByaHM6IFNlbGYpCiAgICBmdW5jICYrKGxoczogU2VsZiwgcmhzOiBTZWxmKSAtPiBTZWxmCiAgICBmdW5jICYrPShsaHM6IGlub3V0IFNlbGYsIHJoczogU2VsZikKICAgIGZ1bmMgJi0obGhzOiBTZWxmLCByaHM6IFNlbGYpIC0+IFNlbGYKICAgIGZ1bmMgJi09KGxoczogaW5vdXQgU2VsZiwgcmhzOiBTZWxmKQogICAgZnVuYyAmPDwobGhzOiBTZWxmLCByaHM6IFNlbGYpIC0+IFNlbGYKICAgIGZ1bmMgJjw8PShsaHM6IGlub3V0IFNlbGYsIHJoczogU2VsZikKICAgIGZ1bmMgJj4+KGxoczogU2VsZiwgcmhzOiBTZWxmKSAtPiBTZWxmCiAgICBmdW5jICY+Pj0obGhzOiBpbm91dCBTZWxmLCByaHM6IFNlbGYpCiAgICBmdW5jIGFkZGluZ1JlcG9ydGluZ092ZXJmbG93KF8gcmhzOiBTZWxmKSAtPiAocGFydGlhbFZhbHVlIDogU2VsZiwgb3ZlcmZsb3cgOiBCb29sKQogICAgZnVuYyBkaXZpZGVkUmVwb3J0aW5nT3ZlcmZsb3coYnkgcmhzOiBTZWxmKSAtPiAocGFydGlhbFZhbHVlIDogU2VsZiwgb3ZlcmZsb3cgOiBCb29sKQogICAgZnVuYyBkaXZpZGluZ0Z1bGxXaWR0aChfIGRpdmlkZW5kOiAoaGlnaCA6IFNlbGYsIGxvdyA6IE1hZ25pdHVkZSkpIC0+IChxdW90aWVudCA6IFNlbGYsIHJlbWFpbmRlciA6IFNlbGYpCiAgICBmdW5jIG11bHRpcGxpZWRGdWxsV2lkdGgoYnkgb3RoZXI6IFNlbGYpIC0+IChoaWdoIDogU2VsZiwgbG93IDogTWFnbml0dWRlKQogICAgZnVuYyBtdWx0aXBsaWVkUmVwb3J0aW5nT3ZlcmZsb3coYnkgcmhzOiBTZWxmKSAtPiAocGFydGlhbFZhbHVlIDogU2VsZiwgb3ZlcmZsb3cgOiBCb29sKQogICAgZnVuYyByZW1haW5kZXJSZXBvcnRpbmdPdmVyZmxvdyhkaXZpZGluZ0J5IHJoczogU2VsZikgLT4gKHBhcnRpYWxWYWx1ZSA6IFNlbGYsIG92ZXJmbG93IDogQm9vbCkKICAgIGZ1bmMgc3VidHJhY3RpbmdSZXBvcnRpbmdPdmVyZmxvdyhfIHJoczogU2VsZikgLT4gKHBhcnRpYWxWYWx1ZSA6IFNlbGYsIG92ZXJmbG93IDogQm9vbCkKfQpwdWJsaWMgcHJvdG9jb2wgRmxvYXRpbmdQb2ludCA6IENvbXBhcmFibGUsIEVxdWF0YWJsZSwgRXhwcmVzc2libGVCeUludGVnZXJMaXRlcmFsLCBIYXNoYWJsZSwgTnVtZXJpYywgU2lnbmVkTnVtZXJpYywgU3RyaWRlYWJsZSB7CiAgICBzdGF0aWMgdmFyIGdyZWF0ZXN0RmluaXRlTWFnbml0dWRlOiBTZWxmIHsgZ2V0IH0KICAgIHN0YXRpYyB2YXIgaW5maW5pdHk6IFNlbGYgeyBnZXQgfQogICAgc3RhdGljIHZhciBsZWFzdE5vbnplcm9NYWduaXR1ZGU6IFNlbGYgeyBnZXQgfQogICAgc3RhdGljIHZhciBsZWFzdE5vcm1hbE1hZ25pdHVkZTogU2VsZiB7IGdldCB9CiAgICBzdGF0aWMgdmFyIG5hbjogU2VsZiB7IGdldCB9CiAgICBzdGF0aWMgdmFyIHBpOiBTZWxmIHsgZ2V0IH0KICAgIHN0YXRpYyB2YXIgcmFkaXg6IEludCB7IGdldCB9CiAgICBzdGF0aWMgdmFyIHNpZ25hbGluZ05hTjogU2VsZiB7IGdldCB9CiAgICBzdGF0aWMgdmFyIHVscE9mT25lOiBTZWxmIHsgZ2V0IH0KICAgIHN0YXRpYyBmdW5jIG1heGltdW0oXyB4OiBTZWxmLCBfIHk6IFNlbGYpIC0+IFNlbGYKICAgIHN0YXRpYyBmdW5jIG1heGltdW1NYWduaXR1ZGUoXyB4OiBTZWxmLCBfIHk6IFNlbGYpIC0+IFNlbGYKICAgIHN0YXRpYyBmdW5jIG1pbmltdW0oXyB4OiBTZWxmLCBfIHk6IFNlbGYpIC0+IFNlbGYKICAgIHN0YXRpYyBmdW5jIG1pbmltdW1NYWduaXR1ZGUoXyB4OiBTZWxmLCBfIHk6IFNlbGYpIC0+IFNlbGYKICAgIGluaXQoXyB2YWx1ZTogSW50KQogICAgaW5pdChzaWduOiBGbG9hdGluZ1BvaW50U2lnbiwgZXhwb25lbnQ6IEV4cG9uZW50LCBzaWduaWZpY2FuZDogU2VsZikKICAgIGluaXQoc2lnbk9mOiBTZWxmLCBtYWduaXR1ZGVPZjogU2VsZikKICAgIHZhciBleHBvbmVudDogRXhwb25lbnQgeyBnZXQgfQogICAgdmFyIGZsb2F0aW5nUG9pbnRDbGFzczogRmxvYXRpbmdQb2ludENsYXNzaWZpY2F0aW9uIHsgZ2V0IH0KICAgIHZhciBpc0Nhbm9uaWNhbDogQm9vbCB7IGdldCB9CiAgICB2YXIgaXNGaW5pdGU6IEJvb2wgeyBnZXQgfQogICAgdmFyIGlzSW5maW5pdGU6IEJvb2wgeyBnZXQgfQogICAgdmFyIGlzTmFOOiBCb29sIHsgZ2V0IH0KICAgIHZhciBpc05vcm1hbDogQm9vbCB7IGdldCB9CiAgICB2YXIgaXNTaWduYWxpbmdOYU46IEJvb2wgeyBnZXQgfQogICAgdmFyIGlzU3Vibm9ybWFsOiBCb29sIHsgZ2V0IH0KICAgIHZhciBpc1plcm86IEJvb2wgeyBnZXQgfQogICAgdmFyIG5leHREb3duOiBTZWxmIHsgZ2V0IH0KICAgIHZhciBuZXh0VXA6IFNlbGYgeyBnZXQgfQogICAgdmFyIHNpZ246IEZsb2F0aW5nUG9pbnRTaWduIHsgZ2V0IH0KICAgIHZhciBzaWduaWZpY2FuZDogU2VsZiB7IGdldCB9CiAgICB2YXIgdWxwOiBTZWxmIHsgZ2V0IH0KICAgIGZ1bmMgLyhsaHM6IFNlbGYsIHJoczogU2VsZikgLT4gU2VsZgogICAgZnVuYyAvPShsaHM6IGlub3V0IFNlbGYsIHJoczogU2VsZikKICAgIG11dGF0aW5nIGZ1bmMgYWRkUHJvZHVjdChfIGxoczogU2VsZiwgXyByaHM6IFNlbGYpCiAgICBmdW5jIGFkZGluZ1Byb2R1Y3QoXyBsaHM6IFNlbGYsIF8gcmhzOiBTZWxmKSAtPiBTZWxmCiAgICBtdXRhdGluZyBmdW5jIGZvcm1SZW1haW5kZXIoZGl2aWRpbmdCeSBvdGhlcjogU2VsZikKICAgIG11dGF0aW5nIGZ1bmMgZm9ybVNxdWFyZVJvb3QoKQogICAgbXV0YXRpbmcgZnVuYyBmb3JtVHJ1bmNhdGluZ1JlbWFpbmRlcihkaXZpZGluZ0J5IG90aGVyOiBTZWxmKQogICAgZnVuYyBpc0VxdWFsKHRvIG90aGVyOiBTZWxmKSAtPiBCb29sCiAgICBmdW5jIGlzTGVzcyh0aGFuIG90aGVyOiBTZWxmKSAtPiBCb29sCiAgICBmdW5jIGlzTGVzc1RoYW5PckVxdWFsVG8oXyBvdGhlcjogU2VsZikgLT4gQm9vbAogICAgZnVuYyBpc1RvdGFsbHlPcmRlcmVkKGJlbG93T3JFcXVhbFRvIG90aGVyOiBTZWxmKSAtPiBCb29sCiAgICBmdW5jIHJlbWFpbmRlcihkaXZpZGluZ0J5IG90aGVyOiBTZWxmKSAtPiBTZWxmCiAgICBtdXRhdGluZyBmdW5jIHJvdW5kKCkKICAgIG11dGF0aW5nIGZ1bmMgcm91bmQoXyBydWxlOiBGbG9hdGluZ1BvaW50Um91bmRpbmdSdWxlKQogICAgZnVuYyByb3VuZGVkKCkgLT4gU2VsZgogICAgZnVuYyByb3VuZGVkKF8gcnVsZTogRmxvYXRpbmdQb2ludFJvdW5kaW5nUnVsZSkgLT4gU2VsZgogICAgZnVuYyBzcXVhcmVSb290KCkgLT4gU2VsZgogICAgZnVuYyB0cnVuY2F0aW5nUmVtYWluZGVyKGRpdmlkaW5nQnkgb3RoZXI6IFNlbGYpIC0+IFNlbGYKfQpwdWJsaWMgcHJvdG9jb2wgSGFzaGFibGUgOiBFcXVhdGFibGUgewogICAgdmFyIGhhc2hWYWx1ZTogSW50IHsgZ2V0IH0KICAgIGZ1bmMgaGFzaChpbnRvIGhhc2hlcjogaW5vdXQgSGFzaGVyKQp9CnB1YmxpYyBwcm90b2NvbCBJdGVyYXRvclByb3RvY29sIHsKICAgIG11dGF0aW5nIGZ1bmMgbmV4dCgpIC0+IEVsZW1lbnQ/Cn0KcHVibGljIHByb3RvY29sIEtleWVkRGVjb2RpbmdDb250YWluZXJQcm90b2NvbCB7CiAgICB2YXIgYWxsS2V5czogW0tleV0geyBnZXQgfQogICAgdmFyIGNvZGluZ1BhdGg6IFtDb2RpbmdLZXldIHsgZ2V0IH0KICAgIGZ1bmMgY29udGFpbnMoXyBrZXk6IEtleSkgLT4gQm9vbAogICAgZnVuYyBkZWNvZGUoXyB0eXBlOiBCb29sLlR5cGUsIGZvcktleSBrZXk6IEtleSkgdGhyb3dzIC0+IEJvb2wKICAgIGZ1bmMgZGVjb2RlSWZQcmVzZW50KF8gdHlwZTogQm9vbC5UeXBlLCBmb3JLZXkga2V5OiBLZXkpIHRocm93cyAtPiBCb29sPwogICAgZnVuYyBkZWNvZGVOaWwoZm9yS2V5IGtleTogS2V5KSB0aHJvd3MgLT4gQm9vbAogICAgZnVuYyBuZXN0ZWRDb250YWluZXI8TmVzdGVkS2V5PihrZXllZEJ5IHR5cGU6IE5lc3RlZEtleS5UeXBlLCBmb3JLZXkga2V5OiBLZXkpIHRocm93cyAtPiBLZXllZERlY29kaW5nQ29udGFpbmVyPE5lc3RlZEtleT4KICAgIGZ1bmMgbmVzdGVkVW5rZXllZENvbnRhaW5lcihmb3JLZXkga2V5OiBLZXkpIHRocm93cyAtPiBVbmtleWVkRGVjb2RpbmdDb250YWluZXIKICAgIGZ1bmMgc3VwZXJEZWNvZGVyKCkgdGhyb3dzIC0+IERlY29kZXIKICAgIGZ1bmMgc3VwZXJEZWNvZGVyKGZvcktleSBrZXk6IEtleSkgdGhyb3dzIC0+IERlY29kZXIKfQpwdWJsaWMgcHJvdG9jb2wgS2V5ZWRFbmNvZGluZ0NvbnRhaW5lclByb3RvY29sIHsKICAgIHZhciBjb2RpbmdQYXRoOiBbQ29kaW5nS2V5XSB7IGdldCB9CiAgICBtdXRhdGluZyBmdW5jIGVuY29kZShfIHZhbHVlOiBCb29sLCBmb3JLZXkga2V5OiBLZXkpIHRocm93cwogICAgbXV0YXRpbmcgZnVuYyBlbmNvZGVDb25kaXRpb25hbDxUPihfIG9iamVjdDogVCwgZm9yS2V5IGtleTogS2V5KSB0aHJvd3Mgd2hlcmUgVCA6IEFueU9iamVjdCAmIEVuY29kYWJsZQogICAgbXV0YXRpbmcgZnVuYyBlbmNvZGVJZlByZXNlbnQoXyB2YWx1ZTogQm9vbD8sIGZvcktleSBrZXk6IEtleSkgdGhyb3dzCiAgICBtdXRhdGluZyBmdW5jIGVuY29kZU5pbChmb3JLZXkga2V5OiBLZXkpIHRocm93cwogICAgbXV0YXRpbmcgZnVuYyBuZXN0ZWRDb250YWluZXI8TmVzdGVkS2V5PihrZXllZEJ5IGtleVR5cGU6IE5lc3RlZEtleS5UeXBlLCBmb3JLZXkga2V5OiBLZXkpIC0+IEtleWVkRW5jb2RpbmdDb250YWluZXI8TmVzdGVkS2V5PgogICAgbXV0YXRpbmcgZnVuYyBuZXN0ZWRVbmtleWVkQ29udGFpbmVyKGZvcktleSBrZXk6IEtleSkgLT4gVW5rZXllZEVuY29kaW5nQ29udGFpbmVyCiAgICBtdXRhdGluZyBmdW5jIHN1cGVyRW5jb2RlcigpIC0+IEVuY29kZXIKICAgIG11dGF0aW5nIGZ1bmMgc3VwZXJFbmNvZGVyKGZvcktleSBrZXk6IEtleSkgLT4gRW5jb2Rlcgp9CnB1YmxpYyBwcm90b2NvbCBMYXp5Q29sbGVjdGlvblByb3RvY29sIDogQ29sbGVjdGlvbiwgTGF6eVNlcXVlbmNlUHJvdG9jb2wsIFNlcXVlbmNlIHsKfQpwdWJsaWMgcHJvdG9jb2wgTGF6eVNlcXVlbmNlUHJvdG9jb2wgOiBTZXF1ZW5jZSB7CiAgICB2YXIgZWxlbWVudHM6IEVsZW1lbnRzIHsgZ2V0IH0KICAgIHZhciBlbGVtZW50czogU2VsZiB7IGdldCB9IHdoZXJlIEVsZW1lbnRzID09IFNlbGYKfQpwdWJsaWMgcHJvdG9jb2wgTG9zc2xlc3NTdHJpbmdDb252ZXJ0aWJsZSA6IEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlIHsKICAgIGluaXQ/KF8gZGVzY3JpcHRpb246IFN0cmluZykKfQpwdWJsaWMgcHJvdG9jb2wgTWlycm9yUGF0aCB7Cn0KcHVibGljIHByb3RvY29sIE11dGFibGVDb2xsZWN0aW9uIDogQ29sbGVjdGlvbiwgU2VxdWVuY2UgewogICAgbXV0YXRpbmcgZnVuYyBwYXJ0aXRpb24oYnkgYmVsb25nc0luU2Vjb25kUGFydGl0aW9uOiAoRWxlbWVudCkgdGhyb3dzIC0+IEJvb2wpIHJldGhyb3dzIC0+IEluZGV4CiAgICBtdXRhdGluZyBmdW5jIHJldmVyc2UoKSB3aGVyZSBTZWxmIDogQmlkaXJlY3Rpb25hbENvbGxlY3Rpb24KICAgIG11dGF0aW5nIGZ1bmMgc2h1ZmZsZSgpIHdoZXJlIFNlbGYgOiBSYW5kb21BY2Nlc3NDb2xsZWN0aW9uCiAgICBtdXRhdGluZyBmdW5jIHNodWZmbGU8VD4odXNpbmcgZ2VuZXJhdG9yOiBpbm91dCBUKSB3aGVyZSBTZWxmIDogUmFuZG9tQWNjZXNzQ29sbGVjdGlvbiwgVCA6IFJhbmRvbU51bWJlckdlbmVyYXRvcgogICAgbXV0YXRpbmcgZnVuYyBzb3J0KCkgd2hlcmUgRWxlbWVudCA6IENvbXBhcmFibGUsIFNlbGYgOiBSYW5kb21BY2Nlc3NDb2xsZWN0aW9uCiAgICBtdXRhdGluZyBmdW5jIHNvcnQoYnkgYXJlSW5JbmNyZWFzaW5nT3JkZXI6IChFbGVtZW50LCBFbGVtZW50KSB0aHJvd3MgLT4gQm9vbCkgcmV0aHJvd3Mgd2hlcmUgU2VsZiA6IFJhbmRvbUFjY2Vzc0NvbGxlY3Rpb24KICAgIG11dGF0aW5nIGZ1bmMgc3dhcEF0KF8gaTogSW5kZXgsIF8gajogSW5kZXgpCiAgICBtdXRhdGluZyBmdW5jIHN3YXBBdChfIGk6IEluZGV4LCBfIGo6IEluZGV4KQp9CnB1YmxpYyBwcm90b2NvbCBOdW1lcmljIDogRXF1YXRhYmxlLCBFeHByZXNzaWJsZUJ5SW50ZWdlckxpdGVyYWwgewogICAgaW5pdD88VD4oZXhhY3RseSBzb3VyY2U6IFQpIHdoZXJlIFQgOiBCaW5hcnlJbnRlZ2VyCiAgICB2YXIgbWFnbml0dWRlOiBNYWduaXR1ZGUgeyBnZXQgfQogICAgZnVuYyAqKGxoczogU2VsZiwgcmhzOiBTZWxmKSAtPiBTZWxmCiAgICBmdW5jICo9KGxoczogaW5vdXQgU2VsZiwgcmhzOiBTZWxmKQogICAgcHJlZml4IGZ1bmMgKyh4OiBTZWxmKSAtPiBTZWxmCiAgICBmdW5jICsobGhzOiBTZWxmLCByaHM6IFNlbGYpIC0+IFNlbGYKICAgIGZ1bmMgKz0obGhzOiBpbm91dCBTZWxmLCByaHM6IFNlbGYpCiAgICBmdW5jIC0obGhzOiBTZWxmLCByaHM6IFNlbGYpIC0+IFNlbGYKICAgIGZ1bmMgLT0obGhzOiBpbm91dCBTZWxmLCByaHM6IFNlbGYpCn0KcHVibGljIHByb3RvY29sIE9wdGlvblNldCA6IEVxdWF0YWJsZSwgRXhwcmVzc2libGVCeUFycmF5TGl0ZXJhbCwgUmF3UmVwcmVzZW50YWJsZSwgU2V0QWxnZWJyYSB7Cn0KcHVibGljIHByb3RvY29sIFJhbmRvbUFjY2Vzc0NvbGxlY3Rpb24gOiBCaWRpcmVjdGlvbmFsQ29sbGVjdGlvbiwgQ29sbGVjdGlvbiwgU2VxdWVuY2Ugewp9CnB1YmxpYyBwcm90b2NvbCBSYW5kb21OdW1iZXJHZW5lcmF0b3IgewogICAgbXV0YXRpbmcgZnVuYyBuZXh0KCkgLT4gVUludDY0CiAgICBtdXRhdGluZyBmdW5jIG5leHQ8VD4oKSAtPiBUIHdoZXJlIFQgOiBGaXhlZFdpZHRoSW50ZWdlciAmIFVuc2lnbmVkSW50ZWdlcgogICAgbXV0YXRpbmcgZnVuYyBuZXh0PFQ+KHVwcGVyQm91bmQ6IFQpIC0+IFQgd2hlcmUgVCA6IEZpeGVkV2lkdGhJbnRlZ2VyICYgVW5zaWduZWRJbnRlZ2VyCn0KcHVibGljIHByb3RvY29sIFJhbmdlRXhwcmVzc2lvbiB7CiAgICBmdW5jIGNvbnRhaW5zKF8gZWxlbWVudDogQm91bmQpIC0+IEJvb2wKICAgIGZ1bmMgcmVsYXRpdmU8Qz4odG8gY29sbGVjdGlvbjogQykgLT4gUmFuZ2U8Qm91bmQ+IHdoZXJlIEMgOiBDb2xsZWN0aW9uLCBCb3VuZCA9PSBDLkluZGV4CiAgICBmdW5jIH49KHBhdHRlcm46IFNlbGYsIHZhbHVlOiBCb3VuZCkgLT4gQm9vbAp9CnB1YmxpYyBwcm90b2NvbCBSYW5nZVJlcGxhY2VhYmxlQ29sbGVjdGlvbiA6IENvbGxlY3Rpb24sIFNlcXVlbmNlIHsKICAgIGluaXQoKQogICAgaW5pdDxTPihfIGVsZW1lbnRzOiBTKSB3aGVyZSBTIDogU2VxdWVuY2UsIEVsZW1lbnQgPT0gUy5FbGVtZW50CiAgICBpbml0PFM+KF8gZWxlbWVudHM6IFMpIHdoZXJlIFMgOiBTZXF1ZW5jZSwgRWxlbWVudCA9PSBTLkVsZW1lbnQKICAgIGluaXQocmVwZWF0aW5nIHJlcGVhdGVkVmFsdWU6IEVsZW1lbnQsIGNvdW50OiBJbnQpCiAgICBpbml0KHJlcGVhdGluZyByZXBlYXRlZFZhbHVlOiBFbGVtZW50LCBjb3VudDogSW50KQogICAgZnVuYyArPE90aGVyPihsaHM6IE90aGVyLCByaHM6IFNlbGYpIC0+IFNlbGYgd2hlcmUgT3RoZXIgOiBTZXF1ZW5jZSwgRWxlbWVudCA9PSBPdGhlci5FbGVtZW50CiAgICBmdW5jICs8T3RoZXI+KGxoczogU2VsZiwgcmhzOiBPdGhlcikgLT4gU2VsZiB3aGVyZSBPdGhlciA6IFJhbmdlUmVwbGFjZWFibGVDb2xsZWN0aW9uLCBFbGVtZW50ID09IE90aGVyLkVsZW1lbnQKICAgIGZ1bmMgKzxPdGhlcj4obGhzOiBTZWxmLCByaHM6IE90aGVyKSAtPiBTZWxmIHdoZXJlIE90aGVyIDogU2VxdWVuY2UsIEVsZW1lbnQgPT0gT3RoZXIuRWxlbWVudAogICAgZnVuYyArPTxPdGhlcj4obGhzOiBpbm91dCBTZWxmLCByaHM6IE90aGVyKSB3aGVyZSBPdGhlciA6IFNlcXVlbmNlLCBFbGVtZW50ID09IE90aGVyLkVsZW1lbnQKICAgIG11dGF0aW5nIGZ1bmMgYXBwZW5kKF8gbmV3RWxlbWVudDogRWxlbWVudCkKICAgIG11dGF0aW5nIGZ1bmMgYXBwZW5kPFM+KGNvbnRlbnRzT2YgbmV3RWxlbWVudHM6IFMpIHdoZXJlIFMgOiBTZXF1ZW5jZSwgRWxlbWVudCA9PSBTLkVsZW1lbnQKICAgIG11dGF0aW5nIGZ1bmMgaW5zZXJ0KF8gbmV3RWxlbWVudDogRWxlbWVudCwgYXQgaTogSW5kZXgpCiAgICBtdXRhdGluZyBmdW5jIGluc2VydDxDPihjb250ZW50c09mIG5ld0VsZW1lbnRzOiBDLCBhdCBpOiBJbmRleCkgd2hlcmUgQyA6IENvbGxlY3Rpb24sIEMuRWxlbWVudCA9PSBFbGVtZW50CiAgICBtdXRhdGluZyBmdW5jIHBvcExhc3QoKSAtPiBFbGVtZW50PyB3aGVyZSBTZWxmIDogQmlkaXJlY3Rpb25hbENvbGxlY3Rpb24KICAgIEBkaXNjYXJkYWJsZVJlc3VsdCBtdXRhdGluZyBmdW5jIHJlbW92ZShhdCBpOiBJbmRleCkgLT4gRWxlbWVudAogICAgQGRpc2NhcmRhYmxlUmVzdWx0IG11dGF0aW5nIGZ1bmMgcmVtb3ZlKGF0IHBvc2l0aW9uOiBJbmRleCkgLT4gRWxlbWVudAogICAgbXV0YXRpbmcgZnVuYyByZW1vdmVBbGwoa2VlcGluZ0NhcGFjaXR5IGtlZXBDYXBhY2l0eTogQm9vbCA9IHgpCiAgICBtdXRhdGluZyBmdW5jIHJlbW92ZUFsbCh3aGVyZSBwcmVkaWNhdGU6IChFbGVtZW50KSB0aHJvd3MgLT4gQm9vbCkgcmV0aHJvd3MKICAgIG11dGF0aW5nIGZ1bmMgcmVtb3ZlQWxsKHdoZXJlIHByZWRpY2F0ZTogKEVsZW1lbnQpIHRocm93cyAtPiBCb29sKSByZXRocm93cwogICAgbXV0YXRpbmcgZnVuYyByZW1vdmVBbGwod2hlcmUgcHJlZGljYXRlOiAoRWxlbWVudCkgdGhyb3dzIC0+IEJvb2wpIHJldGhyb3dzIHdoZXJlIFNlbGYgOiBNdXRhYmxlQ29sbGVjdGlvbgogICAgQGRpc2NhcmRhYmxlUmVzdWx0IG11dGF0aW5nIGZ1bmMgcmVtb3ZlTGFzdCgpIC0+IEVsZW1lbnQgd2hlcmUgU2VsZiA6IEJpZGlyZWN0aW9uYWxDb2xsZWN0aW9uCiAgICBtdXRhdGluZyBmdW5jIHJlbW92ZUxhc3QoXyBrOiBJbnQpIHdoZXJlIFNlbGYgOiBCaWRpcmVjdGlvbmFsQ29sbGVjdGlvbgogICAgbXV0YXRpbmcgZnVuYyByZW1vdmVTdWJyYW5nZShfIGJvdW5kczogUmFuZ2U8SW5kZXg+KQogICAgbXV0YXRpbmcgZnVuYyByZW1vdmVTdWJyYW5nZShfIGJvdW5kczogUmFuZ2U8SW5kZXg+KQogICAgbXV0YXRpbmcgZnVuYyByZXBsYWNlU3VicmFuZ2U8QywgUj4oXyBzdWJyYW5nZTogUiwgd2l0aCBuZXdFbGVtZW50czogQykgd2hlcmUgQyA6IENvbGxlY3Rpb24sIFIgOiBSYW5nZUV4cHJlc3Npb24sIEMuRWxlbWVudCA9PSBFbGVtZW50LCBJbmRleCA9PSBSLkJvdW5kCiAgICBtdXRhdGluZyBmdW5jIHJlcGxhY2VTdWJyYW5nZTxDPihfIHN1YnJhbmdlOiBSYW5nZTxJbmRleD4sIHdpdGggbmV3RWxlbWVudHM6IEMpIHdoZXJlIEMgOiBDb2xsZWN0aW9uLCBDLkVsZW1lbnQgPT0gRWxlbWVudAogICAgbXV0YXRpbmcgZnVuYyByZXNlcnZlQ2FwYWNpdHkoXyBuOiBJbnQpCiAgICBtdXRhdGluZyBmdW5jIHJlc2VydmVDYXBhY2l0eShfIG46IEludCkKfQpwdWJsaWMgcHJvdG9jb2wgUmF3UmVwcmVzZW50YWJsZSB7CiAgICBpbml0KGZyb20gZGVjb2RlcjogRGVjb2RlcikgdGhyb3dzIHdoZXJlIFNlbGYgOiBEZWNvZGFibGUsIEJvb2wgPT0gUmF3VmFsdWUKICAgIGluaXQoZnJvbSBkZWNvZGVyOiBEZWNvZGVyKSB0aHJvd3Mgd2hlcmUgU2VsZiA6IERlY29kYWJsZSwgRG91YmxlID09IFJhd1ZhbHVlCiAgICBpbml0KGZyb20gZGVjb2RlcjogRGVjb2RlcikgdGhyb3dzIHdoZXJlIFNlbGYgOiBEZWNvZGFibGUsIEZsb2F0ID09IFJhd1ZhbHVlCiAgICBpbml0KGZyb20gZGVjb2RlcjogRGVjb2RlcikgdGhyb3dzIHdoZXJlIFNlbGYgOiBEZWNvZGFibGUsIEludCA9PSBSYXdWYWx1ZQogICAgaW5pdChmcm9tIGRlY29kZXI6IERlY29kZXIpIHRocm93cyB3aGVyZSBTZWxmIDogRGVjb2RhYmxlLCBJbnQxNiA9PSBSYXdWYWx1ZQogICAgaW5pdChmcm9tIGRlY29kZXI6IERlY29kZXIpIHRocm93cyB3aGVyZSBTZWxmIDogRGVjb2RhYmxlLCBJbnQzMiA9PSBSYXdWYWx1ZQogICAgaW5pdChmcm9tIGRlY29kZXI6IERlY29kZXIpIHRocm93cyB3aGVyZSBTZWxmIDogRGVjb2RhYmxlLCBJbnQ2NCA9PSBSYXdWYWx1ZQogICAgaW5pdChmcm9tIGRlY29kZXI6IERlY29kZXIpIHRocm93cyB3aGVyZSBTZWxmIDogRGVjb2RhYmxlLCBJbnQ4ID09IFJhd1ZhbHVlCiAgICBpbml0KGZyb20gZGVjb2RlcjogRGVjb2RlcikgdGhyb3dzIHdoZXJlIFNlbGYgOiBEZWNvZGFibGUsIFJhd1ZhbHVlID09IFN0cmluZwogICAgaW5pdChmcm9tIGRlY29kZXI6IERlY29kZXIpIHRocm93cyB3aGVyZSBTZWxmIDogRGVjb2RhYmxlLCBSYXdWYWx1ZSA9PSBVSW50CiAgICBpbml0KGZyb20gZGVjb2RlcjogRGVjb2RlcikgdGhyb3dzIHdoZXJlIFNlbGYgOiBEZWNvZGFibGUsIFJhd1ZhbHVlID09IFVJbnQxNgogICAgaW5pdChmcm9tIGRlY29kZXI6IERlY29kZXIpIHRocm93cyB3aGVyZSBTZWxmIDogRGVjb2RhYmxlLCBSYXdWYWx1ZSA9PSBVSW50MzIKICAgIGluaXQoZnJvbSBkZWNvZGVyOiBEZWNvZGVyKSB0aHJvd3Mgd2hlcmUgU2VsZiA6IERlY29kYWJsZSwgUmF3VmFsdWUgPT0gVUludDY0CiAgICBpbml0KGZyb20gZGVjb2RlcjogRGVjb2RlcikgdGhyb3dzIHdoZXJlIFNlbGYgOiBEZWNvZGFibGUsIFJhd1ZhbHVlID09IFVJbnQ4CiAgICBpbml0PyhyYXdWYWx1ZTogUmF3VmFsdWUpCiAgICB2YXIgcmF3VmFsdWU6IFJhd1ZhbHVlIHsgZ2V0IH0KICAgIGZ1bmMgZW5jb2RlKHRvIGVuY29kZXI6IEVuY29kZXIpIHRocm93cyB3aGVyZSBTZWxmIDogRW5jb2RhYmxlLCBCb29sID09IFJhd1ZhbHVlCiAgICBmdW5jIGVuY29kZSh0byBlbmNvZGVyOiBFbmNvZGVyKSB0aHJvd3Mgd2hlcmUgU2VsZiA6IEVuY29kYWJsZSwgRG91YmxlID09IFJhd1ZhbHVlCiAgICBmdW5jIGVuY29kZSh0byBlbmNvZGVyOiBFbmNvZGVyKSB0aHJvd3Mgd2hlcmUgU2VsZiA6IEVuY29kYWJsZSwgRmxvYXQgPT0gUmF3VmFsdWUKICAgIGZ1bmMgZW5jb2RlKHRvIGVuY29kZXI6IEVuY29kZXIpIHRocm93cyB3aGVyZSBTZWxmIDogRW5jb2RhYmxlLCBJbnQgPT0gUmF3VmFsdWUKICAgIGZ1bmMgZW5jb2RlKHRvIGVuY29kZXI6IEVuY29kZXIpIHRocm93cyB3aGVyZSBTZWxmIDogRW5jb2RhYmxlLCBJbnQxNiA9PSBSYXdWYWx1ZQogICAgZnVuYyBlbmNvZGUodG8gZW5jb2RlcjogRW5jb2RlcikgdGhyb3dzIHdoZXJlIFNlbGYgOiBFbmNvZGFibGUsIEludDMyID09IFJhd1ZhbHVlCiAgICBmdW5jIGVuY29kZSh0byBlbmNvZGVyOiBFbmNvZGVyKSB0aHJvd3Mgd2hlcmUgU2VsZiA6IEVuY29kYWJsZSwgSW50NjQgPT0gUmF3VmFsdWUKICAgIGZ1bmMgZW5jb2RlKHRvIGVuY29kZXI6IEVuY29kZXIpIHRocm93cyB3aGVyZSBTZWxmIDogRW5jb2RhYmxlLCBJbnQ4ID09IFJhd1ZhbHVlCiAgICBmdW5jIGVuY29kZSh0byBlbmNvZGVyOiBFbmNvZGVyKSB0aHJvd3Mgd2hlcmUgU2VsZiA6IEVuY29kYWJsZSwgUmF3VmFsdWUgPT0gU3RyaW5nCiAgICBmdW5jIGVuY29kZSh0byBlbmNvZGVyOiBFbmNvZGVyKSB0aHJvd3Mgd2hlcmUgU2VsZiA6IEVuY29kYWJsZSwgUmF3VmFsdWUgPT0gVUludAogICAgZnVuYyBlbmNvZGUodG8gZW5jb2RlcjogRW5jb2RlcikgdGhyb3dzIHdoZXJlIFNlbGYgOiBFbmNvZGFibGUsIFJhd1ZhbHVlID09IFVJbnQxNgogICAgZnVuYyBlbmNvZGUodG8gZW5jb2RlcjogRW5jb2RlcikgdGhyb3dzIHdoZXJlIFNlbGYgOiBFbmNvZGFibGUsIFJhd1ZhbHVlID09IFVJbnQzMgogICAgZnVuYyBlbmNvZGUodG8gZW5jb2RlcjogRW5jb2RlcikgdGhyb3dzIHdoZXJlIFNlbGYgOiBFbmNvZGFibGUsIFJhd1ZhbHVlID09IFVJbnQ2NAogICAgZnVuYyBlbmNvZGUodG8gZW5jb2RlcjogRW5jb2RlcikgdGhyb3dzIHdoZXJlIFNlbGYgOiBFbmNvZGFibGUsIFJhd1ZhbHVlID09IFVJbnQ4Cn0KcHVibGljIHByb3RvY29sIFNlcXVlbmNlIHsKICAgIHZhciBsYXp5OiBMYXp5U2VxdWVuY2U8U2VsZj4geyBnZXQgfQogICAgdmFyIHVuZGVyZXN0aW1hdGVkQ291bnQ6IEludCB7IGdldCB9CiAgICBmdW5jIGFsbFNhdGlzZnkoXyBwcmVkaWNhdGU6IChFbGVtZW50KSB0aHJvd3MgLT4gQm9vbCkgcmV0aHJvd3MgLT4gQm9vbAogICAgZnVuYyBjb21wYWN0TWFwPEVsZW1lbnRPZlJlc3VsdD4oXyB0cmFuc2Zvcm06IChFbGVtZW50KSB0aHJvd3MgLT4gRWxlbWVudE9mUmVzdWx0PykgcmV0aHJvd3MgLT4gW0VsZW1lbnRPZlJlc3VsdF0KICAgIGZ1bmMgY29udGFpbnMoXyBlbGVtZW50OiBFbGVtZW50KSAtPiBCb29sIHdoZXJlIEVsZW1lbnQgOiBFcXVhdGFibGUKICAgIGZ1bmMgY29udGFpbnMod2hlcmUgcHJlZGljYXRlOiAoRWxlbWVudCkgdGhyb3dzIC0+IEJvb2wpIHJldGhyb3dzIC0+IEJvb2wKICAgIGZ1bmMgZHJvcCh3aGlsZSBwcmVkaWNhdGU6IChFbGVtZW50KSB0aHJvd3MgLT4gQm9vbCkgcmV0aHJvd3MgLT4gQW55U2VxdWVuY2U8RWxlbWVudD4gd2hlcmUgQW55U2VxdWVuY2U8RWxlbWVudD4gPT0gU3ViU2VxdWVuY2UKICAgIGZ1bmMgZHJvcCh3aGlsZSBwcmVkaWNhdGU6IChFbGVtZW50KSB0aHJvd3MgLT4gQm9vbCkgcmV0aHJvd3MgLT4gU3ViU2VxdWVuY2UKICAgIGZ1bmMgZHJvcEZpcnN0KCkgLT4gU3ViU2VxdWVuY2UKICAgIGZ1bmMgZHJvcEZpcnN0KF8gazogSW50KSAtPiBBbnlTZXF1ZW5jZTxFbGVtZW50PiB3aGVyZSBBbnlTZXF1ZW5jZTxFbGVtZW50PiA9PSBTdWJTZXF1ZW5jZQogICAgZnVuYyBkcm9wRmlyc3QoXyBrOiBJbnQpIC0+IFN1YlNlcXVlbmNlCiAgICBmdW5jIGRyb3BMYXN0KCkgLT4gU3ViU2VxdWVuY2UKICAgIGZ1bmMgZHJvcExhc3QoXyBrOiBJbnQpIC0+IEFueVNlcXVlbmNlPEVsZW1lbnQ+IHdoZXJlIEFueVNlcXVlbmNlPEVsZW1lbnQ+ID09IFN1YlNlcXVlbmNlCiAgICBmdW5jIGRyb3BMYXN0KF8gazogSW50KSAtPiBTdWJTZXF1ZW5jZQogICAgZnVuYyBlbGVtZW50c0VxdWFsPE90aGVyU2VxdWVuY2U+KF8gb3RoZXI6IE90aGVyU2VxdWVuY2UpIC0+IEJvb2wgd2hlcmUgRWxlbWVudCA6IEVxdWF0YWJsZSwgT3RoZXJTZXF1ZW5jZSA6IFNlcXVlbmNlLCBFbGVtZW50ID09IE90aGVyU2VxdWVuY2UuRWxlbWVudAogICAgZnVuYyBlbGVtZW50c0VxdWFsPE90aGVyU2VxdWVuY2U+KF8gb3RoZXI6IE90aGVyU2VxdWVuY2UsIGJ5IGFyZUVxdWl2YWxlbnQ6IChFbGVtZW50LCBPdGhlclNlcXVlbmNlLkVsZW1lbnQpIHRocm93cyAtPiBCb29sKSByZXRocm93cyAtPiBCb29sIHdoZXJlIE90aGVyU2VxdWVuY2UgOiBTZXF1ZW5jZQogICAgZnVuYyBlbnVtZXJhdGVkKCkgLT4gRW51bWVyYXRlZFNlcXVlbmNlPFNlbGY+CiAgICBmdW5jIGZpbHRlcihfIGlzSW5jbHVkZWQ6IChFbGVtZW50KSB0aHJvd3MgLT4gQm9vbCkgcmV0aHJvd3MgLT4gW0VsZW1lbnRdCiAgICBmdW5jIGZpcnN0KHdoZXJlIHByZWRpY2F0ZTogKEVsZW1lbnQpIHRocm93cyAtPiBCb29sKSByZXRocm93cyAtPiBFbGVtZW50PwogICAgZnVuYyBmbGF0TWFwPFNlZ21lbnRPZlJlc3VsdD4oXyB0cmFuc2Zvcm06IChFbGVtZW50KSB0aHJvd3MgLT4gU2VnbWVudE9mUmVzdWx0KSByZXRocm93cyAtPiBbU2VnbWVudE9mUmVzdWx0LkVsZW1lbnRdIHdoZXJlIFNlZ21lbnRPZlJlc3VsdCA6IFNlcXVlbmNlCiAgICBmdW5jIGZvckVhY2goXyBib2R5OiAoRWxlbWVudCkgdGhyb3dzIC0+IFZvaWQpIHJldGhyb3dzCiAgICBmdW5jIGpvaW5lZCgpIC0+IEZsYXR0ZW5TZXF1ZW5jZTxTZWxmPiB3aGVyZSBFbGVtZW50IDogU2VxdWVuY2UKICAgIGZ1bmMgam9pbmVkKHNlcGFyYXRvcjogU3RyaW5nID0geCkgLT4gU3RyaW5nIHdoZXJlIEVsZW1lbnQgOiBTdHJpbmdQcm90b2NvbAogICAgZnVuYyBqb2luZWQ8U2VwYXJhdG9yPihzZXBhcmF0b3I6IFNlcGFyYXRvcikgLT4gSm9pbmVkU2VxdWVuY2U8U2VsZj4gd2hlcmUgRWxlbWVudCA6IFNlcXVlbmNlLCBTZXBhcmF0b3IgOiBTZXF1ZW5jZSwgRWxlbWVudC5FbGVtZW50ID09IFNlcGFyYXRvci5FbGVtZW50CiAgICBmdW5jIGxleGljb2dyYXBoaWNhbGx5UHJlY2VkZXM8T3RoZXJTZXF1ZW5jZT4oXyBvdGhlcjogT3RoZXJTZXF1ZW5jZSkgLT4gQm9vbCB3aGVyZSBFbGVtZW50IDogQ29tcGFyYWJsZSwgT3RoZXJTZXF1ZW5jZSA6IFNlcXVlbmNlLCBFbGVtZW50ID09IE90aGVyU2VxdWVuY2UuRWxlbWVudAogICAgZnVuYyBsZXhpY29ncmFwaGljYWxseVByZWNlZGVzPE90aGVyU2VxdWVuY2U+KF8gb3RoZXI6IE90aGVyU2VxdWVuY2UsIGJ5IGFyZUluSW5jcmVhc2luZ09yZGVyOiAoRWxlbWVudCwgRWxlbWVudCkgdGhyb3dzIC0+IEJvb2wpIHJldGhyb3dzIC0+IEJvb2wgd2hlcmUgT3RoZXJTZXF1ZW5jZSA6IFNlcXVlbmNlLCBFbGVtZW50ID09IE90aGVyU2VxdWVuY2UuRWxlbWVudAogICAgZnVuYyBtYWtlSXRlcmF0b3IoKSAtPiBJdGVyYXRvcgogICAgZnVuYyBtYXA8VD4oXyB0cmFuc2Zvcm06IChFbGVtZW50KSB0aHJvd3MgLT4gVCkgcmV0aHJvd3MgLT4gW1RdCiAgICBmdW5jIG1heCgpIC0+IEVsZW1lbnQ/IHdoZXJlIEVsZW1lbnQgOiBDb21wYXJhYmxlCiAgICBmdW5jIG1heChieSBhcmVJbkluY3JlYXNpbmdPcmRlcjogKEVsZW1lbnQsIEVsZW1lbnQpIHRocm93cyAtPiBCb29sKSByZXRocm93cyAtPiBFbGVtZW50PwogICAgZnVuYyBtaW4oKSAtPiBFbGVtZW50PyB3aGVyZSBFbGVtZW50IDogQ29tcGFyYWJsZQogICAgZnVuYyBtaW4oYnkgYXJlSW5JbmNyZWFzaW5nT3JkZXI6IChFbGVtZW50LCBFbGVtZW50KSB0aHJvd3MgLT4gQm9vbCkgcmV0aHJvd3MgLT4gRWxlbWVudD8KICAgIGZ1bmMgcHJlZml4KF8gbWF4TGVuZ3RoOiBJbnQpIC0+IEFueVNlcXVlbmNlPEVsZW1lbnQ+IHdoZXJlIEFueVNlcXVlbmNlPEVsZW1lbnQ+ID09IFN1YlNlcXVlbmNlCiAgICBmdW5jIHByZWZpeChfIG1heExlbmd0aDogSW50KSAtPiBTdWJTZXF1ZW5jZQogICAgZnVuYyBwcmVmaXgod2hpbGUgcHJlZGljYXRlOiAoRWxlbWVudCkgdGhyb3dzIC0+IEJvb2wpIHJldGhyb3dzIC0+IEFueVNlcXVlbmNlPEVsZW1lbnQ+IHdoZXJlIEFueVNlcXVlbmNlPEVsZW1lbnQ+ID09IFN1YlNlcXVlbmNlCiAgICBmdW5jIHJlZHVjZTxSZXN1bHQ+KF8gaW5pdGlhbFJlc3VsdDogUmVzdWx0LCBfIG5leHRQYXJ0aWFsUmVzdWx0OiAoXyBwYXJ0aWFsUmVzdWx0OiBSZXN1bHQsIEVsZW1lbnQpIHRocm93cyAtPiBSZXN1bHQpIHJldGhyb3dzIC0+IFJlc3VsdAogICAgZnVuYyByZWR1Y2U8UmVzdWx0PihpbnRvIGluaXRpYWxSZXN1bHQ6IFJlc3VsdCwgXyB1cGRhdGVBY2N1bXVsYXRpbmdSZXN1bHQ6IChfIHBhcnRpYWxSZXN1bHQ6IGlub3V0IFJlc3VsdCwgRWxlbWVudCkgdGhyb3dzIC0+IFZvaWQpIHJldGhyb3dzIC0+IFJlc3VsdAogICAgZnVuYyByZXZlcnNlZCgpIC0+IFtFbGVtZW50XQogICAgZnVuYyBzaHVmZmxlZCgpIC0+IFtFbGVtZW50XQogICAgZnVuYyBzaHVmZmxlZDxUPih1c2luZyBnZW5lcmF0b3I6IGlub3V0IFQpIC0+IFtFbGVtZW50XSB3aGVyZSBUIDogUmFuZG9tTnVtYmVyR2VuZXJhdG9yCiAgICBmdW5jIHNvcnRlZCgpIC0+IFtFbGVtZW50XSB3aGVyZSBFbGVtZW50IDogQ29tcGFyYWJsZQogICAgZnVuYyBzb3J0ZWQoYnkgYXJlSW5JbmNyZWFzaW5nT3JkZXI6IChFbGVtZW50LCBFbGVtZW50KSB0aHJvd3MgLT4gQm9vbCkgcmV0aHJvd3MgLT4gW0VsZW1lbnRdCiAgICBmdW5jIHNwbGl0KG1heFNwbGl0czogSW50ID0geCwgb21pdHRpbmdFbXB0eVN1YnNlcXVlbmNlczogQm9vbCA9IHgsIHdoZXJlU2VwYXJhdG9yIGlzU2VwYXJhdG9yOiAoRWxlbWVudCkgdGhyb3dzIC0+IEJvb2wpIHJldGhyb3dzIC0+IFtBbnlTZXF1ZW5jZTxFbGVtZW50Pl0gd2hlcmUgQW55U2VxdWVuY2U8RWxlbWVudD4gPT0gU3ViU2VxdWVuY2UKICAgIGZ1bmMgc3BsaXQobWF4U3BsaXRzOiBJbnQsIG9taXR0aW5nRW1wdHlTdWJzZXF1ZW5jZXM6IEJvb2wsIHdoZXJlU2VwYXJhdG9yIGlzU2VwYXJhdG9yOiAoRWxlbWVudCkgdGhyb3dzIC0+IEJvb2wpIHJldGhyb3dzIC0+IFtTdWJTZXF1ZW5jZV0KICAgIGZ1bmMgc3BsaXQoc2VwYXJhdG9yOiBFbGVtZW50LCBtYXhTcGxpdHM6IEludCA9IHgsIG9taXR0aW5nRW1wdHlTdWJzZXF1ZW5jZXM6IEJvb2wgPSB4KSAtPiBbU3ViU2VxdWVuY2VdIHdoZXJlIEVsZW1lbnQgOiBFcXVhdGFibGUKICAgIGZ1bmMgc3RhcnRzPFBvc3NpYmxlUHJlZml4Pih3aXRoIHBvc3NpYmxlUHJlZml4OiBQb3NzaWJsZVByZWZpeCkgLT4gQm9vbCB3aGVyZSBFbGVtZW50IDogRXF1YXRhYmxlLCBQb3NzaWJsZVByZWZpeCA6IFNlcXVlbmNlLCBFbGVtZW50ID09IFBvc3NpYmxlUHJlZml4LkVsZW1lbnQKICAgIGZ1bmMgc3RhcnRzPFBvc3NpYmxlUHJlZml4Pih3aXRoIHBvc3NpYmxlUHJlZml4OiBQb3NzaWJsZVByZWZpeCwgYnkgYXJlRXF1aXZhbGVudDogKEVsZW1lbnQsIFBvc3NpYmxlUHJlZml4LkVsZW1lbnQpIHRocm93cyAtPiBCb29sKSByZXRocm93cyAtPiBCb29sIHdoZXJlIFBvc3NpYmxlUHJlZml4IDogU2VxdWVuY2UKICAgIGZ1bmMgc3VmZml4KF8gbWF4TGVuZ3RoOiBJbnQpIC0+IEFueVNlcXVlbmNlPEVsZW1lbnQ+IHdoZXJlIEFueVNlcXVlbmNlPEVsZW1lbnQ+ID09IFN1YlNlcXVlbmNlCiAgICBmdW5jIHN1ZmZpeChfIG1heExlbmd0aDogSW50KSAtPiBTdWJTZXF1ZW5jZQp9CnB1YmxpYyBwcm90b2NvbCBTZXRBbGdlYnJhIDogRXF1YXRhYmxlLCBFeHByZXNzaWJsZUJ5QXJyYXlMaXRlcmFsIHsKICAgIGluaXQoKQogICAgaW5pdDxTPihfIHNlcXVlbmNlOiBTKSB3aGVyZSBTIDogU2VxdWVuY2UsIEVsZW1lbnQgPT0gUy5FbGVtZW50CiAgICB2YXIgaXNFbXB0eTogQm9vbCB7IGdldCB9CiAgICBmdW5jIGNvbnRhaW5zKF8gbWVtYmVyOiBFbGVtZW50KSAtPiBCb29sCiAgICBtdXRhdGluZyBmdW5jIGZvcm1JbnRlcnNlY3Rpb24oXyBvdGhlcjogU2VsZikKICAgIG11dGF0aW5nIGZ1bmMgZm9ybVN5bW1ldHJpY0RpZmZlcmVuY2UoXyBvdGhlcjogU2VsZikKICAgIG11dGF0aW5nIGZ1bmMgZm9ybVVuaW9uKF8gb3RoZXI6IFNlbGYpCiAgICBAZGlzY2FyZGFibGVSZXN1bHQgbXV0YXRpbmcgZnVuYyBpbnNlcnQoXyBuZXdNZW1iZXI6IEVsZW1lbnQpIC0+IChpbnNlcnRlZCA6IEJvb2wsIG1lbWJlckFmdGVySW5zZXJ0IDogRWxlbWVudCkKICAgIGZ1bmMgaW50ZXJzZWN0aW9uKF8gb3RoZXI6IFNlbGYpIC0+IFNlbGYKICAgIGZ1bmMgaXNEaXNqb2ludCh3aXRoIG90aGVyOiBTZWxmKSAtPiBCb29sCiAgICBmdW5jIGlzU3RyaWN0U3Vic2V0KG9mIG90aGVyOiBTZWxmKSAtPiBCb29sCiAgICBmdW5jIGlzU3RyaWN0U3VwZXJzZXQob2Ygb3RoZXI6IFNlbGYpIC0+IEJvb2wKICAgIGZ1bmMgaXNTdWJzZXQob2Ygb3RoZXI6IFNlbGYpIC0+IEJvb2wKICAgIGZ1bmMgaXNTdXBlcnNldChvZiBvdGhlcjogU2VsZikgLT4gQm9vbAogICAgZnVuYyBpc1N1cGVyc2V0KG9mIG90aGVyOiBTZWxmKSAtPiBCb29sCiAgICBAZGlzY2FyZGFibGVSZXN1bHQgbXV0YXRpbmcgZnVuYyByZW1vdmUoXyBtZW1iZXI6IEVsZW1lbnQpIC0+IEVsZW1lbnQ/CiAgICBtdXRhdGluZyBmdW5jIHN1YnRyYWN0KF8gb3RoZXI6IFNlbGYpCiAgICBmdW5jIHN1YnRyYWN0aW5nKF8gb3RoZXI6IFNlbGYpIC0+IFNlbGYKICAgIGZ1bmMgc3VidHJhY3RpbmcoXyBvdGhlcjogU2VsZikgLT4gU2VsZgogICAgZnVuYyBzeW1tZXRyaWNEaWZmZXJlbmNlKF8gb3RoZXI6IFNlbGYpIC0+IFNlbGYKICAgIGZ1bmMgdW5pb24oXyBvdGhlcjogU2VsZikgLT4gU2VsZgogICAgQGRpc2NhcmRhYmxlUmVzdWx0IG11dGF0aW5nIGZ1bmMgdXBkYXRlKHdpdGggbmV3TWVtYmVyOiBFbGVtZW50KSAtPiBFbGVtZW50Pwp9CnB1YmxpYyBwcm90b2NvbCBTaWduZWRJbnRlZ2VyIDogQmluYXJ5SW50ZWdlciwgQ29tcGFyYWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgRXhwcmVzc2libGVCeUludGVnZXJMaXRlcmFsLCBIYXNoYWJsZSwgTnVtZXJpYywgU2lnbmVkTnVtZXJpYywgU3RyaWRlYWJsZSB7CiAgICBzdGF0aWMgdmFyIG1heDogU2VsZiB7IGdldCB9IHdoZXJlIFNlbGYgOiBGaXhlZFdpZHRoSW50ZWdlcgogICAgc3RhdGljIHZhciBtaW46IFNlbGYgeyBnZXQgfSB3aGVyZSBTZWxmIDogRml4ZWRXaWR0aEludGVnZXIKICAgIGZ1bmMgJisobGhzOiBTZWxmLCByaHM6IFNlbGYpIC0+IFNlbGYgd2hlcmUgU2VsZiA6IEZpeGVkV2lkdGhJbnRlZ2VyCiAgICBmdW5jICYtKGxoczogU2VsZiwgcmhzOiBTZWxmKSAtPiBTZWxmIHdoZXJlIFNlbGYgOiBGaXhlZFdpZHRoSW50ZWdlcgp9CnB1YmxpYyBwcm90b2NvbCBTaWduZWROdW1lcmljIDogRXF1YXRhYmxlLCBFeHByZXNzaWJsZUJ5SW50ZWdlckxpdGVyYWwsIE51bWVyaWMgewogICAgcHJlZml4IGZ1bmMgLShvcGVyYW5kOiBTZWxmKSAtPiBTZWxmCiAgICBwcmVmaXggZnVuYyAtKG9wZXJhbmQ6IFNlbGYpIC0+IFNlbGYKICAgIG11dGF0aW5nIGZ1bmMgbmVnYXRlKCkKfQpwdWJsaWMgcHJvdG9jb2wgU2luZ2xlVmFsdWVEZWNvZGluZ0NvbnRhaW5lciB7CiAgICB2YXIgY29kaW5nUGF0aDogW0NvZGluZ0tleV0geyBnZXQgfQogICAgZnVuYyBkZWNvZGUoXyB0eXBlOiBCb29sLlR5cGUpIHRocm93cyAtPiBCb29sCiAgICBmdW5jIGRlY29kZU5pbCgpIC0+IEJvb2wKfQpwdWJsaWMgcHJvdG9jb2wgU2luZ2xlVmFsdWVFbmNvZGluZ0NvbnRhaW5lciB7CiAgICB2YXIgY29kaW5nUGF0aDogW0NvZGluZ0tleV0geyBnZXQgfQogICAgbXV0YXRpbmcgZnVuYyBlbmNvZGUoXyB2YWx1ZTogQm9vbCkgdGhyb3dzCiAgICBtdXRhdGluZyBmdW5jIGVuY29kZU5pbCgpIHRocm93cwp9CnB1YmxpYyBwcm90b2NvbCBTdHJpZGVhYmxlIDogQ29tcGFyYWJsZSwgRXF1YXRhYmxlIHsKICAgIGZ1bmMgKyhsaHM6IFNlbGYsIHJoczogU3RyaWRlKSAtPiBTZWxmIHdoZXJlIFNlbGYgOiBfUG9pbnRlcgogICAgZnVuYyArPShsaHM6IGlub3V0IFNlbGYsIHJoczogU3RyaWRlKSB3aGVyZSBTZWxmIDogX1BvaW50ZXIKICAgIGZ1bmMgLShsaHM6IFNlbGYsIHJoczogU2VsZikgLT4gU3RyaWRlIHdoZXJlIFNlbGYgOiBfUG9pbnRlcgogICAgZnVuYyAtPShsaHM6IGlub3V0IFNlbGYsIHJoczogU3RyaWRlKSB3aGVyZSBTZWxmIDogX1BvaW50ZXIKICAgIGZ1bmMgYWR2YW5jZWQoYnkgbjogU3RyaWRlKSAtPiBTZWxmCiAgICBmdW5jIGRpc3RhbmNlKHRvIG90aGVyOiBTZWxmKSAtPiBTdHJpZGUKfQpwdWJsaWMgcHJvdG9jb2wgU3RyaW5nUHJvdG9jb2wgOiBCaWRpcmVjdGlvbmFsQ29sbGVjdGlvbiwgQ29sbGVjdGlvbiwgQ29tcGFyYWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgRXhwcmVzc2libGVCeUV4dGVuZGVkR3JhcGhlbWVDbHVzdGVyTGl0ZXJhbCwgRXhwcmVzc2libGVCeVN0cmluZ0xpdGVyYWwsIEV4cHJlc3NpYmxlQnlVbmljb2RlU2NhbGFyTGl0ZXJhbCwgSGFzaGFibGUsIExvc3NsZXNzU3RyaW5nQ29udmVydGlibGUsIFNlcXVlbmNlLCBUZXh0T3V0cHV0U3RyZWFtLCBUZXh0T3V0cHV0U3RyZWFtYWJsZSB7CiAgICBpbml0KGNTdHJpbmcgbnVsbFRlcm1pbmF0ZWRVVEY4OiBVbnNhZmVQb2ludGVyPENDaGFyPikKICAgIGluaXQ8QywgRW5jb2Rpbmc+KGRlY29kaW5nIGNvZGVVbml0czogQywgYXMgc291cmNlRW5jb2Rpbmc6IEVuY29kaW5nLlR5cGUpIHdoZXJlIEMgOiBDb2xsZWN0aW9uLCBFbmNvZGluZyA6IFVuaWNvZGUuRW5jb2RpbmcsIEMuSXRlcmF0b3IuRWxlbWVudCA9PSBFbmNvZGluZy5Db2RlVW5pdAogICAgaW5pdDxFbmNvZGluZz4oZGVjb2RpbmdDU3RyaW5nIG51bGxUZXJtaW5hdGVkQ29kZVVuaXRzOiBVbnNhZmVQb2ludGVyPEVuY29kaW5nLkNvZGVVbml0PiwgYXMgc291cmNlRW5jb2Rpbmc6IEVuY29kaW5nLlR5cGUpIHdoZXJlIEVuY29kaW5nIDogVW5pY29kZS5FbmNvZGluZwogICAgdmFyIHVuaWNvZGVTY2FsYXJzOiBVbmljb2RlU2NhbGFyVmlldyB7IGdldCB9CiAgICB2YXIgdXRmMTY6IFVURjE2VmlldyB7IGdldCB9CiAgICB2YXIgdXRmODogVVRGOFZpZXcgeyBnZXQgfQogICAgZnVuYyBoYXNQcmVmaXg8UHJlZml4PihfIHByZWZpeDogUHJlZml4KSAtPiBCb29sIHdoZXJlIFByZWZpeCA6IFN0cmluZ1Byb3RvY29sCiAgICBmdW5jIGhhc1N1ZmZpeDxTdWZmaXg+KF8gc3VmZml4OiBTdWZmaXgpIC0+IEJvb2wgd2hlcmUgU3VmZml4IDogU3RyaW5nUHJvdG9jb2wKICAgIGZ1bmMgbG93ZXJjYXNlZCgpIC0+IFN0cmluZwogICAgZnVuYyB1cHBlcmNhc2VkKCkgLT4gU3RyaW5nCiAgICBmdW5jIHdpdGhDU3RyaW5nPFJlc3VsdD4oXyBib2R5OiAoVW5zYWZlUG9pbnRlcjxDQ2hhcj4pIHRocm93cyAtPiBSZXN1bHQpIHJldGhyb3dzIC0+IFJlc3VsdAogICAgZnVuYyB3aXRoQ1N0cmluZzxSZXN1bHQsIEVuY29kaW5nPihlbmNvZGVkQXMgdGFyZ2V0RW5jb2Rpbmc6IEVuY29kaW5nLlR5cGUsIF8gYm9keTogKFVuc2FmZVBvaW50ZXI8RW5jb2RpbmcuQ29kZVVuaXQ+KSB0aHJvd3MgLT4gUmVzdWx0KSByZXRocm93cyAtPiBSZXN1bHQgd2hlcmUgRW5jb2RpbmcgOiBVbmljb2RlLkVuY29kaW5nCn0KcHVibGljIHByb3RvY29sIFRleHRPdXRwdXRTdHJlYW0gewogICAgbXV0YXRpbmcgZnVuYyB3cml0ZShfIHN0cmluZzogU3RyaW5nKQp9CnB1YmxpYyBwcm90b2NvbCBUZXh0T3V0cHV0U3RyZWFtYWJsZSB7CiAgICBmdW5jIHdyaXRlPFRhcmdldD4odG8gdGFyZ2V0OiBpbm91dCBUYXJnZXQpIHdoZXJlIFRhcmdldCA6IFRleHRPdXRwdXRTdHJlYW0KfQpwdWJsaWMgcHJvdG9jb2wgVW5pY29kZUNvZGVjIDogVW5pY29kZS5FbmNvZGluZyB7CiAgICBzdGF0aWMgZnVuYyBlbmNvZGUoXyBpbnB1dDogVW5pY29kZS5TY2FsYXIsIGludG8gcHJvY2Vzc0NvZGVVbml0OiAoQ29kZVVuaXQpIC0+IFZvaWQpCiAgICBpbml0KCkKICAgIG11dGF0aW5nIGZ1bmMgZGVjb2RlPEk+KF8gaW5wdXQ6IGlub3V0IEkpIC0+IFVuaWNvZGVEZWNvZGluZ1Jlc3VsdCB3aGVyZSBJIDogSXRlcmF0b3JQcm90b2NvbCwgQ29kZVVuaXQgPT0gSS5FbGVtZW50Cn0KcHVibGljIHByb3RvY29sIFVua2V5ZWREZWNvZGluZ0NvbnRhaW5lciB7CiAgICB2YXIgY29kaW5nUGF0aDogW0NvZGluZ0tleV0geyBnZXQgfQogICAgdmFyIGNvdW50OiBJbnQ/IHsgZ2V0IH0KICAgIHZhciBjdXJyZW50SW5kZXg6IEludCB7IGdldCB9CiAgICB2YXIgaXNBdEVuZDogQm9vbCB7IGdldCB9CiAgICBtdXRhdGluZyBmdW5jIGRlY29kZShfIHR5cGU6IEJvb2wuVHlwZSkgdGhyb3dzIC0+IEJvb2wKICAgIG11dGF0aW5nIGZ1bmMgZGVjb2RlSWZQcmVzZW50KF8gdHlwZTogQm9vbC5UeXBlKSB0aHJvd3MgLT4gQm9vbD8KICAgIG11dGF0aW5nIGZ1bmMgZGVjb2RlTmlsKCkgdGhyb3dzIC0+IEJvb2wKICAgIG11dGF0aW5nIGZ1bmMgbmVzdGVkQ29udGFpbmVyPE5lc3RlZEtleT4oa2V5ZWRCeSB0eXBlOiBOZXN0ZWRLZXkuVHlwZSkgdGhyb3dzIC0+IEtleWVkRGVjb2RpbmdDb250YWluZXI8TmVzdGVkS2V5PgogICAgbXV0YXRpbmcgZnVuYyBuZXN0ZWRVbmtleWVkQ29udGFpbmVyKCkgdGhyb3dzIC0+IFVua2V5ZWREZWNvZGluZ0NvbnRhaW5lcgogICAgbXV0YXRpbmcgZnVuYyBzdXBlckRlY29kZXIoKSB0aHJvd3MgLT4gRGVjb2Rlcgp9CnB1YmxpYyBwcm90b2NvbCBVbmtleWVkRW5jb2RpbmdDb250YWluZXIgewogICAgdmFyIGNvZGluZ1BhdGg6IFtDb2RpbmdLZXldIHsgZ2V0IH0KICAgIHZhciBjb3VudDogSW50IHsgZ2V0IH0KICAgIG11dGF0aW5nIGZ1bmMgZW5jb2RlKF8gdmFsdWU6IEJvb2wpIHRocm93cwogICAgbXV0YXRpbmcgZnVuYyBlbmNvZGU8VD4oY29udGVudHNPZiBzZXF1ZW5jZTogVCkgdGhyb3dzIHdoZXJlIFQgOiBTZXF1ZW5jZSwgQm9vbCA9PSBULkl0ZXJhdG9yLkVsZW1lbnQKICAgIG11dGF0aW5nIGZ1bmMgZW5jb2RlQ29uZGl0aW9uYWw8VD4oXyBvYmplY3Q6IFQpIHRocm93cyB3aGVyZSBUIDogQW55T2JqZWN0ICYgRW5jb2RhYmxlCiAgICBtdXRhdGluZyBmdW5jIGVuY29kZU5pbCgpIHRocm93cwogICAgbXV0YXRpbmcgZnVuYyBuZXN0ZWRDb250YWluZXI8TmVzdGVkS2V5PihrZXllZEJ5IGtleVR5cGU6IE5lc3RlZEtleS5UeXBlKSAtPiBLZXllZEVuY29kaW5nQ29udGFpbmVyPE5lc3RlZEtleT4KICAgIG11dGF0aW5nIGZ1bmMgbmVzdGVkVW5rZXllZENvbnRhaW5lcigpIC0+IFVua2V5ZWRFbmNvZGluZ0NvbnRhaW5lcgogICAgbXV0YXRpbmcgZnVuYyBzdXBlckVuY29kZXIoKSAtPiBFbmNvZGVyCn0KcHVibGljIHByb3RvY29sIFVuc2lnbmVkSW50ZWdlciA6IEJpbmFyeUludGVnZXIsIENvbXBhcmFibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEV4cHJlc3NpYmxlQnlJbnRlZ2VyTGl0ZXJhbCwgSGFzaGFibGUsIE51bWVyaWMsIFN0cmlkZWFibGUgewogICAgc3RhdGljIHZhciBtYXg6IFNlbGYgeyBnZXQgfSB3aGVyZSBTZWxmIDogRml4ZWRXaWR0aEludGVnZXIKICAgIHN0YXRpYyB2YXIgbWluOiBTZWxmIHsgZ2V0IH0gd2hlcmUgU2VsZiA6IEZpeGVkV2lkdGhJbnRlZ2VyCn0KZXh0ZW5zaW9uIEFueUJpZGlyZWN0aW9uYWxDb2xsZWN0aW9uIHsKICAgIHB1YmxpYyBpbml0KF8gb3RoZXI6IEFueUJpZGlyZWN0aW9uYWxDb2xsZWN0aW9uPEVsZW1lbnQ+KSB7fQogICAgcHVibGljIGluaXQ8Qz4oXyBiYXNlOiBDKSB3aGVyZSBDIDogQmlkaXJlY3Rpb25hbENvbGxlY3Rpb24sIEMuRWxlbWVudCA9PSBFbGVtZW50IHt9CiAgICBwdWJsaWMgaW5pdD8oXyBvdGhlcjogQW55Q29sbGVjdGlvbjxFbGVtZW50Pikge30KfQpleHRlbnNpb24gQW55Q29sbGVjdGlvbiB7CiAgICBwdWJsaWMgaW5pdChfIG90aGVyOiBBbnlCaWRpcmVjdGlvbmFsQ29sbGVjdGlvbjxFbGVtZW50Pikge30KICAgIHB1YmxpYyBpbml0PEM+KF8gYmFzZTogQykgd2hlcmUgQyA6IEJpZGlyZWN0aW9uYWxDb2xsZWN0aW9uLCBDLkVsZW1lbnQgPT0gRWxlbWVudCB7fQp9CmV4dGVuc2lvbiBBbnlJdGVyYXRvciB7Cn0KZXh0ZW5zaW9uIEFueVJhbmRvbUFjY2Vzc0NvbGxlY3Rpb24gewogICAgcHVibGljIGluaXQoXyBvdGhlcjogQW55UmFuZG9tQWNjZXNzQ29sbGVjdGlvbjxFbGVtZW50Pikge30KICAgIHB1YmxpYyBpbml0PEM+KF8gYmFzZTogQykgd2hlcmUgQyA6IFJhbmRvbUFjY2Vzc0NvbGxlY3Rpb24sIEMuRWxlbWVudCA9PSBFbGVtZW50IHt9CiAgICBwdWJsaWMgaW5pdD8oXyBvdGhlcjogQW55QmlkaXJlY3Rpb25hbENvbGxlY3Rpb248RWxlbWVudD4pIHt9Cn0KZXh0ZW5zaW9uIEFueVNlcXVlbmNlIHsKICAgIHB1YmxpYyBpbml0PFM+KF8gYmFzZTogUykgd2hlcmUgUyA6IFNlcXVlbmNlLCBFbGVtZW50ID09IFMuRWxlbWVudCB7fQp9CmV4dGVuc2lvbiBBcnJheSB7CiAgICBwdWJsaWMgdmFyIGNhcGFjaXR5OiBJbnQgeyBnZXQgfQogICAgcHVibGljIGZ1bmMgd2l0aFVuc2FmZUJ1ZmZlclBvaW50ZXI8Uj4oXyBib2R5OiAoVW5zYWZlQnVmZmVyUG9pbnRlcjxFbGVtZW50PikgdGhyb3dzIC0+IFIpIHJldGhyb3dzIC0+IFIge30KICAgIHB1YmxpYyBmdW5jIHdpdGhVbnNhZmVCeXRlczxSPihfIGJvZHk6IChVbnNhZmVSYXdCdWZmZXJQb2ludGVyKSB0aHJvd3MgLT4gUikgcmV0aHJvd3MgLT4gUiB7fQogICAgcHVibGljIG11dGF0aW5nIGZ1bmMgd2l0aFVuc2FmZU11dGFibGVCdWZmZXJQb2ludGVyPFI+KF8gYm9keTogKGlub3V0IFVuc2FmZU11dGFibGVCdWZmZXJQb2ludGVyPEVsZW1lbnQ+KSB0aHJvd3MgLT4gUikgcmV0aHJvd3MgLT4gUiB7fQogICAgcHVibGljIG11dGF0aW5nIGZ1bmMgd2l0aFVuc2FmZU11dGFibGVCeXRlczxSPihfIGJvZHk6IChVbnNhZmVNdXRhYmxlUmF3QnVmZmVyUG9pbnRlcikgdGhyb3dzIC0+IFIpIHJldGhyb3dzIC0+IFIge30KfQpleHRlbnNpb24gQXJyYXlQcm90b2NvbCB7CiAgICBwdWJsaWMgZnVuYyBmaWx0ZXIoXyBpc0luY2x1ZGVkOiAoRWxlbWVudCkgdGhyb3dzIC0+IEJvb2wpIHJldGhyb3dzIC0+IFtFbGVtZW50XSB7fQp9CmV4dGVuc2lvbiBBcnJheVNsaWNlIHsKICAgIHB1YmxpYyB2YXIgY2FwYWNpdHk6IEludCB7IGdldCB9CiAgICBwdWJsaWMgZnVuYyB3aXRoVW5zYWZlQnVmZmVyUG9pbnRlcjxSPihfIGJvZHk6IChVbnNhZmVCdWZmZXJQb2ludGVyPEVsZW1lbnQ+KSB0aHJvd3MgLT4gUikgcmV0aHJvd3MgLT4gUiB7fQogICAgcHVibGljIGZ1bmMgd2l0aFVuc2FmZUJ5dGVzPFI+KF8gYm9keTogKFVuc2FmZVJhd0J1ZmZlclBvaW50ZXIpIHRocm93cyAtPiBSKSByZXRocm93cyAtPiBSIHt9CiAgICBwdWJsaWMgbXV0YXRpbmcgZnVuYyB3aXRoVW5zYWZlTXV0YWJsZUJ1ZmZlclBvaW50ZXI8Uj4oXyBib2R5OiAoaW5vdXQgVW5zYWZlTXV0YWJsZUJ1ZmZlclBvaW50ZXI8RWxlbWVudD4pIHRocm93cyAtPiBSKSByZXRocm93cyAtPiBSIHt9CiAgICBwdWJsaWMgbXV0YXRpbmcgZnVuYyB3aXRoVW5zYWZlTXV0YWJsZUJ5dGVzPFI+KF8gYm9keTogKFVuc2FmZU11dGFibGVSYXdCdWZmZXJQb2ludGVyKSB0aHJvd3MgLT4gUikgcmV0aHJvd3MgLT4gUiB7fQp9CmV4dGVuc2lvbiBBdXRvcmVsZWFzaW5nVW5zYWZlTXV0YWJsZVBvaW50ZXIgewp9CmV4dGVuc2lvbiBDaGFyYWN0ZXIuVW5pY29kZVNjYWxhclZpZXcgewogICAgcHVibGljIHN1YnNjcmlwdChpOiBJbmRleCkgLT4gVW5pY29kZVNjYWxhciB7IGdldCB9IHt9Cn0KZXh0ZW5zaW9uIENoYXJhY3Rlci5Vbmljb2RlU2NhbGFyVmlldy5JbmRleCB7Cn0KZXh0ZW5zaW9uIENoYXJhY3Rlci5Vbmljb2RlU2NhbGFyVmlldy5JdGVyYXRvciB7Cn0KZXh0ZW5zaW9uIENsb3NlZFJhbmdlIHsKICAgIHB1YmxpYyBpbml0KF8gb3RoZXI6IFJhbmdlPEJvdW5kPikgd2hlcmUgQm91bmQgOiBTdHJpZGVhYmxlLCBCb3VuZC5TdHJpZGUgOiBTaWduZWRJbnRlZ2VyIHt9CiAgICBwdWJsaWMgZnVuYyBjbGFtcGVkKHRvIGxpbWl0czogQ2xvc2VkUmFuZ2UpIC0+IENsb3NlZFJhbmdlIHt9CiAgICBwdWJsaWMgZnVuYyBvdmVybGFwcyhfIG90aGVyOiBDbG9zZWRSYW5nZTxCb3VuZD4pIC0+IEJvb2wge30KfQpleHRlbnNpb24gQ2xvc2VkUmFuZ2UuSW5kZXggewp9CmV4dGVuc2lvbiBDb2xsZWN0aW9uT2ZPbmUgewp9CmV4dGVuc2lvbiBDb250aWd1b3VzQXJyYXkgewogICAgcHVibGljIHZhciBjYXBhY2l0eTogSW50IHsgZ2V0IH0KICAgIHB1YmxpYyBmdW5jIHdpdGhVbnNhZmVCdWZmZXJQb2ludGVyPFI+KF8gYm9keTogKFVuc2FmZUJ1ZmZlclBvaW50ZXI8RWxlbWVudD4pIHRocm93cyAtPiBSKSByZXRocm93cyAtPiBSIHt9CiAgICBwdWJsaWMgZnVuYyB3aXRoVW5zYWZlQnl0ZXM8Uj4oXyBib2R5OiAoVW5zYWZlUmF3QnVmZmVyUG9pbnRlcikgdGhyb3dzIC0+IFIpIHJldGhyb3dzIC0+IFIge30KICAgIHB1YmxpYyBtdXRhdGluZyBmdW5jIHdpdGhVbnNhZmVNdXRhYmxlQnVmZmVyUG9pbnRlcjxSPihfIGJvZHk6IChpbm91dCBVbnNhZmVNdXRhYmxlQnVmZmVyUG9pbnRlcjxFbGVtZW50PikgdGhyb3dzIC0+IFIpIHJldGhyb3dzIC0+IFIge30KICAgIHB1YmxpYyBtdXRhdGluZyBmdW5jIHdpdGhVbnNhZmVNdXRhYmxlQnl0ZXM8Uj4oXyBib2R5OiAoVW5zYWZlTXV0YWJsZVJhd0J1ZmZlclBvaW50ZXIpIHRocm93cyAtPiBSKSByZXRocm93cyAtPiBSIHt9Cn0KZXh0ZW5zaW9uIERlZmF1bHRJbmRpY2VzIHsKICAgIHB1YmxpYyBzdWJzY3JpcHQoaTogSW5kZXgpIC0+IEVsZW1lbnRzLkluZGV4IHsgZ2V0IH0ge30KfQpleHRlbnNpb24gRGljdGlvbmFyeSB7CiAgICBwdWJsaWMgdmFyIGNhcGFjaXR5OiBJbnQgeyBnZXQgfQogICAgQGF2YWlsYWJsZShzd2lmdCwgaW50cm9kdWNlZDogNC4wKSBwdWJsaWMgdmFyIGtleXM6IEtleXMgeyBnZXQgfQogICAgQGF2YWlsYWJsZShzd2lmdCwgaW50cm9kdWNlZDogNC4wKSBwdWJsaWMgdmFyIHZhbHVlczogVmFsdWVzIHsgZ2V0IHNldCB9CiAgICBwdWJsaWMgc3Vic2NyaXB0KGtleTogS2V5KSAtPiBWYWx1ZT8geyBnZXQgc2V0IH0ge30KICAgIHB1YmxpYyBmdW5jIGluZGV4KGZvcktleSBrZXk6IEtleSkgLT4gSW5kZXg/IHt9CiAgICBwdWJsaWMgZnVuYyBtYXBWYWx1ZXM8VD4oXyB0cmFuc2Zvcm06IChWYWx1ZSkgdGhyb3dzIC0+IFQpIHJldGhyb3dzIC0+IFtLZXk6IFRdIHt9CiAgICBwdWJsaWMgbXV0YXRpbmcgZnVuYyBtZXJnZShfIG90aGVyOiBbS2V5OiBWYWx1ZV0sIHVuaXF1aW5nS2V5c1dpdGggY29tYmluZTogKFZhbHVlLCBWYWx1ZSkgdGhyb3dzIC0+IFZhbHVlKSByZXRocm93cyB7fQogICAgcHVibGljIG11dGF0aW5nIGZ1bmMgbWVyZ2U8Uz4oXyBvdGhlcjogUywgdW5pcXVpbmdLZXlzV2l0aCBjb21iaW5lOiAoVmFsdWUsIFZhbHVlKSB0aHJvd3MgLT4gVmFsdWUpIHJldGhyb3dzIHdoZXJlIFMgOiBTZXF1ZW5jZSwgKEtleSwgVmFsdWUpID09IFMuRWxlbWVudCB7fQogICAgcHVibGljIGZ1bmMgbWVyZ2luZyhfIG90aGVyOiBbS2V5OiBWYWx1ZV0sIHVuaXF1aW5nS2V5c1dpdGggY29tYmluZTogKFZhbHVlLCBWYWx1ZSkgdGhyb3dzIC0+IFZhbHVlKSByZXRocm93cyAtPiBbS2V5OiBWYWx1ZV0ge30KICAgIHB1YmxpYyBmdW5jIG1lcmdpbmc8Uz4oXyBvdGhlcjogUywgdW5pcXVpbmdLZXlzV2l0aCBjb21iaW5lOiAoVmFsdWUsIFZhbHVlKSB0aHJvd3MgLT4gVmFsdWUpIHJldGhyb3dzIC0+IFtLZXk6IFZhbHVlXSB3aGVyZSBTIDogU2VxdWVuY2UsIChLZXksIFZhbHVlKSA9PSBTLkVsZW1lbnQge30KICAgIEBkaXNjYXJkYWJsZVJlc3VsdCBwdWJsaWMgbXV0YXRpbmcgZnVuYyByZW1vdmUoYXQgaW5kZXg6IEluZGV4KSAtPiBFbGVtZW50IHt9CiAgICBwdWJsaWMgbXV0YXRpbmcgZnVuYyByZW1vdmVBbGwoa2VlcGluZ0NhcGFjaXR5IGtlZXBDYXBhY2l0eTogQm9vbCA9IHgpIHt9CiAgICBAZGlzY2FyZGFibGVSZXN1bHQgcHVibGljIG11dGF0aW5nIGZ1bmMgcmVtb3ZlVmFsdWUoZm9yS2V5IGtleTogS2V5KSAtPiBWYWx1ZT8ge30KICAgIHB1YmxpYyBtdXRhdGluZyBmdW5jIHJlc2VydmVDYXBhY2l0eShfIG1pbmltdW1DYXBhY2l0eTogSW50KSB7fQogICAgQGRpc2NhcmRhYmxlUmVzdWx0IHB1YmxpYyBtdXRhdGluZyBmdW5jIHVwZGF0ZVZhbHVlKF8gdmFsdWU6IFZhbHVlLCBmb3JLZXkga2V5OiBLZXkpIC0+IFZhbHVlPyB7fQp9CmV4dGVuc2lvbiBEaWN0aW9uYXJ5LkluZGV4IHsKICAgIHB1YmxpYyB2YXIgaGFzaFZhbHVlOiBJbnQgeyBnZXQgfQogICAgcHVibGljIGZ1bmMgPChsaHM6IFtLZXk6IFZhbHVlXS5JbmRleCwgcmhzOiBbS2V5OiBWYWx1ZV0uSW5kZXgpIC0+IEJvb2wge30KICAgIHB1YmxpYyBmdW5jID09KGxoczogW0tleTogVmFsdWVdLkluZGV4LCByaHM6IFtLZXk6IFZhbHVlXS5JbmRleCkgLT4gQm9vbCB7fQogICAgcHVibGljIGZ1bmMgaGFzaChpbnRvIGhhc2hlcjogaW5vdXQgSGFzaGVyKSB7fQp9CmV4dGVuc2lvbiBEaWN0aW9uYXJ5SXRlcmF0b3Igewp9CmV4dGVuc2lvbiBEaWN0aW9uYXJ5TGl0ZXJhbCB7Cn0KZXh0ZW5zaW9uIEVtcHR5Q29sbGVjdGlvbiB7Cn0KZXh0ZW5zaW9uIEVtcHR5Q29sbGVjdGlvbi5JdGVyYXRvciB7Cn0KZXh0ZW5zaW9uIEVudW1lcmF0ZWRJdGVyYXRvciB7Cn0KZXh0ZW5zaW9uIEVudW1lcmF0ZWRTZXF1ZW5jZSB7Cn0KZXh0ZW5zaW9uIEZsYXR0ZW5Db2xsZWN0aW9uIHsKfQpleHRlbnNpb24gRmxhdHRlbkNvbGxlY3Rpb24uSW5kZXggewp9CmV4dGVuc2lvbiBGbGF0dGVuU2VxdWVuY2Ugewp9CmV4dGVuc2lvbiBGbGF0dGVuU2VxdWVuY2UuSXRlcmF0b3Igewp9CmV4dGVuc2lvbiBJbmRleGluZ0l0ZXJhdG9yIHsKfQpleHRlbnNpb24gSXRlcmF0b3JPdmVyT25lIHsKfQpleHRlbnNpb24gSXRlcmF0b3JTZXF1ZW5jZSB7Cn0KZXh0ZW5zaW9uIEpvaW5lZFNlcXVlbmNlIHsKfQpleHRlbnNpb24gSm9pbmVkU2VxdWVuY2UuSXRlcmF0b3Igewp9CmV4dGVuc2lvbiBMYXp5Q29sbGVjdGlvbiB7Cn0KZXh0ZW5zaW9uIExhenlEcm9wV2hpbGVDb2xsZWN0aW9uIHsKfQpleHRlbnNpb24gTGF6eURyb3BXaGlsZUNvbGxlY3Rpb24uSW5kZXggewp9CmV4dGVuc2lvbiBMYXp5RHJvcFdoaWxlU2VxdWVuY2Ugewp9CmV4dGVuc2lvbiBMYXp5RHJvcFdoaWxlU2VxdWVuY2UuSXRlcmF0b3Igewp9CmV4dGVuc2lvbiBMYXp5RmlsdGVyQ29sbGVjdGlvbiB7Cn0KZXh0ZW5zaW9uIExhenlGaWx0ZXJTZXF1ZW5jZSB7Cn0KZXh0ZW5zaW9uIExhenlGaWx0ZXJTZXF1ZW5jZS5JdGVyYXRvciB7Cn0KZXh0ZW5zaW9uIExhenlNYXBDb2xsZWN0aW9uIHsKfQpleHRlbnNpb24gTGF6eU1hcFNlcXVlbmNlIHsKfQpleHRlbnNpb24gTGF6eU1hcFNlcXVlbmNlLkl0ZXJhdG9yIHsKfQpleHRlbnNpb24gTGF6eVByZWZpeFdoaWxlQ29sbGVjdGlvbiB7Cn0KZXh0ZW5zaW9uIExhenlQcmVmaXhXaGlsZUNvbGxlY3Rpb24uSW5kZXggewp9CmV4dGVuc2lvbiBMYXp5UHJlZml4V2hpbGVTZXF1ZW5jZSB7Cn0KZXh0ZW5zaW9uIExhenlQcmVmaXhXaGlsZVNlcXVlbmNlLkl0ZXJhdG9yIHsKfQpleHRlbnNpb24gTGF6eVNlcXVlbmNlIHsKfQpleHRlbnNpb24gTWVtb3J5TGF5b3V0IHsKICAgIHB1YmxpYyBzdGF0aWMgZnVuYyBhbGlnbm1lbnQob2ZWYWx1ZSB2YWx1ZTogVCkgLT4gSW50IHt9CiAgICBwdWJsaWMgc3RhdGljIGZ1bmMgb2Zmc2V0KG9mIGtleTogUGFydGlhbEtleVBhdGg8VD4pIC0+IEludD8ge30KICAgIHB1YmxpYyBzdGF0aWMgZnVuYyBzaXplKG9mVmFsdWUgdmFsdWU6IFQpIC0+IEludCB7fQogICAgcHVibGljIHN0YXRpYyBmdW5jIHN0cmlkZShvZlZhbHVlIHZhbHVlOiBUKSAtPiBJbnQge30KfQpleHRlbnNpb24gT3B0aW9uYWwgewogICAgcHVibGljIGZ1bmMgfj0obGhzOiBfT3B0aW9uYWxOaWxDb21wYXJpc29uVHlwZSwgcmhzOiBXcmFwcGVkPykgLT4gQm9vbCB7fQp9CmV4dGVuc2lvbiBQYXJ0aWFsUmFuZ2VGcm9tIHsKfQpleHRlbnNpb24gUGFydGlhbFJhbmdlVGhyb3VnaCB7Cn0KZXh0ZW5zaW9uIFBhcnRpYWxSYW5nZVVwVG8gewp9CmV4dGVuc2lvbiBSYW5nZSB7CiAgICBwdWJsaWMgaW5pdChfIG90aGVyOiBDbG9zZWRSYW5nZTxCb3VuZD4pIHdoZXJlIEJvdW5kIDogU3RyaWRlYWJsZSwgQm91bmQuU3RyaWRlIDogU2lnbmVkSW50ZWdlciB7fQogICAgcHVibGljIGZ1bmMgY2xhbXBlZCh0byBsaW1pdHM6IFJhbmdlKSAtPiBSYW5nZSB7fQogICAgcHVibGljIGZ1bmMgb3ZlcmxhcHMoXyBvdGhlcjogUmFuZ2U8Qm91bmQ+KSAtPiBCb29sIHt9Cn0KZXh0ZW5zaW9uIFJlcGVhdGVkIHsKfQpleHRlbnNpb24gUmV2ZXJzZWRDb2xsZWN0aW9uIHsKfQpleHRlbnNpb24gUmV2ZXJzZWRDb2xsZWN0aW9uLkluZGV4IHsKfQpleHRlbnNpb24gUmV2ZXJzZWRDb2xsZWN0aW9uLkl0ZXJhdG9yIHsKfQpleHRlbnNpb24gU2V0IHsKICAgIHB1YmxpYyBpbml0KG1pbmltdW1DYXBhY2l0eTogSW50KSB7fQogICAgcHVibGljIHZhciBjYXBhY2l0eTogSW50IHsgZ2V0IH0KICAgIEBkaXNjYXJkYWJsZVJlc3VsdCBwdWJsaWMgbXV0YXRpbmcgZnVuYyByZW1vdmUoYXQgcG9zaXRpb246IEluZGV4KSAtPiBFbGVtZW50IHt9CiAgICBwdWJsaWMgbXV0YXRpbmcgZnVuYyByZW1vdmVBbGwoa2VlcGluZ0NhcGFjaXR5IGtlZXBDYXBhY2l0eTogQm9vbCA9IHgpIHt9CiAgICBwdWJsaWMgbXV0YXRpbmcgZnVuYyByZXNlcnZlQ2FwYWNpdHkoXyBtaW5pbXVtQ2FwYWNpdHk6IEludCkge30KfQpleHRlbnNpb24gU2V0LkluZGV4IHsKICAgIHB1YmxpYyB2YXIgaGFzaFZhbHVlOiBJbnQgeyBnZXQgfQogICAgcHVibGljIGZ1bmMgPChsaHM6IFNldDxFbGVtZW50Pi5JbmRleCwgcmhzOiBTZXQ8RWxlbWVudD4uSW5kZXgpIC0+IEJvb2wge30KICAgIHB1YmxpYyBmdW5jID09KGxoczogU2V0PEVsZW1lbnQ+LkluZGV4LCByaHM6IFNldDxFbGVtZW50Pi5JbmRleCkgLT4gQm9vbCB7fQogICAgcHVibGljIGZ1bmMgaGFzaChpbnRvIGhhc2hlcjogaW5vdXQgSGFzaGVyKSB7fQp9CmV4dGVuc2lvbiBTZXRJdGVyYXRvciB7Cn0KZXh0ZW5zaW9uIFNsaWNlIHsKICAgIHB1YmxpYyBzdWJzY3JpcHQoaW5kZXg6IEluZGV4KSAtPiBCYXNlLkVsZW1lbnQgeyBnZXQgc2V0IH0gd2hlcmUgQmFzZSA6IE11dGFibGVDb2xsZWN0aW9uIHt9Cn0KZXh0ZW5zaW9uIFN0cmlkZVRocm91Z2ggewp9CmV4dGVuc2lvbiBTdHJpZGVUaHJvdWdoSXRlcmF0b3Igewp9CmV4dGVuc2lvbiBTdHJpZGVUbyB7Cn0KZXh0ZW5zaW9uIFN0cmlkZVRvSXRlcmF0b3Igewp9CmV4dGVuc2lvbiBTdHJpbmcuVVRGMTZWaWV3IHsKICAgIEBhdmFpbGFibGUoc3dpZnQsIGludHJvZHVjZWQ6IDQpIHB1YmxpYyBzdWJzY3JpcHQocjogUmFuZ2U8SW5kZXg+KSAtPiBTdHJpbmcuVVRGMTZWaWV3LlN1YlNlcXVlbmNlIHsgZ2V0IH0ge30KfQpleHRlbnNpb24gU3RyaW5nLlVURjE2Vmlldy5JbmRpY2VzIHsKICAgIHB1YmxpYyBzdWJzY3JpcHQoaTogSW5kZXgpIC0+IEluZGV4IHsgZ2V0IH0ge30KfQpleHRlbnNpb24gU3RyaW5nLlVURjhWaWV3IHsKICAgIHB1YmxpYyB2YXIgY291bnQ6IEludCB7IGdldCB9CiAgICBAYXZhaWxhYmxlKHN3aWZ0LCBpbnRyb2R1Y2VkOiA0KSBwdWJsaWMgc3Vic2NyaXB0KHI6IFJhbmdlPEluZGV4PikgLT4gU3RyaW5nLlVURjhWaWV3LlN1YlNlcXVlbmNlIHsgZ2V0IH0ge30KICAgIHB1YmxpYyBmdW5jIG1ha2VJdGVyYXRvcigpIC0+IEl0ZXJhdG9yIHt9Cn0KZXh0ZW5zaW9uIFN0cmluZy5VVEY4Vmlldy5JdGVyYXRvciB7Cn0KZXh0ZW5zaW9uIFN0cmluZy5Vbmljb2RlU2NhbGFyVmlldyB7Cn0KZXh0ZW5zaW9uIFN0cmluZy5fQ2hhcmFjdGVyVmlldyB7CiAgICBwdWJsaWMgc3Vic2NyaXB0KGk6IEluZGV4KSAtPiBDaGFyYWN0ZXIgeyBnZXQgfSB7fQp9CmV4dGVuc2lvbiBTdWJzdHJpbmcuX0NoYXJhY3RlclZpZXcgewogICAgcHVibGljIHN1YnNjcmlwdChpbmRleDogSW5kZXgpIC0+IEVsZW1lbnQgeyBnZXQgfSB7fQp9CmV4dGVuc2lvbiBVVEYxNi5Db2RlVW5pdCB7Cn0KZXh0ZW5zaW9uIFVURjE2LlJldmVyc2VQYXJzZXIgewp9CmV4dGVuc2lvbiBVVEYzMi5QYXJzZXIgewogICAgcHVibGljIG11dGF0aW5nIGZ1bmMgcGFyc2VTY2FsYXI8ST4oZnJvbSBpbnB1dDogaW5vdXQgSSkgLT4gVW5pY29kZS5QYXJzZVJlc3VsdDxFbmNvZGluZy5FbmNvZGVkU2NhbGFyPiB3aGVyZSBJIDogSXRlcmF0b3JQcm90b2NvbCwgRW5jb2RpbmcuQ29kZVVuaXQgPT0gSS5FbGVtZW50IHt9Cn0KZXh0ZW5zaW9uIFVURjguQ29kZVVuaXQgewp9CmV4dGVuc2lvbiBVVEY4LlJldmVyc2VQYXJzZXIgewp9CmV4dGVuc2lvbiBVbmljb2RlLlNjYWxhciB7Cn0KZXh0ZW5zaW9uIFVuaWNvZGUuVVRGOC5Gb3J3YXJkUGFyc2VyIHsKfQpleHRlbnNpb24gVW5pY29kZS5fUGFyc2luZ0l0ZXJhdG9yIHsKfQpleHRlbnNpb24gVW5zYWZlQnVmZmVyUG9pbnRlciB7CiAgICBwdWJsaWMgaW5pdChfIG90aGVyOiBVbnNhZmVNdXRhYmxlQnVmZmVyUG9pbnRlcjxFbGVtZW50Pikge30KICAgIHB1YmxpYyBpbml0KHJlYmFzaW5nIHNsaWNlOiBTbGljZTxVbnNhZmVCdWZmZXJQb2ludGVyPEVsZW1lbnQ+Pikge30KICAgIHB1YmxpYyBpbml0KHN0YXJ0OiBVbnNhZmVQb2ludGVyPEVsZW1lbnQ+PywgY291bnQ6IEludCkge30KICAgIHB1YmxpYyB2YXIgYmFzZUFkZHJlc3M6IFVuc2FmZVBvaW50ZXI8RWxlbWVudD4/IHsgZ2V0IH0KICAgIHB1YmxpYyBzdWJzY3JpcHQoaTogSW50KSAtPiBFbGVtZW50IHsgZ2V0IH0ge30KICAgIHB1YmxpYyBmdW5jIGRlYWxsb2NhdGUoKSB7fQogICAgcHVibGljIGZ1bmMgd2l0aE1lbW9yeVJlYm91bmQ8VCwgUmVzdWx0Pih0byB0eXBlOiBULlR5cGUsIF8gYm9keTogKFVuc2FmZUJ1ZmZlclBvaW50ZXI8VD4pIHRocm93cyAtPiBSZXN1bHQpIHJldGhyb3dzIC0+IFJlc3VsdCB7fQp9CmV4dGVuc2lvbiBVbnNhZmVCdWZmZXJQb2ludGVyLkl0ZXJhdG9yIHsKfQpleHRlbnNpb24gVW5zYWZlTXV0YWJsZUJ1ZmZlclBvaW50ZXIgewogICAgcHVibGljIHN0YXRpYyBmdW5jIGFsbG9jYXRlKGNhcGFjaXR5IGNvdW50OiBJbnQpIC0+IFVuc2FmZU11dGFibGVCdWZmZXJQb2ludGVyPEVsZW1lbnQ+IHt9CiAgICBwdWJsaWMgaW5pdChtdXRhdGluZyBvdGhlcjogVW5zYWZlQnVmZmVyUG9pbnRlcjxFbGVtZW50Pikge30KICAgIHB1YmxpYyBpbml0KHJlYmFzaW5nIHNsaWNlOiBTbGljZTxVbnNhZmVNdXRhYmxlQnVmZmVyUG9pbnRlcjxFbGVtZW50Pj4pIHt9CiAgICBwdWJsaWMgaW5pdChzdGFydDogVW5zYWZlTXV0YWJsZVBvaW50ZXI8RWxlbWVudD4/LCBjb3VudDogSW50KSB7fQogICAgcHVibGljIHZhciBiYXNlQWRkcmVzczogVW5zYWZlTXV0YWJsZVBvaW50ZXI8RWxlbWVudD4/IHsgZ2V0IH0KICAgIHB1YmxpYyBzdWJzY3JpcHQoaTogSW50KSAtPiBFbGVtZW50IHsgZ2V0IHNldCB9IHt9CiAgICBwdWJsaWMgZnVuYyBhc3NpZ24ocmVwZWF0aW5nIHJlcGVhdGVkVmFsdWU6IEVsZW1lbnQpIHt9CiAgICBwdWJsaWMgZnVuYyBkZWFsbG9jYXRlKCkge30KICAgIHB1YmxpYyBmdW5jIGluaXRpYWxpemU8Uz4oZnJvbSBzb3VyY2U6IFMpIC0+IChTLkl0ZXJhdG9yLCBJbmRleCkgd2hlcmUgUyA6IFNlcXVlbmNlLCBFbGVtZW50ID09IFMuRWxlbWVudCB7fQogICAgcHVibGljIGZ1bmMgaW5pdGlhbGl6ZShyZXBlYXRpbmcgcmVwZWF0ZWRWYWx1ZTogRWxlbWVudCkge30KICAgIHB1YmxpYyBmdW5jIHdpdGhNZW1vcnlSZWJvdW5kPFQsIFJlc3VsdD4odG8gdHlwZTogVC5UeXBlLCBfIGJvZHk6IChVbnNhZmVNdXRhYmxlQnVmZmVyUG9pbnRlcjxUPikgdGhyb3dzIC0+IFJlc3VsdCkgcmV0aHJvd3MgLT4gUmVzdWx0IHt9Cn0KZXh0ZW5zaW9uIFVuc2FmZU11dGFibGVQb2ludGVyIHsKICAgIHB1YmxpYyBmdW5jIHByZWRlY2Vzc29yKCkgLT4gVW5zYWZlTXV0YWJsZVBvaW50ZXIge30KICAgIHB1YmxpYyBmdW5jIHN1Y2Nlc3NvcigpIC0+IFVuc2FmZU11dGFibGVQb2ludGVyIHt9Cn0KZXh0ZW5zaW9uIFVuc2FmZVBvaW50ZXIgewogICAgcHVibGljIGZ1bmMgcHJlZGVjZXNzb3IoKSAtPiBVbnNhZmVQb2ludGVyIHt9CiAgICBwdWJsaWMgZnVuYyBzdWNjZXNzb3IoKSAtPiBVbnNhZmVQb2ludGVyIHt9Cn0KZXh0ZW5zaW9uIFppcDJTZXF1ZW5jZSB7Cn0KZXh0ZW5zaW9uIFppcDJTZXF1ZW5jZS5JdGVyYXRvciB7Cn0=")!, encoding: String.Encoding.utf8)!
        static let xctest = String(data: Data(base64Encoded: "b3BlbiBjbGFzcyBYQ1Rlc3QgewogICAgcHVibGljIGluaXQoKSB7fQogICAgb3BlbiB2YXIgbmFtZTogU3RyaW5nIHsgZ2V0IH0KICAgIG9wZW4gdmFyIHRlc3RDYXNlQ291bnQ6IEludCB7IGdldCB9CiAgICBvcGVuIHZhciB0ZXN0UnVuOiBYQ1Rlc3RSdW4/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHRlc3RSdW5DbGFzczogQW55Q2xhc3M/IHsgZ2V0IH0KICAgIG9wZW4gZnVuYyBwZXJmb3JtKF8gcnVuOiBYQ1Rlc3RSdW4pIHt9CiAgICBvcGVuIGZ1bmMgcnVuKCkge30KICAgIG9wZW4gZnVuYyBzZXRVcCgpIHt9CiAgICBvcGVuIGZ1bmMgdGVhckRvd24oKSB7fQp9Cm9wZW4gY2xhc3MgWENUZXN0Q2FzZSA6IFBlcmZvcm1hbmNlTWV0ZXJEZWxlZ2F0ZSwgWENUZXN0IHsKICAgIG9wZW4gY2xhc3MgZnVuYyBzZXRVcCgpIHt9CiAgICBvcGVuIGNsYXNzIGZ1bmMgdGVhckRvd24oKSB7fQogICAgcHVibGljIHJlcXVpcmVkIGluaXQobmFtZTogU3RyaW5nLCB0ZXN0Q2xvc3VyZTogQGVzY2FwaW5nIFhDVGVzdENhc2VDbG9zdXJlKSB7fQogICAgb3BlbiB2YXIgY29udGludWVBZnRlckZhaWx1cmU6IEJvb2wgeyBnZXQgc2V0IH0KICAgIG9wZW4gZnVuYyBpbnZva2VUZXN0KCkge30KICAgIG9wZW4gZnVuYyByZWNvcmRGYWlsdXJlKHdpdGhEZXNjcmlwdGlvbiBkZXNjcmlwdGlvbjogU3RyaW5nLCBpbkZpbGUgZmlsZVBhdGg6IFN0cmluZywgYXRMaW5lIGxpbmVOdW1iZXI6IEludCwgZXhwZWN0ZWQ6IEJvb2wpIHt9Cn0Kb3BlbiBjbGFzcyBYQ1Rlc3RDYXNlUnVuIDogWENUZXN0UnVuIHsKfQpvcGVuIGNsYXNzIFhDVGVzdFJ1biB7CiAgICBwdWJsaWMgcmVxdWlyZWQgaW5pdCh0ZXN0OiBYQ1Rlc3QpIHt9CiAgICBvcGVuIHZhciBleGVjdXRpb25Db3VudDogSW50IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGZhaWx1cmVDb3VudDogSW50IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGhhc1N1Y2NlZWRlZDogQm9vbCB7IGdldCB9CiAgICBvcGVuIHZhciBzdGFydERhdGU6IERhdGU/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHN0b3BEYXRlOiBEYXRlPyB7IGdldCB9CiAgICBwdWJsaWMgdmFyIHRlc3Q6IFhDVGVzdCB7IGdldCB9CiAgICBvcGVuIHZhciB0ZXN0Q2FzZUNvdW50OiBJbnQgeyBnZXQgfQogICAgb3BlbiB2YXIgdGVzdER1cmF0aW9uOiBUaW1lSW50ZXJ2YWwgeyBnZXQgfQogICAgb3BlbiB2YXIgdG90YWxEdXJhdGlvbjogVGltZUludGVydmFsIHsgZ2V0IH0KICAgIG9wZW4gdmFyIHRvdGFsRmFpbHVyZUNvdW50OiBJbnQgeyBnZXQgfQogICAgb3BlbiB2YXIgdW5leHBlY3RlZEV4Y2VwdGlvbkNvdW50OiBJbnQgeyBnZXQgfQogICAgb3BlbiBmdW5jIHN0YXJ0KCkge30KICAgIG9wZW4gZnVuYyBzdG9wKCkge30KfQpvcGVuIGNsYXNzIFhDVGVzdFN1aXRlIDogWENUZXN0IHsKICAgIHB1YmxpYyBpbml0KG5hbWU6IFN0cmluZykge30KICAgIG9wZW4gdmFyIHRlc3RzIHsgZ2V0IH0KICAgIG9wZW4gZnVuYyBhZGRUZXN0KF8gdGVzdDogWENUZXN0KSB7fQp9Cm9wZW4gY2xhc3MgWENUZXN0U3VpdGVSdW4gOiBYQ1Rlc3RSdW4gewogICAgb3BlbiB2YXIgdGVzdFJ1bnMgeyBnZXQgfQogICAgb3BlbiBmdW5jIGFkZFRlc3RSdW4oXyB0ZXN0UnVuOiBYQ1Rlc3RSdW4pIHt9Cn0KcHVibGljIHByb3RvY29sIFhDVGVzdE9ic2VydmF0aW9uIDogXyB7CiAgICBmdW5jIHRlc3RCdW5kbGVEaWRGaW5pc2goXyB0ZXN0QnVuZGxlOiBCdW5kbGUpCiAgICBmdW5jIHRlc3RCdW5kbGVXaWxsU3RhcnQoXyB0ZXN0QnVuZGxlOiBCdW5kbGUpCiAgICBmdW5jIHRlc3RDYXNlKF8gdGVzdENhc2U6IFhDVGVzdENhc2UsIGRpZEZhaWxXaXRoRGVzY3JpcHRpb24gZGVzY3JpcHRpb246IFN0cmluZywgaW5GaWxlIGZpbGVQYXRoOiBTdHJpbmc/LCBhdExpbmUgbGluZU51bWJlcjogSW50KQogICAgZnVuYyB0ZXN0Q2FzZURpZEZpbmlzaChfIHRlc3RDYXNlOiBYQ1Rlc3RDYXNlKQogICAgZnVuYyB0ZXN0Q2FzZVdpbGxTdGFydChfIHRlc3RDYXNlOiBYQ1Rlc3RDYXNlKQogICAgZnVuYyB0ZXN0U3VpdGVEaWRGaW5pc2goXyB0ZXN0U3VpdGU6IFhDVGVzdFN1aXRlKQogICAgZnVuYyB0ZXN0U3VpdGVXaWxsU3RhcnQoXyB0ZXN0U3VpdGU6IFhDVGVzdFN1aXRlKQp9")!, encoding: String.Encoding.utf8)!
    }
    static let syntaxHighlighting = String(data: Data(base64Encoded: "LyoKIFN5bnRheCBIaWdobGlnaHRpbmcuY3NzCgogVGhpcyBzb3VyY2UgZmlsZSBpcyBwYXJ0IG9mIHRoZSBTREdTd2lmdCBvcGVuIHNvdXJjZSBwcm9qZWN0LgogaHR0cHM6Ly9zZGdnaWVzYnJlY2h0LmdpdGh1Yi5pby9TREdTd2lmdAoKIENvcHlyaWdodCDCqTIwMTjigJMyMDE5IEplcmVteSBEYXZpZCBHaWVzYnJlY2h0IGFuZCB0aGUgU0RHU3dpZnQgcHJvamVjdCBjb250cmlidXRvcnMuCgogU29saSBEZW8gZ2xvcmlhLgoKIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5jZSwgVmVyc2lvbiAyLjAuCiBTZWUgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wIGZvciBsaWNlbmNlIGluZm9ybWF0aW9uLgogKi8KCi8qIExheW91dCAqLwoKLnN3aWZ0IHsKICAgIGRpc3BsYXk6IGlubGluZTsKICAgIHdoaXRlLXNwYWNlOiBwcmUtd3JhcDsKfQouc3dpZnQuYmxvY2txdW90ZSB7CiAgICBkaXNwbGF5OiBibG9jazsKICAgIG1hcmdpbjogMS40ZW0gMDsKICAgIGJvcmRlcjogMXB4IHNvbGlkOwogICAgIGJvcmRlci1yYWRpdXM6IDAuMzUyOTRlbTsKICAgIHBhZGRpbmc6IDAuMzUyOTRlbSAwLjk0MTE4ZW07Cn0KCi8qIENvbG91ciAqLwoKLnN3aWZ0LmJsb2NrcXVvdGUgewogICAgYmFja2dyb3VuZC1jb2xvcjogI0Y5RkFGQTsKICAgIGJvcmRlci1jb2xvcjogICNFNkU2RTY7Cn0KLnN3aWZ0IHsKICAgIGNvbG9yOiAjMDAwMDAwOwp9Cgouc3dpZnQgLmtleXdvcmQgewogICAgY29sb3I6ICNBQTBEOTE7Cn0KCi5zd2lmdCAucHVuY3R1YXRpb24gewogICAgY29sb3I6ICMwMDAwMDA7Cn0KCi5zd2lmdCAuZXh0ZXJuYWwuaWRlbnRpZmllciB7CiAgICBjb2xvcjogIzVDMjY5OTsKfQouc3dpZnQgLmludGVybmFsLmlkZW50aWZpZXIgewogICAgY29sb3I6ICMzRjZFNzQ7Cn0KCi5zd2lmdCAubnVtYmVyIHsKICAgIGNvbG9yOiAjMEUwRUZGOwp9Cgouc3dpZnQgLnN0cmluZyB7CiAgICBjb2xvcjogI0M0MUExNjsKfQouc3dpZnQgLnN0cmluZ+KAkHB1bmN0dWF0aW9uIHsKICAgIGNvbG9yOiAjNjIyNzBCOwp9Cgouc3dpZnQgLmNvbXBpbGF0aW9u4oCQY29uZGl0aW9uIHsKICAgIGNvbG9yOiAjNjQzODIwOwp9Cgouc3dpZnQgLmNvbW1lbnQgewogICAgY29sb3I6ICMwMDc0MDA7Cn0KLnN3aWZ0IC5jb21tZW504oCQcHVuY3R1YXRpb24gewogICAgY29sb3I6ICMwMDNBMDA7Cn0KLnN3aWZ0IC51cmwgewogICAgY29sb3I6ICMwRTBFRkY7Cn0KCi5zd2lmdCAuY29kZSB7CiAgICBjb2xvcjogIzAwMDAwMDsKfQoKLyogRm9udCAqLwoKLnN3aWZ0IHsKICAgIGZvbnQtZmFtaWx5OiAiU0YgTW9ubyIsIE1lbmxvLCBtb25vc3BhY2UsICJTRiBQcm8gSWNvbnMiOwogICAgbGV0dGVyLXNwYWNpbmc6IC0wLjAyN2VtOwogICAgbGluZS1oZWlnaHQ6IDEuMjY2Njc7Cn0KCi5zd2lmdCAudGV4dCB7CiAgICBmb250LWZhbWlseTogIlNGIFBybyBUZXh0IiwgIlNGIFBybyBJY29ucyIsICItYXBwbGUtc3lzdGVtIiwgIkJsaW5rTWFjU3lzdGVtRm9udCIsICJIZWx2ZXRpY2EgTmV1ZSIsICJIZWx2ZXRpY2EiLCAiQXJpYWwiLCBzYW5zLXNlcmlmOwogICAgbGV0dGVyLXNwYWNpbmc6IDA7Cn0KCi5zd2lmdCAuY29tbWVudOKAkGtleXdvcmQgewogICAgZm9udC13ZWlnaHQ6IGJvbGQ7Cn0KCi5zd2lmdCAudXJsOmxpbmssIC5zd2lmdCAudXJsOnZpc2l0ZWQgewogICAgdGV4dC1kZWNvcmF0aW9uOiBub25lOwp9Ci5zd2lmdCAudXJsOmhvdmVyIHsKICAgIHRleHQtZGVjb3JhdGlvbjogdW5kZXJsaW5lOwp9Cg==")!, encoding: String.Encoding.utf8)!

}
