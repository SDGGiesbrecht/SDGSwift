/*
 Resources.swift

 This source file is part of the SDGSwift open source project.
 https://sdggiesbrecht.github.io/SDGSwift

 Copyright ©2018–2019 Jeremy David Giesbrecht and the SDGSwift project contributors.

 Soli Deo gloria.

 Licensed under the Apache Licence, Version 2.0.
 See http://www.apache.org/licenses/LICENSE-2.0 for licence information.
 */

import Foundation

internal enum Resources {}
internal typealias Ressourcen = Resources

extension Resources {
  enum CoreLibraries {
    static let dispatch = String(data: Data(base64Encoded: "cHVibGljIHByb3RvY29sIERpc3BhdGNoU291cmNlRmlsZVN5c3RlbU9iamVjdCA6IERpc3BhdGNoU291cmNlUHJvdG9jb2wgewojaWYgIW9zKExpbnV4KSAmJiAhb3MoQW5kcm9pZCkgJiYgIW9zKFdpbmRvd3MpCiAgICB2YXIgZGF0YTogRGlzcGF0Y2hTb3VyY2UuRmlsZVN5c3RlbUV2ZW50IHsgZ2V0IH0KI2VuZGlmCiNpZiAhb3MoTGludXgpICYmICFvcyhBbmRyb2lkKSAmJiAhb3MoV2luZG93cykKICAgIHZhciBoYW5kbGU6IEludDMyIHsgZ2V0IH0KI2VuZGlmCiNpZiAhb3MoTGludXgpICYmICFvcyhBbmRyb2lkKSAmJiAhb3MoV2luZG93cykKICAgIHZhciBtYXNrOiBEaXNwYXRjaFNvdXJjZS5GaWxlU3lzdGVtRXZlbnQgeyBnZXQgfQojZW5kaWYKfQpwdWJsaWMgcHJvdG9jb2wgRGlzcGF0Y2hTb3VyY2VNYWNoUmVjZWl2ZSA6IERpc3BhdGNoU291cmNlUHJvdG9jb2wgewojaWYgSEFWRV9NQUNICiAgICB2YXIgaGFuZGxlOiBtYWNoX3BvcnRfdCB7IGdldCB9CiNlbmRpZgp9CnB1YmxpYyBwcm90b2NvbCBEaXNwYXRjaFNvdXJjZU1hY2hTZW5kIDogRGlzcGF0Y2hTb3VyY2VQcm90b2NvbCB7CiNpZiBIQVZFX01BQ0gKICAgIHZhciBkYXRhOiBEaXNwYXRjaFNvdXJjZS5NYWNoU2VuZEV2ZW50IHsgZ2V0IH0KI2VuZGlmCiNpZiBIQVZFX01BQ0gKICAgIHZhciBoYW5kbGU6IG1hY2hfcG9ydF90IHsgZ2V0IH0KI2VuZGlmCiNpZiBIQVZFX01BQ0gKICAgIHZhciBtYXNrOiBEaXNwYXRjaFNvdXJjZS5NYWNoU2VuZEV2ZW50IHsgZ2V0IH0KI2VuZGlmCn0KcHVibGljIHByb3RvY29sIERpc3BhdGNoU291cmNlTWVtb3J5UHJlc3N1cmUgOiBEaXNwYXRjaFNvdXJjZVByb3RvY29sIHsKI2lmIEhBVkVfTUFDSAogICAgdmFyIGRhdGE6IERpc3BhdGNoU291cmNlLk1lbW9yeVByZXNzdXJlRXZlbnQgeyBnZXQgfQojZW5kaWYKI2lmIEhBVkVfTUFDSAogICAgdmFyIG1hc2s6IERpc3BhdGNoU291cmNlLk1lbW9yeVByZXNzdXJlRXZlbnQgeyBnZXQgfQojZW5kaWYKfQpwdWJsaWMgcHJvdG9jb2wgRGlzcGF0Y2hTb3VyY2VQcm9jZXNzIDogRGlzcGF0Y2hTb3VyY2VQcm90b2NvbCB7CiNpZiAhb3MoTGludXgpICYmICFvcyhBbmRyb2lkKSAmJiAhb3MoV2luZG93cykKICAgIHZhciBkYXRhOiBEaXNwYXRjaFNvdXJjZS5Qcm9jZXNzRXZlbnQgeyBnZXQgfQojZW5kaWYKI2lmICFvcyhMaW51eCkgJiYgIW9zKEFuZHJvaWQpICYmICFvcyhXaW5kb3dzKQogICAgdmFyIGhhbmRsZTogcGlkX3QgeyBnZXQgfQojZW5kaWYKI2lmICFvcyhMaW51eCkgJiYgIW9zKEFuZHJvaWQpICYmICFvcyhXaW5kb3dzKQogICAgdmFyIG1hc2s6IERpc3BhdGNoU291cmNlLlByb2Nlc3NFdmVudCB7IGdldCB9CiNlbmRpZgp9CnB1YmxpYyBwcm90b2NvbCBEaXNwYXRjaFNvdXJjZVByb3RvY29sIHsKICAgIHZhciBkYXRhOiBVSW50IHsgZ2V0IH0KICAgIHZhciBoYW5kbGU6IFVJbnQgeyBnZXQgfQogICAgdmFyIGlzQ2FuY2VsbGVkOiBCb29sIHsgZ2V0IH0KICAgIHZhciBtYXNrOiBVSW50IHsgZ2V0IH0KICAgIEBhdmFpbGFibGUobWFjT1MgMTAuMTIsIGlPUyAxMC4wLCB0dk9TIDEwLjAsIHdhdGNoT1MgMy4wLCAqKSBmdW5jIGFjdGl2YXRlKCkKICAgIGZ1bmMgY2FuY2VsKCkKICAgIGZ1bmMgcmVzdW1lKCkKICAgIEBhdmFpbGFibGUobWFjT1MgMTAuMTAsIGlPUyA4LjAsICopIGZ1bmMgc2V0Q2FuY2VsSGFuZGxlcihoYW5kbGVyOiBEaXNwYXRjaFdvcmtJdGVtKQogICAgZnVuYyBzZXRDYW5jZWxIYW5kbGVyKHFvczogRGlzcGF0Y2hRb1MgPSB4LCBmbGFnczogRGlzcGF0Y2hXb3JrSXRlbUZsYWdzID0geCwgaGFuZGxlcjogRGlzcGF0Y2hTb3VyY2VIYW5kbGVyPykKICAgIEBhdmFpbGFibGUobWFjT1MgMTAuMTAsIGlPUyA4LjAsICopIGZ1bmMgc2V0RXZlbnRIYW5kbGVyKGhhbmRsZXI6IERpc3BhdGNoV29ya0l0ZW0pCiAgICBmdW5jIHNldEV2ZW50SGFuZGxlcihxb3M6IERpc3BhdGNoUW9TID0geCwgZmxhZ3M6IERpc3BhdGNoV29ya0l0ZW1GbGFncyA9IHgsIGhhbmRsZXI6IERpc3BhdGNoU291cmNlSGFuZGxlcj8pCiAgICBAYXZhaWxhYmxlKG1hY09TIDEwLjEwLCBpT1MgOC4wLCAqKSBmdW5jIHNldFJlZ2lzdHJhdGlvbkhhbmRsZXIoaGFuZGxlcjogRGlzcGF0Y2hXb3JrSXRlbSkKICAgIGZ1bmMgc2V0UmVnaXN0cmF0aW9uSGFuZGxlcihxb3M6IERpc3BhdGNoUW9TID0geCwgZmxhZ3M6IERpc3BhdGNoV29ya0l0ZW1GbGFncyA9IHgsIGhhbmRsZXI6IERpc3BhdGNoU291cmNlSGFuZGxlcj8pCiAgICBmdW5jIHN1c3BlbmQoKQp9CnB1YmxpYyBwcm90b2NvbCBEaXNwYXRjaFNvdXJjZVJlYWQgOiBEaXNwYXRjaFNvdXJjZVByb3RvY29sIHsKfQpwdWJsaWMgcHJvdG9jb2wgRGlzcGF0Y2hTb3VyY2VTaWduYWwgOiBEaXNwYXRjaFNvdXJjZVByb3RvY29sIHsKfQpwdWJsaWMgcHJvdG9jb2wgRGlzcGF0Y2hTb3VyY2VUaW1lciA6IERpc3BhdGNoU291cmNlUHJvdG9jb2wgewogICAgQGF2YWlsYWJsZShzd2lmdCwgaW50cm9kdWNlZDogNCkgZnVuYyBzY2hlZHVsZShkZWFkbGluZTogRGlzcGF0Y2hUaW1lLCByZXBlYXRpbmcgaW50ZXJ2YWw6IERpc3BhdGNoVGltZUludGVydmFsID0geCwgbGVld2F5OiBEaXNwYXRjaFRpbWVJbnRlcnZhbCA9IHgpCiAgICBAYXZhaWxhYmxlKHN3aWZ0LCBpbnRyb2R1Y2VkOiA0KSBmdW5jIHNjaGVkdWxlKGRlYWRsaW5lOiBEaXNwYXRjaFRpbWUsIHJlcGVhdGluZyBpbnRlcnZhbDogRG91YmxlLCBsZWV3YXk6IERpc3BhdGNoVGltZUludGVydmFsID0geCkKICAgIEBhdmFpbGFibGUoc3dpZnQsIGludHJvZHVjZWQ6IDQpIGZ1bmMgc2NoZWR1bGUod2FsbERlYWRsaW5lOiBEaXNwYXRjaFdhbGxUaW1lLCByZXBlYXRpbmcgaW50ZXJ2YWw6IERpc3BhdGNoVGltZUludGVydmFsID0geCwgbGVld2F5OiBEaXNwYXRjaFRpbWVJbnRlcnZhbCA9IHgpCiAgICBAYXZhaWxhYmxlKHN3aWZ0LCBpbnRyb2R1Y2VkOiA0KSBmdW5jIHNjaGVkdWxlKHdhbGxEZWFkbGluZTogRGlzcGF0Y2hXYWxsVGltZSwgcmVwZWF0aW5nIGludGVydmFsOiBEb3VibGUsIGxlZXdheTogRGlzcGF0Y2hUaW1lSW50ZXJ2YWwgPSB4KQogICAgZnVuYyBzY2hlZHVsZU9uZXNob3QoZGVhZGxpbmU6IERpc3BhdGNoVGltZSwgbGVld2F5OiBEaXNwYXRjaFRpbWVJbnRlcnZhbCkKICAgIGZ1bmMgc2NoZWR1bGVPbmVzaG90KHdhbGxEZWFkbGluZTogRGlzcGF0Y2hXYWxsVGltZSwgbGVld2F5OiBEaXNwYXRjaFRpbWVJbnRlcnZhbCkKICAgIGZ1bmMgc2NoZWR1bGVSZXBlYXRpbmcoZGVhZGxpbmU6IERpc3BhdGNoVGltZSwgaW50ZXJ2YWw6IERpc3BhdGNoVGltZUludGVydmFsLCBsZWV3YXk6IERpc3BhdGNoVGltZUludGVydmFsKQogICAgZnVuYyBzY2hlZHVsZVJlcGVhdGluZyh3YWxsRGVhZGxpbmU6IERpc3BhdGNoV2FsbFRpbWUsIGludGVydmFsOiBEaXNwYXRjaFRpbWVJbnRlcnZhbCwgbGVld2F5OiBEaXNwYXRjaFRpbWVJbnRlcnZhbCkKfQpwdWJsaWMgcHJvdG9jb2wgRGlzcGF0Y2hTb3VyY2VVc2VyRGF0YUFkZCA6IERpc3BhdGNoU291cmNlUHJvdG9jb2wgewogICAgZnVuYyBhZGQoZGF0YTogVUludCkKfQpwdWJsaWMgcHJvdG9jb2wgRGlzcGF0Y2hTb3VyY2VVc2VyRGF0YU9yIDogRGlzcGF0Y2hTb3VyY2VQcm90b2NvbCB7CiAgICBmdW5jIG9yKGRhdGE6IFVJbnQpCn0KcHVibGljIHByb3RvY29sIERpc3BhdGNoU291cmNlVXNlckRhdGFSZXBsYWNlIDogRGlzcGF0Y2hTb3VyY2VQcm90b2NvbCB7CiAgICBmdW5jIHJlcGxhY2UoZGF0YTogVUludCkKfQpwdWJsaWMgcHJvdG9jb2wgRGlzcGF0Y2hTb3VyY2VXcml0ZSA6IERpc3BhdGNoU291cmNlUHJvdG9jb2wgewp9")!, encoding: String.Encoding.utf8)!
    static let foundation = String(data: Data(base64Encoded: "b3BlbiBjbGFzcyBCbG9ja09wZXJhdGlvbiA6IEFueU9iamVjdCwgQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBPcGVyYXRpb24gewogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQoYmxvY2s6IEBlc2NhcGluZyAoKSAtPiBWb2lkKSB7fQogICAgb3BlbiB2YXIgZXhlY3V0aW9uQmxvY2tzOiBbKCkgLT4gVm9pZF0geyBnZXQgfQogICAgb3BlbiBmdW5jIGFkZEV4ZWN1dGlvbkJsb2NrKF8gYmxvY2s6IEBlc2NhcGluZyAoKSAtPiBWb2lkKSB7fQp9Cm9wZW4gY2xhc3MgQnVuZGxlIDogQW55T2JqZWN0LCBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wgewogICAgb3BlbiBjbGFzcyB2YXIgYWxsQnVuZGxlczogW0J1bmRsZV0geyBnZXQgfQogICAgb3BlbiBjbGFzcyB2YXIgYWxsRnJhbWV3b3JrczogW0J1bmRsZV0geyBnZXQgfQogICAgb3BlbiBjbGFzcyB2YXIgbWFpbjogQnVuZGxlIHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgZnVuYyBwYXRoKGZvclJlc291cmNlIG5hbWU6IFN0cmluZz8sIG9mVHlwZSBleHQ6IFN0cmluZz8sIGluRGlyZWN0b3J5IGJ1bmRsZVBhdGg6IFN0cmluZykgLT4gU3RyaW5nPyB7fQogICAgb3BlbiBjbGFzcyBmdW5jIHBhdGhzKGZvclJlc291cmNlc09mVHlwZSBleHQ6IFN0cmluZz8sIGluRGlyZWN0b3J5IGJ1bmRsZVBhdGg6IFN0cmluZykgLT4gW1N0cmluZ10ge30KICAgIG9wZW4gY2xhc3MgZnVuYyBwcmVmZXJyZWRMb2NhbGl6YXRpb25zKGZyb20gbG9jYWxpemF0aW9uc0FycmF5OiBbU3RyaW5nXSkgLT4gW1N0cmluZ10ge30KICAgIG9wZW4gY2xhc3MgZnVuYyBwcmVmZXJyZWRMb2NhbGl6YXRpb25zKGZyb20gbG9jYWxpemF0aW9uc0FycmF5OiBbU3RyaW5nXSwgZm9yUHJlZmVyZW5jZXMgcHJlZmVyZW5jZXNBcnJheTogW1N0cmluZ10/KSAtPiBbU3RyaW5nXSB7fQogICAgb3BlbiBjbGFzcyBmdW5jIHVybChmb3JSZXNvdXJjZSBuYW1lOiBTdHJpbmc/LCB3aXRoRXh0ZW5zaW9uIGV4dDogU3RyaW5nPywgc3ViZGlyZWN0b3J5IHN1YnBhdGg6IFN0cmluZz8sIGluIGJ1bmRsZVVSTDogVVJMKSAtPiBVUkw/IHt9CiAgICBvcGVuIGNsYXNzIGZ1bmMgdXJscyhmb3JSZXNvdXJjZXNXaXRoRXh0ZW5zaW9uIGV4dDogU3RyaW5nPywgc3ViZGlyZWN0b3J5IHN1YnBhdGg6IFN0cmluZz8sIGluIGJ1bmRsZVVSTDogTlNVUkwpIC0+IFtOU1VSTF0/IHt9CiNpZiAhKG9zKFdpbmRvd3MpKQogICAgcHVibGljIGluaXQoZm9yIGFDbGFzczogQW55Q2xhc3MpIHt9CiNlbmRpZgogICAgcHVibGljIGluaXQ/KGlkZW50aWZpZXI6IFN0cmluZykge30KICAgIHB1YmxpYyBpbml0PyhwYXRoOiBTdHJpbmcpIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdD8odXJsOiBVUkwpIHt9CiAgICBvcGVuIHZhciBhcHBTdG9yZVJlY2VpcHRVUkw6IFVSTD8geyBnZXQgfQogICAgb3BlbiB2YXIgYnVpbHRJblBsdWdJbnNQYXRoOiBTdHJpbmc/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGJ1aWx0SW5QbHVnSW5zVVJMOiBVUkw/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGJ1bmRsZUlkZW50aWZpZXI6IFN0cmluZz8geyBnZXQgfQogICAgb3BlbiB2YXIgYnVuZGxlUGF0aDogU3RyaW5nIHsgZ2V0IH0KICAgIG9wZW4gdmFyIGJ1bmRsZVVSTDogVVJMIHsgZ2V0IH0KICAgIG9wZW4gdmFyIGRldmVsb3BtZW50TG9jYWxpemF0aW9uOiBTdHJpbmc/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGV4ZWN1dGFibGVBcmNoaXRlY3R1cmVzOiBbTlNOdW1iZXJdPyB7IGdldCB9CiAgICBvcGVuIHZhciBleGVjdXRhYmxlUGF0aDogU3RyaW5nPyB7IGdldCB9CiAgICBvcGVuIHZhciBleGVjdXRhYmxlVVJMOiBVUkw/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGluZm9EaWN0aW9uYXJ5OiBbU3RyaW5nOiBBbnldPyB7IGdldCB9CiAgICBvcGVuIHZhciBpc0xvYWRlZDogQm9vbCB7IGdldCB9CiAgICBvcGVuIHZhciBsb2NhbGl6YXRpb25zOiBbU3RyaW5nXSB7IGdldCB9CiAgICBvcGVuIHZhciBsb2NhbGl6ZWRJbmZvRGljdGlvbmFyeTogW1N0cmluZzogQW55XT8geyBnZXQgfQogICAgb3BlbiB2YXIgcHJlZmVycmVkTG9jYWxpemF0aW9uczogW1N0cmluZ10geyBnZXQgfQogICAgb3BlbiB2YXIgcHJpbmNpcGFsQ2xhc3M6IEFueUNsYXNzPyB7IGdldCB9CiAgICBvcGVuIHZhciBwcml2YXRlRnJhbWV3b3Jrc1BhdGg6IFN0cmluZz8geyBnZXQgfQogICAgb3BlbiB2YXIgcHJpdmF0ZUZyYW1ld29ya3NVUkw6IFVSTD8geyBnZXQgfQogICAgb3BlbiB2YXIgcmVzb3VyY2VQYXRoOiBTdHJpbmc/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHJlc291cmNlVVJMOiBVUkw/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHNoYXJlZEZyYW1ld29ya3NQYXRoOiBTdHJpbmc/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHNoYXJlZEZyYW1ld29ya3NVUkw6IFVSTD8geyBnZXQgfQogICAgb3BlbiB2YXIgc2hhcmVkU3VwcG9ydFBhdGg6IFN0cmluZz8geyBnZXQgfQogICAgb3BlbiB2YXIgc2hhcmVkU3VwcG9ydFVSTDogVVJMPyB7IGdldCB9CiAgICBvcGVuIGZ1bmMgY2xhc3NOYW1lZChfIGNsYXNzTmFtZTogU3RyaW5nKSAtPiBBbnlDbGFzcz8ge30KICAgIG9wZW4gZnVuYyBsb2FkKCkgLT4gQm9vbCB7fQogICAgb3BlbiBmdW5jIGxvYWRBbmRSZXR1cm5FcnJvcigpIHRocm93cyB7fQogICAgb3BlbiBmdW5jIGxvY2FsaXplZFN0cmluZyhmb3JLZXkga2V5OiBTdHJpbmcsIHZhbHVlOiBTdHJpbmc/LCB0YWJsZSB0YWJsZU5hbWU6IFN0cmluZz8pIC0+IFN0cmluZyB7fQogICAgb3BlbiBmdW5jIG9iamVjdChmb3JJbmZvRGljdGlvbmFyeUtleSBrZXk6IFN0cmluZykgLT4gQW55PyB7fQogICAgb3BlbiBmdW5jIHBhdGgoZm9yQXV4aWxpYXJ5RXhlY3V0YWJsZSBleGVjdXRhYmxlTmFtZTogU3RyaW5nKSAtPiBTdHJpbmc/IHt9CiAgICBvcGVuIGZ1bmMgcGF0aChmb3JSZXNvdXJjZSBuYW1lOiBTdHJpbmc/LCBvZlR5cGUgZXh0OiBTdHJpbmc/KSAtPiBTdHJpbmc/IHt9CiAgICBvcGVuIGZ1bmMgcGF0aChmb3JSZXNvdXJjZSBuYW1lOiBTdHJpbmc/LCBvZlR5cGUgZXh0OiBTdHJpbmc/LCBpbkRpcmVjdG9yeSBzdWJwYXRoOiBTdHJpbmc/KSAtPiBTdHJpbmc/IHt9CiAgICBvcGVuIGZ1bmMgcGF0aChmb3JSZXNvdXJjZSBuYW1lOiBTdHJpbmc/LCBvZlR5cGUgZXh0OiBTdHJpbmc/LCBpbkRpcmVjdG9yeSBzdWJwYXRoOiBTdHJpbmc/LCBmb3JMb2NhbGl6YXRpb24gbG9jYWxpemF0aW9uTmFtZTogU3RyaW5nPykgLT4gU3RyaW5nPyB7fQogICAgb3BlbiBmdW5jIHBhdGhzKGZvclJlc291cmNlc09mVHlwZSBleHQ6IFN0cmluZz8sIGluRGlyZWN0b3J5IHN1YnBhdGg6IFN0cmluZz8pIC0+IFtTdHJpbmddIHt9CiAgICBvcGVuIGZ1bmMgcGF0aHMoZm9yUmVzb3VyY2VzT2ZUeXBlIGV4dDogU3RyaW5nPywgaW5EaXJlY3Rvcnkgc3VicGF0aDogU3RyaW5nPywgZm9yTG9jYWxpemF0aW9uIGxvY2FsaXphdGlvbk5hbWU6IFN0cmluZz8pIC0+IFtTdHJpbmddIHt9CiAgICBvcGVuIGZ1bmMgcHJlZmxpZ2h0KCkgdGhyb3dzIHt9CiAgICBvcGVuIGZ1bmMgdXJsKGZvckF1eGlsaWFyeUV4ZWN1dGFibGUgZXhlY3V0YWJsZU5hbWU6IFN0cmluZykgLT4gVVJMPyB7fQogICAgb3BlbiBmdW5jIHVybChmb3JSZXNvdXJjZSBuYW1lOiBTdHJpbmc/LCB3aXRoRXh0ZW5zaW9uIGV4dDogU3RyaW5nPykgLT4gVVJMPyB7fQogICAgb3BlbiBmdW5jIHVybChmb3JSZXNvdXJjZSBuYW1lOiBTdHJpbmc/LCB3aXRoRXh0ZW5zaW9uIGV4dDogU3RyaW5nPywgc3ViZGlyZWN0b3J5IHN1YnBhdGg6IFN0cmluZz8pIC0+IFVSTD8ge30KICAgIG9wZW4gZnVuYyB1cmwoZm9yUmVzb3VyY2UgbmFtZTogU3RyaW5nPywgd2l0aEV4dGVuc2lvbiBleHQ6IFN0cmluZz8sIHN1YmRpcmVjdG9yeSBzdWJwYXRoOiBTdHJpbmc/LCBsb2NhbGl6YXRpb24gbG9jYWxpemF0aW9uTmFtZTogU3RyaW5nPykgLT4gVVJMPyB7fQogICAgb3BlbiBmdW5jIHVybHMoZm9yUmVzb3VyY2VzV2l0aEV4dGVuc2lvbiBleHQ6IFN0cmluZz8sIHN1YmRpcmVjdG9yeSBzdWJwYXRoOiBTdHJpbmc/KSAtPiBbTlNVUkxdPyB7fQogICAgb3BlbiBmdW5jIHVybHMoZm9yUmVzb3VyY2VzV2l0aEV4dGVuc2lvbiBleHQ6IFN0cmluZz8sIHN1YmRpcmVjdG9yeSBzdWJwYXRoOiBTdHJpbmc/LCBsb2NhbGl6YXRpb24gbG9jYWxpemF0aW9uTmFtZTogU3RyaW5nPykgLT4gW05TVVJMXT8ge30KfQpvcGVuIGNsYXNzIEJ5dGVDb3VudEZvcm1hdHRlciA6IEFueU9iamVjdCwgQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgRm9ybWF0dGVyLCBIYXNoYWJsZSwgTlNDb2RpbmcsIE5TQ29weWluZywgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wgewogICAgb3BlbiBjbGFzcyBmdW5jIHN0cmluZyhmcm9tQnl0ZUNvdW50IGJ5dGVDb3VudDogSW50NjQsIGNvdW50U3R5bGU6IEJ5dGVDb3VudEZvcm1hdHRlci5Db3VudFN0eWxlKSAtPiBTdHJpbmcge30KICAgIG9wZW4gdmFyIGFsbG93ZWRVbml0czogVW5pdHMgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGFsbG93c05vbm51bWVyaWNGb3JtYXR0aW5nOiBCb29sIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBjb3VudFN0eWxlOiBDb3VudFN0eWxlIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBmb3JtYXR0aW5nQ29udGV4dDogQ29udGV4dCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgaW5jbHVkZXNBY3R1YWxCeXRlQ291bnQ6IEJvb2wgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGluY2x1ZGVzQ291bnQ6IEJvb2wgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGluY2x1ZGVzVW5pdDogQm9vbCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgaXNBZGFwdGl2ZTogQm9vbCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgemVyb1BhZHNGcmFjdGlvbkRpZ2l0czogQm9vbCB7IGdldCBzZXQgfQogICAgb3BlbiBmdW5jIHN0cmluZyhmcm9tQnl0ZUNvdW50IGJ5dGVDb3VudDogSW50NjQpIC0+IFN0cmluZyB7fQp9Cm9wZW4gY2xhc3MgQ2FjaGVkVVJMUmVzcG9uc2UgOiBBbnlPYmplY3QsIEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU0NvcHlpbmcsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sIHsKICAgIHB1YmxpYyBpbml0KHJlc3BvbnNlOiBVUkxSZXNwb25zZSwgZGF0YTogRGF0YSkge30KICAgIHB1YmxpYyBpbml0KHJlc3BvbnNlOiBVUkxSZXNwb25zZSwgZGF0YTogRGF0YSwgdXNlckluZm86IFtBbnlIYXNoYWJsZTogQW55XT8gPSB4LCBzdG9yYWdlUG9saWN5OiBVUkxDYWNoZS5TdG9yYWdlUG9saWN5KSB7fQogICAgb3BlbiB2YXIgZGF0YTogRGF0YSB7IGdldCB9CiAgICBvcGVuIHZhciByZXNwb25zZTogVVJMUmVzcG9uc2UgeyBnZXQgfQogICAgb3BlbiB2YXIgc3RvcmFnZVBvbGljeTogVVJMQ2FjaGUuU3RvcmFnZVBvbGljeSB7IGdldCB9CiAgICBvcGVuIHZhciB1c2VySW5mbzogW0FueUhhc2hhYmxlOiBBbnldPyB7IGdldCB9Cn0Kb3BlbiBjbGFzcyBEYXRlRm9ybWF0dGVyIDogQW55T2JqZWN0LCBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBGb3JtYXR0ZXIsIEhhc2hhYmxlLCBOU0NvZGluZywgTlNDb3B5aW5nLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCB7CiAgICBvcGVuIGNsYXNzIGZ1bmMgZGF0ZUZvcm1hdChmcm9tVGVtcGxhdGUgdG1wbGF0ZTogU3RyaW5nLCBvcHRpb25zIG9wdHM6IEludCwgbG9jYWxlOiBMb2NhbGU/KSAtPiBTdHJpbmc/IHt9CiAgICBvcGVuIGNsYXNzIGZ1bmMgbG9jYWxpemVkU3RyaW5nKGZyb20gZGF0ZTogRGF0ZSwgZGF0ZVN0eWxlIGRzdHlsZTogU3R5bGUsIHRpbWVTdHlsZSB0c3R5bGU6IFN0eWxlKSAtPiBTdHJpbmcge30KICAgIG9wZW4gdmFyIGFtU3ltYm9sOiBTdHJpbmcgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGNhbGVuZGFyOiBDYWxlbmRhciEgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGRhdGVGb3JtYXQ6IFN0cmluZyEgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGRhdGVTdHlsZTogU3R5bGUgeyBnZXQgfQogICAgb3BlbiB2YXIgZGVmYXVsdERhdGU6IERhdGU/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGRvZXNSZWxhdGl2ZURhdGVGb3JtYXR0aW5nIHsgZ2V0IH0KICAgIG9wZW4gdmFyIGVyYVN5bWJvbHM6IFtTdHJpbmddIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBmb3JtYXR0aW5nQ29udGV4dDogQ29udGV4dCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgZ2VuZXJhdGVzQ2FsZW5kYXJEYXRlcyB7IGdldCB9CiAgICBvcGVuIHZhciBncmVnb3JpYW5TdGFydERhdGU6IERhdGU/IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBpc0xlbmllbnQgeyBnZXQgfQogICAgb3BlbiB2YXIgbG9jYWxlOiBMb2NhbGUhIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBsb25nRXJhU3ltYm9sczogW1N0cmluZ10geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIG1vbnRoU3ltYm9sczogW1N0cmluZ10geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHBtU3ltYm9sOiBTdHJpbmcgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHF1YXJ0ZXJTeW1ib2xzOiBbU3RyaW5nXSB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgc2hvcnRNb250aFN5bWJvbHM6IFtTdHJpbmddIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBzaG9ydFF1YXJ0ZXJTeW1ib2xzOiBbU3RyaW5nXSB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgc2hvcnRTdGFuZGFsb25lTW9udGhTeW1ib2xzOiBbU3RyaW5nXSB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgc2hvcnRTdGFuZGFsb25lUXVhcnRlclN5bWJvbHM6IFtTdHJpbmddIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBzaG9ydFN0YW5kYWxvbmVXZWVrZGF5U3ltYm9sczogW1N0cmluZ10geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHNob3J0V2Vla2RheVN5bWJvbHM6IFtTdHJpbmddIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBzdGFuZGFsb25lTW9udGhTeW1ib2xzOiBbU3RyaW5nXSB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgc3RhbmRhbG9uZVF1YXJ0ZXJTeW1ib2xzOiBbU3RyaW5nXSB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgc3RhbmRhbG9uZVdlZWtkYXlTeW1ib2xzOiBbU3RyaW5nXSB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgdGltZVN0eWxlOiBTdHlsZSB7IGdldCB9CiAgICBvcGVuIHZhciB0aW1lWm9uZTogVGltZVpvbmUhIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciB0d29EaWdpdFN0YXJ0RGF0ZTogRGF0ZT8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHZlcnlTaG9ydE1vbnRoU3ltYm9sczogW1N0cmluZ10geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHZlcnlTaG9ydFN0YW5kYWxvbmVNb250aFN5bWJvbHM6IFtTdHJpbmddIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciB2ZXJ5U2hvcnRTdGFuZGFsb25lV2Vla2RheVN5bWJvbHM6IFtTdHJpbmddIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciB2ZXJ5U2hvcnRXZWVrZGF5U3ltYm9sczogW1N0cmluZ10geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHdlZWtkYXlTeW1ib2xzOiBbU3RyaW5nXSB7IGdldCBzZXQgfQogICAgb3BlbiBmdW5jIGRhdGUoZnJvbSBzdHJpbmc6IFN0cmluZykgLT4gRGF0ZT8ge30KICAgIG9wZW4gZnVuYyBzZXRMb2NhbGl6ZWREYXRlRm9ybWF0RnJvbVRlbXBsYXRlKF8gZGF0ZUZvcm1hdFRlbXBsYXRlOiBTdHJpbmcpIHt9CiAgICBvcGVuIGZ1bmMgc3RyaW5nKGZyb20gZGF0ZTogRGF0ZSkgLT4gU3RyaW5nIHt9Cn0Kb3BlbiBjbGFzcyBEYXRlSW50ZXJ2YWxGb3JtYXR0ZXIgOiBBbnlPYmplY3QsIEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEZvcm1hdHRlciwgSGFzaGFibGUsIE5TQ29kaW5nLCBOU0NvcHlpbmcsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sIHsKICAgIG9wZW4gdmFyIGNhbGVuZGFyOiBDYWxlbmRhciEgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGRhdGVTdHlsZTogU3R5bGUgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGRhdGVUZW1wbGF0ZTogU3RyaW5nISB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgbG9jYWxlOiBMb2NhbGUhIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciB0aW1lU3R5bGU6IFN0eWxlIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciB0aW1lWm9uZTogVGltZVpvbmUhIHsgZ2V0IHNldCB9CiAgICBvcGVuIGZ1bmMgc3RyaW5nKGZyb20gZGF0ZUludGVydmFsOiBEYXRlSW50ZXJ2YWwpIC0+IFN0cmluZz8ge30KICAgIG9wZW4gZnVuYyBzdHJpbmcoZnJvbSBmcm9tRGF0ZTogRGF0ZSwgdG8gdG9EYXRlOiBEYXRlKSAtPiBTdHJpbmcge30KfQpvcGVuIGNsYXNzIERpbWVuc2lvbiA6IEFueU9iamVjdCwgQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TQ29kaW5nLCBOU0NvcHlpbmcsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBOU1NlY3VyZUNvZGluZywgVW5pdCB7CiAgICBvcGVuIGNsYXNzIGZ1bmMgYmFzZVVuaXQoKSAtPiBTZWxmIHt9CiAgICBwdWJsaWMgcmVxdWlyZWQgaW5pdChzeW1ib2w6IFN0cmluZywgY29udmVydGVyOiBVbml0Q29udmVydGVyKSB7fQogICAgb3BlbiB2YXIgY29udmVydGVyOiBVbml0Q29udmVydGVyIHsgZ2V0IH0KfQpvcGVuIGNsYXNzIEVuZXJneUZvcm1hdHRlciA6IEFueU9iamVjdCwgQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgRm9ybWF0dGVyLCBIYXNoYWJsZSwgTlNDb2RpbmcsIE5TQ29weWluZywgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wgewogICAgb3BlbiB2YXIgaXNGb3JGb29kRW5lcmd5VXNlOiBCb29sIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBudW1iZXJGb3JtYXR0ZXI6IE51bWJlckZvcm1hdHRlciEgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHVuaXRTdHlsZTogVW5pdFN0eWxlIHsgZ2V0IHNldCB9CiAgICBvcGVuIGZ1bmMgc3RyaW5nKGZyb21Kb3VsZXMgbnVtYmVySW5Kb3VsZXM6IERvdWJsZSkgLT4gU3RyaW5nIHt9CiAgICBvcGVuIGZ1bmMgc3RyaW5nKGZyb21WYWx1ZSB2YWx1ZTogRG91YmxlLCB1bml0OiBVbml0KSAtPiBTdHJpbmcge30KICAgIG9wZW4gZnVuYyB1bml0U3RyaW5nKGZyb21Kb3VsZXMgbnVtYmVySW5Kb3VsZXM6IERvdWJsZSwgdXNlZFVuaXQgdW5pdHA6IFVuc2FmZU11dGFibGVQb2ludGVyPFVuaXQ+PykgLT4gU3RyaW5nIHt9CiAgICBvcGVuIGZ1bmMgdW5pdFN0cmluZyhmcm9tVmFsdWUgdmFsdWU6IERvdWJsZSwgdW5pdDogVW5pdCkgLT4gU3RyaW5nIHt9Cn0Kb3BlbiBjbGFzcyBGaWxlSGFuZGxlIDogQW55T2JqZWN0LCBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wgewogICAgb3BlbiBjbGFzcyB2YXIgbnVsbERldmljZTogRmlsZUhhbmRsZSB7IGdldCB9CiAgICBwdWJsaWMgc3RhdGljIHZhciByZWFkQ29tcGxldGlvbk5vdGlmaWNhdGlvbiB7IGdldCB9CiAgICBvcGVuIGNsYXNzIHZhciBzdGFuZGFyZEVycm9yOiBGaWxlSGFuZGxlIHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgdmFyIHN0YW5kYXJkSW5wdXQ6IEZpbGVIYW5kbGUgeyBnZXQgfQogICAgb3BlbiBjbGFzcyB2YXIgc3RhbmRhcmRPdXRwdXQ6IEZpbGVIYW5kbGUgeyBnZXQgfQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQoZmlsZURlc2NyaXB0b3IgZmQ6IEludDMyKSB7fQogICAgcHVibGljIGluaXQoZmlsZURlc2NyaXB0b3IgZmQ6IEludDMyLCBjbG9zZU9uRGVhbGxvYyBjbG9zZW9wdDogQm9vbCkge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0Pyhmb3JSZWFkaW5nQXRQYXRoIHBhdGg6IFN0cmluZykge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KGZvclJlYWRpbmdGcm9tIHVybDogVVJMKSB0aHJvd3Mge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KGZvclVwZGF0aW5nIHVybDogVVJMKSB0aHJvd3Mge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0Pyhmb3JVcGRhdGluZ0F0UGF0aCBwYXRoOiBTdHJpbmcpIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdD8oZm9yV3JpdGluZ0F0UGF0aCBwYXRoOiBTdHJpbmcpIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdChmb3JXcml0aW5nVG8gdXJsOiBVUkwpIHRocm93cyB7fQogICAgb3BlbiB2YXIgYXZhaWxhYmxlRGF0YTogRGF0YSB7IGdldCB9CiNpZiAhKG9zKFdpbmRvd3MpKQogICAgb3BlbiB2YXIgZmlsZURlc2NyaXB0b3I6IEludDMyIHsgZ2V0IH0KI2VuZGlmCiAgICBvcGVuIHZhciByZWFkYWJpbGl0eUhhbmRsZXI6ICgoRmlsZUhhbmRsZSkgLT4gVm9pZCk/IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciB3cml0ZWFiaWxpdHlIYW5kbGVyOiAoKEZpbGVIYW5kbGUpIC0+IFZvaWQpPyB7IGdldCBzZXQgfQogICAgb3BlbiBmdW5jIGFjY2VwdENvbm5lY3Rpb25JbkJhY2tncm91bmRBbmROb3RpZnkoKSB7fQogICAgQGF2YWlsYWJsZShzd2lmdCA1LjApIHB1YmxpYyBmdW5jIGNsb3NlKCkgdGhyb3dzIHt9CiAgICBAYXZhaWxhYmxlKHN3aWZ0IDUuMCkgcHVibGljIGZ1bmMgb2Zmc2V0KCkgdGhyb3dzIC0+IFVJbnQ2NCB7fQogICAgQGF2YWlsYWJsZShzd2lmdCA1LjApIHB1YmxpYyBmdW5jIHJlYWQodXBUb0NvdW50IGNvdW50OiBJbnQpIHRocm93cyAtPiBEYXRhPyB7fQogICAgb3BlbiBmdW5jIHJlYWRJbkJhY2tncm91bmRBbmROb3RpZnkoKSB7fQogICAgb3BlbiBmdW5jIHJlYWRJbkJhY2tncm91bmRBbmROb3RpZnkoZm9yTW9kZXMgbW9kZXM6IFtSdW5Mb29wLk1vZGVdPykge30KICAgIEBhdmFpbGFibGUoc3dpZnQgNS4wKSBwdWJsaWMgZnVuYyByZWFkVG9FbmQoKSB0aHJvd3MgLT4gRGF0YT8ge30KICAgIG9wZW4gZnVuYyByZWFkVG9FbmRPZkZpbGVJbkJhY2tncm91bmRBbmROb3RpZnkoKSB7fQogICAgb3BlbiBmdW5jIHJlYWRUb0VuZE9mRmlsZUluQmFja2dyb3VuZEFuZE5vdGlmeShmb3JNb2RlcyBtb2RlczogW1J1bkxvb3AuTW9kZV0/KSB7fQogICAgQGF2YWlsYWJsZShzd2lmdCA1LjApIHB1YmxpYyBmdW5jIHNlZWsodG9PZmZzZXQgb2Zmc2V0OiBVSW50NjQpIHRocm93cyB7fQogICAgQGF2YWlsYWJsZShzd2lmdCA1LjApIEBkaXNjYXJkYWJsZVJlc3VsdCBwdWJsaWMgZnVuYyBzZWVrVG9FbmQoKSB0aHJvd3MgLT4gVUludDY0IHt9CiAgICBAYXZhaWxhYmxlKHN3aWZ0IDUuMCkgcHVibGljIGZ1bmMgc3luY2hyb25pemUoKSB0aHJvd3Mge30KICAgIEBhdmFpbGFibGUoc3dpZnQgNS4wKSBwdWJsaWMgZnVuYyB0cnVuY2F0ZSh0b09mZnNldCBvZmZzZXQ6IFVJbnQ2NCkgdGhyb3dzIHt9CiAgICBvcGVuIGZ1bmMgd2FpdEZvckRhdGFJbkJhY2tncm91bmRBbmROb3RpZnkoKSB7fQogICAgb3BlbiBmdW5jIHdhaXRGb3JEYXRhSW5CYWNrZ3JvdW5kQW5kTm90aWZ5KGZvck1vZGVzIG1vZGVzOiBbUnVuTG9vcC5Nb2RlXT8pIHt9CiAgICBAYXZhaWxhYmxlKHN3aWZ0IDUuMCkgcHVibGljIGZ1bmMgd3JpdGU8VD4oY29udGVudHNPZiBkYXRhOiBUKSB0aHJvd3Mgd2hlcmUgVCA6IERhdGFQcm90b2NvbCB7fQp9Cm9wZW4gY2xhc3MgRmlsZU1hbmFnZXIgOiBBbnlPYmplY3QsIEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCB7Cm9wZW4gY2xhc3MgRGlyZWN0b3J5RW51bWVyYXRvciA6IEFueU9iamVjdCwgQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TRW51bWVyYXRvciwgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wsIFNlcXVlbmNlIHsKICAgIG9wZW4gdmFyIGRpcmVjdG9yeUF0dHJpYnV0ZXM6IFtGaWxlQXR0cmlidXRlS2V5OiBBbnldPyB7IGdldCB9CiAgICBvcGVuIHZhciBmaWxlQXR0cmlidXRlczogW0ZpbGVBdHRyaWJ1dGVLZXk6IEFueV0/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGxldmVsOiBJbnQgeyBnZXQgfQogICAgb3BlbiBmdW5jIHNraXBEZXNjZW5kYW50cygpIHt9Cn0KICAgIG9wZW4gY2xhc3MgdmFyIGRlZmF1bHQ6IEZpbGVNYW5hZ2VyIHsgZ2V0IH0KICAgIG9wZW4gdmFyIGN1cnJlbnREaXJlY3RvcnlQYXRoOiBTdHJpbmcgeyBnZXQgfQogICAgb3BlbiB3ZWFrIHZhciBkZWxlZ2F0ZTogRmlsZU1hbmFnZXJEZWxlZ2F0ZT8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGhvbWVEaXJlY3RvcnlGb3JDdXJyZW50VXNlcjogVVJMIHsgZ2V0IH0KICAgIG9wZW4gdmFyIHRlbXBvcmFyeURpcmVjdG9yeTogVVJMIHsgZ2V0IH0KICAgIG9wZW4gZnVuYyBhdHRyaWJ1dGVzT2ZGaWxlU3lzdGVtKGZvclBhdGggcGF0aDogU3RyaW5nKSB0aHJvd3MgLT4gW0ZpbGVBdHRyaWJ1dGVLZXk6IEFueV0ge30KICAgIG9wZW4gZnVuYyBhdHRyaWJ1dGVzT2ZJdGVtKGF0UGF0aCBwYXRoOiBTdHJpbmcpIHRocm93cyAtPiBbRmlsZUF0dHJpYnV0ZUtleTogQW55XSB7fQogICAgQGRpc2NhcmRhYmxlUmVzdWx0IG9wZW4gZnVuYyBjaGFuZ2VDdXJyZW50RGlyZWN0b3J5UGF0aChfIHBhdGg6IFN0cmluZykgLT4gQm9vbCB7fQogICAgb3BlbiBmdW5jIGNvbXBvbmVudHNUb0Rpc3BsYXkoZm9yUGF0aCBwYXRoOiBTdHJpbmcpIC0+IFtTdHJpbmddPyB7fQogICAgb3BlbiBmdW5jIGNvbnRlbnRzKGF0UGF0aCBwYXRoOiBTdHJpbmcpIC0+IERhdGE/IHt9CiAgICBvcGVuIGZ1bmMgY29udGVudHNFcXVhbChhdFBhdGggcGF0aDE6IFN0cmluZywgYW5kUGF0aCBwYXRoMjogU3RyaW5nKSAtPiBCb29sIHt9CiAgICBvcGVuIGZ1bmMgY29udGVudHNPZkRpcmVjdG9yeShhdCB1cmw6IFVSTCwgaW5jbHVkaW5nUHJvcGVydGllc0ZvcktleXMga2V5czogW1VSTFJlc291cmNlS2V5XT8sIG9wdGlvbnMgbWFzazogRGlyZWN0b3J5RW51bWVyYXRpb25PcHRpb25zID0geCkgdGhyb3dzIC0+IFtVUkxdIHt9CiAgICBvcGVuIGZ1bmMgY29udGVudHNPZkRpcmVjdG9yeShhdFBhdGggcGF0aDogU3RyaW5nKSB0aHJvd3MgLT4gW1N0cmluZ10ge30KICAgIG9wZW4gZnVuYyBjb3B5SXRlbShhdCBzcmNVUkw6IFVSTCwgdG8gZHN0VVJMOiBVUkwpIHRocm93cyB7fQogICAgb3BlbiBmdW5jIGNvcHlJdGVtKGF0UGF0aCBzcmNQYXRoOiBTdHJpbmcsIHRvUGF0aCBkc3RQYXRoOiBTdHJpbmcpIHRocm93cyB7fQogICAgb3BlbiBmdW5jIGNyZWF0ZURpcmVjdG9yeShhdCB1cmw6IFVSTCwgd2l0aEludGVybWVkaWF0ZURpcmVjdG9yaWVzIGNyZWF0ZUludGVybWVkaWF0ZXM6IEJvb2wsIGF0dHJpYnV0ZXM6IFtGaWxlQXR0cmlidXRlS2V5OiBBbnldPyA9IHgpIHRocm93cyB7fQogICAgb3BlbiBmdW5jIGNyZWF0ZURpcmVjdG9yeShhdFBhdGggcGF0aDogU3RyaW5nLCB3aXRoSW50ZXJtZWRpYXRlRGlyZWN0b3JpZXMgY3JlYXRlSW50ZXJtZWRpYXRlczogQm9vbCwgYXR0cmlidXRlczogW0ZpbGVBdHRyaWJ1dGVLZXk6IEFueV0/ID0geCkgdGhyb3dzIHt9CiAgICBAZGlzY2FyZGFibGVSZXN1bHQgb3BlbiBmdW5jIGNyZWF0ZUZpbGUoYXRQYXRoIHBhdGg6IFN0cmluZywgY29udGVudHMgZGF0YTogRGF0YT8sIGF0dHJpYnV0ZXMgYXR0cjogW0ZpbGVBdHRyaWJ1dGVLZXk6IEFueV0/ID0geCkgLT4gQm9vbCB7fQogICAgb3BlbiBmdW5jIGNyZWF0ZVN5bWJvbGljTGluayhhdCB1cmw6IFVSTCwgd2l0aERlc3RpbmF0aW9uVVJMIGRlc3RVUkw6IFVSTCkgdGhyb3dzIHt9CiAgICBvcGVuIGZ1bmMgY3JlYXRlU3ltYm9saWNMaW5rKGF0UGF0aCBwYXRoOiBTdHJpbmcsIHdpdGhEZXN0aW5hdGlvblBhdGggZGVzdFBhdGg6IFN0cmluZykgdGhyb3dzIHt9CiAgICBvcGVuIGZ1bmMgZGVzdGluYXRpb25PZlN5bWJvbGljTGluayhhdFBhdGggcGF0aDogU3RyaW5nKSB0aHJvd3MgLT4gU3RyaW5nIHt9CiAgICBvcGVuIGZ1bmMgZGlzcGxheU5hbWUoYXRQYXRoIHBhdGg6IFN0cmluZykgLT4gU3RyaW5nIHt9CiAgICBvcGVuIGZ1bmMgZW51bWVyYXRvcihhdCB1cmw6IFVSTCwgaW5jbHVkaW5nUHJvcGVydGllc0ZvcktleXMga2V5czogW1VSTFJlc291cmNlS2V5XT8sIG9wdGlvbnMgbWFzazogRGlyZWN0b3J5RW51bWVyYXRpb25PcHRpb25zID0geCwgZXJyb3JIYW5kbGVyIGhhbmRsZXI6ICgoVVJMLCBFcnJvcikgLT4gQm9vbCk/ID0geCkgLT4gRGlyZWN0b3J5RW51bWVyYXRvcj8ge30KICAgIG9wZW4gZnVuYyBlbnVtZXJhdG9yKGF0UGF0aCBwYXRoOiBTdHJpbmcpIC0+IERpcmVjdG9yeUVudW1lcmF0b3I/IHt9CiAgICBvcGVuIGZ1bmMgZmlsZUV4aXN0cyhhdFBhdGggcGF0aDogU3RyaW5nKSAtPiBCb29sIHt9CiAgICBvcGVuIGZ1bmMgZmlsZUV4aXN0cyhhdFBhdGggcGF0aDogU3RyaW5nLCBpc0RpcmVjdG9yeTogVW5zYWZlTXV0YWJsZVBvaW50ZXI8T2JqQ0Jvb2w+PykgLT4gQm9vbCB7fQogICAgb3BlbiBmdW5jIGZpbGVTeXN0ZW1SZXByZXNlbnRhdGlvbih3aXRoUGF0aCBwYXRoOiBTdHJpbmcpIC0+IFVuc2FmZVBvaW50ZXI8SW50OD4ge30KICAgIG9wZW4gZnVuYyBnZXRSZWxhdGlvbnNoaXAoXyBvdXRSZWxhdGlvbnNoaXA6IFVuc2FmZU11dGFibGVQb2ludGVyPFVSTFJlbGF0aW9uc2hpcD4sIG9mIGRpcmVjdG9yeTogU2VhcmNoUGF0aERpcmVjdG9yeSwgaW4gZG9tYWluTWFzazogU2VhcmNoUGF0aERvbWFpbk1hc2ssIHRvSXRlbUF0IHVybDogVVJMKSB0aHJvd3Mge30KICAgIG9wZW4gZnVuYyBnZXRSZWxhdGlvbnNoaXAoXyBvdXRSZWxhdGlvbnNoaXA6IFVuc2FmZU11dGFibGVQb2ludGVyPFVSTFJlbGF0aW9uc2hpcD4sIG9mRGlyZWN0b3J5QXQgZGlyZWN0b3J5VVJMOiBVUkwsIHRvSXRlbUF0IG90aGVyVVJMOiBVUkwpIHRocm93cyB7fQogICAgb3BlbiBmdW5jIGhvbWVEaXJlY3RvcnkoZm9yVXNlciB1c2VyTmFtZTogU3RyaW5nKSAtPiBVUkw/IHt9CiAgICBvcGVuIGZ1bmMgaXNEZWxldGFibGVGaWxlKGF0UGF0aCBwYXRoOiBTdHJpbmcpIC0+IEJvb2wge30KICAgIG9wZW4gZnVuYyBpc0V4ZWN1dGFibGVGaWxlKGF0UGF0aCBwYXRoOiBTdHJpbmcpIC0+IEJvb2wge30KICAgIG9wZW4gZnVuYyBpc1JlYWRhYmxlRmlsZShhdFBhdGggcGF0aDogU3RyaW5nKSAtPiBCb29sIHt9CiAgICBvcGVuIGZ1bmMgaXNXcml0YWJsZUZpbGUoYXRQYXRoIHBhdGg6IFN0cmluZykgLT4gQm9vbCB7fQogICAgb3BlbiBmdW5jIGxpbmtJdGVtKGF0IHNyY1VSTDogVVJMLCB0byBkc3RVUkw6IFVSTCkgdGhyb3dzIHt9CiAgICBvcGVuIGZ1bmMgbGlua0l0ZW0oYXRQYXRoIHNyY1BhdGg6IFN0cmluZywgdG9QYXRoIGRzdFBhdGg6IFN0cmluZykgdGhyb3dzIHt9CiAgICBvcGVuIGZ1bmMgbW91bnRlZFZvbHVtZVVSTHMoaW5jbHVkaW5nUmVzb3VyY2VWYWx1ZXNGb3JLZXlzIHByb3BlcnR5S2V5czogW1VSTFJlc291cmNlS2V5XT8sIG9wdGlvbnM6IFZvbHVtZUVudW1lcmF0aW9uT3B0aW9ucyA9IHgpIC0+IFtVUkxdPyB7fQogICAgb3BlbiBmdW5jIG1vdmVJdGVtKGF0IHNyY1VSTDogVVJMLCB0byBkc3RVUkw6IFVSTCkgdGhyb3dzIHt9CiAgICBvcGVuIGZ1bmMgbW92ZUl0ZW0oYXRQYXRoIHNyY1BhdGg6IFN0cmluZywgdG9QYXRoIGRzdFBhdGg6IFN0cmluZykgdGhyb3dzIHt9CiAgICBvcGVuIGZ1bmMgcmVtb3ZlSXRlbShhdCB1cmw6IFVSTCkgdGhyb3dzIHt9CiAgICBvcGVuIGZ1bmMgcmVtb3ZlSXRlbShhdFBhdGggcGF0aDogU3RyaW5nKSB0aHJvd3Mge30KI2lmICEob3MoV2luZG93cykpCiAgICBvcGVuIGZ1bmMgcmVwbGFjZUl0ZW0oYXQgb3JpZ2luYWxJdGVtVVJMOiBVUkwsIHdpdGhJdGVtQXQgbmV3SXRlbVVSTDogVVJMLCBiYWNrdXBJdGVtTmFtZTogU3RyaW5nPywgb3B0aW9uczogSXRlbVJlcGxhY2VtZW50T3B0aW9ucyA9IHgpIHRocm93cyAtPiBVUkw/IHt9CiNlbmRpZgojaWYgIShvcyhXaW5kb3dzKSkKICAgIHB1YmxpYyBmdW5jIHJlcGxhY2VJdGVtQXQoXyBvcmlnaW5hbEl0ZW1VUkw6IFVSTCwgd2l0aEl0ZW1BdCBuZXdJdGVtVVJMOiBVUkwsIGJhY2t1cEl0ZW1OYW1lOiBTdHJpbmc/ID0geCwgb3B0aW9uczogSXRlbVJlcGxhY2VtZW50T3B0aW9ucyA9IHgpIHRocm93cyAtPiBVUkw/IHt9CiNlbmRpZgogICAgb3BlbiBmdW5jIHNldEF0dHJpYnV0ZXMoXyBhdHRyaWJ1dGVzOiBbRmlsZUF0dHJpYnV0ZUtleTogQW55XSwgb2ZJdGVtQXRQYXRoIHBhdGg6IFN0cmluZykgdGhyb3dzIHt9CiAgICBvcGVuIGZ1bmMgc3RyaW5nKHdpdGhGaWxlU3lzdGVtUmVwcmVzZW50YXRpb24gc3RyOiBVbnNhZmVQb2ludGVyPEludDg+LCBsZW5ndGggbGVuOiBJbnQpIC0+IFN0cmluZyB7fQogICAgb3BlbiBmdW5jIHN1YnBhdGhzKGF0UGF0aCBwYXRoOiBTdHJpbmcpIC0+IFtTdHJpbmddPyB7fQogICAgb3BlbiBmdW5jIHN1YnBhdGhzT2ZEaXJlY3RvcnkoYXRQYXRoIHBhdGg6IFN0cmluZykgdGhyb3dzIC0+IFtTdHJpbmddIHt9CiAgICBvcGVuIGZ1bmMgdXJsKGZvciBkaXJlY3Rvcnk6IFNlYXJjaFBhdGhEaXJlY3RvcnksIGluIGRvbWFpbjogU2VhcmNoUGF0aERvbWFpbk1hc2ssIGFwcHJvcHJpYXRlRm9yIHJlZmVyZW5jZTogVVJMPywgY3JlYXRlIHNob3VsZENyZWF0ZTogQm9vbCkgdGhyb3dzIC0+IFVSTCB7fQogICAgb3BlbiBmdW5jIHVybHMoZm9yIGRpcmVjdG9yeTogU2VhcmNoUGF0aERpcmVjdG9yeSwgaW4gZG9tYWluTWFzazogU2VhcmNoUGF0aERvbWFpbk1hc2spIC0+IFtVUkxdIHt9Cn0Kb3BlbiBjbGFzcyBGb3JtYXR0ZXIgOiBBbnlPYmplY3QsIEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU0NvZGluZywgTlNDb3B5aW5nLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCB7CiAgICBvcGVuIGZ1bmMgZWRpdGluZ1N0cmluZyhmb3Igb2JqOiBBbnkpIC0+IFN0cmluZz8ge30KICAgIG9wZW4gZnVuYyBzdHJpbmcoZm9yIG9iajogQW55KSAtPiBTdHJpbmc/IHt9Cn0Kb3BlbiBjbGFzcyBIVFRQQ29va2llIDogQW55T2JqZWN0LCBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wgewogICAgb3BlbiBjbGFzcyBmdW5jIGNvb2tpZXMod2l0aFJlc3BvbnNlSGVhZGVyRmllbGRzIGhlYWRlckZpZWxkczogW1N0cmluZzogU3RyaW5nXSwgZm9yIFVSTDogVVJMKSAtPiBbSFRUUENvb2tpZV0ge30KICAgIG9wZW4gY2xhc3MgZnVuYyByZXF1ZXN0SGVhZGVyRmllbGRzKHdpdGggY29va2llczogW0hUVFBDb29raWVdKSAtPiBbU3RyaW5nOiBTdHJpbmddIHt9CiAgICBwdWJsaWMgaW5pdD8ocHJvcGVydGllczogW0hUVFBDb29raWVQcm9wZXJ0eUtleTogQW55XSkge30KICAgIG9wZW4gdmFyIGNvbW1lbnQ6IFN0cmluZz8geyBnZXQgfQogICAgb3BlbiB2YXIgY29tbWVudFVSTDogVVJMPyB7IGdldCB9CiAgICBvcGVuIHZhciBkb21haW46IFN0cmluZyB7IGdldCB9CiAgICBvcGVuIHZhciBleHBpcmVzRGF0ZTogRGF0ZT8geyBnZXQgfQogICAgb3BlbiB2YXIgaXNIVFRQT25seTogQm9vbCB7IGdldCB9CiAgICBvcGVuIHZhciBpc1NlY3VyZTogQm9vbCB7IGdldCB9CiAgICBvcGVuIHZhciBpc1Nlc3Npb25Pbmx5OiBCb29sIHsgZ2V0IH0KICAgIG9wZW4gdmFyIG5hbWU6IFN0cmluZyB7IGdldCB9CiAgICBvcGVuIHZhciBwYXRoOiBTdHJpbmcgeyBnZXQgfQogICAgb3BlbiB2YXIgcG9ydExpc3Q6IFtOU051bWJlcl0/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHByb3BlcnRpZXM6IFtIVFRQQ29va2llUHJvcGVydHlLZXk6IEFueV0/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHZhbHVlOiBTdHJpbmcgeyBnZXQgfQogICAgb3BlbiB2YXIgdmVyc2lvbjogSW50IHsgZ2V0IH0KfQpvcGVuIGNsYXNzIEhUVFBDb29raWVTdG9yYWdlIDogQW55T2JqZWN0LCBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wgewogICAgb3BlbiBjbGFzcyB2YXIgc2hhcmVkOiBIVFRQQ29va2llU3RvcmFnZSB7IGdldCB9CiAgICBvcGVuIGNsYXNzIGZ1bmMgc2hhcmVkQ29va2llU3RvcmFnZShmb3JHcm91cENvbnRhaW5lcklkZW50aWZpZXIgaWRlbnRpZmllcjogU3RyaW5nKSAtPiBIVFRQQ29va2llU3RvcmFnZSB7fQogICAgb3BlbiB2YXIgY29va2llQWNjZXB0UG9saWN5OiBIVFRQQ29va2llLkFjY2VwdFBvbGljeSB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgY29va2llczogW0hUVFBDb29raWVdPyB7IGdldCB9CiAgICBvcGVuIGZ1bmMgY29va2llcyhmb3IgdXJsOiBVUkwpIC0+IFtIVFRQQ29va2llXT8ge30KICAgIG9wZW4gZnVuYyBkZWxldGVDb29raWUoXyBjb29raWU6IEhUVFBDb29raWUpIHt9CiAgICBvcGVuIGZ1bmMgcmVtb3ZlQ29va2llcyhzaW5jZSBkYXRlOiBEYXRlKSB7fQogICAgb3BlbiBmdW5jIHNldENvb2tpZShfIGNvb2tpZTogSFRUUENvb2tpZSkge30KICAgIG9wZW4gZnVuYyBzZXRDb29raWVzKF8gY29va2llczogW0hUVFBDb29raWVdLCBmb3IgdXJsOiBVUkw/LCBtYWluRG9jdW1lbnRVUkw6IFVSTD8pIHt9CiAgICBvcGVuIGZ1bmMgc29ydGVkQ29va2llcyh1c2luZyBzb3J0T3JkZXI6IFtOU1NvcnREZXNjcmlwdG9yXSkgLT4gW0hUVFBDb29raWVdIHt9Cn0Kb3BlbiBjbGFzcyBIVFRQVVJMUmVzcG9uc2UgOiBBbnlPYmplY3QsIEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU0NvZGluZywgTlNDb3B5aW5nLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCwgTlNTZWN1cmVDb2RpbmcsIFVSTFJlc3BvbnNlIHsKICAgIG9wZW4gY2xhc3MgZnVuYyBsb2NhbGl6ZWRTdHJpbmcoZm9yU3RhdHVzQ29kZSBzdGF0dXNDb2RlOiBJbnQpIC0+IFN0cmluZyB7fQogICAgcHVibGljIGluaXQ/KHVybDogVVJMLCBzdGF0dXNDb2RlOiBJbnQsIGh0dHBWZXJzaW9uOiBTdHJpbmc/LCBoZWFkZXJGaWVsZHM6IFtTdHJpbmc6IFN0cmluZ10/KSB7fQogICAgcHVibGljIHZhciBhbGxIZWFkZXJGaWVsZHM6IFtBbnlIYXNoYWJsZTogQW55XSB7IGdldCB9CiAgICBwdWJsaWMgdmFyIHN0YXR1c0NvZGU6IEludCB7IGdldCB9Cn0Kb3BlbiBjbGFzcyBIb3N0IDogQW55T2JqZWN0LCBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wgewogICAgb3BlbiBjbGFzcyBmdW5jIGN1cnJlbnQoKSAtPiBIb3N0IHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdChhZGRyZXNzOiBTdHJpbmcpIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdChuYW1lOiBTdHJpbmc/KSB7fQogICAgb3BlbiB2YXIgYWRkcmVzczogU3RyaW5nPyB7IGdldCB9CiAgICBvcGVuIHZhciBhZGRyZXNzZXM6IFtTdHJpbmddIHsgZ2V0IH0KICAgIG9wZW4gdmFyIGxvY2FsaXplZE5hbWU6IFN0cmluZz8geyBnZXQgfQogICAgb3BlbiB2YXIgbmFtZTogU3RyaW5nPyB7IGdldCB9CiAgICBvcGVuIHZhciBuYW1lczogW1N0cmluZ10geyBnZXQgfQogICAgb3BlbiBmdW5jIGlzRXF1YWwodG8gYUhvc3Q6IEhvc3QpIC0+IEJvb2wge30KfQpvcGVuIGNsYXNzIElTTzg2MDFEYXRlRm9ybWF0dGVyIDogQW55T2JqZWN0LCBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBGb3JtYXR0ZXIsIEhhc2hhYmxlLCBOU0NvZGluZywgTlNDb3B5aW5nLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCwgTlNTZWN1cmVDb2RpbmcgewogICAgb3BlbiBjbGFzcyBmdW5jIHN0cmluZyhmcm9tIGRhdGU6IERhdGUsIHRpbWVab25lOiBUaW1lWm9uZSwgZm9ybWF0T3B0aW9uczogSVNPODYwMURhdGVGb3JtYXR0ZXIuT3B0aW9ucyA9IHgpIC0+IFN0cmluZyB7fQogICAgb3BlbiB2YXIgZm9ybWF0T3B0aW9uczogSVNPODYwMURhdGVGb3JtYXR0ZXIuT3B0aW9ucyB7IGdldCB9CiAgICBvcGVuIHZhciB0aW1lWm9uZTogVGltZVpvbmUhIHsgZ2V0IH0KICAgIG9wZW4gZnVuYyBkYXRlKGZyb20gc3RyaW5nOiBTdHJpbmcpIC0+IERhdGU/IHt9CiAgICBvcGVuIGZ1bmMgc3RyaW5nKGZyb20gZGF0ZTogRGF0ZSkgLT4gU3RyaW5nIHt9Cn0Kb3BlbiBjbGFzcyBJbnB1dFN0cmVhbSA6IEFueU9iamVjdCwgQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBTdHJlYW0gewogICAgcHVibGljIGluaXQoZGF0YTogRGF0YSkge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0PyhmaWxlQXRQYXRoIHBhdGg6IFN0cmluZykge30KICAgIHB1YmxpYyBpbml0Pyh1cmw6IFVSTCkge30KICAgIG9wZW4gdmFyIGhhc0J5dGVzQXZhaWxhYmxlOiBCb29sIHsgZ2V0IH0KICAgIG9wZW4gZnVuYyBnZXRCdWZmZXIoXyBidWZmZXI6IFVuc2FmZU11dGFibGVQb2ludGVyPFVuc2FmZU11dGFibGVQb2ludGVyPFVJbnQ4Pj8+LCBsZW5ndGggbGVuOiBVbnNhZmVNdXRhYmxlUG9pbnRlcjxJbnQ+KSAtPiBCb29sIHt9CiAgICBvcGVuIGZ1bmMgcmVhZChfIGJ1ZmZlcjogVW5zYWZlTXV0YWJsZVBvaW50ZXI8VUludDg+LCBtYXhMZW5ndGggbGVuOiBJbnQpIC0+IEludCB7fQp9Cm9wZW4gY2xhc3MgSlNPTkRlY29kZXIgewogICAgcHVibGljIGluaXQoKSB7fQogICAgb3BlbiB2YXIgZGF0YURlY29kaW5nU3RyYXRlZ3k6IERhdGFEZWNvZGluZ1N0cmF0ZWd5IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBkYXRlRGVjb2RpbmdTdHJhdGVneTogRGF0ZURlY29kaW5nU3RyYXRlZ3kgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGtleURlY29kaW5nU3RyYXRlZ3k6IEtleURlY29kaW5nU3RyYXRlZ3kgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIG5vbkNvbmZvcm1pbmdGbG9hdERlY29kaW5nU3RyYXRlZ3k6IE5vbkNvbmZvcm1pbmdGbG9hdERlY29kaW5nU3RyYXRlZ3kgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHVzZXJJbmZvOiBbQ29kaW5nVXNlckluZm9LZXk6IEFueV0geyBnZXQgc2V0IH0KICAgIG9wZW4gZnVuYyBkZWNvZGU8VD4oXyB0eXBlOiBULlR5cGUsIGZyb20gZGF0YTogRGF0YSkgdGhyb3dzIC0+IFQgd2hlcmUgVCA6IERlY29kYWJsZSB7fQp9Cm9wZW4gY2xhc3MgSlNPTkVuY29kZXIgewogICAgcHVibGljIGluaXQoKSB7fQogICAgb3BlbiB2YXIgZGF0YUVuY29kaW5nU3RyYXRlZ3k6IERhdGFFbmNvZGluZ1N0cmF0ZWd5IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBkYXRlRW5jb2RpbmdTdHJhdGVneTogRGF0ZUVuY29kaW5nU3RyYXRlZ3kgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGtleUVuY29kaW5nU3RyYXRlZ3k6IEtleUVuY29kaW5nU3RyYXRlZ3kgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIG5vbkNvbmZvcm1pbmdGbG9hdEVuY29kaW5nU3RyYXRlZ3k6IE5vbkNvbmZvcm1pbmdGbG9hdEVuY29kaW5nU3RyYXRlZ3kgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIG91dHB1dEZvcm1hdHRpbmc6IE91dHB1dEZvcm1hdHRpbmcgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHVzZXJJbmZvOiBbQ29kaW5nVXNlckluZm9LZXk6IEFueV0geyBnZXQgc2V0IH0KICAgIG9wZW4gZnVuYyBlbmNvZGU8VD4oXyB2YWx1ZTogVCkgdGhyb3dzIC0+IERhdGEgd2hlcmUgVCA6IEVuY29kYWJsZSB7fQp9Cm9wZW4gY2xhc3MgSlNPTlNlcmlhbGl6YXRpb24gOiBBbnlPYmplY3QsIEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCB7CiAgICBvcGVuIGNsYXNzIGZ1bmMgZGF0YSh3aXRoSlNPTk9iamVjdCB2YWx1ZTogQW55LCBvcHRpb25zIG9wdDogV3JpdGluZ09wdGlvbnMgPSB4KSB0aHJvd3MgLT4gRGF0YSB7fQogICAgb3BlbiBjbGFzcyBmdW5jIGlzVmFsaWRKU09OT2JqZWN0KF8gb2JqOiBBbnkpIC0+IEJvb2wge30KICAgIG9wZW4gY2xhc3MgZnVuYyBqc29uT2JqZWN0KHdpdGggZGF0YTogRGF0YSwgb3B0aW9ucyBvcHQ6IFJlYWRpbmdPcHRpb25zID0geCkgdGhyb3dzIC0+IEFueSB7fQogICAgb3BlbiBjbGFzcyBmdW5jIHdyaXRlSlNPTk9iamVjdChfIG9iajogQW55LCB0b1N0cmVhbSBzdHJlYW06IE91dHB1dFN0cmVhbSwgb3B0aW9ucyBvcHQ6IFdyaXRpbmdPcHRpb25zKSB0aHJvd3MgLT4gSW50IHt9Cn0Kb3BlbiBjbGFzcyBMZW5ndGhGb3JtYXR0ZXIgOiBBbnlPYmplY3QsIEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEZvcm1hdHRlciwgSGFzaGFibGUsIE5TQ29kaW5nLCBOU0NvcHlpbmcsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sIHsKICAgIG9wZW4gdmFyIGlzRm9yUGVyc29uSGVpZ2h0VXNlOiBCb29sIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBudW1iZXJGb3JtYXR0ZXI6IE51bWJlckZvcm1hdHRlciEgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHVuaXRTdHlsZTogVW5pdFN0eWxlIHsgZ2V0IHNldCB9CiAgICBvcGVuIGZ1bmMgc3RyaW5nKGZyb21NZXRlcnMgbnVtYmVySW5NZXRlcnM6IERvdWJsZSkgLT4gU3RyaW5nIHt9CiAgICBvcGVuIGZ1bmMgc3RyaW5nKGZyb21WYWx1ZSB2YWx1ZTogRG91YmxlLCB1bml0OiBMZW5ndGhGb3JtYXR0ZXIuVW5pdCkgLT4gU3RyaW5nIHt9CiAgICBvcGVuIGZ1bmMgdW5pdFN0cmluZyhmcm9tTWV0ZXJzIG51bWJlckluTWV0ZXJzOiBEb3VibGUsIHVzZWRVbml0IHVuaXRwOiBVbnNhZmVNdXRhYmxlUG9pbnRlcjxVbml0Pj8pIC0+IFN0cmluZyB7fQogICAgb3BlbiBmdW5jIHVuaXRTdHJpbmcoZnJvbVZhbHVlIHZhbHVlOiBEb3VibGUsIHVuaXQ6IFVuaXQpIC0+IFN0cmluZyB7fQp9Cm9wZW4gY2xhc3MgTWFzc0Zvcm1hdHRlciA6IEFueU9iamVjdCwgQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgRm9ybWF0dGVyLCBIYXNoYWJsZSwgTlNDb2RpbmcsIE5TQ29weWluZywgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wgewogICAgb3BlbiB2YXIgaXNGb3JQZXJzb25NYXNzVXNlOiBCb29sIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBudW1iZXJGb3JtYXR0ZXI6IE51bWJlckZvcm1hdHRlciEgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHVuaXRTdHlsZTogVW5pdFN0eWxlIHsgZ2V0IHNldCB9CiAgICBvcGVuIGZ1bmMgc3RyaW5nKGZyb21LaWxvZ3JhbXMgbnVtYmVySW5LaWxvZ3JhbXM6IERvdWJsZSkgLT4gU3RyaW5nIHt9CiAgICBvcGVuIGZ1bmMgc3RyaW5nKGZyb21WYWx1ZSB2YWx1ZTogRG91YmxlLCB1bml0OiBVbml0KSAtPiBTdHJpbmcge30KICAgIG9wZW4gZnVuYyB1bml0U3RyaW5nKGZyb21LaWxvZ3JhbXMgbnVtYmVySW5LaWxvZ3JhbXM6IERvdWJsZSwgdXNlZFVuaXQgdW5pdHA6IFVuc2FmZU11dGFibGVQb2ludGVyPFVuaXQ+PykgLT4gU3RyaW5nIHt9CiAgICBvcGVuIGZ1bmMgdW5pdFN0cmluZyhmcm9tVmFsdWUgdmFsdWU6IERvdWJsZSwgdW5pdDogVW5pdCkgLT4gU3RyaW5nIHt9CiAgICBvcGVuIGZ1bmMgdW5pdFN0cmluZ0Rpc3BsYXllZEFkamFjZW50KHRvVmFsdWUgdmFsdWU6IERvdWJsZSwgdW5pdDogVW5pdCkgLT4gU3RyaW5nIHt9Cn0Kb3BlbiBjbGFzcyBNZXNzYWdlUG9ydCA6IEFueU9iamVjdCwgQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TQ29kaW5nLCBOU0NvcHlpbmcsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBQb3J0IHsKfQpvcGVuIGNsYXNzIE5TQWZmaW5lVHJhbnNmb3JtIDogQW55T2JqZWN0LCBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNDb2RpbmcsIE5TQ29weWluZywgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wsIE5TU2VjdXJlQ29kaW5nLCBfU3RydWN0VHlwZUJyaWRnZWFibGUgewogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQodHJhbnNmb3JtOiBBZmZpbmVUcmFuc2Zvcm0pIHt9CiAgICBwdWJsaWMgdmFyIHRyYW5zZm9ybVN0cnVjdDogTlNBZmZpbmVUcmFuc2Zvcm1TdHJ1Y3QgeyBnZXQgc2V0IH0KICAgIG9wZW4gZnVuYyBhcHBlbmQoXyB0cmFuc2Zvcm06IEFmZmluZVRyYW5zZm9ybSkge30KICAgIG9wZW4gZnVuYyBpbnZlcnQoKSB7fQogICAgb3BlbiBmdW5jIHByZXBlbmQoXyB0cmFuc2Zvcm06IEFmZmluZVRyYW5zZm9ybSkge30KICAgIG9wZW4gZnVuYyByb3RhdGUoYnlEZWdyZWVzIGFuZ2xlOiBDR0Zsb2F0KSB7fQogICAgb3BlbiBmdW5jIHJvdGF0ZShieVJhZGlhbnMgYW5nbGU6IENHRmxvYXQpIHt9CiAgICBvcGVuIGZ1bmMgc2NhbGUoYnkgc2NhbGU6IENHRmxvYXQpIHt9CiAgICBvcGVuIGZ1bmMgc2NhbGVYKGJ5IHNjYWxlWDogQ0dGbG9hdCwgeUJ5IHNjYWxlWTogQ0dGbG9hdCkge30KICAgIG9wZW4gZnVuYyB0cmFuc2Zvcm0oXyBhUG9pbnQ6IE5TUG9pbnQpIC0+IE5TUG9pbnQge30KICAgIG9wZW4gZnVuYyB0cmFuc2Zvcm0oXyBhU2l6ZTogTlNTaXplKSAtPiBOU1NpemUge30KICAgIG9wZW4gZnVuYyB0cmFuc2xhdGVYKGJ5IGRlbHRhWDogQ0dGbG9hdCwgeUJ5IGRlbHRhWTogQ0dGbG9hdCkge30KfQpvcGVuIGNsYXNzIE5TQXJyYXkgOiBBbnlPYmplY3QsIEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVJlZmxlY3RhYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBFeHByZXNzaWJsZUJ5QXJyYXlMaXRlcmFsLCBIYXNoYWJsZSwgTlNDb2RpbmcsIE5TQ29weWluZywgTlNNdXRhYmxlQ29weWluZywgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wsIE5TU2VjdXJlQ29kaW5nLCBTZXF1ZW5jZSwgX0NGQnJpZGdlYWJsZSwgX1N0cnVjdFR5cGVCcmlkZ2VhYmxlLCBfU3dpZnRCcmlkZ2VhYmxlIHsKICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KGFycmF5OiBOU0FycmF5KSB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQoYXJyYXk6IFtBbnldLCBjb3B5SXRlbXM6IEJvb2wpIHt9CiAgICBwdWJsaWMgcmVxdWlyZWQgY29udmVuaWVuY2UgaW5pdChhcnJheUxpdGVyYWwgZWxlbWVudHM6IEFueS4uLikge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KGNvbnRlbnRzT2YgdXJsOiBVUkwsIGVycm9yOiBWb2lkKSB0aHJvd3Mge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KG9iamVjdCBhbk9iamVjdDogQW55KSB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQob2JqZWN0cyBlbGVtZW50czogQW55T2JqZWN0Li4uKSB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQob2JqZWN0czogVW5zYWZlUG9pbnRlcjxBbnlPYmplY3Q+LCBjb3VudDogSW50KSB7fQogICAgb3BlbiB2YXIgY291bnQ6IEludCB7IGdldCB9CiAgICBwdWJsaWMgdmFyIGN1c3RvbU1pcnJvcjogTWlycm9yIHsgZ2V0IH0KICAgIG9wZW4gdmFyIGZpcnN0T2JqZWN0OiBBbnk/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGxhc3RPYmplY3Q6IEFueT8geyBnZXQgfQogICAgb3BlbiB2YXIgc29ydGVkQXJyYXlIaW50OiBEYXRhIHsgZ2V0IH0KICAgIG9wZW4gc3Vic2NyaXB0KGlkeDogSW50KSAtPiBBbnkgeyBnZXQgfSB7fQogICAgb3BlbiBmdW5jIGFkZGluZyhfIGFuT2JqZWN0OiBBbnkpIC0+IFtBbnldIHt9CiAgICBvcGVuIGZ1bmMgYWRkaW5nT2JqZWN0cyhmcm9tIG90aGVyQXJyYXk6IFtBbnldKSAtPiBbQW55XSB7fQogICAgb3BlbiBmdW5jIGNvbXBvbmVudHNKb2luZWQoYnkgc2VwYXJhdG9yOiBTdHJpbmcpIC0+IFN0cmluZyB7fQogICAgb3BlbiBmdW5jIGNvbnRhaW5zKF8gYW5PYmplY3Q6IEFueSkgLT4gQm9vbCB7fQogICAgb3BlbiBmdW5jIGRlc2NyaXB0aW9uKHdpdGhMb2NhbGUgbG9jYWxlOiBMb2NhbGU/KSAtPiBTdHJpbmcge30KICAgIG9wZW4gZnVuYyBkZXNjcmlwdGlvbih3aXRoTG9jYWxlIGxvY2FsZTogTG9jYWxlPywgaW5kZW50IGxldmVsOiBJbnQpIC0+IFN0cmluZyB7fQogICAgb3BlbiBmdW5jIGVudW1lcmF0ZU9iamVjdHMoXyBibG9jazogKEFueSwgSW50LCBVbnNhZmVNdXRhYmxlUG9pbnRlcjxPYmpDQm9vbD4pIC0+IFN3aWZ0LlZvaWQpIHt9CiAgICBvcGVuIGZ1bmMgZW51bWVyYXRlT2JqZWN0cyhhdCBzOiBJbmRleFNldCwgb3B0aW9ucyBvcHRzOiBOU0VudW1lcmF0aW9uT3B0aW9ucyA9IHgsIHVzaW5nIGJsb2NrOiAoQW55LCBJbnQsIFVuc2FmZU11dGFibGVQb2ludGVyPE9iakNCb29sPikgLT4gU3dpZnQuVm9pZCkge30KICAgIG9wZW4gZnVuYyBlbnVtZXJhdGVPYmplY3RzKG9wdGlvbnMgb3B0czogTlNFbnVtZXJhdGlvbk9wdGlvbnMgPSB4LCB1c2luZyBibG9jazogKEFueSwgSW50LCBVbnNhZmVNdXRhYmxlUG9pbnRlcjxPYmpDQm9vbD4pIC0+IFN3aWZ0LlZvaWQpIHt9CiAgICBvcGVuIGZ1bmMgZmlsdGVyZWQodXNpbmcgcHJlZGljYXRlOiBOU1ByZWRpY2F0ZSkgLT4gW0FueV0ge30KICAgIG9wZW4gZnVuYyBmaXJzdE9iamVjdENvbW1vbih3aXRoIG90aGVyQXJyYXk6IFtBbnldKSAtPiBBbnk/IHt9CiAgICBvcGVuIGZ1bmMgaW5kZXgob2YgYW5PYmplY3Q6IEFueSkgLT4gSW50IHt9CiAgICBvcGVuIGZ1bmMgaW5kZXgob2YgYW5PYmplY3Q6IEFueSwgaW4gcmFuZ2U6IE5TUmFuZ2UpIC0+IEludCB7fQogICAgb3BlbiBmdW5jIGluZGV4KG9mIG9iajogQW55LCBpblNvcnRlZFJhbmdlIHI6IE5TUmFuZ2UsIG9wdGlvbnMgb3B0czogTlNCaW5hcnlTZWFyY2hpbmdPcHRpb25zID0geCwgdXNpbmdDb21wYXJhdG9yIGNtcDogKEFueSwgQW55KSAtPiBDb21wYXJpc29uUmVzdWx0KSAtPiBJbnQge30KICAgIG9wZW4gZnVuYyBpbmRleE9mT2JqZWN0KGF0IHM6IEluZGV4U2V0LCBvcHRpb25zIG9wdHM6IE5TRW51bWVyYXRpb25PcHRpb25zID0geCwgcGFzc2luZ1Rlc3QgcHJlZGljYXRlOiAoQW55LCBJbnQsIFVuc2FmZU11dGFibGVQb2ludGVyPE9iakNCb29sPikgLT4gQm9vbCkgLT4gSW50IHt9CiAgICBvcGVuIGZ1bmMgaW5kZXhPZk9iamVjdChvcHRpb25zIG9wdHM6IE5TRW51bWVyYXRpb25PcHRpb25zID0geCwgcGFzc2luZ1Rlc3QgcHJlZGljYXRlOiAoQW55LCBJbnQsIFVuc2FmZU11dGFibGVQb2ludGVyPE9iakNCb29sPikgLT4gQm9vbCkgLT4gSW50IHt9CiAgICBvcGVuIGZ1bmMgaW5kZXhPZk9iamVjdChwYXNzaW5nVGVzdCBwcmVkaWNhdGU6IChBbnksIEludCwgVW5zYWZlTXV0YWJsZVBvaW50ZXI8T2JqQ0Jvb2w+KSAtPiBCb29sKSAtPiBJbnQge30KICAgIG9wZW4gZnVuYyBpbmRleE9mT2JqZWN0SWRlbnRpY2FsKHRvIGFuT2JqZWN0OiBBbnkpIC0+IEludCB7fQogICAgb3BlbiBmdW5jIGluZGV4T2ZPYmplY3RJZGVudGljYWwodG8gYW5PYmplY3Q6IEFueSwgaW4gcmFuZ2U6IE5TUmFuZ2UpIC0+IEludCB7fQogICAgb3BlbiBmdW5jIGluZGV4ZXNPZk9iamVjdHMoYXQgczogSW5kZXhTZXQsIG9wdGlvbnMgb3B0czogTlNFbnVtZXJhdGlvbk9wdGlvbnMgPSB4LCBwYXNzaW5nVGVzdCBwcmVkaWNhdGU6IChBbnksIEludCwgVW5zYWZlTXV0YWJsZVBvaW50ZXI8T2JqQ0Jvb2w+KSAtPiBCb29sKSAtPiBJbmRleFNldCB7fQogICAgb3BlbiBmdW5jIGluZGV4ZXNPZk9iamVjdHMob3B0aW9ucyBvcHRzOiBOU0VudW1lcmF0aW9uT3B0aW9ucyA9IHgsIHBhc3NpbmdUZXN0IHByZWRpY2F0ZTogKEFueSwgSW50LCBVbnNhZmVNdXRhYmxlUG9pbnRlcjxPYmpDQm9vbD4pIC0+IEJvb2wpIC0+IEluZGV4U2V0IHt9CiAgICBvcGVuIGZ1bmMgaW5kZXhlc09mT2JqZWN0cyhwYXNzaW5nVGVzdCBwcmVkaWNhdGU6IChBbnksIEludCwgVW5zYWZlTXV0YWJsZVBvaW50ZXI8T2JqQ0Jvb2w+KSAtPiBCb29sKSAtPiBJbmRleFNldCB7fQogICAgb3BlbiBmdW5jIGlzRXF1YWwodG8gb3RoZXJBcnJheTogW0FueV0pIC0+IEJvb2wge30KICAgIHB1YmxpYyBmdW5jIG1ha2VJdGVyYXRvcigpIC0+IEl0ZXJhdG9yIHt9CiAgICBvcGVuIGZ1bmMgb2JqZWN0KGF0IGluZGV4OiBJbnQpIC0+IEFueSB7fQogICAgb3BlbiBmdW5jIG9iamVjdEVudW1lcmF0b3IoKSAtPiBOU0VudW1lcmF0b3Ige30KICAgIG9wZW4gZnVuYyBvYmplY3RzKGF0IGluZGV4ZXM6IEluZGV4U2V0KSAtPiBbQW55XSB7fQogICAgb3BlbiBmdW5jIHBhdGhzTWF0Y2hpbmdFeHRlbnNpb25zKF8gZmlsdGVyVHlwZXM6IFtTdHJpbmddKSAtPiBbU3RyaW5nXSB7fQogICAgb3BlbiBmdW5jIHJldmVyc2VPYmplY3RFbnVtZXJhdG9yKCkgLT4gTlNFbnVtZXJhdG9yIHt9CiAgICBvcGVuIGZ1bmMgc29ydGVkQXJyYXkoXyBjb21wYXJhdG9yOiAoQW55LCBBbnksIFVuc2FmZU11dGFibGVSYXdQb2ludGVyPykgLT4gSW50LCBjb250ZXh0OiBVbnNhZmVNdXRhYmxlUmF3UG9pbnRlcj8pIC0+IFtBbnldIHt9CiAgICBvcGVuIGZ1bmMgc29ydGVkQXJyYXkoXyBjb21wYXJhdG9yOiAoQW55LCBBbnksIFVuc2FmZU11dGFibGVSYXdQb2ludGVyPykgLT4gSW50LCBjb250ZXh0OiBVbnNhZmVNdXRhYmxlUmF3UG9pbnRlcj8sIGhpbnQ6IERhdGE/KSAtPiBbQW55XSB7fQogICAgb3BlbiBmdW5jIHNvcnRlZEFycmF5KGNvbXBhcmF0b3IgY21wdHI6IChBbnksIEFueSkgLT4gQ29tcGFyaXNvblJlc3VsdCkgLT4gW0FueV0ge30KICAgIG9wZW4gZnVuYyBzb3J0ZWRBcnJheShvcHRpb25zIG9wdHM6IE5TU29ydE9wdGlvbnMgPSB4LCB1c2luZ0NvbXBhcmF0b3IgY21wdHI6IChBbnksIEFueSkgLT4gQ29tcGFyaXNvblJlc3VsdCkgLT4gW0FueV0ge30KICAgIG9wZW4gZnVuYyBzb3J0ZWRBcnJheSh1c2luZyBzb3J0RGVzY3JpcHRvcnM6IFtOU1NvcnREZXNjcmlwdG9yXSkgLT4gW0FueV0ge30KICAgIG9wZW4gZnVuYyBzdWJhcnJheSh3aXRoIHJhbmdlOiBOU1JhbmdlKSAtPiBbQW55XSB7fQogICAgb3BlbiBmdW5jIHdyaXRlKHRvIHVybDogVVJMKSB0aHJvd3Mge30KfQpvcGVuIGNsYXNzIE5TQXR0cmlidXRlZFN0cmluZyA6IEFueU9iamVjdCwgQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TQ29kaW5nLCBOU0NvcHlpbmcsIE5TTXV0YWJsZUNvcHlpbmcsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBOU1NlY3VyZUNvZGluZywgX0NGQnJpZGdlYWJsZSB7CiAgICBwdWJsaWMgaW5pdChhdHRyaWJ1dGVkU3RyaW5nOiBOU0F0dHJpYnV0ZWRTdHJpbmcpIHt9CiAgICBwdWJsaWMgaW5pdChzdHJpbmc6IFN0cmluZykge30KICAgIHB1YmxpYyBpbml0KHN0cmluZzogU3RyaW5nLCBhdHRyaWJ1dGVzIGF0dHJzOiBbTlNBdHRyaWJ1dGVkU3RyaW5nLktleTogQW55XT8gPSB4KSB7fQogICAgb3BlbiB2YXIgbGVuZ3RoOiBJbnQgeyBnZXQgfQogICAgb3BlbiB2YXIgc3RyaW5nOiBTdHJpbmcgeyBnZXQgfQogICAgb3BlbiBmdW5jIGF0dHJpYnV0ZShfIGF0dHJOYW1lOiBOU0F0dHJpYnV0ZWRTdHJpbmcuS2V5LCBhdCBsb2NhdGlvbjogSW50LCBlZmZlY3RpdmVSYW5nZSByYW5nZTogTlNSYW5nZVBvaW50ZXI/KSAtPiBBbnk/IHt9CiAgICBvcGVuIGZ1bmMgYXR0cmlidXRlKF8gYXR0ck5hbWU6IE5TQXR0cmlidXRlZFN0cmluZy5LZXksIGF0IGxvY2F0aW9uOiBJbnQsIGxvbmdlc3RFZmZlY3RpdmVSYW5nZSByYW5nZTogTlNSYW5nZVBvaW50ZXI/LCBpbiByYW5nZUxpbWl0OiBOU1JhbmdlKSAtPiBBbnk/IHt9CiAgICBvcGVuIGZ1bmMgYXR0cmlidXRlZFN1YnN0cmluZyhmcm9tIHJhbmdlOiBOU1JhbmdlKSAtPiBOU0F0dHJpYnV0ZWRTdHJpbmcge30KICAgIG9wZW4gZnVuYyBhdHRyaWJ1dGVzKGF0IGxvY2F0aW9uOiBJbnQsIGVmZmVjdGl2ZVJhbmdlIHJhbmdlOiBOU1JhbmdlUG9pbnRlcj8pIC0+IFtOU0F0dHJpYnV0ZWRTdHJpbmcuS2V5OiBBbnldIHt9CiAgICBvcGVuIGZ1bmMgYXR0cmlidXRlcyhhdCBsb2NhdGlvbjogSW50LCBsb25nZXN0RWZmZWN0aXZlUmFuZ2UgcmFuZ2U6IE5TUmFuZ2VQb2ludGVyPywgaW4gcmFuZ2VMaW1pdDogTlNSYW5nZSkgLT4gW05TQXR0cmlidXRlZFN0cmluZy5LZXk6IEFueV0ge30KICAgIG9wZW4gZnVuYyBlbnVtZXJhdGVBdHRyaWJ1dGUoXyBhdHRyTmFtZTogTlNBdHRyaWJ1dGVkU3RyaW5nLktleSwgaW4gZW51bWVyYXRpb25SYW5nZTogTlNSYW5nZSwgb3B0aW9ucyBvcHRzOiBOU0F0dHJpYnV0ZWRTdHJpbmcuRW51bWVyYXRpb25PcHRpb25zID0geCwgdXNpbmcgYmxvY2s6IChBbnk/LCBOU1JhbmdlLCBVbnNhZmVNdXRhYmxlUG9pbnRlcjxPYmpDQm9vbD4pIC0+IFN3aWZ0LlZvaWQpIHt9CiAgICBvcGVuIGZ1bmMgZW51bWVyYXRlQXR0cmlidXRlcyhpbiBlbnVtZXJhdGlvblJhbmdlOiBOU1JhbmdlLCBvcHRpb25zIG9wdHM6IE5TQXR0cmlidXRlZFN0cmluZy5FbnVtZXJhdGlvbk9wdGlvbnMgPSB4LCB1c2luZyBibG9jazogKFtOU0F0dHJpYnV0ZWRTdHJpbmcuS2V5OiBBbnldLCBOU1JhbmdlLCBVbnNhZmVNdXRhYmxlUG9pbnRlcjxPYmpDQm9vbD4pIC0+IFN3aWZ0LlZvaWQpIHt9CiAgICBvcGVuIGZ1bmMgaXNFcXVhbCh0byBvdGhlcjogTlNBdHRyaWJ1dGVkU3RyaW5nKSAtPiBCb29sIHt9Cn0Kb3BlbiBjbGFzcyBOU0NhY2hlPEtleVR5cGUsIE9iamVjdFR5cGU+IDogQW55T2JqZWN0LCBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wgewogICAgb3BlbiB2YXIgY291bnRMaW1pdDogSW50IHsgZ2V0IHNldCB9CiAgICBvcGVuIHdlYWsgdmFyIGRlbGVnYXRlOiBOU0NhY2hlRGVsZWdhdGU/IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBldmljdHNPYmplY3RzV2l0aERpc2NhcmRlZENvbnRlbnQ6IEJvb2wgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIG5hbWU6IFN0cmluZyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgdG90YWxDb3N0TGltaXQ6IEludCB7IGdldCBzZXQgfQogICAgb3BlbiBmdW5jIG9iamVjdChmb3JLZXkga2V5OiBLZXlUeXBlKSAtPiBPYmplY3RUeXBlPyB7fQogICAgb3BlbiBmdW5jIHJlbW92ZUFsbE9iamVjdHMoKSB7fQogICAgb3BlbiBmdW5jIHJlbW92ZU9iamVjdChmb3JLZXkga2V5OiBLZXlUeXBlKSB7fQogICAgb3BlbiBmdW5jIHNldE9iamVjdChfIG9iajogT2JqZWN0VHlwZSwgZm9yS2V5IGtleTogS2V5VHlwZSkge30KICAgIG9wZW4gZnVuYyBzZXRPYmplY3QoXyBvYmo6IE9iamVjdFR5cGUsIGZvcktleSBrZXk6IEtleVR5cGUsIGNvc3QgZzogSW50KSB7fQp9Cm9wZW4gY2xhc3MgTlNDYWxlbmRhciA6IEFueU9iamVjdCwgQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TQ29kaW5nLCBOU0NvcHlpbmcsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBOU1NlY3VyZUNvZGluZywgX0NGQnJpZGdlYWJsZSwgX1N0cnVjdFR5cGVCcmlkZ2VhYmxlLCBfU3dpZnRCcmlkZ2VhYmxlIHsKICAgIG9wZW4gY2xhc3MgdmFyIGF1dG91cGRhdGluZ0N1cnJlbnQ6IENhbGVuZGFyIHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgdmFyIGN1cnJlbnQ6IENhbGVuZGFyIHsgZ2V0IH0KICAgIHB1YmxpYyBpbml0PyhjYWxlbmRhcklkZW50aWZpZXIgaWRlbnQ6IElkZW50aWZpZXIpIHt9CiAgICBwdWJsaWMgaW5pdD8oaWRlbnRpZmllciBjYWxlbmRhcklkZW50aWZpZXJDb25zdGFudDogSWRlbnRpZmllcikge30KICAgIG9wZW4gdmFyIGFtU3ltYm9sOiBTdHJpbmcgeyBnZXQgfQogICAgb3BlbiB2YXIgY2FsZW5kYXJJZGVudGlmaWVyOiBJZGVudGlmaWVyIHsgZ2V0IH0KICAgIG9wZW4gdmFyIGVyYVN5bWJvbHM6IFtTdHJpbmddIHsgZ2V0IH0KICAgIG9wZW4gdmFyIGZpcnN0V2Vla2RheTogSW50IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBsb2NhbGU6IExvY2FsZT8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGxvbmdFcmFTeW1ib2xzOiBbU3RyaW5nXSB7IGdldCB9CiAgICBvcGVuIHZhciBtaW5pbXVtRGF5c0luRmlyc3RXZWVrOiBJbnQgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIG1vbnRoU3ltYm9sczogW1N0cmluZ10geyBnZXQgfQogICAgb3BlbiB2YXIgcG1TeW1ib2w6IFN0cmluZyB7IGdldCB9CiAgICBvcGVuIHZhciBxdWFydGVyU3ltYm9sczogW1N0cmluZ10geyBnZXQgfQogICAgb3BlbiB2YXIgc2hvcnRNb250aFN5bWJvbHM6IFtTdHJpbmddIHsgZ2V0IH0KICAgIG9wZW4gdmFyIHNob3J0UXVhcnRlclN5bWJvbHM6IFtTdHJpbmddIHsgZ2V0IH0KICAgIG9wZW4gdmFyIHNob3J0U3RhbmRhbG9uZU1vbnRoU3ltYm9sczogW1N0cmluZ10geyBnZXQgfQogICAgb3BlbiB2YXIgc2hvcnRTdGFuZGFsb25lUXVhcnRlclN5bWJvbHM6IFtTdHJpbmddIHsgZ2V0IH0KICAgIG9wZW4gdmFyIHNob3J0U3RhbmRhbG9uZVdlZWtkYXlTeW1ib2xzOiBbU3RyaW5nXSB7IGdldCB9CiAgICBvcGVuIHZhciBzaG9ydFdlZWtkYXlTeW1ib2xzOiBbU3RyaW5nXSB7IGdldCB9CiAgICBvcGVuIHZhciBzdGFuZGFsb25lTW9udGhTeW1ib2xzOiBbU3RyaW5nXSB7IGdldCB9CiAgICBvcGVuIHZhciBzdGFuZGFsb25lUXVhcnRlclN5bWJvbHM6IFtTdHJpbmddIHsgZ2V0IH0KICAgIG9wZW4gdmFyIHN0YW5kYWxvbmVXZWVrZGF5U3ltYm9sczogW1N0cmluZ10geyBnZXQgfQogICAgb3BlbiB2YXIgdGltZVpvbmU6IFRpbWVab25lIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciB2ZXJ5U2hvcnRNb250aFN5bWJvbHM6IFtTdHJpbmddIHsgZ2V0IH0KICAgIG9wZW4gdmFyIHZlcnlTaG9ydFN0YW5kYWxvbmVNb250aFN5bWJvbHM6IFtTdHJpbmddIHsgZ2V0IH0KICAgIG9wZW4gdmFyIHZlcnlTaG9ydFN0YW5kYWxvbmVXZWVrZGF5U3ltYm9sczogW1N0cmluZ10geyBnZXQgfQogICAgb3BlbiB2YXIgdmVyeVNob3J0V2Vla2RheVN5bWJvbHM6IFtTdHJpbmddIHsgZ2V0IH0KICAgIG9wZW4gdmFyIHdlZWtkYXlTeW1ib2xzOiBbU3RyaW5nXSB7IGdldCB9CiAgICBvcGVuIGZ1bmMgY29tcGFyZShfIGRhdGUxOiBEYXRlLCB0byBkYXRlMjogRGF0ZSwgdG9Vbml0R3JhbnVsYXJpdHkgdW5pdDogVW5pdCkgLT4gQ29tcGFyaXNvblJlc3VsdCB7fQogICAgb3BlbiBmdW5jIGNvbXBvbmVudChfIHVuaXQ6IFVuaXQsIGZyb20gZGF0ZTogRGF0ZSkgLT4gSW50IHt9CiAgICBvcGVuIGZ1bmMgY29tcG9uZW50cyhfIHVuaXRGbGFnczogVW5pdCwgZnJvbSBkYXRlOiBEYXRlKSAtPiBEYXRlQ29tcG9uZW50cyB7fQogICAgb3BlbiBmdW5jIGNvbXBvbmVudHMoXyB1bml0RmxhZ3M6IFVuaXQsIGZyb20gc3RhcnRpbmdEYXRlOiBEYXRlLCB0byByZXN1bHREYXRlOiBEYXRlLCBvcHRpb25zIG9wdHM6IE9wdGlvbnMgPSB4KSAtPiBEYXRlQ29tcG9uZW50cyB7fQogICAgb3BlbiBmdW5jIGNvbXBvbmVudHMoaW4gdGltZXpvbmU6IFRpbWVab25lLCBmcm9tIGRhdGU6IERhdGUpIC0+IERhdGVDb21wb25lbnRzIHt9CiAgICBvcGVuIGZ1bmMgZGF0ZShfIGRhdGU6IERhdGUsIG1hdGNoZXNDb21wb25lbnRzIGNvbXBvbmVudHM6IERhdGVDb21wb25lbnRzKSAtPiBCb29sIHt9CiAgICBvcGVuIGZ1bmMgZGF0ZShieUFkZGluZyBjb21wczogRGF0ZUNvbXBvbmVudHMsIHRvIGRhdGU6IERhdGUsIG9wdGlvbnMgb3B0czogT3B0aW9ucyA9IHgpIC0+IERhdGU/IHt9CiAgICBvcGVuIGZ1bmMgZGF0ZShieUFkZGluZyB1bml0OiBVbml0LCB2YWx1ZTogSW50LCB0byBkYXRlOiBEYXRlLCBvcHRpb25zOiBPcHRpb25zID0geCkgLT4gRGF0ZT8ge30KICAgIG9wZW4gZnVuYyBkYXRlKGJ5U2V0dGluZ0hvdXIgaDogSW50LCBtaW51dGUgbTogSW50LCBzZWNvbmQgczogSW50LCBvZiBkYXRlOiBEYXRlLCBvcHRpb25zIG9wdHM6IE9wdGlvbnMgPSB4KSAtPiBEYXRlPyB7fQogICAgb3BlbiBmdW5jIGRhdGUoYnlTZXR0aW5nVW5pdCB1bml0OiBVbml0LCB2YWx1ZSB2OiBJbnQsIG9mIGRhdGU6IERhdGUsIG9wdGlvbnMgb3B0czogT3B0aW9ucyA9IHgpIC0+IERhdGU/IHt9CiAgICBvcGVuIGZ1bmMgZGF0ZShlcmEgZXJhVmFsdWU6IEludCwgeWVhciB5ZWFyVmFsdWU6IEludCwgbW9udGggbW9udGhWYWx1ZTogSW50LCBkYXkgZGF5VmFsdWU6IEludCwgaG91ciBob3VyVmFsdWU6IEludCwgbWludXRlIG1pbnV0ZVZhbHVlOiBJbnQsIHNlY29uZCBzZWNvbmRWYWx1ZTogSW50LCBuYW5vc2Vjb25kIG5hbm9zZWNvbmRWYWx1ZTogSW50KSAtPiBEYXRlPyB7fQogICAgb3BlbiBmdW5jIGRhdGUoZXJhIGVyYVZhbHVlOiBJbnQsIHllYXJGb3JXZWVrT2ZZZWFyIHllYXJWYWx1ZTogSW50LCB3ZWVrT2ZZZWFyIHdlZWtWYWx1ZTogSW50LCB3ZWVrZGF5IHdlZWtkYXlWYWx1ZTogSW50LCBob3VyIGhvdXJWYWx1ZTogSW50LCBtaW51dGUgbWludXRlVmFsdWU6IEludCwgc2Vjb25kIHNlY29uZFZhbHVlOiBJbnQsIG5hbm9zZWNvbmQgbmFub3NlY29uZFZhbHVlOiBJbnQpIC0+IERhdGU/IHt9CiAgICBvcGVuIGZ1bmMgZGF0ZShmcm9tIGNvbXBzOiBEYXRlQ29tcG9uZW50cykgLT4gRGF0ZT8ge30KICAgIG9wZW4gZnVuYyBlbnVtZXJhdGVEYXRlcyhzdGFydGluZ0FmdGVyIHN0YXJ0OiBEYXRlLCBtYXRjaGluZyBjb21wczogRGF0ZUNvbXBvbmVudHMsIG9wdGlvbnMgb3B0czogTlNDYWxlbmRhci5PcHRpb25zID0geCwgdXNpbmcgYmxvY2s6IChEYXRlPywgQm9vbCwgVW5zYWZlTXV0YWJsZVBvaW50ZXI8T2JqQ0Jvb2w+KSAtPiBTd2lmdC5Wb2lkKSB7fQogICAgb3BlbiBmdW5jIGdldEVyYShfIGVyYVZhbHVlUG9pbnRlcjogVW5zYWZlTXV0YWJsZVBvaW50ZXI8SW50Pj8sIHllYXIgeWVhclZhbHVlUG9pbnRlcjogVW5zYWZlTXV0YWJsZVBvaW50ZXI8SW50Pj8sIG1vbnRoIG1vbnRoVmFsdWVQb2ludGVyOiBVbnNhZmVNdXRhYmxlUG9pbnRlcjxJbnQ+PywgZGF5IGRheVZhbHVlUG9pbnRlcjogVW5zYWZlTXV0YWJsZVBvaW50ZXI8SW50Pj8sIGZyb20gZGF0ZTogRGF0ZSkge30KICAgIG9wZW4gZnVuYyBnZXRFcmEoXyBlcmFWYWx1ZVBvaW50ZXI6IFVuc2FmZU11dGFibGVQb2ludGVyPEludD4/LCB5ZWFyRm9yV2Vla09mWWVhciB5ZWFyVmFsdWVQb2ludGVyOiBVbnNhZmVNdXRhYmxlUG9pbnRlcjxJbnQ+Pywgd2Vla09mWWVhciB3ZWVrVmFsdWVQb2ludGVyOiBVbnNhZmVNdXRhYmxlUG9pbnRlcjxJbnQ+Pywgd2Vla2RheSB3ZWVrZGF5VmFsdWVQb2ludGVyOiBVbnNhZmVNdXRhYmxlUG9pbnRlcjxJbnQ+PywgZnJvbSBkYXRlOiBEYXRlKSB7fQogICAgb3BlbiBmdW5jIGdldEhvdXIoXyBob3VyVmFsdWVQb2ludGVyOiBVbnNhZmVNdXRhYmxlUG9pbnRlcjxJbnQ+PywgbWludXRlIG1pbnV0ZVZhbHVlUG9pbnRlcjogVW5zYWZlTXV0YWJsZVBvaW50ZXI8SW50Pj8sIHNlY29uZCBzZWNvbmRWYWx1ZVBvaW50ZXI6IFVuc2FmZU11dGFibGVQb2ludGVyPEludD4/LCBuYW5vc2Vjb25kIG5hbm9zZWNvbmRWYWx1ZVBvaW50ZXI6IFVuc2FmZU11dGFibGVQb2ludGVyPEludD4/LCBmcm9tIGRhdGU6IERhdGUpIHt9CiAgICBvcGVuIGZ1bmMgaXNEYXRlKF8gZGF0ZTE6IERhdGUsIGVxdWFsVG8gZGF0ZTI6IERhdGUsIHRvVW5pdEdyYW51bGFyaXR5IHVuaXQ6IFVuaXQpIC0+IEJvb2wge30KICAgIG9wZW4gZnVuYyBpc0RhdGUoXyBkYXRlMTogRGF0ZSwgaW5TYW1lRGF5QXMgZGF0ZTI6IERhdGUpIC0+IEJvb2wge30KICAgIG9wZW4gZnVuYyBpc0RhdGVJblRvZGF5KF8gZGF0ZTogRGF0ZSkgLT4gQm9vbCB7fQogICAgb3BlbiBmdW5jIGlzRGF0ZUluVG9tb3Jyb3coXyBkYXRlOiBEYXRlKSAtPiBCb29sIHt9CiAgICBvcGVuIGZ1bmMgaXNEYXRlSW5XZWVrZW5kKF8gZGF0ZTogRGF0ZSkgLT4gQm9vbCB7fQogICAgb3BlbiBmdW5jIGlzRGF0ZUluWWVzdGVyZGF5KF8gZGF0ZTogRGF0ZSkgLT4gQm9vbCB7fQogICAgb3BlbiBmdW5jIG1heGltdW1SYW5nZShvZiB1bml0OiBVbml0KSAtPiBOU1JhbmdlIHt9CiAgICBvcGVuIGZ1bmMgbWluaW11bVJhbmdlKG9mIHVuaXQ6IFVuaXQpIC0+IE5TUmFuZ2Uge30KICAgIG9wZW4gZnVuYyBuZXh0RGF0ZShhZnRlciBkYXRlOiBEYXRlLCBtYXRjaGluZyBjb21wczogRGF0ZUNvbXBvbmVudHMsIG9wdGlvbnM6IE9wdGlvbnMgPSB4KSAtPiBEYXRlPyB7fQogICAgb3BlbiBmdW5jIG5leHREYXRlKGFmdGVyIGRhdGU6IERhdGUsIG1hdGNoaW5nIHVuaXQ6IFVuaXQsIHZhbHVlOiBJbnQsIG9wdGlvbnM6IE9wdGlvbnMgPSB4KSAtPiBEYXRlPyB7fQogICAgb3BlbiBmdW5jIG5leHREYXRlKGFmdGVyIGRhdGU6IERhdGUsIG1hdGNoaW5nSG91ciBob3VyVmFsdWU6IEludCwgbWludXRlIG1pbnV0ZVZhbHVlOiBJbnQsIHNlY29uZCBzZWNvbmRWYWx1ZTogSW50LCBvcHRpb25zOiBPcHRpb25zID0geCkgLT4gRGF0ZT8ge30KICAgIG9wZW4gZnVuYyBuZXh0V2Vla2VuZEFmdGVyKF8gZGF0ZTogRGF0ZSwgb3B0aW9uczogT3B0aW9ucykgLT4gRGF0ZUludGVydmFsPyB7fQogICAgb3BlbiBmdW5jIG9yZGluYWxpdHkob2Ygc21hbGxlcjogVW5pdCwgaW4gbGFyZ2VyOiBVbml0LCBmb3IgZGF0ZTogRGF0ZSkgLT4gSW50IHt9CiAgICBvcGVuIGZ1bmMgcmFuZ2Uob2YgdW5pdDogVW5pdCwgZm9yIGRhdGU6IERhdGUpIC0+IERhdGVJbnRlcnZhbD8ge30KICAgIG9wZW4gZnVuYyByYW5nZShvZiBzbWFsbGVyOiBVbml0LCBpbiBsYXJnZXI6IFVuaXQsIGZvciBkYXRlOiBEYXRlKSAtPiBOU1JhbmdlIHt9CiAgICBvcGVuIGZ1bmMgcmFuZ2Uob2ZXZWVrZW5kQ29udGFpbmluZyBkYXRlOiBEYXRlKSAtPiBEYXRlSW50ZXJ2YWw/IHt9CiAgICBvcGVuIGZ1bmMgc3RhcnRPZkRheShmb3IgZGF0ZTogRGF0ZSkgLT4gRGF0ZSB7fQp9Cm9wZW4gY2xhc3MgTlNDaGFyYWN0ZXJTZXQgOiBBbnlPYmplY3QsIEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU0NvZGluZywgTlNDb3B5aW5nLCBOU011dGFibGVDb3B5aW5nLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCwgTlNTZWN1cmVDb2RpbmcsIF9TdHJ1Y3RUeXBlQnJpZGdlYWJsZSwgX1N3aWZ0QnJpZGdlYWJsZSB7CiAgICBvcGVuIGNsYXNzIHZhciBhbHBoYW51bWVyaWNzOiBDaGFyYWN0ZXJTZXQgeyBnZXQgfQogICAgb3BlbiBjbGFzcyB2YXIgY2FwaXRhbGl6ZWRMZXR0ZXJzOiBDaGFyYWN0ZXJTZXQgeyBnZXQgfQogICAgb3BlbiBjbGFzcyB2YXIgY29udHJvbENoYXJhY3RlcnM6IENoYXJhY3RlclNldCB7IGdldCB9CiAgICBvcGVuIGNsYXNzIHZhciBkZWNpbWFsRGlnaXRzOiBDaGFyYWN0ZXJTZXQgeyBnZXQgfQogICAgb3BlbiBjbGFzcyB2YXIgZGVjb21wb3NhYmxlczogQ2hhcmFjdGVyU2V0IHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgdmFyIGlsbGVnYWxDaGFyYWN0ZXJzOiBDaGFyYWN0ZXJTZXQgeyBnZXQgfQogICAgcHVibGljIGNsYXNzIHZhciBsZXR0ZXJzOiBDaGFyYWN0ZXJTZXQgeyBnZXQgfQogICAgb3BlbiBjbGFzcyB2YXIgbG93ZXJjYXNlTGV0dGVyczogQ2hhcmFjdGVyU2V0IHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgdmFyIG5ld2xpbmVzOiBDaGFyYWN0ZXJTZXQgeyBnZXQgfQogICAgb3BlbiBjbGFzcyB2YXIgbm9uQmFzZUNoYXJhY3RlcnM6IENoYXJhY3RlclNldCB7IGdldCB9CiAgICBvcGVuIGNsYXNzIHZhciBwdW5jdHVhdGlvbkNoYXJhY3RlcnM6IENoYXJhY3RlclNldCB7IGdldCB9CiAgICBvcGVuIGNsYXNzIHZhciBzeW1ib2xzOiBDaGFyYWN0ZXJTZXQgeyBnZXQgfQogICAgb3BlbiBjbGFzcyB2YXIgdXBwZXJjYXNlTGV0dGVyczogQ2hhcmFjdGVyU2V0IHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgdmFyIHVybEZyYWdtZW50QWxsb3dlZDogQ2hhcmFjdGVyU2V0IHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgdmFyIHVybEhvc3RBbGxvd2VkOiBDaGFyYWN0ZXJTZXQgeyBnZXQgfQogICAgb3BlbiBjbGFzcyB2YXIgdXJsUGFzc3dvcmRBbGxvd2VkOiBDaGFyYWN0ZXJTZXQgeyBnZXQgfQogICAgb3BlbiBjbGFzcyB2YXIgdXJsUGF0aEFsbG93ZWQ6IENoYXJhY3RlclNldCB7IGdldCB9CiAgICBvcGVuIGNsYXNzIHZhciB1cmxRdWVyeUFsbG93ZWQ6IENoYXJhY3RlclNldCB7IGdldCB9CiAgICBvcGVuIGNsYXNzIHZhciB1cmxVc2VyQWxsb3dlZDogQ2hhcmFjdGVyU2V0IHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgdmFyIHdoaXRlc3BhY2VzOiBDaGFyYWN0ZXJTZXQgeyBnZXQgfQogICAgb3BlbiBjbGFzcyB2YXIgd2hpdGVzcGFjZXNBbmROZXdsaW5lczogQ2hhcmFjdGVyU2V0IHsgZ2V0IH0KICAgIHB1YmxpYyBpbml0KGJpdG1hcFJlcHJlc2VudGF0aW9uIGRhdGE6IERhdGEpIHt9CiAgICBwdWJsaWMgaW5pdChjaGFyYWN0ZXJzSW4gYVN0cmluZzogU3RyaW5nKSB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQ/KGNvbnRlbnRzT2ZGaWxlIGZOYW1lOiBTdHJpbmcpIHt9CiAgICBwdWJsaWMgaW5pdChyYW5nZSBhUmFuZ2U6IE5TUmFuZ2UpIHt9CiAgICBvcGVuIHZhciBiaXRtYXBSZXByZXNlbnRhdGlvbjogRGF0YSB7IGdldCB9CiAgICBvcGVuIHZhciBpbnZlcnRlZDogQ2hhcmFjdGVyU2V0IHsgZ2V0IH0KICAgIG9wZW4gZnVuYyBjaGFyYWN0ZXJJc01lbWJlcihfIGFDaGFyYWN0ZXI6IHVuaWNoYXIpIC0+IEJvb2wge30KICAgIG9wZW4gZnVuYyBoYXNNZW1iZXJJblBsYW5lKF8gdGhlUGxhbmU6IFVJbnQ4KSAtPiBCb29sIHt9CiAgICBvcGVuIGZ1bmMgaXNTdXBlcnNldChvZiB0aGVPdGhlclNldDogQ2hhcmFjdGVyU2V0KSAtPiBCb29sIHt9CiAgICBvcGVuIGZ1bmMgbG9uZ0NoYXJhY3RlcklzTWVtYmVyKF8gdGhlTG9uZ0NoYXI6IFVJbnQzMikgLT4gQm9vbCB7fQp9Cm9wZW4gY2xhc3MgTlNDb2RlciA6IEFueU9iamVjdCwgQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sIHsKICAgIG9wZW4gdmFyIGFsbG93ZWRDbGFzc2VzOiBbQW55Q2xhc3NdPyB7IGdldCB9CiAgICBvcGVuIHZhciBhbGxvd3NLZXllZENvZGluZzogQm9vbCB7IGdldCB9CiAgICBvcGVuIHZhciBkZWNvZGluZ0ZhaWx1cmVQb2xpY3k6IE5TQ29kZXIuRGVjb2RpbmdGYWlsdXJlUG9saWN5IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGVycm9yOiBFcnJvcj8geyBnZXQgfQogICAgb3BlbiB2YXIgcmVxdWlyZXNTZWN1cmVDb2Rpbmc6IEJvb2wgeyBnZXQgfQogICAgb3BlbiB2YXIgc3lzdGVtVmVyc2lvbjogVUludDMyIHsgZ2V0IH0KICAgIG9wZW4gZnVuYyBjb250YWluc1ZhbHVlKGZvcktleSBrZXk6IFN0cmluZykgLT4gQm9vbCB7fQogICAgb3BlbiBmdW5jIGRlY29kZUFycmF5KG9mT2JqQ1R5cGUgaXRlbVR5cGU6IFVuc2FmZVBvaW50ZXI8SW50OD4sIGNvdW50OiBJbnQsIGF0IGFycmF5OiBVbnNhZmVNdXRhYmxlUmF3UG9pbnRlcikge30KICAgIG9wZW4gZnVuYyBkZWNvZGVCb29sKGZvcktleSBrZXk6IFN0cmluZykgLT4gQm9vbCB7fQogICAgb3BlbiBmdW5jIGRlY29kZUNJbnQoZm9yS2V5IGtleTogU3RyaW5nKSAtPiBJbnQzMiB7fQogICAgb3BlbiBmdW5jIGRlY29kZURhdGEoKSAtPiBEYXRhPyB7fQogICAgb3BlbiBmdW5jIGRlY29kZURvdWJsZShmb3JLZXkga2V5OiBTdHJpbmcpIC0+IERvdWJsZSB7fQogICAgb3BlbiBmdW5jIGRlY29kZUZsb2F0KGZvcktleSBrZXk6IFN0cmluZykgLT4gRmxvYXQge30KICAgIG9wZW4gZnVuYyBkZWNvZGVJbnQzMihmb3JLZXkga2V5OiBTdHJpbmcpIC0+IEludDMyIHt9CiAgICBvcGVuIGZ1bmMgZGVjb2RlSW50NjQoZm9yS2V5IGtleTogU3RyaW5nKSAtPiBJbnQ2NCB7fQogICAgb3BlbiBmdW5jIGRlY29kZUludGVnZXIoZm9yS2V5IGtleTogU3RyaW5nKSAtPiBJbnQge30KICAgIG9wZW4gZnVuYyBkZWNvZGVPYmplY3QoKSAtPiBBbnk/IHt9CiAgICBvcGVuIGZ1bmMgZGVjb2RlT2JqZWN0KGZvcktleSBrZXk6IFN0cmluZykgLT4gQW55PyB7fQogICAgb3BlbiBmdW5jIGRlY29kZU9iamVjdChvZiBjbGFzc2VzOiBbQW55Q2xhc3NdPywgZm9yS2V5IGtleTogU3RyaW5nKSAtPiBBbnk/IHt9CiAgICBwdWJsaWMgZnVuYyBkZWNvZGVQb2ludCgpIC0+IE5TUG9pbnQge30KICAgIHB1YmxpYyBmdW5jIGRlY29kZVBvaW50KGZvcktleSBrZXk6IFN0cmluZykgLT4gTlNQb2ludCB7fQogICAgb3BlbiBmdW5jIGRlY29kZVByb3BlcnR5TGlzdCgpIC0+IEFueT8ge30KICAgIG9wZW4gZnVuYyBkZWNvZGVQcm9wZXJ0eUxpc3QoZm9yS2V5IGtleTogU3RyaW5nKSAtPiBBbnk/IHt9CiAgICBwdWJsaWMgZnVuYyBkZWNvZGVSZWN0KCkgLT4gTlNSZWN0IHt9CiAgICBwdWJsaWMgZnVuYyBkZWNvZGVSZWN0KGZvcktleSBrZXk6IFN0cmluZykgLT4gTlNSZWN0IHt9CiAgICBwdWJsaWMgZnVuYyBkZWNvZGVTaXplKCkgLT4gTlNTaXplIHt9CiAgICBwdWJsaWMgZnVuYyBkZWNvZGVTaXplKGZvcktleSBrZXk6IFN0cmluZykgLT4gTlNTaXplIHt9CiAgICBvcGVuIGZ1bmMgZGVjb2RlVmFsdWUob2ZPYmpDVHlwZSB0eXBlOiBVbnNhZmVQb2ludGVyPEludDg+LCBhdCBkYXRhOiBVbnNhZmVNdXRhYmxlUmF3UG9pbnRlcikge30KICAgIG9wZW4gZnVuYyBlbmNvZGUoXyBkYXRhOiBEYXRhKSB7fQogICAgb3BlbiBmdW5jIGVuY29kZShfIG9iamVjdDogQW55Pykge30KICAgIG9wZW4gZnVuYyBlbmNvZGUoXyBib29sdjogQm9vbCwgZm9yS2V5IGtleTogU3RyaW5nKSB7fQogICAgb3BlbiBmdW5jIGVuY29kZShfIGludHY6IEludCwgZm9yS2V5IGtleTogU3RyaW5nKSB7fQogICAgb3BlbiBmdW5jIGVuY29kZShfIGludHY6IEludDMyLCBmb3JLZXkga2V5OiBTdHJpbmcpIHt9CiAgICBvcGVuIGZ1bmMgZW5jb2RlKF8gaW50djogSW50NjQsIGZvcktleSBrZXk6IFN0cmluZykge30KICAgIG9wZW4gZnVuYyBlbmNvZGUoXyBvYmp2OiBBbnk/LCBmb3JLZXkga2V5OiBTdHJpbmcpIHt9CiAgICBvcGVuIGZ1bmMgZW5jb2RlKF8gcmVhbHY6IERvdWJsZSwgZm9yS2V5IGtleTogU3RyaW5nKSB7fQogICAgb3BlbiBmdW5jIGVuY29kZUFycmF5KG9mT2JqQ1R5cGUgdHlwZTogVW5zYWZlUG9pbnRlcjxJbnQ4PiwgY291bnQ6IEludCwgYXQgYXJyYXk6IFVuc2FmZVJhd1BvaW50ZXIpIHt9CiAgICBvcGVuIGZ1bmMgZW5jb2RlQnljb3B5T2JqZWN0KF8gYW5PYmplY3Q6IEFueT8pIHt9CiAgICBvcGVuIGZ1bmMgZW5jb2RlQnlyZWZPYmplY3QoXyBhbk9iamVjdDogQW55Pykge30KICAgIG9wZW4gZnVuYyBlbmNvZGVCeXRlcyhfIGJ5dGVhZGRyOiBVbnNhZmVSYXdQb2ludGVyPywgbGVuZ3RoOiBJbnQpIHt9CiAgICBvcGVuIGZ1bmMgZW5jb2RlQnl0ZXMoXyBieXRlc3A6IFVuc2FmZVBvaW50ZXI8VUludDg+PywgbGVuZ3RoIGxlbnY6IEludCwgZm9yS2V5IGtleTogU3RyaW5nKSB7fQogICAgb3BlbiBmdW5jIGVuY29kZUNvbmRpdGlvbmFsT2JqZWN0KF8gb2JqZWN0OiBBbnk/KSB7fQogICAgb3BlbiBmdW5jIGVuY29kZUNvbmRpdGlvbmFsT2JqZWN0KF8gb2JqdjogQW55PywgZm9yS2V5IGtleTogU3RyaW5nKSB7fQogICAgb3BlbiBmdW5jIGVuY29kZVByb3BlcnR5TGlzdChfIGFQcm9wZXJ0eUxpc3Q6IEFueSkge30KICAgIG9wZW4gZnVuYyBlbmNvZGVSb290T2JqZWN0KF8gcm9vdE9iamVjdDogQW55KSB7fQogICAgb3BlbiBmdW5jIGVuY29kZVZhbHVlKG9mT2JqQ1R5cGUgdHlwZTogVW5zYWZlUG9pbnRlcjxJbnQ4PiwgYXQgYWRkcjogVW5zYWZlUmF3UG9pbnRlcikge30KICAgIG9wZW4gZnVuYyBmYWlsV2l0aEVycm9yKF8gZXJyb3I6IEVycm9yKSB7fQogICAgb3BlbiBmdW5jIHZlcnNpb24oZm9yQ2xhc3NOYW1lIGNsYXNzTmFtZTogU3RyaW5nKSAtPiBJbnQge30KICAgIG9wZW4gZnVuYyB3aXRoRGVjb2RlZFVuc2FmZUJ5dGVzPFJlc3VsdFR5cGU+KGZvcktleSBrZXk6IFN0cmluZywgYm9keTogKFVuc2FmZVJhd0J1ZmZlclBvaW50ZXI/KSB0aHJvd3MgLT4gUmVzdWx0VHlwZSkgcmV0aHJvd3MgLT4gUmVzdWx0VHlwZSB7fQp9Cm9wZW4gY2xhc3MgTlNDb21wb3VuZFByZWRpY2F0ZSA6IEFueU9iamVjdCwgQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TQ29weWluZywgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wsIE5TUHJlZGljYXRlIHsKICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KGFuZFByZWRpY2F0ZVdpdGhTdWJwcmVkaWNhdGVzIHN1YnByZWRpY2F0ZXM6IFtOU1ByZWRpY2F0ZV0pIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdChub3RQcmVkaWNhdGVXaXRoU3VicHJlZGljYXRlIHByZWRpY2F0ZTogTlNQcmVkaWNhdGUpIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdChvclByZWRpY2F0ZVdpdGhTdWJwcmVkaWNhdGVzIHN1YnByZWRpY2F0ZXM6IFtOU1ByZWRpY2F0ZV0pIHt9CiAgICBwdWJsaWMgaW5pdCh0eXBlOiBMb2dpY2FsVHlwZSwgc3VicHJlZGljYXRlczogW05TUHJlZGljYXRlXSkge30KICAgIG9wZW4gdmFyIGNvbXBvdW5kUHJlZGljYXRlVHlwZTogTG9naWNhbFR5cGUgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHN1YnByZWRpY2F0ZXM6IFtOU1ByZWRpY2F0ZV0geyBnZXQgc2V0IH0KfQpvcGVuIGNsYXNzIE5TQ29uZGl0aW9uIDogQW55T2JqZWN0LCBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNMb2NraW5nLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCB7CiAgICBvcGVuIHZhciBuYW1lOiBTdHJpbmc/IHsgZ2V0IHNldCB9CiAgICBvcGVuIGZ1bmMgYnJvYWRjYXN0KCkge30KICAgIG9wZW4gZnVuYyBzaWduYWwoKSB7fQogICAgb3BlbiBmdW5jIHdhaXQoKSB7fQogICAgb3BlbiBmdW5jIHdhaXQodW50aWwgbGltaXQ6IERhdGUpIC0+IEJvb2wge30KfQpvcGVuIGNsYXNzIE5TQ29uZGl0aW9uTG9jayA6IEFueU9iamVjdCwgQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TTG9ja2luZywgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wgewogICAgcHVibGljIGluaXQoY29uZGl0aW9uOiBJbnQpIHt9CiAgICBvcGVuIHZhciBjb25kaXRpb246IEludCB7IGdldCB9CiAgICBvcGVuIHZhciBuYW1lOiBTdHJpbmc/IHsgZ2V0IHNldCB9CiAgICBvcGVuIGZ1bmMgbG9jayhiZWZvcmUgbGltaXQ6IERhdGUpIC0+IEJvb2wge30KICAgIG9wZW4gZnVuYyBsb2NrKHdoZW5Db25kaXRpb24gY29uZGl0aW9uOiBJbnQpIHt9CiAgICBvcGVuIGZ1bmMgbG9jayh3aGVuQ29uZGl0aW9uIGNvbmRpdGlvbjogSW50LCBiZWZvcmUgbGltaXQ6IERhdGUpIC0+IEJvb2wge30KICAgIG9wZW4gZnVuYyB0cnkoKSAtPiBCb29sIHt9CiAgICBvcGVuIGZ1bmMgdHJ5TG9jayh3aGVuQ29uZGl0aW9uIGNvbmRpdGlvbjogSW50KSAtPiBCb29sIHt9CiAgICBvcGVuIGZ1bmMgdW5sb2NrKHdpdGhDb25kaXRpb24gY29uZGl0aW9uOiBJbnQpIHt9Cn0Kb3BlbiBjbGFzcyBOU0NvdW50ZWRTZXQgOiBBbnlPYmplY3QsIEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVJlZmxlY3RhYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNDb2RpbmcsIE5TQ29weWluZywgTlNNdXRhYmxlQ29weWluZywgTlNNdXRhYmxlU2V0LCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCwgTlNTZWN1cmVDb2RpbmcsIE5TU2V0LCBTZXF1ZW5jZSwgX0NGQnJpZGdlYWJsZSwgX1N0cnVjdFR5cGVCcmlkZ2VhYmxlLCBfU3dpZnRCcmlkZ2VhYmxlIHsKICAgIG9wZW4gZnVuYyBjb3VudChmb3Igb2JqZWN0OiBBbnkpIC0+IEludCB7fQp9Cm9wZW4gY2xhc3MgTlNEYXRhIDogQW55T2JqZWN0LCBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRGF0YVByb3RvY29sLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU0NvZGluZywgTlNDb3B5aW5nLCBOU011dGFibGVDb3B5aW5nLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCwgTlNTZWN1cmVDb2RpbmcsIFJhbmRvbUFjY2Vzc0NvbGxlY3Rpb24sIF9DRkJyaWRnZWFibGUsIF9IYXNDdXN0b21BbnlIYXNoYWJsZVJlcHJlc2VudGF0aW9uLCBfU3RydWN0VHlwZUJyaWRnZWFibGUsIF9Td2lmdEJyaWRnZWFibGUgewogICAgcHVibGljIGluaXQ/KGJhc2U2NEVuY29kZWQgYmFzZTY0RGF0YTogRGF0YSwgb3B0aW9uczogQmFzZTY0RGVjb2RpbmdPcHRpb25zID0geCkge30KICAgIHB1YmxpYyBpbml0PyhiYXNlNjRFbmNvZGVkIGJhc2U2NFN0cmluZzogU3RyaW5nLCBvcHRpb25zOiBCYXNlNjREZWNvZGluZ09wdGlvbnMgPSB4KSB7fQogICAgcHVibGljIGluaXQoYnl0ZXM6IFVuc2FmZVJhd1BvaW50ZXI/LCBsZW5ndGg6IEludCkge30KICAgIHB1YmxpYyBpbml0KGJ5dGVzTm9Db3B5IGJ5dGVzOiBVbnNhZmVNdXRhYmxlUmF3UG9pbnRlciwgbGVuZ3RoOiBJbnQpIHt9CiAgICBwdWJsaWMgaW5pdChieXRlc05vQ29weSBieXRlczogVW5zYWZlTXV0YWJsZVJhd1BvaW50ZXIsIGxlbmd0aDogSW50LCBkZWFsbG9jYXRvcjogKChVbnNhZmVNdXRhYmxlUmF3UG9pbnRlciwgSW50KSAtPiBWb2lkKT8gPSB4KSB7fQogICAgcHVibGljIGluaXQoYnl0ZXNOb0NvcHkgYnl0ZXM6IFVuc2FmZU11dGFibGVSYXdQb2ludGVyLCBsZW5ndGg6IEludCwgZnJlZVdoZW5Eb25lOiBCb29sKSB7fQogICAgcHVibGljIGluaXQ/KGNvbnRlbnRzT2YgdXJsOiBVUkwpIHt9CiAgICBwdWJsaWMgaW5pdChjb250ZW50c09mIHVybDogVVJMLCBvcHRpb25zIHJlYWRPcHRpb25zTWFzazogUmVhZGluZ09wdGlvbnMgPSB4KSB0aHJvd3Mge30KICAgIHB1YmxpYyBpbml0Pyhjb250ZW50c09mRmlsZSBwYXRoOiBTdHJpbmcpIHt9CiAgICBwdWJsaWMgaW5pdChjb250ZW50c09mRmlsZSBwYXRoOiBTdHJpbmcsIG9wdGlvbnMgcmVhZE9wdGlvbnNNYXNrOiBSZWFkaW5nT3B0aW9ucyA9IHgpIHRocm93cyB7fQogICAgcHVibGljIGluaXQoZGF0YTogRGF0YSkge30KICAgIG9wZW4gdmFyIGJ5dGVzOiBVbnNhZmVSYXdQb2ludGVyIHsgZ2V0IH0KICAgIEBub25vYmpjIHB1YmxpYyB2YXIgZW5kSW5kZXg6IEludCB7IGdldCB9CiAgICBvcGVuIHZhciBsZW5ndGg6IEludCB7IGdldCB9CiAgICBAbm9ub2JqYyBwdWJsaWMgdmFyIHN0YXJ0SW5kZXg6IEludCB7IGdldCB9CiAgICBAbm9ub2JqYyBwdWJsaWMgc3Vic2NyaXB0KHBvc2l0aW9uOiBJbnQpIC0+IFVJbnQ4IHsgZ2V0IH0ge30KICAgIG9wZW4gZnVuYyBiYXNlNjRFbmNvZGVkRGF0YShvcHRpb25zOiBCYXNlNjRFbmNvZGluZ09wdGlvbnMgPSB4KSAtPiBEYXRhIHt9CiAgICBvcGVuIGZ1bmMgYmFzZTY0RW5jb2RlZFN0cmluZyhvcHRpb25zOiBCYXNlNjRFbmNvZGluZ09wdGlvbnMgPSB4KSAtPiBTdHJpbmcge30KICAgIG9wZW4gZnVuYyBlbnVtZXJhdGVCeXRlcyhfIGJsb2NrOiAoVW5zYWZlUmF3UG9pbnRlciwgTlNSYW5nZSwgVW5zYWZlTXV0YWJsZVBvaW50ZXI8Qm9vbD4pIC0+IFZvaWQpIHt9CiAgICBvcGVuIGZ1bmMgZ2V0Qnl0ZXMoXyBidWZmZXI6IFVuc2FmZU11dGFibGVSYXdQb2ludGVyLCBsZW5ndGg6IEludCkge30KICAgIG9wZW4gZnVuYyBnZXRCeXRlcyhfIGJ1ZmZlcjogVW5zYWZlTXV0YWJsZVJhd1BvaW50ZXIsIHJhbmdlOiBOU1JhbmdlKSB7fQogICAgb3BlbiBmdW5jIGlzRXF1YWwodG8gb3RoZXI6IERhdGEpIC0+IEJvb2wge30KICAgIG9wZW4gZnVuYyByYW5nZShvZiBkYXRhVG9GaW5kOiBEYXRhLCBvcHRpb25zIG1hc2s6IFNlYXJjaE9wdGlvbnMgPSB4LCBpbiBzZWFyY2hSYW5nZTogTlNSYW5nZSkgLT4gTlNSYW5nZSB7fQogICAgb3BlbiBmdW5jIHN1YmRhdGEod2l0aCByYW5nZTogTlNSYW5nZSkgLT4gRGF0YSB7fQogICAgb3BlbiBmdW5jIHdyaXRlKHRvIHVybDogVVJMLCBhdG9taWNhbGx5OiBCb29sKSAtPiBCb29sIHt9CiAgICBvcGVuIGZ1bmMgd3JpdGUodG8gdXJsOiBVUkwsIG9wdGlvbnMgd3JpdGVPcHRpb25zTWFzazogV3JpdGluZ09wdGlvbnMgPSB4KSB0aHJvd3Mge30KICAgIG9wZW4gZnVuYyB3cml0ZSh0b0ZpbGUgcGF0aDogU3RyaW5nLCBhdG9taWNhbGx5IHVzZUF1eGlsaWFyeUZpbGU6IEJvb2wpIC0+IEJvb2wge30KICAgIG9wZW4gZnVuYyB3cml0ZSh0b0ZpbGUgcGF0aDogU3RyaW5nLCBvcHRpb25zIHdyaXRlT3B0aW9uc01hc2s6IFdyaXRpbmdPcHRpb25zID0geCkgdGhyb3dzIHt9Cn0Kb3BlbiBjbGFzcyBOU0RhdGUgOiBBbnlPYmplY3QsIENvbXBhcmFibGUsIEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU0NvZGluZywgTlNDb3B5aW5nLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCwgTlNTZWN1cmVDb2RpbmcsIF9DRkJyaWRnZWFibGUsIF9TdHJ1Y3RUeXBlQnJpZGdlYWJsZSwgX1N3aWZ0QnJpZGdlYWJsZSB7CiAgICBvcGVuIGNsYXNzIHZhciBkaXN0YW50RnV0dXJlOiBEYXRlIHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgdmFyIGRpc3RhbnRQYXN0OiBEYXRlIHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgdmFyIHRpbWVJbnRlcnZhbFNpbmNlUmVmZXJlbmNlRGF0ZTogVGltZUludGVydmFsIHsgZ2V0IH0KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KHRpbWVJbnRlcnZhbCBzZWNzVG9CZUFkZGVkOiBUaW1lSW50ZXJ2YWwsIHNpbmNlIGRhdGU6IERhdGUpIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdCh0aW1lSW50ZXJ2YWxTaW5jZTE5NzAgc2VjczogVGltZUludGVydmFsKSB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQodGltZUludGVydmFsU2luY2VOb3cgc2VjczogVGltZUludGVydmFsKSB7fQogICAgcHVibGljIHJlcXVpcmVkIGluaXQodGltZUludGVydmFsU2luY2VSZWZlcmVuY2VEYXRlIHRpOiBUaW1lSW50ZXJ2YWwpIHt9CiAgICBvcGVuIHZhciB0aW1lSW50ZXJ2YWxTaW5jZTE5NzA6IFRpbWVJbnRlcnZhbCB7IGdldCB9CiAgICBvcGVuIHZhciB0aW1lSW50ZXJ2YWxTaW5jZU5vdzogVGltZUludGVydmFsIHsgZ2V0IH0KICAgIG9wZW4gdmFyIHRpbWVJbnRlcnZhbFNpbmNlUmVmZXJlbmNlRGF0ZTogVGltZUludGVydmFsIHsgZ2V0IH0KICAgIHB1YmxpYyBmdW5jIDwobGhzOiBOU0RhdGUsIHJoczogTlNEYXRlKSAtPiBCb29sIHt9CiAgICBvcGVuIGZ1bmMgYWRkaW5nVGltZUludGVydmFsKF8gdGk6IFRpbWVJbnRlcnZhbCkgLT4gRGF0ZSB7fQogICAgb3BlbiBmdW5jIGNvbXBhcmUoXyBvdGhlcjogRGF0ZSkgLT4gQ29tcGFyaXNvblJlc3VsdCB7fQogICAgb3BlbiBmdW5jIGRlc2NyaXB0aW9uKHdpdGggbG9jYWxlOiBMb2NhbGU/KSAtPiBTdHJpbmcge30KICAgIG9wZW4gZnVuYyBlYXJsaWVyRGF0ZShfIGFub3RoZXJEYXRlOiBEYXRlKSAtPiBEYXRlIHt9CiAgICBvcGVuIGZ1bmMgaXNFcXVhbCh0byBvdGhlckRhdGU6IERhdGUpIC0+IEJvb2wge30KICAgIG9wZW4gZnVuYyBsYXRlckRhdGUoXyBhbm90aGVyRGF0ZTogRGF0ZSkgLT4gRGF0ZSB7fQogICAgb3BlbiBmdW5jIHRpbWVJbnRlcnZhbFNpbmNlKF8gYW5vdGhlckRhdGU6IERhdGUpIC0+IFRpbWVJbnRlcnZhbCB7fQp9Cm9wZW4gY2xhc3MgTlNEYXRlQ29tcG9uZW50cyA6IEFueU9iamVjdCwgQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TQ29kaW5nLCBOU0NvcHlpbmcsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBOU1NlY3VyZUNvZGluZywgX1N0cnVjdFR5cGVCcmlkZ2VhYmxlLCBfU3dpZnRCcmlkZ2VhYmxlIHsKICAgIG9wZW4gdmFyIGNhbGVuZGFyOiBDYWxlbmRhcj8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGRhdGU6IERhdGU/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGRheTogSW50IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBlcmE6IEludCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgaG91cjogSW50IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBpc0xlYXBNb250aDogQm9vbCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgaXNWYWxpZERhdGU6IEJvb2wgeyBnZXQgfQogICAgb3BlbiB2YXIgbWludXRlOiBJbnQgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIG1vbnRoOiBJbnQgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIG5hbm9zZWNvbmQ6IEludCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgcXVhcnRlcjogSW50IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBzZWNvbmQ6IEludCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgdGltZVpvbmU6IFRpbWVab25lPyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgd2Vla09mTW9udGg6IEludCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgd2Vla09mWWVhcjogSW50IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciB3ZWVrZGF5OiBJbnQgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHdlZWtkYXlPcmRpbmFsOiBJbnQgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHllYXI6IEludCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgeWVhckZvcldlZWtPZlllYXI6IEludCB7IGdldCBzZXQgfQogICAgb3BlbiBmdW5jIGlzVmFsaWREYXRlKGluIGNhbGVuZGFyOiBDYWxlbmRhcikgLT4gQm9vbCB7fQogICAgb3BlbiBmdW5jIHNldFZhbHVlKF8gdmFsdWU6IEludCwgZm9yQ29tcG9uZW50IHVuaXQ6IE5TQ2FsZW5kYXIuVW5pdCkge30KICAgIG9wZW4gZnVuYyB2YWx1ZShmb3JDb21wb25lbnQgdW5pdDogTlNDYWxlbmRhci5Vbml0KSAtPiBJbnQge30KfQpvcGVuIGNsYXNzIE5TRGF0ZUludGVydmFsIDogQW55T2JqZWN0LCBDb21wYXJhYmxlLCBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNDb2RpbmcsIE5TQ29weWluZywgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wsIE5TU2VjdXJlQ29kaW5nLCBfU3RydWN0VHlwZUJyaWRnZWFibGUsIF9Td2lmdEJyaWRnZWFibGUgewogICAgcHVibGljIGluaXQoc3RhcnQgc3RhcnREYXRlOiBEYXRlLCBkdXJhdGlvbjogVGltZUludGVydmFsKSB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQoc3RhcnQgc3RhcnREYXRlOiBEYXRlLCBlbmQgZW5kRGF0ZTogRGF0ZSkge30KICAgIG9wZW4gdmFyIGR1cmF0aW9uOiBUaW1lSW50ZXJ2YWwgeyBnZXQgfQogICAgb3BlbiB2YXIgZW5kRGF0ZTogRGF0ZSB7IGdldCB9CiAgICBvcGVuIHZhciBzdGFydERhdGU6IERhdGUgeyBnZXQgfQogICAgcHVibGljIGZ1bmMgPChsaHM6IE5TRGF0ZUludGVydmFsLCByaHM6IE5TRGF0ZUludGVydmFsKSAtPiBCb29sIHt9CiAgICBvcGVuIGZ1bmMgY29tcGFyZShfIGRhdGVJbnRlcnZhbDogRGF0ZUludGVydmFsKSAtPiBDb21wYXJpc29uUmVzdWx0IHt9CiAgICBvcGVuIGZ1bmMgY29udGFpbnMoXyBkYXRlOiBEYXRlKSAtPiBCb29sIHt9CiAgICBvcGVuIGZ1bmMgaW50ZXJzZWN0aW9uKHdpdGggZGF0ZUludGVydmFsOiBEYXRlSW50ZXJ2YWwpIC0+IERhdGVJbnRlcnZhbD8ge30KICAgIG9wZW4gZnVuYyBpbnRlcnNlY3RzKF8gZGF0ZUludGVydmFsOiBEYXRlSW50ZXJ2YWwpIC0+IEJvb2wge30KICAgIG9wZW4gZnVuYyBpc0VxdWFsKHRvIGRhdGVJbnRlcnZhbDogRGF0ZUludGVydmFsKSAtPiBCb29sIHt9Cn0Kb3BlbiBjbGFzcyBOU0RlY2ltYWxOdW1iZXIgOiBBbnlPYmplY3QsIENvbXBhcmFibGUsIEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEV4cHJlc3NpYmxlQnlCb29sZWFuTGl0ZXJhbCwgRXhwcmVzc2libGVCeUZsb2F0TGl0ZXJhbCwgRXhwcmVzc2libGVCeUludGVnZXJMaXRlcmFsLCBIYXNoYWJsZSwgTlNDb2RpbmcsIE5TQ29weWluZywgTlNOdW1iZXIsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBOU1NlY3VyZUNvZGluZywgTlNWYWx1ZSwgX0ZhY3RvcnksIF9OU051bWJlckNhc3RpbmdXaXRob3V0QnJpZGdpbmcgewogICAgb3BlbiBjbGFzcyB2YXIgZGVmYXVsdEJlaGF2aW9yOiBOU0RlY2ltYWxOdW1iZXJCZWhhdmlvcnMgeyBnZXQgfQogICAgb3BlbiBjbGFzcyB2YXIgbWF4aW11bTogTlNEZWNpbWFsTnVtYmVyIHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgdmFyIG1pbmltdW06IE5TRGVjaW1hbE51bWJlciB7IGdldCB9CiAgICBvcGVuIGNsYXNzIHZhciBub3RBTnVtYmVyOiBOU0RlY2ltYWxOdW1iZXIgeyBnZXQgfQogICAgb3BlbiBjbGFzcyB2YXIgb25lOiBOU0RlY2ltYWxOdW1iZXIgeyBnZXQgfQogICAgb3BlbiBjbGFzcyB2YXIgemVybzogTlNEZWNpbWFsTnVtYmVyIHsgZ2V0IH0KICAgIHB1YmxpYyBpbml0KGRlY2ltYWwgZGNtOiBEZWNpbWFsKSB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQobWFudGlzc2E6IFVJbnQ2NCwgZXhwb25lbnQ6IEludDE2LCBpc05lZ2F0aXZlOiBCb29sKSB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQoc3RyaW5nIG51bWJlclZhbHVlOiBTdHJpbmc/KSB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQoc3RyaW5nIG51bWJlclZhbHVlOiBTdHJpbmc/LCBsb2NhbGU6IEFueT8pIHt9CiAgICBvcGVuIGZ1bmMgYWRkaW5nKF8gb3RoZXI6IE5TRGVjaW1hbE51bWJlcikgLT4gTlNEZWNpbWFsTnVtYmVyIHt9CiAgICBvcGVuIGZ1bmMgYWRkaW5nKF8gb3RoZXI6IE5TRGVjaW1hbE51bWJlciwgd2l0aEJlaGF2aW9yIGI6IE5TRGVjaW1hbE51bWJlckJlaGF2aW9ycz8pIC0+IE5TRGVjaW1hbE51bWJlciB7fQogICAgb3BlbiBmdW5jIGRpdmlkaW5nKGJ5IG90aGVyOiBOU0RlY2ltYWxOdW1iZXIpIC0+IE5TRGVjaW1hbE51bWJlciB7fQogICAgb3BlbiBmdW5jIGRpdmlkaW5nKGJ5IG90aGVyOiBOU0RlY2ltYWxOdW1iZXIsIHdpdGhCZWhhdmlvciBiOiBOU0RlY2ltYWxOdW1iZXJCZWhhdmlvcnM/KSAtPiBOU0RlY2ltYWxOdW1iZXIge30KICAgIG9wZW4gZnVuYyBtdWx0aXBseWluZyhieSBvdGhlcjogTlNEZWNpbWFsTnVtYmVyKSAtPiBOU0RlY2ltYWxOdW1iZXIge30KICAgIG9wZW4gZnVuYyBtdWx0aXBseWluZyhieSBvdGhlcjogTlNEZWNpbWFsTnVtYmVyLCB3aXRoQmVoYXZpb3IgYjogTlNEZWNpbWFsTnVtYmVyQmVoYXZpb3JzPykgLT4gTlNEZWNpbWFsTnVtYmVyIHt9CiAgICBvcGVuIGZ1bmMgbXVsdGlwbHlpbmcoYnlQb3dlck9mMTAgcG93ZXI6IEludDE2KSAtPiBOU0RlY2ltYWxOdW1iZXIge30KICAgIG9wZW4gZnVuYyBtdWx0aXBseWluZyhieVBvd2VyT2YxMCBwb3dlcjogSW50MTYsIHdpdGhCZWhhdmlvciBiOiBOU0RlY2ltYWxOdW1iZXJCZWhhdmlvcnM/KSAtPiBOU0RlY2ltYWxOdW1iZXIge30KICAgIG9wZW4gZnVuYyByYWlzaW5nKHRvUG93ZXIgcG93ZXI6IEludCkgLT4gTlNEZWNpbWFsTnVtYmVyIHt9CiAgICBvcGVuIGZ1bmMgcmFpc2luZyh0b1Bvd2VyIHBvd2VyOiBJbnQsIHdpdGhCZWhhdmlvciBiOiBOU0RlY2ltYWxOdW1iZXJCZWhhdmlvcnM/KSAtPiBOU0RlY2ltYWxOdW1iZXIge30KICAgIG9wZW4gZnVuYyByb3VuZGluZyhhY2NvcmRpbmdUb0JlaGF2aW9yIGI6IE5TRGVjaW1hbE51bWJlckJlaGF2aW9ycz8pIC0+IE5TRGVjaW1hbE51bWJlciB7fQogICAgb3BlbiBmdW5jIHN1YnRyYWN0aW5nKF8gb3RoZXI6IE5TRGVjaW1hbE51bWJlcikgLT4gTlNEZWNpbWFsTnVtYmVyIHt9CiAgICBvcGVuIGZ1bmMgc3VidHJhY3RpbmcoXyBvdGhlcjogTlNEZWNpbWFsTnVtYmVyLCB3aXRoQmVoYXZpb3IgYjogTlNEZWNpbWFsTnVtYmVyQmVoYXZpb3JzPykgLT4gTlNEZWNpbWFsTnVtYmVyIHt9Cn0Kb3BlbiBjbGFzcyBOU0RlY2ltYWxOdW1iZXJIYW5kbGVyIDogQW55T2JqZWN0LCBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNDb2RpbmcsIE5TRGVjaW1hbE51bWJlckJlaGF2aW9ycywgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wgewogICAgb3BlbiBjbGFzcyB2YXIgZGVmYXVsdDogTlNEZWNpbWFsTnVtYmVySGFuZGxlciB7IGdldCB9CiAgICBwdWJsaWMgaW5pdChyb3VuZGluZ01vZGU6IE5TRGVjaW1hbE51bWJlci5Sb3VuZGluZ01vZGUsIHNjYWxlOiBJbnQxNiwgcmFpc2VPbkV4YWN0bmVzcyBleGFjdDogQm9vbCwgcmFpc2VPbk92ZXJmbG93IG92ZXJmbG93OiBCb29sLCByYWlzZU9uVW5kZXJmbG93IHVuZGVyZmxvdzogQm9vbCwgcmFpc2VPbkRpdmlkZUJ5WmVybyBkaXZpZGVCeVplcm86IEJvb2wpIHt9Cn0Kb3BlbiBjbGFzcyBOU0RpY3Rpb25hcnkgOiBBbnlPYmplY3QsIEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVJlZmxlY3RhYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBFeHByZXNzaWJsZUJ5RGljdGlvbmFyeUxpdGVyYWwsIEhhc2hhYmxlLCBOU0NvZGluZywgTlNDb3B5aW5nLCBOU011dGFibGVDb3B5aW5nLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCwgTlNTZWN1cmVDb2RpbmcsIFNlcXVlbmNlLCBfQ0ZCcmlkZ2VhYmxlLCBfU3RydWN0VHlwZUJyaWRnZWFibGUsIF9Td2lmdEJyaWRnZWFibGUgewogICAgb3BlbiBjbGFzcyBmdW5jIHNoYXJlZEtleVNldChmb3JLZXlzIGtleXM6IFtOU0NvcHlpbmddKSAtPiBBbnkge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KGRpY3Rpb25hcnkgb3RoZXJEaWN0aW9uYXJ5OiBbQW55SGFzaGFibGU6IEFueV0pIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdChkaWN0aW9uYXJ5IG90aGVyRGljdGlvbmFyeTogW0FueUhhc2hhYmxlOiBBbnldLCBjb3B5SXRlbXMgZmxhZzogQm9vbCkge30KICAgIHB1YmxpYyByZXF1aXJlZCBjb252ZW5pZW5jZSBpbml0KGRpY3Rpb25hcnlMaXRlcmFsIGVsZW1lbnRzOiAoQW55LCBBbnkpLi4uKSB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQob2JqZWN0OiBBbnksIGZvcktleSBrZXk6IE5TQ29weWluZykge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KG9iamVjdHM6IFtBbnldLCBmb3JLZXlzIGtleXM6IFtOU09iamVjdF0pIHt9CiAgICBwdWJsaWMgcmVxdWlyZWQgaW5pdChvYmplY3RzOiBVbnNhZmVQb2ludGVyPEFueU9iamVjdD4hLCBmb3JLZXlzIGtleXM6IFVuc2FmZVBvaW50ZXI8TlNPYmplY3Q+ISwgY291bnQgY250OiBJbnQpIHt9CiAgICBvcGVuIHZhciBhbGxLZXlzOiBbQW55XSB7IGdldCB9CiAgICBvcGVuIHZhciBhbGxWYWx1ZXM6IFtBbnldIHsgZ2V0IH0KICAgIG9wZW4gdmFyIGNvdW50OiBJbnQgeyBnZXQgfQogICAgcHVibGljIHZhciBjdXN0b21NaXJyb3I6IE1pcnJvciB7IGdldCB9CiAgICBvcGVuIHZhciBkZXNjcmlwdGlvbkluU3RyaW5nc0ZpbGVGb3JtYXQ6IFN0cmluZyB7IGdldCB9CiAgICBvcGVuIHN1YnNjcmlwdChrZXk6IEFueSkgLT4gQW55PyB7IGdldCB9IHt9CiAgICBvcGVuIGZ1bmMgYWxsS2V5cyhmb3IgYW5PYmplY3Q6IEFueSkgLT4gW0FueV0ge30KICAgIG9wZW4gZnVuYyBkZXNjcmlwdGlvbih3aXRoTG9jYWxlIGxvY2FsZTogTG9jYWxlPykgLT4gU3RyaW5nIHt9CiAgICBvcGVuIGZ1bmMgZGVzY3JpcHRpb24od2l0aExvY2FsZSBsb2NhbGU6IExvY2FsZT8sIGluZGVudCBsZXZlbDogSW50KSAtPiBTdHJpbmcge30KICAgIG9wZW4gZnVuYyBlbnVtZXJhdGVLZXlzQW5kT2JqZWN0cyhfIGJsb2NrOiAoQW55LCBBbnksIFVuc2FmZU11dGFibGVQb2ludGVyPE9iakNCb29sPikgLT4gU3dpZnQuVm9pZCkge30KICAgIG9wZW4gZnVuYyBlbnVtZXJhdGVLZXlzQW5kT2JqZWN0cyhvcHRpb25zIG9wdHM6IE5TRW51bWVyYXRpb25PcHRpb25zID0geCwgdXNpbmcgYmxvY2s6IChBbnksIEFueSwgVW5zYWZlTXV0YWJsZVBvaW50ZXI8T2JqQ0Jvb2w+KSAtPiBWb2lkKSB7fQogICAgb3BlbiBmdW5jIGdldE9iamVjdHMoXyBvYmplY3RzOiBpbm91dCBbQW55XSwgYW5kS2V5cyBrZXlzOiBpbm91dCBbQW55XSwgY291bnQ6IEludCkge30KICAgIG9wZW4gZnVuYyBpc0VxdWFsKHRvIG90aGVyRGljdGlvbmFyeTogW0FueUhhc2hhYmxlOiBBbnldKSAtPiBCb29sIHt9CiAgICBvcGVuIGZ1bmMga2V5RW51bWVyYXRvcigpIC0+IE5TRW51bWVyYXRvciB7fQogICAgb3BlbiBmdW5jIGtleXNPZkVudHJpZXMob3B0aW9ucyBvcHRzOiBOU0VudW1lcmF0aW9uT3B0aW9ucyA9IHgsIHBhc3NpbmdUZXN0IHByZWRpY2F0ZTogKEFueSwgQW55LCBVbnNhZmVNdXRhYmxlUG9pbnRlcjxPYmpDQm9vbD4pIC0+IEJvb2wpIC0+IFNldDxBbnlIYXNoYWJsZT4ge30KICAgIG9wZW4gZnVuYyBrZXlzT2ZFbnRyaWVzKHBhc3NpbmdUZXN0IHByZWRpY2F0ZTogKEFueSwgQW55LCBVbnNhZmVNdXRhYmxlUG9pbnRlcjxPYmpDQm9vbD4pIC0+IEJvb2wpIC0+IFNldDxBbnlIYXNoYWJsZT4ge30KICAgIG9wZW4gZnVuYyBrZXlzU29ydGVkQnlWYWx1ZShjb21wYXJhdG9yIGNtcHRyOiAoQW55LCBBbnkpIC0+IENvbXBhcmlzb25SZXN1bHQpIC0+IFtBbnldIHt9CiAgICBvcGVuIGZ1bmMga2V5c1NvcnRlZEJ5VmFsdWUob3B0aW9ucyBvcHRzOiBOU1NvcnRPcHRpb25zID0geCwgdXNpbmdDb21wYXJhdG9yIGNtcHRyOiAoQW55LCBBbnkpIC0+IENvbXBhcmlzb25SZXN1bHQpIC0+IFtBbnldIHt9CiAgICBwdWJsaWMgZnVuYyBtYWtlSXRlcmF0b3IoKSAtPiBJdGVyYXRvciB7fQogICAgb3BlbiBmdW5jIG9iamVjdChmb3JLZXkgYUtleTogQW55KSAtPiBBbnk/IHt9CiAgICBvcGVuIGZ1bmMgb2JqZWN0RW51bWVyYXRvcigpIC0+IE5TRW51bWVyYXRvciB7fQogICAgb3BlbiBmdW5jIG9iamVjdHMoZm9yS2V5cyBrZXlzOiBbQW55XSwgbm90Rm91bmRNYXJrZXIgbWFya2VyOiBBbnkpIC0+IFtBbnldIHt9CiAgICBvcGVuIGZ1bmMgdmFsdWUoZm9yS2V5IGtleTogU3RyaW5nKSAtPiBBbnk/IHt9CiAgICBvcGVuIGZ1bmMgd3JpdGUodG8gdXJsOiBVUkwsIGF0b21pY2FsbHk6IEJvb2wpIC0+IEJvb2wge30KICAgIG9wZW4gZnVuYyB3cml0ZSh0b0ZpbGUgcGF0aDogU3RyaW5nLCBhdG9taWNhbGx5IHVzZUF1eGlsaWFyeUZpbGU6IEJvb2wpIC0+IEJvb2wge30KfQpvcGVuIGNsYXNzIE5TRW51bWVyYXRvciA6IEFueU9iamVjdCwgQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBTZXF1ZW5jZSB7CiAgICBwdWJsaWMgdmFyIGFsbE9iamVjdHM6IFtBbnldIHsgZ2V0IH0KICAgIHB1YmxpYyBmdW5jIG1ha2VJdGVyYXRvcigpIC0+IEl0ZXJhdG9yIHt9CiAgICBvcGVuIGZ1bmMgbmV4dE9iamVjdCgpIC0+IEFueT8ge30KfQpvcGVuIGNsYXNzIE5TRXJyb3IgOiBBbnlPYmplY3QsIEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU0NvZGluZywgTlNDb3B5aW5nLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCwgTlNTZWN1cmVDb2RpbmcsIFN3aWZ0LkVycm9yLCBfQ0ZCcmlkZ2VhYmxlIHsKICAgIG9wZW4gY2xhc3MgZnVuYyBzZXRVc2VySW5mb1ZhbHVlUHJvdmlkZXIoZm9yRG9tYWluIGVycm9yRG9tYWluOiBTdHJpbmcsIHByb3ZpZGVyOiAoKEVycm9yLCBTdHJpbmcpIC0+IEFueT8pPykge30KICAgIG9wZW4gY2xhc3MgZnVuYyB1c2VySW5mb1ZhbHVlUHJvdmlkZXIoZm9yRG9tYWluIGVycm9yRG9tYWluOiBTdHJpbmcpIC0+ICgoRXJyb3IsIFN0cmluZykgLT4gQW55Pyk/IHt9CiAgICBwdWJsaWMgaW5pdChkb21haW46IFN0cmluZywgY29kZTogSW50LCB1c2VySW5mbyBkaWN0OiBbU3RyaW5nOiBBbnldPyA9IHgpIHt9CiAgICBvcGVuIHZhciBjb2RlOiBJbnQgeyBnZXQgfQogICAgb3BlbiB2YXIgZG9tYWluOiBTdHJpbmcgeyBnZXQgfQogICAgb3BlbiB2YXIgaGVscEFuY2hvcjogU3RyaW5nPyB7IGdldCB9CiAgICBvcGVuIHZhciBsb2NhbGl6ZWREZXNjcmlwdGlvbjogU3RyaW5nIHsgZ2V0IH0KICAgIG9wZW4gdmFyIGxvY2FsaXplZEZhaWx1cmVSZWFzb246IFN0cmluZz8geyBnZXQgfQogICAgb3BlbiB2YXIgbG9jYWxpemVkUmVjb3ZlcnlPcHRpb25zOiBbU3RyaW5nXT8geyBnZXQgfQogICAgb3BlbiB2YXIgbG9jYWxpemVkUmVjb3ZlcnlTdWdnZXN0aW9uOiBTdHJpbmc/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHJlY292ZXJ5QXR0ZW1wdGVyOiBBbnk/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHVzZXJJbmZvOiBbU3RyaW5nOiBBbnldIHsgZ2V0IH0KfQpvcGVuIGNsYXNzIE5TSW5kZXhQYXRoIDogQW55T2JqZWN0LCBDb21wYXJhYmxlLCBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNDb2RpbmcsIE5TQ29weWluZywgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wsIE5TU2VjdXJlQ29kaW5nLCBfSGFzQ3VzdG9tQW55SGFzaGFibGVSZXByZXNlbnRhdGlvbiwgX1N0cnVjdFR5cGVCcmlkZ2VhYmxlLCBfU3dpZnRCcmlkZ2VhYmxlIHsKICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KGluZGV4OiBJbnQpIHt9CiAgICBwdWJsaWMgaW5pdChpbmRleGVzOiBVbnNhZmVQb2ludGVyPEludD4/LCBsZW5ndGg6IEludCkge30KICAgIG9wZW4gdmFyIGxlbmd0aDogSW50IHsgZ2V0IH0KICAgIHB1YmxpYyBmdW5jIDwobGhzOiBOU0luZGV4UGF0aCwgcmhzOiBOU0luZGV4UGF0aCkgLT4gQm9vbCB7fQogICAgb3BlbiBmdW5jIGFkZGluZyhfIGluZGV4OiBJbnQpIC0+IEluZGV4UGF0aCB7fQogICAgb3BlbiBmdW5jIGNvbXBhcmUoXyBvdGhlck9iamVjdDogSW5kZXhQYXRoKSAtPiBDb21wYXJpc29uUmVzdWx0IHt9CiAgICBvcGVuIGZ1bmMgZ2V0SW5kZXhlcyhfIGluZGV4ZXM6IFVuc2FmZU11dGFibGVQb2ludGVyPEludD4sIHJhbmdlIHBvc2l0aW9uUmFuZ2U6IE5TUmFuZ2UpIHt9CiAgICBvcGVuIGZ1bmMgaW5kZXgoYXRQb3NpdGlvbiBwb3NpdGlvbjogSW50KSAtPiBJbnQge30KICAgIG9wZW4gZnVuYyByZW1vdmluZ0xhc3RJbmRleCgpIC0+IEluZGV4UGF0aCB7fQp9Cm9wZW4gY2xhc3MgTlNJbmRleFNldCA6IEFueU9iamVjdCwgQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TQ29kaW5nLCBOU0NvcHlpbmcsIE5TTXV0YWJsZUNvcHlpbmcsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBOU1NlY3VyZUNvZGluZywgU2VxdWVuY2UsIF9IYXNDdXN0b21BbnlIYXNoYWJsZVJlcHJlc2VudGF0aW9uLCBfU3RydWN0VHlwZUJyaWRnZWFibGUsIF9Td2lmdEJyaWRnZWFibGUgewogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQoaW5kZXggdmFsdWU6IEludCkge30KICAgIHB1YmxpYyBpbml0KGluZGV4U2V0OiBJbmRleFNldCkge30KICAgIHB1YmxpYyBpbml0KGluZGV4ZXNJbiByYW5nZTogTlNSYW5nZSkge30KICAgIG9wZW4gdmFyIGNvdW50OiBJbnQgeyBnZXQgfQogICAgb3BlbiB2YXIgZmlyc3RJbmRleDogSW50IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGxhc3RJbmRleDogSW50IHsgZ2V0IH0KICAgIG9wZW4gZnVuYyBjb250YWlucyhfIGluZGV4U2V0OiBJbmRleFNldCkgLT4gQm9vbCB7fQogICAgb3BlbiBmdW5jIGNvbnRhaW5zKGluIHJhbmdlOiBOU1JhbmdlKSAtPiBCb29sIHt9CiAgICBvcGVuIGZ1bmMgY291bnRPZkluZGV4ZXMoaW4gcmFuZ2U6IE5TUmFuZ2UpIC0+IEludCB7fQogICAgb3BlbiBmdW5jIGVudW1lcmF0ZShfIGJsb2NrOiAoSW50LCBVbnNhZmVNdXRhYmxlUG9pbnRlcjxPYmpDQm9vbD4pIC0+IFZvaWQpIHt9CiAgICBvcGVuIGZ1bmMgZW51bWVyYXRlKGluIHJhbmdlOiBOU1JhbmdlLCBvcHRpb25zIG9wdHM6IE5TRW51bWVyYXRpb25PcHRpb25zID0geCwgdXNpbmcgYmxvY2s6IChJbnQsIFVuc2FmZU11dGFibGVQb2ludGVyPE9iakNCb29sPikgLT4gVm9pZCkge30KICAgIG9wZW4gZnVuYyBlbnVtZXJhdGUob3B0aW9ucyBvcHRzOiBOU0VudW1lcmF0aW9uT3B0aW9ucyA9IHgsIHVzaW5nIGJsb2NrOiAoSW50LCBVbnNhZmVNdXRhYmxlUG9pbnRlcjxPYmpDQm9vbD4pIC0+IFZvaWQpIHt9CiAgICBvcGVuIGZ1bmMgZW51bWVyYXRlUmFuZ2VzKF8gYmxvY2s6IChOU1JhbmdlLCBVbnNhZmVNdXRhYmxlUG9pbnRlcjxPYmpDQm9vbD4pIC0+IFZvaWQpIHt9CiAgICBvcGVuIGZ1bmMgZW51bWVyYXRlUmFuZ2VzKGluIHJhbmdlOiBOU1JhbmdlLCBvcHRpb25zIG9wdHM6IE5TRW51bWVyYXRpb25PcHRpb25zID0geCwgdXNpbmcgYmxvY2s6IChOU1JhbmdlLCBVbnNhZmVNdXRhYmxlUG9pbnRlcjxPYmpDQm9vbD4pIC0+IFZvaWQpIHt9CiAgICBvcGVuIGZ1bmMgZW51bWVyYXRlUmFuZ2VzKG9wdGlvbnMgb3B0czogTlNFbnVtZXJhdGlvbk9wdGlvbnMgPSB4LCB1c2luZyBibG9jazogKE5TUmFuZ2UsIFVuc2FmZU11dGFibGVQb2ludGVyPE9iakNCb29sPikgLT4gVm9pZCkge30KICAgIG9wZW4gZnVuYyBnZXRJbmRleGVzKF8gaW5kZXhCdWZmZXI6IFVuc2FmZU11dGFibGVQb2ludGVyPEludD4sIG1heENvdW50IGJ1ZmZlclNpemU6IEludCwgaW5JbmRleFJhbmdlIHJhbmdlOiBOU1JhbmdlUG9pbnRlcj8pIC0+IEludCB7fQogICAgb3BlbiBmdW5jIGluZGV4KGluIHJhbmdlOiBOU1JhbmdlLCBvcHRpb25zIG9wdHM6IE5TRW51bWVyYXRpb25PcHRpb25zID0geCwgcGFzc2luZ1Rlc3QgcHJlZGljYXRlOiAoSW50LCBVbnNhZmVNdXRhYmxlUG9pbnRlcjxPYmpDQm9vbD4pIC0+IEJvb2wpIC0+IEludCB7fQogICAgb3BlbiBmdW5jIGluZGV4KG9wdGlvbnMgb3B0czogTlNFbnVtZXJhdGlvbk9wdGlvbnMgPSB4LCBwYXNzaW5nVGVzdCBwcmVkaWNhdGU6IChJbnQsIFVuc2FmZU11dGFibGVQb2ludGVyPE9iakNCb29sPikgLT4gQm9vbCkgLT4gSW50IHt9CiAgICBvcGVuIGZ1bmMgaW5kZXgocGFzc2luZ1Rlc3QgcHJlZGljYXRlOiAoSW50LCBVbnNhZmVNdXRhYmxlUG9pbnRlcjxPYmpDQm9vbD4pIC0+IEJvb2wpIC0+IEludCB7fQogICAgb3BlbiBmdW5jIGluZGV4R3JlYXRlclRoYW5JbmRleChfIHZhbHVlOiBJbnQpIC0+IEludCB7fQogICAgb3BlbiBmdW5jIGluZGV4R3JlYXRlclRoYW5PckVxdWFsKHRvIHZhbHVlOiBJbnQpIC0+IEludCB7fQogICAgb3BlbiBmdW5jIGluZGV4TGVzc1RoYW5JbmRleChfIHZhbHVlOiBJbnQpIC0+IEludCB7fQogICAgb3BlbiBmdW5jIGluZGV4TGVzc1RoYW5PckVxdWFsKHRvIHZhbHVlOiBJbnQpIC0+IEludCB7fQogICAgb3BlbiBmdW5jIGluZGV4ZXMoaW4gcmFuZ2U6IE5TUmFuZ2UsIG9wdGlvbnMgb3B0czogTlNFbnVtZXJhdGlvbk9wdGlvbnMgPSB4LCBwYXNzaW5nVGVzdCBwcmVkaWNhdGU6IChJbnQsIFVuc2FmZU11dGFibGVQb2ludGVyPE9iakNCb29sPikgLT4gQm9vbCkgLT4gSW5kZXhTZXQge30KICAgIG9wZW4gZnVuYyBpbmRleGVzKG9wdGlvbnMgb3B0czogTlNFbnVtZXJhdGlvbk9wdGlvbnMgPSB4LCBwYXNzaW5nVGVzdCBwcmVkaWNhdGU6IChJbnQsIFVuc2FmZU11dGFibGVQb2ludGVyPE9iakNCb29sPikgLT4gQm9vbCkgLT4gSW5kZXhTZXQge30KICAgIG9wZW4gZnVuYyBpbmRleGVzKHBhc3NpbmdUZXN0IHByZWRpY2F0ZTogKEludCwgVW5zYWZlTXV0YWJsZVBvaW50ZXI8T2JqQ0Jvb2w+KSAtPiBCb29sKSAtPiBJbmRleFNldCB7fQogICAgb3BlbiBmdW5jIGludGVyc2VjdHMoaW4gcmFuZ2U6IE5TUmFuZ2UpIC0+IEJvb2wge30KICAgIG9wZW4gZnVuYyBpc0VxdWFsKHRvIGluZGV4U2V0OiBJbmRleFNldCkgLT4gQm9vbCB7fQogICAgcHVibGljIGZ1bmMgbWFrZUl0ZXJhdG9yKCkgLT4gTlNJbmRleFNldEl0ZXJhdG9yIHt9Cn0Kb3BlbiBjbGFzcyBOU0tleWVkQXJjaGl2ZXIgOiBBbnlPYmplY3QsIEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU0NvZGVyLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCB7CiAgICBvcGVuIGNsYXNzIGZ1bmMgYXJjaGl2ZWREYXRhKHdpdGhSb290T2JqZWN0IG9iamVjdDogQW55LCByZXF1aXJpbmdTZWN1cmVDb2Rpbmc6IEJvb2wpIHRocm93cyAtPiBEYXRhIHt9CiAgICBvcGVuIGNsYXNzIGZ1bmMgY2xhc3NOYW1lRm9yQ2xhc3MoXyBjbHM6IEFueUNsYXNzKSAtPiBTdHJpbmc/IHt9CiAgICBvcGVuIGNsYXNzIGZ1bmMgc2V0Q2xhc3NOYW1lKF8gY29kZWROYW1lOiBTdHJpbmc/LCBmb3IgY2xzOiBBbnlDbGFzcykge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KHJlcXVpcmluZ1NlY3VyZUNvZGluZzogQm9vbCkge30KICAgIG9wZW4gd2VhayB2YXIgZGVsZWdhdGU6IE5TS2V5ZWRBcmNoaXZlckRlbGVnYXRlPyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgZW5jb2RlZERhdGE6IERhdGEgeyBnZXQgfQogICAgb3BlbiB2YXIgb3V0cHV0Rm9ybWF0IHsgZ2V0IH0KICAgIG9wZW4gZnVuYyBjbGFzc05hbWVGb3JDbGFzcyhfIGNsczogQW55Q2xhc3MpIC0+IFN0cmluZz8ge30KICAgIG9wZW4gZnVuYyBlbmNvZGVQcm9wZXJ0eUxpc3QoXyBhUHJvcGVydHlMaXN0OiBBbnksIGZvcktleSBrZXk6IFN0cmluZykge30KICAgIG9wZW4gZnVuYyBmaW5pc2hFbmNvZGluZygpIHt9CiAgICBvcGVuIGZ1bmMgc2V0Q2xhc3NOYW1lKF8gY29kZWROYW1lOiBTdHJpbmc/LCBmb3IgY2xzOiBBbnlDbGFzcykge30KfQpvcGVuIGNsYXNzIE5TS2V5ZWRVbmFyY2hpdmVyIDogQW55T2JqZWN0LCBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNDb2RlciwgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wgewogICAgb3BlbiBjbGFzcyBmdW5jIGNsYXNzKGZvckNsYXNzTmFtZSBjb2RlZE5hbWU6IFN0cmluZykgLT4gQW55Q2xhc3M/IHt9CiAgICBvcGVuIGNsYXNzIGZ1bmMgc2V0Q2xhc3MoXyBjbHM6IEFueUNsYXNzPywgZm9yQ2xhc3NOYW1lIGNvZGVkTmFtZTogU3RyaW5nKSB7fQogICAgb3BlbiBjbGFzcyBmdW5jIHVuYXJjaGl2ZVRvcExldmVsT2JqZWN0V2l0aERhdGEoXyBkYXRhOiBEYXRhKSB0aHJvd3MgLT4gQW55PyB7fQogICAgcHVibGljIHN0YXRpYyBmdW5jIHVuYXJjaGl2ZWRPYmplY3Q8RGVjb2RlZE9iamVjdFR5cGU+KG9mQ2xhc3MgY2xzOiBEZWNvZGVkT2JqZWN0VHlwZS5UeXBlLCBmcm9tIGRhdGE6IERhdGEpIHRocm93cyAtPiBEZWNvZGVkT2JqZWN0VHlwZT8gd2hlcmUgRGVjb2RlZE9iamVjdFR5cGUgOiBOU0NvZGluZywgRGVjb2RlZE9iamVjdFR5cGUgOiBOU09iamVjdCB7fQogICAgcHVibGljIHN0YXRpYyBmdW5jIHVuYXJjaGl2ZWRPYmplY3Qob2ZDbGFzc2VzIGNsYXNzZXM6IFtBbnlDbGFzc10sIGZyb20gZGF0YTogRGF0YSkgdGhyb3dzIC0+IEFueT8ge30KICAgIHB1YmxpYyBpbml0KGZvclJlYWRpbmdGcm9tIGRhdGE6IERhdGEpIHRocm93cyB7fQogICAgb3BlbiB3ZWFrIHZhciBkZWxlZ2F0ZTogTlNLZXllZFVuYXJjaGl2ZXJEZWxlZ2F0ZT8geyBnZXQgc2V0IH0KICAgIG9wZW4gZnVuYyBjbGFzcyhmb3JDbGFzc05hbWUgY29kZWROYW1lOiBTdHJpbmcpIC0+IEFueUNsYXNzPyB7fQogICAgb3BlbiBmdW5jIGZpbmlzaERlY29kaW5nKCkge30KICAgIG9wZW4gZnVuYyBzZXRDbGFzcyhfIGNsczogQW55Q2xhc3M/LCBmb3JDbGFzc05hbWUgY29kZWROYW1lOiBTdHJpbmcpIHt9Cn0Kb3BlbiBjbGFzcyBOU0xvY2FsZSA6IEFueU9iamVjdCwgQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TQ29kaW5nLCBOU0NvcHlpbmcsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBOU1NlY3VyZUNvZGluZywgX0NGQnJpZGdlYWJsZSwgX1N0cnVjdFR5cGVCcmlkZ2VhYmxlLCBfU3dpZnRCcmlkZ2VhYmxlIHsKICAgIG9wZW4gY2xhc3MgdmFyIGF2YWlsYWJsZUxvY2FsZUlkZW50aWZpZXJzOiBbU3RyaW5nXSB7IGdldCB9CiAgICBvcGVuIGNsYXNzIHZhciBjb21tb25JU09DdXJyZW5jeUNvZGVzOiBbU3RyaW5nXSB7IGdldCB9CiAgICBvcGVuIGNsYXNzIHZhciBjdXJyZW50OiBMb2NhbGUgeyBnZXQgfQogICAgcHVibGljIHN0YXRpYyB2YXIgY3VycmVudExvY2FsZURpZENoYW5nZU5vdGlmaWNhdGlvbiB7IGdldCB9CiAgICBvcGVuIGNsYXNzIHZhciBpc29Db3VudHJ5Q29kZXM6IFtTdHJpbmddIHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgdmFyIGlzb0N1cnJlbmN5Q29kZXM6IFtTdHJpbmddIHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgdmFyIGlzb0xhbmd1YWdlQ29kZXM6IFtTdHJpbmddIHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgdmFyIHByZWZlcnJlZExhbmd1YWdlczogW1N0cmluZ10geyBnZXQgfQogICAgb3BlbiBjbGFzcyB2YXIgc3lzdGVtOiBMb2NhbGUgeyBnZXQgfQogICAgb3BlbiBjbGFzcyBmdW5jIGNhbm9uaWNhbExhbmd1YWdlSWRlbnRpZmllcihmcm9tIHN0cmluZzogU3RyaW5nKSAtPiBTdHJpbmcge30KICAgIG9wZW4gY2xhc3MgZnVuYyBjYW5vbmljYWxMb2NhbGVJZGVudGlmaWVyKGZyb20gc3RyaW5nOiBTdHJpbmcpIC0+IFN0cmluZyB7fQogICAgb3BlbiBjbGFzcyBmdW5jIGNoYXJhY3RlckRpcmVjdGlvbihmb3JMYW5ndWFnZSBpc29MYW5nQ29kZTogU3RyaW5nKSAtPiBOU0xvY2FsZS5MYW5ndWFnZURpcmVjdGlvbiB7fQogICAgb3BlbiBjbGFzcyBmdW5jIGNvbXBvbmVudHMoZnJvbUxvY2FsZUlkZW50aWZpZXIgc3RyaW5nOiBTdHJpbmcpIC0+IFtTdHJpbmc6IFN0cmluZ10ge30KICAgIG9wZW4gY2xhc3MgZnVuYyBsaW5lRGlyZWN0aW9uKGZvckxhbmd1YWdlIGlzb0xhbmdDb2RlOiBTdHJpbmcpIC0+IE5TTG9jYWxlLkxhbmd1YWdlRGlyZWN0aW9uIHt9CiAgICBvcGVuIGNsYXNzIGZ1bmMgbG9jYWxlSWRlbnRpZmllcihmcm9tQ29tcG9uZW50cyBkaWN0OiBbU3RyaW5nOiBTdHJpbmddKSAtPiBTdHJpbmcge30KICAgIG9wZW4gY2xhc3MgZnVuYyBsb2NhbGVJZGVudGlmaWVyKGZyb21XaW5kb3dzTG9jYWxlQ29kZSBsY2lkOiBVSW50MzIpIC0+IFN0cmluZz8ge30KICAgIG9wZW4gY2xhc3MgZnVuYyB3aW5kb3dzTG9jYWxlQ29kZShmcm9tTG9jYWxlSWRlbnRpZmllciBsb2NhbGVJZGVudGlmaWVyOiBTdHJpbmcpIC0+IFVJbnQzMiB7fQogICAgcHVibGljIGluaXQobG9jYWxlSWRlbnRpZmllciBzdHJpbmc6IFN0cmluZykge30KICAgIHB1YmxpYyB2YXIgbG9jYWxlSWRlbnRpZmllcjogU3RyaW5nIHsgZ2V0IH0KICAgIG9wZW4gZnVuYyBkaXNwbGF5TmFtZShmb3JLZXkga2V5OiBLZXksIHZhbHVlOiBTdHJpbmcpIC0+IFN0cmluZz8ge30KICAgIG9wZW4gZnVuYyBvYmplY3QoZm9yS2V5IGtleTogTlNMb2NhbGUuS2V5KSAtPiBBbnk/IHt9Cn0Kb3BlbiBjbGFzcyBOU0xvY2sgOiBBbnlPYmplY3QsIEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU0xvY2tpbmcsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sIHsKICAgIG9wZW4gdmFyIG5hbWU6IFN0cmluZz8geyBnZXQgc2V0IH0KICAgIG9wZW4gZnVuYyBsb2NrKGJlZm9yZSBsaW1pdDogRGF0ZSkgLT4gQm9vbCB7fQogICAgb3BlbiBmdW5jIHRyeSgpIC0+IEJvb2wge30KfQpvcGVuIGNsYXNzIE5TTWVhc3VyZW1lbnQgOiBBbnlPYmplY3QsIEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU0NvZGluZywgTlNDb3B5aW5nLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCwgTlNTZWN1cmVDb2RpbmcsIF9IYXNDdXN0b21BbnlIYXNoYWJsZVJlcHJlc2VudGF0aW9uLCBfU3RydWN0VHlwZUJyaWRnZWFibGUgewogICAgcHVibGljIGluaXQoZG91YmxlVmFsdWU6IERvdWJsZSwgdW5pdDogVW5pdCkge30KICAgIG9wZW4gdmFyIGRvdWJsZVZhbHVlOiBEb3VibGUgeyBnZXQgfQogICAgb3BlbiB2YXIgdW5pdDogVW5pdCB7IGdldCB9CiAgICBvcGVuIGZ1bmMgYWRkaW5nKF8gcmhzOiBNZWFzdXJlbWVudDxVbml0PikgLT4gTWVhc3VyZW1lbnQ8VW5pdD4ge30KICAgIG9wZW4gZnVuYyBjYW5CZUNvbnZlcnRlZCh0byB1bml0OiBVbml0KSAtPiBCb29sIHt9CiAgICBvcGVuIGZ1bmMgY29udmVydGluZyh0byBvdGhlclVuaXQ6IFVuaXQpIC0+IE1lYXN1cmVtZW50PFVuaXQ+IHt9CiAgICBvcGVuIGZ1bmMgc3VidHJhY3RpbmcoXyByaHM6IE1lYXN1cmVtZW50PFVuaXQ+KSAtPiBNZWFzdXJlbWVudDxVbml0PiB7fQp9Cm9wZW4gY2xhc3MgTlNNdXRhYmxlQXJyYXkgOiBBbnlPYmplY3QsIEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVJlZmxlY3RhYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBFeHByZXNzaWJsZUJ5QXJyYXlMaXRlcmFsLCBIYXNoYWJsZSwgTlNBcnJheSwgTlNDb2RpbmcsIE5TQ29weWluZywgTlNNdXRhYmxlQ29weWluZywgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wsIE5TU2VjdXJlQ29kaW5nLCBTZXF1ZW5jZSwgX0NGQnJpZGdlYWJsZSwgX1N0cnVjdFR5cGVCcmlkZ2VhYmxlLCBfU3dpZnRCcmlkZ2VhYmxlIHsKICAgIHB1YmxpYyBpbml0KGNhcGFjaXR5IG51bUl0ZW1zOiBJbnQpIHt9CiAgICBvcGVuIGZ1bmMgYWRkKF8gYW5PYmplY3Q6IEFueSkge30KICAgIG9wZW4gZnVuYyBhZGRPYmplY3RzKGZyb20gb3RoZXJBcnJheTogW0FueV0pIHt9CiAgICBvcGVuIGZ1bmMgZXhjaGFuZ2VPYmplY3QoYXQgaWR4MTogSW50LCB3aXRoT2JqZWN0QXQgaWR4MjogSW50KSB7fQogICAgb3BlbiBmdW5jIGZpbHRlcih1c2luZyBwcmVkaWNhdGU6IE5TUHJlZGljYXRlKSB7fQogICAgb3BlbiBmdW5jIGluc2VydChfIGFuT2JqZWN0OiBBbnksIGF0IGluZGV4OiBJbnQpIHt9CiAgICBvcGVuIGZ1bmMgcmVtb3ZlKF8gYW5PYmplY3Q6IEFueSkge30KICAgIG9wZW4gZnVuYyByZW1vdmUoXyBhbk9iamVjdDogQW55LCBpbiByYW5nZTogTlNSYW5nZSkge30KICAgIG9wZW4gZnVuYyByZW1vdmVBbGxPYmplY3RzKCkge30KICAgIG9wZW4gZnVuYyByZW1vdmVMYXN0T2JqZWN0KCkge30KICAgIG9wZW4gZnVuYyByZW1vdmVPYmplY3QoYXQgaW5kZXg6IEludCkge30KICAgIG9wZW4gZnVuYyByZW1vdmVPYmplY3QoaWRlbnRpY2FsVG8gYW5PYmplY3Q6IEFueSkge30KICAgIG9wZW4gZnVuYyByZW1vdmVPYmplY3QoaWRlbnRpY2FsVG8gYW5PYmplY3Q6IEFueSwgaW4gcmFuZ2U6IE5TUmFuZ2UpIHt9CiAgICBvcGVuIGZ1bmMgcmVtb3ZlT2JqZWN0cyhhdCBpbmRleGVzOiBJbmRleFNldCkge30KICAgIG9wZW4gZnVuYyByZW1vdmVPYmplY3RzKGluIG90aGVyQXJyYXk6IFtBbnldKSB7fQogICAgb3BlbiBmdW5jIHJlcGxhY2VPYmplY3QoYXQgaW5kZXg6IEludCwgd2l0aCBhbk9iamVjdDogQW55KSB7fQogICAgb3BlbiBmdW5jIHJlcGxhY2VPYmplY3RzKGF0IGluZGV4ZXM6IEluZGV4U2V0LCB3aXRoIG9iamVjdHM6IFtBbnldKSB7fQogICAgb3BlbiBmdW5jIHJlcGxhY2VPYmplY3RzKGluIHJhbmdlOiBOU1JhbmdlLCB3aXRoT2JqZWN0c0Zyb20gb3RoZXJBcnJheTogW0FueV0pIHt9CiAgICBvcGVuIGZ1bmMgcmVwbGFjZU9iamVjdHMoaW4gcmFuZ2U6IE5TUmFuZ2UsIHdpdGhPYmplY3RzRnJvbSBvdGhlckFycmF5OiBbQW55XSwgcmFuZ2Ugb3RoZXJSYW5nZTogTlNSYW5nZSkge30KICAgIG9wZW4gZnVuYyBzZXRBcnJheShfIG90aGVyQXJyYXk6IFtBbnldKSB7fQogICAgb3BlbiBmdW5jIHNvcnQoXyBjb21wYXJlOiAoQW55LCBBbnksIFVuc2FmZU11dGFibGVSYXdQb2ludGVyPykgLT4gSW50LCBjb250ZXh0OiBVbnNhZmVNdXRhYmxlUmF3UG9pbnRlcj8pIHt9CiAgICBvcGVuIGZ1bmMgc29ydChjb21wYXJhdG9yOiBDb21wYXJhdG9yKSB7fQogICAgb3BlbiBmdW5jIHNvcnQob3B0aW9ucyBvcHRzOiBOU1NvcnRPcHRpb25zID0geCwgdXNpbmdDb21wYXJhdG9yIGNtcHRyOiBDb21wYXJhdG9yKSB7fQogICAgb3BlbiBmdW5jIHNvcnQodXNpbmcgc29ydERlc2NyaXB0b3JzOiBbTlNTb3J0RGVzY3JpcHRvcl0pIHt9Cn0Kb3BlbiBjbGFzcyBOU011dGFibGVBdHRyaWJ1dGVkU3RyaW5nIDogQW55T2JqZWN0LCBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNBdHRyaWJ1dGVkU3RyaW5nLCBOU0NvZGluZywgTlNDb3B5aW5nLCBOU011dGFibGVDb3B5aW5nLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCwgTlNTZWN1cmVDb2RpbmcsIF9DRkJyaWRnZWFibGUgewogICAgb3BlbiB2YXIgbXV0YWJsZVN0cmluZzogTlNNdXRhYmxlU3RyaW5nIHsgZ2V0IH0KICAgIG9wZW4gZnVuYyBhZGRBdHRyaWJ1dGUoXyBuYW1lOiBOU0F0dHJpYnV0ZWRTdHJpbmcuS2V5LCB2YWx1ZTogQW55LCByYW5nZTogTlNSYW5nZSkge30KICAgIG9wZW4gZnVuYyBhZGRBdHRyaWJ1dGVzKF8gYXR0cnM6IFtOU0F0dHJpYnV0ZWRTdHJpbmcuS2V5OiBBbnldLCByYW5nZTogTlNSYW5nZSkge30KICAgIG9wZW4gZnVuYyBhcHBlbmQoXyBhdHRyU3RyaW5nOiBOU0F0dHJpYnV0ZWRTdHJpbmcpIHt9CiAgICBvcGVuIGZ1bmMgYmVnaW5FZGl0aW5nKCkge30KICAgIG9wZW4gZnVuYyBkZWxldGVDaGFyYWN0ZXJzKGluIHJhbmdlOiBOU1JhbmdlKSB7fQogICAgb3BlbiBmdW5jIGVuZEVkaXRpbmcoKSB7fQogICAgb3BlbiBmdW5jIGluc2VydChfIGF0dHJTdHJpbmc6IE5TQXR0cmlidXRlZFN0cmluZywgYXQgbG9jOiBJbnQpIHt9CiAgICBvcGVuIGZ1bmMgcmVtb3ZlQXR0cmlidXRlKF8gbmFtZTogTlNBdHRyaWJ1dGVkU3RyaW5nLktleSwgcmFuZ2U6IE5TUmFuZ2UpIHt9CiAgICBvcGVuIGZ1bmMgcmVwbGFjZUNoYXJhY3RlcnMoaW4gcmFuZ2U6IE5TUmFuZ2UsIHdpdGggYXR0clN0cmluZzogTlNBdHRyaWJ1dGVkU3RyaW5nKSB7fQogICAgb3BlbiBmdW5jIHNldEF0dHJpYnV0ZWRTdHJpbmcoXyBhdHRyU3RyaW5nOiBOU0F0dHJpYnV0ZWRTdHJpbmcpIHt9CiAgICBvcGVuIGZ1bmMgc2V0QXR0cmlidXRlcyhfIGF0dHJzOiBbTlNBdHRyaWJ1dGVkU3RyaW5nLktleTogQW55XT8sIHJhbmdlOiBOU1JhbmdlKSB7fQp9Cm9wZW4gY2xhc3MgTlNNdXRhYmxlQ2hhcmFjdGVyU2V0IDogQW55T2JqZWN0LCBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNDaGFyYWN0ZXJTZXQsIE5TQ29kaW5nLCBOU0NvcHlpbmcsIE5TTXV0YWJsZUNvcHlpbmcsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBOU1NlY3VyZUNvZGluZywgX1N0cnVjdFR5cGVCcmlkZ2VhYmxlLCBfU3dpZnRCcmlkZ2VhYmxlIHsKICAgIG9wZW4gY2xhc3MgZnVuYyBhbHBoYW51bWVyaWMoKSAtPiBOU011dGFibGVDaGFyYWN0ZXJTZXQge30KICAgIG9wZW4gY2xhc3MgZnVuYyBjYXBpdGFsaXplZExldHRlcigpIC0+IE5TTXV0YWJsZUNoYXJhY3RlclNldCB7fQogICAgb3BlbiBjbGFzcyBmdW5jIGNvbnRyb2woKSAtPiBOU011dGFibGVDaGFyYWN0ZXJTZXQge30KICAgIG9wZW4gY2xhc3MgZnVuYyBkZWNpbWFsRGlnaXQoKSAtPiBOU011dGFibGVDaGFyYWN0ZXJTZXQge30KICAgIG9wZW4gY2xhc3MgZnVuYyBkZWNvbXBvc2FibGUoKSAtPiBOU011dGFibGVDaGFyYWN0ZXJTZXQge30KICAgIG9wZW4gY2xhc3MgZnVuYyBpbGxlZ2FsKCkgLT4gTlNNdXRhYmxlQ2hhcmFjdGVyU2V0IHt9CiAgICBwdWJsaWMgY2xhc3MgZnVuYyBsZXR0ZXIoKSAtPiBOU011dGFibGVDaGFyYWN0ZXJTZXQge30KICAgIG9wZW4gY2xhc3MgZnVuYyBsb3dlcmNhc2VMZXR0ZXIoKSAtPiBOU011dGFibGVDaGFyYWN0ZXJTZXQge30KICAgIG9wZW4gY2xhc3MgZnVuYyBuZXdsaW5lKCkgLT4gTlNNdXRhYmxlQ2hhcmFjdGVyU2V0IHt9CiAgICBvcGVuIGNsYXNzIGZ1bmMgbm9uQmFzZSgpIC0+IE5TTXV0YWJsZUNoYXJhY3RlclNldCB7fQogICAgb3BlbiBjbGFzcyBmdW5jIHB1bmN0dWF0aW9uKCkgLT4gTlNNdXRhYmxlQ2hhcmFjdGVyU2V0IHt9CiAgICBvcGVuIGNsYXNzIGZ1bmMgc3ltYm9sKCkgLT4gTlNNdXRhYmxlQ2hhcmFjdGVyU2V0IHt9CiAgICBvcGVuIGNsYXNzIGZ1bmMgdXBwZXJjYXNlTGV0dGVyKCkgLT4gTlNNdXRhYmxlQ2hhcmFjdGVyU2V0IHt9CiAgICBvcGVuIGNsYXNzIGZ1bmMgd2hpdGVzcGFjZSgpIC0+IE5TTXV0YWJsZUNoYXJhY3RlclNldCB7fQogICAgb3BlbiBjbGFzcyBmdW5jIHdoaXRlc3BhY2VBbmROZXdsaW5lKCkgLT4gTlNNdXRhYmxlQ2hhcmFjdGVyU2V0IHt9CiAgICBvcGVuIGZ1bmMgYWRkQ2hhcmFjdGVycyhpbiBhUmFuZ2U6IE5TUmFuZ2UpIHt9CiAgICBvcGVuIGZ1bmMgZm9ybUludGVyc2VjdGlvbih3aXRoIG90aGVyU2V0OiBDaGFyYWN0ZXJTZXQpIHt9CiAgICBvcGVuIGZ1bmMgZm9ybVVuaW9uKHdpdGggb3RoZXJTZXQ6IENoYXJhY3RlclNldCkge30KICAgIG9wZW4gZnVuYyBpbnZlcnQoKSB7fQogICAgb3BlbiBmdW5jIHJlbW92ZUNoYXJhY3RlcnMoaW4gYVJhbmdlOiBOU1JhbmdlKSB7fQp9Cm9wZW4gY2xhc3MgTlNNdXRhYmxlRGF0YSA6IEFueU9iamVjdCwgQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TQ29kaW5nLCBOU0NvcHlpbmcsIE5TRGF0YSwgTlNNdXRhYmxlQ29weWluZywgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wsIE5TU2VjdXJlQ29kaW5nLCBfQ0ZCcmlkZ2VhYmxlLCBfU3RydWN0VHlwZUJyaWRnZWFibGUsIF9Td2lmdEJyaWRnZWFibGUgewogICAgcHVibGljIGluaXQ/KGNhcGFjaXR5OiBJbnQpIHt9CiAgICBwdWJsaWMgaW5pdD8obGVuZ3RoOiBJbnQpIHt9CiAgICBvcGVuIHZhciBtdXRhYmxlQnl0ZXM6IFVuc2FmZU11dGFibGVSYXdQb2ludGVyIHsgZ2V0IH0KICAgIG9wZW4gZnVuYyBhcHBlbmQoXyBvdGhlcjogRGF0YSkge30KICAgIG9wZW4gZnVuYyBhcHBlbmQoXyBieXRlczogVW5zYWZlUmF3UG9pbnRlciwgbGVuZ3RoOiBJbnQpIHt9CiAgICBvcGVuIGZ1bmMgaW5jcmVhc2VMZW5ndGgoYnkgZXh0cmFMZW5ndGg6IEludCkge30KICAgIG9wZW4gZnVuYyByZXBsYWNlQnl0ZXMoaW4gcmFuZ2U6IE5TUmFuZ2UsIHdpdGhCeXRlcyBieXRlczogVW5zYWZlUmF3UG9pbnRlcikge30KICAgIG9wZW4gZnVuYyByZXBsYWNlQnl0ZXMoaW4gcmFuZ2U6IE5TUmFuZ2UsIHdpdGhCeXRlcyByZXBsYWNlbWVudEJ5dGVzOiBVbnNhZmVSYXdQb2ludGVyPywgbGVuZ3RoIHJlcGxhY2VtZW50TGVuZ3RoOiBJbnQpIHt9CiAgICBvcGVuIGZ1bmMgcmVzZXRCeXRlcyhpbiByYW5nZTogTlNSYW5nZSkge30KICAgIG9wZW4gZnVuYyBzZXREYXRhKF8gZGF0YTogRGF0YSkge30KfQpvcGVuIGNsYXNzIE5TTXV0YWJsZURpY3Rpb25hcnkgOiBBbnlPYmplY3QsIEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVJlZmxlY3RhYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBFeHByZXNzaWJsZUJ5RGljdGlvbmFyeUxpdGVyYWwsIEhhc2hhYmxlLCBOU0NvZGluZywgTlNDb3B5aW5nLCBOU0RpY3Rpb25hcnksIE5TTXV0YWJsZUNvcHlpbmcsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBOU1NlY3VyZUNvZGluZywgU2VxdWVuY2UsIF9DRkJyaWRnZWFibGUsIF9TdHJ1Y3RUeXBlQnJpZGdlYWJsZSwgX1N3aWZ0QnJpZGdlYWJsZSB7CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdChjYXBhY2l0eSBudW1JdGVtczogSW50KSB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQoc2hhcmVkS2V5U2V0IGtleXNldDogQW55KSB7fQogICAgb3BlbiBmdW5jIGFkZEVudHJpZXMoZnJvbSBvdGhlckRpY3Rpb25hcnk6IFtBbnlIYXNoYWJsZTogQW55XSkge30KICAgIG9wZW4gZnVuYyByZW1vdmVBbGxPYmplY3RzKCkge30KICAgIG9wZW4gZnVuYyByZW1vdmVPYmplY3QoZm9yS2V5IGFLZXk6IEFueSkge30KICAgIG9wZW4gZnVuYyByZW1vdmVPYmplY3RzKGZvcktleXMga2V5QXJyYXk6IFtBbnldKSB7fQogICAgb3BlbiBmdW5jIHNldERpY3Rpb25hcnkoXyBvdGhlckRpY3Rpb25hcnk6IFtBbnlIYXNoYWJsZTogQW55XSkge30KICAgIG9wZW4gZnVuYyBzZXRPYmplY3QoXyBhbk9iamVjdDogQW55LCBmb3JLZXkgYUtleTogQW55SGFzaGFibGUpIHt9Cn0Kb3BlbiBjbGFzcyBOU011dGFibGVJbmRleFNldCA6IEFueU9iamVjdCwgQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TQ29kaW5nLCBOU0NvcHlpbmcsIE5TSW5kZXhTZXQsIE5TTXV0YWJsZUNvcHlpbmcsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBOU1NlY3VyZUNvZGluZywgU2VxdWVuY2UsIF9TdHJ1Y3RUeXBlQnJpZGdlYWJsZSwgX1N3aWZ0QnJpZGdlYWJsZSB7CiAgICBvcGVuIGZ1bmMgYWRkKF8gaW5kZXhTZXQ6IEluZGV4U2V0KSB7fQogICAgb3BlbiBmdW5jIGFkZChpbiByOiBOU1JhbmdlKSB7fQogICAgb3BlbiBmdW5jIHJlbW92ZShfIGluZGV4U2V0OiBJbmRleFNldCkge30KICAgIG9wZW4gZnVuYyByZW1vdmUoaW4gcmFuZ2U6IE5TUmFuZ2UpIHt9CiAgICBvcGVuIGZ1bmMgcmVtb3ZlQWxsSW5kZXhlcygpIHt9CiAgICBvcGVuIGZ1bmMgc2hpZnRJbmRleGVzU3RhcnRpbmcoYXQgaW5kZXg6IEludCwgYnkgZGVsdGE6IEludCkge30KfQpvcGVuIGNsYXNzIE5TTXV0YWJsZU9yZGVyZWRTZXQgOiBBbnlPYmplY3QsIEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVJlZmxlY3RhYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBFeHByZXNzaWJsZUJ5QXJyYXlMaXRlcmFsLCBIYXNoYWJsZSwgTlNDb2RpbmcsIE5TQ29weWluZywgTlNNdXRhYmxlQ29weWluZywgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wsIE5TT3JkZXJlZFNldCwgTlNTZWN1cmVDb2RpbmcsIFNlcXVlbmNlIHsKICAgIHB1YmxpYyBpbml0KGNhcGFjaXR5IG51bUl0ZW1zOiBJbnQpIHt9CiAgICBvcGVuIGZ1bmMgYWRkKF8gb2JqZWN0OiBBbnkpIHt9CiAgICBvcGVuIGZ1bmMgYWRkKF8gb2JqZWN0czogVW5zYWZlUG9pbnRlcjxBbnlPYmplY3Q+PywgY291bnQ6IEludCkge30KICAgIG9wZW4gZnVuYyBhZGRPYmplY3RzKGZyb20gYXJyYXk6IFtBbnldKSB7fQogICAgb3BlbiBmdW5jIGV4Y2hhbmdlT2JqZWN0KGF0IGlkeDE6IEludCwgd2l0aE9iamVjdEF0IGlkeDI6IEludCkge30KICAgIG9wZW4gZnVuYyBmaWx0ZXIodXNpbmcgcHJlZGljYXRlOiBOU1ByZWRpY2F0ZSkge30KICAgIG9wZW4gZnVuYyBpbnNlcnQoXyBvYmplY3Q6IEFueSwgYXQgaWR4OiBJbnQpIHt9CiAgICBvcGVuIGZ1bmMgaW50ZXJzZWN0KF8gb3RoZXI6IE5TT3JkZXJlZFNldCkge30KICAgIG9wZW4gZnVuYyBpbnRlcnNlY3RTZXQoXyBvdGhlcjogU2V0PEFueUhhc2hhYmxlPikge30KICAgIG9wZW4gZnVuYyBtaW51cyhfIG90aGVyOiBOU09yZGVyZWRTZXQpIHt9CiAgICBvcGVuIGZ1bmMgbWludXNTZXQoXyBvdGhlcjogU2V0PEFueUhhc2hhYmxlPikge30KICAgIG9wZW4gZnVuYyBtb3ZlT2JqZWN0cyhhdCBpbmRleGVzOiBJbmRleFNldCwgdG8gaWR4OiBJbnQpIHt9CiAgICBvcGVuIGZ1bmMgcmVtb3ZlKF8gdmFsOiBBbnkpIHt9CiAgICBvcGVuIGZ1bmMgcmVtb3ZlQWxsT2JqZWN0cygpIHt9CiAgICBvcGVuIGZ1bmMgcmVtb3ZlT2JqZWN0KGF0IGlkeDogSW50KSB7fQogICAgb3BlbiBmdW5jIHJlbW92ZU9iamVjdHMoYXQgaW5kZXhlczogSW5kZXhTZXQpIHt9CiAgICBvcGVuIGZ1bmMgcmVtb3ZlT2JqZWN0cyhpbiBhcnJheTogW0FueV0pIHt9CiAgICBvcGVuIGZ1bmMgcmVwbGFjZU9iamVjdChhdCBpZHg6IEludCwgd2l0aCBvYmo6IEFueSkge30KICAgIG9wZW4gZnVuYyByZXBsYWNlT2JqZWN0cyhhdCBpbmRleGVzOiBJbmRleFNldCwgd2l0aCBvYmplY3RzOiBbQW55XSkge30KICAgIG9wZW4gZnVuYyByZXBsYWNlT2JqZWN0cyhpbiByYW5nZTogTlNSYW5nZSwgd2l0aCBvYmplY3RzOiBVbnNhZmVQb2ludGVyPEFueU9iamVjdD4hLCBjb3VudDogSW50KSB7fQogICAgb3BlbiBmdW5jIHNldE9iamVjdChfIG9iajogQW55LCBhdCBpZHg6IEludCkge30KICAgIG9wZW4gZnVuYyBzb3J0KGNvbXBhcmF0b3IgY21wdHI6IChBbnksIEFueSkgLT4gQ29tcGFyaXNvblJlc3VsdCkge30KICAgIG9wZW4gZnVuYyBzb3J0KG9wdGlvbnMgb3B0czogTlNTb3J0T3B0aW9ucyA9IHgsIHVzaW5nQ29tcGFyYXRvciBjbXB0cjogKEFueSwgQW55KSAtPiBDb21wYXJpc29uUmVzdWx0KSB7fQogICAgb3BlbiBmdW5jIHNvcnQodXNpbmcgc29ydERlc2NyaXB0b3JzOiBbTlNTb3J0RGVzY3JpcHRvcl0pIHt9CiAgICBvcGVuIGZ1bmMgc29ydFJhbmdlKF8gcmFuZ2U6IE5TUmFuZ2UsIG9wdGlvbnMgb3B0czogTlNTb3J0T3B0aW9ucyA9IHgsIHVzaW5nQ29tcGFyYXRvciBjbXB0cjogKEFueSwgQW55KSAtPiBDb21wYXJpc29uUmVzdWx0KSB7fQogICAgb3BlbiBmdW5jIHVuaW9uKF8gb3RoZXI6IE5TT3JkZXJlZFNldCkge30KICAgIG9wZW4gZnVuYyB1bmlvblNldChfIG90aGVyOiBTZXQ8QW55SGFzaGFibGU+KSB7fQp9Cm9wZW4gY2xhc3MgTlNNdXRhYmxlU2V0IDogQW55T2JqZWN0LCBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21SZWZsZWN0YWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TQ29kaW5nLCBOU0NvcHlpbmcsIE5TTXV0YWJsZUNvcHlpbmcsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBOU1NlY3VyZUNvZGluZywgTlNTZXQsIFNlcXVlbmNlLCBfQ0ZCcmlkZ2VhYmxlLCBfU3RydWN0VHlwZUJyaWRnZWFibGUsIF9Td2lmdEJyaWRnZWFibGUgewogICAgcHVibGljIHJlcXVpcmVkIGluaXQoY2FwYWNpdHkgbnVtSXRlbXM6IEludCkge30KICAgIG9wZW4gZnVuYyBhZGQoXyBvYmplY3Q6IEFueSkge30KICAgIG9wZW4gZnVuYyBhZGRPYmplY3RzKGZyb20gYXJyYXk6IFtBbnldKSB7fQogICAgb3BlbiBmdW5jIGZpbHRlcih1c2luZyBwcmVkaWNhdGU6IE5TUHJlZGljYXRlKSB7fQogICAgb3BlbiBmdW5jIGludGVyc2VjdChfIG90aGVyU2V0OiBTZXQ8QW55SGFzaGFibGU+KSB7fQogICAgb3BlbiBmdW5jIG1pbnVzKF8gb3RoZXJTZXQ6IFNldDxBbnlIYXNoYWJsZT4pIHt9CiAgICBvcGVuIGZ1bmMgcmVtb3ZlKF8gb2JqZWN0OiBBbnkpIHt9CiAgICBvcGVuIGZ1bmMgcmVtb3ZlQWxsT2JqZWN0cygpIHt9CiAgICBvcGVuIGZ1bmMgc2V0U2V0KF8gb3RoZXJTZXQ6IFNldDxBbnlIYXNoYWJsZT4pIHt9CiAgICBvcGVuIGZ1bmMgdW5pb24oXyBvdGhlclNldDogU2V0PEFueUhhc2hhYmxlPikge30KfQpvcGVuIGNsYXNzIE5TTXV0YWJsZVN0cmluZyA6IEFueU9iamVjdCwgQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgRXhwcmVzc2libGVCeVN0cmluZ0xpdGVyYWwsIEhhc2hhYmxlLCBOU0NvZGluZywgTlNDb3B5aW5nLCBOU011dGFibGVDb3B5aW5nLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCwgTlNTZWN1cmVDb2RpbmcsIE5TU3RyaW5nLCBfQ0ZCcmlkZ2VhYmxlLCBfU3RydWN0VHlwZUJyaWRnZWFibGUsIF9Td2lmdEJyaWRnZWFibGUgewogICAgcHVibGljIHJlcXVpcmVkIGluaXQoY2FwYWNpdHk6IEludCkge30KICAgIHB1YmxpYyBmdW5jIGFwcGVuZChfIGFTdHJpbmc6IFN0cmluZykge30KICAgIHB1YmxpYyBmdW5jIGFwcGx5VHJhbnNmb3JtKF8gdHJhbnNmb3JtOiBTdHJpbmcsIHJldmVyc2U6IEJvb2wsIHJhbmdlOiBOU1JhbmdlLCB1cGRhdGVkUmFuZ2UgcmVzdWx0aW5nUmFuZ2U6IE5TUmFuZ2VQb2ludGVyPykgLT4gQm9vbCB7fQogICAgcHVibGljIGZ1bmMgZGVsZXRlQ2hhcmFjdGVycyhpbiByYW5nZTogTlNSYW5nZSkge30KICAgIHB1YmxpYyBmdW5jIGluc2VydChfIGFTdHJpbmc6IFN0cmluZywgYXQgbG9jOiBJbnQpIHt9CiAgICBvcGVuIGZ1bmMgcmVwbGFjZUNoYXJhY3RlcnMoaW4gcmFuZ2U6IE5TUmFuZ2UsIHdpdGggYVN0cmluZzogU3RyaW5nKSB7fQogICAgcHVibGljIGZ1bmMgcmVwbGFjZU9jY3VycmVuY2VzKG9mIHRhcmdldDogU3RyaW5nLCB3aXRoIHJlcGxhY2VtZW50OiBTdHJpbmcsIG9wdGlvbnM6IENvbXBhcmVPcHRpb25zID0geCwgcmFuZ2Ugc2VhcmNoUmFuZ2U6IE5TUmFuZ2UpIC0+IEludCB7fQogICAgcHVibGljIGZ1bmMgc2V0U3RyaW5nKF8gYVN0cmluZzogU3RyaW5nKSB7fQp9Cm9wZW4gY2xhc3MgTlNNdXRhYmxlVVJMUmVxdWVzdCA6IEFueU9iamVjdCwgQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TQ29kaW5nLCBOU0NvcHlpbmcsIE5TTXV0YWJsZUNvcHlpbmcsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBOU1NlY3VyZUNvZGluZywgTlNVUkxSZXF1ZXN0LCBfU3RydWN0VHlwZUJyaWRnZWFibGUgewogICAgb3BlbiBmdW5jIGFkZFZhbHVlKF8gdmFsdWU6IFN0cmluZywgZm9ySFRUUEhlYWRlckZpZWxkIGZpZWxkOiBTdHJpbmcpIHt9CiAgICBvcGVuIGZ1bmMgc2V0VmFsdWUoXyB2YWx1ZTogU3RyaW5nPywgZm9ySFRUUEhlYWRlckZpZWxkIGZpZWxkOiBTdHJpbmcpIHt9Cn0Kb3BlbiBjbGFzcyBOU05vdGlmaWNhdGlvbiA6IEFueU9iamVjdCwgQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TQ29kaW5nLCBOU0NvcHlpbmcsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sIHsKICAgIHB1YmxpYyBpbml0KG5hbWU6IE5hbWUsIG9iamVjdDogQW55PywgdXNlckluZm86IFtBbnlIYXNoYWJsZTogQW55XT8gPSB4KSB7fQogICAgb3BlbiB2YXIgbmFtZTogTmFtZSB7IGdldCB9CiAgICBvcGVuIHZhciBvYmplY3Q6IEFueT8geyBnZXQgfQogICAgb3BlbiB2YXIgdXNlckluZm86IFtBbnlIYXNoYWJsZTogQW55XT8geyBnZXQgfQp9Cm9wZW4gY2xhc3MgTlNOdWxsIDogQW55T2JqZWN0LCBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNDb2RpbmcsIE5TQ29weWluZywgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wsIE5TU2VjdXJlQ29kaW5nIHsKfQpvcGVuIGNsYXNzIE5TTnVtYmVyIDogQW55T2JqZWN0LCBDb21wYXJhYmxlLCBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBFeHByZXNzaWJsZUJ5Qm9vbGVhbkxpdGVyYWwsIEV4cHJlc3NpYmxlQnlGbG9hdExpdGVyYWwsIEV4cHJlc3NpYmxlQnlJbnRlZ2VyTGl0ZXJhbCwgSGFzaGFibGUsIE5TQ29kaW5nLCBOU0NvcHlpbmcsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBOU1NlY3VyZUNvZGluZywgTlNWYWx1ZSwgX0ZhY3RvcnksIF9OU051bWJlckNhc3RpbmdXaXRob3V0QnJpZGdpbmcgewogICAgcHVibGljIHJlcXVpcmVkIGNvbnZlbmllbmNlIGluaXQoYm9vbGVhbkxpdGVyYWwgdmFsdWU6IEJvb2wpIHt9CiAgICBwdWJsaWMgcmVxdWlyZWQgY29udmVuaWVuY2UgaW5pdChmbG9hdExpdGVyYWwgdmFsdWU6IERvdWJsZSkge30KICAgIHB1YmxpYyByZXF1aXJlZCBjb252ZW5pZW5jZSBpbml0KGludGVnZXJMaXRlcmFsIHZhbHVlOiBJbnQpIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdCh2YWx1ZTogQm9vbCkge30KICAgIG9wZW4gdmFyIGJvb2xWYWx1ZTogQm9vbCB7IGdldCB9CiAgICBwdWJsaWMgdmFyIGRlY2ltYWxWYWx1ZTogRGVjaW1hbCB7IGdldCB9CiAgICBvcGVuIHZhciBkb3VibGVWYWx1ZTogRG91YmxlIHsgZ2V0IH0KICAgIG9wZW4gdmFyIGZsb2F0VmFsdWU6IEZsb2F0IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGludDE2VmFsdWU6IEludDE2IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGludDMyVmFsdWU6IEludDMyIHsgZ2V0IH0KICAgIG9wZW4gdmFyIGludDY0VmFsdWU6IEludDY0IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGludDhWYWx1ZTogSW50OCB7IGdldCB9CiAgICBvcGVuIHZhciBpbnRWYWx1ZTogSW50IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHN0cmluZ1ZhbHVlOiBTdHJpbmcgeyBnZXQgfQogICAgb3BlbiB2YXIgdWludDE2VmFsdWU6IFVJbnQxNiB7IGdldCB9CiAgICBvcGVuIHZhciB1aW50MzJWYWx1ZTogVUludDMyIHsgZ2V0IH0KICAgIG9wZW4gdmFyIHVpbnQ2NFZhbHVlOiBVSW50NjQgeyBnZXQgfQogICAgb3BlbiB2YXIgdWludDhWYWx1ZTogVUludDggeyBnZXQgfQogICAgb3BlbiB2YXIgdWludFZhbHVlOiBVSW50IHsgZ2V0IH0KICAgIHB1YmxpYyBmdW5jIDwobGhzOiBOU051bWJlciwgcmhzOiBOU051bWJlcikgLT4gQm9vbCB7fQogICAgb3BlbiBmdW5jIGNvbXBhcmUoXyBvdGhlck51bWJlcjogTlNOdW1iZXIpIC0+IENvbXBhcmlzb25SZXN1bHQge30KICAgIG9wZW4gZnVuYyBkZXNjcmlwdGlvbih3aXRoTG9jYWxlIGxvY2FsZTogTG9jYWxlPykgLT4gU3RyaW5nIHt9Cn0Kb3BlbiBjbGFzcyBOU09iamVjdCA6IEFueU9iamVjdCwgQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TT2JqZWN0UHJvdG9jb2wgewogICAgcHVibGljIGNsYXNzIHZhciBzdXBlcmNsYXNzOiBBbnlDbGFzcz8geyBnZXQgfQogICAgb3BlbiBjbGFzcyBmdW5jIGNsYXNzRmFsbGJhY2tzRm9yS2V5ZWRBcmNoaXZlcigpIC0+IFtTdHJpbmddIHt9CiAgICBvcGVuIGNsYXNzIGZ1bmMgY2xhc3NGb3JLZXllZFVuYXJjaGl2ZXIoKSAtPiBBbnlDbGFzcyB7fQogICAgcHVibGljIGNsYXNzIGZ1bmMgaXNTdWJjbGFzcyhvZiBhQ2xhc3M6IEFueUNsYXNzKSAtPiBCb29sIHt9CiAgICBwdWJsaWMgaW5pdCgpIHt9CiAgICBvcGVuIHZhciBjbGFzc0ZvckNvZGVyOiBBbnlDbGFzcyB7IGdldCB9CiAgICBvcGVuIHZhciBjbGFzc0ZvcktleWVkQXJjaGl2ZXI6IEFueUNsYXNzPyB7IGdldCB9CiAgICBwdWJsaWMgdmFyIGhhc2hWYWx1ZTogSW50IHsgZ2V0IH0KICAgIHB1YmxpYyBmdW5jID09KGxoczogTlNPYmplY3QsIHJoczogTlNPYmplY3QpIC0+IEJvb2wge30KICAgIG9wZW4gZnVuYyBjb3B5KCkgLT4gQW55IHt9CiAgICBwdWJsaWMgZnVuYyBoYXNoKGludG8gaGFzaGVyOiBpbm91dCBIYXNoZXIpIHt9CiAgICBwdWJsaWMgZnVuYyBpc0tpbmQob2YgYUNsYXNzOiBBbnlDbGFzcykgLT4gQm9vbCB7fQogICAgcHVibGljIGZ1bmMgaXNNZW1iZXIob2YgYUNsYXNzOiBBbnlDbGFzcykgLT4gQm9vbCB7fQogICAgb3BlbiBmdW5jIG11dGFibGVDb3B5KCkgLT4gQW55IHt9CiAgICBvcGVuIGZ1bmMgcmVwbGFjZW1lbnRPYmplY3QoZm9yIGFDb2RlcjogTlNDb2RlcikgLT4gQW55PyB7fQogICAgb3BlbiBmdW5jIHJlcGxhY2VtZW50T2JqZWN0KGZvciBhcmNoaXZlcjogTlNLZXllZEFyY2hpdmVyKSAtPiBBbnk/IHt9Cn0Kb3BlbiBjbGFzcyBOU09yZGVyZWRTZXQgOiBBbnlPYmplY3QsIEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVJlZmxlY3RhYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBFeHByZXNzaWJsZUJ5QXJyYXlMaXRlcmFsLCBIYXNoYWJsZSwgTlNDb2RpbmcsIE5TQ29weWluZywgTlNNdXRhYmxlQ29weWluZywgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wsIE5TU2VjdXJlQ29kaW5nLCBTZXF1ZW5jZSB7CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdChhcnJheTogW0FueV0pIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdChhcnJheSBzZXQ6IFtBbnldLCBjb3B5SXRlbXMgZmxhZzogQm9vbCkge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KGFycmF5IHNldDogW0FueV0sIHJhbmdlOiBOU1JhbmdlLCBjb3B5SXRlbXMgZmxhZzogQm9vbCkge30KICAgIHB1YmxpYyByZXF1aXJlZCBjb252ZW5pZW5jZSBpbml0KGFycmF5TGl0ZXJhbCBlbGVtZW50czogQW55Li4uKSB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQob2JqZWN0OiBBbnkpIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdChvYmplY3RzIGVsZW1lbnRzOiBBbnkuLi4pIHt9CiAgICBwdWJsaWMgaW5pdChvYmplY3RzOiBVbnNhZmVQb2ludGVyPEFueU9iamVjdD4/LCBjb3VudCBjbnQ6IEludCkge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KG9yZGVyZWRTZXQgc2V0OiBOU09yZGVyZWRTZXQpIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdChvcmRlcmVkU2V0IHNldDogTlNPcmRlcmVkU2V0LCBjb3B5SXRlbXMgZmxhZzogQm9vbCkge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KG9yZGVyZWRTZXQgc2V0OiBOU09yZGVyZWRTZXQsIHJhbmdlOiBOU1JhbmdlLCBjb3B5SXRlbXMgZmxhZzogQm9vbCkge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KHNldDogU2V0PEFueUhhc2hhYmxlPikge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KHNldDogU2V0PEFueUhhc2hhYmxlPiwgY29weUl0ZW1zIGZsYWc6IEJvb2wpIHt9CiAgICBwdWJsaWMgdmFyIGFycmF5OiBbQW55XSB7IGdldCB9CiAgICBvcGVuIHZhciBjb3VudDogSW50IHsgZ2V0IH0KICAgIHB1YmxpYyB2YXIgY3VzdG9tTWlycm9yOiBNaXJyb3IgeyBnZXQgfQogICAgcHVibGljIHZhciBmaXJzdE9iamVjdDogQW55PyB7IGdldCB9CiAgICBwdWJsaWMgdmFyIGxhc3RPYmplY3Q6IEFueT8geyBnZXQgfQogICAgcHVibGljIHZhciByZXZlcnNlZDogTlNPcmRlcmVkU2V0IHsgZ2V0IH0KICAgIHB1YmxpYyB2YXIgc2V0OiBTZXQ8QW55SGFzaGFibGU+IHsgZ2V0IH0KICAgIG9wZW4gc3Vic2NyaXB0KGlkeDogSW50KSAtPiBBbnkgeyBnZXQgfSB7fQogICAgb3BlbiBmdW5jIGNvbnRhaW5zKF8gb2JqZWN0OiBBbnkpIC0+IEJvb2wge30KICAgIHB1YmxpYyBmdW5jIGRlc2NyaXB0aW9uKHdpdGhMb2NhbGUgbG9jYWxlOiBMb2NhbGU/KSAtPiBTdHJpbmcge30KICAgIHB1YmxpYyBmdW5jIGRlc2NyaXB0aW9uKHdpdGhMb2NhbGUgbG9jYWxlOiBMb2NhbGU/LCBpbmRlbnQgbGV2ZWw6IEludCkgLT4gU3RyaW5nIHt9CiAgICBvcGVuIGZ1bmMgZW51bWVyYXRlT2JqZWN0cyhfIGJsb2NrOiAoQW55LCBJbnQsIFVuc2FmZU11dGFibGVQb2ludGVyPE9iakNCb29sPikgLT4gU3dpZnQuVm9pZCkge30KICAgIG9wZW4gZnVuYyBlbnVtZXJhdGVPYmplY3RzKGF0IHM6IEluZGV4U2V0LCBvcHRpb25zIG9wdHM6IE5TRW51bWVyYXRpb25PcHRpb25zID0geCwgdXNpbmcgYmxvY2s6IChBbnksIEludCwgVW5zYWZlTXV0YWJsZVBvaW50ZXI8T2JqQ0Jvb2w+KSAtPiBTd2lmdC5Wb2lkKSB7fQogICAgb3BlbiBmdW5jIGVudW1lcmF0ZU9iamVjdHMob3B0aW9ucyBvcHRzOiBOU0VudW1lcmF0aW9uT3B0aW9ucyA9IHgsIHVzaW5nIGJsb2NrOiAoQW55LCBJbnQsIFVuc2FmZU11dGFibGVQb2ludGVyPE9iakNCb29sPikgLT4gU3dpZnQuVm9pZCkge30KICAgIG9wZW4gZnVuYyBmaWx0ZXJlZCh1c2luZyBwcmVkaWNhdGU6IE5TUHJlZGljYXRlKSAtPiBOU09yZGVyZWRTZXQge30KICAgIG9wZW4gZnVuYyBpbmRleChfIG9wdHM6IE5TRW51bWVyYXRpb25PcHRpb25zID0geCwgb2ZPYmplY3RQYXNzaW5nVGVzdCBwcmVkaWNhdGU6IChBbnksIEludCwgVW5zYWZlTXV0YWJsZVBvaW50ZXI8T2JqQ0Jvb2w+KSAtPiBCb29sKSAtPiBJbnQge30KICAgIG9wZW4gZnVuYyBpbmRleChvZiBvYmplY3Q6IEFueSkgLT4gSW50IHt9CiAgICBvcGVuIGZ1bmMgaW5kZXgob2Ygb2JqZWN0OiBBbnksIGluU29ydGVkUmFuZ2UgcmFuZ2U6IE5TUmFuZ2UsIG9wdGlvbnMgb3B0czogTlNCaW5hcnlTZWFyY2hpbmdPcHRpb25zID0geCwgdXNpbmdDb21wYXJhdG9yIGNtcDogKEFueSwgQW55KSAtPiBDb21wYXJpc29uUmVzdWx0KSAtPiBJbnQge30KICAgIG9wZW4gZnVuYyBpbmRleChvZk9iamVjdEF0IHM6IEluZGV4U2V0LCBvcHRpb25zIG9wdHM6IE5TRW51bWVyYXRpb25PcHRpb25zID0geCwgcGFzc2luZ1Rlc3QgcHJlZGljYXRlOiAoQW55LCBJbnQsIFVuc2FmZU11dGFibGVQb2ludGVyPE9iakNCb29sPikgLT4gQm9vbCkgLT4gSW50IHt9CiAgICBvcGVuIGZ1bmMgaW5kZXgob2ZPYmplY3RQYXNzaW5nVGVzdCBwcmVkaWNhdGU6IChBbnksIEludCwgVW5zYWZlTXV0YWJsZVBvaW50ZXI8T2JqQ0Jvb2w+KSAtPiBCb29sKSAtPiBJbnQge30KICAgIG9wZW4gZnVuYyBpbmRleGVzKG9mT2JqZWN0c0F0IHM6IEluZGV4U2V0LCBvcHRpb25zIG9wdHM6IE5TRW51bWVyYXRpb25PcHRpb25zID0geCwgcGFzc2luZ1Rlc3QgcHJlZGljYXRlOiAoQW55LCBJbnQsIFVuc2FmZU11dGFibGVQb2ludGVyPE9iakNCb29sPikgLT4gQm9vbCkgLT4gSW5kZXhTZXQge30KICAgIG9wZW4gZnVuYyBpbmRleGVzKG9mT2JqZWN0c1Bhc3NpbmdUZXN0IHByZWRpY2F0ZTogKEFueSwgSW50LCBVbnNhZmVNdXRhYmxlUG9pbnRlcjxPYmpDQm9vbD4pIC0+IEJvb2wpIC0+IEluZGV4U2V0IHt9CiAgICBvcGVuIGZ1bmMgaW5kZXhlcyhvcHRpb25zIG9wdHM6IE5TRW51bWVyYXRpb25PcHRpb25zID0geCwgb2ZPYmplY3RzUGFzc2luZ1Rlc3QgcHJlZGljYXRlOiAoQW55LCBJbnQsIFVuc2FmZU11dGFibGVQb2ludGVyPE9iakNCb29sPikgLT4gQm9vbCkgLT4gSW5kZXhTZXQge30KICAgIG9wZW4gZnVuYyBpbnRlcnNlY3RzKF8gb3RoZXI6IE5TT3JkZXJlZFNldCkgLT4gQm9vbCB7fQogICAgb3BlbiBmdW5jIGludGVyc2VjdHNTZXQoXyBzZXQ6IFNldDxBbnlIYXNoYWJsZT4pIC0+IEJvb2wge30KICAgIG9wZW4gZnVuYyBpc0VxdWFsKHRvIG90aGVyOiBOU09yZGVyZWRTZXQpIC0+IEJvb2wge30KICAgIG9wZW4gZnVuYyBpc1N1YnNldChvZiBvdGhlcjogTlNPcmRlcmVkU2V0KSAtPiBCb29sIHt9CiAgICBwdWJsaWMgZnVuYyBtYWtlSXRlcmF0b3IoKSAtPiBJdGVyYXRvciB7fQogICAgb3BlbiBmdW5jIG9iamVjdChhdCBpZHg6IEludCkgLT4gQW55IHt9CiAgICBwdWJsaWMgZnVuYyBvYmplY3RFbnVtZXJhdG9yKCkgLT4gTlNFbnVtZXJhdG9yIHt9CiAgICBvcGVuIGZ1bmMgb2JqZWN0cyhhdCBpbmRleGVzOiBJbmRleFNldCkgLT4gW0FueV0ge30KICAgIHB1YmxpYyBmdW5jIHJldmVyc2VPYmplY3RFbnVtZXJhdG9yKCkgLT4gTlNFbnVtZXJhdG9yIHt9CiAgICBvcGVuIGZ1bmMgc29ydGVkQXJyYXkoY29tcGFyYXRvciBjbXB0cjogKEFueSwgQW55KSAtPiBDb21wYXJpc29uUmVzdWx0KSAtPiBbQW55XSB7fQogICAgb3BlbiBmdW5jIHNvcnRlZEFycmF5KG9wdGlvbnMgb3B0czogTlNTb3J0T3B0aW9ucyA9IHgsIHVzaW5nQ29tcGFyYXRvciBjbXB0cjogKEFueSwgQW55KSAtPiBDb21wYXJpc29uUmVzdWx0KSAtPiBbQW55XSB7fQogICAgb3BlbiBmdW5jIHNvcnRlZEFycmF5KHVzaW5nIHNvcnREZXNjcmlwdG9yczogW05TU29ydERlc2NyaXB0b3JdKSAtPiBbQW55XSB7fQp9Cm9wZW4gY2xhc3MgTlNQZXJzb25OYW1lQ29tcG9uZW50cyA6IEFueU9iamVjdCwgQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TQ29kaW5nLCBOU0NvcHlpbmcsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBOU1NlY3VyZUNvZGluZywgX0hhc0N1c3RvbUFueUhhc2hhYmxlUmVwcmVzZW50YXRpb24sIF9TdHJ1Y3RUeXBlQnJpZGdlYWJsZSB7CiAgICBvcGVuIHZhciBmYW1pbHlOYW1lOiBTdHJpbmc/IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBnaXZlbk5hbWU6IFN0cmluZz8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIG1pZGRsZU5hbWU6IFN0cmluZz8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIG5hbWVQcmVmaXg6IFN0cmluZz8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIG5hbWVTdWZmaXg6IFN0cmluZz8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIG5pY2tuYW1lOiBTdHJpbmc/IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBwaG9uZXRpY1JlcHJlc2VudGF0aW9uOiBQZXJzb25OYW1lQ29tcG9uZW50cz8geyBnZXQgc2V0IH0KfQpvcGVuIGNsYXNzIE5TUHJlZGljYXRlIDogQW55T2JqZWN0LCBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNDb3B5aW5nLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCB7CiAgICBwdWJsaWMgaW5pdChibG9jazogQGVzY2FwaW5nIChBbnk/LCBbU3RyaW5nOiBBbnldPykgLT4gQm9vbCkge30KICAgIHB1YmxpYyBpbml0KHZhbHVlOiBCb29sKSB7fQogICAgb3BlbiBmdW5jIGV2YWx1YXRlKHdpdGggb2JqZWN0OiBBbnk/KSAtPiBCb29sIHt9CiAgICBvcGVuIGZ1bmMgZXZhbHVhdGUod2l0aCBvYmplY3Q6IEFueT8sIHN1YnN0aXR1dGlvblZhcmlhYmxlcyBiaW5kaW5nczogW1N0cmluZzogQW55XT8pIC0+IEJvb2wge30KfQpvcGVuIGNsYXNzIE5TUmVjdXJzaXZlTG9jayA6IEFueU9iamVjdCwgQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TTG9ja2luZywgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wgewogICAgb3BlbiB2YXIgbmFtZTogU3RyaW5nPyB7IGdldCBzZXQgfQogICAgb3BlbiBmdW5jIGxvY2soYmVmb3JlIGxpbWl0OiBEYXRlKSAtPiBCb29sIHt9CiAgICBvcGVuIGZ1bmMgdHJ5KCkgLT4gQm9vbCB7fQp9Cm9wZW4gY2xhc3MgTlNSZWd1bGFyRXhwcmVzc2lvbiA6IEFueU9iamVjdCwgQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TQ29kaW5nLCBOU0NvcHlpbmcsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBOU1NlY3VyZUNvZGluZyB7CiAgICBvcGVuIGNsYXNzIGZ1bmMgZXNjYXBlZFBhdHRlcm4oZm9yIHN0cmluZzogU3RyaW5nKSAtPiBTdHJpbmcge30KICAgIG9wZW4gY2xhc3MgZnVuYyBlc2NhcGVkVGVtcGxhdGUoZm9yIHN0cmluZzogU3RyaW5nKSAtPiBTdHJpbmcge30KICAgIHB1YmxpYyBpbml0KHBhdHRlcm46IFN0cmluZywgb3B0aW9uczogT3B0aW9ucyA9IHgpIHRocm93cyB7fQogICAgb3BlbiB2YXIgbnVtYmVyT2ZDYXB0dXJlR3JvdXBzOiBJbnQgeyBnZXQgfQogICAgb3BlbiB2YXIgb3B0aW9uczogT3B0aW9ucyB7IGdldCB9CiAgICBvcGVuIHZhciBwYXR0ZXJuOiBTdHJpbmcgeyBnZXQgfQogICAgcHVibGljIGZ1bmMgZW51bWVyYXRlTWF0Y2hlcyhpbiBzdHJpbmc6IFN0cmluZywgb3B0aW9uczogTlNSZWd1bGFyRXhwcmVzc2lvbi5NYXRjaGluZ09wdGlvbnMgPSB4LCByYW5nZTogTlNSYW5nZSwgdXNpbmcgYmxvY2s6IEBlc2NhcGluZyAoTlNUZXh0Q2hlY2tpbmdSZXN1bHQ/LCBOU1JlZ3VsYXJFeHByZXNzaW9uLk1hdGNoaW5nRmxhZ3MsIFVuc2FmZU11dGFibGVQb2ludGVyPE9iakNCb29sPikgLT4gU3dpZnQuVm9pZCkge30KICAgIHB1YmxpYyBmdW5jIGZpcnN0TWF0Y2goaW4gc3RyaW5nOiBTdHJpbmcsIG9wdGlvbnM6IE5TUmVndWxhckV4cHJlc3Npb24uTWF0Y2hpbmdPcHRpb25zID0geCwgcmFuZ2U6IE5TUmFuZ2UpIC0+IE5TVGV4dENoZWNraW5nUmVzdWx0PyB7fQogICAgcHVibGljIGZ1bmMgbWF0Y2hlcyhpbiBzdHJpbmc6IFN0cmluZywgb3B0aW9uczogTlNSZWd1bGFyRXhwcmVzc2lvbi5NYXRjaGluZ09wdGlvbnMgPSB4LCByYW5nZTogTlNSYW5nZSkgLT4gW05TVGV4dENoZWNraW5nUmVzdWx0XSB7fQogICAgcHVibGljIGZ1bmMgbnVtYmVyT2ZNYXRjaGVzKGluIHN0cmluZzogU3RyaW5nLCBvcHRpb25zOiBOU1JlZ3VsYXJFeHByZXNzaW9uLk1hdGNoaW5nT3B0aW9ucyA9IHgsIHJhbmdlOiBOU1JhbmdlKSAtPiBJbnQge30KICAgIHB1YmxpYyBmdW5jIHJhbmdlT2ZGaXJzdE1hdGNoKGluIHN0cmluZzogU3RyaW5nLCBvcHRpb25zOiBOU1JlZ3VsYXJFeHByZXNzaW9uLk1hdGNoaW5nT3B0aW9ucyA9IHgsIHJhbmdlOiBOU1JhbmdlKSAtPiBOU1JhbmdlIHt9CiAgICBwdWJsaWMgZnVuYyByZXBsYWNlTWF0Y2hlcyhpbiBzdHJpbmc6IE5TTXV0YWJsZVN0cmluZywgb3B0aW9uczogTlNSZWd1bGFyRXhwcmVzc2lvbi5NYXRjaGluZ09wdGlvbnMgPSB4LCByYW5nZTogTlNSYW5nZSwgd2l0aFRlbXBsYXRlIHRlbXBsOiBTdHJpbmcpIC0+IEludCB7fQogICAgcHVibGljIGZ1bmMgcmVwbGFjZW1lbnRTdHJpbmcoZm9yIHJlc3VsdDogTlNUZXh0Q2hlY2tpbmdSZXN1bHQsIGluIHN0cmluZzogU3RyaW5nLCBvZmZzZXQ6IEludCwgdGVtcGxhdGUgdGVtcGw6IFN0cmluZykgLT4gU3RyaW5nIHt9CiAgICBwdWJsaWMgZnVuYyBzdHJpbmdCeVJlcGxhY2luZ01hdGNoZXMoaW4gc3RyaW5nOiBTdHJpbmcsIG9wdGlvbnM6IE5TUmVndWxhckV4cHJlc3Npb24uTWF0Y2hpbmdPcHRpb25zID0geCwgcmFuZ2U6IE5TUmFuZ2UsIHdpdGhUZW1wbGF0ZSB0ZW1wbDogU3RyaW5nKSAtPiBTdHJpbmcge30KfQpvcGVuIGNsYXNzIE5TU2V0IDogQW55T2JqZWN0LCBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21SZWZsZWN0YWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TQ29kaW5nLCBOU0NvcHlpbmcsIE5TTXV0YWJsZUNvcHlpbmcsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBOU1NlY3VyZUNvZGluZywgU2VxdWVuY2UsIF9DRkJyaWRnZWFibGUsIF9TdHJ1Y3RUeXBlQnJpZGdlYWJsZSwgX1N3aWZ0QnJpZGdlYWJsZSB7CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdChhcnJheTogW0FueV0pIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdChvYmplY3Q6IEFueSkge30KICAgIHB1YmxpYyBpbml0KG9iamVjdHM6IFVuc2FmZVBvaW50ZXI8QW55T2JqZWN0PiEsIGNvdW50IGNudDogSW50KSB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQoc2V0IGFuU2V0OiBOU1NldCkge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KHNldDogU2V0PEFueUhhc2hhYmxlPiwgY29weUl0ZW1zIGZsYWc6IEJvb2wpIHt9CiAgICBvcGVuIHZhciBhbGxPYmplY3RzOiBbQW55XSB7IGdldCB9CiAgICBvcGVuIHZhciBjb3VudDogSW50IHsgZ2V0IH0KICAgIHB1YmxpYyB2YXIgY3VzdG9tTWlycm9yOiBNaXJyb3IgeyBnZXQgfQogICAgb3BlbiBmdW5jIGFkZGluZyhfIGFuT2JqZWN0OiBBbnkpIC0+IFNldDxBbnlIYXNoYWJsZT4ge30KICAgIG9wZW4gZnVuYyBhZGRpbmdPYmplY3RzKGZyb20gb3RoZXI6IFNldDxBbnlIYXNoYWJsZT4pIC0+IFNldDxBbnlIYXNoYWJsZT4ge30KICAgIG9wZW4gZnVuYyBhbnlPYmplY3QoKSAtPiBBbnk/IHt9CiAgICBvcGVuIGZ1bmMgY29udGFpbnMoXyBhbk9iamVjdDogQW55KSAtPiBCb29sIHt9CiAgICBvcGVuIGZ1bmMgZGVzY3JpcHRpb24od2l0aExvY2FsZSBsb2NhbGU6IExvY2FsZT8pIC0+IFN0cmluZyB7fQogICAgb3BlbiBmdW5jIGVudW1lcmF0ZU9iamVjdHMoXyBibG9jazogKEFueSwgVW5zYWZlTXV0YWJsZVBvaW50ZXI8T2JqQ0Jvb2w+KSAtPiBTd2lmdC5Wb2lkKSB7fQogICAgb3BlbiBmdW5jIGVudW1lcmF0ZU9iamVjdHMob3B0aW9ucyBvcHRzOiBOU0VudW1lcmF0aW9uT3B0aW9ucyA9IHgsIHVzaW5nIGJsb2NrOiAoQW55LCBVbnNhZmVNdXRhYmxlUG9pbnRlcjxPYmpDQm9vbD4pIC0+IFN3aWZ0LlZvaWQpIHt9CiAgICBvcGVuIGZ1bmMgZmlsdGVyZWQodXNpbmcgcHJlZGljYXRlOiBOU1ByZWRpY2F0ZSkgLT4gU2V0PEFueUhhc2hhYmxlPiB7fQogICAgb3BlbiBmdW5jIGludGVyc2VjdHMoXyBvdGhlclNldDogU2V0PEFueUhhc2hhYmxlPikgLT4gQm9vbCB7fQogICAgb3BlbiBmdW5jIGlzRXF1YWwodG8gb3RoZXJTZXQ6IFNldDxBbnlIYXNoYWJsZT4pIC0+IEJvb2wge30KICAgIG9wZW4gZnVuYyBpc1N1YnNldChvZiBvdGhlclNldDogU2V0PEFueUhhc2hhYmxlPikgLT4gQm9vbCB7fQogICAgcHVibGljIGZ1bmMgbWFrZUl0ZXJhdG9yKCkgLT4gSXRlcmF0b3Ige30KICAgIG9wZW4gZnVuYyBtZW1iZXIoXyBvYmplY3Q6IEFueSkgLT4gQW55PyB7fQogICAgb3BlbiBmdW5jIG9iamVjdEVudW1lcmF0b3IoKSAtPiBOU0VudW1lcmF0b3Ige30KICAgIG9wZW4gZnVuYyBvYmplY3RzKG9wdGlvbnMgb3B0czogTlNFbnVtZXJhdGlvbk9wdGlvbnMgPSB4LCBwYXNzaW5nVGVzdCBwcmVkaWNhdGU6IChBbnksIFVuc2FmZU11dGFibGVQb2ludGVyPE9iakNCb29sPikgLT4gQm9vbCkgLT4gU2V0PEFueUhhc2hhYmxlPiB7fQogICAgb3BlbiBmdW5jIG9iamVjdHMocGFzc2luZ1Rlc3QgcHJlZGljYXRlOiAoQW55LCBVbnNhZmVNdXRhYmxlUG9pbnRlcjxPYmpDQm9vbD4pIC0+IEJvb2wpIC0+IFNldDxBbnlIYXNoYWJsZT4ge30KICAgIG9wZW4gZnVuYyBzb3J0ZWRBcnJheSh1c2luZyBzb3J0RGVzY3JpcHRvcnM6IFtOU1NvcnREZXNjcmlwdG9yXSkgLT4gW0FueV0ge30KfQpvcGVuIGNsYXNzIE5TU29ydERlc2NyaXB0b3IgOiBBbnlPYmplY3QsIEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU0NvcHlpbmcsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sIHsKICAgIHB1YmxpYyBpbml0PFJvb3QsIFZhbHVlPihrZXlQYXRoOiBLZXlQYXRoPFJvb3QsIFZhbHVlPiwgYXNjZW5kaW5nOiBCb29sKSB3aGVyZSBWYWx1ZSA6IENvbXBhcmFibGUge30KICAgIHB1YmxpYyBpbml0PFJvb3QsIFZhbHVlPihrZXlQYXRoOiBLZXlQYXRoPFJvb3QsIFZhbHVlPiwgYXNjZW5kaW5nOiBCb29sLCBjb21wYXJhdG9yIGNtcHRyOiBAZXNjYXBpbmcgQ29tcGFyYXRvcikge30KICAgIG9wZW4gdmFyIGFzY2VuZGluZzogQm9vbCB7IGdldCB9CiAgICBvcGVuIHZhciBjb21wYXJhdG9yOiBDb21wYXJhdG9yIHsgZ2V0IH0KICAgIG9wZW4gdmFyIGtleVBhdGg6IEFueUtleVBhdGggeyBnZXQgfQogICAgb3BlbiB2YXIgcmV2ZXJzZWRTb3J0RGVzY3JpcHRvcjogQW55IHsgZ2V0IH0KICAgIG9wZW4gZnVuYyBjb21wYXJlKF8gb2JqZWN0MTogQW55LCB0byBvYmplY3QyOiBBbnkpIC0+IENvbXBhcmlzb25SZXN1bHQge30KfQpvcGVuIGNsYXNzIE5TU3RyaW5nIDogQW55T2JqZWN0LCBDb21wYXJhYmxlLCBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBFeHByZXNzaWJsZUJ5U3RyaW5nTGl0ZXJhbCwgSGFzaGFibGUsIE5TQ29kaW5nLCBOU0NvcHlpbmcsIE5TTXV0YWJsZUNvcHlpbmcsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBOU1NlY3VyZUNvZGluZywgX0NGQnJpZGdlYWJsZSwgX1N0cnVjdFR5cGVCcmlkZ2VhYmxlLCBfU3dpZnRCcmlkZ2VhYmxlIHsKICAgIG9wZW4gY2xhc3MgdmFyIGF2YWlsYWJsZVN0cmluZ0VuY29kaW5nczogVW5zYWZlUG9pbnRlcjxVSW50PiB7IGdldCB9CiAgICBvcGVuIGNsYXNzIHZhciBkZWZhdWx0Q1N0cmluZ0VuY29kaW5nOiBVSW50IHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgZnVuYyBsb2NhbGl6ZWROYW1lKG9mIGVuY29kaW5nOiBVSW50KSAtPiBTdHJpbmcge30KICAgIHB1YmxpYyBzdGF0aWMgZnVuYyBwYXRoKHdpdGhDb21wb25lbnRzIGNvbXBvbmVudHM6IFtTdHJpbmddKSAtPiBTdHJpbmcge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0PyhieXRlczogVW5zYWZlUmF3UG9pbnRlciwgbGVuZ3RoIGxlbjogSW50LCBlbmNvZGluZzogVUludCkge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0PyhieXRlc05vQ29weSBieXRlczogVW5zYWZlTXV0YWJsZVJhd1BvaW50ZXIsIGxlbmd0aCBsZW46IEludCwgZW5jb2Rpbmc6IFVJbnQsIGZyZWVXaGVuRG9uZSBmcmVlQnVmZmVyOiBCb29sKSB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQ/KGNTdHJpbmcgbnVsbFRlcm1pbmF0ZWRDU3RyaW5nOiBVbnNhZmVQb2ludGVyPEludDg+LCBlbmNvZGluZzogVUludCkge30KICAgIHB1YmxpYyBpbml0KGNoYXJhY3RlcnM6IFVuc2FmZVBvaW50ZXI8dW5pY2hhcj4sIGxlbmd0aDogSW50KSB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQoY2hhcmFjdGVyc05vQ29weSBjaGFyYWN0ZXJzOiBVbnNhZmVNdXRhYmxlUG9pbnRlcjx1bmljaGFyPiwgbGVuZ3RoOiBJbnQsIGZyZWVXaGVuRG9uZSBmcmVlQnVmZmVyOiBCb29sKSB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQoY29udGVudHNPZiB1cmw6IFVSTCwgZW5jb2RpbmcgZW5jOiBVSW50KSB0aHJvd3Mge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KGNvbnRlbnRzT2YgdXJsOiBVUkwsIHVzZWRFbmNvZGluZyBlbmM6IFVuc2FmZU11dGFibGVQb2ludGVyPFVJbnQ+PykgdGhyb3dzIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdChjb250ZW50c09mRmlsZSBwYXRoOiBTdHJpbmcsIGVuY29kaW5nIGVuYzogVUludCkgdGhyb3dzIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdChjb250ZW50c09mRmlsZSBwYXRoOiBTdHJpbmcsIHVzZWRFbmNvZGluZyBlbmM6IFVuc2FmZU11dGFibGVQb2ludGVyPFVJbnQ+PykgdGhyb3dzIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdD8oZGF0YTogRGF0YSwgZW5jb2Rpbmc6IFVJbnQpIHt9CiAgICBwdWJsaWMgcmVxdWlyZWQgY29udmVuaWVuY2UgaW5pdChleHRlbmRlZEdyYXBoZW1lQ2x1c3RlckxpdGVyYWwgdmFsdWU6IFN0YXRpY1N0cmluZykge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KGZvcm1hdDogTlNTdHJpbmcsIF8gYXJnczogQ1ZhckFyZy4uLikge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KGZvcm1hdDogU3RyaW5nLCBhcmd1bWVudHMgYXJnTGlzdDogQ1ZhTGlzdFBvaW50ZXIpIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdChmb3JtYXQ6IFN0cmluZywgbG9jYWxlOiBBbnlPYmplY3Q/LCBhcmd1bWVudHMgYXJnTGlzdDogQ1ZhTGlzdFBvaW50ZXIpIHt9CiAgICBwdWJsaWMgcmVxdWlyZWQgY29udmVuaWVuY2UgaW5pdChzdHJpbmcgYVN0cmluZzogU3RyaW5nKSB7fQogICAgcHVibGljIHJlcXVpcmVkIGluaXQoc3RyaW5nTGl0ZXJhbCB2YWx1ZTogU3RhdGljU3RyaW5nKSB7fQogICAgcHVibGljIHJlcXVpcmVkIGNvbnZlbmllbmNlIGluaXQodW5pY29kZVNjYWxhckxpdGVyYWwgdmFsdWU6IFN0YXRpY1N0cmluZykge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0Pyh1dGY4U3RyaW5nIG51bGxUZXJtaW5hdGVkQ1N0cmluZzogVW5zYWZlUG9pbnRlcjxJbnQ4Pikge30KICAgIHB1YmxpYyB2YXIgYm9vbFZhbHVlOiBCb29sIHsgZ2V0IH0KICAgIHB1YmxpYyB2YXIgY2FwaXRhbGl6ZWQ6IFN0cmluZyB7IGdldCB9CiAgICBvcGVuIHZhciBkZWNvbXBvc2VkU3RyaW5nV2l0aENhbm9uaWNhbE1hcHBpbmc6IFN0cmluZyB7IGdldCB9CiAgICBvcGVuIHZhciBkZWNvbXBvc2VkU3RyaW5nV2l0aENvbXBhdGliaWxpdHlNYXBwaW5nOiBTdHJpbmcgeyBnZXQgfQogICAgcHVibGljIHZhciBkZWxldGluZ0xhc3RQYXRoQ29tcG9uZW50OiBTdHJpbmcgeyBnZXQgfQogICAgcHVibGljIHZhciBkZWxldGluZ1BhdGhFeHRlbnNpb246IFN0cmluZyB7IGdldCB9CiAgICBwdWJsaWMgdmFyIGRvdWJsZVZhbHVlOiBEb3VibGUgeyBnZXQgfQogICAgcHVibGljIHZhciBleHBhbmRpbmdUaWxkZUluUGF0aDogU3RyaW5nIHsgZ2V0IH0KICAgIHB1YmxpYyB2YXIgZmFzdGVzdEVuY29kaW5nOiBVSW50IHsgZ2V0IH0KICAgIHB1YmxpYyB2YXIgZmlsZVN5c3RlbVJlcHJlc2VudGF0aW9uOiBVbnNhZmVQb2ludGVyPEludDg+IHsgZ2V0IH0KICAgIHB1YmxpYyB2YXIgZmxvYXRWYWx1ZTogRmxvYXQgeyBnZXQgfQogICAgcHVibGljIHZhciBpbnRWYWx1ZTogSW50MzIgeyBnZXQgfQogICAgcHVibGljIHZhciBpbnRlZ2VyVmFsdWU6IEludCB7IGdldCB9CiAgICBwdWJsaWMgdmFyIGlzQWJzb2x1dGVQYXRoOiBCb29sIHsgZ2V0IH0KICAgIHB1YmxpYyB2YXIgbGFzdFBhdGhDb21wb25lbnQ6IFN0cmluZyB7IGdldCB9CiAgICBvcGVuIHZhciBsZW5ndGg6IEludCB7IGdldCB9CiAgICBwdWJsaWMgdmFyIGxvY2FsaXplZENhcGl0YWxpemVkOiBTdHJpbmcgeyBnZXQgfQogICAgcHVibGljIHZhciBsb2NhbGl6ZWRMb3dlcmNhc2U6IFN0cmluZyB7IGdldCB9CiAgICBwdWJsaWMgdmFyIGxvY2FsaXplZFVwcGVyY2FzZTogU3RyaW5nIHsgZ2V0IH0KICAgIHB1YmxpYyB2YXIgbG9uZ0xvbmdWYWx1ZTogSW50NjQgeyBnZXQgfQogICAgcHVibGljIHZhciBsb3dlcmNhc2VkOiBTdHJpbmcgeyBnZXQgfQogICAgcHVibGljIHZhciBwYXRoQ29tcG9uZW50czogW1N0cmluZ10geyBnZXQgfQogICAgcHVibGljIHZhciBwYXRoRXh0ZW5zaW9uOiBTdHJpbmcgeyBnZXQgfQogICAgb3BlbiB2YXIgcHJlY29tcG9zZWRTdHJpbmdXaXRoQ2Fub25pY2FsTWFwcGluZzogU3RyaW5nIHsgZ2V0IH0KICAgIG9wZW4gdmFyIHByZWNvbXBvc2VkU3RyaW5nV2l0aENvbXBhdGliaWxpdHlNYXBwaW5nOiBTdHJpbmcgeyBnZXQgfQogICAgb3BlbiB2YXIgcmVtb3ZpbmdQZXJjZW50RW5jb2Rpbmc6IFN0cmluZz8geyBnZXQgfQogICAgcHVibGljIHZhciByZXNvbHZpbmdTeW1saW5rc0luUGF0aDogU3RyaW5nIHsgZ2V0IH0KICAgIHB1YmxpYyB2YXIgc21hbGxlc3RFbmNvZGluZzogVUludCB7IGdldCB9CiAgICBwdWJsaWMgdmFyIHN0YW5kYXJkaXppbmdQYXRoOiBTdHJpbmcgeyBnZXQgfQogICAgcHVibGljIHZhciB1cHBlcmNhc2VkOiBTdHJpbmcgeyBnZXQgfQogICAgcHVibGljIHZhciB1dGY4U3RyaW5nOiBVbnNhZmVQb2ludGVyPEludDg+PyB7IGdldCB9CiAgICBwdWJsaWMgZnVuYyA8KGxoczogTlNTdHJpbmcsIHJoczogTlNTdHJpbmcpIC0+IEJvb2wge30KICAgIG9wZW4gZnVuYyBhZGRpbmdQZXJjZW50RW5jb2Rpbmcod2l0aEFsbG93ZWRDaGFyYWN0ZXJzIGFsbG93ZWRDaGFyYWN0ZXJzOiBDaGFyYWN0ZXJTZXQpIC0+IFN0cmluZz8ge30KICAgIHB1YmxpYyBmdW5jIGFwcGVuZGluZyhfIGFTdHJpbmc6IFN0cmluZykgLT4gU3RyaW5nIHt9CiAgICBwdWJsaWMgZnVuYyBhcHBlbmRpbmdQYXRoQ29tcG9uZW50KF8gc3RyOiBTdHJpbmcpIC0+IFN0cmluZyB7fQogICAgcHVibGljIGZ1bmMgYXBwZW5kaW5nUGF0aEV4dGVuc2lvbihfIHN0cjogU3RyaW5nKSAtPiBTdHJpbmc/IHt9CiAgICBvcGVuIGZ1bmMgYXBwbHlpbmdUcmFuc2Zvcm0oXyB0cmFuc2Zvcm06IFN0cmluZ1RyYW5zZm9ybSwgcmV2ZXJzZTogQm9vbCkgLT4gU3RyaW5nPyB7fQogICAgcHVibGljIGZ1bmMgY1N0cmluZyh1c2luZyBlbmNvZGluZzogVUludCkgLT4gVW5zYWZlUG9pbnRlcjxJbnQ4Pj8ge30KICAgIHB1YmxpYyBmdW5jIGNhbkJlQ29udmVydGVkKHRvIGVuY29kaW5nOiBVSW50KSAtPiBCb29sIHt9CiAgICBwdWJsaWMgZnVuYyBjYXBpdGFsaXplZCh3aXRoIGxvY2FsZTogTG9jYWxlPykgLT4gU3RyaW5nIHt9CiAgICBwdWJsaWMgZnVuYyBjYXNlSW5zZW5zaXRpdmVDb21wYXJlKF8gc3RyaW5nOiBTdHJpbmcpIC0+IENvbXBhcmlzb25SZXN1bHQge30KICAgIG9wZW4gZnVuYyBjaGFyYWN0ZXIoYXQgaW5kZXg6IEludCkgLT4gdW5pY2hhciB7fQogICAgcHVibGljIGZ1bmMgY29tbW9uUHJlZml4KHdpdGggc3RyOiBTdHJpbmcsIG9wdGlvbnMgbWFzazogQ29tcGFyZU9wdGlvbnMgPSB4KSAtPiBTdHJpbmcge30KICAgIHB1YmxpYyBmdW5jIGNvbXBhcmUoXyBzdHJpbmc6IFN0cmluZykgLT4gQ29tcGFyaXNvblJlc3VsdCB7fQogICAgcHVibGljIGZ1bmMgY29tcGFyZShfIHN0cmluZzogU3RyaW5nLCBvcHRpb25zIG1hc2s6IENvbXBhcmVPcHRpb25zKSAtPiBDb21wYXJpc29uUmVzdWx0IHt9CiAgICBwdWJsaWMgZnVuYyBjb21wYXJlKF8gc3RyaW5nOiBTdHJpbmcsIG9wdGlvbnMgbWFzazogQ29tcGFyZU9wdGlvbnMsIHJhbmdlIGNvbXBhcmVSYW5nZTogTlNSYW5nZSkgLT4gQ29tcGFyaXNvblJlc3VsdCB7fQogICAgcHVibGljIGZ1bmMgY29tcGFyZShfIHN0cmluZzogU3RyaW5nLCBvcHRpb25zIG1hc2s6IENvbXBhcmVPcHRpb25zLCByYW5nZSBjb21wYXJlUmFuZ2U6IE5TUmFuZ2UsIGxvY2FsZTogQW55PykgLT4gQ29tcGFyaXNvblJlc3VsdCB7fQogICAgcHVibGljIGZ1bmMgY29tcGxldGVQYXRoKGludG8gb3V0cHV0TmFtZTogaW5vdXQgU3RyaW5nPywgY2FzZVNlbnNpdGl2ZSBmbGFnOiBCb29sLCBtYXRjaGVzSW50byBvdXRwdXRBcnJheTogaW5vdXQgW1N0cmluZ10sIGZpbHRlclR5cGVzOiBbU3RyaW5nXT8pIC0+IEludCB7fQogICAgb3BlbiBmdW5jIGNvbXBvbmVudHMoc2VwYXJhdGVkQnkgc2VwYXJhdG9yOiBDaGFyYWN0ZXJTZXQpIC0+IFtTdHJpbmddIHt9CiAgICBwdWJsaWMgZnVuYyBjb250YWlucyhfIHN0cjogU3RyaW5nKSAtPiBCb29sIHt9CiAgICBwdWJsaWMgZnVuYyBkYXRhKHVzaW5nIGVuY29kaW5nOiBVSW50KSAtPiBEYXRhPyB7fQogICAgcHVibGljIGZ1bmMgZGF0YSh1c2luZyBlbmNvZGluZzogVUludCwgYWxsb3dMb3NzeUNvbnZlcnNpb24gbG9zc3k6IEJvb2wgPSB4KSAtPiBEYXRhPyB7fQogICAgcHVibGljIGZ1bmMgZW51bWVyYXRlTGluZXMoXyBibG9jazogKFN0cmluZywgVW5zYWZlTXV0YWJsZVBvaW50ZXI8T2JqQ0Jvb2w+KSAtPiBWb2lkKSB7fQogICAgcHVibGljIGZ1bmMgZW51bWVyYXRlU3Vic3RyaW5ncyhpbiByYW5nZTogTlNSYW5nZSwgb3B0aW9ucyBvcHRzOiBFbnVtZXJhdGlvbk9wdGlvbnMgPSB4LCB1c2luZyBibG9jazogKFN0cmluZz8sIE5TUmFuZ2UsIE5TUmFuZ2UsIFVuc2FmZU11dGFibGVQb2ludGVyPE9iakNCb29sPikgLT4gVm9pZCkge30KICAgIG9wZW4gZnVuYyBmb2xkaW5nKG9wdGlvbnM6IENvbXBhcmVPcHRpb25zID0geCwgbG9jYWxlOiBMb2NhbGU/KSAtPiBTdHJpbmcge30KICAgIHB1YmxpYyBmdW5jIGdldEJ5dGVzKF8gYnVmZmVyOiBVbnNhZmVNdXRhYmxlUmF3UG9pbnRlcj8sIG1heExlbmd0aCBtYXhCdWZmZXJDb3VudDogSW50LCB1c2VkTGVuZ3RoIHVzZWRCdWZmZXJDb3VudDogVW5zYWZlTXV0YWJsZVBvaW50ZXI8SW50Pj8sIGVuY29kaW5nOiBVSW50LCBvcHRpb25zOiBFbmNvZGluZ0NvbnZlcnNpb25PcHRpb25zID0geCwgcmFuZ2U6IE5TUmFuZ2UsIHJlbWFpbmluZyBsZWZ0b3ZlcjogTlNSYW5nZVBvaW50ZXI/KSAtPiBCb29sIHt9CiAgICBwdWJsaWMgZnVuYyBnZXRDU3RyaW5nKF8gYnVmZmVyOiBVbnNhZmVNdXRhYmxlUG9pbnRlcjxJbnQ4PiwgbWF4TGVuZ3RoIG1heEJ1ZmZlckNvdW50OiBJbnQsIGVuY29kaW5nOiBVSW50KSAtPiBCb29sIHt9CiAgICBwdWJsaWMgZnVuYyBnZXRDaGFyYWN0ZXJzKF8gYnVmZmVyOiBVbnNhZmVNdXRhYmxlUG9pbnRlcjx1bmljaGFyPiwgcmFuZ2U6IE5TUmFuZ2UpIHt9CiAgICBwdWJsaWMgZnVuYyBnZXRGaWxlU3lzdGVtUmVwcmVzZW50YXRpb24oXyBjbmFtZTogVW5zYWZlTXV0YWJsZVBvaW50ZXI8SW50OD4sIG1heExlbmd0aCBtYXg6IEludCkgLT4gQm9vbCB7fQogICAgcHVibGljIGZ1bmMgZ2V0TGluZVN0YXJ0KF8gc3RhcnRQdHI6IFVuc2FmZU11dGFibGVQb2ludGVyPEludD4/LCBlbmQgbGluZUVuZFB0cjogVW5zYWZlTXV0YWJsZVBvaW50ZXI8SW50Pj8sIGNvbnRlbnRzRW5kIGNvbnRlbnRzRW5kUHRyOiBVbnNhZmVNdXRhYmxlUG9pbnRlcjxJbnQ+PywgZm9yIHJhbmdlOiBOU1JhbmdlKSB7fQogICAgcHVibGljIGZ1bmMgZ2V0UGFyYWdyYXBoU3RhcnQoXyBzdGFydFB0cjogVW5zYWZlTXV0YWJsZVBvaW50ZXI8SW50Pj8sIGVuZCBwYXJFbmRQdHI6IFVuc2FmZU11dGFibGVQb2ludGVyPEludD4/LCBjb250ZW50c0VuZCBjb250ZW50c0VuZFB0cjogVW5zYWZlTXV0YWJsZVBvaW50ZXI8SW50Pj8sIGZvciByYW5nZTogTlNSYW5nZSkge30KICAgIHB1YmxpYyBmdW5jIGhhc1ByZWZpeChfIHN0cjogU3RyaW5nKSAtPiBCb29sIHt9CiAgICBwdWJsaWMgZnVuYyBoYXNTdWZmaXgoXyBzdHI6IFN0cmluZykgLT4gQm9vbCB7fQogICAgcHVibGljIGZ1bmMgaXNFcXVhbCh0byBhU3RyaW5nOiBTdHJpbmcpIC0+IEJvb2wge30KICAgIHB1YmxpYyBmdW5jIGxlbmd0aE9mQnl0ZXModXNpbmcgZW5jOiBVSW50KSAtPiBJbnQge30KICAgIHB1YmxpYyBmdW5jIGxpbmVSYW5nZShmb3IgcmFuZ2U6IE5TUmFuZ2UpIC0+IE5TUmFuZ2Uge30KICAgIHB1YmxpYyBmdW5jIGxvY2FsaXplZENhc2VJbnNlbnNpdGl2ZUNvbXBhcmUoXyBzdHJpbmc6IFN0cmluZykgLT4gQ29tcGFyaXNvblJlc3VsdCB7fQogICAgcHVibGljIGZ1bmMgbG9jYWxpemVkQ2FzZUluc2Vuc2l0aXZlQ29udGFpbnMoXyBzdHI6IFN0cmluZykgLT4gQm9vbCB7fQogICAgcHVibGljIGZ1bmMgbG9jYWxpemVkQ29tcGFyZShfIHN0cmluZzogU3RyaW5nKSAtPiBDb21wYXJpc29uUmVzdWx0IHt9CiAgICBwdWJsaWMgZnVuYyBsb2NhbGl6ZWRTdGFuZGFyZENvbXBhcmUoXyBzdHJpbmc6IFN0cmluZykgLT4gQ29tcGFyaXNvblJlc3VsdCB7fQogICAgcHVibGljIGZ1bmMgbG9jYWxpemVkU3RhbmRhcmRDb250YWlucyhfIHN0cjogU3RyaW5nKSAtPiBCb29sIHt9CiAgICBwdWJsaWMgZnVuYyBsb2NhbGl6ZWRTdGFuZGFyZFJhbmdlKG9mIHN0cjogU3RyaW5nKSAtPiBOU1JhbmdlIHt9CiAgICBwdWJsaWMgZnVuYyBsb3dlcmNhc2VkKHdpdGggbG9jYWxlOiBMb2NhbGU/KSAtPiBTdHJpbmcge30KICAgIHB1YmxpYyBmdW5jIG1heGltdW1MZW5ndGhPZkJ5dGVzKHVzaW5nIGVuYzogVUludCkgLT4gSW50IHt9CiAgICBvcGVuIGZ1bmMgcGFkZGluZyh0b0xlbmd0aCBuZXdMZW5ndGg6IEludCwgd2l0aFBhZCBwYWRTdHJpbmc6IFN0cmluZywgc3RhcnRpbmdBdCBwYWRJbmRleDogSW50KSAtPiBTdHJpbmcge30KICAgIHB1YmxpYyBmdW5jIHBhcmFncmFwaFJhbmdlKGZvciByYW5nZTogTlNSYW5nZSkgLT4gTlNSYW5nZSB7fQogICAgcHVibGljIGZ1bmMgcmFuZ2Uob2Ygc2VhcmNoU3RyaW5nOiBTdHJpbmcpIC0+IE5TUmFuZ2Uge30KICAgIHB1YmxpYyBmdW5jIHJhbmdlKG9mIHNlYXJjaFN0cmluZzogU3RyaW5nLCBvcHRpb25zIG1hc2s6IENvbXBhcmVPcHRpb25zID0geCkgLT4gTlNSYW5nZSB7fQogICAgcHVibGljIGZ1bmMgcmFuZ2Uob2Ygc2VhcmNoU3RyaW5nOiBTdHJpbmcsIG9wdGlvbnMgbWFzazogQ29tcGFyZU9wdGlvbnMgPSB4LCByYW5nZSBzZWFyY2hSYW5nZTogTlNSYW5nZSkgLT4gTlNSYW5nZSB7fQogICAgcHVibGljIGZ1bmMgcmFuZ2Uob2Ygc2VhcmNoU3RyaW5nOiBTdHJpbmcsIG9wdGlvbnMgbWFzazogQ29tcGFyZU9wdGlvbnMgPSB4LCByYW5nZSBzZWFyY2hSYW5nZTogTlNSYW5nZSwgbG9jYWxlOiBMb2NhbGU/KSAtPiBOU1JhbmdlIHt9CiAgICBwdWJsaWMgZnVuYyByYW5nZU9mQ2hhcmFjdGVyKGZyb20gc2VhcmNoU2V0OiBDaGFyYWN0ZXJTZXQpIC0+IE5TUmFuZ2Uge30KICAgIHB1YmxpYyBmdW5jIHJhbmdlT2ZDaGFyYWN0ZXIoZnJvbSBzZWFyY2hTZXQ6IENoYXJhY3RlclNldCwgb3B0aW9ucyBtYXNrOiBDb21wYXJlT3B0aW9ucyA9IHgpIC0+IE5TUmFuZ2Uge30KICAgIHB1YmxpYyBmdW5jIHJhbmdlT2ZDaGFyYWN0ZXIoZnJvbSBzZWFyY2hTZXQ6IENoYXJhY3RlclNldCwgb3B0aW9ucyBtYXNrOiBDb21wYXJlT3B0aW9ucyA9IHgsIHJhbmdlIHNlYXJjaFJhbmdlOiBOU1JhbmdlKSAtPiBOU1JhbmdlIHt9CiAgICBwdWJsaWMgZnVuYyByYW5nZU9mQ29tcG9zZWRDaGFyYWN0ZXJTZXF1ZW5jZShhdCBpbmRleDogSW50KSAtPiBOU1JhbmdlIHt9CiAgICBwdWJsaWMgZnVuYyByYW5nZU9mQ29tcG9zZWRDaGFyYWN0ZXJTZXF1ZW5jZXMoZm9yIHJhbmdlOiBOU1JhbmdlKSAtPiBOU1JhbmdlIHt9CiAgICBvcGVuIGZ1bmMgcmVwbGFjaW5nQ2hhcmFjdGVycyhpbiByYW5nZTogTlNSYW5nZSwgd2l0aCByZXBsYWNlbWVudDogU3RyaW5nKSAtPiBTdHJpbmcge30KICAgIG9wZW4gZnVuYyByZXBsYWNpbmdPY2N1cnJlbmNlcyhvZiB0YXJnZXQ6IFN0cmluZywgd2l0aCByZXBsYWNlbWVudDogU3RyaW5nKSAtPiBTdHJpbmcge30KICAgIG9wZW4gZnVuYyByZXBsYWNpbmdPY2N1cnJlbmNlcyhvZiB0YXJnZXQ6IFN0cmluZywgd2l0aCByZXBsYWNlbWVudDogU3RyaW5nLCBvcHRpb25zOiBDb21wYXJlT3B0aW9ucyA9IHgsIHJhbmdlIHNlYXJjaFJhbmdlOiBOU1JhbmdlKSAtPiBTdHJpbmcge30KICAgIHB1YmxpYyBmdW5jIHN0cmluZ3NCeUFwcGVuZGluZ1BhdGhzKF8gcGF0aHM6IFtTdHJpbmddKSAtPiBbU3RyaW5nXSB7fQogICAgcHVibGljIGZ1bmMgc3Vic3RyaW5nKGZyb206IEludCkgLT4gU3RyaW5nIHt9CiAgICBwdWJsaWMgZnVuYyBzdWJzdHJpbmcodG86IEludCkgLT4gU3RyaW5nIHt9CiAgICBwdWJsaWMgZnVuYyBzdWJzdHJpbmcod2l0aCByYW5nZTogTlNSYW5nZSkgLT4gU3RyaW5nIHt9CiAgICBvcGVuIGZ1bmMgdHJpbW1pbmdDaGFyYWN0ZXJzKGluIHNldDogQ2hhcmFjdGVyU2V0KSAtPiBTdHJpbmcge30KICAgIHB1YmxpYyBmdW5jIHVwcGVyY2FzZWQod2l0aCBsb2NhbGU6IExvY2FsZT8pIC0+IFN0cmluZyB7fQogICAgb3BlbiBmdW5jIHdyaXRlKHRvIHVybDogVVJMLCBhdG9taWNhbGx5IHVzZUF1eGlsaWFyeUZpbGU6IEJvb2wsIGVuY29kaW5nIGVuYzogVUludCkgdGhyb3dzIHt9CiAgICBvcGVuIGZ1bmMgd3JpdGUodG9GaWxlIHBhdGg6IFN0cmluZywgYXRvbWljYWxseSB1c2VBdXhpbGlhcnlGaWxlOiBCb29sLCBlbmNvZGluZyBlbmM6IFVJbnQpIHRocm93cyB7fQp9Cm9wZW4gY2xhc3MgTlNUZXh0Q2hlY2tpbmdSZXN1bHQgOiBBbnlPYmplY3QsIEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU0NvZGluZywgTlNDb3B5aW5nLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCwgTlNTZWN1cmVDb2RpbmcgewogICAgb3BlbiBjbGFzcyBmdW5jIHJlZ3VsYXJFeHByZXNzaW9uQ2hlY2tpbmdSZXN1bHQocmFuZ2VzOiBOU1JhbmdlUG9pbnRlciwgY291bnQ6IEludCwgcmVndWxhckV4cHJlc3Npb246IE5TUmVndWxhckV4cHJlc3Npb24pIC0+IE5TVGV4dENoZWNraW5nUmVzdWx0IHt9CiAgICBvcGVuIHZhciBudW1iZXJPZlJhbmdlczogSW50IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHJhbmdlOiBOU1JhbmdlIHsgZ2V0IH0KICAgIG9wZW4gdmFyIHJlZ3VsYXJFeHByZXNzaW9uOiBOU1JlZ3VsYXJFeHByZXNzaW9uPyB7IGdldCB9CiAgICBvcGVuIHZhciByZXN1bHRUeXBlOiBDaGVja2luZ1R5cGUgeyBnZXQgfQogICAgcHVibGljIGZ1bmMgYWRqdXN0aW5nUmFuZ2VzKG9mZnNldDogSW50KSAtPiBOU1RleHRDaGVja2luZ1Jlc3VsdCB7fQogICAgb3BlbiBmdW5jIHJhbmdlKGF0IGlkeDogSW50KSAtPiBOU1JhbmdlIHt9CiAgICBAYXZhaWxhYmxlKG1hY09TIDEwLjEzLCBpT1MgMTEuMCwgd2F0Y2hPUyA0LjAsIHR2T1MgMTEuMCwgKikgb3BlbiBmdW5jIHJhbmdlKHdpdGhOYW1lOiBTdHJpbmcpIC0+IE5TUmFuZ2Uge30KfQpvcGVuIGNsYXNzIE5TVGltZVpvbmUgOiBBbnlPYmplY3QsIEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU0NvZGluZywgTlNDb3B5aW5nLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCwgTlNTZWN1cmVDb2RpbmcsIF9DRkJyaWRnZWFibGUsIF9Td2lmdEJyaWRnZWFibGUgewogICAgb3BlbiBjbGFzcyB2YXIgYWJicmV2aWF0aW9uRGljdGlvbmFyeTogW1N0cmluZzogU3RyaW5nXSB7IGdldCBzZXQgfQogICAgb3BlbiBjbGFzcyB2YXIgZGVmYXVsdDogVGltZVpvbmUgeyBnZXQgc2V0IH0KICAgIG9wZW4gY2xhc3MgdmFyIGtub3duVGltZVpvbmVOYW1lczogW1N0cmluZ10geyBnZXQgfQogICAgb3BlbiBjbGFzcyB2YXIgbG9jYWw6IFRpbWVab25lIHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgdmFyIHN5c3RlbTogVGltZVpvbmUgeyBnZXQgfQogICAgb3BlbiBjbGFzcyB2YXIgdGltZVpvbmVEYXRhVmVyc2lvbjogU3RyaW5nIHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgZnVuYyByZXNldFN5c3RlbVRpbWVab25lKCkge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0PyhhYmJyZXZpYXRpb246IFN0cmluZykge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KGZvclNlY29uZHNGcm9tR01UIHNlY29uZHM6IEludCkge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0PyhuYW1lIHR6TmFtZTogU3RyaW5nKSB7fQogICAgcHVibGljIGluaXQ/KG5hbWUgdHpOYW1lOiBTdHJpbmcsIGRhdGEgYURhdGE6IERhdGE/KSB7fQogICAgb3BlbiB2YXIgYWJicmV2aWF0aW9uOiBTdHJpbmc/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGRhdGE6IERhdGEgeyBnZXQgfQogICAgb3BlbiB2YXIgZGF5bGlnaHRTYXZpbmdUaW1lT2Zmc2V0OiBUaW1lSW50ZXJ2YWwgeyBnZXQgfQogICAgb3BlbiB2YXIgaXNEYXlsaWdodFNhdmluZ1RpbWU6IEJvb2wgeyBnZXQgfQogICAgb3BlbiB2YXIgbmFtZTogU3RyaW5nIHsgZ2V0IH0KICAgIG9wZW4gdmFyIG5leHREYXlsaWdodFNhdmluZ1RpbWVUcmFuc2l0aW9uOiBEYXRlPyB7IGdldCB9CiAgICBvcGVuIHZhciBzZWNvbmRzRnJvbUdNVDogSW50IHsgZ2V0IH0KICAgIG9wZW4gZnVuYyBhYmJyZXZpYXRpb24oZm9yIGFEYXRlOiBEYXRlKSAtPiBTdHJpbmc/IHt9CiAgICBvcGVuIGZ1bmMgZGF5bGlnaHRTYXZpbmdUaW1lT2Zmc2V0KGZvciBhRGF0ZTogRGF0ZSkgLT4gVGltZUludGVydmFsIHt9CiAgICBvcGVuIGZ1bmMgaXNEYXlsaWdodFNhdmluZ1RpbWUoZm9yIGFEYXRlOiBEYXRlKSAtPiBCb29sIHt9CiAgICBvcGVuIGZ1bmMgaXNFcXVhbCh0byBhVGltZVpvbmU6IFRpbWVab25lKSAtPiBCb29sIHt9CiAgICBvcGVuIGZ1bmMgbG9jYWxpemVkTmFtZShfIHN0eWxlOiBOYW1lU3R5bGUsIGxvY2FsZTogTG9jYWxlPykgLT4gU3RyaW5nPyB7fQogICAgb3BlbiBmdW5jIG5leHREYXlsaWdodFNhdmluZ1RpbWVUcmFuc2l0aW9uKGFmdGVyIGFEYXRlOiBEYXRlKSAtPiBEYXRlPyB7fQogICAgb3BlbiBmdW5jIHNlY29uZHNGcm9tR01UKGZvciBhRGF0ZTogRGF0ZSkgLT4gSW50IHt9Cn0Kb3BlbiBjbGFzcyBOU1VSTCA6IEFueU9iamVjdCwgQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TQ29kaW5nLCBOU0NvcHlpbmcsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBOU1NlY3VyZUNvZGluZywgX0NGQnJpZGdlYWJsZSwgX1N0cnVjdFR5cGVCcmlkZ2VhYmxlLCBfU3dpZnRCcmlkZ2VhYmxlIHsKICAgIG9wZW4gY2xhc3MgZnVuYyBmaWxlVVJMKHdpdGhQYXRoQ29tcG9uZW50cyBjb21wb25lbnRzOiBbU3RyaW5nXSkgLT4gVVJMPyB7fQogICAgcHVibGljIGluaXQoYWJzb2x1dGVVUkxXaXRoRGF0YVJlcHJlc2VudGF0aW9uIGRhdGE6IERhdGEsIHJlbGF0aXZlVG8gYmFzZVVSTDogVVJMPykge30KICAgIHB1YmxpYyBpbml0KGRhdGFSZXByZXNlbnRhdGlvbiBkYXRhOiBEYXRhLCByZWxhdGl2ZVRvIGJhc2VVUkw6IFVSTD8pIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdChmaWxlVVJMV2l0aEZpbGVTeXN0ZW1SZXByZXNlbnRhdGlvbiBwYXRoOiBVbnNhZmVQb2ludGVyPEludDg+LCBpc0RpcmVjdG9yeSBpc0RpcjogQm9vbCwgcmVsYXRpdmVUbyBiYXNlVVJMOiBVUkw/KSB7fQogICAgcHVibGljIGluaXQoZmlsZVVSTFdpdGhQYXRoIHBhdGg6IFN0cmluZykge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KGZpbGVVUkxXaXRoUGF0aCBwYXRoOiBTdHJpbmcsIGlzRGlyZWN0b3J5IGlzRGlyOiBCb29sKSB7fQogICAgcHVibGljIGluaXQoZmlsZVVSTFdpdGhQYXRoIHBhdGg6IFN0cmluZywgaXNEaXJlY3RvcnkgaXNEaXI6IEJvb2wsIHJlbGF0aXZlVG8gYmFzZVVSTDogVVJMPykge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KGZpbGVVUkxXaXRoUGF0aCBwYXRoOiBTdHJpbmcsIHJlbGF0aXZlVG8gYmFzZVVSTDogVVJMPykge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0PyhzdHJpbmcgVVJMU3RyaW5nOiBTdHJpbmcpIHt9CiAgICBwdWJsaWMgaW5pdD8oc3RyaW5nIFVSTFN0cmluZzogU3RyaW5nLCByZWxhdGl2ZVRvIGJhc2VVUkw6IFVSTD8pIHt9CiAgICBvcGVuIHZhciBhYnNvbHV0ZVN0cmluZzogU3RyaW5nIHsgZ2V0IH0KICAgIG9wZW4gdmFyIGFic29sdXRlVVJMOiBVUkw/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGJhc2VVUkw6IFVSTD8geyBnZXQgfQogICAgb3BlbiB2YXIgZGF0YVJlcHJlc2VudGF0aW9uOiBEYXRhIHsgZ2V0IH0KICAgIG9wZW4gdmFyIGRlbGV0aW5nTGFzdFBhdGhDb21wb25lbnQ6IFVSTD8geyBnZXQgfQogICAgb3BlbiB2YXIgZGVsZXRpbmdQYXRoRXh0ZW5zaW9uOiBVUkw/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGZpbGVQYXRoVVJMOiBVUkw/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGZpbGVTeXN0ZW1SZXByZXNlbnRhdGlvbjogVW5zYWZlUG9pbnRlcjxJbnQ4PiB7IGdldCB9CiAgICBvcGVuIHZhciBmcmFnbWVudDogU3RyaW5nPyB7IGdldCB9CiAgICBvcGVuIHZhciBoYXNEaXJlY3RvcnlQYXRoOiBCb29sIHsgZ2V0IH0KICAgIG9wZW4gdmFyIGhvc3Q6IFN0cmluZz8geyBnZXQgfQogICAgb3BlbiB2YXIgaXNGaWxlVVJMOiBCb29sIHsgZ2V0IH0KICAgIG9wZW4gdmFyIGxhc3RQYXRoQ29tcG9uZW50OiBTdHJpbmc/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHBhcmFtZXRlclN0cmluZzogU3RyaW5nPyB7IGdldCB9CiAgICBvcGVuIHZhciBwYXNzd29yZDogU3RyaW5nPyB7IGdldCB9CiAgICBvcGVuIHZhciBwYXRoOiBTdHJpbmc/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHBhdGhDb21wb25lbnRzOiBbU3RyaW5nXT8geyBnZXQgfQogICAgb3BlbiB2YXIgcGF0aEV4dGVuc2lvbjogU3RyaW5nPyB7IGdldCB9CiAgICBvcGVuIHZhciBwb3J0OiBOU051bWJlcj8geyBnZXQgfQogICAgb3BlbiB2YXIgcXVlcnk6IFN0cmluZz8geyBnZXQgfQogICAgb3BlbiB2YXIgcmVsYXRpdmVQYXRoOiBTdHJpbmc/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHJlbGF0aXZlU3RyaW5nOiBTdHJpbmcgeyBnZXQgfQogICAgb3BlbiB2YXIgcmVzb2x2aW5nU3ltbGlua3NJblBhdGg6IFVSTD8geyBnZXQgfQogICAgb3BlbiB2YXIgcmVzb3VyY2VTcGVjaWZpZXI6IFN0cmluZz8geyBnZXQgfQogICAgb3BlbiB2YXIgc2NoZW1lOiBTdHJpbmc/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHN0YW5kYXJkaXplZDogVVJMPyB7IGdldCB9CiAgICBvcGVuIHZhciBzdGFuZGFyZGl6aW5nUGF0aDogVVJMPyB7IGdldCB9CiAgICBvcGVuIHZhciB1c2VyOiBTdHJpbmc/IHsgZ2V0IH0KICAgIG9wZW4gZnVuYyBhcHBlbmRpbmdQYXRoQ29tcG9uZW50KF8gcGF0aENvbXBvbmVudDogU3RyaW5nKSAtPiBVUkw/IHt9CiAgICBvcGVuIGZ1bmMgYXBwZW5kaW5nUGF0aENvbXBvbmVudChfIHBhdGhDb21wb25lbnQ6IFN0cmluZywgaXNEaXJlY3Rvcnk6IEJvb2wpIC0+IFVSTD8ge30KICAgIG9wZW4gZnVuYyBhcHBlbmRpbmdQYXRoRXh0ZW5zaW9uKF8gcGF0aEV4dGVuc2lvbjogU3RyaW5nKSAtPiBVUkw/IHt9CiAgICBvcGVuIGZ1bmMgY2hlY2tSZXNvdXJjZUlzUmVhY2hhYmxlKCkgdGhyb3dzIC0+IEJvb2wge30KICAgIG9wZW4gZnVuYyBnZXRGaWxlU3lzdGVtUmVwcmVzZW50YXRpb24oXyBidWZmZXI6IFVuc2FmZU11dGFibGVQb2ludGVyPEludDg+LCBtYXhMZW5ndGggbWF4QnVmZmVyTGVuZ3RoOiBJbnQpIC0+IEJvb2wge30KICAgIG9wZW4gZnVuYyBnZXRSZXNvdXJjZVZhbHVlKF8gdmFsdWU6IGlub3V0IEFueU9iamVjdD8sIGZvcktleSBrZXk6IFVSTFJlc291cmNlS2V5KSB0aHJvd3Mge30KICAgIG9wZW4gZnVuYyByZW1vdmVBbGxDYWNoZWRSZXNvdXJjZVZhbHVlcygpIHt9CiAgICBvcGVuIGZ1bmMgcmVtb3ZlQ2FjaGVkUmVzb3VyY2VWYWx1ZShmb3JLZXkga2V5OiBVUkxSZXNvdXJjZUtleSkge30KICAgIG9wZW4gZnVuYyByZXNvdXJjZVZhbHVlcyhmb3JLZXlzIGtleXM6IFtVUkxSZXNvdXJjZUtleV0pIHRocm93cyAtPiBbVVJMUmVzb3VyY2VLZXk6IEFueV0ge30KICAgIG9wZW4gZnVuYyBzZXRSZXNvdXJjZVZhbHVlKF8gdmFsdWU6IEFueT8sIGZvcktleSBrZXk6IFVSTFJlc291cmNlS2V5KSB0aHJvd3Mge30KICAgIG9wZW4gZnVuYyBzZXRSZXNvdXJjZVZhbHVlcyhfIGtleWVkVmFsdWVzOiBbVVJMUmVzb3VyY2VLZXk6IEFueV0pIHRocm93cyB7fQogICAgb3BlbiBmdW5jIHNldFRlbXBvcmFyeVJlc291cmNlVmFsdWUoXyB2YWx1ZTogQW55PywgZm9yS2V5IGtleTogVVJMUmVzb3VyY2VLZXkpIHt9Cn0Kb3BlbiBjbGFzcyBOU1VSTENvbXBvbmVudHMgOiBBbnlPYmplY3QsIEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU0NvcHlpbmcsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBfU3RydWN0VHlwZUJyaWRnZWFibGUsIF9Td2lmdEJyaWRnZWFibGUgewogICAgcHVibGljIGluaXQ/KHN0cmluZyBVUkxTdHJpbmc6IFN0cmluZykge30KICAgIHB1YmxpYyBpbml0Pyh1cmw6IFVSTCwgcmVzb2x2aW5nQWdhaW5zdEJhc2VVUkwgcmVzb2x2ZTogQm9vbCkge30KICAgIG9wZW4gdmFyIGZyYWdtZW50OiBTdHJpbmc/IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBob3N0OiBTdHJpbmc/IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBwYXNzd29yZDogU3RyaW5nPyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgcGF0aDogU3RyaW5nPyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgcGVyY2VudEVuY29kZWRGcmFnbWVudDogU3RyaW5nPyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgcGVyY2VudEVuY29kZWRIb3N0OiBTdHJpbmc/IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBwZXJjZW50RW5jb2RlZFBhc3N3b3JkOiBTdHJpbmc/IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBwZXJjZW50RW5jb2RlZFBhdGg6IFN0cmluZz8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHBlcmNlbnRFbmNvZGVkUXVlcnk6IFN0cmluZz8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHBlcmNlbnRFbmNvZGVkVXNlcjogU3RyaW5nPyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgcG9ydDogTlNOdW1iZXI/IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBxdWVyeTogU3RyaW5nPyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgcXVlcnlJdGVtczogW1VSTFF1ZXJ5SXRlbV0/IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciByYW5nZU9mRnJhZ21lbnQ6IE5TUmFuZ2UgeyBnZXQgfQogICAgb3BlbiB2YXIgcmFuZ2VPZkhvc3Q6IE5TUmFuZ2UgeyBnZXQgfQogICAgb3BlbiB2YXIgcmFuZ2VPZlBhc3N3b3JkOiBOU1JhbmdlIHsgZ2V0IH0KICAgIG9wZW4gdmFyIHJhbmdlT2ZQYXRoOiBOU1JhbmdlIHsgZ2V0IH0KICAgIG9wZW4gdmFyIHJhbmdlT2ZQb3J0OiBOU1JhbmdlIHsgZ2V0IH0KICAgIG9wZW4gdmFyIHJhbmdlT2ZRdWVyeTogTlNSYW5nZSB7IGdldCB9CiAgICBvcGVuIHZhciByYW5nZU9mU2NoZW1lOiBOU1JhbmdlIHsgZ2V0IH0KICAgIG9wZW4gdmFyIHJhbmdlT2ZVc2VyOiBOU1JhbmdlIHsgZ2V0IH0KICAgIG9wZW4gdmFyIHNjaGVtZTogU3RyaW5nPyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgc3RyaW5nOiBTdHJpbmc/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHVybDogVVJMPyB7IGdldCB9CiAgICBvcGVuIHZhciB1c2VyOiBTdHJpbmc/IHsgZ2V0IHNldCB9CiAgICBvcGVuIGZ1bmMgdXJsKHJlbGF0aXZlVG8gYmFzZVVSTDogVVJMPykgLT4gVVJMPyB7fQp9Cm9wZW4gY2xhc3MgTlNVUkxRdWVyeUl0ZW0gOiBBbnlPYmplY3QsIEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU0NvZGluZywgTlNDb3B5aW5nLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCwgTlNTZWN1cmVDb2RpbmcsIF9TdHJ1Y3RUeXBlQnJpZGdlYWJsZSwgX1N3aWZ0QnJpZGdlYWJsZSB7CiAgICBwdWJsaWMgaW5pdChuYW1lOiBTdHJpbmcsIHZhbHVlOiBTdHJpbmc/KSB7fQogICAgb3BlbiB2YXIgbmFtZTogU3RyaW5nIHsgZ2V0IH0KICAgIG9wZW4gdmFyIHZhbHVlOiBTdHJpbmc/IHsgZ2V0IH0KfQpvcGVuIGNsYXNzIE5TVVJMUmVxdWVzdCA6IEFueU9iamVjdCwgQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TQ29kaW5nLCBOU0NvcHlpbmcsIE5TTXV0YWJsZUNvcHlpbmcsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBOU1NlY3VyZUNvZGluZywgX1N0cnVjdFR5cGVCcmlkZ2VhYmxlIHsKICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KHVybDogVVJMKSB7fQogICAgcHVibGljIGluaXQodXJsOiBVUkwsIGNhY2hlUG9saWN5OiBOU1VSTFJlcXVlc3QuQ2FjaGVQb2xpY3ksIHRpbWVvdXRJbnRlcnZhbDogVGltZUludGVydmFsKSB7fQogICAgb3BlbiB2YXIgYWxsSFRUUEhlYWRlckZpZWxkczogW1N0cmluZzogU3RyaW5nXT8geyBnZXQgfQogICAgb3BlbiB2YXIgYWxsb3dzQ2VsbHVsYXJBY2Nlc3M6IEJvb2wgeyBnZXQgfQogICAgb3BlbiB2YXIgY2FjaGVQb2xpY3k6IENhY2hlUG9saWN5IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGh0dHBCb2R5OiBEYXRhPyB7IGdldCB9CiAgICBvcGVuIHZhciBodHRwQm9keVN0cmVhbTogSW5wdXRTdHJlYW0/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGh0dHBNZXRob2Q6IFN0cmluZz8geyBnZXQgfQogICAgb3BlbiB2YXIgaHR0cFNob3VsZEhhbmRsZUNvb2tpZXM6IEJvb2wgeyBnZXQgfQogICAgb3BlbiB2YXIgaHR0cFNob3VsZFVzZVBpcGVsaW5pbmc6IEJvb2wgeyBnZXQgfQogICAgb3BlbiB2YXIgbWFpbkRvY3VtZW50VVJMOiBVUkw/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIG5ldHdvcmtTZXJ2aWNlVHlwZTogTmV0d29ya1NlcnZpY2VUeXBlIHsgZ2V0IH0KICAgIG9wZW4gdmFyIHRpbWVvdXRJbnRlcnZhbDogVGltZUludGVydmFsIHsgZ2V0IH0KICAgIG9wZW4gdmFyIHVybDogVVJMPyB7IGdldCB9CiAgICBvcGVuIGZ1bmMgdmFsdWUoZm9ySFRUUEhlYWRlckZpZWxkIGZpZWxkOiBTdHJpbmcpIC0+IFN0cmluZz8ge30KfQpvcGVuIGNsYXNzIE5TVVVJRCA6IEFueU9iamVjdCwgQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TQ29kaW5nLCBOU0NvcHlpbmcsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBOU1NlY3VyZUNvZGluZywgX0hhc0N1c3RvbUFueUhhc2hhYmxlUmVwcmVzZW50YXRpb24sIF9TdHJ1Y3RUeXBlQnJpZGdlYWJsZSB7CiAgICBwdWJsaWMgaW5pdCh1dWlkQnl0ZXMgYnl0ZXM6IFVuc2FmZVBvaW50ZXI8VUludDg+KSB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQ/KHV1aWRTdHJpbmcgc3RyaW5nOiBTdHJpbmcpIHt9CiAgICBvcGVuIHZhciB1dWlkU3RyaW5nOiBTdHJpbmcgeyBnZXQgfQogICAgb3BlbiBmdW5jIGdldEJ5dGVzKF8gdXVpZDogVW5zYWZlTXV0YWJsZVBvaW50ZXI8VUludDg+KSB7fQp9Cm9wZW4gY2xhc3MgTlNWYWx1ZSA6IEFueU9iamVjdCwgQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TQ29kaW5nLCBOU0NvcHlpbmcsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBOU1NlY3VyZUNvZGluZywgX0ZhY3RvcnkgewogICAgcHVibGljIHJlcXVpcmVkIGNvbnZlbmllbmNlIGluaXQoYnl0ZXMgdmFsdWU6IFVuc2FmZVJhd1BvaW50ZXIsIG9iakNUeXBlIHR5cGU6IFVuc2FmZVBvaW50ZXI8SW50OD4pIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdChlZGdlSW5zZXRzIGluc2V0czogTlNFZGdlSW5zZXRzKSB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQocG9pbnQ6IE5TUG9pbnQpIHt9CiNpZiBERVBMT1lNRU5UX1JVTlRJTUVfU1dJRlQKICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KHJhbmdlOiBOU1JhbmdlKSB7fQojZW5kaWYKICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KHJlY3Q6IE5TUmVjdCkge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KHNpemU6IE5TU2l6ZSkge30KICAgIHB1YmxpYyB2YXIgZWRnZUluc2V0c1ZhbHVlOiBOU0VkZ2VJbnNldHMgeyBnZXQgfQogICAgb3BlbiB2YXIgb2JqQ1R5cGU6IFVuc2FmZVBvaW50ZXI8SW50OD4geyBnZXQgfQogICAgcHVibGljIHZhciBwb2ludFZhbHVlOiBOU1BvaW50IHsgZ2V0IH0KI2lmIERFUExPWU1FTlRfUlVOVElNRV9TV0lGVAogICAgcHVibGljIHZhciByYW5nZVZhbHVlOiBOU1JhbmdlIHsgZ2V0IH0KI2VuZGlmCiAgICBwdWJsaWMgdmFyIHJlY3RWYWx1ZTogTlNSZWN0IHsgZ2V0IH0KICAgIHB1YmxpYyB2YXIgc2l6ZVZhbHVlOiBOU1NpemUgeyBnZXQgfQogICAgb3BlbiBmdW5jIGdldFZhbHVlKF8gdmFsdWU6IFVuc2FmZU11dGFibGVSYXdQb2ludGVyKSB7fQp9Cm9wZW4gY2xhc3MgTm90aWZpY2F0aW9uQ2VudGVyIDogQW55T2JqZWN0LCBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wgewogICAgb3BlbiBjbGFzcyB2YXIgZGVmYXVsdDogTm90aWZpY2F0aW9uQ2VudGVyIHsgZ2V0IH0KICAgIG9wZW4gZnVuYyBhZGRPYnNlcnZlcihmb3JOYW1lIG5hbWU6IE5TTm90aWZpY2F0aW9uLk5hbWU/LCBvYmplY3Qgb2JqOiBBbnk/LCBxdWV1ZTogT3BlcmF0aW9uUXVldWU/LCB1c2luZyBibG9jazogQGVzY2FwaW5nIChOb3RpZmljYXRpb24pIC0+IFZvaWQpIC0+IE5TT2JqZWN0UHJvdG9jb2wge30KICAgIG9wZW4gZnVuYyBwb3N0KF8gbm90aWZpY2F0aW9uOiBOb3RpZmljYXRpb24pIHt9CiAgICBvcGVuIGZ1bmMgcG9zdChuYW1lIGFOYW1lOiBOU05vdGlmaWNhdGlvbi5OYW1lLCBvYmplY3QgYW5PYmplY3Q6IEFueT8sIHVzZXJJbmZvIGFVc2VySW5mbzogW0FueUhhc2hhYmxlOiBBbnldPyA9IHgpIHt9CiAgICBvcGVuIGZ1bmMgcmVtb3ZlT2JzZXJ2ZXIoXyBvYnNlcnZlcjogQW55KSB7fQogICAgb3BlbiBmdW5jIHJlbW92ZU9ic2VydmVyKF8gb2JzZXJ2ZXI6IEFueSwgbmFtZSBhTmFtZTogTlNOb3RpZmljYXRpb24uTmFtZT8sIG9iamVjdDogQW55Pykge30KfQpvcGVuIGNsYXNzIE5vdGlmaWNhdGlvblF1ZXVlIDogQW55T2JqZWN0LCBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wgewogICAgb3BlbiBjbGFzcyB2YXIgZGVmYXVsdDogTm90aWZpY2F0aW9uUXVldWUgeyBnZXQgfQogICAgcHVibGljIGluaXQobm90aWZpY2F0aW9uQ2VudGVyOiBOb3RpZmljYXRpb25DZW50ZXIpIHt9CiAgICBvcGVuIGZ1bmMgZGVxdWV1ZU5vdGlmaWNhdGlvbnMobWF0Y2hpbmcgbm90aWZpY2F0aW9uOiBOb3RpZmljYXRpb24sIGNvYWxlc2NlTWFzazogTm90aWZpY2F0aW9uQ29hbGVzY2luZykge30KICAgIG9wZW4gZnVuYyBlbnF1ZXVlKF8gbm90aWZpY2F0aW9uOiBOb3RpZmljYXRpb24sIHBvc3RpbmdTdHlsZTogUG9zdGluZ1N0eWxlKSB7fQogICAgb3BlbiBmdW5jIGVucXVldWUoXyBub3RpZmljYXRpb246IE5vdGlmaWNhdGlvbiwgcG9zdGluZ1N0eWxlOiBQb3N0aW5nU3R5bGUsIGNvYWxlc2NlTWFzazogTm90aWZpY2F0aW9uQ29hbGVzY2luZywgZm9yTW9kZXMgbW9kZXM6IFtSdW5Mb29wLk1vZGVdPykge30KfQpvcGVuIGNsYXNzIE51bWJlckZvcm1hdHRlciA6IEFueU9iamVjdCwgQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgRm9ybWF0dGVyLCBIYXNoYWJsZSwgTlNDb2RpbmcsIE5TQ29weWluZywgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wgewogICAgb3BlbiBjbGFzcyBmdW5jIGxvY2FsaXplZFN0cmluZyhmcm9tIG51bTogTlNOdW1iZXIsIG51bWJlciBuc3R5bGU6IFN0eWxlKSAtPiBTdHJpbmcge30KICAgIG9wZW4gdmFyIGFsbG93c0Zsb2F0czogQm9vbCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgYWx3YXlzU2hvd3NEZWNpbWFsU2VwYXJhdG9yOiBCb29sIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBhdHRyaWJ1dGVkU3RyaW5nRm9yTmlsOiBOU0F0dHJpYnV0ZWRTdHJpbmcgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGF0dHJpYnV0ZWRTdHJpbmdGb3JOb3RBTnVtYmVyOiBOU0F0dHJpYnV0ZWRTdHJpbmcgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGF0dHJpYnV0ZWRTdHJpbmdGb3JaZXJvOiBOU0F0dHJpYnV0ZWRTdHJpbmcgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGN1cnJlbmN5Q29kZTogU3RyaW5nISB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgY3VycmVuY3lEZWNpbWFsU2VwYXJhdG9yOiBTdHJpbmchIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBjdXJyZW5jeUdyb3VwaW5nU2VwYXJhdG9yOiBTdHJpbmchIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBjdXJyZW5jeVN5bWJvbDogU3RyaW5nISB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgZGVjaW1hbFNlcGFyYXRvcjogU3RyaW5nISB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgZXhwb25lbnRTeW1ib2w6IFN0cmluZyEgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGZvcm1hdDogU3RyaW5nIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBmb3JtYXRXaWR0aDogSW50IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBmb3JtYXR0aW5nQ29udGV4dDogQ29udGV4dCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgZ2VuZXJhdGVzRGVjaW1hbE51bWJlcnM6IEJvb2wgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGdyb3VwaW5nU2VwYXJhdG9yOiBTdHJpbmchIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBncm91cGluZ1NpemU6IEludCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgaGFzVGhvdXNhbmRTZXBhcmF0b3JzOiBCb29sIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBpbnRlcm5hdGlvbmFsQ3VycmVuY3lTeW1ib2w6IFN0cmluZyEgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGlzTGVuaWVudDogQm9vbCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgaXNQYXJ0aWFsU3RyaW5nVmFsaWRhdGlvbkVuYWJsZWQ6IEJvb2wgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGxvY2FsZTogTG9jYWxlISB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgbG9jYWxpemVzRm9ybWF0OiBCb29sIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBtYXhpbXVtOiBOU051bWJlcj8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIG1heGltdW1GcmFjdGlvbkRpZ2l0czogSW50IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBtYXhpbXVtSW50ZWdlckRpZ2l0czogSW50IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBtYXhpbXVtU2lnbmlmaWNhbnREaWdpdHM6IEludCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgbWluaW11bTogTlNOdW1iZXI/IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBtaW5pbXVtRnJhY3Rpb25EaWdpdHM6IEludCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgbWluaW11bUludGVnZXJEaWdpdHM6IEludCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgbWluaW11bVNpZ25pZmljYW50RGlnaXRzOiBJbnQgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIG1pbnVzU2lnbjogU3RyaW5nISB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgbXVsdGlwbGllcjogTlNOdW1iZXI/IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBuZWdhdGl2ZUZvcm1hdDogU3RyaW5nISB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgbmVnYXRpdmVJbmZpbml0eVN5bWJvbDogU3RyaW5nIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBuZWdhdGl2ZVByZWZpeDogU3RyaW5nISB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgbmVnYXRpdmVTdWZmaXg6IFN0cmluZyEgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIG5pbFN5bWJvbDogU3RyaW5nIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBub3RBTnVtYmVyU3ltYm9sOiBTdHJpbmchIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBudW1iZXJTdHlsZTogU3R5bGUgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHBhZGRpbmdDaGFyYWN0ZXI6IFN0cmluZyEgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHBhZGRpbmdQb3NpdGlvbjogUGFkUG9zaXRpb24geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHBlck1pbGxTeW1ib2w6IFN0cmluZyEgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHBlcmNlbnRTeW1ib2w6IFN0cmluZyEgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHBsdXNTaWduOiBTdHJpbmchIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBwb3NpdGl2ZUZvcm1hdDogU3RyaW5nISB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgcG9zaXRpdmVJbmZpbml0eVN5bWJvbDogU3RyaW5nIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBwb3NpdGl2ZVByZWZpeDogU3RyaW5nISB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgcG9zaXRpdmVTdWZmaXg6IFN0cmluZyEgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHJvdW5kaW5nQmVoYXZpb3I6IE5TRGVjaW1hbE51bWJlckhhbmRsZXIgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHJvdW5kaW5nSW5jcmVtZW50OiBOU051bWJlciEgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHJvdW5kaW5nTW9kZTogUm91bmRpbmdNb2RlIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBzZWNvbmRhcnlHcm91cGluZ1NpemU6IEludCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgdGV4dEF0dHJpYnV0ZXNGb3JOZWdhdGl2ZUluZmluaXR5OiBbU3RyaW5nOiBBbnldPyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgdGV4dEF0dHJpYnV0ZXNGb3JOZWdhdGl2ZVZhbHVlczogW1N0cmluZzogQW55XT8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHRleHRBdHRyaWJ1dGVzRm9yTmlsOiBbU3RyaW5nOiBBbnldPyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgdGV4dEF0dHJpYnV0ZXNGb3JOb3RBTnVtYmVyOiBbU3RyaW5nOiBBbnldPyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgdGV4dEF0dHJpYnV0ZXNGb3JQb3NpdGl2ZUluZmluaXR5OiBbU3RyaW5nOiBBbnldPyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgdGV4dEF0dHJpYnV0ZXNGb3JQb3NpdGl2ZVZhbHVlczogW1N0cmluZzogQW55XT8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHRleHRBdHRyaWJ1dGVzRm9yWmVybzogW1N0cmluZzogQW55XT8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHRob3VzYW5kU2VwYXJhdG9yOiBTdHJpbmchIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciB1c2VzR3JvdXBpbmdTZXBhcmF0b3I6IEJvb2wgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHVzZXNTaWduaWZpY2FudERpZ2l0czogQm9vbCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgemVyb1N5bWJvbDogU3RyaW5nPyB7IGdldCBzZXQgfQogICAgb3BlbiBmdW5jIG51bWJlcihmcm9tIHN0cmluZzogU3RyaW5nKSAtPiBOU051bWJlcj8ge30KICAgIG9wZW4gZnVuYyBzdHJpbmcoZnJvbSBudW1iZXI6IE5TTnVtYmVyKSAtPiBTdHJpbmc/IHt9Cn0Kb3BlbiBjbGFzcyBPcGVyYXRpb24gOiBBbnlPYmplY3QsIEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCB7CiAgICBvcGVuIHZhciBjb21wbGV0aW9uQmxvY2s6ICgoKSAtPiBWb2lkKT8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGRlcGVuZGVuY2llczogW09wZXJhdGlvbl0geyBnZXQgfQogICAgb3BlbiB2YXIgaXNBc3luY2hyb25vdXM6IEJvb2wgeyBnZXQgfQogICAgb3BlbiB2YXIgaXNDYW5jZWxsZWQ6IEJvb2wgeyBnZXQgfQogICAgb3BlbiB2YXIgaXNFeGVjdXRpbmc6IEJvb2wgeyBnZXQgfQogICAgb3BlbiB2YXIgaXNGaW5pc2hlZDogQm9vbCB7IGdldCB9CiAgICBvcGVuIHZhciBpc1JlYWR5OiBCb29sIHsgZ2V0IH0KICAgIG9wZW4gdmFyIG5hbWU6IFN0cmluZz8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHF1YWxpdHlPZlNlcnZpY2U6IFF1YWxpdHlPZlNlcnZpY2UgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHF1ZXVlUHJpb3JpdHk6IE9wZXJhdGlvbi5RdWV1ZVByaW9yaXR5IHsgZ2V0IHNldCB9CiAgICBvcGVuIGZ1bmMgYWRkRGVwZW5kZW5jeShfIG9wOiBPcGVyYXRpb24pIHt9CiAgICBvcGVuIGZ1bmMgY2FuY2VsKCkge30KICAgIHB1YmxpYyBmdW5jIGRpZENoYW5nZVZhbHVlPFZhbHVlPihmb3Iga2V5UGF0aDogS2V5UGF0aDxPcGVyYXRpb24sIFZhbHVlPikge30KICAgIHB1YmxpYyBmdW5jIGRpZENoYW5nZVZhbHVlKGZvcktleSBrZXk6IFN0cmluZykge30KICAgIG9wZW4gZnVuYyBtYWluKCkge30KICAgIG9wZW4gZnVuYyByZW1vdmVEZXBlbmRlbmN5KF8gb3A6IE9wZXJhdGlvbikge30KICAgIG9wZW4gZnVuYyBzdGFydCgpIHt9CiAgICBvcGVuIGZ1bmMgd2FpdFVudGlsRmluaXNoZWQoKSB7fQogICAgcHVibGljIGZ1bmMgd2lsbENoYW5nZVZhbHVlPFZhbHVlPihmb3Iga2V5UGF0aDogS2V5UGF0aDxPcGVyYXRpb24sIFZhbHVlPikge30KICAgIHB1YmxpYyBmdW5jIHdpbGxDaGFuZ2VWYWx1ZShmb3JLZXkga2V5OiBTdHJpbmcpIHt9Cn0KQGF2YWlsYWJsZShPU1ggMTAuNSwgKikgb3BlbiBjbGFzcyBPcGVyYXRpb25RdWV1ZSA6IEFueU9iamVjdCwgQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBQcm9ncmVzc1JlcG9ydGluZyB7CiAgICBvcGVuIGNsYXNzIHZhciBjdXJyZW50OiBPcGVyYXRpb25RdWV1ZT8geyBnZXQgfQogICAgcHVibGljIHN0YXRpYyB2YXIgZGVmYXVsdE1heENvbmN1cnJlbnRPcGVyYXRpb25Db3VudDogSW50IHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgdmFyIG1haW46IE9wZXJhdGlvblF1ZXVlIHsgZ2V0IH0KICAgIG9wZW4gdmFyIGlzU3VzcGVuZGVkOiBCb29sIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBtYXhDb25jdXJyZW50T3BlcmF0aW9uQ291bnQ6IEludCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgbmFtZTogU3RyaW5nPyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgcXVhbGl0eU9mU2VydmljZTogUXVhbGl0eU9mU2VydmljZSB7IGdldCBzZXQgfQogICAgb3BlbiB1bm93bmVkIHZhciB1bmRlcmx5aW5nUXVldWU6IERpc3BhdGNoUXVldWU/IHsgZ2V0IHNldCB9CiAgICBvcGVuIGZ1bmMgYWRkQmFycmllckJsb2NrKF8gYmFycmllcjogQGVzY2FwaW5nICgpIC0+IFZvaWQpIHt9CiAgICBvcGVuIGZ1bmMgYWRkT3BlcmF0aW9uKF8gYmxvY2s6IEBlc2NhcGluZyAoKSAtPiBWb2lkKSB7fQogICAgb3BlbiBmdW5jIGFkZE9wZXJhdGlvbnMoXyBvcHM6IFtPcGVyYXRpb25dLCB3YWl0VW50aWxGaW5pc2hlZCB3YWl0OiBCb29sKSB7fQogICAgb3BlbiBmdW5jIGNhbmNlbEFsbE9wZXJhdGlvbnMoKSB7fQogICAgb3BlbiBmdW5jIHdhaXRVbnRpbEFsbE9wZXJhdGlvbnNBcmVGaW5pc2hlZCgpIHt9Cn0Kb3BlbiBjbGFzcyBPdXRwdXRTdHJlYW0gOiBBbnlPYmplY3QsIEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCwgU3RyZWFtIHsKICAgIG9wZW4gY2xhc3MgZnVuYyB0b01lbW9yeSgpIC0+IFNlbGYge30KICAgIHB1YmxpYyBpbml0KHRvQnVmZmVyIGJ1ZmZlcjogVW5zYWZlTXV0YWJsZVBvaW50ZXI8VUludDg+LCBjYXBhY2l0eTogSW50KSB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQ/KHRvRmlsZUF0UGF0aCBwYXRoOiBTdHJpbmcsIGFwcGVuZCBzaG91bGRBcHBlbmQ6IEJvb2wpIHt9CiAgICBwdWJsaWMgcmVxdWlyZWQgaW5pdCh0b01lbW9yeTogVm9pZCkge30KICAgIHB1YmxpYyBpbml0Pyh1cmw6IFVSTCwgYXBwZW5kIHNob3VsZEFwcGVuZDogQm9vbCkge30KICAgIG9wZW4gdmFyIGhhc1NwYWNlQXZhaWxhYmxlOiBCb29sIHsgZ2V0IH0KICAgIG9wZW4gZnVuYyB3cml0ZShfIGJ1ZmZlcjogVW5zYWZlUG9pbnRlcjxVSW50OD4sIG1heExlbmd0aCBsZW46IEludCkgLT4gSW50IHt9Cn0Kb3BlbiBjbGFzcyBQZXJzb25OYW1lQ29tcG9uZW50c0Zvcm1hdHRlciA6IEFueU9iamVjdCwgQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgRm9ybWF0dGVyLCBIYXNoYWJsZSwgTlNDb2RpbmcsIE5TQ29weWluZywgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wgewogICAgb3BlbiBjbGFzcyBmdW5jIGxvY2FsaXplZFN0cmluZyhmcm9tIGNvbXBvbmVudHM6IFBlcnNvbk5hbWVDb21wb25lbnRzLCBzdHlsZSBuYW1lRm9ybWF0U3R5bGU6IFN0eWxlLCBvcHRpb25zIG5hbWVPcHRpb25zOiBPcHRpb25zID0geCkgLT4gU3RyaW5nIHt9CiAgICBvcGVuIHZhciBpc1Bob25ldGljOiBCb29sIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBzdHlsZTogU3R5bGUgeyBnZXQgc2V0IH0KICAgIG9wZW4gZnVuYyBhbm5vdGF0ZWRTdHJpbmcoZnJvbSBjb21wb25lbnRzOiBQZXJzb25OYW1lQ29tcG9uZW50cykgLT4gTlNBdHRyaWJ1dGVkU3RyaW5nIHt9CiAgICBvcGVuIGZ1bmMgcGVyc29uTmFtZUNvbXBvbmVudHMoZnJvbSBzdHJpbmc6IFN0cmluZykgLT4gUGVyc29uTmFtZUNvbXBvbmVudHM/IHt9CiAgICBvcGVuIGZ1bmMgc3RyaW5nKGZyb20gY29tcG9uZW50czogUGVyc29uTmFtZUNvbXBvbmVudHMpIC0+IFN0cmluZyB7fQp9Cm9wZW4gY2xhc3MgUGlwZSA6IEFueU9iamVjdCwgQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sIHsKICAgIHB1YmxpYyB2YXIgZmlsZUhhbmRsZUZvclJlYWRpbmc6IEZpbGVIYW5kbGUgeyBnZXQgfQogICAgcHVibGljIHZhciBmaWxlSGFuZGxlRm9yV3JpdGluZzogRmlsZUhhbmRsZSB7IGdldCB9Cn0Kb3BlbiBjbGFzcyBQb3J0IDogQW55T2JqZWN0LCBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNDb2RpbmcsIE5TQ29weWluZywgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wgewogICAgcHVibGljIHN0YXRpYyB2YXIgZGlkQmVjb21lSW52YWxpZE5vdGlmaWNhdGlvbiB7IGdldCB9CiAgICBvcGVuIHZhciBpc1ZhbGlkOiBCb29sIHsgZ2V0IH0KICAgIG9wZW4gdmFyIHJlc2VydmVkU3BhY2VMZW5ndGg6IEludCB7IGdldCB9CiAgICBvcGVuIGZ1bmMgaW52YWxpZGF0ZSgpIHt9CiAgICBvcGVuIGZ1bmMgcmVtb3ZlKGZyb20gcnVuTG9vcDogUnVuTG9vcCwgZm9yTW9kZSBtb2RlOiBSdW5Mb29wLk1vZGUpIHt9CiAgICBvcGVuIGZ1bmMgc2NoZWR1bGUoaW4gcnVuTG9vcDogUnVuTG9vcCwgZm9yTW9kZSBtb2RlOiBSdW5Mb29wLk1vZGUpIHt9CiAgICBvcGVuIGZ1bmMgc2VuZEJlZm9yZURhdGUoXyBsaW1pdERhdGU6IERhdGUsIGNvbXBvbmVudHM6IE5TTXV0YWJsZUFycmF5PywgZnJvbSByZWNlaXZlUG9ydDogUG9ydD8sIHJlc2VydmVkIGhlYWRlclNwYWNlUmVzZXJ2ZWQ6IEludCkgLT4gQm9vbCB7fQogICAgb3BlbiBmdW5jIHNlbmRCZWZvcmVEYXRlKF8gbGltaXREYXRlOiBEYXRlLCBtc2dpZCBtc2dJRDogSW50LCBjb21wb25lbnRzOiBOU011dGFibGVBcnJheT8sIGZyb20gcmVjZWl2ZVBvcnQ6IFBvcnQ/LCByZXNlcnZlZCBoZWFkZXJTcGFjZVJlc2VydmVkOiBJbnQpIC0+IEJvb2wge30KfQpvcGVuIGNsYXNzIFBvcnRNZXNzYWdlIDogQW55T2JqZWN0LCBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wgewogICAgcHVibGljIGluaXQoc2VuZFBvcnQ6IFBvcnQ/LCByZWNlaXZlUG9ydCByZXBseVBvcnQ6IFBvcnQ/LCBjb21wb25lbnRzOiBbQW55T2JqZWN0XT8pIHt9CiAgICBvcGVuIHZhciBjb21wb25lbnRzOiBbQW55T2JqZWN0XT8geyBnZXQgfQogICAgb3BlbiB2YXIgbXNnaWQ6IFVJbnQzMiB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgcmVjZWl2ZVBvcnQ6IFBvcnQ/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHNlbmRQb3J0OiBQb3J0PyB7IGdldCB9CiAgICBvcGVuIGZ1bmMgc2VuZEJlZm9yZURhdGUoXyBkYXRlOiBEYXRlKSAtPiBCb29sIHt9Cn0Kb3BlbiBjbGFzcyBQcm9jZXNzIDogQW55T2JqZWN0LCBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wgewogICAgcHVibGljIHN0YXRpYyB2YXIgZGlkVGVybWluYXRlTm90aWZpY2F0aW9uIHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgZnVuYyBydW4oXyB1cmw6IFVSTCwgYXJndW1lbnRzOiBbU3RyaW5nXSwgdGVybWluYXRpb25IYW5kbGVyOiAoKFByb2Nlc3MpIC0+IFZvaWQpPyA9IHgpIHRocm93cyAtPiBQcm9jZXNzIHt9CiAgICBvcGVuIHZhciBhcmd1bWVudHM6IFtTdHJpbmddPyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgY3VycmVudERpcmVjdG9yeVVSTCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgZW52aXJvbm1lbnQ6IFtTdHJpbmc6IFN0cmluZ10/IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBleGVjdXRhYmxlVVJMOiBVUkw/IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBpc1J1bm5pbmc6IEJvb2wgeyBnZXQgfQojaWYgb3MoV2luZG93cykKICAgIG9wZW4gdmFyIHByb2Nlc3NIYW5kbGU6IEhBTkRMRSB7IGdldCB9CiNlbmRpZgogICAgb3BlbiB2YXIgcHJvY2Vzc0lkZW50aWZpZXI6IEludDMyIHsgZ2V0IH0KICAgIG9wZW4gdmFyIHF1YWxpdHlPZlNlcnZpY2U6IFF1YWxpdHlPZlNlcnZpY2UgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHN0YW5kYXJkRXJyb3I6IEFueT8geyBnZXQgfQogICAgb3BlbiB2YXIgc3RhbmRhcmRJbnB1dDogQW55PyB7IGdldCB9CiAgICBvcGVuIHZhciBzdGFuZGFyZE91dHB1dDogQW55PyB7IGdldCB9CiAgICBvcGVuIHZhciB0ZXJtaW5hdGlvbkhhbmRsZXI6ICgoUHJvY2VzcykgLT4gVm9pZCk/IHsgZ2V0IHNldCB9CiAgICBwdWJsaWMgdmFyIHRlcm1pbmF0aW9uUmVhc29uOiBUZXJtaW5hdGlvblJlYXNvbiB7IGdldCB9CiAgICBwdWJsaWMgdmFyIHRlcm1pbmF0aW9uU3RhdHVzOiBJbnQzMiB7IGdldCB9CiAgICBvcGVuIGZ1bmMgaW50ZXJydXB0KCkge30KICAgIG9wZW4gZnVuYyByZXN1bWUoKSAtPiBCb29sIHt9CiAgICBvcGVuIGZ1bmMgcnVuKCkgdGhyb3dzIHt9CiAgICBvcGVuIGZ1bmMgc3VzcGVuZCgpIC0+IEJvb2wge30KICAgIG9wZW4gZnVuYyB0ZXJtaW5hdGUoKSB7fQogICAgb3BlbiBmdW5jIHdhaXRVbnRpbEV4aXQoKSB7fQp9Cm9wZW4gY2xhc3MgUHJvY2Vzc0luZm8gOiBBbnlPYmplY3QsIEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCB7CiAgICBwdWJsaWMgc3RhdGljIHZhciBwcm9jZXNzSW5mbyB7IGdldCB9CiAgICBvcGVuIHZhciBhY3RpdmVQcm9jZXNzb3JDb3VudDogSW50IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGFyZ3VtZW50czogW1N0cmluZ10geyBnZXQgfQogICAgb3BlbiB2YXIgZW52aXJvbm1lbnQ6IFtTdHJpbmc6IFN0cmluZ10geyBnZXQgfQogICAgb3BlbiB2YXIgZnVsbFVzZXJOYW1lOiBTdHJpbmcgeyBnZXQgfQogICAgb3BlbiB2YXIgZ2xvYmFsbHlVbmlxdWVTdHJpbmc6IFN0cmluZyB7IGdldCB9CiAgICBvcGVuIHZhciBob3N0TmFtZTogU3RyaW5nIHsgZ2V0IH0KICAgIG9wZW4gdmFyIG9wZXJhdGluZ1N5c3RlbVZlcnNpb246IE9wZXJhdGluZ1N5c3RlbVZlcnNpb24geyBnZXQgfQogICAgb3BlbiB2YXIgb3BlcmF0aW5nU3lzdGVtVmVyc2lvblN0cmluZzogU3RyaW5nIHsgZ2V0IH0KICAgIG9wZW4gdmFyIHBoeXNpY2FsTWVtb3J5OiBVSW50NjQgeyBnZXQgfQogICAgb3BlbiB2YXIgcHJvY2Vzc0lkZW50aWZpZXI6IEludDMyIHsgZ2V0IH0KICAgIG9wZW4gdmFyIHByb2Nlc3NOYW1lOiBTdHJpbmcgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHByb2Nlc3NvckNvdW50OiBJbnQgeyBnZXQgfQogICAgb3BlbiB2YXIgc3lzdGVtVXB0aW1lOiBUaW1lSW50ZXJ2YWwgeyBnZXQgfQogICAgb3BlbiB2YXIgdXNlck5hbWU6IFN0cmluZyB7IGdldCB9CiAgICBvcGVuIGZ1bmMgaXNPcGVyYXRpbmdTeXN0ZW1BdExlYXN0KF8gdmVyc2lvbjogT3BlcmF0aW5nU3lzdGVtVmVyc2lvbikgLT4gQm9vbCB7fQp9Cm9wZW4gY2xhc3MgUHJvZ3Jlc3MgOiBBbnlPYmplY3QsIEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCB7CiAgICBvcGVuIGNsYXNzIGZ1bmMgY3VycmVudCgpIC0+IFByb2dyZXNzPyB7fQogICAgb3BlbiBjbGFzcyBmdW5jIGRpc2NyZXRlUHJvZ3Jlc3ModG90YWxVbml0Q291bnQgdW5pdENvdW50OiBJbnQ2NCkgLT4gUHJvZ3Jlc3Mge30KICAgIHB1YmxpYyBpbml0KHBhcmVudCBwYXJlbnRQcm9ncmVzczogUHJvZ3Jlc3M/LCB1c2VySW5mbyB1c2VySW5mb09yTmlsOiBbUHJvZ3Jlc3NVc2VySW5mb0tleTogQW55XT8gPSB4KSB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQodG90YWxVbml0Q291bnQgdW5pdENvdW50OiBJbnQ2NCkge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KHRvdGFsVW5pdENvdW50IHVuaXRDb3VudDogSW50NjQsIHBhcmVudDogUHJvZ3Jlc3MsIHBlbmRpbmdVbml0Q291bnQgcG9ydGlvbk9mUGFyZW50VG90YWxVbml0Q291bnQ6IEludDY0KSB7fQogICAgb3BlbiB2YXIgY2FuY2VsbGF0aW9uSGFuZGxlcjogKCgpIC0+IFZvaWQpPyB7IGdldCB9CiAgICBvcGVuIHZhciBjb21wbGV0ZWRVbml0Q291bnQ6IEludDY0IHsgZ2V0IHNldCB9CiAgICBwdWJsaWMgdmFyIGZyYWN0aW9uQ29tcGxldGVkOiBEb3VibGUgeyBnZXQgfQogICAgb3BlbiB2YXIgaXNDYW5jZWxsYWJsZTogQm9vbCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgaXNDYW5jZWxsZWQ6IEJvb2wgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGlzRmluaXNoZWQ6IEJvb2wgeyBnZXQgfQogICAgb3BlbiB2YXIgaXNJbmRldGVybWluYXRlOiBCb29sIHsgZ2V0IH0KICAgIG9wZW4gdmFyIGlzUGF1c2FibGU6IEJvb2wgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGlzUGF1c2VkOiBCb29sIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBraW5kOiBQcm9ncmVzc0tpbmQ/IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBsb2NhbGl6ZWRBZGRpdGlvbmFsRGVzY3JpcHRpb246IFN0cmluZyEgeyBnZXQgfQogICAgb3BlbiB2YXIgbG9jYWxpemVkRGVzY3JpcHRpb246IFN0cmluZyEgeyBnZXQgfQogICAgb3BlbiB2YXIgcGF1c2luZ0hhbmRsZXI6ICgoKSAtPiBWb2lkKT8geyBnZXQgfQogICAgb3BlbiB2YXIgcmVzdW1pbmdIYW5kbGVyOiAoKCkgLT4gVm9pZCk/IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciB0b3RhbFVuaXRDb3VudDogSW50NjQgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHVzZXJJbmZvOiBbUHJvZ3Jlc3NVc2VySW5mb0tleTogQW55XSB7IGdldCB9CiAgICBvcGVuIGZ1bmMgYWRkQ2hpbGQoXyBjaGlsZDogUHJvZ3Jlc3MsIHdpdGhQZW5kaW5nVW5pdENvdW50IGluVW5pdENvdW50OiBJbnQ2NCkge30KICAgIG9wZW4gZnVuYyBiZWNvbWVDdXJyZW50KHdpdGhQZW5kaW5nVW5pdENvdW50IHVuaXRDb3VudDogSW50NjQpIHt9CiAgICBvcGVuIGZ1bmMgY2FuY2VsKCkge30KICAgIG9wZW4gZnVuYyBwYXVzZSgpIHt9CiAgICBvcGVuIGZ1bmMgcmVzaWduQ3VycmVudCgpIHt9CiAgICBvcGVuIGZ1bmMgcmVzdW1lKCkge30KICAgIG9wZW4gZnVuYyBzZXRVc2VySW5mb09iamVjdChfIG9iamVjdE9yTmlsOiBBbnk/LCBmb3JLZXkga2V5OiBQcm9ncmVzc1VzZXJJbmZvS2V5KSB7fQp9Cm9wZW4gY2xhc3MgUHJvcGVydHlMaXN0RGVjb2RlciB7CiAgICBwdWJsaWMgaW5pdCgpIHt9CiAgICBvcGVuIHZhciB1c2VySW5mbzogW0NvZGluZ1VzZXJJbmZvS2V5OiBBbnldIHsgZ2V0IHNldCB9CiAgICBvcGVuIGZ1bmMgZGVjb2RlPFQ+KF8gdHlwZTogVC5UeXBlLCBmcm9tIGRhdGE6IERhdGEpIHRocm93cyAtPiBUIHdoZXJlIFQgOiBEZWNvZGFibGUge30KICAgIG9wZW4gZnVuYyBkZWNvZGU8VD4oXyB0eXBlOiBULlR5cGUsIGZyb20gZGF0YTogRGF0YSwgZm9ybWF0OiBpbm91dCBQcm9wZXJ0eUxpc3RTZXJpYWxpemF0aW9uLlByb3BlcnR5TGlzdEZvcm1hdCkgdGhyb3dzIC0+IFQgd2hlcmUgVCA6IERlY29kYWJsZSB7fQp9Cm9wZW4gY2xhc3MgUHJvcGVydHlMaXN0RW5jb2RlciB7CiAgICBwdWJsaWMgaW5pdCgpIHt9CiAgICBvcGVuIHZhciBvdXRwdXRGb3JtYXQ6IFByb3BlcnR5TGlzdFNlcmlhbGl6YXRpb24uUHJvcGVydHlMaXN0Rm9ybWF0IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciB1c2VySW5mbzogW0NvZGluZ1VzZXJJbmZvS2V5OiBBbnldIHsgZ2V0IHNldCB9CiAgICBvcGVuIGZ1bmMgZW5jb2RlPFZhbHVlPihfIHZhbHVlOiBWYWx1ZSkgdGhyb3dzIC0+IERhdGEgd2hlcmUgVmFsdWUgOiBFbmNvZGFibGUge30KfQpvcGVuIGNsYXNzIFByb3BlcnR5TGlzdFNlcmlhbGl6YXRpb24gOiBBbnlPYmplY3QsIEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCB7CiAgICBvcGVuIGNsYXNzIGZ1bmMgZGF0YShmcm9tUHJvcGVydHlMaXN0IHBsaXN0OiBBbnksIGZvcm1hdDogUHJvcGVydHlMaXN0Rm9ybWF0LCBvcHRpb25zIG9wdDogV3JpdGVPcHRpb25zKSB0aHJvd3MgLT4gRGF0YSB7fQogICAgb3BlbiBjbGFzcyBmdW5jIHByb3BlcnR5TGlzdChfIHBsaXN0OiBBbnksIGlzVmFsaWRGb3IgZm9ybWF0OiBQcm9wZXJ0eUxpc3RGb3JtYXQpIC0+IEJvb2wge30KICAgIG9wZW4gY2xhc3MgZnVuYyBwcm9wZXJ0eUxpc3QoZnJvbSBkYXRhOiBEYXRhLCBvcHRpb25zIG9wdDogUmVhZE9wdGlvbnMgPSB4LCBmb3JtYXQ6IFVuc2FmZU11dGFibGVQb2ludGVyPFByb3BlcnR5TGlzdEZvcm1hdD4/KSB0aHJvd3MgLT4gQW55IHt9CiAgICBvcGVuIGNsYXNzIGZ1bmMgcHJvcGVydHlMaXN0KHdpdGggc3RyZWFtOiBJbnB1dFN0cmVhbSwgb3B0aW9ucyBvcHQ6IFJlYWRPcHRpb25zID0geCwgZm9ybWF0OiBVbnNhZmVNdXRhYmxlUG9pbnRlcjxQcm9wZXJ0eUxpc3RGb3JtYXQ+PykgdGhyb3dzIC0+IEFueSB7fQp9Cm9wZW4gY2xhc3MgUnVuTG9vcCA6IEFueU9iamVjdCwgQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sIHsKICAgIG9wZW4gY2xhc3MgdmFyIGN1cnJlbnQ6IFJ1bkxvb3AgeyBnZXQgfQogICAgb3BlbiBjbGFzcyB2YXIgbWFpbjogUnVuTG9vcCB7IGdldCB9CiAgICBvcGVuIHZhciBjdXJyZW50TW9kZTogUnVuTG9vcC5Nb2RlPyB7IGdldCB9CiAgICBvcGVuIGZ1bmMgYWNjZXB0SW5wdXQoZm9yTW9kZSBtb2RlOiBTdHJpbmcsIGJlZm9yZSBsaW1pdERhdGU6IERhdGUpIHt9CiAgICBvcGVuIGZ1bmMgYWRkKF8gYVBvcnQ6IFBvcnQsIGZvck1vZGUgbW9kZTogUnVuTG9vcC5Nb2RlKSB7fQogICAgb3BlbiBmdW5jIGdldENGUnVuTG9vcCgpIC0+IENGUnVuTG9vcCB7fQogICAgb3BlbiBmdW5jIGxpbWl0RGF0ZShmb3JNb2RlIG1vZGU6IFJ1bkxvb3AuTW9kZSkgLT4gRGF0ZT8ge30KICAgIHB1YmxpYyBmdW5jIHBlcmZvcm0oXyBibG9jazogQGVzY2FwaW5nICgpIC0+IFZvaWQpIHt9CiAgICBwdWJsaWMgZnVuYyBwZXJmb3JtKGluTW9kZXMgbW9kZXM6IFtSdW5Mb29wLk1vZGVdLCBibG9jazogQGVzY2FwaW5nICgpIC0+IFZvaWQpIHt9CiAgICBvcGVuIGZ1bmMgcmVtb3ZlKF8gYVBvcnQ6IFBvcnQsIGZvck1vZGUgbW9kZTogUnVuTG9vcC5Nb2RlKSB7fQogICAgcHVibGljIGZ1bmMgcnVuKCkge30KICAgIHB1YmxpYyBmdW5jIHJ1bihtb2RlOiBSdW5Mb29wLk1vZGUsIGJlZm9yZSBsaW1pdERhdGU6IERhdGUpIC0+IEJvb2wge30KICAgIHB1YmxpYyBmdW5jIHJ1bih1bnRpbCBsaW1pdERhdGU6IERhdGUpIHt9Cn0Kb3BlbiBjbGFzcyBTY2FubmVyIDogQW55T2JqZWN0LCBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNDb3B5aW5nLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCB7CiAgICBvcGVuIGNsYXNzIGZ1bmMgbG9jYWxpemVkU2Nhbm5lcih3aXRoIHN0cmluZzogU3RyaW5nKSAtPiBBbnkge30KICAgIHB1YmxpYyBpbml0KHN0cmluZzogU3RyaW5nKSB7fQogICAgb3BlbiB2YXIgY2FzZVNlbnNpdGl2ZTogQm9vbCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgY2hhcmFjdGVyc1RvQmVTa2lwcGVkOiBDaGFyYWN0ZXJTZXQ/IHsgZ2V0IHNldCB9CiAgICBwdWJsaWMgdmFyIGN1cnJlbnRJbmRleDogU3RyaW5nLkluZGV4IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBpc0F0RW5kOiBCb29sIHsgZ2V0IH0KICAgIG9wZW4gdmFyIGxvY2FsZTogQW55PyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgc2NhbkxvY2F0aW9uOiBJbnQgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHN0cmluZzogU3RyaW5nIHsgZ2V0IH0KICAgIHB1YmxpYyBmdW5jIHNjYW5DaGFyYWN0ZXIoKSAtPiBDaGFyYWN0ZXI/IHt9CiAgICBwdWJsaWMgZnVuYyBzY2FuQ2hhcmFjdGVycyhmcm9tIHNldDogQ2hhcmFjdGVyU2V0KSAtPiBTdHJpbmc/IHt9CiAgICBwdWJsaWMgZnVuYyBzY2FuRGVjaW1hbCgpIC0+IERlY2ltYWw/IHt9CiAgICBwdWJsaWMgZnVuYyBzY2FuRGVjaW1hbChfIGRjbTogaW5vdXQgRGVjaW1hbCkgLT4gQm9vbCB7fQogICAgQGRpc2NhcmRhYmxlUmVzdWx0IG9wZW4gZnVuYyBzY2FuRG91YmxlKF8gcmVzdWx0OiBVbnNhZmVNdXRhYmxlUG9pbnRlcjxEb3VibGU+KSAtPiBCb29sIHt9CiAgICBwdWJsaWMgZnVuYyBzY2FuRG91YmxlKHJlcHJlc2VudGF0aW9uOiBOdW1iZXJSZXByZXNlbnRhdGlvbiA9IHgpIC0+IERvdWJsZT8ge30KICAgIEBkaXNjYXJkYWJsZVJlc3VsdCBvcGVuIGZ1bmMgc2NhbkZsb2F0KF8gcmVzdWx0OiBVbnNhZmVNdXRhYmxlUG9pbnRlcjxGbG9hdD4pIC0+IEJvb2wge30KICAgIHB1YmxpYyBmdW5jIHNjYW5GbG9hdChyZXByZXNlbnRhdGlvbjogTnVtYmVyUmVwcmVzZW50YXRpb24gPSB4KSAtPiBGbG9hdD8ge30KICAgIEBkaXNjYXJkYWJsZVJlc3VsdCBvcGVuIGZ1bmMgc2NhbkhleERvdWJsZShfIHJlc3VsdDogVW5zYWZlTXV0YWJsZVBvaW50ZXI8RG91YmxlPikgLT4gQm9vbCB7fQogICAgQGRpc2NhcmRhYmxlUmVzdWx0IG9wZW4gZnVuYyBzY2FuSGV4RmxvYXQoXyByZXN1bHQ6IFVuc2FmZU11dGFibGVQb2ludGVyPEZsb2F0PikgLT4gQm9vbCB7fQogICAgQGRpc2NhcmRhYmxlUmVzdWx0IG9wZW4gZnVuYyBzY2FuSGV4SW50MzIoXyByZXN1bHQ6IFVuc2FmZU11dGFibGVQb2ludGVyPFVJbnQzMj4pIC0+IEJvb2wge30KICAgIEBkaXNjYXJkYWJsZVJlc3VsdCBvcGVuIGZ1bmMgc2NhbkhleEludDY0KF8gcmVzdWx0OiBVbnNhZmVNdXRhYmxlUG9pbnRlcjxVSW50NjQ+KSAtPiBCb29sIHt9CiAgICBAZGlzY2FyZGFibGVSZXN1bHQgb3BlbiBmdW5jIHNjYW5JbnQoXyByZXN1bHQ6IFVuc2FmZU11dGFibGVQb2ludGVyPEludD4pIC0+IEJvb2wge30KICAgIHB1YmxpYyBmdW5jIHNjYW5JbnQocmVwcmVzZW50YXRpb246IE51bWJlclJlcHJlc2VudGF0aW9uID0geCkgLT4gSW50PyB7fQogICAgQGRpc2NhcmRhYmxlUmVzdWx0IG9wZW4gZnVuYyBzY2FuSW50MzIoXyByZXN1bHQ6IFVuc2FmZU11dGFibGVQb2ludGVyPEludDMyPikgLT4gQm9vbCB7fQogICAgcHVibGljIGZ1bmMgc2NhbkludDMyKHJlcHJlc2VudGF0aW9uOiBOdW1iZXJSZXByZXNlbnRhdGlvbiA9IHgpIC0+IEludDMyPyB7fQogICAgQGRpc2NhcmRhYmxlUmVzdWx0IG9wZW4gZnVuYyBzY2FuSW50NjQoXyByZXN1bHQ6IFVuc2FmZU11dGFibGVQb2ludGVyPEludDY0PikgLT4gQm9vbCB7fQogICAgcHVibGljIGZ1bmMgc2NhbkludDY0KHJlcHJlc2VudGF0aW9uOiBOdW1iZXJSZXByZXNlbnRhdGlvbiA9IHgpIC0+IEludDY0PyB7fQogICAgcHVibGljIGZ1bmMgc2NhblN0cmluZyhfIHNlYXJjaFN0cmluZzogU3RyaW5nKSAtPiBTdHJpbmc/IHt9CiAgICBwdWJsaWMgZnVuYyBzY2FuVUludDY0KHJlcHJlc2VudGF0aW9uOiBOdW1iZXJSZXByZXNlbnRhdGlvbiA9IHgpIC0+IFVJbnQ2ND8ge30KICAgIEBkaXNjYXJkYWJsZVJlc3VsdCBvcGVuIGZ1bmMgc2NhblVuc2lnbmVkTG9uZ0xvbmcoXyByZXN1bHQ6IFVuc2FmZU11dGFibGVQb2ludGVyPFVJbnQ2ND4pIC0+IEJvb2wge30KICAgIHB1YmxpYyBmdW5jIHNjYW5VcFRvQ2hhcmFjdGVycyhmcm9tIHNldDogQ2hhcmFjdGVyU2V0KSAtPiBTdHJpbmc/IHt9CiAgICBwdWJsaWMgZnVuYyBzY2FuVXBUb1N0cmluZyhfIHN1YnN0cmluZzogU3RyaW5nKSAtPiBTdHJpbmc/IHt9Cn0Kb3BlbiBjbGFzcyBTb2NrZXRQb3J0IDogQW55T2JqZWN0LCBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNDb2RpbmcsIE5TQ29weWluZywgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wsIFBvcnQgewogICAgcHVibGljIGluaXQ/KHByb3RvY29sRmFtaWx5IGZhbWlseTogSW50MzIsIHNvY2tldFR5cGUgdHlwZTogSW50MzIsIHByb3RvY29sOiBJbnQzMiwgYWRkcmVzczogRGF0YSkge30KICAgIHB1YmxpYyBpbml0Pyhwcm90b2NvbEZhbWlseSBmYW1pbHk6IEludDMyLCBzb2NrZXRUeXBlIHR5cGU6IEludDMyLCBwcm90b2NvbDogSW50MzIsIHNvY2tldCBzb2NrOiBTb2NrZXROYXRpdmVIYW5kbGUpIHt9CiAgICBwdWJsaWMgaW5pdChyZW1vdGVXaXRoUHJvdG9jb2xGYW1pbHkgZmFtaWx5OiBJbnQzMiwgc29ja2V0VHlwZSB0eXBlOiBJbnQzMiwgcHJvdG9jb2w6IEludDMyLCBhZGRyZXNzOiBEYXRhKSB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQ/KHJlbW90ZVdpdGhUQ1BQb3J0IHBvcnQ6IFVJbnQxNiwgaG9zdCBob3N0TmFtZTogU3RyaW5nPykge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0Pyh0Y3BQb3J0IHBvcnQ6IFVJbnQxNikge30KICAgIG9wZW4gdmFyIGFkZHJlc3M6IERhdGEgeyBnZXQgfQogICAgb3BlbiB2YXIgcHJvdG9jb2w6IEludDMyIHsgZ2V0IH0KICAgIG9wZW4gdmFyIHByb3RvY29sRmFtaWx5OiBJbnQzMiB7IGdldCB9CiAgICBvcGVuIHZhciBzb2NrZXQ6IFNvY2tldE5hdGl2ZUhhbmRsZSB7IGdldCB9CiAgICBvcGVuIHZhciBzb2NrZXRUeXBlOiBJbnQzMiB7IGdldCB9Cn0Kb3BlbiBjbGFzcyBTdHJlYW0gOiBBbnlPYmplY3QsIEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCB7CiNpZiBmYWxzZQogICAgb3BlbiBjbGFzcyBmdW5jIGdldEJvdW5kU3RyZWFtcyh3aXRoQnVmZmVyU2l6ZSBidWZmZXJTaXplOiBJbnQsIGlucHV0U3RyZWFtOiBBdXRvcmVsZWFzaW5nVW5zYWZlTXV0YWJsZVBvaW50ZXI8SW5wdXRTdHJlYW0/Pj8sIG91dHB1dFN0cmVhbTogQXV0b3JlbGVhc2luZ1Vuc2FmZU11dGFibGVQb2ludGVyPE91dHB1dFN0cmVhbT8+Pykge30KI2VuZGlmCiNpZiBmYWxzZQogICAgb3BlbiBjbGFzcyBmdW5jIGdldFN0cmVhbXNUb0hvc3Qod2l0aE5hbWUgaG9zdG5hbWU6IFN0cmluZywgcG9ydDogSW50LCBpbnB1dFN0cmVhbTogQXV0b3JlbGVhc2luZ1Vuc2FmZU11dGFibGVQb2ludGVyPElucHV0U3RyZWFtPz4/LCBvdXRwdXRTdHJlYW06IEF1dG9yZWxlYXNpbmdVbnNhZmVNdXRhYmxlUG9pbnRlcjxPdXRwdXRTdHJlYW0/Pj8pIHt9CiNlbmRpZgogICAgb3BlbiB3ZWFrIHZhciBkZWxlZ2F0ZTogU3RyZWFtRGVsZWdhdGU/IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBzdHJlYW1FcnJvcjogRXJyb3I/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHN0cmVhbVN0YXR1czogU3RhdHVzIHsgZ2V0IH0KICAgIG9wZW4gZnVuYyBjbG9zZSgpIHt9CiAgICBvcGVuIGZ1bmMgb3BlbigpIHt9CiAgICBvcGVuIGZ1bmMgcHJvcGVydHkoZm9yS2V5IGtleTogUHJvcGVydHlLZXkpIC0+IEFueU9iamVjdD8ge30KICAgIG9wZW4gZnVuYyByZW1vdmUoZnJvbSBhUnVuTG9vcDogUnVuTG9vcCwgZm9yTW9kZSBtb2RlOiBSdW5Mb29wLk1vZGUpIHt9CiAgICBvcGVuIGZ1bmMgc2NoZWR1bGUoaW4gYVJ1bkxvb3A6IFJ1bkxvb3AsIGZvck1vZGUgbW9kZTogUnVuTG9vcC5Nb2RlKSB7fQogICAgb3BlbiBmdW5jIHNldFByb3BlcnR5KF8gcHJvcGVydHk6IEFueU9iamVjdD8sIGZvcktleSBrZXk6IFByb3BlcnR5S2V5KSAtPiBCb29sIHt9Cn0Kb3BlbiBjbGFzcyBUaHJlYWQgOiBBbnlPYmplY3QsIEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCB7CiAgICBvcGVuIGNsYXNzIHZhciBjYWxsU3RhY2tSZXR1cm5BZGRyZXNzZXM6IFtOU051bWJlcl0geyBnZXQgfQogICAgb3BlbiBjbGFzcyB2YXIgY2FsbFN0YWNrU3ltYm9sczogW1N0cmluZ10geyBnZXQgfQogICAgb3BlbiBjbGFzcyB2YXIgY3VycmVudDogVGhyZWFkIHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgdmFyIGlzTWFpblRocmVhZDogQm9vbCB7IGdldCB9CiAgICBvcGVuIGNsYXNzIHZhciBtYWluVGhyZWFkOiBUaHJlYWQgeyBnZXQgfQogICAgb3BlbiBjbGFzcyBmdW5jIGRldGFjaE5ld1RocmVhZChfIGJsb2NrOiBAZXNjYXBpbmcgKCkgLT4gU3dpZnQuVm9pZCkge30KICAgIG9wZW4gY2xhc3MgZnVuYyBleGl0KCkge30KICAgIG9wZW4gY2xhc3MgZnVuYyBpc011bHRpVGhyZWFkZWQoKSAtPiBCb29sIHt9CiAgICBvcGVuIGNsYXNzIGZ1bmMgc2xlZXAoZm9yVGltZUludGVydmFsIGludGVydmFsOiBUaW1lSW50ZXJ2YWwpIHt9CiAgICBvcGVuIGNsYXNzIGZ1bmMgc2xlZXAodW50aWwgZGF0ZTogRGF0ZSkge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KGJsb2NrOiBAZXNjYXBpbmcgKCkgLT4gU3dpZnQuVm9pZCkge30KICAgIG9wZW4gdmFyIGlzQ2FuY2VsbGVkOiBCb29sIHsgZ2V0IH0KICAgIG9wZW4gdmFyIGlzRXhlY3V0aW5nOiBCb29sIHsgZ2V0IH0KICAgIG9wZW4gdmFyIGlzRmluaXNoZWQ6IEJvb2wgeyBnZXQgfQogICAgb3BlbiB2YXIgaXNNYWluVGhyZWFkOiBCb29sIHsgZ2V0IH0KICAgIG9wZW4gdmFyIG5hbWU6IFN0cmluZz8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHF1YWxpdHlPZlNlcnZpY2U6IFF1YWxpdHlPZlNlcnZpY2UgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHN0YWNrU2l6ZTogSW50IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciB0aHJlYWREaWN0aW9uYXJ5OiBOU011dGFibGVEaWN0aW9uYXJ5IHsgZ2V0IH0KICAgIG9wZW4gZnVuYyBjYW5jZWwoKSB7fQogICAgb3BlbiBmdW5jIG1haW4oKSB7fQogICAgb3BlbiBmdW5jIHN0YXJ0KCkge30KfQpvcGVuIGNsYXNzIFRpbWVyIDogQW55T2JqZWN0LCBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wgewogICAgb3BlbiBjbGFzcyBmdW5jIHNjaGVkdWxlZFRpbWVyKHdpdGhUaW1lSW50ZXJ2YWwgaW50ZXJ2YWw6IFRpbWVJbnRlcnZhbCwgcmVwZWF0czogQm9vbCwgYmxvY2s6IEBlc2NhcGluZyAoVGltZXIpIC0+IFZvaWQpIC0+IFRpbWVyIHt9CiAgICBwdWJsaWMgaW5pdChmaXJlIGRhdGU6IERhdGUsIGludGVydmFsOiBUaW1lSW50ZXJ2YWwsIHJlcGVhdHM6IEJvb2wsIGJsb2NrOiBAZXNjYXBpbmcgKFRpbWVyKSAtPiBTd2lmdC5Wb2lkKSB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQodGltZUludGVydmFsIGludGVydmFsOiBUaW1lSW50ZXJ2YWwsIHJlcGVhdHM6IEJvb2wsIGJsb2NrOiBAZXNjYXBpbmcgKFRpbWVyKSAtPiBTd2lmdC5Wb2lkKSB7fQogICAgb3BlbiB2YXIgZmlyZURhdGU6IERhdGUgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGlzVmFsaWQ6IEJvb2wgeyBnZXQgfQogICAgb3BlbiB2YXIgdGltZUludGVydmFsOiBUaW1lSW50ZXJ2YWwgeyBnZXQgfQogICAgb3BlbiB2YXIgdG9sZXJhbmNlOiBUaW1lSW50ZXJ2YWwgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHVzZXJJbmZvOiBBbnk/IHsgZ2V0IH0KICAgIG9wZW4gZnVuYyBmaXJlKCkge30KICAgIG9wZW4gZnVuYyBpbnZhbGlkYXRlKCkge30KfQpvcGVuIGNsYXNzIFVSTEF1dGhlbnRpY2F0aW9uQ2hhbGxlbmdlIDogQW55T2JqZWN0LCBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNDb2RpbmcsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBOU1NlY3VyZUNvZGluZyB7CiAgICBwdWJsaWMgaW5pdChhdXRoZW50aWNhdGlvbkNoYWxsZW5nZSBjaGFsbGVuZ2U6IFVSTEF1dGhlbnRpY2F0aW9uQ2hhbGxlbmdlLCBzZW5kZXI6IFVSTEF1dGhlbnRpY2F0aW9uQ2hhbGxlbmdlU2VuZGVyKSB7fQogICAgcHVibGljIGluaXQocHJvdGVjdGlvblNwYWNlIHNwYWNlOiBVUkxQcm90ZWN0aW9uU3BhY2UsIHByb3Bvc2VkQ3JlZGVudGlhbCBjcmVkZW50aWFsOiBVUkxDcmVkZW50aWFsPywgcHJldmlvdXNGYWlsdXJlQ291bnQ6IEludCwgZmFpbHVyZVJlc3BvbnNlIHJlc3BvbnNlOiBVUkxSZXNwb25zZT8sIGVycm9yOiBFcnJvcj8sIHNlbmRlcjogVVJMQXV0aGVudGljYXRpb25DaGFsbGVuZ2VTZW5kZXIpIHt9CiAgICBvcGVuIHZhciBlcnJvcjogRXJyb3I/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGZhaWx1cmVSZXNwb25zZTogVVJMUmVzcG9uc2U/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHByZXZpb3VzRmFpbHVyZUNvdW50OiBJbnQgeyBnZXQgfQogICAgb3BlbiB2YXIgcHJvcG9zZWRDcmVkZW50aWFsOiBVUkxDcmVkZW50aWFsPyB7IGdldCB9CiAgICBvcGVuIHZhciBwcm90ZWN0aW9uU3BhY2U6IFVSTFByb3RlY3Rpb25TcGFjZSB7IGdldCB9CiAgICBvcGVuIHZhciBzZW5kZXI6IFVSTEF1dGhlbnRpY2F0aW9uQ2hhbGxlbmdlU2VuZGVyPyB7IGdldCB9Cn0Kb3BlbiBjbGFzcyBVUkxDYWNoZSA6IEFueU9iamVjdCwgQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sIHsKICAgIG9wZW4gY2xhc3MgdmFyIHNoYXJlZDogVVJMQ2FjaGUgeyBnZXQgc2V0IH0KICAgIHB1YmxpYyBpbml0KG1lbW9yeUNhcGFjaXR5OiBJbnQsIGRpc2tDYXBhY2l0eTogSW50LCBkaXNrUGF0aCBwYXRoOiBTdHJpbmc/KSB7fQogICAgb3BlbiB2YXIgY3VycmVudERpc2tVc2FnZTogSW50IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGN1cnJlbnRNZW1vcnlVc2FnZTogSW50IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGRpc2tDYXBhY2l0eTogSW50IHsgZ2V0IH0KICAgIG9wZW4gdmFyIG1lbW9yeUNhcGFjaXR5OiBJbnQgeyBnZXQgfQogICAgb3BlbiBmdW5jIGNhY2hlZFJlc3BvbnNlKGZvciByZXF1ZXN0OiBVUkxSZXF1ZXN0KSAtPiBDYWNoZWRVUkxSZXNwb25zZT8ge30KICAgIG9wZW4gZnVuYyBnZXRDYWNoZWRSZXNwb25zZShmb3IgZGF0YVRhc2s6IFVSTFNlc3Npb25EYXRhVGFzaywgY29tcGxldGlvbkhhbmRsZXI6IEBlc2NhcGluZyAoQ2FjaGVkVVJMUmVzcG9uc2U/KSAtPiBWb2lkKSB7fQogICAgb3BlbiBmdW5jIHJlbW92ZUFsbENhY2hlZFJlc3BvbnNlcygpIHt9CiAgICBvcGVuIGZ1bmMgcmVtb3ZlQ2FjaGVkUmVzcG9uc2UoZm9yIGRhdGFUYXNrOiBVUkxTZXNzaW9uRGF0YVRhc2spIHt9CiAgICBvcGVuIGZ1bmMgcmVtb3ZlQ2FjaGVkUmVzcG9uc2VzKHNpbmNlIGRhdGU6IERhdGUpIHt9CiAgICBvcGVuIGZ1bmMgc3RvcmVDYWNoZWRSZXNwb25zZShfIGNhY2hlZFJlc3BvbnNlOiBDYWNoZWRVUkxSZXNwb25zZSwgZm9yIGRhdGFUYXNrOiBVUkxTZXNzaW9uRGF0YVRhc2spIHt9Cn0Kb3BlbiBjbGFzcyBVUkxDcmVkZW50aWFsIDogQW55T2JqZWN0LCBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNDb2RpbmcsIE5TQ29weWluZywgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wsIE5TU2VjdXJlQ29kaW5nIHsKICAgIHB1YmxpYyBpbml0KHVzZXI6IFN0cmluZywgcGFzc3dvcmQ6IFN0cmluZywgcGVyc2lzdGVuY2U6IFBlcnNpc3RlbmNlKSB7fQogICAgb3BlbiB2YXIgaGFzUGFzc3dvcmQ6IEJvb2wgeyBnZXQgfQogICAgb3BlbiB2YXIgcGFzc3dvcmQ6IFN0cmluZz8geyBnZXQgfQogICAgb3BlbiB2YXIgcGVyc2lzdGVuY2U6IFBlcnNpc3RlbmNlIHsgZ2V0IH0KICAgIG9wZW4gdmFyIHVzZXI6IFN0cmluZz8geyBnZXQgfQp9Cm9wZW4gY2xhc3MgVVJMQ3JlZGVudGlhbFN0b3JhZ2UgOiBBbnlPYmplY3QsIEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCB7CiAgICBvcGVuIGNsYXNzIHZhciBzaGFyZWQ6IFVSTENyZWRlbnRpYWxTdG9yYWdlIHsgZ2V0IH0KICAgIG9wZW4gdmFyIGFsbENyZWRlbnRpYWxzOiBbVVJMUHJvdGVjdGlvblNwYWNlOiBbU3RyaW5nOiBVUkxDcmVkZW50aWFsXV0geyBnZXQgfQogICAgb3BlbiBmdW5jIGNyZWRlbnRpYWxzKGZvciBzcGFjZTogVVJMUHJvdGVjdGlvblNwYWNlKSAtPiBbU3RyaW5nOiBVUkxDcmVkZW50aWFsXT8ge30KICAgIG9wZW4gZnVuYyBkZWZhdWx0Q3JlZGVudGlhbChmb3Igc3BhY2U6IFVSTFByb3RlY3Rpb25TcGFjZSkgLT4gVVJMQ3JlZGVudGlhbD8ge30KICAgIHB1YmxpYyBmdW5jIGdldENyZWRlbnRpYWxzKGZvciBwcm90ZWN0aW9uU3BhY2U6IFVSTFByb3RlY3Rpb25TcGFjZSwgdGFzazogVVJMU2Vzc2lvblRhc2ssIGNvbXBsZXRpb25IYW5kbGVyOiAoW1N0cmluZzogVVJMQ3JlZGVudGlhbF0/KSAtPiBWb2lkKSB7fQogICAgcHVibGljIGZ1bmMgZ2V0RGVmYXVsdENyZWRlbnRpYWwoZm9yIHNwYWNlOiBVUkxQcm90ZWN0aW9uU3BhY2UsIHRhc2s6IFVSTFNlc3Npb25UYXNrLCBjb21wbGV0aW9uSGFuZGxlcjogKFVSTENyZWRlbnRpYWw/KSAtPiBWb2lkKSB7fQogICAgb3BlbiBmdW5jIHJlbW92ZShfIGNyZWRlbnRpYWw6IFVSTENyZWRlbnRpYWwsIGZvciBzcGFjZTogVVJMUHJvdGVjdGlvblNwYWNlKSB7fQogICAgb3BlbiBmdW5jIHJlbW92ZShfIGNyZWRlbnRpYWw6IFVSTENyZWRlbnRpYWwsIGZvciBzcGFjZTogVVJMUHJvdGVjdGlvblNwYWNlLCBvcHRpb25zOiBbU3RyaW5nOiBBbnlPYmplY3RdPyA9IHgpIHt9CiAgICBwdWJsaWMgZnVuYyByZW1vdmUoXyBjcmVkZW50aWFsOiBVUkxDcmVkZW50aWFsLCBmb3IgcHJvdGVjdGlvblNwYWNlOiBVUkxQcm90ZWN0aW9uU3BhY2UsIG9wdGlvbnM6IFtTdHJpbmc6IEFueU9iamVjdF0/ID0geCwgdGFzazogVVJMU2Vzc2lvblRhc2spIHt9CiAgICBvcGVuIGZ1bmMgc2V0KF8gY3JlZGVudGlhbDogVVJMQ3JlZGVudGlhbCwgZm9yIHNwYWNlOiBVUkxQcm90ZWN0aW9uU3BhY2UpIHt9CiAgICBwdWJsaWMgZnVuYyBzZXQoXyBjcmVkZW50aWFsOiBVUkxDcmVkZW50aWFsLCBmb3IgcHJvdGVjdGlvblNwYWNlOiBVUkxQcm90ZWN0aW9uU3BhY2UsIHRhc2s6IFVSTFNlc3Npb25UYXNrKSB7fQogICAgb3BlbiBmdW5jIHNldERlZmF1bHRDcmVkZW50aWFsKF8gY3JlZGVudGlhbDogVVJMQ3JlZGVudGlhbCwgZm9yIHNwYWNlOiBVUkxQcm90ZWN0aW9uU3BhY2UpIHt9CiAgICBwdWJsaWMgZnVuYyBzZXREZWZhdWx0Q3JlZGVudGlhbChfIGNyZWRlbnRpYWw6IFVSTENyZWRlbnRpYWwsIGZvciBwcm90ZWN0aW9uU3BhY2U6IFVSTFByb3RlY3Rpb25TcGFjZSwgdGFzazogVVJMU2Vzc2lvblRhc2spIHt9Cn0Kb3BlbiBjbGFzcyBVUkxQcm90ZWN0aW9uU3BhY2UgOiBBbnlPYmplY3QsIEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU0NvcHlpbmcsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sIHsKICAgIHB1YmxpYyBpbml0KGhvc3Q6IFN0cmluZywgcG9ydDogSW50LCBwcm90b2NvbDogU3RyaW5nPywgcmVhbG06IFN0cmluZz8sIGF1dGhlbnRpY2F0aW9uTWV0aG9kOiBTdHJpbmc/KSB7fQogICAgcHVibGljIGluaXQocHJveHlIb3N0IGhvc3Q6IFN0cmluZywgcG9ydDogSW50LCB0eXBlOiBTdHJpbmc/LCByZWFsbTogU3RyaW5nPywgYXV0aGVudGljYXRpb25NZXRob2Q6IFN0cmluZz8pIHt9CiAgICBvcGVuIHZhciBhdXRoZW50aWNhdGlvbk1ldGhvZDogU3RyaW5nIHsgZ2V0IH0KICAgIG9wZW4gdmFyIGhvc3Q6IFN0cmluZyB7IGdldCB9CiAgICBvcGVuIHZhciBwb3J0OiBJbnQgeyBnZXQgfQogICAgb3BlbiB2YXIgcHJvdG9jb2w6IFN0cmluZz8geyBnZXQgfQogICAgb3BlbiB2YXIgcHJveHlUeXBlOiBTdHJpbmc/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHJlYWxtOiBTdHJpbmc/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHJlY2VpdmVzQ3JlZGVudGlhbFNlY3VyZWx5OiBCb29sIHsgZ2V0IH0KfQpvcGVuIGNsYXNzIFVSTFByb3RvY29sIDogQW55T2JqZWN0LCBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wgewogICAgb3BlbiBjbGFzcyBmdW5jIGNhbkluaXQod2l0aCByZXF1ZXN0OiBVUkxSZXF1ZXN0KSAtPiBCb29sIHt9CiAgICBvcGVuIGNsYXNzIGZ1bmMgY2Fub25pY2FsUmVxdWVzdChmb3IgcmVxdWVzdDogVVJMUmVxdWVzdCkgLT4gVVJMUmVxdWVzdCB7fQogICAgb3BlbiBjbGFzcyBmdW5jIHByb3BlcnR5KGZvcktleSBrZXk6IFN0cmluZywgaW4gcmVxdWVzdDogVVJMUmVxdWVzdCkgLT4gQW55PyB7fQogICAgb3BlbiBjbGFzcyBmdW5jIHJlZ2lzdGVyQ2xhc3MoXyBwcm90b2NvbENsYXNzOiBBbnlDbGFzcykgLT4gQm9vbCB7fQogICAgb3BlbiBjbGFzcyBmdW5jIHJlbW92ZVByb3BlcnR5KGZvcktleSBrZXk6IFN0cmluZywgaW4gcmVxdWVzdDogTlNNdXRhYmxlVVJMUmVxdWVzdCkge30KICAgIG9wZW4gY2xhc3MgZnVuYyByZXF1ZXN0SXNDYWNoZUVxdWl2YWxlbnQoXyBhOiBVUkxSZXF1ZXN0LCB0byBiOiBVUkxSZXF1ZXN0KSAtPiBCb29sIHt9CiAgICBvcGVuIGNsYXNzIGZ1bmMgc2V0UHJvcGVydHkoXyB2YWx1ZTogQW55LCBmb3JLZXkga2V5OiBTdHJpbmcsIGluIHJlcXVlc3Q6IE5TTXV0YWJsZVVSTFJlcXVlc3QpIHt9CiAgICBvcGVuIGNsYXNzIGZ1bmMgdW5yZWdpc3RlckNsYXNzKF8gcHJvdG9jb2xDbGFzczogQW55Q2xhc3MpIHt9CiAgICBwdWJsaWMgcmVxdWlyZWQgaW5pdChyZXF1ZXN0OiBVUkxSZXF1ZXN0LCBjYWNoZWRSZXNwb25zZTogQ2FjaGVkVVJMUmVzcG9uc2U/LCBjbGllbnQ6IFVSTFByb3RvY29sQ2xpZW50Pykge30KICAgIHB1YmxpYyByZXF1aXJlZCBjb252ZW5pZW5jZSBpbml0KHRhc2s6IFVSTFNlc3Npb25UYXNrLCBjYWNoZWRSZXNwb25zZTogQ2FjaGVkVVJMUmVzcG9uc2U/LCBjbGllbnQ6IFVSTFByb3RvY29sQ2xpZW50Pykge30KICAgIG9wZW4gdmFyIGNhY2hlZFJlc3BvbnNlOiBDYWNoZWRVUkxSZXNwb25zZT8geyBnZXQgfQogICAgb3BlbiB2YXIgY2xpZW50OiBVUkxQcm90b2NvbENsaWVudD8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHJlcXVlc3Q6IFVSTFJlcXVlc3QgeyBnZXQgfQogICAgb3BlbiB2YXIgdGFzazogVVJMU2Vzc2lvblRhc2s/IHsgZ2V0IHNldCB9CiAgICBvcGVuIGZ1bmMgc3RhcnRMb2FkaW5nKCkge30KICAgIG9wZW4gZnVuYyBzdG9wTG9hZGluZygpIHt9Cn0Kb3BlbiBjbGFzcyBVUkxSZXNwb25zZSA6IEFueU9iamVjdCwgQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TQ29kaW5nLCBOU0NvcHlpbmcsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBOU1NlY3VyZUNvZGluZyB7CiAgICBwdWJsaWMgaW5pdCh1cmw6IFVSTCwgbWltZVR5cGU6IFN0cmluZz8sIGV4cGVjdGVkQ29udGVudExlbmd0aCBsZW5ndGg6IEludCwgdGV4dEVuY29kaW5nTmFtZSBuYW1lOiBTdHJpbmc/KSB7fQogICAgb3BlbiB2YXIgZXhwZWN0ZWRDb250ZW50TGVuZ3RoOiBJbnQ2NCB7IGdldCB9CiAgICBvcGVuIHZhciBtaW1lVHlwZTogU3RyaW5nPyB7IGdldCB9CiAgICBvcGVuIHZhciBzdWdnZXN0ZWRGaWxlbmFtZTogU3RyaW5nPyB7IGdldCB9CiAgICBvcGVuIHZhciB0ZXh0RW5jb2RpbmdOYW1lOiBTdHJpbmc/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHVybDogVVJMPyB7IGdldCB9Cn0Kb3BlbiBjbGFzcyBVUkxTZXNzaW9uIDogQW55T2JqZWN0LCBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wsIFVSTFNlc3Npb25Qcm90b2NvbCB7CiAgICBvcGVuIGNsYXNzIHZhciBzaGFyZWQ6IFVSTFNlc3Npb24geyBnZXQgfQogICAgcHVibGljIGluaXQoY29uZmlndXJhdGlvbjogVVJMU2Vzc2lvbkNvbmZpZ3VyYXRpb24pIHt9CiAgICBwdWJsaWMgaW5pdChjb25maWd1cmF0aW9uOiBVUkxTZXNzaW9uQ29uZmlndXJhdGlvbiwgZGVsZWdhdGU6IFVSTFNlc3Npb25EZWxlZ2F0ZT8sIGRlbGVnYXRlUXVldWUgcXVldWU6IE9wZXJhdGlvblF1ZXVlPykge30KICAgIG9wZW4gdmFyIGNvbmZpZ3VyYXRpb246IFVSTFNlc3Npb25Db25maWd1cmF0aW9uIHsgZ2V0IH0KICAgIG9wZW4gdmFyIGRlbGVnYXRlOiBVUkxTZXNzaW9uRGVsZWdhdGU/IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBkZWxlZ2F0ZVF1ZXVlOiBPcGVyYXRpb25RdWV1ZSB7IGdldCB9CiAgICBvcGVuIHZhciBzZXNzaW9uRGVzY3JpcHRpb246IFN0cmluZz8geyBnZXQgc2V0IH0KICAgIG9wZW4gZnVuYyBkYXRhVGFzayh3aXRoIHJlcXVlc3Q6IFVSTFJlcXVlc3QpIC0+IFVSTFNlc3Npb25EYXRhVGFzayB7fQogICAgb3BlbiBmdW5jIGRhdGFUYXNrKHdpdGggcmVxdWVzdDogVVJMUmVxdWVzdCwgY29tcGxldGlvbkhhbmRsZXI6IEBlc2NhcGluZyAoRGF0YT8sIFVSTFJlc3BvbnNlPywgRXJyb3I/KSAtPiBWb2lkKSAtPiBVUkxTZXNzaW9uRGF0YVRhc2sge30KICAgIG9wZW4gZnVuYyBkb3dubG9hZFRhc2sod2l0aCByZXF1ZXN0OiBVUkxSZXF1ZXN0KSAtPiBVUkxTZXNzaW9uRG93bmxvYWRUYXNrIHt9CiAgICBvcGVuIGZ1bmMgZG93bmxvYWRUYXNrKHdpdGggcmVxdWVzdDogVVJMUmVxdWVzdCwgY29tcGxldGlvbkhhbmRsZXI6IEBlc2NhcGluZyAoVVJMPywgVVJMUmVzcG9uc2U/LCBFcnJvcj8pIC0+IFZvaWQpIC0+IFVSTFNlc3Npb25Eb3dubG9hZFRhc2sge30KICAgIG9wZW4gZnVuYyBkb3dubG9hZFRhc2sod2l0aFJlc3VtZURhdGEgcmVzdW1lRGF0YTogRGF0YSkgLT4gVVJMU2Vzc2lvbkRvd25sb2FkVGFzayB7fQogICAgb3BlbiBmdW5jIGRvd25sb2FkVGFzayh3aXRoUmVzdW1lRGF0YSByZXN1bWVEYXRhOiBEYXRhLCBjb21wbGV0aW9uSGFuZGxlcjogQGVzY2FwaW5nIChVUkw/LCBVUkxSZXNwb25zZT8sIEVycm9yPykgLT4gVm9pZCkgLT4gVVJMU2Vzc2lvbkRvd25sb2FkVGFzayB7fQogICAgb3BlbiBmdW5jIGZpbmlzaFRhc2tzQW5kSW52YWxpZGF0ZSgpIHt9CiAgICBvcGVuIGZ1bmMgZmx1c2goY29tcGxldGlvbkhhbmRsZXI6IEBlc2NhcGluZyAoKSAtPiBWb2lkKSB7fQogICAgb3BlbiBmdW5jIGdldEFsbFRhc2tzKGNvbXBsZXRpb25IYW5kbGVyOiBAZXNjYXBpbmcgKFtVUkxTZXNzaW9uVGFza10pIC0+IFZvaWQpIHt9CiAgICBvcGVuIGZ1bmMgZ2V0VGFza3NXaXRoQ29tcGxldGlvbkhhbmRsZXIoY29tcGxldGlvbkhhbmRsZXI6IEBlc2NhcGluZyAoW1VSTFNlc3Npb25EYXRhVGFza10sIFtVUkxTZXNzaW9uVXBsb2FkVGFza10sIFtVUkxTZXNzaW9uRG93bmxvYWRUYXNrXSkgLT4gVm9pZCkge30KICAgIG9wZW4gZnVuYyBpbnZhbGlkYXRlQW5kQ2FuY2VsKCkge30KICAgIG9wZW4gZnVuYyByZXNldChjb21wbGV0aW9uSGFuZGxlcjogQGVzY2FwaW5nICgpIC0+IFZvaWQpIHt9CiAgICBvcGVuIGZ1bmMgc3RyZWFtVGFzayh3aXRoSG9zdE5hbWUgaG9zdG5hbWU6IFN0cmluZywgcG9ydDogSW50KSAtPiBVUkxTZXNzaW9uU3RyZWFtVGFzayB7fQogICAgb3BlbiBmdW5jIHVwbG9hZFRhc2sod2l0aCByZXF1ZXN0OiBVUkxSZXF1ZXN0LCBmcm9tIGJvZHlEYXRhOiBEYXRhKSAtPiBVUkxTZXNzaW9uVXBsb2FkVGFzayB7fQogICAgb3BlbiBmdW5jIHVwbG9hZFRhc2sod2l0aCByZXF1ZXN0OiBVUkxSZXF1ZXN0LCBmcm9tIGJvZHlEYXRhOiBEYXRhPywgY29tcGxldGlvbkhhbmRsZXI6IEBlc2NhcGluZyAoRGF0YT8sIFVSTFJlc3BvbnNlPywgRXJyb3I/KSAtPiBWb2lkKSAtPiBVUkxTZXNzaW9uVXBsb2FkVGFzayB7fQogICAgb3BlbiBmdW5jIHVwbG9hZFRhc2sod2l0aCByZXF1ZXN0OiBVUkxSZXF1ZXN0LCBmcm9tRmlsZSBmaWxlVVJMOiBVUkwpIC0+IFVSTFNlc3Npb25VcGxvYWRUYXNrIHt9CiAgICBvcGVuIGZ1bmMgdXBsb2FkVGFzayh3aXRoIHJlcXVlc3Q6IFVSTFJlcXVlc3QsIGZyb21GaWxlIGZpbGVVUkw6IFVSTCwgY29tcGxldGlvbkhhbmRsZXI6IEBlc2NhcGluZyAoRGF0YT8sIFVSTFJlc3BvbnNlPywgRXJyb3I/KSAtPiBWb2lkKSAtPiBVUkxTZXNzaW9uVXBsb2FkVGFzayB7fQogICAgb3BlbiBmdW5jIHVwbG9hZFRhc2sod2l0aFN0cmVhbWVkUmVxdWVzdCByZXF1ZXN0OiBVUkxSZXF1ZXN0KSAtPiBVUkxTZXNzaW9uVXBsb2FkVGFzayB7fQp9Cm9wZW4gY2xhc3MgVVJMU2Vzc2lvbkNvbmZpZ3VyYXRpb24gOiBBbnlPYmplY3QsIEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU0NvcHlpbmcsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sIHsKICAgIG9wZW4gY2xhc3MgdmFyIGRlZmF1bHQ6IFVSTFNlc3Npb25Db25maWd1cmF0aW9uIHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgdmFyIGVwaGVtZXJhbDogVVJMU2Vzc2lvbkNvbmZpZ3VyYXRpb24geyBnZXQgfQogICAgb3BlbiB2YXIgYWxsb3dzQ2VsbHVsYXJBY2Nlc3M6IEJvb2wgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGNvbm5lY3Rpb25Qcm94eURpY3Rpb25hcnk6IFtBbnlIYXNoYWJsZTogQW55XT8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGh0dHBBZGRpdGlvbmFsSGVhZGVyczogW0FueUhhc2hhYmxlOiBBbnldPyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgaHR0cENvb2tpZUFjY2VwdFBvbGljeTogSFRUUENvb2tpZS5BY2NlcHRQb2xpY3kgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGh0dHBDb29raWVTdG9yYWdlOiBIVFRQQ29va2llU3RvcmFnZT8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGh0dHBNYXhpbXVtQ29ubmVjdGlvbnNQZXJIb3N0OiBJbnQgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGh0dHBTaG91bGRTZXRDb29raWVzOiBCb29sIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBodHRwU2hvdWxkVXNlUGlwZWxpbmluZzogQm9vbCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgaWRlbnRpZmllcjogU3RyaW5nPyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgaXNEaXNjcmV0aW9uYXJ5OiBCb29sIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBuZXR3b3JrU2VydmljZVR5cGU6IFVSTFJlcXVlc3QuTmV0d29ya1NlcnZpY2VUeXBlIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBwcm90b2NvbENsYXNzZXM6IFtBbnlDbGFzc10/IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciByZXF1ZXN0Q2FjaGVQb2xpY3k6IFVSTFJlcXVlc3QuQ2FjaGVQb2xpY3kgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHNoYXJlZENvbnRhaW5lcklkZW50aWZpZXI6IFN0cmluZz8geyBnZXQgfQogICAgb3BlbiB2YXIgc2hvdWxkVXNlRXh0ZW5kZWRCYWNrZ3JvdW5kSWRsZU1vZGU6IEJvb2wgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHRpbWVvdXRJbnRlcnZhbEZvclJlcXVlc3Q6IFRpbWVJbnRlcnZhbCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgdGltZW91dEludGVydmFsRm9yUmVzb3VyY2U6IFRpbWVJbnRlcnZhbCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgdXJsQ2FjaGU6IFVSTENhY2hlPyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgdXJsQ3JlZGVudGlhbFN0b3JhZ2U6IFVSTENyZWRlbnRpYWxTdG9yYWdlPyB7IGdldCBzZXQgfQp9Cm9wZW4gY2xhc3MgVVJMU2Vzc2lvbkRhdGFUYXNrIDogQW55T2JqZWN0LCBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNDb3B5aW5nLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCwgUHJvZ3Jlc3NSZXBvcnRpbmcsIFVSTFNlc3Npb25UYXNrIHsKfQpvcGVuIGNsYXNzIFVSTFNlc3Npb25Eb3dubG9hZFRhc2sgOiBBbnlPYmplY3QsIEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU0NvcHlpbmcsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBQcm9ncmVzc1JlcG9ydGluZywgVVJMU2Vzc2lvblRhc2sgewogICAgb3BlbiBmdW5jIGNhbmNlbChieVByb2R1Y2luZ1Jlc3VtZURhdGEgY29tcGxldGlvbkhhbmRsZXI6IEBlc2NhcGluZyAoRGF0YT8pIC0+IFZvaWQpIHt9Cn0Kb3BlbiBjbGFzcyBVUkxTZXNzaW9uU3RyZWFtVGFzayA6IEFueU9iamVjdCwgQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TQ29weWluZywgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wsIFByb2dyZXNzUmVwb3J0aW5nLCBVUkxTZXNzaW9uVGFzayB7CiAgICBvcGVuIGZ1bmMgY2FwdHVyZVN0cmVhbXMoKSB7fQogICAgb3BlbiBmdW5jIGNsb3NlUmVhZCgpIHt9CiAgICBvcGVuIGZ1bmMgY2xvc2VXcml0ZSgpIHt9CiAgICBvcGVuIGZ1bmMgcmVhZERhdGEob2ZNaW5MZW5ndGggbWluQnl0ZXM6IEludCwgbWF4TGVuZ3RoIG1heEJ5dGVzOiBJbnQsIHRpbWVvdXQ6IFRpbWVJbnRlcnZhbCwgY29tcGxldGlvbkhhbmRsZXI6IEBlc2NhcGluZyAoRGF0YT8sIEJvb2wsIEVycm9yPykgLT4gVm9pZCkge30KICAgIG9wZW4gZnVuYyBzdGFydFNlY3VyZUNvbm5lY3Rpb24oKSB7fQogICAgb3BlbiBmdW5jIHN0b3BTZWN1cmVDb25uZWN0aW9uKCkge30KICAgIG9wZW4gZnVuYyB3cml0ZShfIGRhdGE6IERhdGEsIHRpbWVvdXQ6IFRpbWVJbnRlcnZhbCwgY29tcGxldGlvbkhhbmRsZXI6IEBlc2NhcGluZyAoRXJyb3I/KSAtPiBWb2lkKSB7fQp9Cm9wZW4gY2xhc3MgVVJMU2Vzc2lvblRhc2sgOiBBbnlPYmplY3QsIEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU0NvcHlpbmcsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBQcm9ncmVzc1JlcG9ydGluZyB7CiAgICBwdWJsaWMgc3RhdGljIHZhciBkZWZhdWx0UHJpb3JpdHk6IEZsb2F0IHsgZ2V0IH0KICAgIHB1YmxpYyBzdGF0aWMgdmFyIGhpZ2hQcmlvcml0eTogRmxvYXQgeyBnZXQgfQogICAgcHVibGljIHN0YXRpYyB2YXIgbG93UHJpb3JpdHk6IEZsb2F0IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGNvdW50T2ZCeXRlc0NsaWVudEV4cGVjdHNUb1JlY2VpdmU6IEludDY0IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGNvdW50T2ZCeXRlc0NsaWVudEV4cGVjdHNUb1NlbmQ6IEludDY0IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGNvdW50T2ZCeXRlc0V4cGVjdGVkVG9SZWNlaXZlOiBJbnQ2NCB7IGdldCB9CiAgICBvcGVuIHZhciBjb3VudE9mQnl0ZXNFeHBlY3RlZFRvU2VuZDogSW50NjQgeyBnZXQgfQogICAgb3BlbiB2YXIgY291bnRPZkJ5dGVzUmVjZWl2ZWQ6IEludDY0IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGNvdW50T2ZCeXRlc1NlbnQ6IEludDY0IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGN1cnJlbnRSZXF1ZXN0OiBVUkxSZXF1ZXN0PyB7IGdldCB9CiAgICBvcGVuIHZhciBlcnJvcjogRXJyb3I/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIG9yaWdpbmFsUmVxdWVzdDogVVJMUmVxdWVzdD8geyBnZXQgfQogICAgb3BlbiB2YXIgcHJpb3JpdHk6IEZsb2F0IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciByZXNwb25zZTogVVJMUmVzcG9uc2U/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHN0YXRlOiBVUkxTZXNzaW9uVGFzay5TdGF0ZSB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgdGFza0Rlc2NyaXB0aW9uOiBTdHJpbmc/IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciB0YXNrSWRlbnRpZmllcjogSW50IHsgZ2V0IH0KICAgIG9wZW4gZnVuYyBjYW5jZWwoKSB7fQogICAgb3BlbiBmdW5jIHJlc3VtZSgpIHt9CiAgICBvcGVuIGZ1bmMgc3VzcGVuZCgpIHt9Cn0Kb3BlbiBjbGFzcyBVUkxTZXNzaW9uVXBsb2FkVGFzayA6IEFueU9iamVjdCwgQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TQ29weWluZywgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wsIFByb2dyZXNzUmVwb3J0aW5nLCBVUkxTZXNzaW9uRGF0YVRhc2ssIFVSTFNlc3Npb25UYXNrIHsKfQpvcGVuIGNsYXNzIFVuaXQgOiBBbnlPYmplY3QsIEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU0NvZGluZywgTlNDb3B5aW5nLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCwgTlNTZWN1cmVDb2RpbmcgewogICAgcHVibGljIHJlcXVpcmVkIGluaXQoc3ltYm9sOiBTdHJpbmcpIHt9CiAgICBvcGVuIHZhciBzeW1ib2w6IFN0cmluZyB7IGdldCB9Cn0Kb3BlbiBjbGFzcyBVbml0Q29udmVydGVyIDogQW55T2JqZWN0LCBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wgewogICAgb3BlbiBmdW5jIGJhc2VVbml0VmFsdWUoZnJvbVZhbHVlIHZhbHVlOiBEb3VibGUpIC0+IERvdWJsZSB7fQogICAgb3BlbiBmdW5jIHZhbHVlKGZyb21CYXNlVW5pdFZhbHVlIGJhc2VVbml0VmFsdWU6IERvdWJsZSkgLT4gRG91YmxlIHt9Cn0Kb3BlbiBjbGFzcyBVbml0Q29udmVydGVyTGluZWFyIDogQW55T2JqZWN0LCBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNDb2RpbmcsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBOU1NlY3VyZUNvZGluZywgVW5pdENvbnZlcnRlciB7CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdChjb2VmZmljaWVudDogRG91YmxlKSB7fQogICAgcHVibGljIGluaXQoY29lZmZpY2llbnQ6IERvdWJsZSwgY29uc3RhbnQ6IERvdWJsZSkge30KICAgIG9wZW4gdmFyIGNvZWZmaWNpZW50OiBEb3VibGUgeyBnZXQgfQogICAgb3BlbiB2YXIgY29uc3RhbnQ6IERvdWJsZSB7IGdldCB9Cn0Kb3BlbiBjbGFzcyBVc2VyRGVmYXVsdHMgOiBBbnlPYmplY3QsIEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCB7CiAgICBwdWJsaWMgc3RhdGljIHZhciBhcmd1bWVudERvbWFpbjogU3RyaW5nIHsgZ2V0IH0KICAgIHB1YmxpYyBzdGF0aWMgdmFyIGRpZENoYW5nZU5vdGlmaWNhdGlvbiB7IGdldCB9CiAgICBwdWJsaWMgc3RhdGljIHZhciBnbG9iYWxEb21haW46IFN0cmluZyB7IGdldCB9CiAgICBwdWJsaWMgc3RhdGljIHZhciByZWdpc3RyYXRpb25Eb21haW46IFN0cmluZyB7IGdldCB9CiAgICBvcGVuIGNsYXNzIHZhciBzdGFuZGFyZDogVXNlckRlZmF1bHRzIHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgZnVuYyByZXNldFN0YW5kYXJkVXNlckRlZmF1bHRzKCkge30KICAgIHB1YmxpYyBpbml0PyhzdWl0ZU5hbWUgc3VpdGVuYW1lOiBTdHJpbmc/KSB7fQogICAgb3BlbiB2YXIgdm9sYXRpbGVEb21haW5OYW1lczogW1N0cmluZ10geyBnZXQgfQogICAgb3BlbiBmdW5jIGFkZFN1aXRlKG5hbWVkIHN1aXRlTmFtZTogU3RyaW5nKSB7fQogICAgb3BlbiBmdW5jIGFycmF5KGZvcktleSBkZWZhdWx0TmFtZTogU3RyaW5nKSAtPiBbQW55XT8ge30KICAgIG9wZW4gZnVuYyBib29sKGZvcktleSBkZWZhdWx0TmFtZTogU3RyaW5nKSAtPiBCb29sIHt9CiAgICBvcGVuIGZ1bmMgZGF0YShmb3JLZXkgZGVmYXVsdE5hbWU6IFN0cmluZykgLT4gRGF0YT8ge30KICAgIG9wZW4gZnVuYyBkaWN0aW9uYXJ5KGZvcktleSBkZWZhdWx0TmFtZTogU3RyaW5nKSAtPiBbU3RyaW5nOiBBbnldPyB7fQogICAgb3BlbiBmdW5jIGRpY3Rpb25hcnlSZXByZXNlbnRhdGlvbigpIC0+IFtTdHJpbmc6IEFueV0ge30KICAgIG9wZW4gZnVuYyBkb3VibGUoZm9yS2V5IGRlZmF1bHROYW1lOiBTdHJpbmcpIC0+IERvdWJsZSB7fQogICAgb3BlbiBmdW5jIGZsb2F0KGZvcktleSBkZWZhdWx0TmFtZTogU3RyaW5nKSAtPiBGbG9hdCB7fQogICAgb3BlbiBmdW5jIGludGVnZXIoZm9yS2V5IGRlZmF1bHROYW1lOiBTdHJpbmcpIC0+IEludCB7fQogICAgb3BlbiBmdW5jIG9iamVjdChmb3JLZXkgZGVmYXVsdE5hbWU6IFN0cmluZykgLT4gQW55PyB7fQogICAgb3BlbiBmdW5jIG9iamVjdElzRm9yY2VkKGZvcktleSBrZXk6IFN0cmluZykgLT4gQm9vbCB7fQogICAgb3BlbiBmdW5jIG9iamVjdElzRm9yY2VkKGZvcktleSBrZXk6IFN0cmluZywgaW5Eb21haW4gZG9tYWluOiBTdHJpbmcpIC0+IEJvb2wge30KICAgIG9wZW4gZnVuYyBwZXJzaXN0ZW50RG9tYWluKGZvck5hbWUgZG9tYWluTmFtZTogU3RyaW5nKSAtPiBbU3RyaW5nOiBBbnldPyB7fQogICAgb3BlbiBmdW5jIHJlZ2lzdGVyKGRlZmF1bHRzIHJlZ2lzdHJhdGlvbkRpY3Rpb25hcnk6IFtTdHJpbmc6IEFueV0pIHt9CiAgICBvcGVuIGZ1bmMgcmVtb3ZlT2JqZWN0KGZvcktleSBkZWZhdWx0TmFtZTogU3RyaW5nKSB7fQogICAgb3BlbiBmdW5jIHJlbW92ZVBlcnNpc3RlbnREb21haW4oZm9yTmFtZSBkb21haW5OYW1lOiBTdHJpbmcpIHt9CiAgICBvcGVuIGZ1bmMgcmVtb3ZlU3VpdGUobmFtZWQgc3VpdGVOYW1lOiBTdHJpbmcpIHt9CiAgICBvcGVuIGZ1bmMgcmVtb3ZlVm9sYXRpbGVEb21haW4oZm9yTmFtZSBkb21haW5OYW1lOiBTdHJpbmcpIHt9CiAgICBvcGVuIGZ1bmMgc2V0KF8gdXJsOiBVUkw/LCBmb3JLZXkgZGVmYXVsdE5hbWU6IFN0cmluZykge30KICAgIG9wZW4gZnVuYyBzZXRQZXJzaXN0ZW50RG9tYWluKF8gZG9tYWluOiBbU3RyaW5nOiBBbnldLCBmb3JOYW1lIGRvbWFpbk5hbWU6IFN0cmluZykge30KICAgIG9wZW4gZnVuYyBzZXRWb2xhdGlsZURvbWFpbihfIGRvbWFpbjogW1N0cmluZzogQW55XSwgZm9yTmFtZSBkb21haW5OYW1lOiBTdHJpbmcpIHt9CiAgICBvcGVuIGZ1bmMgc3RyaW5nKGZvcktleSBkZWZhdWx0TmFtZTogU3RyaW5nKSAtPiBTdHJpbmc/IHt9CiAgICBvcGVuIGZ1bmMgc3RyaW5nQXJyYXkoZm9yS2V5IGRlZmF1bHROYW1lOiBTdHJpbmcpIC0+IFtTdHJpbmddPyB7fQogICAgQGRpc2NhcmRhYmxlUmVzdWx0IG9wZW4gZnVuYyBzeW5jaHJvbml6ZSgpIC0+IEJvb2wge30KICAgIG9wZW4gZnVuYyB1cmwoZm9yS2V5IGRlZmF1bHROYW1lOiBTdHJpbmcpIC0+IFVSTD8ge30KICAgIG9wZW4gZnVuYyB2b2xhdGlsZURvbWFpbihmb3JOYW1lIGRvbWFpbk5hbWU6IFN0cmluZykgLT4gW1N0cmluZzogQW55XSB7fQp9Cm9wZW4gY2xhc3MgWE1MRFREIDogQW55T2JqZWN0LCBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNDb3B5aW5nLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCwgWE1MTm9kZSwgX05TWE1MTm9kZUNvbGxlY3Rpb25UeXBlIHsKICAgIG9wZW4gY2xhc3MgZnVuYyBwcmVkZWZpbmVkRW50aXR5RGVjbGFyYXRpb24oZm9yTmFtZSBuYW1lOiBTdHJpbmcpIC0+IFhNTERURE5vZGU/IHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdChjb250ZW50c09mIHVybDogVVJMLCBvcHRpb25zIG1hc2s6IFhNTE5vZGUuT3B0aW9ucyA9IHgpIHRocm93cyB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQoZGF0YTogRGF0YSwgb3B0aW9ucyBtYXNrOiBYTUxOb2RlLk9wdGlvbnMgPSB4KSB0aHJvd3Mge30KICAgIG9wZW4gdmFyIHB1YmxpY0lEOiBTdHJpbmc/IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBzeXN0ZW1JRDogU3RyaW5nPyB7IGdldCBzZXQgfQogICAgb3BlbiBmdW5jIGFkZENoaWxkKF8gY2hpbGQ6IFhNTE5vZGUpIHt9CiAgICBvcGVuIGZ1bmMgYXR0cmlidXRlRGVjbGFyYXRpb24oZm9yTmFtZSBuYW1lOiBTdHJpbmcsIGVsZW1lbnROYW1lOiBTdHJpbmcpIC0+IFhNTERURE5vZGU/IHt9CiAgICBvcGVuIGZ1bmMgZWxlbWVudERlY2xhcmF0aW9uKGZvck5hbWUgbmFtZTogU3RyaW5nKSAtPiBYTUxEVEROb2RlPyB7fQogICAgb3BlbiBmdW5jIGVudGl0eURlY2xhcmF0aW9uKGZvck5hbWUgbmFtZTogU3RyaW5nKSAtPiBYTUxEVEROb2RlPyB7fQogICAgb3BlbiBmdW5jIGluc2VydENoaWxkKF8gY2hpbGQ6IFhNTE5vZGUsIGF0IGluZGV4OiBJbnQpIHt9CiAgICBvcGVuIGZ1bmMgaW5zZXJ0Q2hpbGRyZW4oXyBjaGlsZHJlbjogW1hNTE5vZGVdLCBhdCBpbmRleDogSW50KSB7fQogICAgb3BlbiBmdW5jIG5vdGF0aW9uRGVjbGFyYXRpb24oZm9yTmFtZSBuYW1lOiBTdHJpbmcpIC0+IFhNTERURE5vZGU/IHt9CiAgICBvcGVuIGZ1bmMgcmVtb3ZlQ2hpbGQoYXQgaW5kZXg6IEludCkge30KICAgIG9wZW4gZnVuYyByZXBsYWNlQ2hpbGQoYXQgaW5kZXg6IEludCwgd2l0aCBub2RlOiBYTUxOb2RlKSB7fQogICAgb3BlbiBmdW5jIHNldENoaWxkcmVuKF8gY2hpbGRyZW46IFtYTUxOb2RlXT8pIHt9Cn0Kb3BlbiBjbGFzcyBYTUxEVEROb2RlIDogQW55T2JqZWN0LCBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNDb3B5aW5nLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCwgWE1MTm9kZSwgX05TWE1MTm9kZUNvbGxlY3Rpb25UeXBlIHsKICAgIHB1YmxpYyBpbml0Pyh4bWxTdHJpbmcgc3RyaW5nOiBTdHJpbmcpIHt9CiAgICBvcGVuIHZhciBkdGRLaW5kOiBYTUxEVEROb2RlLkRUREtpbmQgeyBnZXQgfQogICAgb3BlbiB2YXIgaXNFeHRlcm5hbDogQm9vbCB7IGdldCB9CiAgICBvcGVuIHZhciBub3RhdGlvbk5hbWU6IFN0cmluZz8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHB1YmxpY0lEOiBTdHJpbmc/IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBzeXN0ZW1JRDogU3RyaW5nPyB7IGdldCBzZXQgfQp9Cm9wZW4gY2xhc3MgWE1MRG9jdW1lbnQgOiBBbnlPYmplY3QsIEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU0NvcHlpbmcsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBYTUxOb2RlLCBfTlNYTUxOb2RlQ29sbGVjdGlvblR5cGUgewogICAgb3BlbiBjbGFzcyBmdW5jIHJlcGxhY2VtZW50Q2xhc3MoZm9yIGNsczogQW55Q2xhc3MpIC0+IEFueUNsYXNzIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdChjb250ZW50c09mIHVybDogVVJMLCBvcHRpb25zIG1hc2s6IFhNTE5vZGUuT3B0aW9ucyA9IHgpIHRocm93cyB7fQogICAgcHVibGljIGluaXQoZGF0YTogRGF0YSwgb3B0aW9ucyBtYXNrOiBYTUxOb2RlLk9wdGlvbnMgPSB4KSB0aHJvd3Mge30KICAgIHB1YmxpYyBpbml0KHJvb3RFbGVtZW50IGVsZW1lbnQ6IFhNTEVsZW1lbnQ/KSB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQoeG1sU3RyaW5nIHN0cmluZzogU3RyaW5nLCBvcHRpb25zIG1hc2s6IFhNTE5vZGUuT3B0aW9ucyA9IHgpIHRocm93cyB7fQogICAgb3BlbiB2YXIgY2hhcmFjdGVyRW5jb2Rpbmc6IFN0cmluZz8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGRvY3VtZW50Q29udGVudEtpbmQ6IFhNTERvY3VtZW50LkNvbnRlbnRLaW5kIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBkdGQ6IFhNTERURD8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGlzU3RhbmRhbG9uZTogQm9vbCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgbWltZVR5cGU6IFN0cmluZz8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHZlcnNpb246IFN0cmluZz8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHhtbERhdGE6IERhdGEgeyBnZXQgfQogICAgb3BlbiBmdW5jIGFkZENoaWxkKF8gY2hpbGQ6IFhNTE5vZGUpIHt9CiAgICBvcGVuIGZ1bmMgaW5zZXJ0Q2hpbGQoXyBjaGlsZDogWE1MTm9kZSwgYXQgaW5kZXg6IEludCkge30KICAgIG9wZW4gZnVuYyBpbnNlcnRDaGlsZHJlbihfIGNoaWxkcmVuOiBbWE1MTm9kZV0sIGF0IGluZGV4OiBJbnQpIHt9CiAgICBvcGVuIGZ1bmMgb2JqZWN0KGJ5QXBwbHlpbmdYU0xUIHhzbHQ6IERhdGEsIGFyZ3VtZW50czogW1N0cmluZzogU3RyaW5nXT8pIHRocm93cyAtPiBBbnkge30KICAgIG9wZW4gZnVuYyBvYmplY3QoYnlBcHBseWluZ1hTTFRTdHJpbmcgeHNsdDogU3RyaW5nLCBhcmd1bWVudHM6IFtTdHJpbmc6IFN0cmluZ10/KSB0aHJvd3MgLT4gQW55IHt9CiAgICBvcGVuIGZ1bmMgb2JqZWN0QnlBcHBseWluZ1hTTFQoYXQgeHNsdFVSTDogVVJMLCBhcmd1bWVudHMgYXJndW1lbnQ6IFtTdHJpbmc6IFN0cmluZ10/KSB0aHJvd3MgLT4gQW55IHt9CiAgICBvcGVuIGZ1bmMgcmVtb3ZlQ2hpbGQoYXQgaW5kZXg6IEludCkge30KICAgIG9wZW4gZnVuYyByZXBsYWNlQ2hpbGQoYXQgaW5kZXg6IEludCwgd2l0aCBub2RlOiBYTUxOb2RlKSB7fQogICAgb3BlbiBmdW5jIHJvb3RFbGVtZW50KCkgLT4gWE1MRWxlbWVudD8ge30KICAgIG9wZW4gZnVuYyBzZXRDaGlsZHJlbihfIGNoaWxkcmVuOiBbWE1MTm9kZV0/KSB7fQogICAgb3BlbiBmdW5jIHNldFJvb3RFbGVtZW50KF8gcm9vdDogWE1MRWxlbWVudCkge30KICAgIG9wZW4gZnVuYyB2YWxpZGF0ZSgpIHRocm93cyB7fQogICAgb3BlbiBmdW5jIHhtbERhdGEob3B0aW9uczogWE1MTm9kZS5PcHRpb25zID0geCkgLT4gRGF0YSB7fQp9Cm9wZW4gY2xhc3MgWE1MRWxlbWVudCA6IEFueU9iamVjdCwgQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TQ29weWluZywgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wsIFhNTE5vZGUsIF9OU1hNTE5vZGVDb2xsZWN0aW9uVHlwZSB7CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdChuYW1lOiBTdHJpbmcpIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdChuYW1lOiBTdHJpbmcsIHN0cmluZ1ZhbHVlIHN0cmluZzogU3RyaW5nPykge30KICAgIHB1YmxpYyBpbml0KG5hbWU6IFN0cmluZywgdXJpIFVSSTogU3RyaW5nPykge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KHhtbFN0cmluZyBzdHJpbmc6IFN0cmluZykgdGhyb3dzIHt9CiAgICBvcGVuIHZhciBhdHRyaWJ1dGVzOiBbWE1MTm9kZV0/IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBuYW1lc3BhY2VzOiBbWE1MTm9kZV0/IHsgZ2V0IHNldCB9CiAgICBvcGVuIGZ1bmMgYWRkQXR0cmlidXRlKF8gYXR0cmlidXRlOiBYTUxOb2RlKSB7fQogICAgb3BlbiBmdW5jIGFkZENoaWxkKF8gY2hpbGQ6IFhNTE5vZGUpIHt9CiAgICBvcGVuIGZ1bmMgYWRkTmFtZXNwYWNlKF8gYU5hbWVzcGFjZTogWE1MTm9kZSkge30KICAgIG9wZW4gZnVuYyBhdHRyaWJ1dGUoZm9yTG9jYWxOYW1lIGxvY2FsTmFtZTogU3RyaW5nLCB1cmkgVVJJOiBTdHJpbmc/KSAtPiBYTUxOb2RlPyB7fQogICAgb3BlbiBmdW5jIGF0dHJpYnV0ZShmb3JOYW1lIG5hbWU6IFN0cmluZykgLT4gWE1MTm9kZT8ge30KICAgIG9wZW4gZnVuYyBlbGVtZW50cyhmb3JMb2NhbE5hbWUgbG9jYWxOYW1lOiBTdHJpbmcsIHVyaSBVUkk6IFN0cmluZz8pIC0+IFtYTUxFbGVtZW50XSB7fQogICAgb3BlbiBmdW5jIGVsZW1lbnRzKGZvck5hbWUgbmFtZTogU3RyaW5nKSAtPiBbWE1MRWxlbWVudF0ge30KICAgIG9wZW4gZnVuYyBpbnNlcnRDaGlsZChfIGNoaWxkOiBYTUxOb2RlLCBhdCBpbmRleDogSW50KSB7fQogICAgb3BlbiBmdW5jIGluc2VydENoaWxkcmVuKF8gY2hpbGRyZW46IFtYTUxOb2RlXSwgYXQgaW5kZXg6IEludCkge30KICAgIG9wZW4gZnVuYyBuYW1lc3BhY2UoZm9yUHJlZml4IG5hbWU6IFN0cmluZykgLT4gWE1MTm9kZT8ge30KICAgIG9wZW4gZnVuYyBub3JtYWxpemVBZGphY2VudFRleHROb2Rlc1ByZXNlcnZpbmdDREFUQShfIHByZXNlcnZlOiBCb29sKSB7fQogICAgb3BlbiBmdW5jIHJlbW92ZUF0dHJpYnV0ZShmb3JOYW1lIG5hbWU6IFN0cmluZykge30KICAgIG9wZW4gZnVuYyByZW1vdmVDaGlsZChhdCBpbmRleDogSW50KSB7fQogICAgb3BlbiBmdW5jIHJlbW92ZU5hbWVzcGFjZShmb3JQcmVmaXggbmFtZTogU3RyaW5nKSB7fQogICAgb3BlbiBmdW5jIHJlcGxhY2VDaGlsZChhdCBpbmRleDogSW50LCB3aXRoIG5vZGU6IFhNTE5vZGUpIHt9CiAgICBvcGVuIGZ1bmMgcmVzb2x2ZU5hbWVzcGFjZShmb3JOYW1lIG5hbWU6IFN0cmluZykgLT4gWE1MTm9kZT8ge30KICAgIG9wZW4gZnVuYyByZXNvbHZlUHJlZml4KGZvck5hbWVzcGFjZVVSSSBuYW1lc3BhY2VVUkk6IFN0cmluZykgLT4gU3RyaW5nPyB7fQogICAgb3BlbiBmdW5jIHNldEF0dHJpYnV0ZXNXaXRoKF8gYXR0cmlidXRlczogW1N0cmluZzogU3RyaW5nXSkge30KICAgIG9wZW4gZnVuYyBzZXRDaGlsZHJlbihfIGNoaWxkcmVuOiBbWE1MTm9kZV0/KSB7fQp9Cm9wZW4gY2xhc3MgWE1MTm9kZSA6IEFueU9iamVjdCwgQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TQ29weWluZywgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wsIF9OU1hNTE5vZGVDb2xsZWN0aW9uVHlwZSB7CiAgICBvcGVuIGNsYXNzIGZ1bmMgYXR0cmlidXRlKHdpdGhOYW1lIG5hbWU6IFN0cmluZywgc3RyaW5nVmFsdWU6IFN0cmluZykgLT4gQW55IHt9CiAgICBvcGVuIGNsYXNzIGZ1bmMgYXR0cmlidXRlKHdpdGhOYW1lIG5hbWU6IFN0cmluZywgdXJpOiBTdHJpbmcsIHN0cmluZ1ZhbHVlOiBTdHJpbmcpIC0+IEFueSB7fQogICAgb3BlbiBjbGFzcyBmdW5jIGNvbW1lbnQod2l0aFN0cmluZ1ZhbHVlIHN0cmluZ1ZhbHVlOiBTdHJpbmcpIC0+IEFueSB7fQogICAgb3BlbiBjbGFzcyBmdW5jIGRvY3VtZW50KCkgLT4gQW55IHt9CiAgICBvcGVuIGNsYXNzIGZ1bmMgZG9jdW1lbnQod2l0aFJvb3RFbGVtZW50IGVsZW1lbnQ6IFhNTEVsZW1lbnQpIC0+IEFueSB7fQogICAgb3BlbiBjbGFzcyBmdW5jIGR0ZE5vZGUod2l0aFhNTFN0cmluZyBzdHJpbmc6IFN0cmluZykgLT4gQW55PyB7fQogICAgb3BlbiBjbGFzcyBmdW5jIGVsZW1lbnQod2l0aE5hbWUgbmFtZTogU3RyaW5nKSAtPiBBbnkge30KICAgIG9wZW4gY2xhc3MgZnVuYyBlbGVtZW50KHdpdGhOYW1lIG5hbWU6IFN0cmluZywgY2hpbGRyZW46IFtYTUxOb2RlXT8sIGF0dHJpYnV0ZXM6IFtYTUxOb2RlXT8pIC0+IEFueSB7fQogICAgb3BlbiBjbGFzcyBmdW5jIGVsZW1lbnQod2l0aE5hbWUgbmFtZTogU3RyaW5nLCBzdHJpbmdWYWx1ZSBzdHJpbmc6IFN0cmluZykgLT4gQW55IHt9CiAgICBvcGVuIGNsYXNzIGZ1bmMgZWxlbWVudCh3aXRoTmFtZSBuYW1lOiBTdHJpbmcsIHVyaTogU3RyaW5nKSAtPiBBbnkge30KICAgIG9wZW4gY2xhc3MgZnVuYyBsb2NhbE5hbWUoZm9yTmFtZSBuYW1lOiBTdHJpbmcpIC0+IFN0cmluZyB7fQogICAgb3BlbiBjbGFzcyBmdW5jIG5hbWVzcGFjZSh3aXRoTmFtZSBuYW1lOiBTdHJpbmcsIHN0cmluZ1ZhbHVlOiBTdHJpbmcpIC0+IEFueSB7fQogICAgb3BlbiBjbGFzcyBmdW5jIHByZWRlZmluZWROYW1lc3BhY2UoZm9yUHJlZml4IG5hbWU6IFN0cmluZykgLT4gWE1MTm9kZT8ge30KICAgIG9wZW4gY2xhc3MgZnVuYyBwcmVmaXgoZm9yTmFtZSBuYW1lOiBTdHJpbmcpIC0+IFN0cmluZz8ge30KICAgIHB1YmxpYyBjbGFzcyBmdW5jIHByb2Nlc3NpbmdJbnN0cnVjdGlvbih3aXRoTmFtZSBuYW1lOiBTdHJpbmcsIHN0cmluZ1ZhbHVlOiBTdHJpbmcpIC0+IEFueSB7fQogICAgb3BlbiBjbGFzcyBmdW5jIHRleHQod2l0aFN0cmluZ1ZhbHVlIHN0cmluZ1ZhbHVlOiBTdHJpbmcpIC0+IEFueSB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQoa2luZDogWE1MTm9kZS5LaW5kKSB7fQogICAgcHVibGljIGluaXQoa2luZDogWE1MTm9kZS5LaW5kLCBvcHRpb25zOiBYTUxOb2RlLk9wdGlvbnMgPSB4KSB7fQogICAgb3BlbiB2YXIgY2hpbGRDb3VudDogSW50IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGNoaWxkcmVuOiBbWE1MTm9kZV0/IHsgZ2V0IH0KICAgIHB1YmxpYyB2YXIgZW5kSW5kZXg6IEluZGV4IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGluZGV4OiBJbnQgeyBnZXQgfQogICAgb3BlbiB2YXIga2luZDogWE1MTm9kZS5LaW5kIHsgZ2V0IH0KICAgIG9wZW4gdmFyIGxldmVsOiBJbnQgeyBnZXQgfQogICAgb3BlbiB2YXIgbG9jYWxOYW1lOiBTdHJpbmc/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIG5hbWU6IFN0cmluZz8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIG5leHQ6IFhNTE5vZGU/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIG5leHRTaWJsaW5nOiBYTUxOb2RlPyB7IGdldCB9CiAgICBvcGVuIHZhciBvYmplY3RWYWx1ZTogQW55PyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgcGFyZW50OiBYTUxOb2RlPyB7IGdldCB9CiAgICBvcGVuIHZhciBwcmVmaXg6IFN0cmluZz8geyBnZXQgfQogICAgb3BlbiB2YXIgcHJldmlvdXM6IFhNTE5vZGU/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHByZXZpb3VzU2libGluZzogWE1MTm9kZT8geyBnZXQgfQogICAgb3BlbiB2YXIgcm9vdERvY3VtZW50OiBYTUxEb2N1bWVudD8geyBnZXQgfQogICAgcHVibGljIHZhciBzdGFydEluZGV4OiBJbmRleCB7IGdldCB9CiAgICBvcGVuIHZhciBzdHJpbmdWYWx1ZTogU3RyaW5nPyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgdXJpOiBTdHJpbmc/IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciB4UGF0aDogU3RyaW5nPyB7IGdldCB9CiAgICBvcGVuIHZhciB4bWxTdHJpbmc6IFN0cmluZyB7IGdldCB9CiAgICBwdWJsaWMgc3Vic2NyaXB0KGluZGV4OiBJbmRleCkgLT4gWE1MTm9kZSB7IGdldCB9IHt9CiAgICBvcGVuIGZ1bmMgY2Fub25pY2FsWE1MU3RyaW5nUHJlc2VydmluZ0NvbW1lbnRzKF8gY29tbWVudHM6IEJvb2wpIC0+IFN0cmluZyB7fQogICAgb3BlbiBmdW5jIGNoaWxkKGF0IGluZGV4OiBJbnQpIC0+IFhNTE5vZGU/IHt9CiAgICBvcGVuIGZ1bmMgZGV0YWNoKCkge30KICAgIHB1YmxpYyBmdW5jIGluZGV4KGFmdGVyIGk6IEluZGV4KSAtPiBJbmRleCB7fQogICAgb3BlbiBmdW5jIG5vZGVzKGZvclhQYXRoIHhwYXRoOiBTdHJpbmcpIHRocm93cyAtPiBbWE1MTm9kZV0ge30KICAgIG9wZW4gZnVuYyBvYmplY3RzKGZvclhRdWVyeSB4cXVlcnk6IFN0cmluZykgdGhyb3dzIC0+IFtBbnldIHt9CiAgICBvcGVuIGZ1bmMgb2JqZWN0cyhmb3JYUXVlcnkgeHF1ZXJ5OiBTdHJpbmcsIGNvbnN0YW50czogW1N0cmluZzogQW55XT8pIHRocm93cyAtPiBbQW55XSB7fQogICAgb3BlbiBmdW5jIHNldFN0cmluZ1ZhbHVlKF8gc3RyaW5nOiBTdHJpbmcsIHJlc29sdmluZ0VudGl0aWVzIHJlc29sdmU6IEJvb2wpIHt9CiAgICBvcGVuIGZ1bmMgeG1sU3RyaW5nKG9wdGlvbnM6IE9wdGlvbnMpIC0+IFN0cmluZyB7fQp9Cm9wZW4gY2xhc3MgWE1MUGFyc2VyIDogQW55T2JqZWN0LCBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wgewogICAgcHVibGljIHN0YXRpYyB2YXIgZXJyb3JEb21haW46IFN0cmluZyB7IGdldCB9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdD8oY29udGVudHNPZiB1cmw6IFVSTCkge30KICAgIHB1YmxpYyBpbml0KGRhdGE6IERhdGEpIHt9CiAgICBwdWJsaWMgaW5pdChzdHJlYW06IElucHV0U3RyZWFtKSB7fQogICAgb3BlbiB2YXIgYWxsb3dlZEV4dGVybmFsRW50aXR5VVJMczogU2V0PFVSTD4/IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBjb2x1bW5OdW1iZXI6IEludCB7IGdldCB9CiAgICBvcGVuIHdlYWsgdmFyIGRlbGVnYXRlOiBYTUxQYXJzZXJEZWxlZ2F0ZT8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGV4dGVybmFsRW50aXR5UmVzb2x2aW5nUG9saWN5OiBFeHRlcm5hbEVudGl0eVJlc29sdmluZ1BvbGljeSB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgbGluZU51bWJlcjogSW50IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHBhcnNlckVycm9yOiBFcnJvcj8geyBnZXQgfQogICAgb3BlbiB2YXIgcHVibGljSUQ6IFN0cmluZz8geyBnZXQgfQogICAgb3BlbiB2YXIgc2hvdWxkUHJvY2Vzc05hbWVzcGFjZXM6IEJvb2wgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHNob3VsZFJlcG9ydE5hbWVzcGFjZVByZWZpeGVzOiBCb29sIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBzaG91bGRSZXNvbHZlRXh0ZXJuYWxFbnRpdGllczogQm9vbCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgc3lzdGVtSUQ6IFN0cmluZz8geyBnZXQgfQogICAgb3BlbiBmdW5jIGFib3J0UGFyc2luZygpIHt9CiAgICBvcGVuIGZ1bmMgcGFyc2UoKSAtPiBCb29sIHt9Cn0KcHVibGljIHByb3RvY29sIENvbnRpZ3VvdXNCeXRlcyB7CiAgICBmdW5jIHdpdGhVbnNhZmVCeXRlczxSPihfIGJvZHk6IChVbnNhZmVSYXdCdWZmZXJQb2ludGVyKSB0aHJvd3MgLT4gUikgcmV0aHJvd3MgLT4gUgp9CnB1YmxpYyBwcm90b2NvbCBDdXN0b21OU0Vycm9yIDogRXJyb3IgewogICAgc3RhdGljIHZhciBlcnJvckRvbWFpbjogU3RyaW5nIHsgZ2V0IH0KICAgIHZhciBlcnJvckNvZGU6IEludCB7IGdldCB9CiAgICB2YXIgZXJyb3JVc2VySW5mbzogW1N0cmluZzogQW55XSB7IGdldCB9Cn0KcHVibGljIHByb3RvY29sIERhdGFQcm90b2NvbCA6IFJhbmRvbUFjY2Vzc0NvbGxlY3Rpb24gewogICAgYXNzb2NpYXRlZHR5cGUgUmVnaW9ucyB3aGVyZSBSZWdpb25zLkVsZW1lbnQgOiBDb250aWd1b3VzQnl0ZXMgJiBEYXRhUHJvdG9jb2wsIFJlZ2lvbnMuRWxlbWVudC5TdWJTZXF1ZW5jZSA6IENvbnRpZ3VvdXNCeXRlcwogICAgdmFyIHJlZ2lvbnM6IFJlZ2lvbnMgeyBnZXQgfQogICAgQGRpc2NhcmRhYmxlUmVzdWx0IGZ1bmMgY29weUJ5dGVzKHRvIHB0cjogVW5zYWZlTXV0YWJsZVJhd0J1ZmZlclBvaW50ZXIpIC0+IEludAogICAgQGRpc2NhcmRhYmxlUmVzdWx0IGZ1bmMgY29weUJ5dGVzKHRvOiBVbnNhZmVNdXRhYmxlUmF3QnVmZmVyUG9pbnRlciwgY291bnQ6IEludCkgLT4gSW50CiAgICBAZGlzY2FyZGFibGVSZXN1bHQgZnVuYyBjb3B5Qnl0ZXM8RGVzdGluYXRpb25UeXBlLCBSPih0bzogVW5zYWZlTXV0YWJsZUJ1ZmZlclBvaW50ZXI8RGVzdGluYXRpb25UeXBlPiwgZnJvbTogUikgLT4gSW50IHdoZXJlIFIgOiBSYW5nZUV4cHJlc3Npb24sIEluZGV4ID09IFIuQm91bmQKICAgIGZ1bmMgZmlyc3RSYW5nZTxEPihvZiBkYXRhOiBEKSAtPiBSYW5nZTxJbmRleD4/IHdoZXJlIEQgOiBEYXRhUHJvdG9jb2wKICAgIGZ1bmMgZmlyc3RSYW5nZTxELCBSPihvZjogRCwgaW46IFIpIC0+IFJhbmdlPEluZGV4Pj8gd2hlcmUgRCA6IERhdGFQcm90b2NvbCwgUiA6IFJhbmdlRXhwcmVzc2lvbiwgSW5kZXggPT0gUi5Cb3VuZAogICAgZnVuYyBsYXN0UmFuZ2U8RD4ob2YgZGF0YTogRCkgLT4gUmFuZ2U8SW5kZXg+PyB3aGVyZSBEIDogRGF0YVByb3RvY29sCiAgICBmdW5jIGxhc3RSYW5nZTxELCBSPihvZjogRCwgaW46IFIpIC0+IFJhbmdlPEluZGV4Pj8gd2hlcmUgRCA6IERhdGFQcm90b2NvbCwgUiA6IFJhbmdlRXhwcmVzc2lvbiwgSW5kZXggPT0gUi5Cb3VuZAp9CnB1YmxpYyBwcm90b2NvbCBGaWxlTWFuYWdlckRlbGVnYXRlIDogQW55T2JqZWN0LCBOU09iamVjdFByb3RvY29sIHsKICAgIGZ1bmMgZmlsZU1hbmFnZXIoXyBmaWxlTWFuYWdlcjogRmlsZU1hbmFnZXIsIHNob3VsZENvcHlJdGVtQXQgc3JjVVJMOiBVUkwsIHRvIGRzdFVSTDogVVJMKSAtPiBCb29sCiAgICBmdW5jIGZpbGVNYW5hZ2VyKF8gZmlsZU1hbmFnZXI6IEZpbGVNYW5hZ2VyLCBzaG91bGRDb3B5SXRlbUF0UGF0aCBzcmNQYXRoOiBTdHJpbmcsIHRvUGF0aCBkc3RQYXRoOiBTdHJpbmcpIC0+IEJvb2wKICAgIGZ1bmMgZmlsZU1hbmFnZXIoXyBmaWxlTWFuYWdlcjogRmlsZU1hbmFnZXIsIHNob3VsZExpbmtJdGVtQXQgc3JjVVJMOiBVUkwsIHRvIGRzdFVSTDogVVJMKSAtPiBCb29sCiAgICBmdW5jIGZpbGVNYW5hZ2VyKF8gZmlsZU1hbmFnZXI6IEZpbGVNYW5hZ2VyLCBzaG91bGRMaW5rSXRlbUF0UGF0aCBzcmNQYXRoOiBTdHJpbmcsIHRvUGF0aCBkc3RQYXRoOiBTdHJpbmcpIC0+IEJvb2wKICAgIGZ1bmMgZmlsZU1hbmFnZXIoXyBmaWxlTWFuYWdlcjogRmlsZU1hbmFnZXIsIHNob3VsZE1vdmVJdGVtQXQgc3JjVVJMOiBVUkwsIHRvIGRzdFVSTDogVVJMKSAtPiBCb29sCiAgICBmdW5jIGZpbGVNYW5hZ2VyKF8gZmlsZU1hbmFnZXI6IEZpbGVNYW5hZ2VyLCBzaG91bGRNb3ZlSXRlbUF0UGF0aCBzcmNQYXRoOiBTdHJpbmcsIHRvUGF0aCBkc3RQYXRoOiBTdHJpbmcpIC0+IEJvb2wKICAgIGZ1bmMgZmlsZU1hbmFnZXIoXyBmaWxlTWFuYWdlcjogRmlsZU1hbmFnZXIsIHNob3VsZFByb2NlZWRBZnRlckVycm9yIGVycm9yOiBFcnJvciwgY29weWluZ0l0ZW1BdCBzcmNVUkw6IFVSTCwgdG8gZHN0VVJMOiBVUkwpIC0+IEJvb2wKICAgIGZ1bmMgZmlsZU1hbmFnZXIoXyBmaWxlTWFuYWdlcjogRmlsZU1hbmFnZXIsIHNob3VsZFByb2NlZWRBZnRlckVycm9yIGVycm9yOiBFcnJvciwgY29weWluZ0l0ZW1BdFBhdGggc3JjUGF0aDogU3RyaW5nLCB0b1BhdGggZHN0UGF0aDogU3RyaW5nKSAtPiBCb29sCiAgICBmdW5jIGZpbGVNYW5hZ2VyKF8gZmlsZU1hbmFnZXI6IEZpbGVNYW5hZ2VyLCBzaG91bGRQcm9jZWVkQWZ0ZXJFcnJvciBlcnJvcjogRXJyb3IsIGxpbmtpbmdJdGVtQXQgc3JjVVJMOiBVUkwsIHRvIGRzdFVSTDogVVJMKSAtPiBCb29sCiAgICBmdW5jIGZpbGVNYW5hZ2VyKF8gZmlsZU1hbmFnZXI6IEZpbGVNYW5hZ2VyLCBzaG91bGRQcm9jZWVkQWZ0ZXJFcnJvciBlcnJvcjogRXJyb3IsIGxpbmtpbmdJdGVtQXRQYXRoIHNyY1BhdGg6IFN0cmluZywgdG9QYXRoIGRzdFBhdGg6IFN0cmluZykgLT4gQm9vbAogICAgZnVuYyBmaWxlTWFuYWdlcihfIGZpbGVNYW5hZ2VyOiBGaWxlTWFuYWdlciwgc2hvdWxkUHJvY2VlZEFmdGVyRXJyb3IgZXJyb3I6IEVycm9yLCBtb3ZpbmdJdGVtQXQgc3JjVVJMOiBVUkwsIHRvIGRzdFVSTDogVVJMKSAtPiBCb29sCiAgICBmdW5jIGZpbGVNYW5hZ2VyKF8gZmlsZU1hbmFnZXI6IEZpbGVNYW5hZ2VyLCBzaG91bGRQcm9jZWVkQWZ0ZXJFcnJvciBlcnJvcjogRXJyb3IsIG1vdmluZ0l0ZW1BdFBhdGggc3JjUGF0aDogU3RyaW5nLCB0b1BhdGggZHN0UGF0aDogU3RyaW5nKSAtPiBCb29sCiAgICBmdW5jIGZpbGVNYW5hZ2VyKF8gZmlsZU1hbmFnZXI6IEZpbGVNYW5hZ2VyLCBzaG91bGRQcm9jZWVkQWZ0ZXJFcnJvciBlcnJvcjogRXJyb3IsIHJlbW92aW5nSXRlbUF0IFVSTDogVVJMKSAtPiBCb29sCiAgICBmdW5jIGZpbGVNYW5hZ2VyKF8gZmlsZU1hbmFnZXI6IEZpbGVNYW5hZ2VyLCBzaG91bGRQcm9jZWVkQWZ0ZXJFcnJvciBlcnJvcjogRXJyb3IsIHJlbW92aW5nSXRlbUF0UGF0aCBwYXRoOiBTdHJpbmcpIC0+IEJvb2wKICAgIGZ1bmMgZmlsZU1hbmFnZXIoXyBmaWxlTWFuYWdlcjogRmlsZU1hbmFnZXIsIHNob3VsZFJlbW92ZUl0ZW1BdCBVUkw6IFVSTCkgLT4gQm9vbAogICAgZnVuYyBmaWxlTWFuYWdlcihfIGZpbGVNYW5hZ2VyOiBGaWxlTWFuYWdlciwgc2hvdWxkUmVtb3ZlSXRlbUF0UGF0aCBwYXRoOiBTdHJpbmcpIC0+IEJvb2wKfQpwdWJsaWMgcHJvdG9jb2wgTG9jYWxpemVkRXJyb3IgOiBFcnJvciB7CiAgICB2YXIgZXJyb3JEZXNjcmlwdGlvbjogU3RyaW5nPyB7IGdldCB9CiAgICB2YXIgZmFpbHVyZVJlYXNvbjogU3RyaW5nPyB7IGdldCB9CiAgICB2YXIgaGVscEFuY2hvcjogU3RyaW5nPyB7IGdldCB9CiAgICB2YXIgcmVjb3ZlcnlTdWdnZXN0aW9uOiBTdHJpbmc/IHsgZ2V0IH0KfQpwdWJsaWMgcHJvdG9jb2wgTXV0YWJsZURhdGFQcm90b2NvbCA6IERhdGFQcm90b2NvbCwgTXV0YWJsZUNvbGxlY3Rpb24sIFJhbmRvbUFjY2Vzc0NvbGxlY3Rpb24sIFJhbmdlUmVwbGFjZWFibGVDb2xsZWN0aW9uIHsKICAgIG11dGF0aW5nIGZ1bmMgcmVzZXRCeXRlczxSPihpbiByYW5nZTogUikgd2hlcmUgUiA6IFJhbmdlRXhwcmVzc2lvbiwgSW5kZXggPT0gUi5Cb3VuZAp9CnB1YmxpYyBwcm90b2NvbCBOU0NhY2hlRGVsZWdhdGUgOiBBbnlPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wgewogICAgZnVuYyBjYWNoZShfIGNhY2hlOiBOU0NhY2hlPEFueU9iamVjdCwgQW55T2JqZWN0Piwgd2lsbEV2aWN0T2JqZWN0IG9iajogQW55KQp9CnB1YmxpYyBwcm90b2NvbCBOU0NvZGluZyB7CiAgICBpbml0Pyhjb2RlciBhRGVjb2RlcjogTlNDb2RlcikKICAgIGZ1bmMgZW5jb2RlKHdpdGggYUNvZGVyOiBOU0NvZGVyKQp9CnB1YmxpYyBwcm90b2NvbCBOU0NvcHlpbmcgewogICAgZnVuYyBjb3B5KCkgLT4gQW55CiAgICBmdW5jIGNvcHkod2l0aCB6b25lOiBOU1pvbmU/KSAtPiBBbnkKfQpwdWJsaWMgcHJvdG9jb2wgTlNEZWNpbWFsTnVtYmVyQmVoYXZpb3JzIHsKICAgIGZ1bmMgcm91bmRpbmdNb2RlKCkgLT4gTlNEZWNpbWFsTnVtYmVyLlJvdW5kaW5nTW9kZQogICAgZnVuYyBzY2FsZSgpIC0+IEludDE2Cn0KcHVibGljIHByb3RvY29sIE5TS2V5ZWRBcmNoaXZlckRlbGVnYXRlIDogQW55T2JqZWN0IHsKICAgIGZ1bmMgYXJjaGl2ZXIoXyBhcmNoaXZlcjogTlNLZXllZEFyY2hpdmVyLCBkaWRFbmNvZGUgb2JqZWN0OiBBbnk/KQogICAgZnVuYyBhcmNoaXZlcihfIGFyY2hpdmVyOiBOU0tleWVkQXJjaGl2ZXIsIHdpbGxFbmNvZGUgb2JqZWN0OiBBbnkpIC0+IEFueT8KICAgIGZ1bmMgYXJjaGl2ZXIoXyBhcmNoaXZlcjogTlNLZXllZEFyY2hpdmVyLCB3aWxsUmVwbGFjZSBvYmplY3Q6IEFueT8sIHdpdGhPYmplY3QgbmV3T2JqZWN0OiBBbnk/KQogICAgZnVuYyBhcmNoaXZlckRpZEZpbmlzaChfIGFyY2hpdmVyOiBOU0tleWVkQXJjaGl2ZXIpCiAgICBmdW5jIGFyY2hpdmVyV2lsbEZpbmlzaChfIGFyY2hpdmVyOiBOU0tleWVkQXJjaGl2ZXIpCn0KcHVibGljIHByb3RvY29sIE5TS2V5ZWRVbmFyY2hpdmVyRGVsZWdhdGUgOiBBbnlPYmplY3QgewogICAgZnVuYyB1bmFyY2hpdmVyKF8gdW5hcmNoaXZlcjogTlNLZXllZFVuYXJjaGl2ZXIsIGNhbm5vdERlY29kZU9iamVjdE9mQ2xhc3NOYW1lIG5hbWU6IFN0cmluZywgb3JpZ2luYWxDbGFzc2VzIGNsYXNzTmFtZXM6IFtTdHJpbmddKSAtPiBBbnlDbGFzcz8KICAgIGZ1bmMgdW5hcmNoaXZlcihfIHVuYXJjaGl2ZXI6IE5TS2V5ZWRVbmFyY2hpdmVyLCBkaWREZWNvZGUgb2JqZWN0OiBBbnk/KSAtPiBBbnk/CiAgICBmdW5jIHVuYXJjaGl2ZXIoXyB1bmFyY2hpdmVyOiBOU0tleWVkVW5hcmNoaXZlciwgd2lsbFJlcGxhY2Ugb2JqZWN0OiBBbnksIHdpdGggbmV3T2JqZWN0OiBBbnkpCiAgICBmdW5jIHVuYXJjaGl2ZXJEaWRGaW5pc2goXyB1bmFyY2hpdmVyOiBOU0tleWVkVW5hcmNoaXZlcikKICAgIGZ1bmMgdW5hcmNoaXZlcldpbGxGaW5pc2goXyB1bmFyY2hpdmVyOiBOU0tleWVkVW5hcmNoaXZlcikKfQpwdWJsaWMgcHJvdG9jb2wgTlNMb2NraW5nIHsKICAgIGZ1bmMgbG9jaygpCiAgICBmdW5jIHVubG9jaygpCn0KcHVibGljIHByb3RvY29sIE5TTXV0YWJsZUNvcHlpbmcgewogICAgZnVuYyBtdXRhYmxlQ29weSgpIC0+IEFueQogICAgZnVuYyBtdXRhYmxlQ29weSh3aXRoIHpvbmU6IE5TWm9uZT8pIC0+IEFueQp9CnB1YmxpYyBwcm90b2NvbCBOU09iamVjdFByb3RvY29sIDogQW55T2JqZWN0IHsKICAgIHZhciBkZWJ1Z0Rlc2NyaXB0aW9uOiBTdHJpbmcgeyBnZXQgfQogICAgdmFyIGRlc2NyaXB0aW9uOiBTdHJpbmcgeyBnZXQgfQogICAgdmFyIGhhc2g6IEludCB7IGdldCB9CiAgICBmdW5jIGlzRXF1YWwoXyBvYmplY3Q6IEFueT8pIC0+IEJvb2wKICAgIGZ1bmMgaXNQcm94eSgpIC0+IEJvb2wKICAgIGZ1bmMgc2VsZigpIC0+IFNlbGYKfQpwdWJsaWMgcHJvdG9jb2wgTlNTZWN1cmVDb2RpbmcgOiBOU0NvZGluZyB7CiAgICBzdGF0aWMgdmFyIHN1cHBvcnRzU2VjdXJlQ29kaW5nOiBCb29sIHsgZ2V0IH0KfQpwdWJsaWMgcHJvdG9jb2wgUG9ydERlbGVnYXRlIDogQW55T2JqZWN0IHsKICAgIGZ1bmMgaGFuZGxlUG9ydE1lc3NhZ2UoXyBtZXNzYWdlOiBQb3J0TWVzc2FnZSkKfQpwdWJsaWMgcHJvdG9jb2wgUHJvZ3Jlc3NSZXBvcnRpbmcgOiBBbnlPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wgewogICAgdmFyIHByb2dyZXNzOiBQcm9ncmVzcyB7IGdldCB9Cn0KcHVibGljIHByb3RvY29sIFJlY292ZXJhYmxlRXJyb3IgOiBFcnJvciB7CiAgICB2YXIgcmVjb3ZlcnlPcHRpb25zOiBbU3RyaW5nXSB7IGdldCB9CiAgICBmdW5jIGF0dGVtcHRSZWNvdmVyeShvcHRpb25JbmRleCByZWNvdmVyeU9wdGlvbkluZGV4OiBJbnQpIC0+IEJvb2wKICAgIGZ1bmMgYXR0ZW1wdFJlY292ZXJ5KG9wdGlvbkluZGV4IHJlY292ZXJ5T3B0aW9uSW5kZXg6IEludCwgcmVzdWx0SGFuZGxlciBoYW5kbGVyOiBAZXNjYXBpbmcgKF8gcmVjb3ZlcmVkOiBCb29sKSAtPiBWb2lkKQp9CnB1YmxpYyBwcm90b2NvbCBSZWZlcmVuY2VDb252ZXJ0aWJsZSA6IEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBIYXNoYWJsZSB7CiAgICBhc3NvY2lhdGVkdHlwZSBSZWZlcmVuY2VUeXBlCn0KcHVibGljIHByb3RvY29sIFN0cmVhbURlbGVnYXRlIDogQW55T2JqZWN0IHsKICAgIGZ1bmMgc3RyZWFtKF8gYVN0cmVhbTogU3RyZWFtLCBoYW5kbGUgZXZlbnRDb2RlOiBTdHJlYW0uRXZlbnQpCn0KcHVibGljIHByb3RvY29sIFVSTEF1dGhlbnRpY2F0aW9uQ2hhbGxlbmdlU2VuZGVyIDogQW55T2JqZWN0LCBOU09iamVjdFByb3RvY29sIHsKICAgIGZ1bmMgY2FuY2VsKF8gY2hhbGxlbmdlOiBVUkxBdXRoZW50aWNhdGlvbkNoYWxsZW5nZSkKICAgIGZ1bmMgY29udGludWVXaXRob3V0Q3JlZGVudGlhbChmb3IgY2hhbGxlbmdlOiBVUkxBdXRoZW50aWNhdGlvbkNoYWxsZW5nZSkKICAgIGZ1bmMgcGVyZm9ybURlZmF1bHRIYW5kbGluZyhmb3IgY2hhbGxlbmdlOiBVUkxBdXRoZW50aWNhdGlvbkNoYWxsZW5nZSkKICAgIGZ1bmMgcmVqZWN0UHJvdGVjdGlvblNwYWNlQW5kQ29udGludWUod2l0aCBjaGFsbGVuZ2U6IFVSTEF1dGhlbnRpY2F0aW9uQ2hhbGxlbmdlKQogICAgZnVuYyB1c2UoXyBjcmVkZW50aWFsOiBVUkxDcmVkZW50aWFsLCBmb3IgY2hhbGxlbmdlOiBVUkxBdXRoZW50aWNhdGlvbkNoYWxsZW5nZSkKfQpwdWJsaWMgcHJvdG9jb2wgVVJMUHJvdG9jb2xDbGllbnQgOiBBbnlPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wgewogICAgZnVuYyB1cmxQcm90b2NvbChfIHByb3RvY29sOiBVUkxQcm90b2NvbCwgY2FjaGVkUmVzcG9uc2VJc1ZhbGlkIGNhY2hlZFJlc3BvbnNlOiBDYWNoZWRVUkxSZXNwb25zZSkKICAgIGZ1bmMgdXJsUHJvdG9jb2woXyBwcm90b2NvbDogVVJMUHJvdG9jb2wsIGRpZENhbmNlbCBjaGFsbGVuZ2U6IFVSTEF1dGhlbnRpY2F0aW9uQ2hhbGxlbmdlKQogICAgZnVuYyB1cmxQcm90b2NvbChfIHByb3RvY29sOiBVUkxQcm90b2NvbCwgZGlkRmFpbFdpdGhFcnJvciBlcnJvcjogRXJyb3IpCiAgICBmdW5jIHVybFByb3RvY29sKF8gcHJvdG9jb2w6IFVSTFByb3RvY29sLCBkaWRMb2FkIGRhdGE6IERhdGEpCiAgICBmdW5jIHVybFByb3RvY29sKF8gcHJvdG9jb2w6IFVSTFByb3RvY29sLCBkaWRSZWNlaXZlIGNoYWxsZW5nZTogVVJMQXV0aGVudGljYXRpb25DaGFsbGVuZ2UpCiAgICBmdW5jIHVybFByb3RvY29sKF8gcHJvdG9jb2w6IFVSTFByb3RvY29sLCBkaWRSZWNlaXZlIHJlc3BvbnNlOiBVUkxSZXNwb25zZSwgY2FjaGVTdG9yYWdlUG9saWN5IHBvbGljeTogVVJMQ2FjaGUuU3RvcmFnZVBvbGljeSkKICAgIGZ1bmMgdXJsUHJvdG9jb2woXyBwcm90b2NvbDogVVJMUHJvdG9jb2wsIHdhc1JlZGlyZWN0ZWRUbyByZXF1ZXN0OiBVUkxSZXF1ZXN0LCByZWRpcmVjdFJlc3BvbnNlOiBVUkxSZXNwb25zZSkKICAgIGZ1bmMgdXJsUHJvdG9jb2xEaWRGaW5pc2hMb2FkaW5nKF8gcHJvdG9jb2w6IFVSTFByb3RvY29sKQp9CnB1YmxpYyBwcm90b2NvbCBVUkxTZXNzaW9uRGF0YURlbGVnYXRlIDogQW55T2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBVUkxTZXNzaW9uRGVsZWdhdGUsIFVSTFNlc3Npb25UYXNrRGVsZWdhdGUgewogICAgZnVuYyB1cmxTZXNzaW9uKF8gc2Vzc2lvbjogVVJMU2Vzc2lvbiwgZGF0YVRhc2s6IFVSTFNlc3Npb25EYXRhVGFzaywgZGlkQmVjb21lIGRvd25sb2FkVGFzazogVVJMU2Vzc2lvbkRvd25sb2FkVGFzaykKICAgIGZ1bmMgdXJsU2Vzc2lvbihfIHNlc3Npb246IFVSTFNlc3Npb24sIGRhdGFUYXNrOiBVUkxTZXNzaW9uRGF0YVRhc2ssIGRpZFJlY2VpdmUgZGF0YTogRGF0YSkKICAgIGZ1bmMgdXJsU2Vzc2lvbihfIHNlc3Npb246IFVSTFNlc3Npb24sIGRhdGFUYXNrOiBVUkxTZXNzaW9uRGF0YVRhc2ssIGRpZFJlY2VpdmUgcmVzcG9uc2U6IFVSTFJlc3BvbnNlLCBjb21wbGV0aW9uSGFuZGxlcjogQGVzY2FwaW5nIChVUkxTZXNzaW9uLlJlc3BvbnNlRGlzcG9zaXRpb24pIC0+IFZvaWQpCiAgICBmdW5jIHVybFNlc3Npb24oXyBzZXNzaW9uOiBVUkxTZXNzaW9uLCBkYXRhVGFzazogVVJMU2Vzc2lvbkRhdGFUYXNrLCB3aWxsQ2FjaGVSZXNwb25zZSBwcm9wb3NlZFJlc3BvbnNlOiBDYWNoZWRVUkxSZXNwb25zZSwgY29tcGxldGlvbkhhbmRsZXI6IEBlc2NhcGluZyAoQ2FjaGVkVVJMUmVzcG9uc2U/KSAtPiBWb2lkKQp9CnB1YmxpYyBwcm90b2NvbCBVUkxTZXNzaW9uRGVsZWdhdGUgOiBBbnlPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wgewogICAgZnVuYyB1cmxTZXNzaW9uKF8gc2Vzc2lvbjogVVJMU2Vzc2lvbiwgZGlkQmVjb21lSW52YWxpZFdpdGhFcnJvciBlcnJvcjogRXJyb3I/KQogICAgZnVuYyB1cmxTZXNzaW9uKF8gc2Vzc2lvbjogVVJMU2Vzc2lvbiwgZGlkUmVjZWl2ZSBjaGFsbGVuZ2U6IFVSTEF1dGhlbnRpY2F0aW9uQ2hhbGxlbmdlLCBjb21wbGV0aW9uSGFuZGxlcjogQGVzY2FwaW5nIChVUkxTZXNzaW9uLkF1dGhDaGFsbGVuZ2VEaXNwb3NpdGlvbiwgVVJMQ3JlZGVudGlhbD8pIC0+IFZvaWQpCn0KcHVibGljIHByb3RvY29sIFVSTFNlc3Npb25Eb3dubG9hZERlbGVnYXRlIDogQW55T2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBVUkxTZXNzaW9uRGVsZWdhdGUsIFVSTFNlc3Npb25UYXNrRGVsZWdhdGUgewogICAgZnVuYyB1cmxTZXNzaW9uKF8gc2Vzc2lvbjogVVJMU2Vzc2lvbiwgZG93bmxvYWRUYXNrOiBVUkxTZXNzaW9uRG93bmxvYWRUYXNrLCBkaWRGaW5pc2hEb3dubG9hZGluZ1RvIGxvY2F0aW9uOiBVUkwpCiAgICBmdW5jIHVybFNlc3Npb24oXyBzZXNzaW9uOiBVUkxTZXNzaW9uLCBkb3dubG9hZFRhc2s6IFVSTFNlc3Npb25Eb3dubG9hZFRhc2ssIGRpZFJlc3VtZUF0T2Zmc2V0IGZpbGVPZmZzZXQ6IEludDY0LCBleHBlY3RlZFRvdGFsQnl0ZXM6IEludDY0KQogICAgZnVuYyB1cmxTZXNzaW9uKF8gc2Vzc2lvbjogVVJMU2Vzc2lvbiwgZG93bmxvYWRUYXNrOiBVUkxTZXNzaW9uRG93bmxvYWRUYXNrLCBkaWRXcml0ZURhdGEgYnl0ZXNXcml0dGVuOiBJbnQ2NCwgdG90YWxCeXRlc1dyaXR0ZW46IEludDY0LCB0b3RhbEJ5dGVzRXhwZWN0ZWRUb1dyaXRlOiBJbnQ2NCkKfQpwdWJsaWMgcHJvdG9jb2wgVVJMU2Vzc2lvblN0cmVhbURlbGVnYXRlIDogQW55T2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBVUkxTZXNzaW9uRGVsZWdhdGUsIFVSTFNlc3Npb25UYXNrRGVsZWdhdGUgewogICAgZnVuYyB1cmxTZXNzaW9uKF8gc2Vzc2lvbjogVVJMU2Vzc2lvbiwgYmV0dGVyUm91dGVEaXNjb3ZlcmVkRm9yIHN0cmVhbVRhc2s6IFVSTFNlc3Npb25TdHJlYW1UYXNrKQogICAgZnVuYyB1cmxTZXNzaW9uKF8gc2Vzc2lvbjogVVJMU2Vzc2lvbiwgcmVhZENsb3NlZEZvciBzdHJlYW1UYXNrOiBVUkxTZXNzaW9uU3RyZWFtVGFzaykKICAgIGZ1bmMgdXJsU2Vzc2lvbihfIHNlc3Npb246IFVSTFNlc3Npb24sIHN0cmVhbVRhc2s6IFVSTFNlc3Npb25TdHJlYW1UYXNrLCBkaWRCZWNvbWUgaW5wdXRTdHJlYW06IElucHV0U3RyZWFtLCBvdXRwdXRTdHJlYW06IE91dHB1dFN0cmVhbSkKICAgIGZ1bmMgdXJsU2Vzc2lvbihfIHNlc3Npb246IFVSTFNlc3Npb24sIHdyaXRlQ2xvc2VkRm9yIHN0cmVhbVRhc2s6IFVSTFNlc3Npb25TdHJlYW1UYXNrKQp9CnB1YmxpYyBwcm90b2NvbCBVUkxTZXNzaW9uVGFza0RlbGVnYXRlIDogQW55T2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBVUkxTZXNzaW9uRGVsZWdhdGUgewogICAgZnVuYyB1cmxTZXNzaW9uKF8gc2Vzc2lvbjogVVJMU2Vzc2lvbiwgdGFzazogVVJMU2Vzc2lvblRhc2ssIGRpZENvbXBsZXRlV2l0aEVycm9yIGVycm9yOiBFcnJvcj8pCiAgICBmdW5jIHVybFNlc3Npb24oXyBzZXNzaW9uOiBVUkxTZXNzaW9uLCB0YXNrOiBVUkxTZXNzaW9uVGFzaywgZGlkUmVjZWl2ZSBjaGFsbGVuZ2U6IFVSTEF1dGhlbnRpY2F0aW9uQ2hhbGxlbmdlLCBjb21wbGV0aW9uSGFuZGxlcjogQGVzY2FwaW5nIChVUkxTZXNzaW9uLkF1dGhDaGFsbGVuZ2VEaXNwb3NpdGlvbiwgVVJMQ3JlZGVudGlhbD8pIC0+IFZvaWQpCiAgICBmdW5jIHVybFNlc3Npb24oXyBzZXNzaW9uOiBVUkxTZXNzaW9uLCB0YXNrOiBVUkxTZXNzaW9uVGFzaywgZGlkU2VuZEJvZHlEYXRhIGJ5dGVzU2VudDogSW50NjQsIHRvdGFsQnl0ZXNTZW50OiBJbnQ2NCwgdG90YWxCeXRlc0V4cGVjdGVkVG9TZW5kOiBJbnQ2NCkKICAgIGZ1bmMgdXJsU2Vzc2lvbihfIHNlc3Npb246IFVSTFNlc3Npb24sIHRhc2s6IFVSTFNlc3Npb25UYXNrLCBuZWVkTmV3Qm9keVN0cmVhbSBjb21wbGV0aW9uSGFuZGxlcjogQGVzY2FwaW5nIChJbnB1dFN0cmVhbT8pIC0+IFZvaWQpCiAgICBmdW5jIHVybFNlc3Npb24oXyBzZXNzaW9uOiBVUkxTZXNzaW9uLCB0YXNrOiBVUkxTZXNzaW9uVGFzaywgd2lsbEJlZ2luRGVsYXllZFJlcXVlc3QgcmVxdWVzdDogVVJMUmVxdWVzdCwgY29tcGxldGlvbkhhbmRsZXI6IEBlc2NhcGluZyAoVVJMU2Vzc2lvbi5EZWxheWVkUmVxdWVzdERpc3Bvc2l0aW9uLCBVUkxSZXF1ZXN0PykgLT4gVm9pZCkKICAgIGZ1bmMgdXJsU2Vzc2lvbihfIHNlc3Npb246IFVSTFNlc3Npb24sIHRhc2s6IFVSTFNlc3Npb25UYXNrLCB3aWxsUGVyZm9ybUhUVFBSZWRpcmVjdGlvbiByZXNwb25zZTogSFRUUFVSTFJlc3BvbnNlLCBuZXdSZXF1ZXN0IHJlcXVlc3Q6IFVSTFJlcXVlc3QsIGNvbXBsZXRpb25IYW5kbGVyOiBAZXNjYXBpbmcgKFVSTFJlcXVlc3Q/KSAtPiBWb2lkKQp9CnB1YmxpYyBwcm90b2NvbCBYTUxQYXJzZXJEZWxlZ2F0ZSA6IEFueU9iamVjdCB7CiAgICBmdW5jIHBhcnNlcihfIHBhcnNlcjogWE1MUGFyc2VyLCBkaWRFbmRFbGVtZW50IGVsZW1lbnROYW1lOiBTdHJpbmcsIG5hbWVzcGFjZVVSSTogU3RyaW5nPywgcXVhbGlmaWVkTmFtZSBxTmFtZTogU3RyaW5nPykKICAgIGZ1bmMgcGFyc2VyKF8gcGFyc2VyOiBYTUxQYXJzZXIsIGRpZEVuZE1hcHBpbmdQcmVmaXggcHJlZml4OiBTdHJpbmcpCiAgICBmdW5jIHBhcnNlcihfIHBhcnNlcjogWE1MUGFyc2VyLCBkaWRTdGFydEVsZW1lbnQgZWxlbWVudE5hbWU6IFN0cmluZywgbmFtZXNwYWNlVVJJOiBTdHJpbmc/LCBxdWFsaWZpZWROYW1lIHFOYW1lOiBTdHJpbmc/LCBhdHRyaWJ1dGVzIGF0dHJpYnV0ZURpY3Q6IFtTdHJpbmc6IFN0cmluZ10pCiAgICBmdW5jIHBhcnNlcihfIHBhcnNlcjogWE1MUGFyc2VyLCBkaWRTdGFydE1hcHBpbmdQcmVmaXggcHJlZml4OiBTdHJpbmcsIHRvVVJJIG5hbWVzcGFjZVVSSTogU3RyaW5nKQogICAgZnVuYyBwYXJzZXIoXyBwYXJzZXI6IFhNTFBhcnNlciwgZm91bmRBdHRyaWJ1dGVEZWNsYXJhdGlvbldpdGhOYW1lIGF0dHJpYnV0ZU5hbWU6IFN0cmluZywgZm9yRWxlbWVudCBlbGVtZW50TmFtZTogU3RyaW5nLCB0eXBlOiBTdHJpbmc/LCBkZWZhdWx0VmFsdWU6IFN0cmluZz8pCiAgICBmdW5jIHBhcnNlcihfIHBhcnNlcjogWE1MUGFyc2VyLCBmb3VuZENEQVRBIENEQVRBQmxvY2s6IERhdGEpCiAgICBmdW5jIHBhcnNlcihfIHBhcnNlcjogWE1MUGFyc2VyLCBmb3VuZENoYXJhY3RlcnMgc3RyaW5nOiBTdHJpbmcpCiAgICBmdW5jIHBhcnNlcihfIHBhcnNlcjogWE1MUGFyc2VyLCBmb3VuZENvbW1lbnQgY29tbWVudDogU3RyaW5nKQogICAgZnVuYyBwYXJzZXIoXyBwYXJzZXI6IFhNTFBhcnNlciwgZm91bmRFbGVtZW50RGVjbGFyYXRpb25XaXRoTmFtZSBlbGVtZW50TmFtZTogU3RyaW5nLCBtb2RlbDogU3RyaW5nKQogICAgZnVuYyBwYXJzZXIoXyBwYXJzZXI6IFhNTFBhcnNlciwgZm91bmRFeHRlcm5hbEVudGl0eURlY2xhcmF0aW9uV2l0aE5hbWUgbmFtZTogU3RyaW5nLCBwdWJsaWNJRDogU3RyaW5nPywgc3lzdGVtSUQ6IFN0cmluZz8pCiAgICBmdW5jIHBhcnNlcihfIHBhcnNlcjogWE1MUGFyc2VyLCBmb3VuZElnbm9yYWJsZVdoaXRlc3BhY2Ugd2hpdGVzcGFjZVN0cmluZzogU3RyaW5nKQogICAgZnVuYyBwYXJzZXIoXyBwYXJzZXI6IFhNTFBhcnNlciwgZm91bmRJbnRlcm5hbEVudGl0eURlY2xhcmF0aW9uV2l0aE5hbWUgbmFtZTogU3RyaW5nLCB2YWx1ZTogU3RyaW5nPykKICAgIGZ1bmMgcGFyc2VyKF8gcGFyc2VyOiBYTUxQYXJzZXIsIGZvdW5kTm90YXRpb25EZWNsYXJhdGlvbldpdGhOYW1lIG5hbWU6IFN0cmluZywgcHVibGljSUQ6IFN0cmluZz8sIHN5c3RlbUlEOiBTdHJpbmc/KQogICAgZnVuYyBwYXJzZXIoXyBwYXJzZXI6IFhNTFBhcnNlciwgZm91bmRQcm9jZXNzaW5nSW5zdHJ1Y3Rpb25XaXRoVGFyZ2V0IHRhcmdldDogU3RyaW5nLCBkYXRhOiBTdHJpbmc/KQogICAgZnVuYyBwYXJzZXIoXyBwYXJzZXI6IFhNTFBhcnNlciwgZm91bmRVbnBhcnNlZEVudGl0eURlY2xhcmF0aW9uV2l0aE5hbWUgbmFtZTogU3RyaW5nLCBwdWJsaWNJRDogU3RyaW5nPywgc3lzdGVtSUQ6IFN0cmluZz8sIG5vdGF0aW9uTmFtZTogU3RyaW5nPykKICAgIGZ1bmMgcGFyc2VyKF8gcGFyc2VyOiBYTUxQYXJzZXIsIHBhcnNlRXJyb3JPY2N1cnJlZCBwYXJzZUVycm9yOiBFcnJvcikKICAgIGZ1bmMgcGFyc2VyKF8gcGFyc2VyOiBYTUxQYXJzZXIsIHJlc29sdmVFeHRlcm5hbEVudGl0eU5hbWUgbmFtZTogU3RyaW5nLCBzeXN0ZW1JRDogU3RyaW5nPykgLT4gRGF0YT8KICAgIGZ1bmMgcGFyc2VyKF8gcGFyc2VyOiBYTUxQYXJzZXIsIHZhbGlkYXRpb25FcnJvck9jY3VycmVkIHZhbGlkYXRpb25FcnJvcjogRXJyb3IpCiAgICBmdW5jIHBhcnNlckRpZEVuZERvY3VtZW50KF8gcGFyc2VyOiBYTUxQYXJzZXIpCiAgICBmdW5jIHBhcnNlckRpZFN0YXJ0RG9jdW1lbnQoXyBwYXJzZXI6IFhNTFBhcnNlcikKfQpleHRlbnNpb24gQXJyYXkgewp9CmV4dGVuc2lvbiBBcnJheVNsaWNlIHsKfQpleHRlbnNpb24gQm9vbCB7CiAgICBwdWJsaWMgaW5pdD8oZXhhY3RseSBudW1iZXI6IE5TTnVtYmVyKSB7fQogICAgcHVibGljIGluaXQodHJ1bmNhdGluZyBudW1iZXI6IE5TTnVtYmVyKSB7fQp9CmV4dGVuc2lvbiBDRkFycmF5IHsKfQpleHRlbnNpb24gQ0ZDYWxlbmRhciB7Cn0KZXh0ZW5zaW9uIENGQ2hhcmFjdGVyU2V0IHsKfQpleHRlbnNpb24gQ0ZEYXRhIHsKfQpleHRlbnNpb24gQ0ZEYXRlIHsKfQpleHRlbnNpb24gQ0ZEaWN0aW9uYXJ5IHsKfQpleHRlbnNpb24gQ0ZFcnJvciB7Cn0KZXh0ZW5zaW9uIENGS2V5ZWRBcmNoaXZlclVJRCB7Cn0KZXh0ZW5zaW9uIENGTG9jYWxlIHsKfQpleHRlbnNpb24gQ0ZOdW1iZXIgewp9CmV4dGVuc2lvbiBDRlNldCB7Cn0KZXh0ZW5zaW9uIENGU3RyaW5nIHsKfQpleHRlbnNpb24gQ0ZUaW1lWm9uZSB7Cn0KZXh0ZW5zaW9uIENGVVJMIHsKfQpleHRlbnNpb24gQ0ZVUkxTZXNzaW9uRWFzeUNvZGUgewogICAgcHVibGljIGZ1bmMgPT0obGhzOiBDRlVSTFNlc3Npb25FYXN5Q29kZSwgcmhzOiBDRlVSTFNlc3Npb25FYXN5Q29kZSkgLT4gQm9vbCB7fQp9CmV4dGVuc2lvbiBDRlVSTFNlc3Npb25JbmZvIHsKICAgIHB1YmxpYyB2YXIgZGVidWdIZWFkZXI6IFN0cmluZyB7IGdldCB9CiAgICBwdWJsaWMgZnVuYyA9PShsaHM6IENGVVJMU2Vzc2lvbkluZm8sIHJoczogQ0ZVUkxTZXNzaW9uSW5mbykgLT4gQm9vbCB7fQp9CmV4dGVuc2lvbiBDRlVSTFNlc3Npb25NdWx0aUNvZGUgewogICAgcHVibGljIGZ1bmMgPT0obGhzOiBDRlVSTFNlc3Npb25NdWx0aUNvZGUsIHJoczogQ0ZVUkxTZXNzaW9uTXVsdGlDb2RlKSAtPiBCb29sIHt9Cn0KZXh0ZW5zaW9uIENGVVJMU2Vzc2lvblBvbGwgewogICAgcHVibGljIGZ1bmMgPT0obGhzOiBDRlVSTFNlc3Npb25Qb2xsLCByaHM6IENGVVJMU2Vzc2lvblBvbGwpIC0+IEJvb2wge30KfQpleHRlbnNpb24gQ29sbGVjdGlvbk9mT25lIHsKfQpleHRlbnNpb24gQ29udGlndW91c0FycmF5IHsKfQpleHRlbnNpb24gRGVjb2RpbmdFcnJvciB7Cn0KZXh0ZW5zaW9uIERpY3Rpb25hcnkgewp9CmV4dGVuc2lvbiBEaXNwYXRjaERhdGEgewp9CmV4dGVuc2lvbiBEb3VibGUgewogICAgcHVibGljIGluaXQoXyB2YWx1ZTogQ0dGbG9hdCkge30KICAgIHB1YmxpYyBpbml0PyhleGFjdGx5IG51bWJlcjogTlNOdW1iZXIpIHt9CiAgICBwdWJsaWMgaW5pdCh0cnVuY2F0aW5nIG51bWJlcjogTlNOdW1iZXIpIHt9Cn0KZXh0ZW5zaW9uIEVtcHR5Q29sbGVjdGlvbiB7Cn0KZXh0ZW5zaW9uIEVuY29kaW5nRXJyb3Igewp9CmV4dGVuc2lvbiBGbG9hdCB7CiAgICBwdWJsaWMgaW5pdChfIHZhbHVlOiBDR0Zsb2F0KSB7fQogICAgcHVibGljIGluaXQ/KGV4YWN0bHkgbnVtYmVyOiBOU051bWJlcikge30KICAgIHB1YmxpYyBpbml0KHRydW5jYXRpbmcgbnVtYmVyOiBOU051bWJlcikge30KfQpleHRlbnNpb24gSW50IHsKICAgIHB1YmxpYyBpbml0KF8gdmFsdWU6IENHRmxvYXQpIHt9CiAgICBwdWJsaWMgaW5pdD8oZXhhY3RseSBudW1iZXI6IE5TTnVtYmVyKSB7fQogICAgcHVibGljIGluaXQodHJ1bmNhdGluZyBudW1iZXI6IE5TTnVtYmVyKSB7fQp9CmV4dGVuc2lvbiBJbnQxNiB7CiAgICBwdWJsaWMgaW5pdChfIHZhbHVlOiBDR0Zsb2F0KSB7fQogICAgcHVibGljIGluaXQ/KGV4YWN0bHkgbnVtYmVyOiBOU051bWJlcikge30KICAgIHB1YmxpYyBpbml0KHRydW5jYXRpbmcgbnVtYmVyOiBOU051bWJlcikge30KfQpleHRlbnNpb24gSW50MzIgewogICAgcHVibGljIGluaXQoXyB2YWx1ZTogQ0dGbG9hdCkge30KICAgIHB1YmxpYyBpbml0PyhleGFjdGx5IG51bWJlcjogTlNOdW1iZXIpIHt9CiAgICBwdWJsaWMgaW5pdCh0cnVuY2F0aW5nIG51bWJlcjogTlNOdW1iZXIpIHt9Cn0KZXh0ZW5zaW9uIEludDY0IHsKICAgIHB1YmxpYyBpbml0KF8gdmFsdWU6IENHRmxvYXQpIHt9CiAgICBwdWJsaWMgaW5pdD8oZXhhY3RseSBudW1iZXI6IE5TTnVtYmVyKSB7fQogICAgcHVibGljIGluaXQodHJ1bmNhdGluZyBudW1iZXI6IE5TTnVtYmVyKSB7fQp9CmV4dGVuc2lvbiBJbnQ4IHsKICAgIHB1YmxpYyBpbml0KF8gdmFsdWU6IENHRmxvYXQpIHt9CiAgICBwdWJsaWMgaW5pdD8oZXhhY3RseSBudW1iZXI6IE5TTnVtYmVyKSB7fQogICAgcHVibGljIGluaXQodHJ1bmNhdGluZyBudW1iZXI6IE5TTnVtYmVyKSB7fQp9CmV4dGVuc2lvbiBNZWFzdXJlbWVudCB7CiAgICBwdWJsaWMgaW5pdChmcm9tIGRlY29kZXI6IERlY29kZXIpIHRocm93cyB7fQogICAgcHVibGljIHZhciBjdXN0b21NaXJyb3I6IE1pcnJvciB7IGdldCB9CiAgICBwdWJsaWMgdmFyIGRlYnVnRGVzY3JpcHRpb246IFN0cmluZyB7IGdldCB9CiAgICBwdWJsaWMgdmFyIGRlc2NyaXB0aW9uOiBTdHJpbmcgeyBnZXQgfQogICAgcHVibGljIGZ1bmMgKihsaHM6IERvdWJsZSwgcmhzOiBNZWFzdXJlbWVudDxVbml0VHlwZT4pIC0+IE1lYXN1cmVtZW50PFVuaXRUeXBlPiB7fQogICAgcHVibGljIGZ1bmMgKihsaHM6IE1lYXN1cmVtZW50PFVuaXRUeXBlPiwgcmhzOiBEb3VibGUpIC0+IE1lYXN1cmVtZW50PFVuaXRUeXBlPiB7fQogICAgcHVibGljIGZ1bmMgKyhsaHM6IE1lYXN1cmVtZW50PFVuaXRUeXBlPiwgcmhzOiBNZWFzdXJlbWVudDxVbml0VHlwZT4pIC0+IE1lYXN1cmVtZW50PFVuaXRUeXBlPiB7fQogICAgcHVibGljIGZ1bmMgLShsaHM6IE1lYXN1cmVtZW50PFVuaXRUeXBlPiwgcmhzOiBNZWFzdXJlbWVudDxVbml0VHlwZT4pIC0+IE1lYXN1cmVtZW50PFVuaXRUeXBlPiB7fQogICAgcHVibGljIGZ1bmMgLyhsaHM6IERvdWJsZSwgcmhzOiBNZWFzdXJlbWVudDxVbml0VHlwZT4pIC0+IE1lYXN1cmVtZW50PFVuaXRUeXBlPiB7fQogICAgcHVibGljIGZ1bmMgLyhsaHM6IE1lYXN1cmVtZW50PFVuaXRUeXBlPiwgcmhzOiBEb3VibGUpIC0+IE1lYXN1cmVtZW50PFVuaXRUeXBlPiB7fQogICAgcHVibGljIGZ1bmMgPDxMZWZ0SGFuZFNpZGVUeXBlLCBSaWdodEhhbmRTaWRlVHlwZT4obGhzOiBNZWFzdXJlbWVudDxMZWZ0SGFuZFNpZGVUeXBlPiwgcmhzOiBNZWFzdXJlbWVudDxSaWdodEhhbmRTaWRlVHlwZT4pIC0+IEJvb2wge30KICAgIHB1YmxpYyBmdW5jID09PExlZnRIYW5kU2lkZVR5cGUsIFJpZ2h0SGFuZFNpZGVUeXBlPihsaHM6IE1lYXN1cmVtZW50PExlZnRIYW5kU2lkZVR5cGU+LCByaHM6IE1lYXN1cmVtZW50PFJpZ2h0SGFuZFNpZGVUeXBlPikgLT4gQm9vbCB7fQogICAgcHVibGljIGZ1bmMgZW5jb2RlKHRvIGVuY29kZXI6IEVuY29kZXIpIHRocm93cyB7fQp9CmV4dGVuc2lvbiBOU0V4cHJlc3Npb24gewp9CmV4dGVuc2lvbiBPcHRpb25hbCB7Cn0KZXh0ZW5zaW9uIFBPU0lYRXJyb3JDb2RlIHsKfQpleHRlbnNpb24gUmFuZ2Ugewp9CmV4dGVuc2lvbiBSZXBlYXRlZCB7Cn0KZXh0ZW5zaW9uIFNldCB7Cn0KZXh0ZW5zaW9uIFNsaWNlIHsKfQpleHRlbnNpb24gU3RyaW5nIHsKICAgIHB1YmxpYyBzdGF0aWMgdmFyIGF2YWlsYWJsZVN0cmluZ0VuY29kaW5nczogW0VuY29kaW5nXSB7IGdldCB9CiAgICBwdWJsaWMgc3RhdGljIHZhciBkZWZhdWx0Q1N0cmluZ0VuY29kaW5nOiBFbmNvZGluZyB7IGdldCB9CiAgICBwdWJsaWMgc3RhdGljIGZ1bmMgbG9jYWxpemVkTmFtZShvZiBlbmNvZGluZzogRW5jb2RpbmcpIC0+IFN0cmluZyB7fQogICAgcHVibGljIHN0YXRpYyBmdW5jIGxvY2FsaXplZFN0cmluZ1dpdGhGb3JtYXQoXyBmb3JtYXQ6IFN0cmluZywgXyBhcmd1bWVudHM6IENWYXJBcmcuLi4pIC0+IFN0cmluZyB7fQogICAgcHVibGljIGluaXQ/PFM+KGJ5dGVzOiBfX3NoYXJlZCBTLCBlbmNvZGluZzogRW5jb2RpbmcpIHdoZXJlIFMgOiBTZXF1ZW5jZSwgUy5JdGVyYXRvci5FbGVtZW50ID09IFVJbnQ4IHt9CiAgICBwdWJsaWMgaW5pdD8oYnl0ZXNOb0NvcHkgYnl0ZXM6IFVuc2FmZU11dGFibGVSYXdQb2ludGVyLCBsZW5ndGg6IEludCwgZW5jb2Rpbmc6IEVuY29kaW5nLCBmcmVlV2hlbkRvbmUgZmxhZzogQm9vbCkge30KICAgIHB1YmxpYyBpbml0PyhjU3RyaW5nOiBVbnNhZmVQb2ludGVyPENDaGFyPiwgZW5jb2RpbmcgZW5jOiBFbmNvZGluZykge30KICAgIHB1YmxpYyBpbml0KGNvbnRlbnRzT2YgdXJsOiBfX3NoYXJlZCBVUkwpIHRocm93cyB7fQogICAgcHVibGljIGluaXQoY29udGVudHNPZiB1cmw6IF9fc2hhcmVkIFVSTCwgZW5jb2RpbmcgZW5jOiBFbmNvZGluZykgdGhyb3dzIHt9CiAgICBwdWJsaWMgaW5pdChjb250ZW50c09mIHVybDogX19zaGFyZWQgVVJMLCB1c2VkRW5jb2Rpbmc6IGlub3V0IEVuY29kaW5nKSB0aHJvd3Mge30KICAgIHB1YmxpYyBpbml0KGNvbnRlbnRzT2ZGaWxlIHBhdGg6IF9fc2hhcmVkIFN0cmluZykgdGhyb3dzIHt9CiAgICBwdWJsaWMgaW5pdChjb250ZW50c09mRmlsZSBwYXRoOiBfX3NoYXJlZCBTdHJpbmcsIGVuY29kaW5nIGVuYzogRW5jb2RpbmcpIHRocm93cyB7fQogICAgcHVibGljIGluaXQoY29udGVudHNPZkZpbGUgcGF0aDogX19zaGFyZWQgU3RyaW5nLCB1c2VkRW5jb2Rpbmc6IGlub3V0IEVuY29kaW5nKSB0aHJvd3Mge30KICAgIHB1YmxpYyBpbml0PyhkYXRhOiBfX3NoYXJlZCBEYXRhLCBlbmNvZGluZzogRW5jb2RpbmcpIHt9CiAgICBwdWJsaWMgaW5pdChmb3JtYXQ6IF9fc2hhcmVkIFN0cmluZywgXyBhcmd1bWVudHM6IENWYXJBcmcuLi4pIHt9CiAgICBwdWJsaWMgaW5pdChmb3JtYXQ6IF9fc2hhcmVkIFN0cmluZywgYXJndW1lbnRzOiBfX3NoYXJlZCBbQ1ZhckFyZ10pIHt9CiAgICBwdWJsaWMgaW5pdChmb3JtYXQ6IF9fc2hhcmVkIFN0cmluZywgbG9jYWxlOiBfX3NoYXJlZCBMb2NhbGU/LCBfIGFyZ3M6IENWYXJBcmcuLi4pIHt9CiAgICBwdWJsaWMgaW5pdChmb3JtYXQ6IF9fc2hhcmVkIFN0cmluZywgbG9jYWxlOiBfX3NoYXJlZCBMb2NhbGU/LCBhcmd1bWVudHM6IF9fc2hhcmVkIFtDVmFyQXJnXSkge30KICAgIHB1YmxpYyBpbml0KHV0ZjE2Q29kZVVuaXRzOiBVbnNhZmVQb2ludGVyPHVuaWNoYXI+LCBjb3VudDogSW50KSB7fQogICAgcHVibGljIGluaXQodXRmMTZDb2RlVW5pdHNOb0NvcHk6IFVuc2FmZVBvaW50ZXI8dW5pY2hhcj4sIGNvdW50OiBJbnQsIGZyZWVXaGVuRG9uZSBmbGFnOiBCb29sKSB7fQogICAgcHVibGljIGluaXQ/KHV0ZjhTdHJpbmcgYnl0ZXM6IFVuc2FmZVBvaW50ZXI8Q0NoYXI+KSB7fQp9CmV4dGVuc2lvbiBTdHJpbmcuRW5jb2RpbmcgewogICAgcHVibGljIHZhciBkZXNjcmlwdGlvbjogU3RyaW5nIHsgZ2V0IH0KfQpleHRlbnNpb24gU3RyaW5nUHJvdG9jb2wgewogICAgcHVibGljIGZ1bmMgYXBwZW5kaW5nPFQ+KF8gYVN0cmluZzogVCkgLT4gU3RyaW5nIHdoZXJlIFQgOiBTdHJpbmdQcm90b2NvbCwgSW5kZXggPT0gU3RyaW5nLkluZGV4IHt9CiAgICBwdWJsaWMgZnVuYyBhcHBlbmRpbmdGb3JtYXQ8VD4oXyBmb3JtYXQ6IFQsIF8gYXJndW1lbnRzOiBDVmFyQXJnLi4uKSAtPiBTdHJpbmcgd2hlcmUgVCA6IFN0cmluZ1Byb3RvY29sLCBJbmRleCA9PSBTdHJpbmcuSW5kZXgge30KICAgIHB1YmxpYyBmdW5jIGNhc2VJbnNlbnNpdGl2ZUNvbXBhcmU8VD4oXyBhU3RyaW5nOiBUKSAtPiBDb21wYXJpc29uUmVzdWx0IHdoZXJlIFQgOiBTdHJpbmdQcm90b2NvbCwgSW5kZXggPT0gU3RyaW5nLkluZGV4IHt9CiAgICBwdWJsaWMgZnVuYyBjb21tb25QcmVmaXg8VD4od2l0aCBhU3RyaW5nOiBULCBvcHRpb25zOiBTdHJpbmcuQ29tcGFyZU9wdGlvbnMgPSB4KSAtPiBTdHJpbmcgd2hlcmUgVCA6IFN0cmluZ1Byb3RvY29sLCBJbmRleCA9PSBTdHJpbmcuSW5kZXgge30KICAgIHB1YmxpYyBmdW5jIGNvbXBhcmU8VD4oXyBhU3RyaW5nOiBULCBvcHRpb25zIG1hc2s6IFN0cmluZy5Db21wYXJlT3B0aW9ucyA9IHgsIHJhbmdlOiBSYW5nZTxJbmRleD4/ID0geCwgbG9jYWxlOiBMb2NhbGU/ID0geCkgLT4gQ29tcGFyaXNvblJlc3VsdCB3aGVyZSBUIDogU3RyaW5nUHJvdG9jb2wsIEluZGV4ID09IFN0cmluZy5JbmRleCB7fQogICAgcHVibGljIGZ1bmMgY29tcG9uZW50czxUPihzZXBhcmF0ZWRCeSBzZXBhcmF0b3I6IFQpIC0+IFtTdHJpbmddIHdoZXJlIFQgOiBTdHJpbmdQcm90b2NvbCwgSW5kZXggPT0gU3RyaW5nLkluZGV4IHt9CiAgICBwdWJsaWMgZnVuYyBjb250YWluczxUPihfIG90aGVyOiBUKSAtPiBCb29sIHdoZXJlIFQgOiBTdHJpbmdQcm90b2NvbCwgSW5kZXggPT0gU3RyaW5nLkluZGV4IHt9CiNpZiAhREVQTE9ZTUVOVF9SVU5USU1FX1NXSUZUCiAgICBwdWJsaWMgZnVuYyBlbnVtZXJhdGVMaW5ndWlzdGljVGFnczxULCBSPihpbiByYW5nZTogUiwgc2NoZW1lIHRhZ1NjaGVtZTogVCwgb3B0aW9ucyBvcHRzOiBOU0xpbmd1aXN0aWNUYWdnZXIuT3B0aW9ucyA9IHgsIG9ydGhvZ3JhcGh5OiBOU09ydGhvZ3JhcGh5PyA9IHgsIGludm9raW5nIGJvZHk6IChTdHJpbmcsIFJhbmdlPEluZGV4PiwgUmFuZ2U8SW5kZXg+LCBpbm91dCBCb29sKSAtPiBWb2lkKSB3aGVyZSBSIDogUmFuZ2VFeHByZXNzaW9uLCBUIDogU3RyaW5nUHJvdG9jb2wsIEluZGV4ID09IFIuQm91bmQsIEluZGV4ID09IFN0cmluZy5JbmRleCB7fQojZW5kaWYKICAgIHB1YmxpYyBmdW5jIGVudW1lcmF0ZVN1YnN0cmluZ3M8Uj4oaW4gcmFuZ2U6IFIsIG9wdGlvbnMgb3B0czogU3RyaW5nLkVudW1lcmF0aW9uT3B0aW9ucyA9IHgsIF8gYm9keTogQGVzY2FwaW5nIChfIHN1YnN0cmluZzogU3RyaW5nPywgXyBzdWJzdHJpbmdSYW5nZTogUmFuZ2U8SW5kZXg+LCBfIGVuY2xvc2luZ1JhbmdlOiBSYW5nZTxJbmRleD4sIGlub3V0IEJvb2wpIC0+IFZvaWQpIHdoZXJlIFIgOiBSYW5nZUV4cHJlc3Npb24sIEluZGV4ID09IFIuQm91bmQsIEluZGV4ID09IFN0cmluZy5JbmRleCB7fQogICAgcHVibGljIGZ1bmMgZ2V0Qnl0ZXM8Uj4oXyBidWZmZXI6IGlub3V0IFtVSW50OF0sIG1heExlbmd0aCBtYXhCdWZmZXJDb3VudDogSW50LCB1c2VkTGVuZ3RoIHVzZWRCdWZmZXJDb3VudDogVW5zYWZlTXV0YWJsZVBvaW50ZXI8SW50PiwgZW5jb2Rpbmc6IFN0cmluZy5FbmNvZGluZywgb3B0aW9uczogU3RyaW5nLkVuY29kaW5nQ29udmVyc2lvbk9wdGlvbnMgPSB4LCByYW5nZTogUiwgcmVtYWluaW5nIGxlZnRvdmVyOiBVbnNhZmVNdXRhYmxlUG9pbnRlcjxSYW5nZTxJbmRleD4+KSAtPiBCb29sIHdoZXJlIFIgOiBSYW5nZUV4cHJlc3Npb24sIEluZGV4ID09IFIuQm91bmQsIEluZGV4ID09IFN0cmluZy5JbmRleCB7fQogICAgcHVibGljIGZ1bmMgZ2V0TGluZVN0YXJ0PFI+KF8gc3RhcnQ6IFVuc2FmZU11dGFibGVQb2ludGVyPEluZGV4PiwgZW5kOiBVbnNhZmVNdXRhYmxlUG9pbnRlcjxJbmRleD4sIGNvbnRlbnRzRW5kOiBVbnNhZmVNdXRhYmxlUG9pbnRlcjxJbmRleD4sIGZvciByYW5nZTogUikgd2hlcmUgUiA6IFJhbmdlRXhwcmVzc2lvbiwgSW5kZXggPT0gUi5Cb3VuZCwgSW5kZXggPT0gU3RyaW5nLkluZGV4IHt9CiAgICBwdWJsaWMgZnVuYyBnZXRQYXJhZ3JhcGhTdGFydDxSPihfIHN0YXJ0OiBVbnNhZmVNdXRhYmxlUG9pbnRlcjxJbmRleD4sIGVuZDogVW5zYWZlTXV0YWJsZVBvaW50ZXI8SW5kZXg+LCBjb250ZW50c0VuZDogVW5zYWZlTXV0YWJsZVBvaW50ZXI8SW5kZXg+LCBmb3IgcmFuZ2U6IFIpIHdoZXJlIFIgOiBSYW5nZUV4cHJlc3Npb24sIEluZGV4ID09IFIuQm91bmQsIEluZGV4ID09IFN0cmluZy5JbmRleCB7fQogICAgcHVibGljIGZ1bmMgbGluZVJhbmdlPFI+KGZvciBhUmFuZ2U6IFIpIC0+IFJhbmdlPEluZGV4PiB3aGVyZSBSIDogUmFuZ2VFeHByZXNzaW9uLCBJbmRleCA9PSBSLkJvdW5kLCBJbmRleCA9PSBTdHJpbmcuSW5kZXgge30KI2lmICFERVBMT1lNRU5UX1JVTlRJTUVfU1dJRlQKICAgIHB1YmxpYyBmdW5jIGxpbmd1aXN0aWNUYWdzPFQsIFI+KGluIHJhbmdlOiBSLCBzY2hlbWUgdGFnU2NoZW1lOiBULCBvcHRpb25zIG9wdHM6IE5TTGluZ3Vpc3RpY1RhZ2dlci5PcHRpb25zID0geCwgb3J0aG9ncmFwaHk6IE5TT3J0aG9ncmFwaHk/ID0geCwgdG9rZW5SYW5nZXM6IFVuc2FmZU11dGFibGVQb2ludGVyPFtSYW5nZTxJbmRleD5dPj8gPSB4KSAtPiBbU3RyaW5nXSB3aGVyZSBSIDogUmFuZ2VFeHByZXNzaW9uLCBUIDogU3RyaW5nUHJvdG9jb2wsIEluZGV4ID09IFIuQm91bmQsIEluZGV4ID09IFN0cmluZy5JbmRleCB7fQojZW5kaWYKICAgIHB1YmxpYyBmdW5jIGxvY2FsaXplZENhc2VJbnNlbnNpdGl2ZUNvbXBhcmU8VD4oXyBhU3RyaW5nOiBUKSAtPiBDb21wYXJpc29uUmVzdWx0IHdoZXJlIFQgOiBTdHJpbmdQcm90b2NvbCwgSW5kZXggPT0gU3RyaW5nLkluZGV4IHt9CiAgICBwdWJsaWMgZnVuYyBsb2NhbGl6ZWRDYXNlSW5zZW5zaXRpdmVDb250YWluczxUPihfIG90aGVyOiBUKSAtPiBCb29sIHdoZXJlIFQgOiBTdHJpbmdQcm90b2NvbCwgSW5kZXggPT0gU3RyaW5nLkluZGV4IHt9CiAgICBwdWJsaWMgZnVuYyBsb2NhbGl6ZWRDb21wYXJlPFQ+KF8gYVN0cmluZzogVCkgLT4gQ29tcGFyaXNvblJlc3VsdCB3aGVyZSBUIDogU3RyaW5nUHJvdG9jb2wsIEluZGV4ID09IFN0cmluZy5JbmRleCB7fQogICAgcHVibGljIGZ1bmMgbG9jYWxpemVkU3RhbmRhcmRDb21wYXJlPFQ+KF8gc3RyaW5nOiBUKSAtPiBDb21wYXJpc29uUmVzdWx0IHdoZXJlIFQgOiBTdHJpbmdQcm90b2NvbCwgSW5kZXggPT0gU3RyaW5nLkluZGV4IHt9CiAgICBAYXZhaWxhYmxlKG1hY09TIDEwLjExLCBpT1MgOS4wLCAqKSBwdWJsaWMgZnVuYyBsb2NhbGl6ZWRTdGFuZGFyZENvbnRhaW5zPFQ+KF8gc3RyaW5nOiBUKSAtPiBCb29sIHdoZXJlIFQgOiBTdHJpbmdQcm90b2NvbCwgSW5kZXggPT0gU3RyaW5nLkluZGV4IHt9CiAgICBAYXZhaWxhYmxlKG1hY09TIDEwLjExLCBpT1MgOS4wLCAqKSBwdWJsaWMgZnVuYyBsb2NhbGl6ZWRTdGFuZGFyZFJhbmdlPFQ+KG9mIHN0cmluZzogVCkgLT4gUmFuZ2U8SW5kZXg+PyB3aGVyZSBUIDogU3RyaW5nUHJvdG9jb2wsIEluZGV4ID09IFN0cmluZy5JbmRleCB7fQogICAgcHVibGljIGZ1bmMgcGFkZGluZzxUPih0b0xlbmd0aCBuZXdMZW5ndGg6IEludCwgd2l0aFBhZCBwYWRTdHJpbmc6IFQsIHN0YXJ0aW5nQXQgcGFkSW5kZXg6IEludCkgLT4gU3RyaW5nIHdoZXJlIFQgOiBTdHJpbmdQcm90b2NvbCwgSW5kZXggPT0gU3RyaW5nLkluZGV4IHt9CiNpZiAhREVQTE9ZTUVOVF9SVU5USU1FX1NXSUZUCiAgICBwdWJsaWMgZnVuYyBwYXJhZ3JhcGhSYW5nZTxSPihmb3IgYVJhbmdlOiBSKSAtPiBSYW5nZTxJbmRleD4gd2hlcmUgUiA6IFJhbmdlRXhwcmVzc2lvbiwgSW5kZXggPT0gUi5Cb3VuZCwgSW5kZXggPT0gU3RyaW5nLkluZGV4IHt9CiNlbmRpZgogICAgcHVibGljIGZ1bmMgcmFuZ2U8VD4ob2YgYVN0cmluZzogVCwgb3B0aW9ucyBtYXNrOiBTdHJpbmcuQ29tcGFyZU9wdGlvbnMgPSB4LCByYW5nZSBzZWFyY2hSYW5nZTogUmFuZ2U8SW5kZXg+PyA9IHgsIGxvY2FsZTogTG9jYWxlPyA9IHgpIC0+IFJhbmdlPEluZGV4Pj8gd2hlcmUgVCA6IFN0cmluZ1Byb3RvY29sLCBJbmRleCA9PSBTdHJpbmcuSW5kZXgge30KICAgIHB1YmxpYyBmdW5jIHJhbmdlT2ZDb21wb3NlZENoYXJhY3RlclNlcXVlbmNlczxSPihmb3IgcmFuZ2U6IFIpIC0+IFJhbmdlPEluZGV4PiB3aGVyZSBSIDogUmFuZ2VFeHByZXNzaW9uLCBJbmRleCA9PSBSLkJvdW5kLCBJbmRleCA9PSBTdHJpbmcuSW5kZXgge30KICAgIHB1YmxpYyBmdW5jIHJlcGxhY2luZ0NoYXJhY3RlcnM8VCwgUj4oaW4gcmFuZ2U6IFIsIHdpdGggcmVwbGFjZW1lbnQ6IFQpIC0+IFN0cmluZyB3aGVyZSBSIDogUmFuZ2VFeHByZXNzaW9uLCBUIDogU3RyaW5nUHJvdG9jb2wsIEluZGV4ID09IFIuQm91bmQsIEluZGV4ID09IFN0cmluZy5JbmRleCB7fQogICAgcHVibGljIGZ1bmMgcmVwbGFjaW5nT2NjdXJyZW5jZXM8VGFyZ2V0LCBSZXBsYWNlbWVudD4ob2YgdGFyZ2V0OiBUYXJnZXQsIHdpdGggcmVwbGFjZW1lbnQ6IFJlcGxhY2VtZW50LCBvcHRpb25zOiBTdHJpbmcuQ29tcGFyZU9wdGlvbnMgPSB4LCByYW5nZSBzZWFyY2hSYW5nZTogUmFuZ2U8SW5kZXg+PyA9IHgpIC0+IFN0cmluZyB3aGVyZSBSZXBsYWNlbWVudCA6IFN0cmluZ1Byb3RvY29sLCBUYXJnZXQgOiBTdHJpbmdQcm90b2NvbCwgSW5kZXggPT0gU3RyaW5nLkluZGV4IHt9CiAgICBwdWJsaWMgZnVuYyB3cml0ZTxUPih0b0ZpbGUgcGF0aDogVCwgYXRvbWljYWxseSB1c2VBdXhpbGlhcnlGaWxlOiBCb29sLCBlbmNvZGluZyBlbmM6IFN0cmluZy5FbmNvZGluZykgdGhyb3dzIHdoZXJlIFQgOiBTdHJpbmdQcm90b2NvbCwgSW5kZXggPT0gU3RyaW5nLkluZGV4IHt9Cn0KZXh0ZW5zaW9uIFVJbnQgewogICAgcHVibGljIGluaXQoXyB2YWx1ZTogQ0dGbG9hdCkge30KICAgIHB1YmxpYyBpbml0PyhleGFjdGx5IG51bWJlcjogTlNOdW1iZXIpIHt9CiAgICBwdWJsaWMgaW5pdCh0cnVuY2F0aW5nIG51bWJlcjogTlNOdW1iZXIpIHt9Cn0KZXh0ZW5zaW9uIFVJbnQxNiB7CiAgICBwdWJsaWMgaW5pdChfIHZhbHVlOiBDR0Zsb2F0KSB7fQogICAgcHVibGljIGluaXQ/KGV4YWN0bHkgbnVtYmVyOiBOU051bWJlcikge30KICAgIHB1YmxpYyBpbml0KHRydW5jYXRpbmcgbnVtYmVyOiBOU051bWJlcikge30KfQpleHRlbnNpb24gVUludDMyIHsKICAgIHB1YmxpYyBpbml0KF8gdmFsdWU6IENHRmxvYXQpIHt9CiAgICBwdWJsaWMgaW5pdD8oZXhhY3RseSBudW1iZXI6IE5TTnVtYmVyKSB7fQogICAgcHVibGljIGluaXQodHJ1bmNhdGluZyBudW1iZXI6IE5TTnVtYmVyKSB7fQp9CmV4dGVuc2lvbiBVSW50NjQgewogICAgcHVibGljIGluaXQoXyB2YWx1ZTogQ0dGbG9hdCkge30KICAgIHB1YmxpYyBpbml0PyhleGFjdGx5IG51bWJlcjogTlNOdW1iZXIpIHt9CiAgICBwdWJsaWMgaW5pdCh0cnVuY2F0aW5nIG51bWJlcjogTlNOdW1iZXIpIHt9Cn0KZXh0ZW5zaW9uIFVJbnQ4IHsKICAgIHB1YmxpYyBpbml0KF8gdmFsdWU6IENHRmxvYXQpIHt9CiAgICBwdWJsaWMgaW5pdD8oZXhhY3RseSBudW1iZXI6IE5TTnVtYmVyKSB7fQogICAgcHVibGljIGluaXQodHJ1bmNhdGluZyBudW1iZXI6IE5TTnVtYmVyKSB7fQp9CmV4dGVuc2lvbiBVbnNhZmVCdWZmZXJQb2ludGVyIHsKfQpleHRlbnNpb24gVW5zYWZlTXV0YWJsZUJ1ZmZlclBvaW50ZXIgewp9CmV4dGVuc2lvbiBVbnNhZmVNdXRhYmxlUmF3QnVmZmVyUG9pbnRlciB7Cn0KZXh0ZW5zaW9uIFVuc2FmZVJhd0J1ZmZlclBvaW50ZXIgewp9")!, encoding: String.Encoding.utf8)!
    static let swift = String(data: Data(base64Encoded: "b3BlbiBjbGFzcyBNYW5hZ2VkQnVmZmVyPEhlYWRlciwgRWxlbWVudD4gewogICAgcHVibGljIHZhciBoZWFkZXI6IEhlYWRlciB7IGdldCBzZXQgfQp9CnB1YmxpYyBwcm90b2NvbCBBZGRpdGl2ZUFyaXRobWV0aWMgOiBFcXVhdGFibGUgewogICAgc3RhdGljIHZhciB6ZXJvOiBTZWxmIHsgZ2V0IH0KICAgIHByZWZpeCBmdW5jICsoeDogU2VsZikgLT4gU2VsZgogICAgZnVuYyArKGxoczogU2VsZiwgcmhzOiBTZWxmKSAtPiBTZWxmCiAgICBmdW5jICs9KGxoczogaW5vdXQgU2VsZiwgcmhzOiBTZWxmKQogICAgZnVuYyAtKGxoczogU2VsZiwgcmhzOiBTZWxmKSAtPiBTZWxmCiAgICBmdW5jIC09KGxoczogaW5vdXQgU2VsZiwgcmhzOiBTZWxmKQp9CnB1YmxpYyBwcm90b2NvbCBCaWRpcmVjdGlvbmFsQ29sbGVjdGlvbiA6IENvbGxlY3Rpb24sIFNlcXVlbmNlIHsKICAgIHZhciBsYXN0OiBFbGVtZW50PyB7IGdldCB9CiAgICBAYXZhaWxhYmxlKG1hY09TIDEwLjE1LCBpT1MgMTMsIHR2T1MgMTMsIHdhdGNoT1MgNiwgKikgZnVuYyBkaWZmZXJlbmNlPEM+KGZyb20gb3RoZXI6IEMpIC0+IENvbGxlY3Rpb25EaWZmZXJlbmNlPEVsZW1lbnQ+IHdoZXJlIEMgOiBCaWRpcmVjdGlvbmFsQ29sbGVjdGlvbiwgRWxlbWVudCA6IEVxdWF0YWJsZSwgQy5FbGVtZW50ID09IEVsZW1lbnQKICAgIEBhdmFpbGFibGUobWFjT1MgMTAuMTUsIGlPUyAxMywgdHZPUyAxMywgd2F0Y2hPUyA2LCAqKSBmdW5jIGRpZmZlcmVuY2U8Qz4oZnJvbSBvdGhlcjogQywgYnkgYXJlRXF1aXZhbGVudDogKEMuRWxlbWVudCwgRWxlbWVudCkgLT4gQm9vbCkgLT4gQ29sbGVjdGlvbkRpZmZlcmVuY2U8RWxlbWVudD4gd2hlcmUgQyA6IEJpZGlyZWN0aW9uYWxDb2xsZWN0aW9uLCBDLkVsZW1lbnQgPT0gRWxlbWVudAogICAgZnVuYyBmb3JtSW5kZXgoYmVmb3JlIGk6IGlub3V0IEluZGV4KQogICAgZnVuYyBpbmRleChiZWZvcmUgaTogSW5kZXgpIC0+IEluZGV4CiAgICBmdW5jIGxhc3Qod2hlcmUgcHJlZGljYXRlOiAoRWxlbWVudCkgdGhyb3dzIC0+IEJvb2wpIHJldGhyb3dzIC0+IEVsZW1lbnQ/CiAgICBmdW5jIGxhc3RJbmRleCh3aGVyZSBwcmVkaWNhdGU6IChFbGVtZW50KSB0aHJvd3MgLT4gQm9vbCkgcmV0aHJvd3MgLT4gSW5kZXg/Cn0KcHVibGljIHByb3RvY29sIEJpbmFyeUZsb2F0aW5nUG9pbnQgOiBBZGRpdGl2ZUFyaXRobWV0aWMsIENvbXBhcmFibGUsIEVxdWF0YWJsZSwgRXhwcmVzc2libGVCeUZsb2F0TGl0ZXJhbCwgRXhwcmVzc2libGVCeUludGVnZXJMaXRlcmFsLCBGbG9hdGluZ1BvaW50LCBIYXNoYWJsZSwgTnVtZXJpYywgU2lnbmVkTnVtZXJpYywgU3RyaWRlYWJsZSB7CiAgICBhc3NvY2lhdGVkdHlwZSBSYXdFeHBvbmVudAogICAgYXNzb2NpYXRlZHR5cGUgUmF3U2lnbmlmaWNhbmQKICAgIHN0YXRpYyB2YXIgZXhwb25lbnRCaXRDb3VudDogSW50IHsgZ2V0IH0KICAgIHN0YXRpYyB2YXIgc2lnbmlmaWNhbmRCaXRDb3VudDogSW50IHsgZ2V0IH0KICAgIHN0YXRpYyBmdW5jIHJhbmRvbTxUPihpbiByYW5nZTogQ2xvc2VkUmFuZ2U8U2VsZj4sIHVzaW5nIGdlbmVyYXRvcjogaW5vdXQgVCkgLT4gU2VsZiB3aGVyZSBSYXdTaWduaWZpY2FuZCA6IEZpeGVkV2lkdGhJbnRlZ2VyLCBUIDogUmFuZG9tTnVtYmVyR2VuZXJhdG9yCiAgICBzdGF0aWMgZnVuYyByYW5kb208VD4oaW4gcmFuZ2U6IFJhbmdlPFNlbGY+LCB1c2luZyBnZW5lcmF0b3I6IGlub3V0IFQpIC0+IFNlbGYgd2hlcmUgUmF3U2lnbmlmaWNhbmQgOiBGaXhlZFdpZHRoSW50ZWdlciwgVCA6IFJhbmRvbU51bWJlckdlbmVyYXRvcgogICAgaW5pdChzaWduOiBGbG9hdGluZ1BvaW50U2lnbiwgZXhwb25lbnRCaXRQYXR0ZXJuOiBSYXdFeHBvbmVudCwgc2lnbmlmaWNhbmRCaXRQYXR0ZXJuOiBSYXdTaWduaWZpY2FuZCkKICAgIHZhciBiaW5hZGU6IFNlbGYgeyBnZXQgfQogICAgdmFyIGV4cG9uZW50Qml0UGF0dGVybjogUmF3RXhwb25lbnQgeyBnZXQgfQogICAgdmFyIHNpZ25pZmljYW5kQml0UGF0dGVybjogUmF3U2lnbmlmaWNhbmQgeyBnZXQgfQogICAgdmFyIHNpZ25pZmljYW5kV2lkdGg6IEludCB7IGdldCB9Cn0KcHVibGljIHByb3RvY29sIEJpbmFyeUludGVnZXIgOiBBZGRpdGl2ZUFyaXRobWV0aWMsIENvbXBhcmFibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEV4cHJlc3NpYmxlQnlJbnRlZ2VyTGl0ZXJhbCwgSGFzaGFibGUsIE51bWVyaWMsIFN0cmlkZWFibGUgewogICAgYXNzb2NpYXRlZHR5cGUgV29yZHMgd2hlcmUgSW50ID09IFdvcmRzLkluZGV4LCBVSW50ID09IFdvcmRzLkVsZW1lbnQKICAgIHN0YXRpYyB2YXIgaXNTaWduZWQ6IEJvb2wgeyBnZXQgfQogICAgaW5pdCgpCiAgICBpbml0PFQ+KF8gc291cmNlOiBUKSB3aGVyZSBUIDogQmluYXJ5RmxvYXRpbmdQb2ludAogICAgaW5pdDxUPihfIHNvdXJjZTogVCkgd2hlcmUgVCA6IEJpbmFyeUludGVnZXIKICAgIGluaXQ8VD4oY2xhbXBpbmcgc291cmNlOiBUKSB3aGVyZSBUIDogQmluYXJ5SW50ZWdlcgogICAgaW5pdDxUPih0cnVuY2F0aW5nSWZOZWVkZWQgc291cmNlOiBUKSB3aGVyZSBUIDogQmluYXJ5SW50ZWdlcgogICAgdmFyIGJpdFdpZHRoOiBJbnQgeyBnZXQgfQogICAgdmFyIHRyYWlsaW5nWmVyb0JpdENvdW50OiBJbnQgeyBnZXQgfQogICAgdmFyIHdvcmRzOiBXb3JkcyB7IGdldCB9CiAgICBmdW5jICUobGhzOiBTZWxmLCByaHM6IFNlbGYpIC0+IFNlbGYKICAgIGZ1bmMgJT0obGhzOiBpbm91dCBTZWxmLCByaHM6IFNlbGYpCiAgICBmdW5jICYobGhzOiBTZWxmLCByaHM6IFNlbGYpIC0+IFNlbGYKICAgIGZ1bmMgJj0obGhzOiBpbm91dCBTZWxmLCByaHM6IFNlbGYpCiAgICBmdW5jIC8obGhzOiBTZWxmLCByaHM6IFNlbGYpIC0+IFNlbGYKICAgIGZ1bmMgLz0obGhzOiBpbm91dCBTZWxmLCByaHM6IFNlbGYpCiAgICBmdW5jIDw8PFJIUz4obGhzOiBTZWxmLCByaHM6IFJIUykgLT4gU2VsZiB3aGVyZSBSSFMgOiBCaW5hcnlJbnRlZ2VyCiAgICBmdW5jIDw8PTxSSFM+KGxoczogaW5vdXQgU2VsZiwgcmhzOiBSSFMpIHdoZXJlIFJIUyA6IEJpbmFyeUludGVnZXIKICAgIGZ1bmMgPj48UkhTPihsaHM6IFNlbGYsIHJoczogUkhTKSAtPiBTZWxmIHdoZXJlIFJIUyA6IEJpbmFyeUludGVnZXIKICAgIGZ1bmMgPj49PFJIUz4obGhzOiBpbm91dCBTZWxmLCByaHM6IFJIUykgd2hlcmUgUkhTIDogQmluYXJ5SW50ZWdlcgogICAgZnVuYyBeKGxoczogU2VsZiwgcmhzOiBTZWxmKSAtPiBTZWxmCiAgICBmdW5jIF49KGxoczogaW5vdXQgU2VsZiwgcmhzOiBTZWxmKQogICAgZnVuYyBpc011bHRpcGxlKG9mIG90aGVyOiBTZWxmKSAtPiBCb29sCiAgICBmdW5jIHF1b3RpZW50QW5kUmVtYWluZGVyKGRpdmlkaW5nQnkgcmhzOiBTZWxmKSAtPiAocXVvdGllbnQ6IFNlbGYsIHJlbWFpbmRlcjogU2VsZikKICAgIGZ1bmMgcXVvdGllbnRBbmRSZW1haW5kZXIoZGl2aWRpbmdCeSByaHM6IFNlbGYpIC0+IChxdW90aWVudDogU2VsZiwgcmVtYWluZGVyOiBTZWxmKQogICAgZnVuYyBzaWdudW0oKSAtPiBTZWxmCiAgICBmdW5jIHwobGhzOiBTZWxmLCByaHM6IFNlbGYpIC0+IFNlbGYKICAgIGZ1bmMgfD0obGhzOiBpbm91dCBTZWxmLCByaHM6IFNlbGYpCiAgICBwcmVmaXggZnVuYyB+KHg6IFNlbGYpIC0+IFNlbGYKfQpwdWJsaWMgcHJvdG9jb2wgQ1ZhckFyZyB7Cn0KcHVibGljIHByb3RvY29sIENhc2VJdGVyYWJsZSB7CiAgICBhc3NvY2lhdGVkdHlwZSBBbGxDYXNlcyB3aGVyZSBBbGxDYXNlcy5FbGVtZW50ID09IFNlbGYKICAgIHN0YXRpYyB2YXIgYWxsQ2FzZXM6IEFsbENhc2VzIHsgZ2V0IH0KfQpwdWJsaWMgcHJvdG9jb2wgQ29kaW5nS2V5IDogQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUgewogICAgaW5pdD8oaW50VmFsdWU6IEludCkKICAgIGluaXQ/KHN0cmluZ1ZhbHVlOiBTdHJpbmcpCiAgICB2YXIgaW50VmFsdWU6IEludD8geyBnZXQgfQogICAgdmFyIHN0cmluZ1ZhbHVlOiBTdHJpbmcgeyBnZXQgfQp9CnB1YmxpYyBwcm90b2NvbCBDb2xsZWN0aW9uIDogU2VxdWVuY2UgewogICAgYXNzb2NpYXRlZHR5cGUgSW5kZXgKICAgIGFzc29jaWF0ZWR0eXBlIEluZGljZXMgd2hlcmUgSW5kZXggPT0gSW5kaWNlcy5FbGVtZW50LCBJbmRleCA9PSBJbmRpY2VzLkluZGV4LCBJbmRpY2VzID09IEluZGljZXMuU3ViU2VxdWVuY2UKICAgIGFzc29jaWF0ZWR0eXBlIFN1YlNlcXVlbmNlIHdoZXJlIEVsZW1lbnQgPT0gU3ViU2VxdWVuY2UuRWxlbWVudCwgSW5kZXggPT0gU3ViU2VxdWVuY2UuSW5kZXgsIFN1YlNlcXVlbmNlID09IFN1YlNlcXVlbmNlLlN1YlNlcXVlbmNlCiAgICB2YXIgY291bnQ6IEludCB7IGdldCB9CiAgICB2YXIgZW5kSW5kZXg6IEluZGV4IHsgZ2V0IH0KICAgIHZhciBmaXJzdDogRWxlbWVudD8geyBnZXQgfQogICAgdmFyIGluZGljZXM6IEluZGljZXMgeyBnZXQgfQogICAgdmFyIGlzRW1wdHk6IEJvb2wgeyBnZXQgfQogICAgdmFyIGlzRW1wdHk6IEJvb2wgeyBnZXQgfQogICAgdmFyIHN0YXJ0SW5kZXg6IEluZGV4IHsgZ2V0IH0KICAgIHN1YnNjcmlwdChib3VuZHM6IFJhbmdlPEluZGV4PikgLT4gU3ViU2VxdWVuY2UgeyBnZXQgfQogICAgc3Vic2NyaXB0KHBvc2l0aW9uOiBJbmRleCkgLT4gRWxlbWVudCB7IGdldCB9CiAgICBzdWJzY3JpcHQoeDogVW5ib3VuZGVkUmFuZ2UpIC0+IFN1YlNlcXVlbmNlIHsgZ2V0IH0KICAgIHN1YnNjcmlwdDxSPihyOiBSKSAtPiBTdWJTZXF1ZW5jZSB3aGVyZSBSIDogUmFuZ2VFeHByZXNzaW9uLCBJbmRleCA9PSBSLkJvdW5kIHsgZ2V0IH0KICAgIGZ1bmMgZGlzdGFuY2UoZnJvbSBzdGFydDogSW5kZXgsIHRvIGVuZDogSW5kZXgpIC0+IEludAogICAgZnVuYyBmaXJzdEluZGV4KHdoZXJlIHByZWRpY2F0ZTogKEVsZW1lbnQpIHRocm93cyAtPiBCb29sKSByZXRocm93cyAtPiBJbmRleD8KICAgIGZ1bmMgZm9ybUluZGV4KF8gaTogaW5vdXQgSW5kZXgsIG9mZnNldEJ5IGRpc3RhbmNlOiBJbnQpCiAgICBmdW5jIGZvcm1JbmRleChfIGk6IGlub3V0IEluZGV4LCBvZmZzZXRCeSBkaXN0YW5jZTogSW50LCBsaW1pdGVkQnkgbGltaXQ6IEluZGV4KSAtPiBCb29sCiAgICBmdW5jIGZvcm1JbmRleChhZnRlciBpOiBpbm91dCBJbmRleCkKICAgIGZ1bmMgaW5kZXgoXyBpOiBJbmRleCwgb2Zmc2V0QnkgZGlzdGFuY2U6IEludCkgLT4gSW5kZXgKICAgIGZ1bmMgaW5kZXgoXyBpOiBJbmRleCwgb2Zmc2V0QnkgZGlzdGFuY2U6IEludCwgbGltaXRlZEJ5IGxpbWl0OiBJbmRleCkgLT4gSW5kZXg/CiAgICBmdW5jIGluZGV4KGFmdGVyIGk6IEluZGV4KSAtPiBJbmRleAogICAgZnVuYyBwcmVmaXgodGhyb3VnaCBwb3NpdGlvbjogSW5kZXgpIC0+IFN1YlNlcXVlbmNlCiAgICBmdW5jIHByZWZpeCh1cFRvIGVuZDogSW5kZXgpIC0+IFN1YlNlcXVlbmNlCiAgICBmdW5jIHJhbmRvbUVsZW1lbnQoKSAtPiBFbGVtZW50PwogICAgZnVuYyByYW5kb21FbGVtZW50PFQ+KHVzaW5nIGdlbmVyYXRvcjogaW5vdXQgVCkgLT4gRWxlbWVudD8gd2hlcmUgVCA6IFJhbmRvbU51bWJlckdlbmVyYXRvcgogICAgZnVuYyBzdWZmaXgoZnJvbSBzdGFydDogSW5kZXgpIC0+IFN1YlNlcXVlbmNlCn0KcHVibGljIHByb3RvY29sIENvbXBhcmFibGUgOiBFcXVhdGFibGUgewogICAgcG9zdGZpeCBmdW5jIC4uLihtaW5pbXVtOiBTZWxmKSAtPiBQYXJ0aWFsUmFuZ2VGcm9tPFNlbGY+CiAgICBwcmVmaXggZnVuYyAuLi4obWF4aW11bTogU2VsZikgLT4gUGFydGlhbFJhbmdlVGhyb3VnaDxTZWxmPgogICAgZnVuYyAuLi4obWluaW11bTogU2VsZiwgbWF4aW11bTogU2VsZikgLT4gQ2xvc2VkUmFuZ2U8U2VsZj4KICAgIHByZWZpeCBmdW5jIC4uPChtYXhpbXVtOiBTZWxmKSAtPiBQYXJ0aWFsUmFuZ2VVcFRvPFNlbGY+CiAgICBmdW5jIC4uPChtaW5pbXVtOiBTZWxmLCBtYXhpbXVtOiBTZWxmKSAtPiBSYW5nZTxTZWxmPgogICAgZnVuYyA8KGxoczogU2VsZiwgcmhzOiBTZWxmKSAtPiBCb29sCiAgICBmdW5jIDw9KGxoczogU2VsZiwgcmhzOiBTZWxmKSAtPiBCb29sCiAgICBmdW5jIDw9KGxoczogU2VsZiwgcmhzOiBTZWxmKSAtPiBCb29sCiAgICBmdW5jID4obGhzOiBTZWxmLCByaHM6IFNlbGYpIC0+IEJvb2wKICAgIGZ1bmMgPihsaHM6IFNlbGYsIHJoczogU2VsZikgLT4gQm9vbAogICAgZnVuYyA+PShsaHM6IFNlbGYsIHJoczogU2VsZikgLT4gQm9vbAogICAgZnVuYyA+PShsaHM6IFNlbGYsIHJoczogU2VsZikgLT4gQm9vbAp9CnB1YmxpYyBwcm90b2NvbCBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlIHsKICAgIHZhciBkZWJ1Z0Rlc2NyaXB0aW9uOiBTdHJpbmcgeyBnZXQgfQp9CnB1YmxpYyBwcm90b2NvbCBDdXN0b21MZWFmUmVmbGVjdGFibGUgOiBDdXN0b21SZWZsZWN0YWJsZSB7Cn0KcHVibGljIHByb3RvY29sIEN1c3RvbVBsYXlncm91bmREaXNwbGF5Q29udmVydGlibGUgewogICAgdmFyIHBsYXlncm91bmREZXNjcmlwdGlvbjogQW55IHsgZ2V0IH0KfQpwdWJsaWMgcHJvdG9jb2wgQ3VzdG9tUmVmbGVjdGFibGUgewogICAgdmFyIGN1c3RvbU1pcnJvcjogTWlycm9yIHsgZ2V0IH0KfQpwdWJsaWMgcHJvdG9jb2wgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUgewogICAgdmFyIGRlc2NyaXB0aW9uOiBTdHJpbmcgeyBnZXQgfQp9CnB1YmxpYyBwcm90b2NvbCBEZWNvZGFibGUgewogICAgaW5pdChmcm9tIGRlY29kZXI6IERlY29kZXIpIHRocm93cwp9CnB1YmxpYyBwcm90b2NvbCBEZWNvZGVyIHsKICAgIHZhciBjb2RpbmdQYXRoOiBbQ29kaW5nS2V5XSB7IGdldCB9CiAgICB2YXIgdXNlckluZm86IFtDb2RpbmdVc2VySW5mb0tleTogQW55XSB7IGdldCB9CiAgICBmdW5jIGNvbnRhaW5lcjxLZXk+KGtleWVkQnkgdHlwZTogS2V5LlR5cGUpIHRocm93cyAtPiBLZXllZERlY29kaW5nQ29udGFpbmVyPEtleT4KICAgIGZ1bmMgc2luZ2xlVmFsdWVDb250YWluZXIoKSB0aHJvd3MgLT4gU2luZ2xlVmFsdWVEZWNvZGluZ0NvbnRhaW5lcgogICAgZnVuYyB1bmtleWVkQ29udGFpbmVyKCkgdGhyb3dzIC0+IFVua2V5ZWREZWNvZGluZ0NvbnRhaW5lcgp9CnB1YmxpYyBwcm90b2NvbCBFbmNvZGFibGUgewogICAgZnVuYyBlbmNvZGUodG8gZW5jb2RlcjogRW5jb2RlcikgdGhyb3dzCn0KcHVibGljIHByb3RvY29sIEVuY29kZXIgewogICAgdmFyIGNvZGluZ1BhdGg6IFtDb2RpbmdLZXldIHsgZ2V0IH0KICAgIHZhciB1c2VySW5mbzogW0NvZGluZ1VzZXJJbmZvS2V5OiBBbnldIHsgZ2V0IH0KICAgIGZ1bmMgY29udGFpbmVyPEtleT4oa2V5ZWRCeSB0eXBlOiBLZXkuVHlwZSkgLT4gS2V5ZWRFbmNvZGluZ0NvbnRhaW5lcjxLZXk+CiAgICBmdW5jIHNpbmdsZVZhbHVlQ29udGFpbmVyKCkgLT4gU2luZ2xlVmFsdWVFbmNvZGluZ0NvbnRhaW5lcgogICAgZnVuYyB1bmtleWVkQ29udGFpbmVyKCkgLT4gVW5rZXllZEVuY29kaW5nQ29udGFpbmVyCn0KcHVibGljIHByb3RvY29sIEVxdWF0YWJsZSB7CiAgICBmdW5jICE9KGxoczogU2VsZiwgcmhzOiBTZWxmKSAtPiBCb29sCiAgICBmdW5jID09KGxoczogU2VsZiwgcmhzOiBTZWxmKSAtPiBCb29sCn0KcHVibGljIHByb3RvY29sIEVycm9yIHsKfQpwdWJsaWMgcHJvdG9jb2wgRXhwcmVzc2libGVCeUFycmF5TGl0ZXJhbCB7CiAgICBhc3NvY2lhdGVkdHlwZSBBcnJheUxpdGVyYWxFbGVtZW50CiAgICBpbml0KGFycmF5TGl0ZXJhbCBlbGVtZW50czogQXJyYXlMaXRlcmFsRWxlbWVudC4uLikKfQpwdWJsaWMgcHJvdG9jb2wgRXhwcmVzc2libGVCeUJvb2xlYW5MaXRlcmFsIHsKICAgIGFzc29jaWF0ZWR0eXBlIEJvb2xlYW5MaXRlcmFsVHlwZQogICAgaW5pdChib29sZWFuTGl0ZXJhbCB2YWx1ZTogQm9vbGVhbkxpdGVyYWxUeXBlKQp9CnB1YmxpYyBwcm90b2NvbCBFeHByZXNzaWJsZUJ5RGljdGlvbmFyeUxpdGVyYWwgewogICAgYXNzb2NpYXRlZHR5cGUgS2V5CiAgICBhc3NvY2lhdGVkdHlwZSBWYWx1ZQogICAgaW5pdChkaWN0aW9uYXJ5TGl0ZXJhbCBlbGVtZW50czogKEtleSwgVmFsdWUpLi4uKQp9CnB1YmxpYyBwcm90b2NvbCBFeHByZXNzaWJsZUJ5RXh0ZW5kZWRHcmFwaGVtZUNsdXN0ZXJMaXRlcmFsIDogRXhwcmVzc2libGVCeVVuaWNvZGVTY2FsYXJMaXRlcmFsIHsKICAgIGFzc29jaWF0ZWR0eXBlIEV4dGVuZGVkR3JhcGhlbWVDbHVzdGVyTGl0ZXJhbFR5cGUKICAgIGluaXQoZXh0ZW5kZWRHcmFwaGVtZUNsdXN0ZXJMaXRlcmFsIHZhbHVlOiBFeHRlbmRlZEdyYXBoZW1lQ2x1c3RlckxpdGVyYWxUeXBlKQp9CnB1YmxpYyBwcm90b2NvbCBFeHByZXNzaWJsZUJ5RmxvYXRMaXRlcmFsIHsKICAgIGFzc29jaWF0ZWR0eXBlIEZsb2F0TGl0ZXJhbFR5cGUKICAgIGluaXQoZmxvYXRMaXRlcmFsIHZhbHVlOiBGbG9hdExpdGVyYWxUeXBlKQp9CnB1YmxpYyBwcm90b2NvbCBFeHByZXNzaWJsZUJ5SW50ZWdlckxpdGVyYWwgewogICAgYXNzb2NpYXRlZHR5cGUgSW50ZWdlckxpdGVyYWxUeXBlCiAgICBpbml0KGludGVnZXJMaXRlcmFsIHZhbHVlOiBJbnRlZ2VyTGl0ZXJhbFR5cGUpCn0KcHVibGljIHByb3RvY29sIEV4cHJlc3NpYmxlQnlOaWxMaXRlcmFsIHsKICAgIGluaXQobmlsTGl0ZXJhbDogVm9pZCkKfQpwdWJsaWMgcHJvdG9jb2wgRXhwcmVzc2libGVCeVN0cmluZ0ludGVycG9sYXRpb24gOiBFeHByZXNzaWJsZUJ5RXh0ZW5kZWRHcmFwaGVtZUNsdXN0ZXJMaXRlcmFsLCBFeHByZXNzaWJsZUJ5U3RyaW5nTGl0ZXJhbCwgRXhwcmVzc2libGVCeVVuaWNvZGVTY2FsYXJMaXRlcmFsIHsKICAgIGFzc29jaWF0ZWR0eXBlIFN0cmluZ0ludGVycG9sYXRpb24gd2hlcmUgU3RyaW5nSW50ZXJwb2xhdGlvbi5TdHJpbmdMaXRlcmFsVHlwZSA9PSBTdHJpbmdMaXRlcmFsVHlwZQogICAgaW5pdChzdHJpbmdJbnRlcnBvbGF0aW9uOiBTdHJpbmdJbnRlcnBvbGF0aW9uKQp9CnB1YmxpYyBwcm90b2NvbCBFeHByZXNzaWJsZUJ5U3RyaW5nTGl0ZXJhbCA6IEV4cHJlc3NpYmxlQnlFeHRlbmRlZEdyYXBoZW1lQ2x1c3RlckxpdGVyYWwsIEV4cHJlc3NpYmxlQnlVbmljb2RlU2NhbGFyTGl0ZXJhbCB7CiAgICBhc3NvY2lhdGVkdHlwZSBTdHJpbmdMaXRlcmFsVHlwZQogICAgaW5pdChzdHJpbmdMaXRlcmFsIHZhbHVlOiBTdHJpbmdMaXRlcmFsVHlwZSkKfQpwdWJsaWMgcHJvdG9jb2wgRXhwcmVzc2libGVCeVVuaWNvZGVTY2FsYXJMaXRlcmFsIHsKICAgIGFzc29jaWF0ZWR0eXBlIFVuaWNvZGVTY2FsYXJMaXRlcmFsVHlwZQogICAgaW5pdCh1bmljb2RlU2NhbGFyTGl0ZXJhbCB2YWx1ZTogVW5pY29kZVNjYWxhckxpdGVyYWxUeXBlKQp9CnB1YmxpYyBwcm90b2NvbCBGaXhlZFdpZHRoSW50ZWdlciA6IEFkZGl0aXZlQXJpdGhtZXRpYywgQmluYXJ5SW50ZWdlciwgQ29tcGFyYWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgRXhwcmVzc2libGVCeUludGVnZXJMaXRlcmFsLCBIYXNoYWJsZSwgTG9zc2xlc3NTdHJpbmdDb252ZXJ0aWJsZSwgTnVtZXJpYywgU3RyaWRlYWJsZSB7CiAgICBzdGF0aWMgdmFyIGJpdFdpZHRoOiBJbnQgeyBnZXQgfQogICAgc3RhdGljIHZhciBtYXg6IFNlbGYgeyBnZXQgfQogICAgc3RhdGljIHZhciBtaW46IFNlbGYgeyBnZXQgfQogICAgc3RhdGljIGZ1bmMgcmFuZG9tKGluIHJhbmdlOiBDbG9zZWRSYW5nZTxTZWxmPikgLT4gU2VsZgogICAgc3RhdGljIGZ1bmMgcmFuZG9tKGluIHJhbmdlOiBSYW5nZTxTZWxmPikgLT4gU2VsZgogICAgc3RhdGljIGZ1bmMgcmFuZG9tPFQ+KGluIHJhbmdlOiBDbG9zZWRSYW5nZTxTZWxmPiwgdXNpbmcgZ2VuZXJhdG9yOiBpbm91dCBUKSAtPiBTZWxmIHdoZXJlIFQgOiBSYW5kb21OdW1iZXJHZW5lcmF0b3IKICAgIHN0YXRpYyBmdW5jIHJhbmRvbTxUPihpbiByYW5nZTogUmFuZ2U8U2VsZj4sIHVzaW5nIGdlbmVyYXRvcjogaW5vdXQgVCkgLT4gU2VsZiB3aGVyZSBUIDogUmFuZG9tTnVtYmVyR2VuZXJhdG9yCiAgICBpbml0PzxTPihfIHRleHQ6IFMsIHJhZGl4OiBJbnQgPSB4KSB3aGVyZSBTIDogU3RyaW5nUHJvdG9jb2wKICAgIGluaXQoYmlnRW5kaWFuIHZhbHVlOiBTZWxmKQogICAgaW5pdChsaXR0bGVFbmRpYW4gdmFsdWU6IFNlbGYpCiAgICB2YXIgYmlnRW5kaWFuOiBTZWxmIHsgZ2V0IH0KICAgIHZhciBieXRlU3dhcHBlZDogU2VsZiB7IGdldCB9CiAgICB2YXIgbGVhZGluZ1plcm9CaXRDb3VudDogSW50IHsgZ2V0IH0KICAgIHZhciBsaXR0bGVFbmRpYW46IFNlbGYgeyBnZXQgfQogICAgdmFyIG5vbnplcm9CaXRDb3VudDogSW50IHsgZ2V0IH0KICAgIGZ1bmMgJioobGhzOiBTZWxmLCByaHM6IFNlbGYpIC0+IFNlbGYKICAgIGZ1bmMgJio9KGxoczogaW5vdXQgU2VsZiwgcmhzOiBTZWxmKQogICAgZnVuYyAmKyhsaHM6IFNlbGYsIHJoczogU2VsZikgLT4gU2VsZgogICAgZnVuYyAmKz0obGhzOiBpbm91dCBTZWxmLCByaHM6IFNlbGYpCiAgICBmdW5jICYtKGxoczogU2VsZiwgcmhzOiBTZWxmKSAtPiBTZWxmCiAgICBmdW5jICYtPShsaHM6IGlub3V0IFNlbGYsIHJoczogU2VsZikKICAgIGZ1bmMgJjw8KGxoczogU2VsZiwgcmhzOiBTZWxmKSAtPiBTZWxmCiAgICBmdW5jICY8PD0obGhzOiBpbm91dCBTZWxmLCByaHM6IFNlbGYpCiAgICBmdW5jICY+PihsaHM6IFNlbGYsIHJoczogU2VsZikgLT4gU2VsZgogICAgZnVuYyAmPj49KGxoczogaW5vdXQgU2VsZiwgcmhzOiBTZWxmKQogICAgZnVuYyBhZGRpbmdSZXBvcnRpbmdPdmVyZmxvdyhfIHJoczogU2VsZikgLT4gKHBhcnRpYWxWYWx1ZTogU2VsZiwgb3ZlcmZsb3c6IEJvb2wpCiAgICBmdW5jIGRpdmlkZWRSZXBvcnRpbmdPdmVyZmxvdyhieSByaHM6IFNlbGYpIC0+IChwYXJ0aWFsVmFsdWU6IFNlbGYsIG92ZXJmbG93OiBCb29sKQogICAgZnVuYyBkaXZpZGluZ0Z1bGxXaWR0aChfIGRpdmlkZW5kOiAoaGlnaDogU2VsZiwgbG93OiBNYWduaXR1ZGUpKSAtPiAocXVvdGllbnQ6IFNlbGYsIHJlbWFpbmRlcjogU2VsZikKICAgIGZ1bmMgbXVsdGlwbGllZEZ1bGxXaWR0aChieSBvdGhlcjogU2VsZikgLT4gKGhpZ2g6IFNlbGYsIGxvdzogTWFnbml0dWRlKQogICAgZnVuYyBtdWx0aXBsaWVkUmVwb3J0aW5nT3ZlcmZsb3coYnkgcmhzOiBTZWxmKSAtPiAocGFydGlhbFZhbHVlOiBTZWxmLCBvdmVyZmxvdzogQm9vbCkKICAgIGZ1bmMgcmVtYWluZGVyUmVwb3J0aW5nT3ZlcmZsb3coZGl2aWRpbmdCeSByaHM6IFNlbGYpIC0+IChwYXJ0aWFsVmFsdWU6IFNlbGYsIG92ZXJmbG93OiBCb29sKQogICAgZnVuYyBzdWJ0cmFjdGluZ1JlcG9ydGluZ092ZXJmbG93KF8gcmhzOiBTZWxmKSAtPiAocGFydGlhbFZhbHVlOiBTZWxmLCBvdmVyZmxvdzogQm9vbCkKfQpwdWJsaWMgcHJvdG9jb2wgRmxvYXRpbmdQb2ludCA6IEFkZGl0aXZlQXJpdGhtZXRpYywgQ29tcGFyYWJsZSwgRXF1YXRhYmxlLCBFeHByZXNzaWJsZUJ5SW50ZWdlckxpdGVyYWwsIEhhc2hhYmxlLCBOdW1lcmljLCBTaWduZWROdW1lcmljLCBTdHJpZGVhYmxlIHsKICAgIGFzc29jaWF0ZWR0eXBlIEV4cG9uZW50CiAgICBzdGF0aWMgdmFyIGdyZWF0ZXN0RmluaXRlTWFnbml0dWRlOiBTZWxmIHsgZ2V0IH0KICAgIHN0YXRpYyB2YXIgaW5maW5pdHk6IFNlbGYgeyBnZXQgfQogICAgc3RhdGljIHZhciBsZWFzdE5vbnplcm9NYWduaXR1ZGU6IFNlbGYgeyBnZXQgfQogICAgc3RhdGljIHZhciBsZWFzdE5vcm1hbE1hZ25pdHVkZTogU2VsZiB7IGdldCB9CiAgICBzdGF0aWMgdmFyIG5hbjogU2VsZiB7IGdldCB9CiAgICBzdGF0aWMgdmFyIHBpOiBTZWxmIHsgZ2V0IH0KICAgIHN0YXRpYyB2YXIgcmFkaXg6IEludCB7IGdldCB9CiAgICBzdGF0aWMgdmFyIHNpZ25hbGluZ05hTjogU2VsZiB7IGdldCB9CiAgICBzdGF0aWMgdmFyIHVscE9mT25lOiBTZWxmIHsgZ2V0IH0KICAgIHN0YXRpYyB2YXIgdWxwT2ZPbmU6IFNlbGYgeyBnZXQgfQogICAgc3RhdGljIGZ1bmMgbWF4aW11bShfIHg6IFNlbGYsIF8geTogU2VsZikgLT4gU2VsZgogICAgc3RhdGljIGZ1bmMgbWF4aW11bU1hZ25pdHVkZShfIHg6IFNlbGYsIF8geTogU2VsZikgLT4gU2VsZgogICAgc3RhdGljIGZ1bmMgbWluaW11bShfIHg6IFNlbGYsIF8geTogU2VsZikgLT4gU2VsZgogICAgc3RhdGljIGZ1bmMgbWluaW11bU1hZ25pdHVkZShfIHg6IFNlbGYsIF8geTogU2VsZikgLT4gU2VsZgogICAgaW5pdChfIHZhbHVlOiBJbnQpCiAgICBpbml0KHNpZ246IEZsb2F0aW5nUG9pbnRTaWduLCBleHBvbmVudDogRXhwb25lbnQsIHNpZ25pZmljYW5kOiBTZWxmKQogICAgaW5pdChzaWduT2Y6IFNlbGYsIG1hZ25pdHVkZU9mOiBTZWxmKQogICAgdmFyIGV4cG9uZW50OiBFeHBvbmVudCB7IGdldCB9CiAgICB2YXIgZmxvYXRpbmdQb2ludENsYXNzOiBGbG9hdGluZ1BvaW50Q2xhc3NpZmljYXRpb24geyBnZXQgfQogICAgdmFyIGlzQ2Fub25pY2FsOiBCb29sIHsgZ2V0IH0KICAgIHZhciBpc0Zpbml0ZTogQm9vbCB7IGdldCB9CiAgICB2YXIgaXNJbmZpbml0ZTogQm9vbCB7IGdldCB9CiAgICB2YXIgaXNOYU46IEJvb2wgeyBnZXQgfQogICAgdmFyIGlzTm9ybWFsOiBCb29sIHsgZ2V0IH0KICAgIHZhciBpc1NpZ25hbGluZ05hTjogQm9vbCB7IGdldCB9CiAgICB2YXIgaXNTdWJub3JtYWw6IEJvb2wgeyBnZXQgfQogICAgdmFyIGlzWmVybzogQm9vbCB7IGdldCB9CiAgICB2YXIgbmV4dERvd246IFNlbGYgeyBnZXQgfQogICAgdmFyIG5leHRVcDogU2VsZiB7IGdldCB9CiAgICB2YXIgc2lnbjogRmxvYXRpbmdQb2ludFNpZ24geyBnZXQgfQogICAgdmFyIHNpZ25pZmljYW5kOiBTZWxmIHsgZ2V0IH0KICAgIHZhciB1bHA6IFNlbGYgeyBnZXQgfQogICAgZnVuYyAvKGxoczogU2VsZiwgcmhzOiBTZWxmKSAtPiBTZWxmCiAgICBmdW5jIC89KGxoczogaW5vdXQgU2VsZiwgcmhzOiBTZWxmKQogICAgbXV0YXRpbmcgZnVuYyBhZGRQcm9kdWN0KF8gbGhzOiBTZWxmLCBfIHJoczogU2VsZikKICAgIGZ1bmMgYWRkaW5nUHJvZHVjdChfIGxoczogU2VsZiwgXyByaHM6IFNlbGYpIC0+IFNlbGYKICAgIG11dGF0aW5nIGZ1bmMgZm9ybVJlbWFpbmRlcihkaXZpZGluZ0J5IG90aGVyOiBTZWxmKQogICAgbXV0YXRpbmcgZnVuYyBmb3JtU3F1YXJlUm9vdCgpCiAgICBtdXRhdGluZyBmdW5jIGZvcm1UcnVuY2F0aW5nUmVtYWluZGVyKGRpdmlkaW5nQnkgb3RoZXI6IFNlbGYpCiAgICBmdW5jIGlzRXF1YWwodG8gb3RoZXI6IFNlbGYpIC0+IEJvb2wKICAgIGZ1bmMgaXNMZXNzKHRoYW4gb3RoZXI6IFNlbGYpIC0+IEJvb2wKICAgIGZ1bmMgaXNMZXNzVGhhbk9yRXF1YWxUbyhfIG90aGVyOiBTZWxmKSAtPiBCb29sCiAgICBmdW5jIGlzVG90YWxseU9yZGVyZWQoYmVsb3dPckVxdWFsVG8gb3RoZXI6IFNlbGYpIC0+IEJvb2wKICAgIGZ1bmMgcmVtYWluZGVyKGRpdmlkaW5nQnkgb3RoZXI6IFNlbGYpIC0+IFNlbGYKICAgIG11dGF0aW5nIGZ1bmMgcm91bmQoKQogICAgbXV0YXRpbmcgZnVuYyByb3VuZChfIHJ1bGU6IEZsb2F0aW5nUG9pbnRSb3VuZGluZ1J1bGUpCiAgICBmdW5jIHJvdW5kZWQoKSAtPiBTZWxmCiAgICBmdW5jIHJvdW5kZWQoXyBydWxlOiBGbG9hdGluZ1BvaW50Um91bmRpbmdSdWxlKSAtPiBTZWxmCiAgICBmdW5jIHNxdWFyZVJvb3QoKSAtPiBTZWxmCiAgICBmdW5jIHRydW5jYXRpbmdSZW1haW5kZXIoZGl2aWRpbmdCeSBvdGhlcjogU2VsZikgLT4gU2VsZgp9CnB1YmxpYyBwcm90b2NvbCBIYXNoYWJsZSA6IEVxdWF0YWJsZSB7CiAgICB2YXIgaGFzaFZhbHVlOiBJbnQgeyBnZXQgfQogICAgZnVuYyBoYXNoKGludG8gaGFzaGVyOiBpbm91dCBIYXNoZXIpCn0KQGF2YWlsYWJsZShtYWNPUyAxMC4xNSwgaU9TIDEzLCB0dk9TIDEzLCB3YXRjaE9TIDYsICopIHB1YmxpYyBwcm90b2NvbCBJZGVudGlmaWFibGUgewogICAgYXNzb2NpYXRlZHR5cGUgSUQKICAgIHZhciBpZDogSUQgeyBnZXQgfQp9CnB1YmxpYyBwcm90b2NvbCBJdGVyYXRvclByb3RvY29sIHsKICAgIGFzc29jaWF0ZWR0eXBlIEVsZW1lbnQKICAgIG11dGF0aW5nIGZ1bmMgbmV4dCgpIC0+IEVsZW1lbnQ/Cn0KcHVibGljIHByb3RvY29sIEtleWVkRGVjb2RpbmdDb250YWluZXJQcm90b2NvbCB7CiAgICBhc3NvY2lhdGVkdHlwZSBLZXkKICAgIHZhciBhbGxLZXlzOiBbS2V5XSB7IGdldCB9CiAgICB2YXIgY29kaW5nUGF0aDogW0NvZGluZ0tleV0geyBnZXQgfQogICAgZnVuYyBjb250YWlucyhfIGtleTogS2V5KSAtPiBCb29sCiAgICBmdW5jIGRlY29kZShfIHR5cGU6IEJvb2wuVHlwZSwgZm9yS2V5IGtleTogS2V5KSB0aHJvd3MgLT4gQm9vbAogICAgZnVuYyBkZWNvZGVJZlByZXNlbnQoXyB0eXBlOiBCb29sLlR5cGUsIGZvcktleSBrZXk6IEtleSkgdGhyb3dzIC0+IEJvb2w/CiAgICBmdW5jIGRlY29kZU5pbChmb3JLZXkga2V5OiBLZXkpIHRocm93cyAtPiBCb29sCiAgICBmdW5jIG5lc3RlZENvbnRhaW5lcjxOZXN0ZWRLZXk+KGtleWVkQnkgdHlwZTogTmVzdGVkS2V5LlR5cGUsIGZvcktleSBrZXk6IEtleSkgdGhyb3dzIC0+IEtleWVkRGVjb2RpbmdDb250YWluZXI8TmVzdGVkS2V5PgogICAgZnVuYyBuZXN0ZWRVbmtleWVkQ29udGFpbmVyKGZvcktleSBrZXk6IEtleSkgdGhyb3dzIC0+IFVua2V5ZWREZWNvZGluZ0NvbnRhaW5lcgogICAgZnVuYyBzdXBlckRlY29kZXIoKSB0aHJvd3MgLT4gRGVjb2RlcgogICAgZnVuYyBzdXBlckRlY29kZXIoZm9yS2V5IGtleTogS2V5KSB0aHJvd3MgLT4gRGVjb2Rlcgp9CnB1YmxpYyBwcm90b2NvbCBLZXllZEVuY29kaW5nQ29udGFpbmVyUHJvdG9jb2wgewogICAgYXNzb2NpYXRlZHR5cGUgS2V5CiAgICB2YXIgY29kaW5nUGF0aDogW0NvZGluZ0tleV0geyBnZXQgfQogICAgbXV0YXRpbmcgZnVuYyBlbmNvZGUoXyB2YWx1ZTogQm9vbCwgZm9yS2V5IGtleTogS2V5KSB0aHJvd3MKICAgIG11dGF0aW5nIGZ1bmMgZW5jb2RlQ29uZGl0aW9uYWw8VD4oXyBvYmplY3Q6IFQsIGZvcktleSBrZXk6IEtleSkgdGhyb3dzIHdoZXJlIFQgOiBBbnlPYmplY3QgJiBFbmNvZGFibGUKICAgIG11dGF0aW5nIGZ1bmMgZW5jb2RlSWZQcmVzZW50KF8gdmFsdWU6IEJvb2w/LCBmb3JLZXkga2V5OiBLZXkpIHRocm93cwogICAgbXV0YXRpbmcgZnVuYyBlbmNvZGVOaWwoZm9yS2V5IGtleTogS2V5KSB0aHJvd3MKICAgIG11dGF0aW5nIGZ1bmMgbmVzdGVkQ29udGFpbmVyPE5lc3RlZEtleT4oa2V5ZWRCeSBrZXlUeXBlOiBOZXN0ZWRLZXkuVHlwZSwgZm9yS2V5IGtleTogS2V5KSAtPiBLZXllZEVuY29kaW5nQ29udGFpbmVyPE5lc3RlZEtleT4KICAgIG11dGF0aW5nIGZ1bmMgbmVzdGVkVW5rZXllZENvbnRhaW5lcihmb3JLZXkga2V5OiBLZXkpIC0+IFVua2V5ZWRFbmNvZGluZ0NvbnRhaW5lcgogICAgbXV0YXRpbmcgZnVuYyBzdXBlckVuY29kZXIoKSAtPiBFbmNvZGVyCiAgICBtdXRhdGluZyBmdW5jIHN1cGVyRW5jb2Rlcihmb3JLZXkga2V5OiBLZXkpIC0+IEVuY29kZXIKfQpwdWJsaWMgcHJvdG9jb2wgTGF6eUNvbGxlY3Rpb25Qcm90b2NvbCA6IENvbGxlY3Rpb24sIExhenlTZXF1ZW5jZVByb3RvY29sLCBTZXF1ZW5jZSB7Cn0KcHVibGljIHByb3RvY29sIExhenlTZXF1ZW5jZVByb3RvY29sIDogU2VxdWVuY2UgewogICAgYXNzb2NpYXRlZHR5cGUgRWxlbWVudHMgd2hlcmUgRWxlbWVudCA9PSBFbGVtZW50cy5FbGVtZW50CiAgICB2YXIgZWxlbWVudHM6IEVsZW1lbnRzIHsgZ2V0IH0KfQpwdWJsaWMgcHJvdG9jb2wgTG9zc2xlc3NTdHJpbmdDb252ZXJ0aWJsZSA6IEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlIHsKICAgIGluaXQ/KF8gZGVzY3JpcHRpb246IFN0cmluZykKfQpwdWJsaWMgcHJvdG9jb2wgTWlycm9yUGF0aCB7Cn0KcHVibGljIHByb3RvY29sIE11dGFibGVDb2xsZWN0aW9uIDogQ29sbGVjdGlvbiwgU2VxdWVuY2UgewogICAgbXV0YXRpbmcgZnVuYyBwYXJ0aXRpb24oYnkgYmVsb25nc0luU2Vjb25kUGFydGl0aW9uOiAoRWxlbWVudCkgdGhyb3dzIC0+IEJvb2wpIHJldGhyb3dzIC0+IEluZGV4CiAgICBtdXRhdGluZyBmdW5jIHNodWZmbGU8VD4odXNpbmcgZ2VuZXJhdG9yOiBpbm91dCBUKSB3aGVyZSBTZWxmIDogUmFuZG9tQWNjZXNzQ29sbGVjdGlvbiwgVCA6IFJhbmRvbU51bWJlckdlbmVyYXRvcgogICAgbXV0YXRpbmcgZnVuYyBzd2FwQXQoXyBpOiBJbmRleCwgXyBqOiBJbmRleCkKICAgIG11dGF0aW5nIGZ1bmMgc3dhcEF0KF8gaTogSW5kZXgsIF8gajogSW5kZXgpCiAgICBtdXRhdGluZyBmdW5jIHdpdGhDb250aWd1b3VzTXV0YWJsZVN0b3JhZ2VJZkF2YWlsYWJsZTxSPihfIGJvZHk6IChpbm91dCBVbnNhZmVNdXRhYmxlQnVmZmVyUG9pbnRlcjxFbGVtZW50PikgdGhyb3dzIC0+IFIpIHJldGhyb3dzIC0+IFI/Cn0KcHVibGljIHByb3RvY29sIE51bWVyaWMgOiBBZGRpdGl2ZUFyaXRobWV0aWMsIEVxdWF0YWJsZSwgRXhwcmVzc2libGVCeUludGVnZXJMaXRlcmFsIHsKICAgIGFzc29jaWF0ZWR0eXBlIE1hZ25pdHVkZQogICAgaW5pdD88VD4oZXhhY3RseSBzb3VyY2U6IFQpIHdoZXJlIFQgOiBCaW5hcnlJbnRlZ2VyCiAgICB2YXIgbWFnbml0dWRlOiBNYWduaXR1ZGUgeyBnZXQgfQogICAgZnVuYyAqKGxoczogU2VsZiwgcmhzOiBTZWxmKSAtPiBTZWxmCiAgICBmdW5jICo9KGxoczogaW5vdXQgU2VsZiwgcmhzOiBTZWxmKQp9CnB1YmxpYyBwcm90b2NvbCBPcHRpb25TZXQgOiBFcXVhdGFibGUsIEV4cHJlc3NpYmxlQnlBcnJheUxpdGVyYWwsIFJhd1JlcHJlc2VudGFibGUsIFNldEFsZ2VicmEgewp9CnB1YmxpYyBwcm90b2NvbCBSYW5kb21BY2Nlc3NDb2xsZWN0aW9uIDogQmlkaXJlY3Rpb25hbENvbGxlY3Rpb24sIENvbGxlY3Rpb24sIFNlcXVlbmNlIHsKfQpwdWJsaWMgcHJvdG9jb2wgUmFuZG9tTnVtYmVyR2VuZXJhdG9yIHsKICAgIG11dGF0aW5nIGZ1bmMgbmV4dCgpIC0+IFVJbnQ2NAogICAgbXV0YXRpbmcgZnVuYyBuZXh0PFQ+KCkgLT4gVCB3aGVyZSBUIDogRml4ZWRXaWR0aEludGVnZXIgJiBVbnNpZ25lZEludGVnZXIKICAgIG11dGF0aW5nIGZ1bmMgbmV4dDxUPih1cHBlckJvdW5kOiBUKSAtPiBUIHdoZXJlIFQgOiBGaXhlZFdpZHRoSW50ZWdlciAmIFVuc2lnbmVkSW50ZWdlcgp9CnB1YmxpYyBwcm90b2NvbCBSYW5nZUV4cHJlc3Npb24gewogICAgYXNzb2NpYXRlZHR5cGUgQm91bmQKICAgIGZ1bmMgY29udGFpbnMoXyBlbGVtZW50OiBCb3VuZCkgLT4gQm9vbAogICAgZnVuYyByZWxhdGl2ZTxDPih0byBjb2xsZWN0aW9uOiBDKSAtPiBSYW5nZTxCb3VuZD4gd2hlcmUgQyA6IENvbGxlY3Rpb24sIEJvdW5kID09IEMuSW5kZXgKICAgIGZ1bmMgfj0ocGF0dGVybjogU2VsZiwgdmFsdWU6IEJvdW5kKSAtPiBCb29sCn0KcHVibGljIHByb3RvY29sIFJhbmdlUmVwbGFjZWFibGVDb2xsZWN0aW9uIDogQ29sbGVjdGlvbiwgU2VxdWVuY2UgewogICAgaW5pdCgpCiAgICBpbml0PFM+KF8gZWxlbWVudHM6IFMpIHdoZXJlIFMgOiBTZXF1ZW5jZSwgRWxlbWVudCA9PSBTLkVsZW1lbnQKICAgIGluaXQ8Uz4oXyBlbGVtZW50czogUykgd2hlcmUgUyA6IFNlcXVlbmNlLCBFbGVtZW50ID09IFMuRWxlbWVudAogICAgaW5pdChyZXBlYXRpbmcgcmVwZWF0ZWRWYWx1ZTogRWxlbWVudCwgY291bnQ6IEludCkKICAgIGluaXQocmVwZWF0aW5nIHJlcGVhdGVkVmFsdWU6IEVsZW1lbnQsIGNvdW50OiBJbnQpCiAgICBmdW5jICs8T3RoZXI+KGxoczogT3RoZXIsIHJoczogU2VsZikgLT4gU2VsZiB3aGVyZSBPdGhlciA6IFNlcXVlbmNlLCBFbGVtZW50ID09IE90aGVyLkVsZW1lbnQKICAgIGZ1bmMgKzxPdGhlcj4obGhzOiBTZWxmLCByaHM6IE90aGVyKSAtPiBTZWxmIHdoZXJlIE90aGVyIDogUmFuZ2VSZXBsYWNlYWJsZUNvbGxlY3Rpb24sIEVsZW1lbnQgPT0gT3RoZXIuRWxlbWVudAogICAgZnVuYyArPE90aGVyPihsaHM6IFNlbGYsIHJoczogT3RoZXIpIC0+IFNlbGYgd2hlcmUgT3RoZXIgOiBTZXF1ZW5jZSwgRWxlbWVudCA9PSBPdGhlci5FbGVtZW50CiAgICBmdW5jICs9PE90aGVyPihsaHM6IGlub3V0IFNlbGYsIHJoczogT3RoZXIpIHdoZXJlIE90aGVyIDogU2VxdWVuY2UsIEVsZW1lbnQgPT0gT3RoZXIuRWxlbWVudAogICAgbXV0YXRpbmcgZnVuYyBhcHBlbmQoXyBuZXdFbGVtZW50OiBfX293bmVkIEVsZW1lbnQpCiAgICBtdXRhdGluZyBmdW5jIGFwcGVuZDxTPihjb250ZW50c09mIG5ld0VsZW1lbnRzOiBfX293bmVkIFMpIHdoZXJlIFMgOiBTZXF1ZW5jZSwgRWxlbWVudCA9PSBTLkVsZW1lbnQKICAgIEBhdmFpbGFibGUobWFjT1MgMTAuMTUsIGlPUyAxMywgdHZPUyAxMywgd2F0Y2hPUyA2LCAqKSBmdW5jIGFwcGx5aW5nKF8gZGlmZmVyZW5jZTogQ29sbGVjdGlvbkRpZmZlcmVuY2U8RWxlbWVudD4pIC0+IFNlbGY/CiAgICBtdXRhdGluZyBmdW5jIGluc2VydChfIG5ld0VsZW1lbnQ6IF9fb3duZWQgRWxlbWVudCwgYXQgaTogSW5kZXgpCiAgICBtdXRhdGluZyBmdW5jIGluc2VydDxDPihjb250ZW50c09mIG5ld0VsZW1lbnRzOiBfX293bmVkIEMsIGF0IGk6IEluZGV4KSB3aGVyZSBDIDogQ29sbGVjdGlvbiwgQy5FbGVtZW50ID09IEVsZW1lbnQKICAgIEBkaXNjYXJkYWJsZVJlc3VsdCBtdXRhdGluZyBmdW5jIHJlbW92ZShhdCBpOiBJbmRleCkgLT4gRWxlbWVudAogICAgQGRpc2NhcmRhYmxlUmVzdWx0IG11dGF0aW5nIGZ1bmMgcmVtb3ZlKGF0IHBvc2l0aW9uOiBJbmRleCkgLT4gRWxlbWVudAogICAgbXV0YXRpbmcgZnVuYyByZW1vdmVBbGwoa2VlcGluZ0NhcGFjaXR5IGtlZXBDYXBhY2l0eTogQm9vbCA9IHgpCiAgICBtdXRhdGluZyBmdW5jIHJlbW92ZUFsbCh3aGVyZSBzaG91bGRCZVJlbW92ZWQ6IChFbGVtZW50KSB0aHJvd3MgLT4gQm9vbCkgcmV0aHJvd3MKICAgIG11dGF0aW5nIGZ1bmMgcmVtb3ZlQWxsKHdoZXJlIHNob3VsZEJlUmVtb3ZlZDogKEVsZW1lbnQpIHRocm93cyAtPiBCb29sKSByZXRocm93cwogICAgbXV0YXRpbmcgZnVuYyByZW1vdmVTdWJyYW5nZShfIGJvdW5kczogUmFuZ2U8SW5kZXg+KQogICAgbXV0YXRpbmcgZnVuYyByZW1vdmVTdWJyYW5nZShfIGJvdW5kczogUmFuZ2U8SW5kZXg+KQogICAgbXV0YXRpbmcgZnVuYyByZXBsYWNlU3VicmFuZ2U8QywgUj4oXyBzdWJyYW5nZTogUiwgd2l0aCBuZXdFbGVtZW50czogX19vd25lZCBDKSB3aGVyZSBDIDogQ29sbGVjdGlvbiwgUiA6IFJhbmdlRXhwcmVzc2lvbiwgQy5FbGVtZW50ID09IEVsZW1lbnQsIEluZGV4ID09IFIuQm91bmQKICAgIG11dGF0aW5nIGZ1bmMgcmVwbGFjZVN1YnJhbmdlPEM+KF8gc3VicmFuZ2U6IFJhbmdlPEluZGV4Piwgd2l0aCBuZXdFbGVtZW50czogX19vd25lZCBDKSB3aGVyZSBDIDogQ29sbGVjdGlvbiwgQy5FbGVtZW50ID09IEVsZW1lbnQKICAgIG11dGF0aW5nIGZ1bmMgcmVzZXJ2ZUNhcGFjaXR5KF8gbjogSW50KQogICAgbXV0YXRpbmcgZnVuYyByZXNlcnZlQ2FwYWNpdHkoXyBuOiBJbnQpCn0KcHVibGljIHByb3RvY29sIFJhd1JlcHJlc2VudGFibGUgewogICAgYXNzb2NpYXRlZHR5cGUgUmF3VmFsdWUKICAgIGluaXQ/KHJhd1ZhbHVlOiBSYXdWYWx1ZSkKICAgIHZhciByYXdWYWx1ZTogUmF3VmFsdWUgeyBnZXQgfQp9CnB1YmxpYyBwcm90b2NvbCBTSU1EIDogQ29kYWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgRXhwcmVzc2libGVCeUFycmF5TGl0ZXJhbCwgSGFzaGFibGUsIFNJTURTdG9yYWdlIHsKICAgIGFzc29jaWF0ZWR0eXBlIE1hc2tTdG9yYWdlIHdoZXJlIE1hc2tTdG9yYWdlLlNjYWxhciA6IEZpeGVkV2lkdGhJbnRlZ2VyICYgU2lnbmVkSW50ZWdlcgogICAgc3RhdGljIGZ1bmMgcmFuZG9tPFQ+KGluIHJhbmdlOiBDbG9zZWRSYW5nZTxTY2FsYXI+LCB1c2luZyBnZW5lcmF0b3I6IGlub3V0IFQpIC0+IFNlbGYgd2hlcmUgU2NhbGFyIDogQmluYXJ5RmxvYXRpbmdQb2ludCwgU2NhbGFyLlJhd1NpZ25pZmljYW5kIDogRml4ZWRXaWR0aEludGVnZXIsIFQgOiBSYW5kb21OdW1iZXJHZW5lcmF0b3IKICAgIGluaXQ8Uz4oXyBzY2FsYXJzOiBTKSB3aGVyZSBTIDogU2VxdWVuY2UsIFMuRWxlbWVudCA9PSBTY2FsYXIKICAgIGluaXQoZnJvbSBkZWNvZGVyOiBEZWNvZGVyKSB0aHJvd3MKICAgIGluaXQocmVwZWF0aW5nIHZhbHVlOiBTY2FsYXIpCiAgICB2YXIgaW5kaWNlczogUmFuZ2U8SW50PiB7IGdldCB9CiAgICBmdW5jIC4hPShsaHM6IFNjYWxhciwgcmhzOiBTZWxmKSAtPiBTSU1ETWFzazxNYXNrU3RvcmFnZT4KICAgIGZ1bmMgLiE9KGxoczogU2VsZiwgcmhzOiBTZWxmKSAtPiBTSU1ETWFzazxNYXNrU3RvcmFnZT4KICAgIGZ1bmMgLj09KGxoczogU2NhbGFyLCByaHM6IFNlbGYpIC0+IFNJTURNYXNrPE1hc2tTdG9yYWdlPgogICAgZnVuYyBlbmNvZGUodG8gZW5jb2RlcjogRW5jb2RlcikgdGhyb3dzCiAgICBtdXRhdGluZyBmdW5jIHJlcGxhY2Uod2l0aCBvdGhlcjogU2NhbGFyLCB3aGVyZSBtYXNrOiBTSU1ETWFzazxNYXNrU3RvcmFnZT4pCiAgICBtdXRhdGluZyBmdW5jIHJlcGxhY2Uod2l0aCBvdGhlcjogU2VsZiwgd2hlcmUgbWFzazogU0lNRE1hc2s8TWFza1N0b3JhZ2U+KQogICAgZnVuYyByZXBsYWNpbmcod2l0aCBvdGhlcjogU2NhbGFyLCB3aGVyZSBtYXNrOiBTSU1ETWFzazxNYXNrU3RvcmFnZT4pIC0+IFNlbGYKICAgIGZ1bmMgcmVwbGFjaW5nKHdpdGggb3RoZXI6IFNlbGYsIHdoZXJlIG1hc2s6IFNJTURNYXNrPE1hc2tTdG9yYWdlPikgLT4gU2VsZgp9CnB1YmxpYyBwcm90b2NvbCBTSU1EU2NhbGFyIHsKICAgIGFzc29jaWF0ZWR0eXBlIFNJTUQxNlN0b3JhZ2Ugd2hlcmUgU0lNRDE2U3RvcmFnZS5TY2FsYXIgPT0gU2VsZgogICAgYXNzb2NpYXRlZHR5cGUgU0lNRDJTdG9yYWdlIHdoZXJlIFNJTUQyU3RvcmFnZS5TY2FsYXIgPT0gU2VsZgogICAgYXNzb2NpYXRlZHR5cGUgU0lNRDMyU3RvcmFnZSB3aGVyZSBTSU1EMzJTdG9yYWdlLlNjYWxhciA9PSBTZWxmCiAgICBhc3NvY2lhdGVkdHlwZSBTSU1ENFN0b3JhZ2Ugd2hlcmUgU0lNRDRTdG9yYWdlLlNjYWxhciA9PSBTZWxmCiAgICBhc3NvY2lhdGVkdHlwZSBTSU1ENjRTdG9yYWdlIHdoZXJlIFNJTUQ2NFN0b3JhZ2UuU2NhbGFyID09IFNlbGYKICAgIGFzc29jaWF0ZWR0eXBlIFNJTUQ4U3RvcmFnZSB3aGVyZSBTSU1EOFN0b3JhZ2UuU2NhbGFyID09IFNlbGYKICAgIGFzc29jaWF0ZWR0eXBlIFNJTURNYXNrU2NhbGFyCn0KcHVibGljIHByb3RvY29sIFNJTURTdG9yYWdlIHsKICAgIGFzc29jaWF0ZWR0eXBlIFNjYWxhcgogICAgc3RhdGljIHZhciBzY2FsYXJDb3VudDogSW50IHsgZ2V0IH0KICAgIGluaXQoKQogICAgdmFyIHNjYWxhckNvdW50OiBJbnQgeyBnZXQgfQogICAgc3Vic2NyaXB0KGluZGV4OiBJbnQpIC0+IFNjYWxhciB7IGdldCBzZXQgfQp9CnB1YmxpYyBwcm90b2NvbCBTZXF1ZW5jZSB7CiAgICBhc3NvY2lhdGVkdHlwZSBFbGVtZW50CiAgICBhc3NvY2lhdGVkdHlwZSBJdGVyYXRvciB3aGVyZSBFbGVtZW50ID09IEl0ZXJhdG9yLkVsZW1lbnQKICAgIHZhciBsYXp5OiBMYXp5U2VxdWVuY2U8U2VsZj4geyBnZXQgfQogICAgdmFyIHVuZGVyZXN0aW1hdGVkQ291bnQ6IEludCB7IGdldCB9CiAgICBmdW5jIGFsbFNhdGlzZnkoXyBwcmVkaWNhdGU6IChFbGVtZW50KSB0aHJvd3MgLT4gQm9vbCkgcmV0aHJvd3MgLT4gQm9vbAogICAgZnVuYyBjb21wYWN0TWFwPEVsZW1lbnRPZlJlc3VsdD4oXyB0cmFuc2Zvcm06IChFbGVtZW50KSB0aHJvd3MgLT4gRWxlbWVudE9mUmVzdWx0PykgcmV0aHJvd3MgLT4gW0VsZW1lbnRPZlJlc3VsdF0KICAgIGZ1bmMgY29udGFpbnMod2hlcmUgcHJlZGljYXRlOiAoRWxlbWVudCkgdGhyb3dzIC0+IEJvb2wpIHJldGhyb3dzIC0+IEJvb2wKICAgIGZ1bmMgZHJvcCh3aGlsZSBwcmVkaWNhdGU6IChFbGVtZW50KSB0aHJvd3MgLT4gQm9vbCkgcmV0aHJvd3MgLT4gRHJvcFdoaWxlU2VxdWVuY2U8U2VsZj4KICAgIGZ1bmMgZHJvcEZpcnN0KF8gazogSW50ID0geCkgLT4gRHJvcEZpcnN0U2VxdWVuY2U8U2VsZj4KICAgIGZ1bmMgZHJvcExhc3QoXyBrOiBJbnQgPSB4KSAtPiBbRWxlbWVudF0KICAgIGZ1bmMgZWxlbWVudHNFcXVhbDxPdGhlclNlcXVlbmNlPihfIG90aGVyOiBPdGhlclNlcXVlbmNlKSAtPiBCb29sIHdoZXJlIEVsZW1lbnQgOiBFcXVhdGFibGUsIE90aGVyU2VxdWVuY2UgOiBTZXF1ZW5jZSwgRWxlbWVudCA9PSBPdGhlclNlcXVlbmNlLkVsZW1lbnQKICAgIGZ1bmMgZWxlbWVudHNFcXVhbDxPdGhlclNlcXVlbmNlPihfIG90aGVyOiBPdGhlclNlcXVlbmNlLCBieSBhcmVFcXVpdmFsZW50OiAoRWxlbWVudCwgT3RoZXJTZXF1ZW5jZS5FbGVtZW50KSB0aHJvd3MgLT4gQm9vbCkgcmV0aHJvd3MgLT4gQm9vbCB3aGVyZSBPdGhlclNlcXVlbmNlIDogU2VxdWVuY2UKICAgIGZ1bmMgZW51bWVyYXRlZCgpIC0+IEVudW1lcmF0ZWRTZXF1ZW5jZTxTZWxmPgogICAgZnVuYyBmaWx0ZXIoXyBpc0luY2x1ZGVkOiAoRWxlbWVudCkgdGhyb3dzIC0+IEJvb2wpIHJldGhyb3dzIC0+IFtFbGVtZW50XQogICAgZnVuYyBmaXJzdCh3aGVyZSBwcmVkaWNhdGU6IChFbGVtZW50KSB0aHJvd3MgLT4gQm9vbCkgcmV0aHJvd3MgLT4gRWxlbWVudD8KICAgIGZ1bmMgZmxhdE1hcDxTZWdtZW50T2ZSZXN1bHQ+KF8gdHJhbnNmb3JtOiAoRWxlbWVudCkgdGhyb3dzIC0+IFNlZ21lbnRPZlJlc3VsdCkgcmV0aHJvd3MgLT4gW1NlZ21lbnRPZlJlc3VsdC5FbGVtZW50XSB3aGVyZSBTZWdtZW50T2ZSZXN1bHQgOiBTZXF1ZW5jZQogICAgZnVuYyBmb3JFYWNoKF8gYm9keTogKEVsZW1lbnQpIHRocm93cyAtPiBWb2lkKSByZXRocm93cwogICAgZnVuYyBqb2luZWQ8U2VwYXJhdG9yPihzZXBhcmF0b3I6IFNlcGFyYXRvcikgLT4gSm9pbmVkU2VxdWVuY2U8U2VsZj4gd2hlcmUgRWxlbWVudCA6IFNlcXVlbmNlLCBTZXBhcmF0b3IgOiBTZXF1ZW5jZSwgRWxlbWVudC5FbGVtZW50ID09IFNlcGFyYXRvci5FbGVtZW50CiAgICBmdW5jIGxleGljb2dyYXBoaWNhbGx5UHJlY2VkZXM8T3RoZXJTZXF1ZW5jZT4oXyBvdGhlcjogT3RoZXJTZXF1ZW5jZSkgLT4gQm9vbCB3aGVyZSBFbGVtZW50IDogQ29tcGFyYWJsZSwgT3RoZXJTZXF1ZW5jZSA6IFNlcXVlbmNlLCBFbGVtZW50ID09IE90aGVyU2VxdWVuY2UuRWxlbWVudAogICAgZnVuYyBsZXhpY29ncmFwaGljYWxseVByZWNlZGVzPE90aGVyU2VxdWVuY2U+KF8gb3RoZXI6IE90aGVyU2VxdWVuY2UsIGJ5IGFyZUluSW5jcmVhc2luZ09yZGVyOiAoRWxlbWVudCwgRWxlbWVudCkgdGhyb3dzIC0+IEJvb2wpIHJldGhyb3dzIC0+IEJvb2wgd2hlcmUgT3RoZXJTZXF1ZW5jZSA6IFNlcXVlbmNlLCBFbGVtZW50ID09IE90aGVyU2VxdWVuY2UuRWxlbWVudAogICAgZnVuYyBtYWtlSXRlcmF0b3IoKSAtPiBJdGVyYXRvcgogICAgZnVuYyBtYXA8VD4oXyB0cmFuc2Zvcm06IChFbGVtZW50KSB0aHJvd3MgLT4gVCkgcmV0aHJvd3MgLT4gW1RdCiAgICBmdW5jIG1heChieSBhcmVJbkluY3JlYXNpbmdPcmRlcjogKEVsZW1lbnQsIEVsZW1lbnQpIHRocm93cyAtPiBCb29sKSByZXRocm93cyAtPiBFbGVtZW50PwogICAgZnVuYyBtaW4oYnkgYXJlSW5JbmNyZWFzaW5nT3JkZXI6IChFbGVtZW50LCBFbGVtZW50KSB0aHJvd3MgLT4gQm9vbCkgcmV0aHJvd3MgLT4gRWxlbWVudD8KICAgIGZ1bmMgcHJlZml4KF8gbWF4TGVuZ3RoOiBJbnQpIC0+IFByZWZpeFNlcXVlbmNlPFNlbGY+CiAgICBmdW5jIHByZWZpeCh3aGlsZSBwcmVkaWNhdGU6IChFbGVtZW50KSB0aHJvd3MgLT4gQm9vbCkgcmV0aHJvd3MgLT4gW0VsZW1lbnRdCiAgICBmdW5jIHJlZHVjZTxSZXN1bHQ+KF8gaW5pdGlhbFJlc3VsdDogUmVzdWx0LCBfIG5leHRQYXJ0aWFsUmVzdWx0OiAoXyBwYXJ0aWFsUmVzdWx0OiBSZXN1bHQsIEVsZW1lbnQpIHRocm93cyAtPiBSZXN1bHQpIHJldGhyb3dzIC0+IFJlc3VsdAogICAgZnVuYyByZWR1Y2U8UmVzdWx0PihpbnRvIGluaXRpYWxSZXN1bHQ6IF9fb3duZWQgUmVzdWx0LCBfIHVwZGF0ZUFjY3VtdWxhdGluZ1Jlc3VsdDogKF8gcGFydGlhbFJlc3VsdDogaW5vdXQgUmVzdWx0LCBFbGVtZW50KSB0aHJvd3MgLT4gVm9pZCkgcmV0aHJvd3MgLT4gUmVzdWx0CiAgICBmdW5jIHJldmVyc2VkKCkgLT4gW0VsZW1lbnRdCiAgICBmdW5jIHNodWZmbGVkKCkgLT4gW0VsZW1lbnRdCiAgICBmdW5jIHNodWZmbGVkPFQ+KHVzaW5nIGdlbmVyYXRvcjogaW5vdXQgVCkgLT4gW0VsZW1lbnRdIHdoZXJlIFQgOiBSYW5kb21OdW1iZXJHZW5lcmF0b3IKICAgIGZ1bmMgc29ydGVkKGJ5IGFyZUluSW5jcmVhc2luZ09yZGVyOiAoRWxlbWVudCwgRWxlbWVudCkgdGhyb3dzIC0+IEJvb2wpIHJldGhyb3dzIC0+IFtFbGVtZW50XQogICAgZnVuYyBzcGxpdChtYXhTcGxpdHM6IEludCA9IHgsIG9taXR0aW5nRW1wdHlTdWJzZXF1ZW5jZXM6IEJvb2wgPSB4LCB3aGVyZVNlcGFyYXRvciBpc1NlcGFyYXRvcjogKEVsZW1lbnQpIHRocm93cyAtPiBCb29sKSByZXRocm93cyAtPiBbQXJyYXlTbGljZTxFbGVtZW50Pl0KICAgIGZ1bmMgc3RhcnRzPFBvc3NpYmxlUHJlZml4Pih3aXRoIHBvc3NpYmxlUHJlZml4OiBQb3NzaWJsZVByZWZpeCkgLT4gQm9vbCB3aGVyZSBFbGVtZW50IDogRXF1YXRhYmxlLCBQb3NzaWJsZVByZWZpeCA6IFNlcXVlbmNlLCBFbGVtZW50ID09IFBvc3NpYmxlUHJlZml4LkVsZW1lbnQKICAgIGZ1bmMgc3RhcnRzPFBvc3NpYmxlUHJlZml4Pih3aXRoIHBvc3NpYmxlUHJlZml4OiBQb3NzaWJsZVByZWZpeCwgYnkgYXJlRXF1aXZhbGVudDogKEVsZW1lbnQsIFBvc3NpYmxlUHJlZml4LkVsZW1lbnQpIHRocm93cyAtPiBCb29sKSByZXRocm93cyAtPiBCb29sIHdoZXJlIFBvc3NpYmxlUHJlZml4IDogU2VxdWVuY2UKICAgIGZ1bmMgc3VmZml4KF8gbWF4TGVuZ3RoOiBJbnQpIC0+IFtFbGVtZW50XQogICAgZnVuYyB3aXRoQ29udGlndW91c1N0b3JhZ2VJZkF2YWlsYWJsZTxSPihfIGJvZHk6IChVbnNhZmVCdWZmZXJQb2ludGVyPEVsZW1lbnQ+KSB0aHJvd3MgLT4gUikgcmV0aHJvd3MgLT4gUj8KfQpwdWJsaWMgcHJvdG9jb2wgU2V0QWxnZWJyYSA6IEVxdWF0YWJsZSwgRXhwcmVzc2libGVCeUFycmF5TGl0ZXJhbCB7CiAgICBhc3NvY2lhdGVkdHlwZSBFbGVtZW50CiAgICBpbml0KCkKICAgIGluaXQ8Uz4oXyBzZXF1ZW5jZTogX19vd25lZCBTKSB3aGVyZSBTIDogU2VxdWVuY2UsIEVsZW1lbnQgPT0gUy5FbGVtZW50CiAgICB2YXIgaXNFbXB0eTogQm9vbCB7IGdldCB9CiAgICBmdW5jIGNvbnRhaW5zKF8gbWVtYmVyOiBFbGVtZW50KSAtPiBCb29sCiAgICBtdXRhdGluZyBmdW5jIGZvcm1JbnRlcnNlY3Rpb24oXyBvdGhlcjogU2VsZikKICAgIG11dGF0aW5nIGZ1bmMgZm9ybVN5bW1ldHJpY0RpZmZlcmVuY2UoXyBvdGhlcjogX19vd25lZCBTZWxmKQogICAgbXV0YXRpbmcgZnVuYyBmb3JtVW5pb24oXyBvdGhlcjogX19vd25lZCBTZWxmKQogICAgQGRpc2NhcmRhYmxlUmVzdWx0IG11dGF0aW5nIGZ1bmMgaW5zZXJ0KF8gbmV3TWVtYmVyOiBfX293bmVkIEVsZW1lbnQpIC0+IChpbnNlcnRlZDogQm9vbCwgbWVtYmVyQWZ0ZXJJbnNlcnQ6IEVsZW1lbnQpCiAgICBmdW5jIGludGVyc2VjdGlvbihfIG90aGVyOiBTZWxmKSAtPiBTZWxmCiAgICBmdW5jIGlzRGlzam9pbnQod2l0aCBvdGhlcjogU2VsZikgLT4gQm9vbAogICAgZnVuYyBpc1N0cmljdFN1YnNldChvZiBvdGhlcjogU2VsZikgLT4gQm9vbAogICAgZnVuYyBpc1N0cmljdFN1cGVyc2V0KG9mIG90aGVyOiBTZWxmKSAtPiBCb29sCiAgICBmdW5jIGlzU3Vic2V0KG9mIG90aGVyOiBTZWxmKSAtPiBCb29sCiAgICBmdW5jIGlzU3VwZXJzZXQob2Ygb3RoZXI6IFNlbGYpIC0+IEJvb2wKICAgIGZ1bmMgaXNTdXBlcnNldChvZiBvdGhlcjogU2VsZikgLT4gQm9vbAogICAgQGRpc2NhcmRhYmxlUmVzdWx0IG11dGF0aW5nIGZ1bmMgcmVtb3ZlKF8gbWVtYmVyOiBFbGVtZW50KSAtPiBFbGVtZW50PwogICAgbXV0YXRpbmcgZnVuYyBzdWJ0cmFjdChfIG90aGVyOiBTZWxmKQogICAgZnVuYyBzdWJ0cmFjdGluZyhfIG90aGVyOiBTZWxmKSAtPiBTZWxmCiAgICBmdW5jIHN1YnRyYWN0aW5nKF8gb3RoZXI6IFNlbGYpIC0+IFNlbGYKICAgIGZ1bmMgc3ltbWV0cmljRGlmZmVyZW5jZShfIG90aGVyOiBfX293bmVkIFNlbGYpIC0+IFNlbGYKICAgIGZ1bmMgdW5pb24oXyBvdGhlcjogX19vd25lZCBTZWxmKSAtPiBTZWxmCiAgICBAZGlzY2FyZGFibGVSZXN1bHQgbXV0YXRpbmcgZnVuYyB1cGRhdGUod2l0aCBuZXdNZW1iZXI6IF9fb3duZWQgRWxlbWVudCkgLT4gRWxlbWVudD8KfQpwdWJsaWMgcHJvdG9jb2wgU2lnbmVkSW50ZWdlciA6IEFkZGl0aXZlQXJpdGhtZXRpYywgQmluYXJ5SW50ZWdlciwgQ29tcGFyYWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgRXhwcmVzc2libGVCeUludGVnZXJMaXRlcmFsLCBIYXNoYWJsZSwgTnVtZXJpYywgU2lnbmVkTnVtZXJpYywgU3RyaWRlYWJsZSB7Cn0KcHVibGljIHByb3RvY29sIFNpZ25lZE51bWVyaWMgOiBBZGRpdGl2ZUFyaXRobWV0aWMsIEVxdWF0YWJsZSwgRXhwcmVzc2libGVCeUludGVnZXJMaXRlcmFsLCBOdW1lcmljIHsKICAgIHByZWZpeCBmdW5jIC0ob3BlcmFuZDogU2VsZikgLT4gU2VsZgogICAgcHJlZml4IGZ1bmMgLShvcGVyYW5kOiBTZWxmKSAtPiBTZWxmCiAgICBtdXRhdGluZyBmdW5jIG5lZ2F0ZSgpCn0KcHVibGljIHByb3RvY29sIFNpbmdsZVZhbHVlRGVjb2RpbmdDb250YWluZXIgewogICAgdmFyIGNvZGluZ1BhdGg6IFtDb2RpbmdLZXldIHsgZ2V0IH0KICAgIGZ1bmMgZGVjb2RlKF8gdHlwZTogQm9vbC5UeXBlKSB0aHJvd3MgLT4gQm9vbAogICAgZnVuYyBkZWNvZGVOaWwoKSAtPiBCb29sCn0KcHVibGljIHByb3RvY29sIFNpbmdsZVZhbHVlRW5jb2RpbmdDb250YWluZXIgewogICAgdmFyIGNvZGluZ1BhdGg6IFtDb2RpbmdLZXldIHsgZ2V0IH0KICAgIG11dGF0aW5nIGZ1bmMgZW5jb2RlKF8gdmFsdWU6IEJvb2wpIHRocm93cwogICAgbXV0YXRpbmcgZnVuYyBlbmNvZGVOaWwoKSB0aHJvd3MKfQpwdWJsaWMgcHJvdG9jb2wgU3RyaWRlYWJsZSA6IENvbXBhcmFibGUsIEVxdWF0YWJsZSB7CiAgICBhc3NvY2lhdGVkdHlwZSBTdHJpZGUKICAgIGZ1bmMgYWR2YW5jZWQoYnkgbjogU3RyaWRlKSAtPiBTZWxmCiAgICBmdW5jIGRpc3RhbmNlKHRvIG90aGVyOiBTZWxmKSAtPiBTdHJpZGUKfQpwdWJsaWMgcHJvdG9jb2wgU3RyaW5nSW50ZXJwb2xhdGlvblByb3RvY29sIHsKICAgIGFzc29jaWF0ZWR0eXBlIFN0cmluZ0xpdGVyYWxUeXBlCiAgICBpbml0KGxpdGVyYWxDYXBhY2l0eTogSW50LCBpbnRlcnBvbGF0aW9uQ291bnQ6IEludCkKICAgIG11dGF0aW5nIGZ1bmMgYXBwZW5kTGl0ZXJhbChfIGxpdGVyYWw6IFN0cmluZ0xpdGVyYWxUeXBlKQp9CnB1YmxpYyBwcm90b2NvbCBTdHJpbmdQcm90b2NvbCA6IEJpZGlyZWN0aW9uYWxDb2xsZWN0aW9uLCBDb2xsZWN0aW9uLCBDb21wYXJhYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBFeHByZXNzaWJsZUJ5RXh0ZW5kZWRHcmFwaGVtZUNsdXN0ZXJMaXRlcmFsLCBFeHByZXNzaWJsZUJ5U3RyaW5nSW50ZXJwb2xhdGlvbiwgRXhwcmVzc2libGVCeVN0cmluZ0xpdGVyYWwsIEV4cHJlc3NpYmxlQnlVbmljb2RlU2NhbGFyTGl0ZXJhbCwgSGFzaGFibGUsIExvc3NsZXNzU3RyaW5nQ29udmVydGlibGUsIFNlcXVlbmNlLCBUZXh0T3V0cHV0U3RyZWFtLCBUZXh0T3V0cHV0U3RyZWFtYWJsZSB7CiAgICBhc3NvY2lhdGVkdHlwZSBVVEYxNlZpZXcgd2hlcmUgSW5kZXggPT0gVVRGMTZWaWV3LkluZGV4LCBVSW50MTYgPT0gVVRGMTZWaWV3LkVsZW1lbnQKICAgIGFzc29jaWF0ZWR0eXBlIFVURjhWaWV3IHdoZXJlIEluZGV4ID09IFVURjhWaWV3LkluZGV4LCBVSW50OCA9PSBVVEY4Vmlldy5FbGVtZW50CiAgICBhc3NvY2lhdGVkdHlwZSBVbmljb2RlU2NhbGFyVmlldyB3aGVyZSBJbmRleCA9PSBVbmljb2RlU2NhbGFyVmlldy5JbmRleCwgVW5pY29kZS5TY2FsYXIgPT0gVW5pY29kZVNjYWxhclZpZXcuRWxlbWVudAogICAgaW5pdChjU3RyaW5nIG51bGxUZXJtaW5hdGVkVVRGODogVW5zYWZlUG9pbnRlcjxDQ2hhcj4pCiAgICBpbml0PEMsIEVuY29kaW5nPihkZWNvZGluZyBjb2RlVW5pdHM6IEMsIGFzIHNvdXJjZUVuY29kaW5nOiBFbmNvZGluZy5UeXBlKSB3aGVyZSBDIDogQ29sbGVjdGlvbiwgRW5jb2RpbmcgOiBVbmljb2RlLkVuY29kaW5nLCBDLkl0ZXJhdG9yLkVsZW1lbnQgPT0gRW5jb2RpbmcuQ29kZVVuaXQKICAgIGluaXQ8RW5jb2Rpbmc+KGRlY29kaW5nQ1N0cmluZyBudWxsVGVybWluYXRlZENvZGVVbml0czogVW5zYWZlUG9pbnRlcjxFbmNvZGluZy5Db2RlVW5pdD4sIGFzIHNvdXJjZUVuY29kaW5nOiBFbmNvZGluZy5UeXBlKSB3aGVyZSBFbmNvZGluZyA6IFVuaWNvZGUuRW5jb2RpbmcKICAgIHZhciB1bmljb2RlU2NhbGFyczogVW5pY29kZVNjYWxhclZpZXcgeyBnZXQgfQogICAgdmFyIHV0ZjE2OiBVVEYxNlZpZXcgeyBnZXQgfQogICAgdmFyIHV0Zjg6IFVURjhWaWV3IHsgZ2V0IH0KICAgIGZ1bmMgaGFzUHJlZml4PFByZWZpeD4oXyBwcmVmaXg6IFByZWZpeCkgLT4gQm9vbCB3aGVyZSBQcmVmaXggOiBTdHJpbmdQcm90b2NvbAogICAgZnVuYyBoYXNTdWZmaXg8U3VmZml4PihfIHN1ZmZpeDogU3VmZml4KSAtPiBCb29sIHdoZXJlIFN1ZmZpeCA6IFN0cmluZ1Byb3RvY29sCiAgICBmdW5jIGxvd2VyY2FzZWQoKSAtPiBTdHJpbmcKICAgIGZ1bmMgdXBwZXJjYXNlZCgpIC0+IFN0cmluZwogICAgZnVuYyB3aXRoQ1N0cmluZzxSZXN1bHQ+KF8gYm9keTogKFVuc2FmZVBvaW50ZXI8Q0NoYXI+KSB0aHJvd3MgLT4gUmVzdWx0KSByZXRocm93cyAtPiBSZXN1bHQKICAgIGZ1bmMgd2l0aENTdHJpbmc8UmVzdWx0LCBFbmNvZGluZz4oZW5jb2RlZEFzIHRhcmdldEVuY29kaW5nOiBFbmNvZGluZy5UeXBlLCBfIGJvZHk6IChVbnNhZmVQb2ludGVyPEVuY29kaW5nLkNvZGVVbml0PikgdGhyb3dzIC0+IFJlc3VsdCkgcmV0aHJvd3MgLT4gUmVzdWx0IHdoZXJlIEVuY29kaW5nIDogVW5pY29kZS5FbmNvZGluZwp9CnB1YmxpYyBwcm90b2NvbCBUZXh0T3V0cHV0U3RyZWFtIHsKICAgIG11dGF0aW5nIGZ1bmMgd3JpdGUoXyBzdHJpbmc6IFN0cmluZykKfQpwdWJsaWMgcHJvdG9jb2wgVGV4dE91dHB1dFN0cmVhbWFibGUgewogICAgZnVuYyB3cml0ZTxUYXJnZXQ+KHRvIHRhcmdldDogaW5vdXQgVGFyZ2V0KSB3aGVyZSBUYXJnZXQgOiBUZXh0T3V0cHV0U3RyZWFtCn0KcHVibGljIHByb3RvY29sIFVuaWNvZGVDb2RlYyA6IFVuaWNvZGUuRW5jb2RpbmcgewogICAgc3RhdGljIGZ1bmMgZW5jb2RlKF8gaW5wdXQ6IFVuaWNvZGUuU2NhbGFyLCBpbnRvIHByb2Nlc3NDb2RlVW5pdDogKENvZGVVbml0KSAtPiBWb2lkKQogICAgaW5pdCgpCiAgICBtdXRhdGluZyBmdW5jIGRlY29kZTxJPihfIGlucHV0OiBpbm91dCBJKSAtPiBVbmljb2RlRGVjb2RpbmdSZXN1bHQgd2hlcmUgSSA6IEl0ZXJhdG9yUHJvdG9jb2wsIENvZGVVbml0ID09IEkuRWxlbWVudAp9CnB1YmxpYyBwcm90b2NvbCBVbmtleWVkRGVjb2RpbmdDb250YWluZXIgewogICAgdmFyIGNvZGluZ1BhdGg6IFtDb2RpbmdLZXldIHsgZ2V0IH0KICAgIHZhciBjb3VudDogSW50PyB7IGdldCB9CiAgICB2YXIgY3VycmVudEluZGV4OiBJbnQgeyBnZXQgfQogICAgdmFyIGlzQXRFbmQ6IEJvb2wgeyBnZXQgfQogICAgbXV0YXRpbmcgZnVuYyBkZWNvZGUoXyB0eXBlOiBCb29sLlR5cGUpIHRocm93cyAtPiBCb29sCiAgICBtdXRhdGluZyBmdW5jIGRlY29kZUlmUHJlc2VudChfIHR5cGU6IEJvb2wuVHlwZSkgdGhyb3dzIC0+IEJvb2w/CiAgICBtdXRhdGluZyBmdW5jIGRlY29kZU5pbCgpIHRocm93cyAtPiBCb29sCiAgICBtdXRhdGluZyBmdW5jIG5lc3RlZENvbnRhaW5lcjxOZXN0ZWRLZXk+KGtleWVkQnkgdHlwZTogTmVzdGVkS2V5LlR5cGUpIHRocm93cyAtPiBLZXllZERlY29kaW5nQ29udGFpbmVyPE5lc3RlZEtleT4KICAgIG11dGF0aW5nIGZ1bmMgbmVzdGVkVW5rZXllZENvbnRhaW5lcigpIHRocm93cyAtPiBVbmtleWVkRGVjb2RpbmdDb250YWluZXIKICAgIG11dGF0aW5nIGZ1bmMgc3VwZXJEZWNvZGVyKCkgdGhyb3dzIC0+IERlY29kZXIKfQpwdWJsaWMgcHJvdG9jb2wgVW5rZXllZEVuY29kaW5nQ29udGFpbmVyIHsKICAgIHZhciBjb2RpbmdQYXRoOiBbQ29kaW5nS2V5XSB7IGdldCB9CiAgICB2YXIgY291bnQ6IEludCB7IGdldCB9CiAgICBtdXRhdGluZyBmdW5jIGVuY29kZShfIHZhbHVlOiBCb29sKSB0aHJvd3MKICAgIG11dGF0aW5nIGZ1bmMgZW5jb2RlPFQ+KGNvbnRlbnRzT2Ygc2VxdWVuY2U6IFQpIHRocm93cyB3aGVyZSBUIDogU2VxdWVuY2UsIEJvb2wgPT0gVC5FbGVtZW50CiAgICBtdXRhdGluZyBmdW5jIGVuY29kZUNvbmRpdGlvbmFsPFQ+KF8gb2JqZWN0OiBUKSB0aHJvd3Mgd2hlcmUgVCA6IEFueU9iamVjdCAmIEVuY29kYWJsZQogICAgbXV0YXRpbmcgZnVuYyBlbmNvZGVOaWwoKSB0aHJvd3MKICAgIG11dGF0aW5nIGZ1bmMgbmVzdGVkQ29udGFpbmVyPE5lc3RlZEtleT4oa2V5ZWRCeSBrZXlUeXBlOiBOZXN0ZWRLZXkuVHlwZSkgLT4gS2V5ZWRFbmNvZGluZ0NvbnRhaW5lcjxOZXN0ZWRLZXk+CiAgICBtdXRhdGluZyBmdW5jIG5lc3RlZFVua2V5ZWRDb250YWluZXIoKSAtPiBVbmtleWVkRW5jb2RpbmdDb250YWluZXIKICAgIG11dGF0aW5nIGZ1bmMgc3VwZXJFbmNvZGVyKCkgLT4gRW5jb2Rlcgp9CnB1YmxpYyBwcm90b2NvbCBVbnNpZ25lZEludGVnZXIgOiBBZGRpdGl2ZUFyaXRobWV0aWMsIEJpbmFyeUludGVnZXIsIENvbXBhcmFibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEV4cHJlc3NpYmxlQnlJbnRlZ2VyTGl0ZXJhbCwgSGFzaGFibGUsIE51bWVyaWMsIFN0cmlkZWFibGUgewp9CmV4dGVuc2lvbiBBbnlCaWRpcmVjdGlvbmFsQ29sbGVjdGlvbiB7CiAgICBwdWJsaWMgaW5pdChfIG90aGVyOiBBbnlCaWRpcmVjdGlvbmFsQ29sbGVjdGlvbjxFbGVtZW50Pikge30KICAgIHB1YmxpYyBpbml0PEM+KF8gYmFzZTogQykgd2hlcmUgQyA6IEJpZGlyZWN0aW9uYWxDb2xsZWN0aW9uLCBDLkVsZW1lbnQgPT0gRWxlbWVudCB7fQogICAgcHVibGljIGluaXQ/KF8gb3RoZXI6IEFueUNvbGxlY3Rpb248RWxlbWVudD4pIHt9Cn0KZXh0ZW5zaW9uIEFueUNvbGxlY3Rpb24gewogICAgcHVibGljIGluaXQoXyBvdGhlcjogQW55QmlkaXJlY3Rpb25hbENvbGxlY3Rpb248RWxlbWVudD4pIHt9CiAgICBwdWJsaWMgaW5pdDxDPihfIGJhc2U6IEMpIHdoZXJlIEMgOiBCaWRpcmVjdGlvbmFsQ29sbGVjdGlvbiwgQy5FbGVtZW50ID09IEVsZW1lbnQge30KfQpleHRlbnNpb24gQW55SXRlcmF0b3Igewp9CmV4dGVuc2lvbiBBbnlSYW5kb21BY2Nlc3NDb2xsZWN0aW9uIHsKICAgIHB1YmxpYyBpbml0KF8gb3RoZXI6IEFueVJhbmRvbUFjY2Vzc0NvbGxlY3Rpb248RWxlbWVudD4pIHt9CiAgICBwdWJsaWMgaW5pdDxDPihfIGJhc2U6IEMpIHdoZXJlIEMgOiBSYW5kb21BY2Nlc3NDb2xsZWN0aW9uLCBDLkVsZW1lbnQgPT0gRWxlbWVudCB7fQogICAgcHVibGljIGluaXQ/KF8gb3RoZXI6IEFueUJpZGlyZWN0aW9uYWxDb2xsZWN0aW9uPEVsZW1lbnQ+KSB7fQp9CmV4dGVuc2lvbiBBbnlTZXF1ZW5jZSB7CiAgICBwdWJsaWMgaW5pdDxTPihfIGJhc2U6IFMpIHdoZXJlIFMgOiBTZXF1ZW5jZSwgRWxlbWVudCA9PSBTLkVsZW1lbnQge30KfQpleHRlbnNpb24gQXJyYXkgewogICAgcHVibGljIGluaXQodW5zYWZlVW5pbml0aWFsaXplZENhcGFjaXR5OiBJbnQsIGluaXRpYWxpemluZ1dpdGggaW5pdGlhbGl6ZXI6IChfIGJ1ZmZlcjogaW5vdXQgVW5zYWZlTXV0YWJsZUJ1ZmZlclBvaW50ZXI8RWxlbWVudD4sIF8gaW5pdGlhbGl6ZWRDb3VudDogaW5vdXQgSW50KSB0aHJvd3MgLT4gVm9pZCkgcmV0aHJvd3Mge30KICAgIHB1YmxpYyB2YXIgY2FwYWNpdHk6IEludCB7IGdldCB9CiAgICBwdWJsaWMgc3Vic2NyaXB0KGluZGV4OiBJbnQpIC0+IEVsZW1lbnQgeyBnZXQgc2V0IH0ge30KICAgIHB1YmxpYyBmdW5jIHdpdGhVbnNhZmVCdWZmZXJQb2ludGVyPFI+KF8gYm9keTogKFVuc2FmZUJ1ZmZlclBvaW50ZXI8RWxlbWVudD4pIHRocm93cyAtPiBSKSByZXRocm93cyAtPiBSIHt9CiAgICBwdWJsaWMgZnVuYyB3aXRoVW5zYWZlQnl0ZXM8Uj4oXyBib2R5OiAoVW5zYWZlUmF3QnVmZmVyUG9pbnRlcikgdGhyb3dzIC0+IFIpIHJldGhyb3dzIC0+IFIge30KICAgIHB1YmxpYyBtdXRhdGluZyBmdW5jIHdpdGhVbnNhZmVNdXRhYmxlQnVmZmVyUG9pbnRlcjxSPihfIGJvZHk6IChpbm91dCBVbnNhZmVNdXRhYmxlQnVmZmVyUG9pbnRlcjxFbGVtZW50PikgdGhyb3dzIC0+IFIpIHJldGhyb3dzIC0+IFIge30KICAgIHB1YmxpYyBtdXRhdGluZyBmdW5jIHdpdGhVbnNhZmVNdXRhYmxlQnl0ZXM8Uj4oXyBib2R5OiAoVW5zYWZlTXV0YWJsZVJhd0J1ZmZlclBvaW50ZXIpIHRocm93cyAtPiBSKSByZXRocm93cyAtPiBSIHt9Cn0KZXh0ZW5zaW9uIEFycmF5U2xpY2UgewogICAgcHVibGljIHZhciBjYXBhY2l0eTogSW50IHsgZ2V0IH0KICAgIHB1YmxpYyBzdWJzY3JpcHQoaW5kZXg6IEludCkgLT4gRWxlbWVudCB7IGdldCBzZXQgfSB7fQogICAgcHVibGljIGZ1bmMgd2l0aFVuc2FmZUJ1ZmZlclBvaW50ZXI8Uj4oXyBib2R5OiAoVW5zYWZlQnVmZmVyUG9pbnRlcjxFbGVtZW50PikgdGhyb3dzIC0+IFIpIHJldGhyb3dzIC0+IFIge30KICAgIHB1YmxpYyBmdW5jIHdpdGhVbnNhZmVCeXRlczxSPihfIGJvZHk6IChVbnNhZmVSYXdCdWZmZXJQb2ludGVyKSB0aHJvd3MgLT4gUikgcmV0aHJvd3MgLT4gUiB7fQogICAgcHVibGljIG11dGF0aW5nIGZ1bmMgd2l0aFVuc2FmZU11dGFibGVCdWZmZXJQb2ludGVyPFI+KF8gYm9keTogKGlub3V0IFVuc2FmZU11dGFibGVCdWZmZXJQb2ludGVyPEVsZW1lbnQ+KSB0aHJvd3MgLT4gUikgcmV0aHJvd3MgLT4gUiB7fQogICAgcHVibGljIG11dGF0aW5nIGZ1bmMgd2l0aFVuc2FmZU11dGFibGVCeXRlczxSPihfIGJvZHk6IChVbnNhZmVNdXRhYmxlUmF3QnVmZmVyUG9pbnRlcikgdGhyb3dzIC0+IFIpIHJldGhyb3dzIC0+IFIge30KfQpleHRlbnNpb24gQXV0b3JlbGVhc2luZ1Vuc2FmZU11dGFibGVQb2ludGVyIHsKfQpleHRlbnNpb24gQ2xvc2VkUmFuZ2UgewogICAgcHVibGljIGZ1bmMgY2xhbXBlZCh0byBsaW1pdHM6IENsb3NlZFJhbmdlKSAtPiBDbG9zZWRSYW5nZSB7fQogICAgcHVibGljIGZ1bmMgb3ZlcmxhcHMoXyBvdGhlcjogQ2xvc2VkUmFuZ2U8Qm91bmQ+KSAtPiBCb29sIHt9Cn0KZXh0ZW5zaW9uIENsb3NlZFJhbmdlLkluZGV4IHsKfQpleHRlbnNpb24gQ29sbGVjdGlvbkRpZmZlcmVuY2UgewogICAgcHVibGljIGZ1bmMgaW5kZXgoYmVmb3JlIGluZGV4OiBJbmRleCkgLT4gSW5kZXgge30KfQpleHRlbnNpb24gQ29sbGVjdGlvbkRpZmZlcmVuY2UuQ2hhbmdlIHsKfQpleHRlbnNpb24gQ29sbGVjdGlvbkRpZmZlcmVuY2UuSW5kZXggewp9CmV4dGVuc2lvbiBDb2xsZWN0aW9uT2ZPbmUgewp9CmV4dGVuc2lvbiBDb2xsZWN0aW9uT2ZPbmUuSXRlcmF0b3Igewp9CmV4dGVuc2lvbiBDb250aWd1b3VzQXJyYXkgewogICAgcHVibGljIGluaXQodW5zYWZlVW5pbml0aWFsaXplZENhcGFjaXR5OiBJbnQsIGluaXRpYWxpemluZ1dpdGggaW5pdGlhbGl6ZXI6IChfIGJ1ZmZlcjogaW5vdXQgVW5zYWZlTXV0YWJsZUJ1ZmZlclBvaW50ZXI8RWxlbWVudD4sIF8gaW5pdGlhbGl6ZWRDb3VudDogaW5vdXQgSW50KSB0aHJvd3MgLT4gVm9pZCkgcmV0aHJvd3Mge30KICAgIHB1YmxpYyB2YXIgY2FwYWNpdHk6IEludCB7IGdldCB9CiAgICBwdWJsaWMgc3Vic2NyaXB0KGluZGV4OiBJbnQpIC0+IEVsZW1lbnQgeyBnZXQgc2V0IH0ge30KICAgIHB1YmxpYyBmdW5jIHdpdGhVbnNhZmVCdWZmZXJQb2ludGVyPFI+KF8gYm9keTogKFVuc2FmZUJ1ZmZlclBvaW50ZXI8RWxlbWVudD4pIHRocm93cyAtPiBSKSByZXRocm93cyAtPiBSIHt9CiAgICBwdWJsaWMgZnVuYyB3aXRoVW5zYWZlQnl0ZXM8Uj4oXyBib2R5OiAoVW5zYWZlUmF3QnVmZmVyUG9pbnRlcikgdGhyb3dzIC0+IFIpIHJldGhyb3dzIC0+IFIge30KICAgIHB1YmxpYyBtdXRhdGluZyBmdW5jIHdpdGhVbnNhZmVNdXRhYmxlQnVmZmVyUG9pbnRlcjxSPihfIGJvZHk6IChpbm91dCBVbnNhZmVNdXRhYmxlQnVmZmVyUG9pbnRlcjxFbGVtZW50PikgdGhyb3dzIC0+IFIpIHJldGhyb3dzIC0+IFIge30KICAgIHB1YmxpYyBtdXRhdGluZyBmdW5jIHdpdGhVbnNhZmVNdXRhYmxlQnl0ZXM8Uj4oXyBib2R5OiAoVW5zYWZlTXV0YWJsZVJhd0J1ZmZlclBvaW50ZXIpIHRocm93cyAtPiBSKSByZXRocm93cyAtPiBSIHt9Cn0KZXh0ZW5zaW9uIERlZmF1bHRJbmRpY2VzIHsKICAgIHB1YmxpYyBzdWJzY3JpcHQoaTogSW5kZXgpIC0+IEVsZW1lbnRzLkluZGV4IHsgZ2V0IH0ge30KfQpleHRlbnNpb24gRGljdGlvbmFyeSB7CiAgICBwdWJsaWMgdmFyIGNhcGFjaXR5OiBJbnQgeyBnZXQgfQogICAgQGF2YWlsYWJsZShzd2lmdCwgaW50cm9kdWNlZDogNC4wKSBwdWJsaWMgdmFyIGtleXM6IEtleXMgeyBnZXQgfQogICAgQGF2YWlsYWJsZShzd2lmdCwgaW50cm9kdWNlZDogNC4wKSBwdWJsaWMgdmFyIHZhbHVlczogVmFsdWVzIHsgZ2V0IHNldCB9CiAgICBwdWJsaWMgc3Vic2NyaXB0KGtleTogS2V5KSAtPiBWYWx1ZT8geyBnZXQgc2V0IH0ge30KICAgIHB1YmxpYyBzdWJzY3JpcHQoa2V5OiBLZXksIGRlZmF1bHQgZGVmYXVsdFZhbHVlOiBAYXV0b2Nsb3N1cmUgKCkgLT4gVmFsdWUpIC0+IFZhbHVlIHsgZ2V0IHNldCB9IHt9CiAgICBwdWJsaWMgZnVuYyBjb21wYWN0TWFwVmFsdWVzPFQ+KF8gdHJhbnNmb3JtOiAoVmFsdWUpIHRocm93cyAtPiBUPykgcmV0aHJvd3MgLT4gW0tleTogVF0ge30KICAgIHB1YmxpYyBmdW5jIGluZGV4KGZvcktleSBrZXk6IEtleSkgLT4gSW5kZXg/IHt9CiAgICBwdWJsaWMgZnVuYyBtYXBWYWx1ZXM8VD4oXyB0cmFuc2Zvcm06IChWYWx1ZSkgdGhyb3dzIC0+IFQpIHJldGhyb3dzIC0+IFtLZXk6IFRdIHt9CiAgICBwdWJsaWMgbXV0YXRpbmcgZnVuYyBtZXJnZShfIG90aGVyOiBfX293bmVkIFtLZXk6IFZhbHVlXSwgdW5pcXVpbmdLZXlzV2l0aCBjb21iaW5lOiAoVmFsdWUsIFZhbHVlKSB0aHJvd3MgLT4gVmFsdWUpIHJldGhyb3dzIHt9CiAgICBwdWJsaWMgbXV0YXRpbmcgZnVuYyBtZXJnZTxTPihfIG90aGVyOiBfX293bmVkIFMsIHVuaXF1aW5nS2V5c1dpdGggY29tYmluZTogKFZhbHVlLCBWYWx1ZSkgdGhyb3dzIC0+IFZhbHVlKSByZXRocm93cyB3aGVyZSBTIDogU2VxdWVuY2UsIChLZXksIFZhbHVlKSA9PSBTLkVsZW1lbnQge30KICAgIHB1YmxpYyBmdW5jIG1lcmdpbmcoXyBvdGhlcjogX19vd25lZCBbS2V5OiBWYWx1ZV0sIHVuaXF1aW5nS2V5c1dpdGggY29tYmluZTogKFZhbHVlLCBWYWx1ZSkgdGhyb3dzIC0+IFZhbHVlKSByZXRocm93cyAtPiBbS2V5OiBWYWx1ZV0ge30KICAgIHB1YmxpYyBmdW5jIG1lcmdpbmc8Uz4oXyBvdGhlcjogX19vd25lZCBTLCB1bmlxdWluZ0tleXNXaXRoIGNvbWJpbmU6IChWYWx1ZSwgVmFsdWUpIHRocm93cyAtPiBWYWx1ZSkgcmV0aHJvd3MgLT4gW0tleTogVmFsdWVdIHdoZXJlIFMgOiBTZXF1ZW5jZSwgKEtleSwgVmFsdWUpID09IFMuRWxlbWVudCB7fQogICAgQGRpc2NhcmRhYmxlUmVzdWx0IHB1YmxpYyBtdXRhdGluZyBmdW5jIHJlbW92ZShhdCBpbmRleDogSW5kZXgpIC0+IEVsZW1lbnQge30KICAgIHB1YmxpYyBtdXRhdGluZyBmdW5jIHJlbW92ZUFsbChrZWVwaW5nQ2FwYWNpdHkga2VlcENhcGFjaXR5OiBCb29sID0geCkge30KICAgIEBkaXNjYXJkYWJsZVJlc3VsdCBwdWJsaWMgbXV0YXRpbmcgZnVuYyByZW1vdmVWYWx1ZShmb3JLZXkga2V5OiBLZXkpIC0+IFZhbHVlPyB7fQogICAgcHVibGljIG11dGF0aW5nIGZ1bmMgcmVzZXJ2ZUNhcGFjaXR5KF8gbWluaW11bUNhcGFjaXR5OiBJbnQpIHt9CiAgICBAZGlzY2FyZGFibGVSZXN1bHQgcHVibGljIG11dGF0aW5nIGZ1bmMgdXBkYXRlVmFsdWUoXyB2YWx1ZTogX19vd25lZCBWYWx1ZSwgZm9yS2V5IGtleTogS2V5KSAtPiBWYWx1ZT8ge30KfQpleHRlbnNpb24gRGljdGlvbmFyeS5JbmRleCB7Cn0KZXh0ZW5zaW9uIERpY3Rpb25hcnkuSXRlcmF0b3Igewp9CmV4dGVuc2lvbiBEaWN0aW9uYXJ5LktleXMgewogICAgcHVibGljIGZ1bmMgbWFrZUl0ZXJhdG9yKCkgLT4gSXRlcmF0b3Ige30KfQpleHRlbnNpb24gRGljdGlvbmFyeS5WYWx1ZXMgewogICAgcHVibGljIGZ1bmMgbWFrZUl0ZXJhdG9yKCkgLT4gSXRlcmF0b3Ige30KfQpleHRlbnNpb24gRGljdGlvbmFyeS5fVmFyaWFudCB7Cn0KZXh0ZW5zaW9uIERyb3BGaXJzdFNlcXVlbmNlIHsKfQpleHRlbnNpb24gRHJvcFdoaWxlU2VxdWVuY2Ugewp9CmV4dGVuc2lvbiBEcm9wV2hpbGVTZXF1ZW5jZS5JdGVyYXRvciB7Cn0KZXh0ZW5zaW9uIEVtcHR5Q29sbGVjdGlvbiB7Cn0KZXh0ZW5zaW9uIEVtcHR5Q29sbGVjdGlvbi5JdGVyYXRvciB7Cn0KZXh0ZW5zaW9uIEVudW1lcmF0ZWRTZXF1ZW5jZSB7Cn0KZXh0ZW5zaW9uIEVudW1lcmF0ZWRTZXF1ZW5jZS5JdGVyYXRvciB7Cn0KZXh0ZW5zaW9uIEZsYXR0ZW5Db2xsZWN0aW9uIHsKfQpleHRlbnNpb24gRmxhdHRlblNlcXVlbmNlIHsKfQpleHRlbnNpb24gRmxhdHRlblNlcXVlbmNlLkluZGV4IHsKfQpleHRlbnNpb24gRmxhdHRlblNlcXVlbmNlLkl0ZXJhdG9yIHsKfQpleHRlbnNpb24gSW5kZXhpbmdJdGVyYXRvciB7Cn0KZXh0ZW5zaW9uIEl0ZXJhdG9yU2VxdWVuY2Ugewp9CmV4dGVuc2lvbiBKb2luZWRTZXF1ZW5jZSB7Cn0KZXh0ZW5zaW9uIEpvaW5lZFNlcXVlbmNlLkl0ZXJhdG9yIHsKfQpleHRlbnNpb24gS2V5VmFsdWVQYWlycyB7Cn0KZXh0ZW5zaW9uIExhenlDb2xsZWN0aW9uIHsKfQpleHRlbnNpb24gTGF6eURyb3BXaGlsZUNvbGxlY3Rpb24gewp9CmV4dGVuc2lvbiBMYXp5RHJvcFdoaWxlU2VxdWVuY2Ugewp9CmV4dGVuc2lvbiBMYXp5RHJvcFdoaWxlU2VxdWVuY2UuSXRlcmF0b3Igewp9CmV4dGVuc2lvbiBMYXp5RmlsdGVyQ29sbGVjdGlvbiB7Cn0KZXh0ZW5zaW9uIExhenlGaWx0ZXJTZXF1ZW5jZSB7Cn0KZXh0ZW5zaW9uIExhenlGaWx0ZXJTZXF1ZW5jZS5JdGVyYXRvciB7Cn0KZXh0ZW5zaW9uIExhenlNYXBDb2xsZWN0aW9uIHsKfQpleHRlbnNpb24gTGF6eU1hcFNlcXVlbmNlIHsKfQpleHRlbnNpb24gTGF6eU1hcFNlcXVlbmNlLkl0ZXJhdG9yIHsKfQpleHRlbnNpb24gTGF6eVByZWZpeFdoaWxlQ29sbGVjdGlvbiB7Cn0KZXh0ZW5zaW9uIExhenlQcmVmaXhXaGlsZVNlcXVlbmNlIHsKfQpleHRlbnNpb24gTGF6eVByZWZpeFdoaWxlU2VxdWVuY2UuSW5kZXggewp9CmV4dGVuc2lvbiBMYXp5UHJlZml4V2hpbGVTZXF1ZW5jZS5JdGVyYXRvciB7Cn0KZXh0ZW5zaW9uIExhenlTZXF1ZW5jZSB7Cn0KZXh0ZW5zaW9uIE1hbmFnZWRCdWZmZXIgewogICAgcHVibGljIGNsYXNzIGZ1bmMgY3JlYXRlKG1pbmltdW1DYXBhY2l0eTogSW50LCBtYWtpbmdIZWFkZXJXaXRoIGZhY3Rvcnk6IChNYW5hZ2VkQnVmZmVyPEhlYWRlciwgRWxlbWVudD4pIHRocm93cyAtPiBIZWFkZXIpIHJldGhyb3dzIC0+IE1hbmFnZWRCdWZmZXI8SGVhZGVyLCBFbGVtZW50PiB7fQogICAgcHVibGljIHZhciBjYXBhY2l0eTogSW50IHsgZ2V0IH0KICAgIHB1YmxpYyBmdW5jIHdpdGhVbnNhZmVNdXRhYmxlUG9pbnRlclRvRWxlbWVudHM8Uj4oXyBib2R5OiAoVW5zYWZlTXV0YWJsZVBvaW50ZXI8RWxlbWVudD4pIHRocm93cyAtPiBSKSByZXRocm93cyAtPiBSIHt9CiAgICBwdWJsaWMgZnVuYyB3aXRoVW5zYWZlTXV0YWJsZVBvaW50ZXJUb0hlYWRlcjxSPihfIGJvZHk6IChVbnNhZmVNdXRhYmxlUG9pbnRlcjxIZWFkZXI+KSB0aHJvd3MgLT4gUikgcmV0aHJvd3MgLT4gUiB7fQogICAgcHVibGljIGZ1bmMgd2l0aFVuc2FmZU11dGFibGVQb2ludGVyczxSPihfIGJvZHk6IChVbnNhZmVNdXRhYmxlUG9pbnRlcjxIZWFkZXI+LCBVbnNhZmVNdXRhYmxlUG9pbnRlcjxFbGVtZW50PikgdGhyb3dzIC0+IFIpIHJldGhyb3dzIC0+IFIge30KfQpleHRlbnNpb24gTWFuYWdlZEJ1ZmZlclBvaW50ZXIgewogICAgcHVibGljIHZhciBidWZmZXI6IEFueU9iamVjdCB7IGdldCB9CiAgICBwdWJsaWMgdmFyIGNhcGFjaXR5OiBJbnQgeyBnZXQgfQogICAgcHVibGljIHZhciBoZWFkZXI6IEhlYWRlciB7IGdldCBzZXQgfQogICAgcHVibGljIG11dGF0aW5nIGZ1bmMgaXNVbmlxdWVSZWZlcmVuY2UoKSAtPiBCb29sIHt9CiAgICBwdWJsaWMgZnVuYyB3aXRoVW5zYWZlTXV0YWJsZVBvaW50ZXJUb0VsZW1lbnRzPFI+KF8gYm9keTogKFVuc2FmZU11dGFibGVQb2ludGVyPEVsZW1lbnQ+KSB0aHJvd3MgLT4gUikgcmV0aHJvd3MgLT4gUiB7fQogICAgcHVibGljIGZ1bmMgd2l0aFVuc2FmZU11dGFibGVQb2ludGVyVG9IZWFkZXI8Uj4oXyBib2R5OiAoVW5zYWZlTXV0YWJsZVBvaW50ZXI8SGVhZGVyPikgdGhyb3dzIC0+IFIpIHJldGhyb3dzIC0+IFIge30KICAgIHB1YmxpYyBmdW5jIHdpdGhVbnNhZmVNdXRhYmxlUG9pbnRlcnM8Uj4oXyBib2R5OiAoVW5zYWZlTXV0YWJsZVBvaW50ZXI8SGVhZGVyPiwgVW5zYWZlTXV0YWJsZVBvaW50ZXI8RWxlbWVudD4pIHRocm93cyAtPiBSKSByZXRocm93cyAtPiBSIHt9Cn0KZXh0ZW5zaW9uIE1lbW9yeUxheW91dCB7CiAgICBwdWJsaWMgc3RhdGljIGZ1bmMgYWxpZ25tZW50KG9mVmFsdWUgdmFsdWU6IFQpIC0+IEludCB7fQogICAgcHVibGljIHN0YXRpYyBmdW5jIG9mZnNldChvZiBrZXk6IFBhcnRpYWxLZXlQYXRoPFQ+KSAtPiBJbnQ/IHt9CiAgICBwdWJsaWMgc3RhdGljIGZ1bmMgc2l6ZShvZlZhbHVlIHZhbHVlOiBUKSAtPiBJbnQge30KICAgIHB1YmxpYyBzdGF0aWMgZnVuYyBzdHJpZGUob2ZWYWx1ZSB2YWx1ZTogVCkgLT4gSW50IHt9Cn0KZXh0ZW5zaW9uIE9wdGlvbmFsIHsKICAgIHB1YmxpYyBmdW5jIH49KGxoczogX09wdGlvbmFsTmlsQ29tcGFyaXNvblR5cGUsIHJoczogV3JhcHBlZD8pIC0+IEJvb2wge30KfQpleHRlbnNpb24gUGFydGlhbFJhbmdlRnJvbSB7Cn0KZXh0ZW5zaW9uIFBhcnRpYWxSYW5nZVRocm91Z2ggewp9CmV4dGVuc2lvbiBQYXJ0aWFsUmFuZ2VVcFRvIHsKfQpleHRlbnNpb24gUHJlZml4U2VxdWVuY2Ugewp9CmV4dGVuc2lvbiBQcmVmaXhTZXF1ZW5jZS5JdGVyYXRvciB7Cn0KZXh0ZW5zaW9uIFJhbmdlIHsKICAgIHB1YmxpYyBmdW5jIGNsYW1wZWQodG8gbGltaXRzOiBSYW5nZSkgLT4gUmFuZ2Uge30KICAgIHB1YmxpYyBmdW5jIG92ZXJsYXBzKF8gb3RoZXI6IFJhbmdlPEJvdW5kPikgLT4gQm9vbCB7fQp9CmV4dGVuc2lvbiBSZXBlYXRlZCB7Cn0KZXh0ZW5zaW9uIFJlc3VsdCB7Cn0KZXh0ZW5zaW9uIFJldmVyc2VkQ29sbGVjdGlvbiB7Cn0KZXh0ZW5zaW9uIFJldmVyc2VkQ29sbGVjdGlvbi5JbmRleCB7Cn0KZXh0ZW5zaW9uIFJldmVyc2VkQ29sbGVjdGlvbi5JdGVyYXRvciB7Cn0KZXh0ZW5zaW9uIFNJTUQxNiB7CiAgICBwdWJsaWMgaW5pdDxPdGhlcj4oXyBvdGhlcjogU0lNRDE2PE90aGVyPikgd2hlcmUgT3RoZXIgOiBCaW5hcnlGbG9hdGluZ1BvaW50LCBTY2FsYXIgOiBCaW5hcnlGbG9hdGluZ1BvaW50IHt9CiAgICBwdWJsaWMgaW5pdDxPdGhlcj4oXyBvdGhlcjogU0lNRDE2PE90aGVyPikgd2hlcmUgT3RoZXIgOiBGaXhlZFdpZHRoSW50ZWdlciwgU2NhbGFyIDogQmluYXJ5RmxvYXRpbmdQb2ludCB7fQogICAgcHVibGljIGluaXQ8T3RoZXI+KF8gb3RoZXI6IFNJTUQxNjxPdGhlcj4sIHJvdW5kaW5nIHJ1bGU6IEZsb2F0aW5nUG9pbnRSb3VuZGluZ1J1bGUgPSB4KSB3aGVyZSBPdGhlciA6IEJpbmFyeUZsb2F0aW5nUG9pbnQsIFNjYWxhciA6IEZpeGVkV2lkdGhJbnRlZ2VyIHt9CiAgICBwdWJsaWMgaW5pdDxPdGhlcj4oY2xhbXBpbmcgb3RoZXI6IFNJTUQxNjxPdGhlcj4pIHdoZXJlIE90aGVyIDogRml4ZWRXaWR0aEludGVnZXIsIFNjYWxhciA6IEZpeGVkV2lkdGhJbnRlZ2VyIHt9CiAgICBwdWJsaWMgaW5pdDxPdGhlcj4odHJ1bmNhdGluZ0lmTmVlZGVkIG90aGVyOiBTSU1EMTY8T3RoZXI+KSB3aGVyZSBPdGhlciA6IEZpeGVkV2lkdGhJbnRlZ2VyLCBTY2FsYXIgOiBGaXhlZFdpZHRoSW50ZWdlciB7fQp9CmV4dGVuc2lvbiBTSU1EMiB7CiAgICBwdWJsaWMgaW5pdDxPdGhlcj4oXyBvdGhlcjogU0lNRDI8T3RoZXI+KSB3aGVyZSBPdGhlciA6IEJpbmFyeUZsb2F0aW5nUG9pbnQsIFNjYWxhciA6IEJpbmFyeUZsb2F0aW5nUG9pbnQge30KICAgIHB1YmxpYyBpbml0PE90aGVyPihfIG90aGVyOiBTSU1EMjxPdGhlcj4pIHdoZXJlIE90aGVyIDogRml4ZWRXaWR0aEludGVnZXIsIFNjYWxhciA6IEJpbmFyeUZsb2F0aW5nUG9pbnQge30KICAgIHB1YmxpYyBpbml0PE90aGVyPihfIG90aGVyOiBTSU1EMjxPdGhlcj4sIHJvdW5kaW5nIHJ1bGU6IEZsb2F0aW5nUG9pbnRSb3VuZGluZ1J1bGUgPSB4KSB3aGVyZSBPdGhlciA6IEJpbmFyeUZsb2F0aW5nUG9pbnQsIFNjYWxhciA6IEZpeGVkV2lkdGhJbnRlZ2VyIHt9CiAgICBwdWJsaWMgaW5pdDxPdGhlcj4oY2xhbXBpbmcgb3RoZXI6IFNJTUQyPE90aGVyPikgd2hlcmUgT3RoZXIgOiBGaXhlZFdpZHRoSW50ZWdlciwgU2NhbGFyIDogRml4ZWRXaWR0aEludGVnZXIge30KICAgIHB1YmxpYyBpbml0PE90aGVyPih0cnVuY2F0aW5nSWZOZWVkZWQgb3RoZXI6IFNJTUQyPE90aGVyPikgd2hlcmUgT3RoZXIgOiBGaXhlZFdpZHRoSW50ZWdlciwgU2NhbGFyIDogRml4ZWRXaWR0aEludGVnZXIge30KfQpleHRlbnNpb24gU0lNRDMgewogICAgcHVibGljIGluaXQ8T3RoZXI+KF8gb3RoZXI6IFNJTUQzPE90aGVyPikgd2hlcmUgT3RoZXIgOiBCaW5hcnlGbG9hdGluZ1BvaW50LCBTY2FsYXIgOiBCaW5hcnlGbG9hdGluZ1BvaW50IHt9CiAgICBwdWJsaWMgaW5pdDxPdGhlcj4oXyBvdGhlcjogU0lNRDM8T3RoZXI+KSB3aGVyZSBPdGhlciA6IEZpeGVkV2lkdGhJbnRlZ2VyLCBTY2FsYXIgOiBCaW5hcnlGbG9hdGluZ1BvaW50IHt9CiAgICBwdWJsaWMgaW5pdChfIHh5OiBTSU1EMjxTY2FsYXI+LCBfIHo6IFNjYWxhcikge30KICAgIHB1YmxpYyBpbml0PE90aGVyPihfIG90aGVyOiBTSU1EMzxPdGhlcj4sIHJvdW5kaW5nIHJ1bGU6IEZsb2F0aW5nUG9pbnRSb3VuZGluZ1J1bGUgPSB4KSB3aGVyZSBPdGhlciA6IEJpbmFyeUZsb2F0aW5nUG9pbnQsIFNjYWxhciA6IEZpeGVkV2lkdGhJbnRlZ2VyIHt9CiAgICBwdWJsaWMgaW5pdDxPdGhlcj4oY2xhbXBpbmcgb3RoZXI6IFNJTUQzPE90aGVyPikgd2hlcmUgT3RoZXIgOiBGaXhlZFdpZHRoSW50ZWdlciwgU2NhbGFyIDogRml4ZWRXaWR0aEludGVnZXIge30KICAgIHB1YmxpYyBpbml0PE90aGVyPih0cnVuY2F0aW5nSWZOZWVkZWQgb3RoZXI6IFNJTUQzPE90aGVyPikgd2hlcmUgT3RoZXIgOiBGaXhlZFdpZHRoSW50ZWdlciwgU2NhbGFyIDogRml4ZWRXaWR0aEludGVnZXIge30KfQpleHRlbnNpb24gU0lNRDMyIHsKICAgIHB1YmxpYyBpbml0PE90aGVyPihfIG90aGVyOiBTSU1EMzI8T3RoZXI+KSB3aGVyZSBPdGhlciA6IEJpbmFyeUZsb2F0aW5nUG9pbnQsIFNjYWxhciA6IEJpbmFyeUZsb2F0aW5nUG9pbnQge30KICAgIHB1YmxpYyBpbml0PE90aGVyPihfIG90aGVyOiBTSU1EMzI8T3RoZXI+KSB3aGVyZSBPdGhlciA6IEZpeGVkV2lkdGhJbnRlZ2VyLCBTY2FsYXIgOiBCaW5hcnlGbG9hdGluZ1BvaW50IHt9CiAgICBwdWJsaWMgaW5pdDxPdGhlcj4oXyBvdGhlcjogU0lNRDMyPE90aGVyPiwgcm91bmRpbmcgcnVsZTogRmxvYXRpbmdQb2ludFJvdW5kaW5nUnVsZSA9IHgpIHdoZXJlIE90aGVyIDogQmluYXJ5RmxvYXRpbmdQb2ludCwgU2NhbGFyIDogRml4ZWRXaWR0aEludGVnZXIge30KICAgIHB1YmxpYyBpbml0PE90aGVyPihjbGFtcGluZyBvdGhlcjogU0lNRDMyPE90aGVyPikgd2hlcmUgT3RoZXIgOiBGaXhlZFdpZHRoSW50ZWdlciwgU2NhbGFyIDogRml4ZWRXaWR0aEludGVnZXIge30KICAgIHB1YmxpYyBpbml0PE90aGVyPih0cnVuY2F0aW5nSWZOZWVkZWQgb3RoZXI6IFNJTUQzMjxPdGhlcj4pIHdoZXJlIE90aGVyIDogRml4ZWRXaWR0aEludGVnZXIsIFNjYWxhciA6IEZpeGVkV2lkdGhJbnRlZ2VyIHt9Cn0KZXh0ZW5zaW9uIFNJTUQ0IHsKICAgIHB1YmxpYyBpbml0PE90aGVyPihfIG90aGVyOiBTSU1ENDxPdGhlcj4pIHdoZXJlIE90aGVyIDogQmluYXJ5RmxvYXRpbmdQb2ludCwgU2NhbGFyIDogQmluYXJ5RmxvYXRpbmdQb2ludCB7fQogICAgcHVibGljIGluaXQ8T3RoZXI+KF8gb3RoZXI6IFNJTUQ0PE90aGVyPikgd2hlcmUgT3RoZXIgOiBGaXhlZFdpZHRoSW50ZWdlciwgU2NhbGFyIDogQmluYXJ5RmxvYXRpbmdQb2ludCB7fQogICAgcHVibGljIGluaXQoXyB4eXo6IFNJTUQzPFNjYWxhcj4sIF8gdzogU2NhbGFyKSB7fQogICAgcHVibGljIGluaXQ8T3RoZXI+KF8gb3RoZXI6IFNJTUQ0PE90aGVyPiwgcm91bmRpbmcgcnVsZTogRmxvYXRpbmdQb2ludFJvdW5kaW5nUnVsZSA9IHgpIHdoZXJlIE90aGVyIDogQmluYXJ5RmxvYXRpbmdQb2ludCwgU2NhbGFyIDogRml4ZWRXaWR0aEludGVnZXIge30KICAgIHB1YmxpYyBpbml0PE90aGVyPihjbGFtcGluZyBvdGhlcjogU0lNRDQ8T3RoZXI+KSB3aGVyZSBPdGhlciA6IEZpeGVkV2lkdGhJbnRlZ2VyLCBTY2FsYXIgOiBGaXhlZFdpZHRoSW50ZWdlciB7fQogICAgcHVibGljIGluaXQ8T3RoZXI+KHRydW5jYXRpbmdJZk5lZWRlZCBvdGhlcjogU0lNRDQ8T3RoZXI+KSB3aGVyZSBPdGhlciA6IEZpeGVkV2lkdGhJbnRlZ2VyLCBTY2FsYXIgOiBGaXhlZFdpZHRoSW50ZWdlciB7fQp9CmV4dGVuc2lvbiBTSU1ENjQgewogICAgcHVibGljIGluaXQ8T3RoZXI+KF8gb3RoZXI6IFNJTUQ2NDxPdGhlcj4pIHdoZXJlIE90aGVyIDogQmluYXJ5RmxvYXRpbmdQb2ludCwgU2NhbGFyIDogQmluYXJ5RmxvYXRpbmdQb2ludCB7fQogICAgcHVibGljIGluaXQ8T3RoZXI+KF8gb3RoZXI6IFNJTUQ2NDxPdGhlcj4pIHdoZXJlIE90aGVyIDogRml4ZWRXaWR0aEludGVnZXIsIFNjYWxhciA6IEJpbmFyeUZsb2F0aW5nUG9pbnQge30KICAgIHB1YmxpYyBpbml0PE90aGVyPihfIG90aGVyOiBTSU1ENjQ8T3RoZXI+LCByb3VuZGluZyBydWxlOiBGbG9hdGluZ1BvaW50Um91bmRpbmdSdWxlID0geCkgd2hlcmUgT3RoZXIgOiBCaW5hcnlGbG9hdGluZ1BvaW50LCBTY2FsYXIgOiBGaXhlZFdpZHRoSW50ZWdlciB7fQogICAgcHVibGljIGluaXQ8T3RoZXI+KGNsYW1waW5nIG90aGVyOiBTSU1ENjQ8T3RoZXI+KSB3aGVyZSBPdGhlciA6IEZpeGVkV2lkdGhJbnRlZ2VyLCBTY2FsYXIgOiBGaXhlZFdpZHRoSW50ZWdlciB7fQogICAgcHVibGljIGluaXQ8T3RoZXI+KHRydW5jYXRpbmdJZk5lZWRlZCBvdGhlcjogU0lNRDY0PE90aGVyPikgd2hlcmUgT3RoZXIgOiBGaXhlZFdpZHRoSW50ZWdlciwgU2NhbGFyIDogRml4ZWRXaWR0aEludGVnZXIge30KfQpleHRlbnNpb24gU0lNRDggewogICAgcHVibGljIGluaXQ8T3RoZXI+KF8gb3RoZXI6IFNJTUQ4PE90aGVyPikgd2hlcmUgT3RoZXIgOiBCaW5hcnlGbG9hdGluZ1BvaW50LCBTY2FsYXIgOiBCaW5hcnlGbG9hdGluZ1BvaW50IHt9CiAgICBwdWJsaWMgaW5pdDxPdGhlcj4oXyBvdGhlcjogU0lNRDg8T3RoZXI+KSB3aGVyZSBPdGhlciA6IEZpeGVkV2lkdGhJbnRlZ2VyLCBTY2FsYXIgOiBCaW5hcnlGbG9hdGluZ1BvaW50IHt9CiAgICBwdWJsaWMgaW5pdDxPdGhlcj4oXyBvdGhlcjogU0lNRDg8T3RoZXI+LCByb3VuZGluZyBydWxlOiBGbG9hdGluZ1BvaW50Um91bmRpbmdSdWxlID0geCkgd2hlcmUgT3RoZXIgOiBCaW5hcnlGbG9hdGluZ1BvaW50LCBTY2FsYXIgOiBGaXhlZFdpZHRoSW50ZWdlciB7fQogICAgcHVibGljIGluaXQ8T3RoZXI+KGNsYW1waW5nIG90aGVyOiBTSU1EODxPdGhlcj4pIHdoZXJlIE90aGVyIDogRml4ZWRXaWR0aEludGVnZXIsIFNjYWxhciA6IEZpeGVkV2lkdGhJbnRlZ2VyIHt9CiAgICBwdWJsaWMgaW5pdDxPdGhlcj4odHJ1bmNhdGluZ0lmTmVlZGVkIG90aGVyOiBTSU1EODxPdGhlcj4pIHdoZXJlIE90aGVyIDogRml4ZWRXaWR0aEludGVnZXIsIFNjYWxhciA6IEZpeGVkV2lkdGhJbnRlZ2VyIHt9Cn0KZXh0ZW5zaW9uIFNJTURNYXNrIHsKICAgIHB1YmxpYyBzdGF0aWMgZnVuYyByYW5kb20oKSAtPiBTSU1ETWFzayB7fQogICAgcHVibGljIHN0YXRpYyBmdW5jIHJhbmRvbTxUPih1c2luZyBnZW5lcmF0b3I6IGlub3V0IFQpIC0+IFNJTURNYXNrIHdoZXJlIFQgOiBSYW5kb21OdW1iZXJHZW5lcmF0b3Ige30KICAgIHB1YmxpYyBwcmVmaXggZnVuYyAuIShyaHM6IFNJTURNYXNrKSAtPiBTSU1ETWFzayB7fQogICAgcHVibGljIGZ1bmMgLiYobGhzOiBCb29sLCByaHM6IFNJTURNYXNrKSAtPiBTSU1ETWFzayB7fQogICAgcHVibGljIGZ1bmMgLiY9KGxoczogaW5vdXQgU0lNRE1hc2ssIHJoczogQm9vbCkge30KICAgIHB1YmxpYyBmdW5jIC5eKGxoczogQm9vbCwgcmhzOiBTSU1ETWFzaykgLT4gU0lNRE1hc2sge30KICAgIHB1YmxpYyBmdW5jIC5ePShsaHM6IGlub3V0IFNJTURNYXNrLCByaHM6IEJvb2wpIHt9CiAgICBwdWJsaWMgZnVuYyAufChsaHM6IEJvb2wsIHJoczogU0lNRE1hc2spIC0+IFNJTURNYXNrIHt9CiAgICBwdWJsaWMgZnVuYyAufD0obGhzOiBpbm91dCBTSU1ETWFzaywgcmhzOiBCb29sKSB7fQp9CmV4dGVuc2lvbiBTZXQgewogICAgcHVibGljIHZhciBjYXBhY2l0eTogSW50IHsgZ2V0IH0KICAgIEBkaXNjYXJkYWJsZVJlc3VsdCBwdWJsaWMgbXV0YXRpbmcgZnVuYyByZW1vdmUoYXQgcG9zaXRpb246IEluZGV4KSAtPiBFbGVtZW50IHt9CiAgICBwdWJsaWMgbXV0YXRpbmcgZnVuYyByZW1vdmVBbGwoa2VlcGluZ0NhcGFjaXR5IGtlZXBDYXBhY2l0eTogQm9vbCA9IHgpIHt9CiAgICBwdWJsaWMgbXV0YXRpbmcgZnVuYyByZXNlcnZlQ2FwYWNpdHkoXyBtaW5pbXVtQ2FwYWNpdHk6IEludCkge30KfQpleHRlbnNpb24gU2V0LkluZGV4IHsKfQpleHRlbnNpb24gU2V0Lkl0ZXJhdG9yIHsKfQpleHRlbnNpb24gU2V0Ll9WYXJpYW50IHsKfQpleHRlbnNpb24gU2xpY2Ugewp9CmV4dGVuc2lvbiBTdHJpZGVUaHJvdWdoIHsKfQpleHRlbnNpb24gU3RyaWRlVGhyb3VnaEl0ZXJhdG9yIHsKfQpleHRlbnNpb24gU3RyaWRlVG8gewp9CmV4dGVuc2lvbiBTdHJpZGVUb0l0ZXJhdG9yIHsKfQpleHRlbnNpb24gU3RyaW5nLkluZGV4IHsKICAgIHB1YmxpYyBpbml0PFM+KHV0ZjE2T2Zmc2V0IG9mZnNldDogSW50LCBpbiBzOiBTKSB3aGVyZSBTIDogU3RyaW5nUHJvdG9jb2wge30KICAgIHB1YmxpYyBmdW5jIHV0ZjE2T2Zmc2V0PFM+KGluIHM6IFMpIC0+IEludCB3aGVyZSBTIDogU3RyaW5nUHJvdG9jb2wge30KfQpleHRlbnNpb24gU3RyaW5nLlVURjE2VmlldyB7CiAgICBwdWJsaWMgc3Vic2NyaXB0KGlkeDogSW5kZXgpIC0+IFVURjE2LkNvZGVVbml0IHsgZ2V0IH0ge30KfQpleHRlbnNpb24gU3RyaW5nLlVURjE2Vmlldy5JbmRleCB7CiAgICBwdWJsaWMgaW5pdD8oXyBpZHg6IFN0cmluZy5JbmRleCwgd2l0aGluIHRhcmdldDogU3RyaW5nLlVURjE2Vmlldykge30KICAgIHB1YmxpYyBmdW5jIHNhbWVQb3NpdGlvbihpbiB1bmljb2RlU2NhbGFyczogU3RyaW5nLlVuaWNvZGVTY2FsYXJWaWV3KSAtPiBTdHJpbmcuVW5pY29kZVNjYWxhckluZGV4PyB7fQp9CmV4dGVuc2lvbiBTdHJpbmcuVVRGOFZpZXcgewogICAgcHVibGljIHN1YnNjcmlwdChpOiBJbmRleCkgLT4gVVRGOC5Db2RlVW5pdCB7IGdldCB9IHt9Cn0KZXh0ZW5zaW9uIFN0cmluZy5VVEY4Vmlldy5JbmRleCB7CiAgICBwdWJsaWMgaW5pdD8oXyBpZHg6IFN0cmluZy5JbmRleCwgd2l0aGluIHRhcmdldDogU3RyaW5nLlVURjhWaWV3KSB7fQp9CmV4dGVuc2lvbiBTdHJpbmcuVW5pY29kZVNjYWxhckluZGV4IHsKICAgIHB1YmxpYyBpbml0PyhfIHNvdXJjZVBvc2l0aW9uOiBTdHJpbmcuSW5kZXgsIHdpdGhpbiB1bmljb2RlU2NhbGFyczogU3RyaW5nLlVuaWNvZGVTY2FsYXJWaWV3KSB7fQogICAgcHVibGljIGZ1bmMgc2FtZVBvc2l0aW9uKGluIGNoYXJhY3RlcnM6IFN0cmluZykgLT4gU3RyaW5nLkluZGV4PyB7fQp9CmV4dGVuc2lvbiBTdHJpbmcuVW5pY29kZVNjYWxhclZpZXcgewp9CmV4dGVuc2lvbiBVVEYxNi5Db2RlVW5pdCB7Cn0KZXh0ZW5zaW9uIFVURjE2LlJldmVyc2VQYXJzZXIgewp9CmV4dGVuc2lvbiBVVEYzMi5QYXJzZXIgewogICAgcHVibGljIG11dGF0aW5nIGZ1bmMgcGFyc2VTY2FsYXI8ST4oZnJvbSBpbnB1dDogaW5vdXQgSSkgLT4gVW5pY29kZS5QYXJzZVJlc3VsdDxFbmNvZGluZy5FbmNvZGVkU2NhbGFyPiB3aGVyZSBJIDogSXRlcmF0b3JQcm90b2NvbCwgRW5jb2RpbmcuQ29kZVVuaXQgPT0gSS5FbGVtZW50IHt9Cn0KZXh0ZW5zaW9uIFVURjguQ29kZVVuaXQgewp9CmV4dGVuc2lvbiBVVEY4LlJldmVyc2VQYXJzZXIgewp9CmV4dGVuc2lvbiBVVEY4VmFsaWRhdGlvblJlc3VsdCB7Cn0KZXh0ZW5zaW9uIFVuaWNvZGUuQVNDSUkgewogICAgcHVibGljIHN0YXRpYyB2YXIgZW5jb2RlZFJlcGxhY2VtZW50Q2hhcmFjdGVyOiBFbmNvZGVkU2NhbGFyIHsgZ2V0IH0KICAgIHB1YmxpYyBzdGF0aWMgZnVuYyBkZWNvZGUoXyBzb3VyY2U6IEVuY29kZWRTY2FsYXIpIC0+IFVuaWNvZGUuU2NhbGFyIHt9CiAgICBwdWJsaWMgc3RhdGljIGZ1bmMgZW5jb2RlKF8gc291cmNlOiBVbmljb2RlLlNjYWxhcikgLT4gRW5jb2RlZFNjYWxhcj8ge30KICAgIHB1YmxpYyBzdGF0aWMgZnVuYyBpc0FTQ0lJKF8geDogQ29kZVVuaXQpIC0+IEJvb2wge30KICAgIHB1YmxpYyBzdGF0aWMgZnVuYyB0cmFuc2NvZGU8RnJvbUVuY29kaW5nPihfIGNvbnRlbnQ6IEZyb21FbmNvZGluZy5FbmNvZGVkU2NhbGFyLCBmcm9tIF86IEZyb21FbmNvZGluZy5UeXBlKSAtPiBFbmNvZGVkU2NhbGFyPyB3aGVyZSBGcm9tRW5jb2RpbmcgOiBVbmljb2RlLkVuY29kaW5nIHt9Cn0KZXh0ZW5zaW9uIFVuaWNvZGUuQVNDSUkuUGFyc2VyIHsKICAgIHB1YmxpYyBtdXRhdGluZyBmdW5jIHBhcnNlU2NhbGFyPEk+KGZyb20gaW5wdXQ6IGlub3V0IEkpIC0+IFVuaWNvZGUuUGFyc2VSZXN1bHQ8RW5jb2RpbmcuRW5jb2RlZFNjYWxhcj4gd2hlcmUgSSA6IEl0ZXJhdG9yUHJvdG9jb2wsIEVuY29kaW5nLkNvZGVVbml0ID09IEkuRWxlbWVudCB7fQp9CmV4dGVuc2lvbiBVbmljb2RlLlNjYWxhciB7Cn0KZXh0ZW5zaW9uIFVuaWNvZGUuU2NhbGFyLlVURjE2VmlldyB7Cn0KZXh0ZW5zaW9uIFVuaWNvZGUuVVRGOCB7CiAgICBwdWJsaWMgc3RhdGljIHZhciBlbmNvZGVkUmVwbGFjZW1lbnRDaGFyYWN0ZXI6IEVuY29kZWRTY2FsYXIgeyBnZXQgfQogICAgcHVibGljIHN0YXRpYyBmdW5jIGRlY29kZShfIHNvdXJjZTogRW5jb2RlZFNjYWxhcikgLT4gVW5pY29kZS5TY2FsYXIge30KICAgIHB1YmxpYyBzdGF0aWMgZnVuYyBlbmNvZGUoXyBzb3VyY2U6IFVuaWNvZGUuU2NhbGFyKSAtPiBFbmNvZGVkU2NhbGFyPyB7fQogICAgcHVibGljIHN0YXRpYyBmdW5jIGlzQVNDSUkoXyB4OiBDb2RlVW5pdCkgLT4gQm9vbCB7fQogICAgcHVibGljIHN0YXRpYyBmdW5jIHRyYW5zY29kZTxGcm9tRW5jb2Rpbmc+KF8gY29udGVudDogRnJvbUVuY29kaW5nLkVuY29kZWRTY2FsYXIsIGZyb20gXzogRnJvbUVuY29kaW5nLlR5cGUpIC0+IEVuY29kZWRTY2FsYXI/IHdoZXJlIEZyb21FbmNvZGluZyA6IF9Vbmljb2RlRW5jb2Rpbmcge30KICAgIHB1YmxpYyBzdGF0aWMgZnVuYyB3aWR0aChfIHg6IFVuaWNvZGUuU2NhbGFyKSAtPiBJbnQge30KfQpleHRlbnNpb24gVW5pY29kZS5VVEY4LkZvcndhcmRQYXJzZXIgewp9CmV4dGVuc2lvbiBVbnNhZmVCdWZmZXJQb2ludGVyIHsKICAgIHB1YmxpYyBpbml0KF8gb3RoZXI6IFVuc2FmZU11dGFibGVCdWZmZXJQb2ludGVyPEVsZW1lbnQ+KSB7fQogICAgcHVibGljIGluaXQocmViYXNpbmcgc2xpY2U6IFNsaWNlPFVuc2FmZUJ1ZmZlclBvaW50ZXI8RWxlbWVudD4+KSB7fQogICAgcHVibGljIGluaXQoc3RhcnQ6IFVuc2FmZVBvaW50ZXI8RWxlbWVudD4/LCBjb3VudDogSW50KSB7fQogICAgcHVibGljIHZhciBiYXNlQWRkcmVzczogVW5zYWZlUG9pbnRlcjxFbGVtZW50Pj8geyBnZXQgfQogICAgcHVibGljIHN1YnNjcmlwdChpOiBJbnQpIC0+IEVsZW1lbnQgeyBnZXQgfSB7fQogICAgcHVibGljIGZ1bmMgZGVhbGxvY2F0ZSgpIHt9CiAgICBwdWJsaWMgZnVuYyB3aXRoTWVtb3J5UmVib3VuZDxULCBSZXN1bHQ+KHRvIHR5cGU6IFQuVHlwZSwgXyBib2R5OiAoVW5zYWZlQnVmZmVyUG9pbnRlcjxUPikgdGhyb3dzIC0+IFJlc3VsdCkgcmV0aHJvd3MgLT4gUmVzdWx0IHt9Cn0KZXh0ZW5zaW9uIFVuc2FmZUJ1ZmZlclBvaW50ZXIuSXRlcmF0b3Igewp9CmV4dGVuc2lvbiBVbnNhZmVNdXRhYmxlQnVmZmVyUG9pbnRlciB7CiAgICBwdWJsaWMgc3RhdGljIGZ1bmMgYWxsb2NhdGUoY2FwYWNpdHkgY291bnQ6IEludCkgLT4gVW5zYWZlTXV0YWJsZUJ1ZmZlclBvaW50ZXI8RWxlbWVudD4ge30KICAgIHB1YmxpYyBpbml0KG11dGF0aW5nIG90aGVyOiBVbnNhZmVCdWZmZXJQb2ludGVyPEVsZW1lbnQ+KSB7fQogICAgcHVibGljIGluaXQocmViYXNpbmcgc2xpY2U6IFNsaWNlPFVuc2FmZU11dGFibGVCdWZmZXJQb2ludGVyPEVsZW1lbnQ+Pikge30KICAgIHB1YmxpYyBpbml0KHN0YXJ0OiBVbnNhZmVNdXRhYmxlUG9pbnRlcjxFbGVtZW50Pj8sIGNvdW50OiBJbnQpIHt9CiAgICBwdWJsaWMgdmFyIGJhc2VBZGRyZXNzOiBVbnNhZmVNdXRhYmxlUG9pbnRlcjxFbGVtZW50Pj8geyBnZXQgfQogICAgcHVibGljIHN1YnNjcmlwdChpOiBJbnQpIC0+IEVsZW1lbnQgeyBnZXQgc2V0IH0ge30KICAgIHB1YmxpYyBmdW5jIGFzc2lnbihyZXBlYXRpbmcgcmVwZWF0ZWRWYWx1ZTogRWxlbWVudCkge30KICAgIHB1YmxpYyBmdW5jIGRlYWxsb2NhdGUoKSB7fQogICAgcHVibGljIGZ1bmMgaW5pdGlhbGl6ZTxTPihmcm9tIHNvdXJjZTogUykgLT4gKFMuSXRlcmF0b3IsIEluZGV4KSB3aGVyZSBTIDogU2VxdWVuY2UsIEVsZW1lbnQgPT0gUy5FbGVtZW50IHt9CiAgICBwdWJsaWMgZnVuYyBpbml0aWFsaXplKHJlcGVhdGluZyByZXBlYXRlZFZhbHVlOiBFbGVtZW50KSB7fQogICAgcHVibGljIGZ1bmMgd2l0aE1lbW9yeVJlYm91bmQ8VCwgUmVzdWx0Pih0byB0eXBlOiBULlR5cGUsIF8gYm9keTogKFVuc2FmZU11dGFibGVCdWZmZXJQb2ludGVyPFQ+KSB0aHJvd3MgLT4gUmVzdWx0KSByZXRocm93cyAtPiBSZXN1bHQge30KfQpleHRlbnNpb24gVW5zYWZlTXV0YWJsZVBvaW50ZXIgewp9CmV4dGVuc2lvbiBVbnNhZmVQb2ludGVyIHsKfQpleHRlbnNpb24gWmlwMlNlcXVlbmNlIHsKfQpleHRlbnNpb24gWmlwMlNlcXVlbmNlLkl0ZXJhdG9yIHsKfQ==")!, encoding: String.Encoding.utf8)!
    static let xctest = String(data: Data(base64Encoded: "b3BlbiBjbGFzcyBYQ1ROU05vdGlmaWNhdGlvbkV4cGVjdGF0aW9uIDogQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIFhDVGVzdEV4cGVjdGF0aW9uIHsKICAgIHB1YmxpYyBpbml0KG5hbWUgbm90aWZpY2F0aW9uTmFtZTogTm90aWZpY2F0aW9uLk5hbWUsIG9iamVjdDogQW55PyA9IHgsIG5vdGlmaWNhdGlvbkNlbnRlcjogTm90aWZpY2F0aW9uQ2VudGVyID0geCwgZmlsZTogU3RhdGljU3RyaW5nID0geCwgbGluZTogSW50ID0geCkge30KICAgIG9wZW4gdmFyIGhhbmRsZXI6IEhhbmRsZXI/IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBub3RpZmljYXRpb25DZW50ZXI6IE5vdGlmaWNhdGlvbkNlbnRlciB7IGdldCB9CiAgICBvcGVuIHZhciBub3RpZmljYXRpb25OYW1lOiBOb3RpZmljYXRpb24uTmFtZSB7IGdldCB9CiAgICBvcGVuIHZhciBvYnNlcnZlZE9iamVjdDogQW55PyB7IGdldCB9Cn0Kb3BlbiBjbGFzcyBYQ1ROU1ByZWRpY2F0ZUV4cGVjdGF0aW9uIDogQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIFhDVGVzdEV4cGVjdGF0aW9uIHsKICAgIHB1YmxpYyBpbml0KHByZWRpY2F0ZTogTlNQcmVkaWNhdGUsIG9iamVjdDogQW55PyA9IHgsIGZpbGU6IFN0YXRpY1N0cmluZyA9IHgsIGxpbmU6IEludCA9IHgpIHt9CiAgICBvcGVuIHZhciBoYW5kbGVyOiBIYW5kbGVyPyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgb2JqZWN0OiBBbnk/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHByZWRpY2F0ZTogTlNQcmVkaWNhdGUgeyBnZXQgfQp9Cm9wZW4gY2xhc3MgWENUV2FpdGVyIDogQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgTWFuYWdlYWJsZVdhaXRlciB7CiAgICBvcGVuIGNsYXNzIGZ1bmMgd2FpdChmb3IgZXhwZWN0YXRpb25zOiBbWENUZXN0RXhwZWN0YXRpb25dLCB0aW1lb3V0OiBUaW1lSW50ZXJ2YWwsIGVuZm9yY2VPcmRlcjogQm9vbCA9IHgsIGZpbGU6IFN0YXRpY1N0cmluZyA9IHgsIGxpbmU6IEludCA9IHgpIC0+IFJlc3VsdCB7fQogICAgcHVibGljIGluaXQoZGVsZWdhdGU6IFhDVFdhaXRlckRlbGVnYXRlPyA9IHgpIHt9CiAgICBvcGVuIHZhciBkZWxlZ2F0ZTogWENUV2FpdGVyRGVsZWdhdGU/IHsgZ2V0IHNldCB9CiAgICBwdWJsaWMgdmFyIGRlc2NyaXB0aW9uOiBTdHJpbmcgeyBnZXQgfQogICAgb3BlbiB2YXIgZnVsZmlsbGVkRXhwZWN0YXRpb25zOiBbWENUZXN0RXhwZWN0YXRpb25dIHsgZ2V0IH0KICAgIHB1YmxpYyBmdW5jID09KGxoczogWENUV2FpdGVyLCByaHM6IFhDVFdhaXRlcikgLT4gQm9vbCB7fQogICAgQGRpc2NhcmRhYmxlUmVzdWx0IG9wZW4gZnVuYyB3YWl0KGZvciBleHBlY3RhdGlvbnM6IFtYQ1Rlc3RFeHBlY3RhdGlvbl0sIHRpbWVvdXQ6IFRpbWVJbnRlcnZhbCwgZW5mb3JjZU9yZGVyOiBCb29sID0geCwgZmlsZTogU3RhdGljU3RyaW5nID0geCwgbGluZTogSW50ID0geCkgLT4gUmVzdWx0IHt9Cn0Kb3BlbiBjbGFzcyBYQ1Rlc3QgewogICAgcHVibGljIGluaXQoKSB7fQogICAgb3BlbiB2YXIgbmFtZTogU3RyaW5nIHsgZ2V0IH0KICAgIG9wZW4gdmFyIHRlc3RDYXNlQ291bnQ6IEludCB7IGdldCB9CiAgICBvcGVuIHZhciB0ZXN0UnVuOiBYQ1Rlc3RSdW4/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHRlc3RSdW5DbGFzczogQW55Q2xhc3M/IHsgZ2V0IH0KICAgIG9wZW4gZnVuYyBwZXJmb3JtKF8gcnVuOiBYQ1Rlc3RSdW4pIHt9CiAgICBvcGVuIGZ1bmMgcnVuKCkge30KICAgIG9wZW4gZnVuYyBzZXRVcCgpIHt9CiAgICBvcGVuIGZ1bmMgdGVhckRvd24oKSB7fQp9Cm9wZW4gY2xhc3MgWENUZXN0Q2FzZSA6IEFueU9iamVjdCwgUGVyZm9ybWFuY2VNZXRlckRlbGVnYXRlLCBYQ1RXYWl0ZXJEZWxlZ2F0ZSwgWENUZXN0IHsKICAgIG9wZW4gY2xhc3MgZnVuYyBzZXRVcCgpIHt9CiAgICBvcGVuIGNsYXNzIGZ1bmMgdGVhckRvd24oKSB7fQogICAgcHVibGljIHJlcXVpcmVkIGluaXQobmFtZTogU3RyaW5nLCB0ZXN0Q2xvc3VyZTogQGVzY2FwaW5nIFhDVGVzdENhc2VDbG9zdXJlKSB7fQogICAgb3BlbiB2YXIgY29udGludWVBZnRlckZhaWx1cmU6IEJvb2wgeyBnZXQgc2V0IH0KICAgIG9wZW4gZnVuYyBpbnZva2VUZXN0KCkge30KICAgIG9wZW4gZnVuYyByZWNvcmRGYWlsdXJlKHdpdGhEZXNjcmlwdGlvbiBkZXNjcmlwdGlvbjogU3RyaW5nLCBpbkZpbGUgZmlsZVBhdGg6IFN0cmluZywgYXRMaW5lIGxpbmVOdW1iZXI6IEludCwgZXhwZWN0ZWQ6IEJvb2wpIHt9Cn0Kb3BlbiBjbGFzcyBYQ1Rlc3RDYXNlUnVuIDogWENUZXN0UnVuIHsKfQpvcGVuIGNsYXNzIFhDVGVzdEV4cGVjdGF0aW9uIDogQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUgewogICAgcHVibGljIGluaXQoZGVzY3JpcHRpb246IFN0cmluZyA9IHgsIGZpbGU6IFN0YXRpY1N0cmluZyA9IHgsIGxpbmU6IEludCA9IHgpIHt9CiAgICBvcGVuIHZhciBhc3NlcnRGb3JPdmVyRnVsZmlsbDogQm9vbCB7IGdldCBzZXQgfQogICAgcHVibGljIHZhciBkZXNjcmlwdGlvbjogU3RyaW5nIHsgZ2V0IH0KICAgIG9wZW4gdmFyIGV4cGVjdGF0aW9uRGVzY3JpcHRpb246IFN0cmluZyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgZXhwZWN0ZWRGdWxmaWxsbWVudENvdW50OiBJbnQgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGlzSW52ZXJ0ZWQ6IEJvb2wgeyBnZXQgc2V0IH0KICAgIHB1YmxpYyBmdW5jID09KGxoczogWENUZXN0RXhwZWN0YXRpb24sIHJoczogWENUZXN0RXhwZWN0YXRpb24pIC0+IEJvb2wge30KICAgIG9wZW4gZnVuYyBmdWxmaWxsKF8gZmlsZTogU3RhdGljU3RyaW5nID0geCwgbGluZTogSW50ID0geCkge30KICAgIHB1YmxpYyBmdW5jIGhhc2goaW50byBoYXNoZXI6IGlub3V0IEhhc2hlcikge30KfQpvcGVuIGNsYXNzIFhDVGVzdFJ1biB7CiAgICBwdWJsaWMgcmVxdWlyZWQgaW5pdCh0ZXN0OiBYQ1Rlc3QpIHt9CiAgICBvcGVuIHZhciBleGVjdXRpb25Db3VudDogSW50IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGZhaWx1cmVDb3VudDogSW50IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGhhc1N1Y2NlZWRlZDogQm9vbCB7IGdldCB9CiAgICBvcGVuIHZhciBzdGFydERhdGU6IERhdGU/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHN0b3BEYXRlOiBEYXRlPyB7IGdldCB9CiAgICBwdWJsaWMgdmFyIHRlc3Q6IFhDVGVzdCB7IGdldCB9CiAgICBvcGVuIHZhciB0ZXN0Q2FzZUNvdW50OiBJbnQgeyBnZXQgfQogICAgb3BlbiB2YXIgdGVzdER1cmF0aW9uOiBUaW1lSW50ZXJ2YWwgeyBnZXQgfQogICAgb3BlbiB2YXIgdG90YWxEdXJhdGlvbjogVGltZUludGVydmFsIHsgZ2V0IH0KICAgIG9wZW4gdmFyIHRvdGFsRmFpbHVyZUNvdW50OiBJbnQgeyBnZXQgfQogICAgb3BlbiB2YXIgdW5leHBlY3RlZEV4Y2VwdGlvbkNvdW50OiBJbnQgeyBnZXQgfQogICAgb3BlbiBmdW5jIHN0YXJ0KCkge30KICAgIG9wZW4gZnVuYyBzdG9wKCkge30KfQpvcGVuIGNsYXNzIFhDVGVzdFN1aXRlIDogWENUZXN0IHsKICAgIHB1YmxpYyBpbml0KG5hbWU6IFN0cmluZykge30KICAgIG9wZW4gdmFyIHRlc3RzIHsgZ2V0IH0KICAgIG9wZW4gZnVuYyBhZGRUZXN0KF8gdGVzdDogWENUZXN0KSB7fQp9Cm9wZW4gY2xhc3MgWENUZXN0U3VpdGVSdW4gOiBYQ1Rlc3RSdW4gewogICAgb3BlbiB2YXIgdGVzdFJ1bnMgeyBnZXQgfQogICAgb3BlbiBmdW5jIGFkZFRlc3RSdW4oXyB0ZXN0UnVuOiBYQ1Rlc3RSdW4pIHt9Cn0KcHVibGljIHByb3RvY29sIFhDVFdhaXRlckRlbGVnYXRlIDogQW55T2JqZWN0IHsKICAgIGZ1bmMgbmVzdGVkV2FpdGVyKF8gd2FpdGVyOiBYQ1RXYWl0ZXIsIHdhc0ludGVycnVwdGVkQnlUaW1lZE91dFdhaXRlciBvdXRlcldhaXRlcjogWENUV2FpdGVyKQogICAgZnVuYyB3YWl0ZXIoXyB3YWl0ZXI6IFhDVFdhaXRlciwgZGlkRnVsZmlsbEludmVydGVkRXhwZWN0YXRpb24gZXhwZWN0YXRpb246IFhDVGVzdEV4cGVjdGF0aW9uKQogICAgZnVuYyB3YWl0ZXIoXyB3YWl0ZXI6IFhDVFdhaXRlciwgZGlkVGltZW91dFdpdGhVbmZ1bGZpbGxlZEV4cGVjdGF0aW9ucyB1bmZ1bGZpbGxlZEV4cGVjdGF0aW9uczogW1hDVGVzdEV4cGVjdGF0aW9uXSkKICAgIGZ1bmMgd2FpdGVyKF8gd2FpdGVyOiBYQ1RXYWl0ZXIsIGZ1bGZpbGxtZW50RGlkVmlvbGF0ZU9yZGVyaW5nQ29uc3RyYWludHNGb3IgZXhwZWN0YXRpb246IFhDVGVzdEV4cGVjdGF0aW9uLCByZXF1aXJlZEV4cGVjdGF0aW9uOiBYQ1Rlc3RFeHBlY3RhdGlvbikKfQpwdWJsaWMgcHJvdG9jb2wgWENUZXN0T2JzZXJ2YXRpb24gOiBBbnlPYmplY3QgewogICAgZnVuYyB0ZXN0QnVuZGxlRGlkRmluaXNoKF8gdGVzdEJ1bmRsZTogQnVuZGxlKQogICAgZnVuYyB0ZXN0QnVuZGxlV2lsbFN0YXJ0KF8gdGVzdEJ1bmRsZTogQnVuZGxlKQogICAgZnVuYyB0ZXN0Q2FzZShfIHRlc3RDYXNlOiBYQ1Rlc3RDYXNlLCBkaWRGYWlsV2l0aERlc2NyaXB0aW9uIGRlc2NyaXB0aW9uOiBTdHJpbmcsIGluRmlsZSBmaWxlUGF0aDogU3RyaW5nPywgYXRMaW5lIGxpbmVOdW1iZXI6IEludCkKICAgIGZ1bmMgdGVzdENhc2VEaWRGaW5pc2goXyB0ZXN0Q2FzZTogWENUZXN0Q2FzZSkKICAgIGZ1bmMgdGVzdENhc2VXaWxsU3RhcnQoXyB0ZXN0Q2FzZTogWENUZXN0Q2FzZSkKICAgIGZ1bmMgdGVzdFN1aXRlRGlkRmluaXNoKF8gdGVzdFN1aXRlOiBYQ1Rlc3RTdWl0ZSkKICAgIGZ1bmMgdGVzdFN1aXRlV2lsbFN0YXJ0KF8gdGVzdFN1aXRlOiBYQ1Rlc3RTdWl0ZSkKfQ==")!, encoding: String.Encoding.utf8)!
  }
  static let syntaxHighlighting = String(data: Data(base64Encoded: "LyoKIFN5bnRheCBIaWdobGlnaHRpbmcuY3NzCgogVGhpcyBzb3VyY2UgZmlsZSBpcyBwYXJ0IG9mIHRoZSBTREdTd2lmdCBvcGVuIHNvdXJjZSBwcm9qZWN0LgogaHR0cHM6Ly9zZGdnaWVzYnJlY2h0LmdpdGh1Yi5pby9TREdTd2lmdAoKIENvcHlyaWdodCDCqTIwMTjigJMyMDE5IEplcmVteSBEYXZpZCBHaWVzYnJlY2h0IGFuZCB0aGUgU0RHU3dpZnQgcHJvamVjdCBjb250cmlidXRvcnMuCgogU29saSBEZW8gZ2xvcmlhLgoKIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5jZSwgVmVyc2lvbiAyLjAuCiBTZWUgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wIGZvciBsaWNlbmNlIGluZm9ybWF0aW9uLgogKi8KCi8qIExheW91dCAqLwoKLnN3aWZ0IHsKICAgIGRpc3BsYXk6IGlubGluZTsKICAgIHdoaXRlLXNwYWNlOiBwcmUtd3JhcDsKfQouc3dpZnQuYmxvY2txdW90ZSB7CiAgICBkaXNwbGF5OiBibG9jazsKICAgIG1hcmdpbjogMS40ZW0gMDsKICAgIGJvcmRlcjogMXB4IHNvbGlkOwogICAgIGJvcmRlci1yYWRpdXM6IDAuMzUyOTRlbTsKICAgIHBhZGRpbmc6IDAuMzUyOTRlbSAwLjk0MTE4ZW07Cn0KCi8qIENvbG91ciAqLwoKLnN3aWZ0LmJsb2NrcXVvdGUgewogICAgYmFja2dyb3VuZC1jb2xvcjogI0Y5RkFGQTsKICAgIGJvcmRlci1jb2xvcjogICNFNkU2RTY7Cn0KLnN3aWZ0IHsKICAgIGNvbG9yOiAjMDAwMDAwOwp9Cgouc3dpZnQgLmtleXdvcmQgewogICAgY29sb3I6ICNBQTBEOTE7Cn0KCi5zd2lmdCAucHVuY3R1YXRpb24gewogICAgY29sb3I6ICMwMDAwMDA7Cn0KCi5zd2lmdCAuZXh0ZXJuYWwuaWRlbnRpZmllciB7CiAgICBjb2xvcjogIzVDMjY5OTsKfQouc3dpZnQgLmludGVybmFsLmlkZW50aWZpZXIgewogICAgY29sb3I6ICMzRjZFNzQ7Cn0KCi5zd2lmdCAubnVtYmVyIHsKICAgIGNvbG9yOiAjMUMwMENGOwp9Cgouc3dpZnQgLnN0cmluZyB7CiAgICBjb2xvcjogI0M0MUExNjsKfQouc3dpZnQgLnN0cmluZ+KAkHB1bmN0dWF0aW9uIHsKICAgIGNvbG9yOiAjNjIyNzBCOwp9Cgouc3dpZnQgLmNvbXBpbGF0aW9u4oCQY29uZGl0aW9uIHsKICAgIGNvbG9yOiAjNjQzODIwOwp9Cgouc3dpZnQgLmNvbW1lbnQgewogICAgY29sb3I6ICMwMDc0MDA7Cn0KLnN3aWZ0IC5jb21tZW504oCQcHVuY3R1YXRpb24gewogICAgY29sb3I6ICMwMDNBMDA7Cn0KLnN3aWZ0IC5zb3VyY2XigJBoZWFkaW5nIHsKICAgIGNvbG9yOiAjNEE1NTYwOwp9Ci5zd2lmdCAudXJsIHsKICAgIGNvbG9yOiAjMEUwRUZGOwp9Cgouc3dpZnQgLmNvZGUgewogICAgY29sb3I6ICMwMDAwMDA7Cn0KCi8qIEZvbnQgKi8KCi5zd2lmdCB7CiAgICBmb250LWZhbWlseTogIlNGIE1vbm8iLCBNZW5sbywgbW9ub3NwYWNlLCAiU0YgUHJvIEljb25zIjsKICAgIGxldHRlci1zcGFjaW5nOiAtMC4wMjdlbTsKICAgIGxpbmUtaGVpZ2h0OiAxLjI2NjY3Owp9Cgouc3dpZnQgLnRleHQsIC5zd2lmdCAuc291cmNl4oCQaGVhZGluZyB7CiAgICBmb250LWZhbWlseTogIlNGIFBybyBUZXh0IiwgIlNGIFBybyBJY29ucyIsICItYXBwbGUtc3lzdGVtIiwgIkJsaW5rTWFjU3lzdGVtRm9udCIsICJIZWx2ZXRpY2EgTmV1ZSIsICJIZWx2ZXRpY2EiLCAiQXJpYWwiLCBzYW5zLXNlcmlmOwogICAgbGV0dGVyLXNwYWNpbmc6IDA7Cn0KCi5zd2lmdCAuY29tbWVudOKAkGtleXdvcmQgewogICAgZm9udC13ZWlnaHQ6IGJvbGQ7Cn0KLnN3aWZ0IC5zb3VyY2XigJBoZWFkaW5nIHsKICAgIGZvbnQtd2VpZ2h0OiBib2xkOwp9Cgouc3dpZnQgLnVybDpsaW5rLCAuc3dpZnQgLnVybDp2aXNpdGVkIHsKICAgIHRleHQtZGVjb3JhdGlvbjogbm9uZTsKfQouc3dpZnQgLnVybDpob3ZlciB7CiAgICB0ZXh0LWRlY29yYXRpb246IHVuZGVybGluZTsKfQo=")!, encoding: String.Encoding.utf8)!

}
