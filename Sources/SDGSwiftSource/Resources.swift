/*
 Resources.swift

 This source file is part of the SDGSwift open source project.
 https://sdggiesbrecht.github.io/SDGSwift

 Copyright ©2018–2019 Jeremy David Giesbrecht and the SDGSwift project contributors.

 Soli Deo gloria.

 Licensed under the Apache Licence, Version 2.0.
 See http://www.apache.org/licenses/LICENSE-2.0 for licence information.
 */

import Foundation

internal enum Resources {}

extension Resources {
    static let dispatch = Data(base64Encoded: "cHVibGljIHByb3RvY29sIERpc3BhdGNoU291cmNlRmlsZVN5c3RlbU9iamVjdCB7CiNpZiAhb3MoTGludXgpICYmICFvcyhBbmRyb2lkKSAmJiAhb3MoV2luZG93cykKICAgIHB1YmxpYyB2YXIgZGF0YTogRGlzcGF0Y2hTb3VyY2UuRmlsZVN5c3RlbUV2ZW50IHsgZ2V0IH0KI2VuZGlmCiNpZiAhb3MoTGludXgpICYmICFvcyhBbmRyb2lkKSAmJiAhb3MoV2luZG93cykKICAgIHB1YmxpYyB2YXIgaGFuZGxlOiBJbnQzMiB7IGdldCB9CiNlbmRpZgojaWYgIW9zKExpbnV4KSAmJiAhb3MoQW5kcm9pZCkgJiYgIW9zKFdpbmRvd3MpCiAgICBwdWJsaWMgdmFyIG1hc2s6IERpc3BhdGNoU291cmNlLkZpbGVTeXN0ZW1FdmVudCB7IGdldCB9CiNlbmRpZgp9CnB1YmxpYyBwcm90b2NvbCBEaXNwYXRjaFNvdXJjZU1hY2hSZWNlaXZlIHsKI2lmIEhBVkVfTUFDSAogICAgcHVibGljIHZhciBoYW5kbGU6IG1hY2hfcG9ydF90IHsgZ2V0IH0KI2VuZGlmCn0KcHVibGljIHByb3RvY29sIERpc3BhdGNoU291cmNlTWFjaFNlbmQgewojaWYgSEFWRV9NQUNICiAgICBwdWJsaWMgdmFyIGRhdGE6IERpc3BhdGNoU291cmNlLk1hY2hTZW5kRXZlbnQgeyBnZXQgfQojZW5kaWYKI2lmIEhBVkVfTUFDSAogICAgcHVibGljIHZhciBoYW5kbGU6IG1hY2hfcG9ydF90IHsgZ2V0IH0KI2VuZGlmCiNpZiBIQVZFX01BQ0gKICAgIHB1YmxpYyB2YXIgbWFzazogRGlzcGF0Y2hTb3VyY2UuTWFjaFNlbmRFdmVudCB7IGdldCB9CiNlbmRpZgp9CnB1YmxpYyBwcm90b2NvbCBEaXNwYXRjaFNvdXJjZU1lbW9yeVByZXNzdXJlIHsKI2lmIEhBVkVfTUFDSAogICAgcHVibGljIHZhciBkYXRhOiBEaXNwYXRjaFNvdXJjZS5NZW1vcnlQcmVzc3VyZUV2ZW50IHsgZ2V0IH0KI2VuZGlmCiNpZiBIQVZFX01BQ0gKICAgIHB1YmxpYyB2YXIgbWFzazogRGlzcGF0Y2hTb3VyY2UuTWVtb3J5UHJlc3N1cmVFdmVudCB7IGdldCB9CiNlbmRpZgp9CnB1YmxpYyBwcm90b2NvbCBEaXNwYXRjaFNvdXJjZVByb2Nlc3MgewojaWYgIW9zKExpbnV4KSAmJiAhb3MoQW5kcm9pZCkgJiYgIW9zKFdpbmRvd3MpCiAgICBwdWJsaWMgdmFyIGRhdGE6IERpc3BhdGNoU291cmNlLlByb2Nlc3NFdmVudCB7IGdldCB9CiNlbmRpZgojaWYgIW9zKExpbnV4KSAmJiAhb3MoQW5kcm9pZCkgJiYgIW9zKFdpbmRvd3MpCiAgICBwdWJsaWMgdmFyIGhhbmRsZTogcGlkX3QgeyBnZXQgfQojZW5kaWYKI2lmICFvcyhMaW51eCkgJiYgIW9zKEFuZHJvaWQpICYmICFvcyhXaW5kb3dzKQogICAgcHVibGljIHZhciBtYXNrOiBEaXNwYXRjaFNvdXJjZS5Qcm9jZXNzRXZlbnQgeyBnZXQgfQojZW5kaWYKfQpwdWJsaWMgcHJvdG9jb2wgRGlzcGF0Y2hTb3VyY2VQcm90b2NvbCB7CiAgICBwdWJsaWMgdmFyIGRhdGE6IFVJbnQgeyBnZXQgfQogICAgcHVibGljIHZhciBoYW5kbGU6IFVJbnQgeyBnZXQgfQogICAgcHVibGljIHZhciBpc0NhbmNlbGxlZDogQm9vbCB7IGdldCB9CiAgICBwdWJsaWMgdmFyIG1hc2s6IFVJbnQgeyBnZXQgfQogICAgQGF2YWlsYWJsZShtYWNPUzEwLjEyLCBpT1MxMC4wLCB0dk9TMTAuMCwgd2F0Y2hPUzMuMCwgKikgcHVibGljIGZ1bmMgYWN0aXZhdGUoKSB7fQogICAgcHVibGljIGZ1bmMgY2FuY2VsKCkge30KICAgIHB1YmxpYyBmdW5jIHJlc3VtZSgpIHt9CiAgICBAYXZhaWxhYmxlKG1hY09TMTAuMTAsIGlPUzguMCwgKikgcHVibGljIGZ1bmMgc2V0Q2FuY2VsSGFuZGxlcihoYW5kbGVyOiBEaXNwYXRjaFdvcmtJdGVtKSB7fQogICAgcHVibGljIGZ1bmMgc2V0Q2FuY2VsSGFuZGxlcihxb3M6IERpc3BhdGNoUW9TID0geCwgZmxhZ3M6IERpc3BhdGNoV29ya0l0ZW1GbGFncyA9IHgsIGhhbmRsZXI6IERpc3BhdGNoU291cmNlSGFuZGxlcj8pIHt9CiAgICBAYXZhaWxhYmxlKG1hY09TMTAuMTAsIGlPUzguMCwgKikgcHVibGljIGZ1bmMgc2V0RXZlbnRIYW5kbGVyKGhhbmRsZXI6IERpc3BhdGNoV29ya0l0ZW0pIHt9CiAgICBwdWJsaWMgZnVuYyBzZXRFdmVudEhhbmRsZXIocW9zOiBEaXNwYXRjaFFvUyA9IHgsIGZsYWdzOiBEaXNwYXRjaFdvcmtJdGVtRmxhZ3MgPSB4LCBoYW5kbGVyOiBEaXNwYXRjaFNvdXJjZUhhbmRsZXI/KSB7fQogICAgQGF2YWlsYWJsZShtYWNPUzEwLjEwLCBpT1M4LjAsICopIHB1YmxpYyBmdW5jIHNldFJlZ2lzdHJhdGlvbkhhbmRsZXIoaGFuZGxlcjogRGlzcGF0Y2hXb3JrSXRlbSkge30KICAgIHB1YmxpYyBmdW5jIHNldFJlZ2lzdHJhdGlvbkhhbmRsZXIocW9zOiBEaXNwYXRjaFFvUyA9IHgsIGZsYWdzOiBEaXNwYXRjaFdvcmtJdGVtRmxhZ3MgPSB4LCBoYW5kbGVyOiBEaXNwYXRjaFNvdXJjZUhhbmRsZXI/KSB7fQogICAgcHVibGljIGZ1bmMgc3VzcGVuZCgpIHt9Cn0KcHVibGljIHByb3RvY29sIERpc3BhdGNoU291cmNlUmVhZCB7Cn0KcHVibGljIHByb3RvY29sIERpc3BhdGNoU291cmNlU2lnbmFsIHsKfQpwdWJsaWMgcHJvdG9jb2wgRGlzcGF0Y2hTb3VyY2VUaW1lciB7CiAgICBAYXZhaWxhYmxlKHN3aWZ0LCBpbnRyb2R1Y2VkOiA0KSBwdWJsaWMgZnVuYyBzY2hlZHVsZShkZWFkbGluZTogRGlzcGF0Y2hUaW1lLCByZXBlYXRpbmcgaW50ZXJ2YWw6IERpc3BhdGNoVGltZUludGVydmFsID0geCwgbGVld2F5OiBEaXNwYXRjaFRpbWVJbnRlcnZhbCA9IHgpIHt9CiAgICBAYXZhaWxhYmxlKHN3aWZ0LCBpbnRyb2R1Y2VkOiA0KSBwdWJsaWMgZnVuYyBzY2hlZHVsZShkZWFkbGluZTogRGlzcGF0Y2hUaW1lLCByZXBlYXRpbmcgaW50ZXJ2YWw6IERvdWJsZSwgbGVld2F5OiBEaXNwYXRjaFRpbWVJbnRlcnZhbCA9IHgpIHt9CiAgICBAYXZhaWxhYmxlKHN3aWZ0LCBpbnRyb2R1Y2VkOiA0KSBwdWJsaWMgZnVuYyBzY2hlZHVsZSh3YWxsRGVhZGxpbmU6IERpc3BhdGNoV2FsbFRpbWUsIHJlcGVhdGluZyBpbnRlcnZhbDogRGlzcGF0Y2hUaW1lSW50ZXJ2YWwgPSB4LCBsZWV3YXk6IERpc3BhdGNoVGltZUludGVydmFsID0geCkge30KICAgIEBhdmFpbGFibGUoc3dpZnQsIGludHJvZHVjZWQ6IDQpIHB1YmxpYyBmdW5jIHNjaGVkdWxlKHdhbGxEZWFkbGluZTogRGlzcGF0Y2hXYWxsVGltZSwgcmVwZWF0aW5nIGludGVydmFsOiBEb3VibGUsIGxlZXdheTogRGlzcGF0Y2hUaW1lSW50ZXJ2YWwgPSB4KSB7fQogICAgcHVibGljIGZ1bmMgc2NoZWR1bGVPbmVzaG90KGRlYWRsaW5lOiBEaXNwYXRjaFRpbWUsIGxlZXdheTogRGlzcGF0Y2hUaW1lSW50ZXJ2YWwpIHt9CiAgICBwdWJsaWMgZnVuYyBzY2hlZHVsZU9uZXNob3Qod2FsbERlYWRsaW5lOiBEaXNwYXRjaFdhbGxUaW1lLCBsZWV3YXk6IERpc3BhdGNoVGltZUludGVydmFsKSB7fQogICAgcHVibGljIGZ1bmMgc2NoZWR1bGVSZXBlYXRpbmcoZGVhZGxpbmU6IERpc3BhdGNoVGltZSwgaW50ZXJ2YWw6IERpc3BhdGNoVGltZUludGVydmFsLCBsZWV3YXk6IERpc3BhdGNoVGltZUludGVydmFsKSB7fQogICAgcHVibGljIGZ1bmMgc2NoZWR1bGVSZXBlYXRpbmcod2FsbERlYWRsaW5lOiBEaXNwYXRjaFdhbGxUaW1lLCBpbnRlcnZhbDogRGlzcGF0Y2hUaW1lSW50ZXJ2YWwsIGxlZXdheTogRGlzcGF0Y2hUaW1lSW50ZXJ2YWwpIHt9Cn0KcHVibGljIHByb3RvY29sIERpc3BhdGNoU291cmNlVXNlckRhdGFBZGQgewogICAgcHVibGljIGZ1bmMgYWRkKGRhdGE6IFVJbnQpIHt9Cn0KcHVibGljIHByb3RvY29sIERpc3BhdGNoU291cmNlVXNlckRhdGFPciB7CiAgICBwdWJsaWMgZnVuYyBvcihkYXRhOiBVSW50KSB7fQp9CnB1YmxpYyBwcm90b2NvbCBEaXNwYXRjaFNvdXJjZVVzZXJEYXRhUmVwbGFjZSB7CiAgICBwdWJsaWMgZnVuYyByZXBsYWNlKGRhdGE6IFVJbnQpIHt9Cn0KcHVibGljIHByb3RvY29sIERpc3BhdGNoU291cmNlV3JpdGUgewp9")!
    static let foundation = Data(base64Encoded: "b3BlbiBjbGFzcyBCbG9ja09wZXJhdGlvbiB7CiAgICBwdWJsaWMgaW5pdChibG9jazogQGVzY2FwaW5nICgpIC0+IFZvaWQpIHt9CiAgICBvcGVuIHZhciBleGVjdXRpb25CbG9ja3M6IFsoKSAtPiBWb2lkXSB7IGdldCB9CiAgICBvcGVuIGZ1bmMgYWRkRXhlY3V0aW9uQmxvY2soXyBibG9jazogQGVzY2FwaW5nICgpIC0+IFZvaWQpIHt9Cn0Kb3BlbiBjbGFzcyBCdW5kbGUgewogICAgb3BlbiBjbGFzcyB2YXIgYWxsQnVuZGxlczogW0J1bmRsZV0geyBnZXQgfQogICAgb3BlbiBjbGFzcyB2YXIgbWFpbjogQnVuZGxlIHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgZnVuYyBwYXRoKGZvclJlc291cmNlIG5hbWU6IFN0cmluZz8sIG9mVHlwZSBleHQ6IFN0cmluZz8sIGluRGlyZWN0b3J5IGJ1bmRsZVBhdGg6IFN0cmluZykgLT4gU3RyaW5nPyB7fQogICAgb3BlbiBjbGFzcyBmdW5jIHBhdGhzKGZvclJlc291cmNlc09mVHlwZSBleHQ6IFN0cmluZz8sIGluRGlyZWN0b3J5IGJ1bmRsZVBhdGg6IFN0cmluZykgLT4gW1N0cmluZ10ge30KICAgIG9wZW4gY2xhc3MgZnVuYyBwcmVmZXJyZWRMb2NhbGl6YXRpb25zKGZyb20gbG9jYWxpemF0aW9uc0FycmF5OiBbU3RyaW5nXSkgLT4gW1N0cmluZ10ge30KICAgIG9wZW4gY2xhc3MgZnVuYyBwcmVmZXJyZWRMb2NhbGl6YXRpb25zKGZyb20gbG9jYWxpemF0aW9uc0FycmF5OiBbU3RyaW5nXSwgZm9yUHJlZmVyZW5jZXMgcHJlZmVyZW5jZXNBcnJheTogW1N0cmluZ10/KSAtPiBbU3RyaW5nXSB7fQogICAgb3BlbiBjbGFzcyBmdW5jIHVybChmb3JSZXNvdXJjZSBuYW1lOiBTdHJpbmc/LCB3aXRoRXh0ZW5zaW9uIGV4dDogU3RyaW5nPywgc3ViZGlyZWN0b3J5IHN1YnBhdGg6IFN0cmluZz8sIGluIGJ1bmRsZVVSTDogVVJMKSAtPiBVUkw/IHt9CiAgICBvcGVuIGNsYXNzIGZ1bmMgdXJscyhmb3JSZXNvdXJjZXNXaXRoRXh0ZW5zaW9uIGV4dDogU3RyaW5nPywgc3ViZGlyZWN0b3J5IHN1YnBhdGg6IFN0cmluZz8sIGluIGJ1bmRsZVVSTDogTlNVUkwpIC0+IFtOU1VSTF0/IHt9CiAgICBwdWJsaWMgaW5pdChmb3IgYUNsYXNzOiBBbnlDbGFzcykge30KICAgIHB1YmxpYyBpbml0PyhpZGVudGlmaWVyOiBTdHJpbmcpIHt9CiAgICBwdWJsaWMgaW5pdD8ocGF0aDogU3RyaW5nKSB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQ/KHVybDogVVJMKSB7fQogICAgb3BlbiB2YXIgYXBwU3RvcmVSZWNlaXB0VVJMOiBVUkw/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGJ1aWx0SW5QbHVnSW5zUGF0aDogU3RyaW5nPyB7IGdldCB9CiAgICBvcGVuIHZhciBidWlsdEluUGx1Z0luc1VSTDogVVJMPyB7IGdldCB9CiAgICBvcGVuIHZhciBidW5kbGVJZGVudGlmaWVyOiBTdHJpbmc/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGJ1bmRsZVBhdGg6IFN0cmluZyB7IGdldCB9CiAgICBvcGVuIHZhciBidW5kbGVVUkw6IFVSTCB7IGdldCB9CiAgICBvcGVuIHZhciBkZXZlbG9wbWVudExvY2FsaXphdGlvbjogU3RyaW5nPyB7IGdldCB9CiAgICBvcGVuIHZhciBleGVjdXRhYmxlQXJjaGl0ZWN0dXJlczogW05TTnVtYmVyXT8geyBnZXQgfQogICAgb3BlbiB2YXIgZXhlY3V0YWJsZVBhdGg6IFN0cmluZz8geyBnZXQgfQogICAgb3BlbiB2YXIgZXhlY3V0YWJsZVVSTDogVVJMPyB7IGdldCB9CiAgICBvcGVuIHZhciBpbmZvRGljdGlvbmFyeTogW1N0cmluZzogQW55XT8geyBnZXQgfQogICAgb3BlbiB2YXIgaXNMb2FkZWQ6IEJvb2wgeyBnZXQgfQogICAgb3BlbiB2YXIgbG9jYWxpemF0aW9uczogW1N0cmluZ10geyBnZXQgfQogICAgb3BlbiB2YXIgbG9jYWxpemVkSW5mb0RpY3Rpb25hcnk6IFtTdHJpbmc6IEFueV0/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHByZWZlcnJlZExvY2FsaXphdGlvbnM6IFtTdHJpbmddIHsgZ2V0IH0KICAgIG9wZW4gdmFyIHByaW5jaXBhbENsYXNzOiBBbnlDbGFzcz8geyBnZXQgfQogICAgb3BlbiB2YXIgcHJpdmF0ZUZyYW1ld29ya3NQYXRoOiBTdHJpbmc/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHByaXZhdGVGcmFtZXdvcmtzVVJMOiBVUkw/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHJlc291cmNlUGF0aDogU3RyaW5nPyB7IGdldCB9CiAgICBvcGVuIHZhciByZXNvdXJjZVVSTDogVVJMPyB7IGdldCB9CiAgICBvcGVuIHZhciBzaGFyZWRGcmFtZXdvcmtzUGF0aDogU3RyaW5nPyB7IGdldCB9CiAgICBvcGVuIHZhciBzaGFyZWRGcmFtZXdvcmtzVVJMOiBVUkw/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHNoYXJlZFN1cHBvcnRQYXRoOiBTdHJpbmc/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHNoYXJlZFN1cHBvcnRVUkw6IFVSTD8geyBnZXQgfQogICAgb3BlbiBmdW5jIGNsYXNzTmFtZWQoXyBjbGFzc05hbWU6IFN0cmluZykgLT4gQW55Q2xhc3M/IHt9CiAgICBvcGVuIGZ1bmMgbG9hZCgpIC0+IEJvb2wge30KICAgIG9wZW4gZnVuYyBsb2FkQW5kUmV0dXJuRXJyb3IoKSB0aHJvd3Mge30KICAgIG9wZW4gZnVuYyBsb2NhbGl6ZWRTdHJpbmcoZm9yS2V5IGtleTogU3RyaW5nLCB2YWx1ZTogU3RyaW5nPywgdGFibGUgdGFibGVOYW1lOiBTdHJpbmc/KSAtPiBTdHJpbmcge30KICAgIG9wZW4gZnVuYyBvYmplY3QoZm9ySW5mb0RpY3Rpb25hcnlLZXkga2V5OiBTdHJpbmcpIC0+IEFueT8ge30KICAgIG9wZW4gZnVuYyBwYXRoKGZvckF1eGlsaWFyeUV4ZWN1dGFibGUgZXhlY3V0YWJsZU5hbWU6IFN0cmluZykgLT4gU3RyaW5nPyB7fQogICAgb3BlbiBmdW5jIHBhdGgoZm9yUmVzb3VyY2UgbmFtZTogU3RyaW5nPywgb2ZUeXBlIGV4dDogU3RyaW5nPykgLT4gU3RyaW5nPyB7fQogICAgb3BlbiBmdW5jIHBhdGgoZm9yUmVzb3VyY2UgbmFtZTogU3RyaW5nPywgb2ZUeXBlIGV4dDogU3RyaW5nPywgaW5EaXJlY3Rvcnkgc3VicGF0aDogU3RyaW5nPykgLT4gU3RyaW5nPyB7fQogICAgb3BlbiBmdW5jIHBhdGgoZm9yUmVzb3VyY2UgbmFtZTogU3RyaW5nPywgb2ZUeXBlIGV4dDogU3RyaW5nPywgaW5EaXJlY3Rvcnkgc3VicGF0aDogU3RyaW5nPywgZm9yTG9jYWxpemF0aW9uIGxvY2FsaXphdGlvbk5hbWU6IFN0cmluZz8pIC0+IFN0cmluZz8ge30KICAgIG9wZW4gZnVuYyBwYXRocyhmb3JSZXNvdXJjZXNPZlR5cGUgZXh0OiBTdHJpbmc/LCBpbkRpcmVjdG9yeSBzdWJwYXRoOiBTdHJpbmc/KSAtPiBbU3RyaW5nXSB7fQogICAgb3BlbiBmdW5jIHBhdGhzKGZvclJlc291cmNlc09mVHlwZSBleHQ6IFN0cmluZz8sIGluRGlyZWN0b3J5IHN1YnBhdGg6IFN0cmluZz8sIGZvckxvY2FsaXphdGlvbiBsb2NhbGl6YXRpb25OYW1lOiBTdHJpbmc/KSAtPiBbU3RyaW5nXSB7fQogICAgb3BlbiBmdW5jIHByZWZsaWdodCgpIHRocm93cyB7fQogICAgb3BlbiBmdW5jIHVybChmb3JBdXhpbGlhcnlFeGVjdXRhYmxlIGV4ZWN1dGFibGVOYW1lOiBTdHJpbmcpIC0+IFVSTD8ge30KICAgIG9wZW4gZnVuYyB1cmwoZm9yUmVzb3VyY2UgbmFtZTogU3RyaW5nPywgd2l0aEV4dGVuc2lvbiBleHQ6IFN0cmluZz8pIC0+IFVSTD8ge30KICAgIG9wZW4gZnVuYyB1cmwoZm9yUmVzb3VyY2UgbmFtZTogU3RyaW5nPywgd2l0aEV4dGVuc2lvbiBleHQ6IFN0cmluZz8sIHN1YmRpcmVjdG9yeSBzdWJwYXRoOiBTdHJpbmc/KSAtPiBVUkw/IHt9CiAgICBvcGVuIGZ1bmMgdXJsKGZvclJlc291cmNlIG5hbWU6IFN0cmluZz8sIHdpdGhFeHRlbnNpb24gZXh0OiBTdHJpbmc/LCBzdWJkaXJlY3Rvcnkgc3VicGF0aDogU3RyaW5nPywgbG9jYWxpemF0aW9uIGxvY2FsaXphdGlvbk5hbWU6IFN0cmluZz8pIC0+IFVSTD8ge30KICAgIG9wZW4gZnVuYyB1cmxzKGZvclJlc291cmNlc1dpdGhFeHRlbnNpb24gZXh0OiBTdHJpbmc/LCBzdWJkaXJlY3Rvcnkgc3VicGF0aDogU3RyaW5nPykgLT4gW05TVVJMXT8ge30KICAgIG9wZW4gZnVuYyB1cmxzKGZvclJlc291cmNlc1dpdGhFeHRlbnNpb24gZXh0OiBTdHJpbmc/LCBzdWJkaXJlY3Rvcnkgc3VicGF0aDogU3RyaW5nPywgbG9jYWxpemF0aW9uIGxvY2FsaXphdGlvbk5hbWU6IFN0cmluZz8pIC0+IFtOU1VSTF0/IHt9Cn0Kb3BlbiBjbGFzcyBCeXRlQ291bnRGb3JtYXR0ZXIgewogICAgb3BlbiBjbGFzcyBmdW5jIHN0cmluZyhmcm9tQnl0ZUNvdW50IGJ5dGVDb3VudDogSW50NjQsIGNvdW50U3R5bGU6IEJ5dGVDb3VudEZvcm1hdHRlci5Db3VudFN0eWxlKSAtPiBTdHJpbmcge30KICAgIG9wZW4gdmFyIGFsbG93ZWRVbml0czogVW5pdHMgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGFsbG93c05vbm51bWVyaWNGb3JtYXR0aW5nOiBCb29sIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBjb3VudFN0eWxlOiBDb3VudFN0eWxlIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBmb3JtYXR0aW5nQ29udGV4dDogQ29udGV4dCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgaW5jbHVkZXNBY3R1YWxCeXRlQ291bnQ6IEJvb2wgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGluY2x1ZGVzQ291bnQ6IEJvb2wgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGluY2x1ZGVzVW5pdDogQm9vbCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgaXNBZGFwdGl2ZTogQm9vbCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgemVyb1BhZHNGcmFjdGlvbkRpZ2l0czogQm9vbCB7IGdldCBzZXQgfQogICAgb3BlbiBmdW5jIHN0cmluZyhmcm9tQnl0ZUNvdW50IGJ5dGVDb3VudDogSW50NjQpIC0+IFN0cmluZyB7fQp9Cm9wZW4gY2xhc3MgQ2FjaGVkVVJMUmVzcG9uc2UgewogICAgcHVibGljIGluaXQocmVzcG9uc2U6IFVSTFJlc3BvbnNlLCBkYXRhOiBEYXRhKSB7fQogICAgcHVibGljIGluaXQocmVzcG9uc2U6IFVSTFJlc3BvbnNlLCBkYXRhOiBEYXRhLCB1c2VySW5mbzogW0FueUhhc2hhYmxlOiBBbnldPyA9IHgsIHN0b3JhZ2VQb2xpY3k6IFVSTENhY2hlLlN0b3JhZ2VQb2xpY3kpIHt9CiAgICBvcGVuIHZhciBkYXRhOiBEYXRhIHsgZ2V0IH0KICAgIG9wZW4gdmFyIHJlc3BvbnNlOiBVUkxSZXNwb25zZSB7IGdldCB9CiAgICBvcGVuIHZhciBzdG9yYWdlUG9saWN5OiBVUkxDYWNoZS5TdG9yYWdlUG9saWN5IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHVzZXJJbmZvOiBbQW55SGFzaGFibGU6IEFueV0/IHsgZ2V0IH0KfQpvcGVuIGNsYXNzIERhdGVDb21wb25lbnRzRm9ybWF0dGVyIHsKICAgIG9wZW4gY2xhc3MgZnVuYyBsb2NhbGl6ZWRTdHJpbmcoZnJvbSBjb21wb25lbnRzOiBEYXRlQ29tcG9uZW50cywgdW5pdHNTdHlsZTogVW5pdHNTdHlsZSkgLT4gU3RyaW5nPyB7fQogICAgb3BlbiB2YXIgYWxsb3dlZFVuaXRzOiBOU0NhbGVuZGFyLlVuaXQgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGFsbG93c0ZyYWN0aW9uYWxVbml0czogQm9vbCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgY2FsZW5kYXI6IENhbGVuZGFyPyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgY29sbGFwc2VzTGFyZ2VzdFVuaXQ6IEJvb2wgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGZvcm1hdHRpbmdDb250ZXh0OiBDb250ZXh0IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBpbmNsdWRlc0FwcHJveGltYXRpb25QaHJhc2U6IEJvb2wgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGluY2x1ZGVzVGltZVJlbWFpbmluZ1BocmFzZTogQm9vbCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgbWF4aW11bVVuaXRDb3VudDogSW50IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciB1bml0c1N0eWxlOiBVbml0c1N0eWxlIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciB6ZXJvRm9ybWF0dGluZ0JlaGF2aW9yOiBaZXJvRm9ybWF0dGluZ0JlaGF2aW9yIHsgZ2V0IHNldCB9CiAgICBvcGVuIGZ1bmMgc3RyaW5nKGZyb20gY29tcG9uZW50czogRGF0ZUNvbXBvbmVudHMpIC0+IFN0cmluZz8ge30KICAgIG9wZW4gZnVuYyBzdHJpbmcoZnJvbSBzdGFydERhdGU6IERhdGUsIHRvIGVuZERhdGU6IERhdGUpIC0+IFN0cmluZz8ge30KfQpvcGVuIGNsYXNzIERhdGVGb3JtYXR0ZXIgewogICAgb3BlbiBjbGFzcyBmdW5jIGRhdGVGb3JtYXQoZnJvbVRlbXBsYXRlIHRtcGxhdGU6IFN0cmluZywgb3B0aW9ucyBvcHRzOiBJbnQsIGxvY2FsZTogTG9jYWxlPykgLT4gU3RyaW5nPyB7fQogICAgb3BlbiBjbGFzcyBmdW5jIGxvY2FsaXplZFN0cmluZyhmcm9tIGRhdGU6IERhdGUsIGRhdGVTdHlsZSBkc3R5bGU6IFN0eWxlLCB0aW1lU3R5bGUgdHN0eWxlOiBTdHlsZSkgLT4gU3RyaW5nIHt9CiAgICBvcGVuIHZhciBhbVN5bWJvbDogU3RyaW5nISB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgY2FsZW5kYXI6IENhbGVuZGFyISB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgZGF0ZUZvcm1hdDogU3RyaW5nISB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgZGF0ZVN0eWxlOiBTdHlsZSB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgZGVmYXVsdERhdGU6IERhdGU/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGRvZXNSZWxhdGl2ZURhdGVGb3JtYXR0aW5nIHsgZ2V0IH0KICAgIG9wZW4gdmFyIGVyYVN5bWJvbHM6IFtTdHJpbmddISB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgZm9ybWF0dGluZ0NvbnRleHQ6IENvbnRleHQgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGdlbmVyYXRlc0NhbGVuZGFyRGF0ZXMgeyBnZXQgfQogICAgb3BlbiB2YXIgZ3JlZ29yaWFuU3RhcnREYXRlOiBEYXRlPyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgaXNMZW5pZW50IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGxvY2FsZTogTG9jYWxlISB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgbG9uZ0VyYVN5bWJvbHM6IFtTdHJpbmddISB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgbW9udGhTeW1ib2xzOiBbU3RyaW5nXSEgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHBtU3ltYm9sOiBTdHJpbmchIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBxdWFydGVyU3ltYm9sczogW1N0cmluZ10hIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBzaG9ydE1vbnRoU3ltYm9sczogW1N0cmluZ10hIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBzaG9ydFF1YXJ0ZXJTeW1ib2xzOiBbU3RyaW5nXSEgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHNob3J0U3RhbmRhbG9uZU1vbnRoU3ltYm9sczogW1N0cmluZ10hIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBzaG9ydFN0YW5kYWxvbmVRdWFydGVyU3ltYm9sczogW1N0cmluZ10hIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBzaG9ydFN0YW5kYWxvbmVXZWVrZGF5U3ltYm9sczogW1N0cmluZ10hIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBzaG9ydFdlZWtkYXlTeW1ib2xzOiBbU3RyaW5nXSEgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHN0YW5kYWxvbmVNb250aFN5bWJvbHM6IFtTdHJpbmddISB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgc3RhbmRhbG9uZVF1YXJ0ZXJTeW1ib2xzOiBbU3RyaW5nXSEgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHN0YW5kYWxvbmVXZWVrZGF5U3ltYm9sczogW1N0cmluZ10hIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciB0aW1lU3R5bGU6IFN0eWxlIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciB0aW1lWm9uZTogVGltZVpvbmUhIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciB0d29EaWdpdFN0YXJ0RGF0ZTogRGF0ZT8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHZlcnlTaG9ydE1vbnRoU3ltYm9sczogW1N0cmluZ10hIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciB2ZXJ5U2hvcnRTdGFuZGFsb25lTW9udGhTeW1ib2xzOiBbU3RyaW5nXSEgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHZlcnlTaG9ydFN0YW5kYWxvbmVXZWVrZGF5U3ltYm9sczogW1N0cmluZ10hIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciB2ZXJ5U2hvcnRXZWVrZGF5U3ltYm9sczogW1N0cmluZ10hIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciB3ZWVrZGF5U3ltYm9sczogW1N0cmluZ10hIHsgZ2V0IHNldCB9CiAgICBvcGVuIGZ1bmMgZGF0ZShmcm9tIHN0cmluZzogU3RyaW5nKSAtPiBEYXRlPyB7fQogICAgb3BlbiBmdW5jIG9iamVjdFZhbHVlKF8gc3RyaW5nOiBTdHJpbmcsIHJhbmdlIHJhbmdlcDogVW5zYWZlTXV0YWJsZVBvaW50ZXI8TlNSYW5nZT4pIHRocm93cyAtPiBBbnlPYmplY3Q/IHt9CiAgICBvcGVuIGZ1bmMgc2V0TG9jYWxpemVkRGF0ZUZvcm1hdEZyb21UZW1wbGF0ZShfIGRhdGVGb3JtYXRUZW1wbGF0ZTogU3RyaW5nKSB7fQogICAgb3BlbiBmdW5jIHN0cmluZyhmcm9tIGRhdGU6IERhdGUpIC0+IFN0cmluZyB7fQp9Cm9wZW4gY2xhc3MgRGF0ZUludGVydmFsRm9ybWF0dGVyIHsKICAgIG9wZW4gdmFyIGNhbGVuZGFyOiBDYWxlbmRhciEgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGRhdGVTdHlsZTogU3R5bGUgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGRhdGVUZW1wbGF0ZTogU3RyaW5nISB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgbG9jYWxlOiBMb2NhbGUhIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciB0aW1lU3R5bGU6IFN0eWxlIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciB0aW1lWm9uZTogVGltZVpvbmUhIHsgZ2V0IHNldCB9CiAgICBvcGVuIGZ1bmMgc3RyaW5nKGZyb20gZGF0ZUludGVydmFsOiBEYXRlSW50ZXJ2YWwpIC0+IFN0cmluZz8ge30KICAgIG9wZW4gZnVuYyBzdHJpbmcoZnJvbSBmcm9tRGF0ZTogRGF0ZSwgdG8gdG9EYXRlOiBEYXRlKSAtPiBTdHJpbmcge30KfQpvcGVuIGNsYXNzIERpbWVuc2lvbiB7CiAgICBvcGVuIGNsYXNzIGZ1bmMgYmFzZVVuaXQoKSAtPiBTZWxmIHt9CiAgICBwdWJsaWMgcmVxdWlyZWQgaW5pdChzeW1ib2w6IFN0cmluZywgY29udmVydGVyOiBVbml0Q29udmVydGVyKSB7fQogICAgb3BlbiB2YXIgY29udmVydGVyOiBVbml0Q29udmVydGVyIHsgZ2V0IH0KfQpvcGVuIGNsYXNzIEVuZXJneUZvcm1hdHRlciB7CiAgICBvcGVuIHZhciBpc0ZvckZvb2RFbmVyZ3lVc2U6IEJvb2wgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIG51bWJlckZvcm1hdHRlcjogTnVtYmVyRm9ybWF0dGVyISB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgdW5pdFN0eWxlOiBVbml0U3R5bGUgeyBnZXQgc2V0IH0KICAgIG9wZW4gZnVuYyBzdHJpbmcoZnJvbUpvdWxlcyBudW1iZXJJbkpvdWxlczogRG91YmxlKSAtPiBTdHJpbmcge30KICAgIG9wZW4gZnVuYyBzdHJpbmcoZnJvbVZhbHVlIHZhbHVlOiBEb3VibGUsIHVuaXQ6IFVuaXQpIC0+IFN0cmluZyB7fQogICAgb3BlbiBmdW5jIHVuaXRTdHJpbmcoZnJvbUpvdWxlcyBudW1iZXJJbkpvdWxlczogRG91YmxlLCB1c2VkVW5pdCB1bml0cDogVW5zYWZlTXV0YWJsZVBvaW50ZXI8VW5pdD4/KSAtPiBTdHJpbmcge30KICAgIG9wZW4gZnVuYyB1bml0U3RyaW5nKGZyb21WYWx1ZSB2YWx1ZTogRG91YmxlLCB1bml0OiBVbml0KSAtPiBTdHJpbmcge30KfQpvcGVuIGNsYXNzIEZpbGVIYW5kbGUgewogICAgb3BlbiBjbGFzcyB2YXIgbnVsbERldmljZTogRmlsZUhhbmRsZSB7IGdldCB9CiAgICBwdWJsaWMgc3RhdGljIHZhciByZWFkQ29tcGxldGlvbk5vdGlmaWNhdGlvbiB7IGdldCB9CiAgICBvcGVuIGNsYXNzIHZhciBzdGFuZGFyZEVycm9yOiBGaWxlSGFuZGxlIHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgdmFyIHN0YW5kYXJkSW5wdXQ6IEZpbGVIYW5kbGUgeyBnZXQgfQogICAgb3BlbiBjbGFzcyB2YXIgc3RhbmRhcmRPdXRwdXQ6IEZpbGVIYW5kbGUgeyBnZXQgfQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQoZmlsZURlc2NyaXB0b3IgZmQ6IEludDMyKSB7fQogICAgcHVibGljIGluaXQoZmlsZURlc2NyaXB0b3IgZmQ6IEludDMyLCBjbG9zZU9uRGVhbGxvYyBjbG9zZW9wdDogQm9vbCkge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0Pyhmb3JSZWFkaW5nQXRQYXRoIHBhdGg6IFN0cmluZykge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KGZvclJlYWRpbmdGcm9tIHVybDogVVJMKSB0aHJvd3Mge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KGZvclVwZGF0aW5nIHVybDogVVJMKSB0aHJvd3Mge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0Pyhmb3JVcGRhdGluZ0F0UGF0aCBwYXRoOiBTdHJpbmcpIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdD8oZm9yV3JpdGluZ0F0UGF0aCBwYXRoOiBTdHJpbmcpIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdChmb3JXcml0aW5nVG8gdXJsOiBVUkwpIHRocm93cyB7fQogICAgb3BlbiB2YXIgYXZhaWxhYmxlRGF0YTogRGF0YSB7IGdldCB9CiAgICBvcGVuIHZhciBmaWxlRGVzY3JpcHRvcjogSW50MzIgeyBnZXQgfQogICAgb3BlbiB2YXIgb2Zmc2V0SW5GaWxlOiBVSW50NjQgeyBnZXQgfQogICAgb3BlbiB2YXIgcmVhZGFiaWxpdHlIYW5kbGVyOiAoKEZpbGVIYW5kbGUpIC0+IFZvaWQpPyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgd3JpdGVhYmlsaXR5SGFuZGxlcjogKChGaWxlSGFuZGxlKSAtPiBWb2lkKT8geyBnZXQgc2V0IH0KICAgIG9wZW4gZnVuYyBhY2NlcHRDb25uZWN0aW9uSW5CYWNrZ3JvdW5kQW5kTm90aWZ5KCkge30KICAgIG9wZW4gZnVuYyBhY2NlcHRDb25uZWN0aW9uSW5CYWNrZ3JvdW5kQW5kTm90aWZ5KGZvck1vZGVzIG1vZGVzOiBbUnVuTG9vcE1vZGVdPykge30KICAgIG9wZW4gZnVuYyBjbG9zZUZpbGUoKSB7fQogICAgb3BlbiBmdW5jIHJlYWREYXRhKG9mTGVuZ3RoIGxlbmd0aDogSW50KSAtPiBEYXRhIHt9CiAgICBvcGVuIGZ1bmMgcmVhZERhdGFUb0VuZE9mRmlsZSgpIC0+IERhdGEge30KICAgIG9wZW4gZnVuYyByZWFkSW5CYWNrZ3JvdW5kQW5kTm90aWZ5KCkge30KICAgIG9wZW4gZnVuYyByZWFkSW5CYWNrZ3JvdW5kQW5kTm90aWZ5KGZvck1vZGVzIG1vZGVzOiBbUnVuTG9vcE1vZGVdPykge30KICAgIG9wZW4gZnVuYyByZWFkVG9FbmRPZkZpbGVJbkJhY2tncm91bmRBbmROb3RpZnkoKSB7fQogICAgb3BlbiBmdW5jIHJlYWRUb0VuZE9mRmlsZUluQmFja2dyb3VuZEFuZE5vdGlmeShmb3JNb2RlcyBtb2RlczogW1J1bkxvb3BNb2RlXT8pIHt9CiAgICBvcGVuIGZ1bmMgc2Vlayh0b0ZpbGVPZmZzZXQgb2Zmc2V0OiBVSW50NjQpIHt9CiAgICBAZGlzY2FyZGFibGVSZXN1bHQgb3BlbiBmdW5jIHNlZWtUb0VuZE9mRmlsZSgpIC0+IFVJbnQ2NCB7fQogICAgb3BlbiBmdW5jIHN5bmNocm9uaXplRmlsZSgpIHt9CiAgICBvcGVuIGZ1bmMgdHJ1bmNhdGVGaWxlKGF0T2Zmc2V0IG9mZnNldDogVUludDY0KSB7fQogICAgb3BlbiBmdW5jIHdhaXRGb3JEYXRhSW5CYWNrZ3JvdW5kQW5kTm90aWZ5KCkge30KICAgIG9wZW4gZnVuYyB3YWl0Rm9yRGF0YUluQmFja2dyb3VuZEFuZE5vdGlmeShmb3JNb2RlcyBtb2RlczogW1J1bkxvb3BNb2RlXT8pIHt9CiAgICBvcGVuIGZ1bmMgd3JpdGUoXyBkYXRhOiBEYXRhKSB7fQp9Cm9wZW4gY2xhc3MgRmlsZU1hbmFnZXIgewpvcGVuIGNsYXNzIERpcmVjdG9yeUVudW1lcmF0b3IgewogICAgb3BlbiB2YXIgZGlyZWN0b3J5QXR0cmlidXRlczogW0ZpbGVBdHRyaWJ1dGVLZXk6IEFueV0/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGZpbGVBdHRyaWJ1dGVzOiBbRmlsZUF0dHJpYnV0ZUtleTogQW55XT8geyBnZXQgfQogICAgb3BlbiB2YXIgbGV2ZWw6IEludCB7IGdldCB9CiAgICBvcGVuIGZ1bmMgc2tpcERlc2NlbmRhbnRzKCkge30KfQogICAgb3BlbiBjbGFzcyB2YXIgZGVmYXVsdDogRmlsZU1hbmFnZXIgeyBnZXQgfQogICAgb3BlbiB2YXIgY3VycmVudERpcmVjdG9yeVBhdGg6IFN0cmluZyB7IGdldCB9CiAgICBvcGVuIHdlYWsgdmFyIGRlbGVnYXRlOiBGaWxlTWFuYWdlckRlbGVnYXRlPyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgaG9tZURpcmVjdG9yeUZvckN1cnJlbnRVc2VyOiBVUkwgeyBnZXQgfQogICAgb3BlbiB2YXIgdGVtcG9yYXJ5RGlyZWN0b3J5OiBVUkwgeyBnZXQgfQojaWYgIShvcyhBbmRyb2lkKSkKICAgIG9wZW4gZnVuYyBhdHRyaWJ1dGVzT2ZGaWxlU3lzdGVtKGZvclBhdGggcGF0aDogU3RyaW5nKSB0aHJvd3MgLT4gW0ZpbGVBdHRyaWJ1dGVLZXk6IEFueV0ge30KI2VuZGlmCiAgICBvcGVuIGZ1bmMgYXR0cmlidXRlc09mSXRlbShhdFBhdGggcGF0aDogU3RyaW5nKSB0aHJvd3MgLT4gW0ZpbGVBdHRyaWJ1dGVLZXk6IEFueV0ge30KICAgIEBkaXNjYXJkYWJsZVJlc3VsdCBvcGVuIGZ1bmMgY2hhbmdlQ3VycmVudERpcmVjdG9yeVBhdGgoXyBwYXRoOiBTdHJpbmcpIC0+IEJvb2wge30KICAgIG9wZW4gZnVuYyBjb21wb25lbnRzVG9EaXNwbGF5KGZvclBhdGggcGF0aDogU3RyaW5nKSAtPiBbU3RyaW5nXT8ge30KICAgIG9wZW4gZnVuYyBjb250ZW50cyhhdFBhdGggcGF0aDogU3RyaW5nKSAtPiBEYXRhPyB7fQogICAgb3BlbiBmdW5jIGNvbnRlbnRzRXF1YWwoYXRQYXRoIHBhdGgxOiBTdHJpbmcsIGFuZFBhdGggcGF0aDI6IFN0cmluZykgLT4gQm9vbCB7fQogICAgb3BlbiBmdW5jIGNvbnRlbnRzT2ZEaXJlY3RvcnkoYXQgdXJsOiBVUkwsIGluY2x1ZGluZ1Byb3BlcnRpZXNGb3JLZXlzIGtleXM6IFtVUkxSZXNvdXJjZUtleV0/LCBvcHRpb25zIG1hc2s6IERpcmVjdG9yeUVudW1lcmF0aW9uT3B0aW9ucyA9IHgpIHRocm93cyAtPiBbVVJMXSB7fQogICAgb3BlbiBmdW5jIGNvbnRlbnRzT2ZEaXJlY3RvcnkoYXRQYXRoIHBhdGg6IFN0cmluZykgdGhyb3dzIC0+IFtTdHJpbmddIHt9CiAgICBvcGVuIGZ1bmMgY29weUl0ZW0oYXQgc3JjVVJMOiBVUkwsIHRvIGRzdFVSTDogVVJMKSB0aHJvd3Mge30KICAgIG9wZW4gZnVuYyBjb3B5SXRlbShhdFBhdGggc3JjUGF0aDogU3RyaW5nLCB0b1BhdGggZHN0UGF0aDogU3RyaW5nKSB0aHJvd3Mge30KICAgIG9wZW4gZnVuYyBjcmVhdGVEaXJlY3RvcnkoYXQgdXJsOiBVUkwsIHdpdGhJbnRlcm1lZGlhdGVEaXJlY3RvcmllcyBjcmVhdGVJbnRlcm1lZGlhdGVzOiBCb29sLCBhdHRyaWJ1dGVzOiBbRmlsZUF0dHJpYnV0ZUtleTogQW55XT8gPSB4KSB0aHJvd3Mge30KICAgIG9wZW4gZnVuYyBjcmVhdGVEaXJlY3RvcnkoYXRQYXRoIHBhdGg6IFN0cmluZywgd2l0aEludGVybWVkaWF0ZURpcmVjdG9yaWVzIGNyZWF0ZUludGVybWVkaWF0ZXM6IEJvb2wsIGF0dHJpYnV0ZXM6IFtGaWxlQXR0cmlidXRlS2V5OiBBbnldPyA9IHgpIHRocm93cyB7fQogICAgQGRpc2NhcmRhYmxlUmVzdWx0IG9wZW4gZnVuYyBjcmVhdGVGaWxlKGF0UGF0aCBwYXRoOiBTdHJpbmcsIGNvbnRlbnRzIGRhdGE6IERhdGE/LCBhdHRyaWJ1dGVzIGF0dHI6IFtGaWxlQXR0cmlidXRlS2V5OiBBbnldPyA9IHgpIC0+IEJvb2wge30KICAgIG9wZW4gZnVuYyBjcmVhdGVTeW1ib2xpY0xpbmsoYXQgdXJsOiBVUkwsIHdpdGhEZXN0aW5hdGlvblVSTCBkZXN0VVJMOiBVUkwpIHRocm93cyB7fQogICAgb3BlbiBmdW5jIGNyZWF0ZVN5bWJvbGljTGluayhhdFBhdGggcGF0aDogU3RyaW5nLCB3aXRoRGVzdGluYXRpb25QYXRoIGRlc3RQYXRoOiBTdHJpbmcpIHRocm93cyB7fQogICAgb3BlbiBmdW5jIGRlc3RpbmF0aW9uT2ZTeW1ib2xpY0xpbmsoYXRQYXRoIHBhdGg6IFN0cmluZykgdGhyb3dzIC0+IFN0cmluZyB7fQogICAgb3BlbiBmdW5jIGRpc3BsYXlOYW1lKGF0UGF0aCBwYXRoOiBTdHJpbmcpIC0+IFN0cmluZyB7fQogICAgb3BlbiBmdW5jIGVudW1lcmF0b3IoYXQgdXJsOiBVUkwsIGluY2x1ZGluZ1Byb3BlcnRpZXNGb3JLZXlzIGtleXM6IFtVUkxSZXNvdXJjZUtleV0/LCBvcHRpb25zIG1hc2s6IERpcmVjdG9yeUVudW1lcmF0aW9uT3B0aW9ucyA9IHgsIGVycm9ySGFuZGxlciBoYW5kbGVyOiAoKFVSTCwgRXJyb3IpIC0+IEJvb2wpPyA9IHgpIC0+IERpcmVjdG9yeUVudW1lcmF0b3I/IHt9CiAgICBvcGVuIGZ1bmMgZW51bWVyYXRvcihhdFBhdGggcGF0aDogU3RyaW5nKSAtPiBEaXJlY3RvcnlFbnVtZXJhdG9yPyB7fQogICAgb3BlbiBmdW5jIGZpbGVFeGlzdHMoYXRQYXRoIHBhdGg6IFN0cmluZykgLT4gQm9vbCB7fQogICAgb3BlbiBmdW5jIGZpbGVFeGlzdHMoYXRQYXRoIHBhdGg6IFN0cmluZywgaXNEaXJlY3Rvcnk6IFVuc2FmZU11dGFibGVQb2ludGVyPE9iakNCb29sPj8pIC0+IEJvb2wge30KICAgIG9wZW4gZnVuYyBmaWxlU3lzdGVtUmVwcmVzZW50YXRpb24od2l0aFBhdGggcGF0aDogU3RyaW5nKSAtPiBVbnNhZmVQb2ludGVyPEludDg+IHt9CiAgICBvcGVuIGZ1bmMgZ2V0UmVsYXRpb25zaGlwKF8gb3V0UmVsYXRpb25zaGlwOiBVbnNhZmVNdXRhYmxlUG9pbnRlcjxVUkxSZWxhdGlvbnNoaXA+LCBvZiBkaXJlY3Rvcnk6IFNlYXJjaFBhdGhEaXJlY3RvcnksIGluIGRvbWFpbk1hc2s6IFNlYXJjaFBhdGhEb21haW5NYXNrLCB0b0l0ZW1BdCB1cmw6IFVSTCkgdGhyb3dzIHt9CiAgICBvcGVuIGZ1bmMgZ2V0UmVsYXRpb25zaGlwKF8gb3V0UmVsYXRpb25zaGlwOiBVbnNhZmVNdXRhYmxlUG9pbnRlcjxVUkxSZWxhdGlvbnNoaXA+LCBvZkRpcmVjdG9yeUF0IGRpcmVjdG9yeVVSTDogVVJMLCB0b0l0ZW1BdCBvdGhlclVSTDogVVJMKSB0aHJvd3Mge30KICAgIG9wZW4gZnVuYyBob21lRGlyZWN0b3J5KGZvclVzZXIgdXNlck5hbWU6IFN0cmluZykgLT4gVVJMPyB7fQogICAgb3BlbiBmdW5jIGlzRGVsZXRhYmxlRmlsZShhdFBhdGggcGF0aDogU3RyaW5nKSAtPiBCb29sIHt9CiAgICBvcGVuIGZ1bmMgaXNFeGVjdXRhYmxlRmlsZShhdFBhdGggcGF0aDogU3RyaW5nKSAtPiBCb29sIHt9CiAgICBvcGVuIGZ1bmMgaXNSZWFkYWJsZUZpbGUoYXRQYXRoIHBhdGg6IFN0cmluZykgLT4gQm9vbCB7fQogICAgb3BlbiBmdW5jIGlzV3JpdGFibGVGaWxlKGF0UGF0aCBwYXRoOiBTdHJpbmcpIC0+IEJvb2wge30KICAgIG9wZW4gZnVuYyBsaW5rSXRlbShhdCBzcmNVUkw6IFVSTCwgdG8gZHN0VVJMOiBVUkwpIHRocm93cyB7fQogICAgb3BlbiBmdW5jIGxpbmtJdGVtKGF0UGF0aCBzcmNQYXRoOiBTdHJpbmcsIHRvUGF0aCBkc3RQYXRoOiBTdHJpbmcpIHRocm93cyB7fQogICAgb3BlbiBmdW5jIG1vdW50ZWRWb2x1bWVVUkxzKGluY2x1ZGluZ1Jlc291cmNlVmFsdWVzRm9yS2V5cyBwcm9wZXJ0eUtleXM6IFtVUkxSZXNvdXJjZUtleV0/LCBvcHRpb25zOiBWb2x1bWVFbnVtZXJhdGlvbk9wdGlvbnMgPSB4KSAtPiBbVVJMXT8ge30KICAgIG9wZW4gZnVuYyBtb3ZlSXRlbShhdCBzcmNVUkw6IFVSTCwgdG8gZHN0VVJMOiBVUkwpIHRocm93cyB7fQogICAgb3BlbiBmdW5jIG1vdmVJdGVtKGF0UGF0aCBzcmNQYXRoOiBTdHJpbmcsIHRvUGF0aCBkc3RQYXRoOiBTdHJpbmcpIHRocm93cyB7fQogICAgb3BlbiBmdW5jIHJlbW92ZUl0ZW0oYXQgdXJsOiBVUkwpIHRocm93cyB7fQogICAgb3BlbiBmdW5jIHJlbW92ZUl0ZW0oYXRQYXRoIHBhdGg6IFN0cmluZykgdGhyb3dzIHt9CiAgICBvcGVuIGZ1bmMgcmVwbGFjZUl0ZW0oYXQgb3JpZ2luYWxJdGVtVVJMOiBVUkwsIHdpdGhJdGVtQXQgbmV3SXRlbVVSTDogVVJMLCBiYWNrdXBJdGVtTmFtZTogU3RyaW5nPywgb3B0aW9uczogSXRlbVJlcGxhY2VtZW50T3B0aW9ucyA9IHgpIHRocm93cyB7fQogICAgcHVibGljIGZ1bmMgcmVwbGFjZUl0ZW1BdChfIG9yaWdpbmFsSXRlbVVSTDogVVJMLCB3aXRoSXRlbUF0IG5ld0l0ZW1VUkw6IFVSTCwgYmFja3VwSXRlbU5hbWU6IFN0cmluZz8gPSB4LCBvcHRpb25zOiBJdGVtUmVwbGFjZW1lbnRPcHRpb25zID0geCkgdGhyb3dzIC0+IE5TVVJMPyB7fQogICAgb3BlbiBmdW5jIHNldEF0dHJpYnV0ZXMoXyBhdHRyaWJ1dGVzOiBbRmlsZUF0dHJpYnV0ZUtleTogQW55XSwgb2ZJdGVtQXRQYXRoIHBhdGg6IFN0cmluZykgdGhyb3dzIHt9CiAgICBvcGVuIGZ1bmMgc3RyaW5nKHdpdGhGaWxlU3lzdGVtUmVwcmVzZW50YXRpb24gc3RyOiBVbnNhZmVQb2ludGVyPEludDg+LCBsZW5ndGggbGVuOiBJbnQpIC0+IFN0cmluZyB7fQogICAgb3BlbiBmdW5jIHN1YnBhdGhzKGF0UGF0aCBwYXRoOiBTdHJpbmcpIC0+IFtTdHJpbmddPyB7fQogICAgb3BlbiBmdW5jIHN1YnBhdGhzT2ZEaXJlY3RvcnkoYXRQYXRoIHBhdGg6IFN0cmluZykgdGhyb3dzIC0+IFtTdHJpbmddIHt9CiAgICBvcGVuIGZ1bmMgdXJsKGZvciBkaXJlY3Rvcnk6IFNlYXJjaFBhdGhEaXJlY3RvcnksIGluIGRvbWFpbjogU2VhcmNoUGF0aERvbWFpbk1hc2ssIGFwcHJvcHJpYXRlRm9yIHVybDogVVJMPywgY3JlYXRlIHNob3VsZENyZWF0ZTogQm9vbCkgdGhyb3dzIC0+IFVSTCB7fQojaWYgIShvcyhXaW5kb3dzKSApCiAgICBvcGVuIGZ1bmMgdXJscyhmb3IgZGlyZWN0b3J5OiBTZWFyY2hQYXRoRGlyZWN0b3J5LCBpbiBkb21haW5NYXNrOiBTZWFyY2hQYXRoRG9tYWluTWFzaykgLT4gW1VSTF0ge30KI2VuZGlmCn0Kb3BlbiBjbGFzcyBGb3JtYXR0ZXIgewogICAgb3BlbiBmdW5jIGVkaXRpbmdTdHJpbmcoZm9yIG9iajogQW55KSAtPiBTdHJpbmc/IHt9CiAgICBvcGVuIGZ1bmMgb2JqZWN0VmFsdWUoXyBzdHJpbmc6IFN0cmluZykgdGhyb3dzIC0+IEFueT8ge30KICAgIG9wZW4gZnVuYyBzdHJpbmcoZm9yIG9iajogQW55KSAtPiBTdHJpbmc/IHt9Cn0Kb3BlbiBjbGFzcyBIVFRQQ29va2llIHsKICAgIG9wZW4gY2xhc3MgZnVuYyBjb29raWVzKHdpdGhSZXNwb25zZUhlYWRlckZpZWxkcyBoZWFkZXJGaWVsZHM6IFtTdHJpbmc6IFN0cmluZ10sIGZvciBVUkw6IFVSTCkgLT4gW0hUVFBDb29raWVdIHt9CiAgICBvcGVuIGNsYXNzIGZ1bmMgcmVxdWVzdEhlYWRlckZpZWxkcyh3aXRoIGNvb2tpZXM6IFtIVFRQQ29va2llXSkgLT4gW1N0cmluZzogU3RyaW5nXSB7fQogICAgcHVibGljIGluaXQ/KHByb3BlcnRpZXM6IFtIVFRQQ29va2llUHJvcGVydHlLZXk6IEFueV0pIHt9CiAgICBvcGVuIHZhciBjb21tZW50OiBTdHJpbmc/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGNvbW1lbnRVUkw6IFVSTD8geyBnZXQgfQogICAgb3BlbiB2YXIgZG9tYWluOiBTdHJpbmcgeyBnZXQgfQogICAgb3BlbiB2YXIgZXhwaXJlc0RhdGU6IERhdGU/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGlzSFRUUE9ubHk6IEJvb2wgeyBnZXQgfQogICAgb3BlbiB2YXIgaXNTZWN1cmU6IEJvb2wgeyBnZXQgfQogICAgb3BlbiB2YXIgaXNTZXNzaW9uT25seTogQm9vbCB7IGdldCB9CiAgICBvcGVuIHZhciBuYW1lOiBTdHJpbmcgeyBnZXQgfQogICAgb3BlbiB2YXIgcGF0aDogU3RyaW5nIHsgZ2V0IH0KICAgIG9wZW4gdmFyIHBvcnRMaXN0OiBbTlNOdW1iZXJdPyB7IGdldCB9CiAgICBvcGVuIHZhciBwcm9wZXJ0aWVzOiBbSFRUUENvb2tpZVByb3BlcnR5S2V5OiBBbnldPyB7IGdldCB9CiAgICBvcGVuIHZhciB2YWx1ZTogU3RyaW5nIHsgZ2V0IH0KICAgIG9wZW4gdmFyIHZlcnNpb246IEludCB7IGdldCB9Cn0Kb3BlbiBjbGFzcyBIVFRQQ29va2llU3RvcmFnZSB7CiAgICBvcGVuIGNsYXNzIHZhciBzaGFyZWQ6IEhUVFBDb29raWVTdG9yYWdlIHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgZnVuYyBzaGFyZWRDb29raWVTdG9yYWdlKGZvckdyb3VwQ29udGFpbmVySWRlbnRpZmllciBpZGVudGlmaWVyOiBTdHJpbmcpIC0+IEhUVFBDb29raWVTdG9yYWdlIHt9CiAgICBvcGVuIHZhciBjb29raWVBY2NlcHRQb2xpY3k6IEhUVFBDb29raWUuQWNjZXB0UG9saWN5IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBjb29raWVzOiBbSFRUUENvb2tpZV0/IHsgZ2V0IH0KICAgIG9wZW4gZnVuYyBjb29raWVzKGZvciB1cmw6IFVSTCkgLT4gW0hUVFBDb29raWVdPyB7fQogICAgb3BlbiBmdW5jIGRlbGV0ZUNvb2tpZShfIGNvb2tpZTogSFRUUENvb2tpZSkge30KICAgIG9wZW4gZnVuYyByZW1vdmVDb29raWVzKHNpbmNlIGRhdGU6IERhdGUpIHt9CiAgICBvcGVuIGZ1bmMgc2V0Q29va2llKF8gY29va2llOiBIVFRQQ29va2llKSB7fQogICAgb3BlbiBmdW5jIHNldENvb2tpZXMoXyBjb29raWVzOiBbSFRUUENvb2tpZV0sIGZvciB1cmw6IFVSTD8sIG1haW5Eb2N1bWVudFVSTDogVVJMPykge30KICAgIG9wZW4gZnVuYyBzb3J0ZWRDb29raWVzKHVzaW5nIHNvcnRPcmRlcjogW05TU29ydERlc2NyaXB0b3JdKSAtPiBbSFRUUENvb2tpZV0ge30KfQpvcGVuIGNsYXNzIEhUVFBVUkxSZXNwb25zZSB7CiAgICBvcGVuIGNsYXNzIGZ1bmMgbG9jYWxpemVkU3RyaW5nKGZvclN0YXR1c0NvZGUgc3RhdHVzQ29kZTogSW50KSAtPiBTdHJpbmcge30KICAgIHB1YmxpYyBpbml0Pyh1cmw6IFVSTCwgc3RhdHVzQ29kZTogSW50LCBodHRwVmVyc2lvbjogU3RyaW5nPywgaGVhZGVyRmllbGRzOiBbU3RyaW5nOiBTdHJpbmddPykge30KICAgIHB1YmxpYyB2YXIgYWxsSGVhZGVyRmllbGRzOiBbQW55SGFzaGFibGU6IEFueV0geyBnZXQgfQogICAgcHVibGljIHZhciBzdGF0dXNDb2RlOiBJbnQgeyBnZXQgfQp9Cm9wZW4gY2xhc3MgSG9zdCB7CiAgICBvcGVuIGNsYXNzIGZ1bmMgY3VycmVudCgpIC0+IEhvc3Qge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KGFkZHJlc3M6IFN0cmluZykge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KG5hbWU6IFN0cmluZz8pIHt9CiAgICBvcGVuIHZhciBhZGRyZXNzOiBTdHJpbmc/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGFkZHJlc3NlczogW1N0cmluZ10geyBnZXQgfQogICAgb3BlbiB2YXIgbG9jYWxpemVkTmFtZTogU3RyaW5nPyB7IGdldCB9CiAgICBvcGVuIHZhciBuYW1lOiBTdHJpbmc/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIG5hbWVzOiBbU3RyaW5nXSB7IGdldCB9CiAgICBvcGVuIGZ1bmMgaXNFcXVhbCh0byBhSG9zdDogSG9zdCkgLT4gQm9vbCB7fQp9Cm9wZW4gY2xhc3MgSVNPODYwMURhdGVGb3JtYXR0ZXIgewogICAgb3BlbiBjbGFzcyBmdW5jIHN0cmluZyhmcm9tIGRhdGU6IERhdGUsIHRpbWVab25lOiBUaW1lWm9uZSwgZm9ybWF0T3B0aW9uczogSVNPODYwMURhdGVGb3JtYXR0ZXIuT3B0aW9ucyA9IHgpIC0+IFN0cmluZyB7fQogICAgb3BlbiB2YXIgZm9ybWF0T3B0aW9uczogSVNPODYwMURhdGVGb3JtYXR0ZXIuT3B0aW9ucyB7IGdldCB9CiAgICBvcGVuIHZhciB0aW1lWm9uZTogVGltZVpvbmUhIHsgZ2V0IH0KICAgIG9wZW4gZnVuYyBkYXRlKGZyb20gc3RyaW5nOiBTdHJpbmcpIC0+IERhdGU/IHt9CiAgICBvcGVuIGZ1bmMgc3RyaW5nKGZyb20gZGF0ZTogRGF0ZSkgLT4gU3RyaW5nIHt9Cn0Kb3BlbiBjbGFzcyBJbnB1dFN0cmVhbSB7CiAgICBwdWJsaWMgaW5pdChkYXRhOiBEYXRhKSB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQ/KGZpbGVBdFBhdGggcGF0aDogU3RyaW5nKSB7fQogICAgcHVibGljIGluaXQ/KHVybDogVVJMKSB7fQogICAgb3BlbiB2YXIgaGFzQnl0ZXNBdmFpbGFibGU6IEJvb2wgeyBnZXQgfQogICAgb3BlbiBmdW5jIGdldEJ1ZmZlcihfIGJ1ZmZlcjogVW5zYWZlTXV0YWJsZVBvaW50ZXI8VW5zYWZlTXV0YWJsZVBvaW50ZXI8VUludDg+Pz4sIGxlbmd0aCBsZW46IFVuc2FmZU11dGFibGVQb2ludGVyPEludD4pIC0+IEJvb2wge30KICAgIG9wZW4gZnVuYyByZWFkKF8gYnVmZmVyOiBVbnNhZmVNdXRhYmxlUG9pbnRlcjxVSW50OD4sIG1heExlbmd0aCBsZW46IEludCkgLT4gSW50IHt9Cn0Kb3BlbiBjbGFzcyBKU09ORGVjb2RlciB7CiAgICBwdWJsaWMgaW5pdCgpIHt9CiAgICBvcGVuIHZhciBkYXRhRGVjb2RpbmdTdHJhdGVneTogRGF0YURlY29kaW5nU3RyYXRlZ3kgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGRhdGVEZWNvZGluZ1N0cmF0ZWd5OiBEYXRlRGVjb2RpbmdTdHJhdGVneSB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIga2V5RGVjb2RpbmdTdHJhdGVneTogS2V5RGVjb2RpbmdTdHJhdGVneSB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgbm9uQ29uZm9ybWluZ0Zsb2F0RGVjb2RpbmdTdHJhdGVneTogTm9uQ29uZm9ybWluZ0Zsb2F0RGVjb2RpbmdTdHJhdGVneSB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgdXNlckluZm86IFtDb2RpbmdVc2VySW5mb0tleTogQW55XSB7IGdldCBzZXQgfQogICAgb3BlbiBmdW5jIGRlY29kZTxUPihfIHR5cGU6IFQuVHlwZSwgZnJvbSBkYXRhOiBEYXRhKSB0aHJvd3MgLT4gVCAgd2hlcmUgVCA6IERlY29kYWJsZSB7fQp9Cm9wZW4gY2xhc3MgSlNPTkVuY29kZXIgewogICAgcHVibGljIGluaXQoKSB7fQogICAgb3BlbiB2YXIgZGF0YUVuY29kaW5nU3RyYXRlZ3k6IERhdGFFbmNvZGluZ1N0cmF0ZWd5IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBkYXRlRW5jb2RpbmdTdHJhdGVneTogRGF0ZUVuY29kaW5nU3RyYXRlZ3kgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGtleUVuY29kaW5nU3RyYXRlZ3k6IEtleUVuY29kaW5nU3RyYXRlZ3kgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIG5vbkNvbmZvcm1pbmdGbG9hdEVuY29kaW5nU3RyYXRlZ3k6IE5vbkNvbmZvcm1pbmdGbG9hdEVuY29kaW5nU3RyYXRlZ3kgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIG91dHB1dEZvcm1hdHRpbmc6IE91dHB1dEZvcm1hdHRpbmcgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHVzZXJJbmZvOiBbQ29kaW5nVXNlckluZm9LZXk6IEFueV0geyBnZXQgc2V0IH0KICAgIG9wZW4gZnVuYyBlbmNvZGU8VD4oXyB2YWx1ZTogVCkgdGhyb3dzIC0+IERhdGEgIHdoZXJlIFQgOiBFbmNvZGFibGUge30KfQpvcGVuIGNsYXNzIEpTT05TZXJpYWxpemF0aW9uIHsKICAgIG9wZW4gY2xhc3MgZnVuYyBkYXRhKHdpdGhKU09OT2JqZWN0IHZhbHVlOiBBbnksIG9wdGlvbnMgb3B0OiBXcml0aW5nT3B0aW9ucyA9IHgpIHRocm93cyAtPiBEYXRhIHt9CiAgICBvcGVuIGNsYXNzIGZ1bmMgaXNWYWxpZEpTT05PYmplY3QoXyBvYmo6IEFueSkgLT4gQm9vbCB7fQogICAgb3BlbiBjbGFzcyBmdW5jIGpzb25PYmplY3Qod2l0aCBkYXRhOiBEYXRhLCBvcHRpb25zIG9wdDogUmVhZGluZ09wdGlvbnMgPSB4KSB0aHJvd3MgLT4gQW55IHt9CiAgICBvcGVuIGNsYXNzIGZ1bmMgd3JpdGVKU09OT2JqZWN0KF8gb2JqOiBBbnksIHRvU3RyZWFtIHN0cmVhbTogT3V0cHV0U3RyZWFtLCBvcHRpb25zIG9wdDogV3JpdGluZ09wdGlvbnMpIHRocm93cyAtPiBJbnQge30KfQpvcGVuIGNsYXNzIExlbmd0aEZvcm1hdHRlciB7CiAgICBvcGVuIHZhciBpc0ZvclBlcnNvbkhlaWdodFVzZTogQm9vbCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgbnVtYmVyRm9ybWF0dGVyOiBOdW1iZXJGb3JtYXR0ZXIhIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciB1bml0U3R5bGU6IFVuaXRTdHlsZSB7IGdldCBzZXQgfQogICAgb3BlbiBmdW5jIHN0cmluZyhmcm9tTWV0ZXJzIG51bWJlckluTWV0ZXJzOiBEb3VibGUpIC0+IFN0cmluZyB7fQogICAgb3BlbiBmdW5jIHN0cmluZyhmcm9tVmFsdWUgdmFsdWU6IERvdWJsZSwgdW5pdDogTGVuZ3RoRm9ybWF0dGVyLlVuaXQpIC0+IFN0cmluZyB7fQogICAgb3BlbiBmdW5jIHVuaXRTdHJpbmcoZnJvbU1ldGVycyBudW1iZXJJbk1ldGVyczogRG91YmxlLCB1c2VkVW5pdCB1bml0cDogVW5zYWZlTXV0YWJsZVBvaW50ZXI8VW5pdD4/KSAtPiBTdHJpbmcge30KICAgIG9wZW4gZnVuYyB1bml0U3RyaW5nKGZyb21WYWx1ZSB2YWx1ZTogRG91YmxlLCB1bml0OiBVbml0KSAtPiBTdHJpbmcge30KfQpvcGVuIGNsYXNzIE1hc3NGb3JtYXR0ZXIgewogICAgb3BlbiB2YXIgaXNGb3JQZXJzb25NYXNzVXNlOiBCb29sIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBudW1iZXJGb3JtYXR0ZXI6IE51bWJlckZvcm1hdHRlciEgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHVuaXRTdHlsZTogVW5pdFN0eWxlIHsgZ2V0IHNldCB9CiAgICBvcGVuIGZ1bmMgc3RyaW5nKGZyb21LaWxvZ3JhbXMgbnVtYmVySW5LaWxvZ3JhbXM6IERvdWJsZSkgLT4gU3RyaW5nIHt9CiAgICBvcGVuIGZ1bmMgc3RyaW5nKGZyb21WYWx1ZSB2YWx1ZTogRG91YmxlLCB1bml0OiBVbml0KSAtPiBTdHJpbmcge30KICAgIG9wZW4gZnVuYyB1bml0U3RyaW5nKGZyb21LaWxvZ3JhbXMgbnVtYmVySW5LaWxvZ3JhbXM6IERvdWJsZSwgdXNlZFVuaXQgdW5pdHA6IFVuc2FmZU11dGFibGVQb2ludGVyPFVuaXQ+PykgLT4gU3RyaW5nIHt9CiAgICBvcGVuIGZ1bmMgdW5pdFN0cmluZyhmcm9tVmFsdWUgdmFsdWU6IERvdWJsZSwgdW5pdDogVW5pdCkgLT4gU3RyaW5nIHt9CiAgICBvcGVuIGZ1bmMgdW5pdFN0cmluZ0Rpc3BsYXllZEFkamFjZW50KHRvVmFsdWUgdmFsdWU6IERvdWJsZSwgdW5pdDogVW5pdCkgLT4gU3RyaW5nIHt9Cn0Kb3BlbiBjbGFzcyBNZWFzdXJlbWVudEZvcm1hdHRlciB7CiAgICBvcGVuIHZhciBsb2NhbGU6IExvY2FsZSEgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIG51bWJlckZvcm1hdHRlcjogTnVtYmVyRm9ybWF0dGVyISB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgdW5pdE9wdGlvbnM6IE1lYXN1cmVtZW50Rm9ybWF0dGVyLlVuaXRPcHRpb25zIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciB1bml0U3R5bGU6IEZvcm1hdHRlci5Vbml0U3R5bGUgeyBnZXQgc2V0IH0KICAgIHB1YmxpYyBmdW5jIHN0cmluZzxVbml0VHlwZT4oZnJvbSBtZWFzdXJlbWVudDogTWVhc3VyZW1lbnQ8VW5pdFR5cGU+KSAtPiBTdHJpbmcge30KfQpvcGVuIGNsYXNzIE1lc3NhZ2VQb3J0IHsKfQpvcGVuIGNsYXNzIE5TQWZmaW5lVHJhbnNmb3JtIHsKICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KHRyYW5zZm9ybTogQWZmaW5lVHJhbnNmb3JtKSB7fQogICAgcHVibGljIHZhciB0cmFuc2Zvcm1TdHJ1Y3Q6IE5TQWZmaW5lVHJhbnNmb3JtU3RydWN0IHsgZ2V0IHNldCB9CiAgICBvcGVuIGZ1bmMgYXBwZW5kKF8gdHJhbnNmb3JtOiBBZmZpbmVUcmFuc2Zvcm0pIHt9CiAgICBvcGVuIGZ1bmMgaW52ZXJ0KCkge30KICAgIG9wZW4gZnVuYyBwcmVwZW5kKF8gdHJhbnNmb3JtOiBBZmZpbmVUcmFuc2Zvcm0pIHt9CiAgICBvcGVuIGZ1bmMgcm90YXRlKGJ5RGVncmVlcyBhbmdsZTogQ0dGbG9hdCkge30KICAgIG9wZW4gZnVuYyByb3RhdGUoYnlSYWRpYW5zIGFuZ2xlOiBDR0Zsb2F0KSB7fQogICAgb3BlbiBmdW5jIHNjYWxlKGJ5IHNjYWxlOiBDR0Zsb2F0KSB7fQogICAgb3BlbiBmdW5jIHNjYWxlWChieSBzY2FsZVg6IENHRmxvYXQsIHlCeSBzY2FsZVk6IENHRmxvYXQpIHt9CiAgICBvcGVuIGZ1bmMgdHJhbnNmb3JtKF8gYVBvaW50OiBOU1BvaW50KSAtPiBOU1BvaW50IHt9CiAgICBvcGVuIGZ1bmMgdHJhbnNmb3JtKF8gYVNpemU6IE5TU2l6ZSkgLT4gTlNTaXplIHt9CiAgICBvcGVuIGZ1bmMgdHJhbnNsYXRlWChieSBkZWx0YVg6IENHRmxvYXQsIHlCeSBkZWx0YVk6IENHRmxvYXQpIHt9Cn0Kb3BlbiBjbGFzcyBOU0FycmF5IHsKICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KGFycmF5OiBbQW55XSkge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KGFycmF5OiBbQW55XSwgY29weUl0ZW1zOiBCb29sKSB7fQogICAgcHVibGljIHJlcXVpcmVkIGNvbnZlbmllbmNlIGluaXQoYXJyYXlMaXRlcmFsIGVsZW1lbnRzOiBBbnkuLi4pIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdChjb250ZW50c09mIHVybDogVVJMLCBlcnJvcjogVm9pZCkgdGhyb3dzIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdChvYmplY3QgYW5PYmplY3Q6IEFueSkge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KG9iamVjdHMgZWxlbWVudHM6IEFueU9iamVjdC4uLikge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KG9iamVjdHM6IFVuc2FmZVBvaW50ZXI8QW55T2JqZWN0PiwgY291bnQ6IEludCkge30KICAgIG9wZW4gdmFyIGNvdW50OiBJbnQgeyBnZXQgfQogICAgcHVibGljIHZhciBjdXN0b21NaXJyb3I6IE1pcnJvciB7IGdldCB9CiAgICBvcGVuIHZhciBmaXJzdE9iamVjdDogQW55PyB7IGdldCB9CiAgICBvcGVuIHZhciBsYXN0T2JqZWN0OiBBbnk/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHNvcnRlZEFycmF5SGludDogRGF0YSB7IGdldCB9CiAgICBvcGVuIHN1YnNjcmlwdChpZHg6IEludCkgLT4gQW55IHsgZ2V0IH0ge30KICAgIG9wZW4gZnVuYyBhZGRpbmcoXyBhbk9iamVjdDogQW55KSAtPiBbQW55XSB7fQogICAgb3BlbiBmdW5jIGFkZGluZ09iamVjdHMoZnJvbSBvdGhlckFycmF5OiBbQW55XSkgLT4gW0FueV0ge30KICAgIG9wZW4gZnVuYyBjb21wb25lbnRzSm9pbmVkKGJ5IHNlcGFyYXRvcjogU3RyaW5nKSAtPiBTdHJpbmcge30KICAgIG9wZW4gZnVuYyBjb250YWlucyhfIGFuT2JqZWN0OiBBbnkpIC0+IEJvb2wge30KICAgIG9wZW4gZnVuYyBkZXNjcmlwdGlvbih3aXRoTG9jYWxlIGxvY2FsZTogTG9jYWxlPykgLT4gU3RyaW5nIHt9CiAgICBvcGVuIGZ1bmMgZGVzY3JpcHRpb24od2l0aExvY2FsZSBsb2NhbGU6IExvY2FsZT8sIGluZGVudCBsZXZlbDogSW50KSAtPiBTdHJpbmcge30KICAgIG9wZW4gZnVuYyBlbnVtZXJhdGVPYmplY3RzKF8gYmxvY2s6IChBbnksIEludCwgVW5zYWZlTXV0YWJsZVBvaW50ZXI8T2JqQ0Jvb2w+KSAtPiBTd2lmdC5Wb2lkKSB7fQogICAgb3BlbiBmdW5jIGVudW1lcmF0ZU9iamVjdHMoYXQgczogSW5kZXhTZXQsIG9wdGlvbnMgb3B0czogTlNFbnVtZXJhdGlvbk9wdGlvbnMgPSB4LCB1c2luZyBibG9jazogKEFueSwgSW50LCBVbnNhZmVNdXRhYmxlUG9pbnRlcjxPYmpDQm9vbD4pIC0+IFN3aWZ0LlZvaWQpIHt9CiAgICBvcGVuIGZ1bmMgZW51bWVyYXRlT2JqZWN0cyhvcHRpb25zIG9wdHM6IE5TRW51bWVyYXRpb25PcHRpb25zID0geCwgdXNpbmcgYmxvY2s6IChBbnksIEludCwgVW5zYWZlTXV0YWJsZVBvaW50ZXI8T2JqQ0Jvb2w+KSAtPiBTd2lmdC5Wb2lkKSB7fQogICAgb3BlbiBmdW5jIGZpbHRlcmVkKHVzaW5nIHByZWRpY2F0ZTogTlNQcmVkaWNhdGUpIC0+IFtBbnldIHt9CiAgICBvcGVuIGZ1bmMgZmlyc3RPYmplY3RDb21tb24od2l0aCBvdGhlckFycmF5OiBbQW55XSkgLT4gQW55PyB7fQogICAgb3BlbiBmdW5jIGluZGV4KG9mIGFuT2JqZWN0OiBBbnkpIC0+IEludCB7fQogICAgb3BlbiBmdW5jIGluZGV4KG9mIGFuT2JqZWN0OiBBbnksIGluIHJhbmdlOiBOU1JhbmdlKSAtPiBJbnQge30KICAgIG9wZW4gZnVuYyBpbmRleChvZiBvYmo6IEFueSwgaW5Tb3J0ZWRSYW5nZSByOiBOU1JhbmdlLCBvcHRpb25zIG9wdHM6IE5TQmluYXJ5U2VhcmNoaW5nT3B0aW9ucyA9IHgsIHVzaW5nQ29tcGFyYXRvciBjbXA6IChBbnksIEFueSkgLT4gQ29tcGFyaXNvblJlc3VsdCkgLT4gSW50IHt9CiAgICBvcGVuIGZ1bmMgaW5kZXhPZk9iamVjdChhdCBzOiBJbmRleFNldCwgb3B0aW9ucyBvcHRzOiBOU0VudW1lcmF0aW9uT3B0aW9ucyA9IHgsIHBhc3NpbmdUZXN0IHByZWRpY2F0ZTogKEFueSwgSW50LCBVbnNhZmVNdXRhYmxlUG9pbnRlcjxPYmpDQm9vbD4pIC0+IEJvb2wpIC0+IEludCB7fQogICAgb3BlbiBmdW5jIGluZGV4T2ZPYmplY3Qob3B0aW9ucyBvcHRzOiBOU0VudW1lcmF0aW9uT3B0aW9ucyA9IHgsIHBhc3NpbmdUZXN0IHByZWRpY2F0ZTogKEFueSwgSW50LCBVbnNhZmVNdXRhYmxlUG9pbnRlcjxPYmpDQm9vbD4pIC0+IEJvb2wpIC0+IEludCB7fQogICAgb3BlbiBmdW5jIGluZGV4T2ZPYmplY3QocGFzc2luZ1Rlc3QgcHJlZGljYXRlOiAoQW55LCBJbnQsIFVuc2FmZU11dGFibGVQb2ludGVyPE9iakNCb29sPikgLT4gQm9vbCkgLT4gSW50IHt9CiAgICBvcGVuIGZ1bmMgaW5kZXhPZk9iamVjdElkZW50aWNhbCh0byBhbk9iamVjdDogQW55KSAtPiBJbnQge30KICAgIG9wZW4gZnVuYyBpbmRleE9mT2JqZWN0SWRlbnRpY2FsKHRvIGFuT2JqZWN0OiBBbnksIGluIHJhbmdlOiBOU1JhbmdlKSAtPiBJbnQge30KICAgIG9wZW4gZnVuYyBpbmRleGVzT2ZPYmplY3RzKGF0IHM6IEluZGV4U2V0LCBvcHRpb25zIG9wdHM6IE5TRW51bWVyYXRpb25PcHRpb25zID0geCwgcGFzc2luZ1Rlc3QgcHJlZGljYXRlOiAoQW55LCBJbnQsIFVuc2FmZU11dGFibGVQb2ludGVyPE9iakNCb29sPikgLT4gQm9vbCkgLT4gSW5kZXhTZXQge30KICAgIG9wZW4gZnVuYyBpbmRleGVzT2ZPYmplY3RzKG9wdGlvbnMgb3B0czogTlNFbnVtZXJhdGlvbk9wdGlvbnMgPSB4LCBwYXNzaW5nVGVzdCBwcmVkaWNhdGU6IChBbnksIEludCwgVW5zYWZlTXV0YWJsZVBvaW50ZXI8T2JqQ0Jvb2w+KSAtPiBCb29sKSAtPiBJbmRleFNldCB7fQogICAgb3BlbiBmdW5jIGluZGV4ZXNPZk9iamVjdHMocGFzc2luZ1Rlc3QgcHJlZGljYXRlOiAoQW55LCBJbnQsIFVuc2FmZU11dGFibGVQb2ludGVyPE9iakNCb29sPikgLT4gQm9vbCkgLT4gSW5kZXhTZXQge30KICAgIG9wZW4gZnVuYyBpc0VxdWFsKHRvIG90aGVyQXJyYXk6IFtBbnldKSAtPiBCb29sIHt9CiAgICBwdWJsaWMgZnVuYyBtYWtlSXRlcmF0b3IoKSAtPiBJdGVyYXRvciB7fQogICAgb3BlbiBmdW5jIG9iamVjdChhdCBpbmRleDogSW50KSAtPiBBbnkge30KICAgIG9wZW4gZnVuYyBvYmplY3RFbnVtZXJhdG9yKCkgLT4gTlNFbnVtZXJhdG9yIHt9CiAgICBvcGVuIGZ1bmMgb2JqZWN0cyhhdCBpbmRleGVzOiBJbmRleFNldCkgLT4gW0FueV0ge30KICAgIG9wZW4gZnVuYyBwYXRoc01hdGNoaW5nRXh0ZW5zaW9ucyhfIGZpbHRlclR5cGVzOiBbU3RyaW5nXSkgLT4gW1N0cmluZ10ge30KICAgIG9wZW4gZnVuYyByZXZlcnNlT2JqZWN0RW51bWVyYXRvcigpIC0+IE5TRW51bWVyYXRvciB7fQogICAgb3BlbiBmdW5jIHNvcnRlZEFycmF5KF8gY29tcGFyYXRvcjogKEFueSwgQW55LCBVbnNhZmVNdXRhYmxlUmF3UG9pbnRlcj8pIC0+IEludCwgY29udGV4dDogVW5zYWZlTXV0YWJsZVJhd1BvaW50ZXI/KSAtPiBbQW55XSB7fQogICAgb3BlbiBmdW5jIHNvcnRlZEFycmF5KF8gY29tcGFyYXRvcjogKEFueSwgQW55LCBVbnNhZmVNdXRhYmxlUmF3UG9pbnRlcj8pIC0+IEludCwgY29udGV4dDogVW5zYWZlTXV0YWJsZVJhd1BvaW50ZXI/LCBoaW50OiBEYXRhPykgLT4gW0FueV0ge30KICAgIG9wZW4gZnVuYyBzb3J0ZWRBcnJheShjb21wYXJhdG9yIGNtcHRyOiAoQW55LCBBbnkpIC0+IENvbXBhcmlzb25SZXN1bHQpIC0+IFtBbnldIHt9CiAgICBvcGVuIGZ1bmMgc29ydGVkQXJyYXkob3B0aW9ucyBvcHRzOiBOU1NvcnRPcHRpb25zID0geCwgdXNpbmdDb21wYXJhdG9yIGNtcHRyOiAoQW55LCBBbnkpIC0+IENvbXBhcmlzb25SZXN1bHQpIC0+IFtBbnldIHt9CiAgICBwdWJsaWMgZnVuYyBzb3J0ZWRBcnJheSh1c2luZyBzb3J0RGVzY3JpcHRvcnM6IFtOU1NvcnREZXNjcmlwdG9yXSkgLT4gW0FueV0ge30KICAgIG9wZW4gZnVuYyBzdWJhcnJheSh3aXRoIHJhbmdlOiBOU1JhbmdlKSAtPiBbQW55XSB7fQogICAgb3BlbiBmdW5jIHdyaXRlKHRvIHVybDogVVJMKSB0aHJvd3Mge30KfQpvcGVuIGNsYXNzIE5TQXR0cmlidXRlZFN0cmluZyB7CiAgICBwdWJsaWMgc3RhdGljIHZhciBzdXBwb3J0c1NlY3VyZUNvZGluZzogQm9vbCB7IGdldCB9CiAgICBwdWJsaWMgaW5pdChhdHRyaWJ1dGVkU3RyaW5nOiBOU0F0dHJpYnV0ZWRTdHJpbmcpIHt9CiAgICBwdWJsaWMgcmVxdWlyZWQgaW5pdD8oY29kZXIgYURlY29kZXI6IE5TQ29kZXIpIHt9CiAgICBwdWJsaWMgaW5pdChzdHJpbmc6IFN0cmluZykge30KICAgIHB1YmxpYyBpbml0KHN0cmluZzogU3RyaW5nLCBhdHRyaWJ1dGVzIGF0dHJzOiBbTlNBdHRyaWJ1dGVkU3RyaW5nS2V5OiBBbnldPyA9IHgpIHt9CiAgICBvcGVuIHZhciBsZW5ndGg6IEludCB7IGdldCB9CiAgICBvcGVuIHZhciBzdHJpbmc6IFN0cmluZyB7IGdldCB9CiAgICBvcGVuIGZ1bmMgYXR0cmlidXRlKF8gYXR0ck5hbWU6IE5TQXR0cmlidXRlZFN0cmluZ0tleSwgYXQgbG9jYXRpb246IEludCwgZWZmZWN0aXZlUmFuZ2UgcmFuZ2U6IE5TUmFuZ2VQb2ludGVyPykgLT4gQW55PyB7fQogICAgb3BlbiBmdW5jIGF0dHJpYnV0ZShfIGF0dHJOYW1lOiBOU0F0dHJpYnV0ZWRTdHJpbmdLZXksIGF0IGxvY2F0aW9uOiBJbnQsIGxvbmdlc3RFZmZlY3RpdmVSYW5nZSByYW5nZTogTlNSYW5nZVBvaW50ZXI/LCBpbiByYW5nZUxpbWl0OiBOU1JhbmdlKSAtPiBBbnk/IHt9CiAgICBvcGVuIGZ1bmMgYXR0cmlidXRlZFN1YnN0cmluZyhmcm9tIHJhbmdlOiBOU1JhbmdlKSAtPiBOU0F0dHJpYnV0ZWRTdHJpbmcge30KICAgIG9wZW4gZnVuYyBhdHRyaWJ1dGVzKGF0IGxvY2F0aW9uOiBJbnQsIGVmZmVjdGl2ZVJhbmdlIHJhbmdlOiBOU1JhbmdlUG9pbnRlcj8pIC0+IFtOU0F0dHJpYnV0ZWRTdHJpbmdLZXk6IEFueV0ge30KICAgIG9wZW4gZnVuYyBhdHRyaWJ1dGVzKGF0IGxvY2F0aW9uOiBJbnQsIGxvbmdlc3RFZmZlY3RpdmVSYW5nZSByYW5nZTogTlNSYW5nZVBvaW50ZXI/LCBpbiByYW5nZUxpbWl0OiBOU1JhbmdlKSAtPiBbTlNBdHRyaWJ1dGVkU3RyaW5nS2V5OiBBbnldIHt9CiAgICBvcGVuIGZ1bmMgY29weSgpIC0+IEFueSB7fQogICAgb3BlbiBmdW5jIGNvcHkod2l0aCB6b25lOiBOU1pvbmU/ID0geCkgLT4gQW55IHt9CiAgICBvcGVuIGZ1bmMgZW5jb2RlKHdpdGggYUNvZGVyOiBOU0NvZGVyKSB7fQogICAgb3BlbiBmdW5jIGVudW1lcmF0ZUF0dHJpYnV0ZShfIGF0dHJOYW1lOiBOU0F0dHJpYnV0ZWRTdHJpbmdLZXksIGluIGVudW1lcmF0aW9uUmFuZ2U6IE5TUmFuZ2UsIG9wdGlvbnMgb3B0czogTlNBdHRyaWJ1dGVkU3RyaW5nLkVudW1lcmF0aW9uT3B0aW9ucyA9IHgsIHVzaW5nIGJsb2NrOiAoQW55PywgTlNSYW5nZSwgVW5zYWZlTXV0YWJsZVBvaW50ZXI8T2JqQ0Jvb2w+KSAtPiBTd2lmdC5Wb2lkKSB7fQogICAgb3BlbiBmdW5jIGVudW1lcmF0ZUF0dHJpYnV0ZXMoaW4gZW51bWVyYXRpb25SYW5nZTogTlNSYW5nZSwgb3B0aW9ucyBvcHRzOiBOU0F0dHJpYnV0ZWRTdHJpbmcuRW51bWVyYXRpb25PcHRpb25zID0geCwgdXNpbmcgYmxvY2s6IChbTlNBdHRyaWJ1dGVkU3RyaW5nS2V5OiBBbnldLCBOU1JhbmdlLCBVbnNhZmVNdXRhYmxlUG9pbnRlcjxPYmpDQm9vbD4pIC0+IFN3aWZ0LlZvaWQpIHt9CiAgICBvcGVuIGZ1bmMgaXNFcXVhbCh0byBvdGhlcjogTlNBdHRyaWJ1dGVkU3RyaW5nKSAtPiBCb29sIHt9CiAgICBvcGVuIGZ1bmMgbXV0YWJsZUNvcHkoKSAtPiBBbnkge30KICAgIG9wZW4gZnVuYyBtdXRhYmxlQ29weSh3aXRoIHpvbmU6IE5TWm9uZT8gPSB4KSAtPiBBbnkge30KfQpvcGVuIGNsYXNzIE5TQ2FjaGU8S2V5VHlwZSwgT2JqZWN0VHlwZT4gewogICAgb3BlbiB2YXIgY291bnRMaW1pdDogSW50IHsgZ2V0IHNldCB9CiAgICBvcGVuIHdlYWsgdmFyIGRlbGVnYXRlOiBOU0NhY2hlRGVsZWdhdGU/IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBldmljdHNPYmplY3RzV2l0aERpc2NhcmRlZENvbnRlbnQ6IEJvb2wgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIG5hbWU6IFN0cmluZyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgdG90YWxDb3N0TGltaXQ6IEludCB7IGdldCBzZXQgfQogICAgb3BlbiBmdW5jIG9iamVjdChmb3JLZXkga2V5OiBLZXlUeXBlKSAtPiBPYmplY3RUeXBlPyB7fQogICAgb3BlbiBmdW5jIHJlbW92ZUFsbE9iamVjdHMoKSB7fQogICAgb3BlbiBmdW5jIHJlbW92ZU9iamVjdChmb3JLZXkga2V5OiBLZXlUeXBlKSB7fQogICAgb3BlbiBmdW5jIHNldE9iamVjdChfIG9iajogT2JqZWN0VHlwZSwgZm9yS2V5IGtleTogS2V5VHlwZSkge30KICAgIG9wZW4gZnVuYyBzZXRPYmplY3QoXyBvYmo6IE9iamVjdFR5cGUsIGZvcktleSBrZXk6IEtleVR5cGUsIGNvc3QgZzogSW50KSB7fQp9Cm9wZW4gY2xhc3MgTlNDYWxlbmRhciB7CiAgICBvcGVuIGNsYXNzIHZhciBhdXRvdXBkYXRpbmdDdXJyZW50OiBDYWxlbmRhciB7IGdldCB9CiAgICBvcGVuIGNsYXNzIHZhciBjdXJyZW50OiBDYWxlbmRhciB7IGdldCB9CiAgICBwdWJsaWMgaW5pdD8oY2FsZW5kYXJJZGVudGlmaWVyIGlkZW50OiBJZGVudGlmaWVyKSB7fQogICAgcHVibGljIGluaXQ/KGlkZW50aWZpZXIgY2FsZW5kYXJJZGVudGlmaWVyQ29uc3RhbnQ6IElkZW50aWZpZXIpIHt9CiAgICBvcGVuIHZhciBhbVN5bWJvbDogU3RyaW5nIHsgZ2V0IH0KICAgIG9wZW4gdmFyIGNhbGVuZGFySWRlbnRpZmllcjogSWRlbnRpZmllciB7IGdldCB9CiAgICBvcGVuIHZhciBlcmFTeW1ib2xzOiBbU3RyaW5nXSB7IGdldCB9CiAgICBvcGVuIHZhciBmaXJzdFdlZWtkYXk6IEludCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgbG9jYWxlOiBMb2NhbGU/IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBsb25nRXJhU3ltYm9sczogW1N0cmluZ10geyBnZXQgfQogICAgb3BlbiB2YXIgbWluaW11bURheXNJbkZpcnN0V2VlazogSW50IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBtb250aFN5bWJvbHM6IFtTdHJpbmddIHsgZ2V0IH0KICAgIG9wZW4gdmFyIHBtU3ltYm9sOiBTdHJpbmcgeyBnZXQgfQogICAgb3BlbiB2YXIgcXVhcnRlclN5bWJvbHM6IFtTdHJpbmddIHsgZ2V0IH0KICAgIG9wZW4gdmFyIHNob3J0TW9udGhTeW1ib2xzOiBbU3RyaW5nXSB7IGdldCB9CiAgICBvcGVuIHZhciBzaG9ydFF1YXJ0ZXJTeW1ib2xzOiBbU3RyaW5nXSB7IGdldCB9CiAgICBvcGVuIHZhciBzaG9ydFN0YW5kYWxvbmVNb250aFN5bWJvbHM6IFtTdHJpbmddIHsgZ2V0IH0KICAgIG9wZW4gdmFyIHNob3J0U3RhbmRhbG9uZVF1YXJ0ZXJTeW1ib2xzOiBbU3RyaW5nXSB7IGdldCB9CiAgICBvcGVuIHZhciBzaG9ydFN0YW5kYWxvbmVXZWVrZGF5U3ltYm9sczogW1N0cmluZ10geyBnZXQgfQogICAgb3BlbiB2YXIgc2hvcnRXZWVrZGF5U3ltYm9sczogW1N0cmluZ10geyBnZXQgfQogICAgb3BlbiB2YXIgc3RhbmRhbG9uZU1vbnRoU3ltYm9sczogW1N0cmluZ10geyBnZXQgfQogICAgb3BlbiB2YXIgc3RhbmRhbG9uZVF1YXJ0ZXJTeW1ib2xzOiBbU3RyaW5nXSB7IGdldCB9CiAgICBvcGVuIHZhciBzdGFuZGFsb25lV2Vla2RheVN5bWJvbHM6IFtTdHJpbmddIHsgZ2V0IH0KICAgIG9wZW4gdmFyIHRpbWVab25lOiBUaW1lWm9uZSB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgdmVyeVNob3J0TW9udGhTeW1ib2xzOiBbU3RyaW5nXSB7IGdldCB9CiAgICBvcGVuIHZhciB2ZXJ5U2hvcnRTdGFuZGFsb25lTW9udGhTeW1ib2xzOiBbU3RyaW5nXSB7IGdldCB9CiAgICBvcGVuIHZhciB2ZXJ5U2hvcnRTdGFuZGFsb25lV2Vla2RheVN5bWJvbHM6IFtTdHJpbmddIHsgZ2V0IH0KICAgIG9wZW4gdmFyIHZlcnlTaG9ydFdlZWtkYXlTeW1ib2xzOiBbU3RyaW5nXSB7IGdldCB9CiAgICBvcGVuIHZhciB3ZWVrZGF5U3ltYm9sczogW1N0cmluZ10geyBnZXQgfQogICAgb3BlbiBmdW5jIGNvbXBhcmUoXyBkYXRlMTogRGF0ZSwgdG8gZGF0ZTI6IERhdGUsIHRvVW5pdEdyYW51bGFyaXR5IHVuaXQ6IFVuaXQpIC0+IENvbXBhcmlzb25SZXN1bHQge30KICAgIG9wZW4gZnVuYyBjb21wb25lbnQoXyB1bml0OiBVbml0LCBmcm9tIGRhdGU6IERhdGUpIC0+IEludCB7fQogICAgb3BlbiBmdW5jIGNvbXBvbmVudHMoXyB1bml0RmxhZ3M6IFVuaXQsIGZyb20gZGF0ZTogRGF0ZSkgLT4gRGF0ZUNvbXBvbmVudHMge30KICAgIG9wZW4gZnVuYyBjb21wb25lbnRzKF8gdW5pdEZsYWdzOiBVbml0LCBmcm9tIHN0YXJ0aW5nRGF0ZTogRGF0ZSwgdG8gcmVzdWx0RGF0ZTogRGF0ZSwgb3B0aW9ucyBvcHRzOiBPcHRpb25zID0geCkgLT4gRGF0ZUNvbXBvbmVudHMge30KICAgIG9wZW4gZnVuYyBjb21wb25lbnRzKGluIHRpbWV6b25lOiBUaW1lWm9uZSwgZnJvbSBkYXRlOiBEYXRlKSAtPiBEYXRlQ29tcG9uZW50cyB7fQogICAgb3BlbiBmdW5jIGRhdGUoXyBkYXRlOiBEYXRlLCBtYXRjaGVzQ29tcG9uZW50cyBjb21wb25lbnRzOiBEYXRlQ29tcG9uZW50cykgLT4gQm9vbCB7fQogICAgb3BlbiBmdW5jIGRhdGUoYnlBZGRpbmcgY29tcHM6IERhdGVDb21wb25lbnRzLCB0byBkYXRlOiBEYXRlLCBvcHRpb25zIG9wdHM6IE9wdGlvbnMgPSB4KSAtPiBEYXRlPyB7fQogICAgb3BlbiBmdW5jIGRhdGUoYnlBZGRpbmcgdW5pdDogVW5pdCwgdmFsdWU6IEludCwgdG8gZGF0ZTogRGF0ZSwgb3B0aW9uczogT3B0aW9ucyA9IHgpIC0+IERhdGU/IHt9CiAgICBvcGVuIGZ1bmMgZGF0ZShieVNldHRpbmdIb3VyIGg6IEludCwgbWludXRlIG06IEludCwgc2Vjb25kIHM6IEludCwgb2YgZGF0ZTogRGF0ZSwgb3B0aW9ucyBvcHRzOiBPcHRpb25zID0geCkgLT4gRGF0ZT8ge30KICAgIG9wZW4gZnVuYyBkYXRlKGJ5U2V0dGluZ1VuaXQgdW5pdDogVW5pdCwgdmFsdWUgdjogSW50LCBvZiBkYXRlOiBEYXRlLCBvcHRpb25zIG9wdHM6IE9wdGlvbnMgPSB4KSAtPiBEYXRlPyB7fQogICAgb3BlbiBmdW5jIGRhdGUoZXJhIGVyYVZhbHVlOiBJbnQsIHllYXIgeWVhclZhbHVlOiBJbnQsIG1vbnRoIG1vbnRoVmFsdWU6IEludCwgZGF5IGRheVZhbHVlOiBJbnQsIGhvdXIgaG91clZhbHVlOiBJbnQsIG1pbnV0ZSBtaW51dGVWYWx1ZTogSW50LCBzZWNvbmQgc2Vjb25kVmFsdWU6IEludCwgbmFub3NlY29uZCBuYW5vc2Vjb25kVmFsdWU6IEludCkgLT4gRGF0ZT8ge30KICAgIG9wZW4gZnVuYyBkYXRlKGVyYSBlcmFWYWx1ZTogSW50LCB5ZWFyRm9yV2Vla09mWWVhciB5ZWFyVmFsdWU6IEludCwgd2Vla09mWWVhciB3ZWVrVmFsdWU6IEludCwgd2Vla2RheSB3ZWVrZGF5VmFsdWU6IEludCwgaG91ciBob3VyVmFsdWU6IEludCwgbWludXRlIG1pbnV0ZVZhbHVlOiBJbnQsIHNlY29uZCBzZWNvbmRWYWx1ZTogSW50LCBuYW5vc2Vjb25kIG5hbm9zZWNvbmRWYWx1ZTogSW50KSAtPiBEYXRlPyB7fQogICAgb3BlbiBmdW5jIGRhdGUoZnJvbSBjb21wczogRGF0ZUNvbXBvbmVudHMpIC0+IERhdGU/IHt9CiAgICBvcGVuIGZ1bmMgZW51bWVyYXRlRGF0ZXMoc3RhcnRpbmdBZnRlciBzdGFydDogRGF0ZSwgbWF0Y2hpbmcgY29tcHM6IERhdGVDb21wb25lbnRzLCBvcHRpb25zIG9wdHM6IE5TQ2FsZW5kYXIuT3B0aW9ucyA9IHgsIHVzaW5nIGJsb2NrOiAoRGF0ZT8sIEJvb2wsIFVuc2FmZU11dGFibGVQb2ludGVyPE9iakNCb29sPikgLT4gU3dpZnQuVm9pZCkge30KICAgIG9wZW4gZnVuYyBnZXRFcmEoXyBlcmFWYWx1ZVBvaW50ZXI6IFVuc2FmZU11dGFibGVQb2ludGVyPEludD4/LCB5ZWFyIHllYXJWYWx1ZVBvaW50ZXI6IFVuc2FmZU11dGFibGVQb2ludGVyPEludD4/LCBtb250aCBtb250aFZhbHVlUG9pbnRlcjogVW5zYWZlTXV0YWJsZVBvaW50ZXI8SW50Pj8sIGRheSBkYXlWYWx1ZVBvaW50ZXI6IFVuc2FmZU11dGFibGVQb2ludGVyPEludD4/LCBmcm9tIGRhdGU6IERhdGUpIHt9CiAgICBvcGVuIGZ1bmMgZ2V0RXJhKF8gZXJhVmFsdWVQb2ludGVyOiBVbnNhZmVNdXRhYmxlUG9pbnRlcjxJbnQ+PywgeWVhckZvcldlZWtPZlllYXIgeWVhclZhbHVlUG9pbnRlcjogVW5zYWZlTXV0YWJsZVBvaW50ZXI8SW50Pj8sIHdlZWtPZlllYXIgd2Vla1ZhbHVlUG9pbnRlcjogVW5zYWZlTXV0YWJsZVBvaW50ZXI8SW50Pj8sIHdlZWtkYXkgd2Vla2RheVZhbHVlUG9pbnRlcjogVW5zYWZlTXV0YWJsZVBvaW50ZXI8SW50Pj8sIGZyb20gZGF0ZTogRGF0ZSkge30KICAgIG9wZW4gZnVuYyBnZXRIb3VyKF8gaG91clZhbHVlUG9pbnRlcjogVW5zYWZlTXV0YWJsZVBvaW50ZXI8SW50Pj8sIG1pbnV0ZSBtaW51dGVWYWx1ZVBvaW50ZXI6IFVuc2FmZU11dGFibGVQb2ludGVyPEludD4/LCBzZWNvbmQgc2Vjb25kVmFsdWVQb2ludGVyOiBVbnNhZmVNdXRhYmxlUG9pbnRlcjxJbnQ+PywgbmFub3NlY29uZCBuYW5vc2Vjb25kVmFsdWVQb2ludGVyOiBVbnNhZmVNdXRhYmxlUG9pbnRlcjxJbnQ+PywgZnJvbSBkYXRlOiBEYXRlKSB7fQogICAgb3BlbiBmdW5jIGlzRGF0ZShfIGRhdGUxOiBEYXRlLCBlcXVhbFRvIGRhdGUyOiBEYXRlLCB0b1VuaXRHcmFudWxhcml0eSB1bml0OiBVbml0KSAtPiBCb29sIHt9CiAgICBvcGVuIGZ1bmMgaXNEYXRlKF8gZGF0ZTE6IERhdGUsIGluU2FtZURheUFzIGRhdGUyOiBEYXRlKSAtPiBCb29sIHt9CiAgICBvcGVuIGZ1bmMgaXNEYXRlSW5Ub2RheShfIGRhdGU6IERhdGUpIC0+IEJvb2wge30KICAgIG9wZW4gZnVuYyBpc0RhdGVJblRvbW9ycm93KF8gZGF0ZTogRGF0ZSkgLT4gQm9vbCB7fQogICAgb3BlbiBmdW5jIGlzRGF0ZUluV2Vla2VuZChfIGRhdGU6IERhdGUpIC0+IEJvb2wge30KICAgIG9wZW4gZnVuYyBpc0RhdGVJblllc3RlcmRheShfIGRhdGU6IERhdGUpIC0+IEJvb2wge30KICAgIG9wZW4gZnVuYyBtYXhpbXVtUmFuZ2Uob2YgdW5pdDogVW5pdCkgLT4gTlNSYW5nZSB7fQogICAgb3BlbiBmdW5jIG1pbmltdW1SYW5nZShvZiB1bml0OiBVbml0KSAtPiBOU1JhbmdlIHt9CiAgICBvcGVuIGZ1bmMgbmV4dERhdGUoYWZ0ZXIgZGF0ZTogRGF0ZSwgbWF0Y2hpbmcgY29tcHM6IERhdGVDb21wb25lbnRzLCBvcHRpb25zOiBPcHRpb25zID0geCkgLT4gRGF0ZT8ge30KICAgIG9wZW4gZnVuYyBuZXh0RGF0ZShhZnRlciBkYXRlOiBEYXRlLCBtYXRjaGluZyB1bml0OiBVbml0LCB2YWx1ZTogSW50LCBvcHRpb25zOiBPcHRpb25zID0geCkgLT4gRGF0ZT8ge30KICAgIG9wZW4gZnVuYyBuZXh0RGF0ZShhZnRlciBkYXRlOiBEYXRlLCBtYXRjaGluZ0hvdXIgaG91clZhbHVlOiBJbnQsIG1pbnV0ZSBtaW51dGVWYWx1ZTogSW50LCBzZWNvbmQgc2Vjb25kVmFsdWU6IEludCwgb3B0aW9uczogT3B0aW9ucyA9IHgpIC0+IERhdGU/IHt9CiAgICBvcGVuIGZ1bmMgbmV4dFdlZWtlbmRBZnRlcihfIGRhdGU6IERhdGUsIG9wdGlvbnM6IE9wdGlvbnMpIC0+IERhdGVJbnRlcnZhbD8ge30KICAgIG9wZW4gZnVuYyBvcmRpbmFsaXR5KG9mIHNtYWxsZXI6IFVuaXQsIGluIGxhcmdlcjogVW5pdCwgZm9yIGRhdGU6IERhdGUpIC0+IEludCB7fQogICAgb3BlbiBmdW5jIHJhbmdlKG9mIHVuaXQ6IFVuaXQsIGZvciBkYXRlOiBEYXRlKSAtPiBEYXRlSW50ZXJ2YWw/IHt9CiAgICBvcGVuIGZ1bmMgcmFuZ2Uob2Ygc21hbGxlcjogVW5pdCwgaW4gbGFyZ2VyOiBVbml0LCBmb3IgZGF0ZTogRGF0ZSkgLT4gTlNSYW5nZSB7fQogICAgb3BlbiBmdW5jIHJhbmdlKG9mV2Vla2VuZENvbnRhaW5pbmcgZGF0ZTogRGF0ZSkgLT4gRGF0ZUludGVydmFsPyB7fQogICAgb3BlbiBmdW5jIHN0YXJ0T2ZEYXkoZm9yIGRhdGU6IERhdGUpIC0+IERhdGUge30KfQpvcGVuIGNsYXNzIE5TQ2hhcmFjdGVyU2V0IHsKICAgIG9wZW4gY2xhc3MgdmFyIGFscGhhbnVtZXJpY3M6IENoYXJhY3RlclNldCB7IGdldCB9CiAgICBvcGVuIGNsYXNzIHZhciBjYXBpdGFsaXplZExldHRlcnM6IENoYXJhY3RlclNldCB7IGdldCB9CiAgICBvcGVuIGNsYXNzIHZhciBjb250cm9sQ2hhcmFjdGVyczogQ2hhcmFjdGVyU2V0IHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgdmFyIGRlY2ltYWxEaWdpdHM6IENoYXJhY3RlclNldCB7IGdldCB9CiAgICBvcGVuIGNsYXNzIHZhciBkZWNvbXBvc2FibGVzOiBDaGFyYWN0ZXJTZXQgeyBnZXQgfQogICAgb3BlbiBjbGFzcyB2YXIgaWxsZWdhbENoYXJhY3RlcnM6IENoYXJhY3RlclNldCB7IGdldCB9CiAgICBwdWJsaWMgY2xhc3MgdmFyIGxldHRlcnM6IENoYXJhY3RlclNldCB7IGdldCB9CiAgICBvcGVuIGNsYXNzIHZhciBsb3dlcmNhc2VMZXR0ZXJzOiBDaGFyYWN0ZXJTZXQgeyBnZXQgfQogICAgb3BlbiBjbGFzcyB2YXIgbmV3bGluZXM6IENoYXJhY3RlclNldCB7IGdldCB9CiAgICBvcGVuIGNsYXNzIHZhciBub25CYXNlQ2hhcmFjdGVyczogQ2hhcmFjdGVyU2V0IHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgdmFyIHB1bmN0dWF0aW9uQ2hhcmFjdGVyczogQ2hhcmFjdGVyU2V0IHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgdmFyIHN5bWJvbHM6IENoYXJhY3RlclNldCB7IGdldCB9CiAgICBvcGVuIGNsYXNzIHZhciB1cHBlcmNhc2VMZXR0ZXJzOiBDaGFyYWN0ZXJTZXQgeyBnZXQgfQogICAgb3BlbiBjbGFzcyB2YXIgdXJsRnJhZ21lbnRBbGxvd2VkOiBDaGFyYWN0ZXJTZXQgeyBnZXQgfQogICAgb3BlbiBjbGFzcyB2YXIgdXJsSG9zdEFsbG93ZWQ6IENoYXJhY3RlclNldCB7IGdldCB9CiAgICBvcGVuIGNsYXNzIHZhciB1cmxQYXNzd29yZEFsbG93ZWQ6IENoYXJhY3RlclNldCB7IGdldCB9CiAgICBvcGVuIGNsYXNzIHZhciB1cmxQYXRoQWxsb3dlZDogQ2hhcmFjdGVyU2V0IHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgdmFyIHVybFF1ZXJ5QWxsb3dlZDogQ2hhcmFjdGVyU2V0IHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgdmFyIHVybFVzZXJBbGxvd2VkOiBDaGFyYWN0ZXJTZXQgeyBnZXQgfQogICAgb3BlbiBjbGFzcyB2YXIgd2hpdGVzcGFjZXM6IENoYXJhY3RlclNldCB7IGdldCB9CiAgICBvcGVuIGNsYXNzIHZhciB3aGl0ZXNwYWNlc0FuZE5ld2xpbmVzOiBDaGFyYWN0ZXJTZXQgeyBnZXQgfQogICAgcHVibGljIGluaXQoKSB7fQogICAgcHVibGljIGluaXQoYml0bWFwUmVwcmVzZW50YXRpb24gZGF0YTogRGF0YSkge30KICAgIHB1YmxpYyBpbml0KGNoYXJhY3RlcnNJbiBhU3RyaW5nOiBTdHJpbmcpIHt9CiAgICBwdWJsaWMgcmVxdWlyZWQgY29udmVuaWVuY2UgaW5pdChjb2RlciBhRGVjb2RlcjogTlNDb2Rlcikge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0Pyhjb250ZW50c09mRmlsZSBmTmFtZTogU3RyaW5nKSB7fQogICAgcHVibGljIGluaXQocmFuZ2UgYVJhbmdlOiBOU1JhbmdlKSB7fQogICAgb3BlbiB2YXIgYml0bWFwUmVwcmVzZW50YXRpb246IERhdGEgeyBnZXQgfQogICAgb3BlbiB2YXIgZGVzY3JpcHRpb246IFN0cmluZyB7IGdldCB9CiAgICBvcGVuIHZhciBoYXNoOiBJbnQgeyBnZXQgfQogICAgb3BlbiB2YXIgaW52ZXJ0ZWQ6IENoYXJhY3RlclNldCB7IGdldCB9CiAgICBvcGVuIGZ1bmMgY2hhcmFjdGVySXNNZW1iZXIoXyBhQ2hhcmFjdGVyOiB1bmljaGFyKSAtPiBCb29sIHt9CiAgICBvcGVuIGZ1bmMgY29weSgpIC0+IEFueSB7fQogICAgb3BlbiBmdW5jIGNvcHkod2l0aCB6b25lOiBOU1pvbmU/ID0geCkgLT4gQW55IHt9CiAgICBvcGVuIGZ1bmMgZW5jb2RlKHdpdGggYUNvZGVyOiBOU0NvZGVyKSB7fQogICAgb3BlbiBmdW5jIGhhc01lbWJlckluUGxhbmUoXyB0aGVQbGFuZTogVUludDgpIC0+IEJvb2wge30KICAgIG9wZW4gZnVuYyBpc0VxdWFsKF8gdmFsdWU6IEFueT8pIC0+IEJvb2wge30KICAgIG9wZW4gZnVuYyBpc1N1cGVyc2V0KG9mIHRoZU90aGVyU2V0OiBDaGFyYWN0ZXJTZXQpIC0+IEJvb2wge30KICAgIG9wZW4gZnVuYyBsb25nQ2hhcmFjdGVySXNNZW1iZXIoXyB0aGVMb25nQ2hhcjogVUludDMyKSAtPiBCb29sIHt9CiAgICBvcGVuIGZ1bmMgbXV0YWJsZUNvcHkoKSAtPiBBbnkge30KICAgIG9wZW4gZnVuYyBtdXRhYmxlQ29weSh3aXRoIHpvbmU6IE5TWm9uZT8gPSB4KSAtPiBBbnkge30KfQpvcGVuIGNsYXNzIE5TQ29kZXIgewogICAgb3BlbiB2YXIgYWxsb3dlZENsYXNzZXM6IFtBbnlDbGFzc10/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGFsbG93c0tleWVkQ29kaW5nOiBCb29sIHsgZ2V0IH0KICAgIG9wZW4gdmFyIGRlY29kaW5nRmFpbHVyZVBvbGljeTogTlNDb2Rlci5EZWNvZGluZ0ZhaWx1cmVQb2xpY3kgeyBnZXQgfQogICAgb3BlbiB2YXIgZXJyb3I6IEVycm9yPyB7IGdldCB9CiAgICBvcGVuIHZhciByZXF1aXJlc1NlY3VyZUNvZGluZzogQm9vbCB7IGdldCB9CiAgICBvcGVuIHZhciBzeXN0ZW1WZXJzaW9uOiBVSW50MzIgeyBnZXQgfQogICAgb3BlbiBmdW5jIGNvbnRhaW5zVmFsdWUoZm9yS2V5IGtleTogU3RyaW5nKSAtPiBCb29sIHt9CiAgICBvcGVuIGZ1bmMgZGVjb2RlQXJyYXkob2ZPYmpDVHlwZSBpdGVtVHlwZTogVW5zYWZlUG9pbnRlcjxJbnQ4PiwgY291bnQ6IEludCwgYXQgYXJyYXk6IFVuc2FmZU11dGFibGVSYXdQb2ludGVyKSB7fQogICAgb3BlbiBmdW5jIGRlY29kZUJvb2woZm9yS2V5IGtleTogU3RyaW5nKSAtPiBCb29sIHt9CiAgICBvcGVuIGZ1bmMgZGVjb2RlQ0ludChmb3JLZXkga2V5OiBTdHJpbmcpIC0+IEludDMyIHt9CiAgICBvcGVuIGZ1bmMgZGVjb2RlRGF0YSgpIC0+IERhdGE/IHt9CiAgICBvcGVuIGZ1bmMgZGVjb2RlRG91YmxlKGZvcktleSBrZXk6IFN0cmluZykgLT4gRG91YmxlIHt9CiAgICBvcGVuIGZ1bmMgZGVjb2RlRmxvYXQoZm9yS2V5IGtleTogU3RyaW5nKSAtPiBGbG9hdCB7fQogICAgb3BlbiBmdW5jIGRlY29kZUludDMyKGZvcktleSBrZXk6IFN0cmluZykgLT4gSW50MzIge30KICAgIG9wZW4gZnVuYyBkZWNvZGVJbnQ2NChmb3JLZXkga2V5OiBTdHJpbmcpIC0+IEludDY0IHt9CiAgICBvcGVuIGZ1bmMgZGVjb2RlSW50ZWdlcihmb3JLZXkga2V5OiBTdHJpbmcpIC0+IEludCB7fQogICAgb3BlbiBmdW5jIGRlY29kZU9iamVjdCgpIC0+IEFueT8ge30KICAgIG9wZW4gZnVuYyBkZWNvZGVPYmplY3QoZm9yS2V5IGtleTogU3RyaW5nKSAtPiBBbnk/IHt9CiAgICBvcGVuIGZ1bmMgZGVjb2RlT2JqZWN0KG9mIGNsYXNzZXM6IFtBbnlDbGFzc10/LCBmb3JLZXkga2V5OiBTdHJpbmcpIC0+IEFueT8ge30KICAgIHB1YmxpYyBmdW5jIGRlY29kZVBvaW50KCkgLT4gTlNQb2ludCB7fQogICAgcHVibGljIGZ1bmMgZGVjb2RlUG9pbnQoZm9yS2V5IGtleTogU3RyaW5nKSAtPiBOU1BvaW50IHt9CiAgICBvcGVuIGZ1bmMgZGVjb2RlUHJvcGVydHlMaXN0KCkgLT4gQW55PyB7fQogICAgb3BlbiBmdW5jIGRlY29kZVByb3BlcnR5TGlzdChmb3JLZXkga2V5OiBTdHJpbmcpIC0+IEFueT8ge30KICAgIHB1YmxpYyBmdW5jIGRlY29kZVJlY3QoKSAtPiBOU1JlY3Qge30KICAgIHB1YmxpYyBmdW5jIGRlY29kZVJlY3QoZm9yS2V5IGtleTogU3RyaW5nKSAtPiBOU1JlY3Qge30KICAgIHB1YmxpYyBmdW5jIGRlY29kZVNpemUoKSAtPiBOU1NpemUge30KICAgIHB1YmxpYyBmdW5jIGRlY29kZVNpemUoZm9yS2V5IGtleTogU3RyaW5nKSAtPiBOU1NpemUge30KICAgIG9wZW4gZnVuYyBkZWNvZGVUb3BMZXZlbE9iamVjdCgpIHRocm93cyAtPiBBbnk/IHt9CiAgICBvcGVuIGZ1bmMgZGVjb2RlVG9wTGV2ZWxPYmplY3QoZm9yS2V5IGtleTogU3RyaW5nKSB0aHJvd3MgLT4gQW55PyB7fQogICAgb3BlbiBmdW5jIGRlY29kZVRvcExldmVsT2JqZWN0KG9mIGNsYXNzZXM6IFtBbnlDbGFzc10sIGZvcktleSBrZXk6IFN0cmluZykgdGhyb3dzIC0+IEFueT8ge30KICAgIG9wZW4gZnVuYyBkZWNvZGVWYWx1ZShvZk9iakNUeXBlIHR5cGU6IFVuc2FmZVBvaW50ZXI8SW50OD4sIGF0IGRhdGE6IFVuc2FmZU11dGFibGVSYXdQb2ludGVyKSB7fQogICAgb3BlbiBmdW5jIGVuY29kZShfIGRhdGE6IERhdGEpIHt9CiAgICBvcGVuIGZ1bmMgZW5jb2RlKF8gb2JqZWN0OiBBbnk/KSB7fQogICAgb3BlbiBmdW5jIGVuY29kZShfIGJvb2x2OiBCb29sLCBmb3JLZXkga2V5OiBTdHJpbmcpIHt9CiAgICBvcGVuIGZ1bmMgZW5jb2RlKF8gaW50djogSW50LCBmb3JLZXkga2V5OiBTdHJpbmcpIHt9CiAgICBvcGVuIGZ1bmMgZW5jb2RlKF8gaW50djogSW50MzIsIGZvcktleSBrZXk6IFN0cmluZykge30KICAgIG9wZW4gZnVuYyBlbmNvZGUoXyBpbnR2OiBJbnQ2NCwgZm9yS2V5IGtleTogU3RyaW5nKSB7fQogICAgb3BlbiBmdW5jIGVuY29kZShfIG9ianY6IEFueT8sIGZvcktleSBrZXk6IFN0cmluZykge30KICAgIG9wZW4gZnVuYyBlbmNvZGUoXyByZWFsdjogRG91YmxlLCBmb3JLZXkga2V5OiBTdHJpbmcpIHt9CiAgICBvcGVuIGZ1bmMgZW5jb2RlQXJyYXkob2ZPYmpDVHlwZSB0eXBlOiBVbnNhZmVQb2ludGVyPEludDg+LCBjb3VudDogSW50LCBhdCBhcnJheTogVW5zYWZlUmF3UG9pbnRlcikge30KICAgIG9wZW4gZnVuYyBlbmNvZGVCeWNvcHlPYmplY3QoXyBhbk9iamVjdDogQW55Pykge30KICAgIG9wZW4gZnVuYyBlbmNvZGVCeXJlZk9iamVjdChfIGFuT2JqZWN0OiBBbnk/KSB7fQogICAgb3BlbiBmdW5jIGVuY29kZUJ5dGVzKF8gYnl0ZWFkZHI6IFVuc2FmZVJhd1BvaW50ZXI/LCBsZW5ndGg6IEludCkge30KICAgIG9wZW4gZnVuYyBlbmNvZGVCeXRlcyhfIGJ5dGVzcDogVW5zYWZlUG9pbnRlcjxVSW50OD4/LCBsZW5ndGggbGVudjogSW50LCBmb3JLZXkga2V5OiBTdHJpbmcpIHt9CiAgICBvcGVuIGZ1bmMgZW5jb2RlQ29uZGl0aW9uYWxPYmplY3QoXyBvYmplY3Q6IEFueT8pIHt9CiAgICBvcGVuIGZ1bmMgZW5jb2RlQ29uZGl0aW9uYWxPYmplY3QoXyBvYmp2OiBBbnk/LCBmb3JLZXkga2V5OiBTdHJpbmcpIHt9CiAgICBvcGVuIGZ1bmMgZW5jb2RlUHJvcGVydHlMaXN0KF8gYVByb3BlcnR5TGlzdDogQW55KSB7fQogICAgb3BlbiBmdW5jIGVuY29kZVJvb3RPYmplY3QoXyByb290T2JqZWN0OiBBbnkpIHt9CiAgICBvcGVuIGZ1bmMgZW5jb2RlVmFsdWUob2ZPYmpDVHlwZSB0eXBlOiBVbnNhZmVQb2ludGVyPEludDg+LCBhdCBhZGRyOiBVbnNhZmVSYXdQb2ludGVyKSB7fQogICAgb3BlbiBmdW5jIGZhaWxXaXRoRXJyb3IoXyBlcnJvcjogRXJyb3IpIHt9CiAgICBvcGVuIGZ1bmMgdmVyc2lvbihmb3JDbGFzc05hbWUgY2xhc3NOYW1lOiBTdHJpbmcpIC0+IEludCB7fQogICAgb3BlbiBmdW5jIHdpdGhEZWNvZGVkVW5zYWZlQnVmZmVyUG9pbnRlcjxSZXN1bHRUeXBlPihmb3JLZXkga2V5OiBTdHJpbmcsIGJvZHk6IChVbnNhZmVCdWZmZXJQb2ludGVyPFVJbnQ4Pj8pIHRocm93cyAtPiBSZXN1bHRUeXBlKSByZXRocm93cyAtPiBSZXN1bHRUeXBlIHt9Cn0Kb3BlbiBjbGFzcyBOU0NvbXBhcmlzb25QcmVkaWNhdGUgewogICAgcHVibGljIGluaXQobGVmdEV4cHJlc3Npb24gbGhzOiBOU0V4cHJlc3Npb24sIHJpZ2h0RXhwcmVzc2lvbiByaHM6IE5TRXhwcmVzc2lvbiwgbW9kaWZpZXI6IE1vZGlmaWVyLCB0eXBlOiBPcGVyYXRvciwgb3B0aW9uczogT3B0aW9ucykge30KICAgIG9wZW4gdmFyIGNvbXBhcmlzb25QcmVkaWNhdGVNb2RpZmllcjogTW9kaWZpZXIgeyBnZXQgfQogICAgb3BlbiB2YXIgbGVmdEV4cHJlc3Npb246IE5TRXhwcmVzc2lvbiB7IGdldCB9CiAgICBvcGVuIHZhciBvcHRpb25zOiBPcHRpb25zIHsgZ2V0IH0KICAgIG9wZW4gdmFyIHByZWRpY2F0ZU9wZXJhdG9yVHlwZTogT3BlcmF0b3IgeyBnZXQgfQogICAgb3BlbiB2YXIgcmlnaHRFeHByZXNzaW9uOiBOU0V4cHJlc3Npb24geyBnZXQgfQp9Cm9wZW4gY2xhc3MgTlNDb21wb3VuZFByZWRpY2F0ZSB7CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdChhbmRQcmVkaWNhdGVXaXRoU3VicHJlZGljYXRlcyBzdWJwcmVkaWNhdGVzOiBbTlNQcmVkaWNhdGVdKSB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQobm90UHJlZGljYXRlV2l0aFN1YnByZWRpY2F0ZSBwcmVkaWNhdGU6IE5TUHJlZGljYXRlKSB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQob3JQcmVkaWNhdGVXaXRoU3VicHJlZGljYXRlcyBzdWJwcmVkaWNhdGVzOiBbTlNQcmVkaWNhdGVdKSB7fQogICAgcHVibGljIGluaXQodHlwZTogTG9naWNhbFR5cGUsIHN1YnByZWRpY2F0ZXM6IFtOU1ByZWRpY2F0ZV0pIHt9CiAgICBvcGVuIHZhciBjb21wb3VuZFByZWRpY2F0ZVR5cGU6IExvZ2ljYWxUeXBlIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBzdWJwcmVkaWNhdGVzOiBbTlNQcmVkaWNhdGVdIHsgZ2V0IHNldCB9Cn0Kb3BlbiBjbGFzcyBOU0NvbmRpdGlvbiB7CiAgICBvcGVuIHZhciBuYW1lOiBTdHJpbmc/IHsgZ2V0IHNldCB9CiAgICBvcGVuIGZ1bmMgYnJvYWRjYXN0KCkge30KICAgIG9wZW4gZnVuYyBzaWduYWwoKSB7fQogICAgb3BlbiBmdW5jIHdhaXQoKSB7fQogICAgb3BlbiBmdW5jIHdhaXQodW50aWwgbGltaXQ6IERhdGUpIC0+IEJvb2wge30KfQpvcGVuIGNsYXNzIE5TQ29uZGl0aW9uTG9jayB7CiAgICBwdWJsaWMgaW5pdChjb25kaXRpb246IEludCkge30KICAgIG9wZW4gdmFyIGNvbmRpdGlvbjogSW50IHsgZ2V0IH0KICAgIG9wZW4gdmFyIG5hbWU6IFN0cmluZz8geyBnZXQgc2V0IH0KICAgIG9wZW4gZnVuYyBsb2NrKGJlZm9yZSBsaW1pdDogRGF0ZSkgLT4gQm9vbCB7fQogICAgb3BlbiBmdW5jIGxvY2sod2hlbkNvbmRpdGlvbiBjb25kaXRpb246IEludCkge30KICAgIG9wZW4gZnVuYyBsb2NrKHdoZW5Db25kaXRpb24gY29uZGl0aW9uOiBJbnQsIGJlZm9yZSBsaW1pdDogRGF0ZSkgLT4gQm9vbCB7fQogICAgb3BlbiBmdW5jIHRyeSgpIC0+IEJvb2wge30KICAgIG9wZW4gZnVuYyB0cnlMb2NrKHdoZW5Db25kaXRpb24gY29uZGl0aW9uOiBJbnQpIC0+IEJvb2wge30KICAgIG9wZW4gZnVuYyB1bmxvY2sod2l0aENvbmRpdGlvbiBjb25kaXRpb246IEludCkge30KfQpvcGVuIGNsYXNzIE5TQ291bnRlZFNldCB7CiAgICBvcGVuIGZ1bmMgY291bnQoZm9yIG9iamVjdDogQW55KSAtPiBJbnQge30KfQpvcGVuIGNsYXNzIE5TRGF0YSB7CiAgICBwdWJsaWMgaW5pdD8oYmFzZTY0RW5jb2RlZCBiYXNlNjREYXRhOiBEYXRhLCBvcHRpb25zOiBCYXNlNjREZWNvZGluZ09wdGlvbnMgPSB4KSB7fQogICAgcHVibGljIGluaXQ/KGJhc2U2NEVuY29kZWQgYmFzZTY0U3RyaW5nOiBTdHJpbmcsIG9wdGlvbnM6IEJhc2U2NERlY29kaW5nT3B0aW9ucyA9IHgpIHt9CiAgICBwdWJsaWMgaW5pdChieXRlczogVW5zYWZlUmF3UG9pbnRlcj8sIGxlbmd0aDogSW50KSB7fQogICAgcHVibGljIGluaXQoYnl0ZXNOb0NvcHkgYnl0ZXM6IFVuc2FmZU11dGFibGVSYXdQb2ludGVyLCBsZW5ndGg6IEludCkge30KICAgIHB1YmxpYyBpbml0KGJ5dGVzTm9Db3B5IGJ5dGVzOiBVbnNhZmVNdXRhYmxlUmF3UG9pbnRlciwgbGVuZ3RoOiBJbnQsIGRlYWxsb2NhdG9yOiAoKFVuc2FmZU11dGFibGVSYXdQb2ludGVyLCBJbnQpIC0+IFZvaWQpPyA9IHgpIHt9CiAgICBwdWJsaWMgaW5pdChieXRlc05vQ29weSBieXRlczogVW5zYWZlTXV0YWJsZVJhd1BvaW50ZXIsIGxlbmd0aDogSW50LCBmcmVlV2hlbkRvbmU6IEJvb2wpIHt9CiAgICBwdWJsaWMgaW5pdD8oY29udGVudHNPZiB1cmw6IFVSTCkge30KICAgIHB1YmxpYyBpbml0KGNvbnRlbnRzT2YgdXJsOiBVUkwsIG9wdGlvbnMgcmVhZE9wdGlvbnNNYXNrOiBSZWFkaW5nT3B0aW9ucyA9IHgpIHRocm93cyB7fQogICAgcHVibGljIGluaXQ/KGNvbnRlbnRzT2ZGaWxlIHBhdGg6IFN0cmluZykge30KICAgIHB1YmxpYyBpbml0KGNvbnRlbnRzT2ZGaWxlIHBhdGg6IFN0cmluZywgb3B0aW9ucyByZWFkT3B0aW9uc01hc2s6IFJlYWRpbmdPcHRpb25zID0geCkgdGhyb3dzIHt9CiAgICBwdWJsaWMgaW5pdChkYXRhOiBEYXRhKSB7fQogICAgb3BlbiB2YXIgYnl0ZXM6IFVuc2FmZVJhd1BvaW50ZXIgeyBnZXQgfQogICAgb3BlbiB2YXIgbGVuZ3RoOiBJbnQgeyBnZXQgfQogICAgb3BlbiBmdW5jIGJhc2U2NEVuY29kZWREYXRhKG9wdGlvbnM6IEJhc2U2NEVuY29kaW5nT3B0aW9ucyA9IHgpIC0+IERhdGEge30KICAgIG9wZW4gZnVuYyBiYXNlNjRFbmNvZGVkU3RyaW5nKG9wdGlvbnM6IEJhc2U2NEVuY29kaW5nT3B0aW9ucyA9IHgpIC0+IFN0cmluZyB7fQogICAgb3BlbiBmdW5jIGVudW1lcmF0ZUJ5dGVzKF8gYmxvY2s6IChVbnNhZmVSYXdQb2ludGVyLCBOU1JhbmdlLCBVbnNhZmVNdXRhYmxlUG9pbnRlcjxCb29sPikgLT4gVm9pZCkge30KICAgIG9wZW4gZnVuYyBnZXRCeXRlcyhfIGJ1ZmZlcjogVW5zYWZlTXV0YWJsZVJhd1BvaW50ZXIsIGxlbmd0aDogSW50KSB7fQogICAgb3BlbiBmdW5jIGdldEJ5dGVzKF8gYnVmZmVyOiBVbnNhZmVNdXRhYmxlUmF3UG9pbnRlciwgcmFuZ2U6IE5TUmFuZ2UpIHt9CiAgICBvcGVuIGZ1bmMgaXNFcXVhbCh0byBvdGhlcjogRGF0YSkgLT4gQm9vbCB7fQogICAgb3BlbiBmdW5jIHJhbmdlKG9mIGRhdGFUb0ZpbmQ6IERhdGEsIG9wdGlvbnMgbWFzazogU2VhcmNoT3B0aW9ucyA9IHgsIGluIHNlYXJjaFJhbmdlOiBOU1JhbmdlKSAtPiBOU1JhbmdlIHt9CiAgICBvcGVuIGZ1bmMgc3ViZGF0YSh3aXRoIHJhbmdlOiBOU1JhbmdlKSAtPiBEYXRhIHt9CiAgICBvcGVuIGZ1bmMgd3JpdGUodG8gdXJsOiBVUkwsIGF0b21pY2FsbHk6IEJvb2wpIC0+IEJvb2wge30KICAgIG9wZW4gZnVuYyB3cml0ZSh0byB1cmw6IFVSTCwgb3B0aW9ucyB3cml0ZU9wdGlvbnNNYXNrOiBXcml0aW5nT3B0aW9ucyA9IHgpIHRocm93cyB7fQogICAgb3BlbiBmdW5jIHdyaXRlKHRvRmlsZSBwYXRoOiBTdHJpbmcsIGF0b21pY2FsbHkgdXNlQXV4aWxpYXJ5RmlsZTogQm9vbCkgLT4gQm9vbCB7fQogICAgb3BlbiBmdW5jIHdyaXRlKHRvRmlsZSBwYXRoOiBTdHJpbmcsIG9wdGlvbnMgd3JpdGVPcHRpb25zTWFzazogV3JpdGluZ09wdGlvbnMgPSB4KSB0aHJvd3Mge30KfQpvcGVuIGNsYXNzIE5TRGF0ZSB7CiAgICBvcGVuIGNsYXNzIHZhciBkaXN0YW50RnV0dXJlOiBEYXRlIHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgdmFyIGRpc3RhbnRQYXN0OiBEYXRlIHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgdmFyIHRpbWVJbnRlcnZhbFNpbmNlUmVmZXJlbmNlRGF0ZTogVGltZUludGVydmFsIHsgZ2V0IH0KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KHRpbWVJbnRlcnZhbCBzZWNzVG9CZUFkZGVkOiBUaW1lSW50ZXJ2YWwsIHNpbmNlIGRhdGU6IERhdGUpIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdCh0aW1lSW50ZXJ2YWxTaW5jZTE5NzAgc2VjczogVGltZUludGVydmFsKSB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQodGltZUludGVydmFsU2luY2VOb3cgc2VjczogVGltZUludGVydmFsKSB7fQogICAgcHVibGljIHJlcXVpcmVkIGluaXQodGltZUludGVydmFsU2luY2VSZWZlcmVuY2VEYXRlIHRpOiBUaW1lSW50ZXJ2YWwpIHt9CiAgICBvcGVuIHZhciB0aW1lSW50ZXJ2YWxTaW5jZTE5NzA6IFRpbWVJbnRlcnZhbCB7IGdldCB9CiAgICBvcGVuIHZhciB0aW1lSW50ZXJ2YWxTaW5jZU5vdzogVGltZUludGVydmFsIHsgZ2V0IH0KICAgIG9wZW4gdmFyIHRpbWVJbnRlcnZhbFNpbmNlUmVmZXJlbmNlRGF0ZTogVGltZUludGVydmFsIHsgZ2V0IH0KICAgIG9wZW4gZnVuYyBhZGRpbmdUaW1lSW50ZXJ2YWwoXyB0aTogVGltZUludGVydmFsKSAtPiBEYXRlIHt9CiAgICBvcGVuIGZ1bmMgY29tcGFyZShfIG90aGVyOiBEYXRlKSAtPiBDb21wYXJpc29uUmVzdWx0IHt9CiAgICBvcGVuIGZ1bmMgZGVzY3JpcHRpb24od2l0aCBsb2NhbGU6IExvY2FsZT8pIC0+IFN0cmluZyB7fQogICAgb3BlbiBmdW5jIGVhcmxpZXJEYXRlKF8gYW5vdGhlckRhdGU6IERhdGUpIC0+IERhdGUge30KICAgIG9wZW4gZnVuYyBpc0VxdWFsKHRvIG90aGVyRGF0ZTogRGF0ZSkgLT4gQm9vbCB7fQogICAgb3BlbiBmdW5jIGxhdGVyRGF0ZShfIGFub3RoZXJEYXRlOiBEYXRlKSAtPiBEYXRlIHt9CiAgICBvcGVuIGZ1bmMgdGltZUludGVydmFsU2luY2UoXyBhbm90aGVyRGF0ZTogRGF0ZSkgLT4gVGltZUludGVydmFsIHt9Cn0Kb3BlbiBjbGFzcyBOU0RhdGVDb21wb25lbnRzIHsKICAgIG9wZW4gdmFyIGNhbGVuZGFyOiBDYWxlbmRhcj8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGRhdGU6IERhdGU/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGRheTogSW50IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBlcmE6IEludCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgaG91cjogSW50IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBpc0xlYXBNb250aDogQm9vbCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgaXNWYWxpZERhdGU6IEJvb2wgeyBnZXQgfQogICAgb3BlbiB2YXIgbWludXRlOiBJbnQgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIG1vbnRoOiBJbnQgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIG5hbm9zZWNvbmQ6IEludCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgcXVhcnRlcjogSW50IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBzZWNvbmQ6IEludCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgdGltZVpvbmU6IFRpbWVab25lPyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgd2Vla09mTW9udGg6IEludCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgd2Vla09mWWVhcjogSW50IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciB3ZWVrZGF5OiBJbnQgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHdlZWtkYXlPcmRpbmFsOiBJbnQgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHllYXI6IEludCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgeWVhckZvcldlZWtPZlllYXI6IEludCB7IGdldCBzZXQgfQogICAgb3BlbiBmdW5jIGlzVmFsaWREYXRlKGluIGNhbGVuZGFyOiBDYWxlbmRhcikgLT4gQm9vbCB7fQogICAgb3BlbiBmdW5jIHNldFZhbHVlKF8gdmFsdWU6IEludCwgZm9yQ29tcG9uZW50IHVuaXQ6IE5TQ2FsZW5kYXIuVW5pdCkge30KICAgIG9wZW4gZnVuYyB2YWx1ZShmb3JDb21wb25lbnQgdW5pdDogTlNDYWxlbmRhci5Vbml0KSAtPiBJbnQge30KfQpvcGVuIGNsYXNzIE5TRGF0ZUludGVydmFsIHsKICAgIHB1YmxpYyBpbml0KHN0YXJ0IHN0YXJ0RGF0ZTogRGF0ZSwgZHVyYXRpb246IFRpbWVJbnRlcnZhbCkge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KHN0YXJ0IHN0YXJ0RGF0ZTogRGF0ZSwgZW5kIGVuZERhdGU6IERhdGUpIHt9CiAgICBvcGVuIHZhciBkdXJhdGlvbjogVGltZUludGVydmFsIHsgZ2V0IH0KICAgIG9wZW4gdmFyIGVuZERhdGU6IERhdGUgeyBnZXQgfQogICAgb3BlbiB2YXIgc3RhcnREYXRlOiBEYXRlIHsgZ2V0IH0KICAgIG9wZW4gZnVuYyBjb21wYXJlKF8gZGF0ZUludGVydmFsOiBEYXRlSW50ZXJ2YWwpIC0+IENvbXBhcmlzb25SZXN1bHQge30KICAgIG9wZW4gZnVuYyBjb250YWlucyhfIGRhdGU6IERhdGUpIC0+IEJvb2wge30KICAgIG9wZW4gZnVuYyBpbnRlcnNlY3Rpb24od2l0aCBkYXRlSW50ZXJ2YWw6IERhdGVJbnRlcnZhbCkgLT4gRGF0ZUludGVydmFsPyB7fQogICAgb3BlbiBmdW5jIGludGVyc2VjdHMoXyBkYXRlSW50ZXJ2YWw6IERhdGVJbnRlcnZhbCkgLT4gQm9vbCB7fQogICAgb3BlbiBmdW5jIGlzRXF1YWwodG8gZGF0ZUludGVydmFsOiBEYXRlSW50ZXJ2YWwpIC0+IEJvb2wge30KfQpvcGVuIGNsYXNzIE5TRGVjaW1hbE51bWJlciB7CiAgICBvcGVuIGNsYXNzIHZhciBkZWZhdWx0QmVoYXZpb3I6IE5TRGVjaW1hbE51bWJlckJlaGF2aW9ycyB7IGdldCB9CiAgICBvcGVuIGNsYXNzIHZhciBtYXhpbXVtOiBOU0RlY2ltYWxOdW1iZXIgeyBnZXQgfQogICAgb3BlbiBjbGFzcyB2YXIgbWluaW11bTogTlNEZWNpbWFsTnVtYmVyIHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgdmFyIG5vdEFOdW1iZXI6IE5TRGVjaW1hbE51bWJlciB7IGdldCB9CiAgICBvcGVuIGNsYXNzIHZhciBvbmU6IE5TRGVjaW1hbE51bWJlciB7IGdldCB9CiAgICBvcGVuIGNsYXNzIHZhciB6ZXJvOiBOU0RlY2ltYWxOdW1iZXIgeyBnZXQgfQogICAgcHVibGljIGluaXQoZGVjaW1hbCBkY206IERlY2ltYWwpIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdChtYW50aXNzYTogVUludDY0LCBleHBvbmVudDogSW50MTYsIGlzTmVnYXRpdmU6IEJvb2wpIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdChzdHJpbmcgbnVtYmVyVmFsdWU6IFN0cmluZz8pIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdChzdHJpbmcgbnVtYmVyVmFsdWU6IFN0cmluZz8sIGxvY2FsZTogQW55Pykge30KICAgIG9wZW4gZnVuYyBhZGRpbmcoXyBvdGhlcjogTlNEZWNpbWFsTnVtYmVyKSAtPiBOU0RlY2ltYWxOdW1iZXIge30KICAgIG9wZW4gZnVuYyBhZGRpbmcoXyBvdGhlcjogTlNEZWNpbWFsTnVtYmVyLCB3aXRoQmVoYXZpb3IgYjogTlNEZWNpbWFsTnVtYmVyQmVoYXZpb3JzPykgLT4gTlNEZWNpbWFsTnVtYmVyIHt9CiAgICBvcGVuIGZ1bmMgZGl2aWRpbmcoYnkgb3RoZXI6IE5TRGVjaW1hbE51bWJlcikgLT4gTlNEZWNpbWFsTnVtYmVyIHt9CiAgICBvcGVuIGZ1bmMgZGl2aWRpbmcoYnkgb3RoZXI6IE5TRGVjaW1hbE51bWJlciwgd2l0aEJlaGF2aW9yIGI6IE5TRGVjaW1hbE51bWJlckJlaGF2aW9ycz8pIC0+IE5TRGVjaW1hbE51bWJlciB7fQogICAgb3BlbiBmdW5jIG11bHRpcGx5aW5nKGJ5IG90aGVyOiBOU0RlY2ltYWxOdW1iZXIpIC0+IE5TRGVjaW1hbE51bWJlciB7fQogICAgb3BlbiBmdW5jIG11bHRpcGx5aW5nKGJ5IG90aGVyOiBOU0RlY2ltYWxOdW1iZXIsIHdpdGhCZWhhdmlvciBiOiBOU0RlY2ltYWxOdW1iZXJCZWhhdmlvcnM/KSAtPiBOU0RlY2ltYWxOdW1iZXIge30KICAgIG9wZW4gZnVuYyBtdWx0aXBseWluZyhieVBvd2VyT2YxMCBwb3dlcjogSW50MTYpIC0+IE5TRGVjaW1hbE51bWJlciB7fQogICAgb3BlbiBmdW5jIG11bHRpcGx5aW5nKGJ5UG93ZXJPZjEwIHBvd2VyOiBJbnQxNiwgd2l0aEJlaGF2aW9yIGI6IE5TRGVjaW1hbE51bWJlckJlaGF2aW9ycz8pIC0+IE5TRGVjaW1hbE51bWJlciB7fQogICAgb3BlbiBmdW5jIHJhaXNpbmcodG9Qb3dlciBwb3dlcjogSW50KSAtPiBOU0RlY2ltYWxOdW1iZXIge30KICAgIG9wZW4gZnVuYyByYWlzaW5nKHRvUG93ZXIgcG93ZXI6IEludCwgd2l0aEJlaGF2aW9yIGI6IE5TRGVjaW1hbE51bWJlckJlaGF2aW9ycz8pIC0+IE5TRGVjaW1hbE51bWJlciB7fQogICAgb3BlbiBmdW5jIHJvdW5kaW5nKGFjY29yZGluZ1RvQmVoYXZpb3IgYjogTlNEZWNpbWFsTnVtYmVyQmVoYXZpb3JzPykgLT4gTlNEZWNpbWFsTnVtYmVyIHt9CiAgICBvcGVuIGZ1bmMgc3VidHJhY3RpbmcoXyBvdGhlcjogTlNEZWNpbWFsTnVtYmVyKSAtPiBOU0RlY2ltYWxOdW1iZXIge30KICAgIG9wZW4gZnVuYyBzdWJ0cmFjdGluZyhfIG90aGVyOiBOU0RlY2ltYWxOdW1iZXIsIHdpdGhCZWhhdmlvciBiOiBOU0RlY2ltYWxOdW1iZXJCZWhhdmlvcnM/KSAtPiBOU0RlY2ltYWxOdW1iZXIge30KfQpvcGVuIGNsYXNzIE5TRGVjaW1hbE51bWJlckhhbmRsZXIgewogICAgb3BlbiBjbGFzcyB2YXIgZGVmYXVsdDogTlNEZWNpbWFsTnVtYmVySGFuZGxlciB7IGdldCB9CiAgICBwdWJsaWMgaW5pdChyb3VuZGluZ01vZGU6IE5TRGVjaW1hbE51bWJlci5Sb3VuZGluZ01vZGUsIHNjYWxlOiBJbnQxNiwgcmFpc2VPbkV4YWN0bmVzcyBleGFjdDogQm9vbCwgcmFpc2VPbk92ZXJmbG93IG92ZXJmbG93OiBCb29sLCByYWlzZU9uVW5kZXJmbG93IHVuZGVyZmxvdzogQm9vbCwgcmFpc2VPbkRpdmlkZUJ5WmVybyBkaXZpZGVCeVplcm86IEJvb2wpIHt9Cn0Kb3BlbiBjbGFzcyBOU0RpY3Rpb25hcnkgewogICAgcHVibGljIHN0YXRpYyB2YXIgc3VwcG9ydHNTZWN1cmVDb2Rpbmc6IEJvb2wgeyBnZXQgfQogICAgb3BlbiBjbGFzcyBmdW5jIHNoYXJlZEtleVNldChmb3JLZXlzIGtleXM6IFtOU0NvcHlpbmddKSAtPiBBbnkge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KCkge30KICAgIHB1YmxpYyByZXF1aXJlZCBjb252ZW5pZW5jZSBpbml0Pyhjb2RlciBhRGVjb2RlcjogTlNDb2Rlcikge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KGRpY3Rpb25hcnkgb3RoZXJEaWN0aW9uYXJ5OiBbQW55SGFzaGFibGU6IEFueV0pIHt9CiAgICBwdWJsaWMgcmVxdWlyZWQgY29udmVuaWVuY2UgaW5pdChkaWN0aW9uYXJ5TGl0ZXJhbCBlbGVtZW50czogKEFueSwgQW55KS4uLikge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KG9iamVjdDogQW55LCBmb3JLZXkga2V5OiBOU0NvcHlpbmcpIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdChvYmplY3RzOiBbQW55XSwgZm9yS2V5cyBrZXlzOiBbTlNPYmplY3RdKSB7fQogICAgcHVibGljIHJlcXVpcmVkIGluaXQob2JqZWN0czogVW5zYWZlUG9pbnRlcjxBbnlPYmplY3Q+ISwgZm9yS2V5cyBrZXlzOiBVbnNhZmVQb2ludGVyPE5TT2JqZWN0PiEsIGNvdW50IGNudDogSW50KSB7fQogICAgb3BlbiB2YXIgYWxsS2V5czogW0FueV0geyBnZXQgfQogICAgb3BlbiB2YXIgYWxsVmFsdWVzOiBbQW55XSB7IGdldCB9CiAgICBvcGVuIHZhciBjb3VudDogSW50IHsgZ2V0IH0KICAgIHB1YmxpYyB2YXIgY3VzdG9tTWlycm9yOiBNaXJyb3IgeyBnZXQgfQogICAgb3BlbiB2YXIgZGVzY3JpcHRpb246IFN0cmluZyB7IGdldCB9CiAgICBvcGVuIHZhciBkZXNjcmlwdGlvbkluU3RyaW5nc0ZpbGVGb3JtYXQ6IFN0cmluZyB7IGdldCB9CiAgICBvcGVuIHZhciBoYXNoOiBJbnQgeyBnZXQgfQogICAgb3BlbiBzdWJzY3JpcHQoa2V5OiBBbnkpIC0+IEFueT8geyBnZXQgfSB7fQogICAgb3BlbiBmdW5jIGFsbEtleXMoZm9yIGFuT2JqZWN0OiBBbnkpIC0+IFtBbnldIHt9CiAgICBvcGVuIGZ1bmMgY29weSgpIC0+IEFueSB7fQogICAgb3BlbiBmdW5jIGNvcHkod2l0aCB6b25lOiBOU1pvbmU/ID0geCkgLT4gQW55IHt9CiAgICBvcGVuIGZ1bmMgZGVzY3JpcHRpb24od2l0aExvY2FsZSBsb2NhbGU6IExvY2FsZT8pIC0+IFN0cmluZyB7fQogICAgb3BlbiBmdW5jIGRlc2NyaXB0aW9uKHdpdGhMb2NhbGUgbG9jYWxlOiBMb2NhbGU/LCBpbmRlbnQgbGV2ZWw6IEludCkgLT4gU3RyaW5nIHt9CiAgICBvcGVuIGZ1bmMgZW5jb2RlKHdpdGggYUNvZGVyOiBOU0NvZGVyKSB7fQogICAgb3BlbiBmdW5jIGVudW1lcmF0ZUtleXNBbmRPYmplY3RzKF8gYmxvY2s6IChBbnksIEFueSwgVW5zYWZlTXV0YWJsZVBvaW50ZXI8T2JqQ0Jvb2w+KSAtPiBTd2lmdC5Wb2lkKSB7fQogICAgb3BlbiBmdW5jIGVudW1lcmF0ZUtleXNBbmRPYmplY3RzKG9wdGlvbnMgb3B0czogTlNFbnVtZXJhdGlvbk9wdGlvbnMgPSB4LCB1c2luZyBibG9jazogKEFueSwgQW55LCBVbnNhZmVNdXRhYmxlUG9pbnRlcjxPYmpDQm9vbD4pIC0+IFZvaWQpIHt9CiAgICBvcGVuIGZ1bmMgZ2V0T2JqZWN0cyhfIG9iamVjdHM6IGlub3V0IFtBbnldLCBhbmRLZXlzIGtleXM6IGlub3V0IFtBbnldLCBjb3VudDogSW50KSB7fQogICAgb3BlbiBmdW5jIGlzRXF1YWwoXyB2YWx1ZTogQW55PykgLT4gQm9vbCB7fQogICAgb3BlbiBmdW5jIGlzRXF1YWwodG8gb3RoZXJEaWN0aW9uYXJ5OiBbQW55SGFzaGFibGU6IEFueV0pIC0+IEJvb2wge30KICAgIG9wZW4gZnVuYyBrZXlFbnVtZXJhdG9yKCkgLT4gTlNFbnVtZXJhdG9yIHt9CiAgICBvcGVuIGZ1bmMga2V5c09mRW50cmllcyhvcHRpb25zIG9wdHM6IE5TRW51bWVyYXRpb25PcHRpb25zID0geCwgcGFzc2luZ1Rlc3QgcHJlZGljYXRlOiAoQW55LCBBbnksIFVuc2FmZU11dGFibGVQb2ludGVyPE9iakNCb29sPikgLT4gQm9vbCkgLT4gU2V0PEFueUhhc2hhYmxlPiB7fQogICAgb3BlbiBmdW5jIGtleXNPZkVudHJpZXMocGFzc2luZ1Rlc3QgcHJlZGljYXRlOiAoQW55LCBBbnksIFVuc2FmZU11dGFibGVQb2ludGVyPE9iakNCb29sPikgLT4gQm9vbCkgLT4gU2V0PEFueUhhc2hhYmxlPiB7fQogICAgb3BlbiBmdW5jIGtleXNTb3J0ZWRCeVZhbHVlKGNvbXBhcmF0b3IgY21wdHI6IChBbnksIEFueSkgLT4gQ29tcGFyaXNvblJlc3VsdCkgLT4gW0FueV0ge30KICAgIG9wZW4gZnVuYyBrZXlzU29ydGVkQnlWYWx1ZShvcHRpb25zIG9wdHM6IE5TU29ydE9wdGlvbnMgPSB4LCB1c2luZ0NvbXBhcmF0b3IgY21wdHI6IChBbnksIEFueSkgLT4gQ29tcGFyaXNvblJlc3VsdCkgLT4gW0FueV0ge30KICAgIHB1YmxpYyBmdW5jIG1ha2VJdGVyYXRvcigpIC0+IEl0ZXJhdG9yIHt9CiAgICBvcGVuIGZ1bmMgbXV0YWJsZUNvcHkoKSAtPiBBbnkge30KICAgIG9wZW4gZnVuYyBtdXRhYmxlQ29weSh3aXRoIHpvbmU6IE5TWm9uZT8gPSB4KSAtPiBBbnkge30KICAgIG9wZW4gZnVuYyBvYmplY3QoZm9yS2V5IGFLZXk6IEFueSkgLT4gQW55PyB7fQogICAgb3BlbiBmdW5jIG9iamVjdEVudW1lcmF0b3IoKSAtPiBOU0VudW1lcmF0b3Ige30KICAgIG9wZW4gZnVuYyBvYmplY3RzKGZvcktleXMga2V5czogW0FueV0sIG5vdEZvdW5kTWFya2VyIG1hcmtlcjogQW55KSAtPiBbQW55XSB7fQogICAgb3BlbiBmdW5jIHZhbHVlKGZvcktleSBrZXk6IFN0cmluZykgLT4gQW55PyB7fQogICAgb3BlbiBmdW5jIHdyaXRlKHRvIHVybDogVVJMLCBhdG9taWNhbGx5OiBCb29sKSAtPiBCb29sIHt9CiAgICBvcGVuIGZ1bmMgd3JpdGUodG9GaWxlIHBhdGg6IFN0cmluZywgYXRvbWljYWxseSB1c2VBdXhpbGlhcnlGaWxlOiBCb29sKSAtPiBCb29sIHt9Cn0Kb3BlbiBjbGFzcyBOU0VudW1lcmF0b3IgewogICAgcHVibGljIHZhciBhbGxPYmplY3RzOiBbQW55XSB7IGdldCB9CiAgICBwdWJsaWMgZnVuYyBtYWtlSXRlcmF0b3IoKSAtPiBJdGVyYXRvciB7fQogICAgb3BlbiBmdW5jIG5leHRPYmplY3QoKSAtPiBBbnk/IHt9Cn0Kb3BlbiBjbGFzcyBOU0Vycm9yIHsKICAgIG9wZW4gY2xhc3MgZnVuYyBzZXRVc2VySW5mb1ZhbHVlUHJvdmlkZXIoZm9yRG9tYWluIGVycm9yRG9tYWluOiBTdHJpbmcsIHByb3ZpZGVyOiAoKEVycm9yLCBTdHJpbmcpIC0+IEFueT8pPykge30KICAgIG9wZW4gY2xhc3MgZnVuYyB1c2VySW5mb1ZhbHVlUHJvdmlkZXIoZm9yRG9tYWluIGVycm9yRG9tYWluOiBTdHJpbmcpIC0+ICgoRXJyb3IsIFN0cmluZykgLT4gQW55Pyk/IHt9CiAgICBwdWJsaWMgaW5pdChkb21haW46IFN0cmluZywgY29kZTogSW50LCB1c2VySW5mbyBkaWN0OiBbU3RyaW5nOiBBbnldPyA9IHgpIHt9CiAgICBvcGVuIHZhciBjb2RlOiBJbnQgeyBnZXQgfQogICAgb3BlbiB2YXIgZG9tYWluOiBTdHJpbmcgeyBnZXQgfQogICAgb3BlbiB2YXIgaGVscEFuY2hvcjogU3RyaW5nPyB7IGdldCB9CiAgICBvcGVuIHZhciBsb2NhbGl6ZWREZXNjcmlwdGlvbjogU3RyaW5nIHsgZ2V0IH0KICAgIG9wZW4gdmFyIGxvY2FsaXplZEZhaWx1cmVSZWFzb246IFN0cmluZz8geyBnZXQgfQogICAgb3BlbiB2YXIgbG9jYWxpemVkUmVjb3ZlcnlPcHRpb25zOiBbU3RyaW5nXT8geyBnZXQgfQogICAgb3BlbiB2YXIgbG9jYWxpemVkUmVjb3ZlcnlTdWdnZXN0aW9uOiBTdHJpbmc/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHJlY292ZXJ5QXR0ZW1wdGVyOiBBbnk/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHVzZXJJbmZvOiBbU3RyaW5nOiBBbnldIHsgZ2V0IH0KfQpvcGVuIGNsYXNzIE5TRXhwcmVzc2lvbiB7CiAgICBvcGVuIGNsYXNzIGZ1bmMgZXhwcmVzc2lvbkZvckFueUtleSgpIC0+IE5TRXhwcmVzc2lvbiB7fQogICAgb3BlbiBjbGFzcyBmdW5jIGV4cHJlc3Npb25Gb3JFdmFsdWF0ZWRPYmplY3QoKSAtPiBOU0V4cHJlc3Npb24ge30KICAgIHB1YmxpYyBpbml0KGJsb2NrOiBAZXNjYXBpbmcgKEFueT8sIFtBbnldLCBOU011dGFibGVEaWN0aW9uYXJ5PykgLT4gQW55LCBhcmd1bWVudHM6IFtOU0V4cHJlc3Npb25dPykge30KICAgIHB1YmxpYyBpbml0KGV4cHJlc3Npb25UeXBlIHR5cGU6IEV4cHJlc3Npb25UeXBlKSB7fQogICAgcHVibGljIGluaXQoZm9yQWdncmVnYXRlIHN1YmV4cHJlc3Npb25zOiBbQW55XSkge30KICAgIHB1YmxpYyBpbml0KGZvckNvbmRpdGlvbmFsIHByZWRpY2F0ZTogQW55LCB0cnVlRXhwcmVzc2lvbjogTlNFeHByZXNzaW9uLCBmYWxzZUV4cHJlc3Npb246IE5TRXhwcmVzc2lvbikge30KICAgIHB1YmxpYyBpbml0KGZvckNvbnN0YW50VmFsdWUgb2JqOiBBbnk/KSB7fQogICAgcHVibGljIGluaXQoZm9yRnVuY3Rpb24gbmFtZTogU3RyaW5nLCBhcmd1bWVudHMgcGFyYW1ldGVyczogW0FueV0pIHt9CiAgICBwdWJsaWMgaW5pdChmb3JGdW5jdGlvbiB0YXJnZXQ6IE5TRXhwcmVzc2lvbiwgc2VsZWN0b3JOYW1lIG5hbWU6IFN0cmluZywgYXJndW1lbnRzIHBhcmFtZXRlcnM6IFtBbnldPykge30KICAgIHB1YmxpYyBpbml0KGZvckludGVyc2VjdFNldCBsZWZ0OiBOU0V4cHJlc3Npb24sIHdpdGggcmlnaHQ6IE5TRXhwcmVzc2lvbikge30KICAgIHB1YmxpYyBpbml0KGZvcktleVBhdGgga2V5UGF0aDogU3RyaW5nKSB7fQogICAgcHVibGljIGluaXQoZm9yTWludXNTZXQgbGVmdDogTlNFeHByZXNzaW9uLCB3aXRoIHJpZ2h0OiBOU0V4cHJlc3Npb24pIHt9CiAgICBwdWJsaWMgaW5pdChmb3JTdWJxdWVyeSBleHByZXNzaW9uOiBOU0V4cHJlc3Npb24sIHVzaW5nSXRlcmF0b3JWYXJpYWJsZSB2YXJpYWJsZTogU3RyaW5nLCBwcmVkaWNhdGU6IEFueSkge30KICAgIHB1YmxpYyBpbml0KGZvclVuaW9uU2V0IGxlZnQ6IE5TRXhwcmVzc2lvbiwgd2l0aCByaWdodDogTlNFeHByZXNzaW9uKSB7fQogICAgcHVibGljIGluaXQoZm9yVmFyaWFibGUgc3RyaW5nOiBTdHJpbmcpIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdChmb3JtYXQgZXhwcmVzc2lvbkZvcm1hdDogU3RyaW5nLCBfIGFyZ3M6IENWYXJBcmcuLi4pIHt9CiAgICBwdWJsaWMgaW5pdChmb3JtYXQgZXhwcmVzc2lvbkZvcm1hdDogU3RyaW5nLCBhcmd1bWVudEFycmF5IGFyZ3VtZW50czogW0FueV0pIHt9CiAgICBwdWJsaWMgaW5pdChmb3JtYXQgZXhwcmVzc2lvbkZvcm1hdDogU3RyaW5nLCBhcmd1bWVudHMgYXJnTGlzdDogQ1ZhTGlzdFBvaW50ZXIpIHt9CiAgICBvcGVuIHZhciBhcmd1bWVudHM6IFtOU0V4cHJlc3Npb25dPyB7IGdldCB9CiAgICBvcGVuIHZhciBjb2xsZWN0aW9uOiBBbnkgeyBnZXQgfQogICAgb3BlbiB2YXIgY29uc3RhbnRWYWx1ZTogQW55IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGV4cHJlc3Npb25CbG9jazogKEFueT8sIFtBbnldLCBOU011dGFibGVEaWN0aW9uYXJ5PykgLT4gQW55IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGV4cHJlc3Npb25UeXBlOiBFeHByZXNzaW9uVHlwZSB7IGdldCB9CiAgICBvcGVuIHZhciBmYWxzZTogTlNFeHByZXNzaW9uIHsgZ2V0IH0KICAgIG9wZW4gdmFyIGZ1bmN0aW9uOiBTdHJpbmcgeyBnZXQgfQogICAgb3BlbiB2YXIga2V5UGF0aDogU3RyaW5nIHsgZ2V0IH0KICAgIG9wZW4gdmFyIGxlZnQ6IE5TRXhwcmVzc2lvbiB7IGdldCB9CiAgICBvcGVuIHZhciBvcGVyYW5kOiBOU0V4cHJlc3Npb24geyBnZXQgfQogICAgb3BlbiB2YXIgcHJlZGljYXRlOiBOU1ByZWRpY2F0ZSB7IGdldCB9CiAgICBvcGVuIHZhciByaWdodDogTlNFeHByZXNzaW9uIHsgZ2V0IH0KICAgIG9wZW4gdmFyIHRydWU6IE5TRXhwcmVzc2lvbiB7IGdldCB9CiAgICBvcGVuIHZhciB2YXJpYWJsZTogU3RyaW5nIHsgZ2V0IH0KICAgIG9wZW4gZnVuYyBhbGxvd0V2YWx1YXRpb24oKSB7fQogICAgb3BlbiBmdW5jIGV4cHJlc3Npb25WYWx1ZSh3aXRoIG9iamVjdDogQW55PywgY29udGV4dDogTlNNdXRhYmxlRGljdGlvbmFyeT8pIC0+IEFueT8ge30KfQpvcGVuIGNsYXNzIE5TSW5kZXhQYXRoIHsKICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KGluZGV4OiBJbnQpIHt9CiAgICBwdWJsaWMgaW5pdChpbmRleGVzOiBVbnNhZmVQb2ludGVyPEludD4/LCBsZW5ndGg6IEludCkge30KICAgIG9wZW4gdmFyIGxlbmd0aDogSW50IHsgZ2V0IH0KICAgIG9wZW4gZnVuYyBhZGRpbmcoXyBpbmRleDogSW50KSAtPiBJbmRleFBhdGgge30KICAgIG9wZW4gZnVuYyBjb21wYXJlKF8gb3RoZXJPYmplY3Q6IEluZGV4UGF0aCkgLT4gQ29tcGFyaXNvblJlc3VsdCB7fQogICAgb3BlbiBmdW5jIGdldEluZGV4ZXMoXyBpbmRleGVzOiBVbnNhZmVNdXRhYmxlUG9pbnRlcjxJbnQ+LCByYW5nZSBwb3NpdGlvblJhbmdlOiBOU1JhbmdlKSB7fQogICAgb3BlbiBmdW5jIGluZGV4KGF0UG9zaXRpb24gcG9zaXRpb246IEludCkgLT4gSW50IHt9CiAgICBvcGVuIGZ1bmMgcmVtb3ZpbmdMYXN0SW5kZXgoKSAtPiBJbmRleFBhdGgge30KfQpvcGVuIGNsYXNzIE5TSW5kZXhTZXQgewogICAgcHVibGljIHN0YXRpYyB2YXIgc3VwcG9ydHNTZWN1cmVDb2Rpbmc6IEJvb2wgeyBnZXQgfQogICAgcHVibGljIGluaXQoKSB7fQogICAgcHVibGljIHJlcXVpcmVkIGluaXQ/KGNvZGVyIGFEZWNvZGVyOiBOU0NvZGVyKSB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQoaW5kZXggdmFsdWU6IEludCkge30KICAgIHB1YmxpYyBpbml0KGluZGV4U2V0OiBJbmRleFNldCkge30KICAgIHB1YmxpYyBpbml0KGluZGV4ZXNJbiByYW5nZTogTlNSYW5nZSkge30KICAgIG9wZW4gdmFyIGNvdW50OiBJbnQgeyBnZXQgfQogICAgb3BlbiB2YXIgZmlyc3RJbmRleDogSW50IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGxhc3RJbmRleDogSW50IHsgZ2V0IH0KICAgIG9wZW4gZnVuYyBjb250YWlucyhfIGluZGV4U2V0OiBJbmRleFNldCkgLT4gQm9vbCB7fQogICAgb3BlbiBmdW5jIGNvbnRhaW5zKGluIHJhbmdlOiBOU1JhbmdlKSAtPiBCb29sIHt9CiAgICBvcGVuIGZ1bmMgY29weSgpIC0+IEFueSB7fQogICAgb3BlbiBmdW5jIGNvcHkod2l0aCB6b25lOiBOU1pvbmU/ID0geCkgLT4gQW55IHt9CiAgICBvcGVuIGZ1bmMgY291bnRPZkluZGV4ZXMoaW4gcmFuZ2U6IE5TUmFuZ2UpIC0+IEludCB7fQogICAgb3BlbiBmdW5jIGVuY29kZSh3aXRoIGFDb2RlcjogTlNDb2Rlcikge30KICAgIG9wZW4gZnVuYyBlbnVtZXJhdGUoXyBibG9jazogKEludCwgVW5zYWZlTXV0YWJsZVBvaW50ZXI8T2JqQ0Jvb2w+KSAtPiBWb2lkKSB7fQogICAgb3BlbiBmdW5jIGVudW1lcmF0ZShpbiByYW5nZTogTlNSYW5nZSwgb3B0aW9ucyBvcHRzOiBOU0VudW1lcmF0aW9uT3B0aW9ucyA9IHgsIHVzaW5nIGJsb2NrOiAoSW50LCBVbnNhZmVNdXRhYmxlUG9pbnRlcjxPYmpDQm9vbD4pIC0+IFZvaWQpIHt9CiAgICBvcGVuIGZ1bmMgZW51bWVyYXRlKG9wdGlvbnMgb3B0czogTlNFbnVtZXJhdGlvbk9wdGlvbnMgPSB4LCB1c2luZyBibG9jazogKEludCwgVW5zYWZlTXV0YWJsZVBvaW50ZXI8T2JqQ0Jvb2w+KSAtPiBWb2lkKSB7fQogICAgb3BlbiBmdW5jIGVudW1lcmF0ZVJhbmdlcyhfIGJsb2NrOiAoTlNSYW5nZSwgVW5zYWZlTXV0YWJsZVBvaW50ZXI8T2JqQ0Jvb2w+KSAtPiBWb2lkKSB7fQogICAgb3BlbiBmdW5jIGVudW1lcmF0ZVJhbmdlcyhpbiByYW5nZTogTlNSYW5nZSwgb3B0aW9ucyBvcHRzOiBOU0VudW1lcmF0aW9uT3B0aW9ucyA9IHgsIHVzaW5nIGJsb2NrOiAoTlNSYW5nZSwgVW5zYWZlTXV0YWJsZVBvaW50ZXI8T2JqQ0Jvb2w+KSAtPiBWb2lkKSB7fQogICAgb3BlbiBmdW5jIGVudW1lcmF0ZVJhbmdlcyhvcHRpb25zIG9wdHM6IE5TRW51bWVyYXRpb25PcHRpb25zID0geCwgdXNpbmcgYmxvY2s6IChOU1JhbmdlLCBVbnNhZmVNdXRhYmxlUG9pbnRlcjxPYmpDQm9vbD4pIC0+IFZvaWQpIHt9CiAgICBvcGVuIGZ1bmMgZ2V0SW5kZXhlcyhfIGluZGV4QnVmZmVyOiBVbnNhZmVNdXRhYmxlUG9pbnRlcjxJbnQ+LCBtYXhDb3VudCBidWZmZXJTaXplOiBJbnQsIGluSW5kZXhSYW5nZSByYW5nZTogTlNSYW5nZVBvaW50ZXI/KSAtPiBJbnQge30KICAgIG9wZW4gZnVuYyBpbmRleChpbiByYW5nZTogTlNSYW5nZSwgb3B0aW9ucyBvcHRzOiBOU0VudW1lcmF0aW9uT3B0aW9ucyA9IHgsIHBhc3NpbmdUZXN0IHByZWRpY2F0ZTogKEludCwgVW5zYWZlTXV0YWJsZVBvaW50ZXI8T2JqQ0Jvb2w+KSAtPiBCb29sKSAtPiBJbnQge30KICAgIG9wZW4gZnVuYyBpbmRleChvcHRpb25zIG9wdHM6IE5TRW51bWVyYXRpb25PcHRpb25zID0geCwgcGFzc2luZ1Rlc3QgcHJlZGljYXRlOiAoSW50LCBVbnNhZmVNdXRhYmxlUG9pbnRlcjxPYmpDQm9vbD4pIC0+IEJvb2wpIC0+IEludCB7fQogICAgb3BlbiBmdW5jIGluZGV4KHBhc3NpbmdUZXN0IHByZWRpY2F0ZTogKEludCwgVW5zYWZlTXV0YWJsZVBvaW50ZXI8T2JqQ0Jvb2w+KSAtPiBCb29sKSAtPiBJbnQge30KICAgIG9wZW4gZnVuYyBpbmRleEdyZWF0ZXJUaGFuSW5kZXgoXyB2YWx1ZTogSW50KSAtPiBJbnQge30KICAgIG9wZW4gZnVuYyBpbmRleEdyZWF0ZXJUaGFuT3JFcXVhbCh0byB2YWx1ZTogSW50KSAtPiBJbnQge30KICAgIG9wZW4gZnVuYyBpbmRleExlc3NUaGFuSW5kZXgoXyB2YWx1ZTogSW50KSAtPiBJbnQge30KICAgIG9wZW4gZnVuYyBpbmRleExlc3NUaGFuT3JFcXVhbCh0byB2YWx1ZTogSW50KSAtPiBJbnQge30KICAgIG9wZW4gZnVuYyBpbmRleGVzKGluIHJhbmdlOiBOU1JhbmdlLCBvcHRpb25zIG9wdHM6IE5TRW51bWVyYXRpb25PcHRpb25zID0geCwgcGFzc2luZ1Rlc3QgcHJlZGljYXRlOiAoSW50LCBVbnNhZmVNdXRhYmxlUG9pbnRlcjxPYmpDQm9vbD4pIC0+IEJvb2wpIC0+IEluZGV4U2V0IHt9CiAgICBvcGVuIGZ1bmMgaW5kZXhlcyhvcHRpb25zIG9wdHM6IE5TRW51bWVyYXRpb25PcHRpb25zID0geCwgcGFzc2luZ1Rlc3QgcHJlZGljYXRlOiAoSW50LCBVbnNhZmVNdXRhYmxlUG9pbnRlcjxPYmpDQm9vbD4pIC0+IEJvb2wpIC0+IEluZGV4U2V0IHt9CiAgICBvcGVuIGZ1bmMgaW5kZXhlcyhwYXNzaW5nVGVzdCBwcmVkaWNhdGU6IChJbnQsIFVuc2FmZU11dGFibGVQb2ludGVyPE9iakNCb29sPikgLT4gQm9vbCkgLT4gSW5kZXhTZXQge30KICAgIG9wZW4gZnVuYyBpbnRlcnNlY3RzKGluIHJhbmdlOiBOU1JhbmdlKSAtPiBCb29sIHt9CiAgICBvcGVuIGZ1bmMgaXNFcXVhbCh0byBpbmRleFNldDogSW5kZXhTZXQpIC0+IEJvb2wge30KICAgIHB1YmxpYyBmdW5jIG1ha2VJdGVyYXRvcigpIC0+IE5TSW5kZXhTZXRJdGVyYXRvciB7fQogICAgb3BlbiBmdW5jIG11dGFibGVDb3B5KCkgLT4gQW55IHt9CiAgICBvcGVuIGZ1bmMgbXV0YWJsZUNvcHkod2l0aCB6b25lOiBOU1pvbmU/ID0geCkgLT4gQW55IHt9Cn0Kb3BlbiBjbGFzcyBOU0tleWVkQXJjaGl2ZXIgewogICAgb3BlbiBjbGFzcyBmdW5jIGFyY2hpdmVSb290T2JqZWN0KF8gcm9vdE9iamVjdDogQW55LCB0b0ZpbGUgcGF0aDogU3RyaW5nKSAtPiBCb29sIHt9CiAgICBvcGVuIGNsYXNzIGZ1bmMgYXJjaGl2ZWREYXRhKHdpdGhSb290T2JqZWN0IHJvb3RPYmplY3Q6IEFueSkgLT4gRGF0YSB7fQogICAgb3BlbiBjbGFzcyBmdW5jIGNsYXNzTmFtZUZvckNsYXNzKF8gY2xzOiBBbnlDbGFzcykgLT4gU3RyaW5nPyB7fQogICAgb3BlbiBjbGFzcyBmdW5jIHNldENsYXNzTmFtZShfIGNvZGVkTmFtZTogU3RyaW5nPywgZm9yIGNsczogQW55Q2xhc3MpIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdChmb3JXcml0aW5nV2l0aCBkYXRhOiBOU011dGFibGVEYXRhKSB7fQogICAgb3BlbiB3ZWFrIHZhciBkZWxlZ2F0ZTogTlNLZXllZEFyY2hpdmVyRGVsZWdhdGU/IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBlbmNvZGVkRGF0YTogRGF0YSB7IGdldCB9CiAgICBvcGVuIHZhciBvdXRwdXRGb3JtYXQgeyBnZXQgfQogICAgb3BlbiBmdW5jIGNsYXNzTmFtZUZvckNsYXNzKF8gY2xzOiBBbnlDbGFzcykgLT4gU3RyaW5nPyB7fQogICAgb3BlbiBmdW5jIGVuY29kZVByb3BlcnR5TGlzdChfIGFQcm9wZXJ0eUxpc3Q6IEFueSwgZm9yS2V5IGtleTogU3RyaW5nKSB7fQogICAgb3BlbiBmdW5jIGZpbmlzaEVuY29kaW5nKCkge30KICAgIG9wZW4gZnVuYyBzZXRDbGFzc05hbWUoXyBjb2RlZE5hbWU6IFN0cmluZz8sIGZvciBjbHM6IEFueUNsYXNzKSB7fQp9Cm9wZW4gY2xhc3MgTlNLZXllZFVuYXJjaGl2ZXIgewogICAgb3BlbiBjbGFzcyBmdW5jIGNsYXNzKGZvckNsYXNzTmFtZSBjb2RlZE5hbWU6IFN0cmluZykgLT4gQW55Q2xhc3M/IHt9CiAgICBvcGVuIGNsYXNzIGZ1bmMgc2V0Q2xhc3MoXyBjbHM6IEFueUNsYXNzPywgZm9yQ2xhc3NOYW1lIGNvZGVkTmFtZTogU3RyaW5nKSB7fQogICAgb3BlbiBjbGFzcyBmdW5jIHVuYXJjaGl2ZU9iamVjdCh3aXRoIGRhdGE6IERhdGEpIC0+IEFueT8ge30KICAgIG9wZW4gY2xhc3MgZnVuYyB1bmFyY2hpdmVPYmplY3Qod2l0aEZpbGUgcGF0aDogU3RyaW5nKSAtPiBBbnk/IHt9CiAgICBvcGVuIGNsYXNzIGZ1bmMgdW5hcmNoaXZlVG9wTGV2ZWxPYmplY3RXaXRoRGF0YShfIGRhdGE6IERhdGEpIHRocm93cyAtPiBBbnk/IHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdChmb3JSZWFkaW5nV2l0aCBkYXRhOiBEYXRhKSB7fQogICAgb3BlbiB3ZWFrIHZhciBkZWxlZ2F0ZTogTlNLZXllZFVuYXJjaGl2ZXJEZWxlZ2F0ZT8geyBnZXQgc2V0IH0KICAgIG9wZW4gZnVuYyBjbGFzcyhmb3JDbGFzc05hbWUgY29kZWROYW1lOiBTdHJpbmcpIC0+IEFueUNsYXNzPyB7fQogICAgb3BlbiBmdW5jIGZpbmlzaERlY29kaW5nKCkge30KICAgIG9wZW4gZnVuYyBzZXRDbGFzcyhfIGNsczogQW55Q2xhc3M/LCBmb3JDbGFzc05hbWUgY29kZWROYW1lOiBTdHJpbmcpIHt9Cn0Kb3BlbiBjbGFzcyBOU0xvY2FsZSB7CiAgICBvcGVuIGNsYXNzIHZhciBhdmFpbGFibGVMb2NhbGVJZGVudGlmaWVyczogW1N0cmluZ10geyBnZXQgfQogICAgb3BlbiBjbGFzcyB2YXIgY29tbW9uSVNPQ3VycmVuY3lDb2RlczogW1N0cmluZ10geyBnZXQgfQogICAgb3BlbiBjbGFzcyB2YXIgY3VycmVudDogTG9jYWxlIHsgZ2V0IH0KICAgIHB1YmxpYyBzdGF0aWMgdmFyIGN1cnJlbnRMb2NhbGVEaWRDaGFuZ2VOb3RpZmljYXRpb24geyBnZXQgfQogICAgb3BlbiBjbGFzcyB2YXIgaXNvQ291bnRyeUNvZGVzOiBbU3RyaW5nXSB7IGdldCB9CiAgICBvcGVuIGNsYXNzIHZhciBpc29DdXJyZW5jeUNvZGVzOiBbU3RyaW5nXSB7IGdldCB9CiAgICBvcGVuIGNsYXNzIHZhciBpc29MYW5ndWFnZUNvZGVzOiBbU3RyaW5nXSB7IGdldCB9CiAgICBvcGVuIGNsYXNzIHZhciBwcmVmZXJyZWRMYW5ndWFnZXM6IFtTdHJpbmddIHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgdmFyIHN5c3RlbTogTG9jYWxlIHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgZnVuYyBjYW5vbmljYWxMYW5ndWFnZUlkZW50aWZpZXIoZnJvbSBzdHJpbmc6IFN0cmluZykgLT4gU3RyaW5nIHt9CiAgICBvcGVuIGNsYXNzIGZ1bmMgY2Fub25pY2FsTG9jYWxlSWRlbnRpZmllcihmcm9tIHN0cmluZzogU3RyaW5nKSAtPiBTdHJpbmcge30KICAgIG9wZW4gY2xhc3MgZnVuYyBjaGFyYWN0ZXJEaXJlY3Rpb24oZm9yTGFuZ3VhZ2UgaXNvTGFuZ0NvZGU6IFN0cmluZykgLT4gTlNMb2NhbGUuTGFuZ3VhZ2VEaXJlY3Rpb24ge30KICAgIG9wZW4gY2xhc3MgZnVuYyBjb21wb25lbnRzKGZyb21Mb2NhbGVJZGVudGlmaWVyIHN0cmluZzogU3RyaW5nKSAtPiBbU3RyaW5nOiBTdHJpbmddIHt9CiAgICBvcGVuIGNsYXNzIGZ1bmMgbGluZURpcmVjdGlvbihmb3JMYW5ndWFnZSBpc29MYW5nQ29kZTogU3RyaW5nKSAtPiBOU0xvY2FsZS5MYW5ndWFnZURpcmVjdGlvbiB7fQogICAgb3BlbiBjbGFzcyBmdW5jIGxvY2FsZUlkZW50aWZpZXIoZnJvbUNvbXBvbmVudHMgZGljdDogW1N0cmluZzogU3RyaW5nXSkgLT4gU3RyaW5nIHt9CiAgICBvcGVuIGNsYXNzIGZ1bmMgbG9jYWxlSWRlbnRpZmllcihmcm9tV2luZG93c0xvY2FsZUNvZGUgbGNpZDogVUludDMyKSAtPiBTdHJpbmc/IHt9CiAgICBvcGVuIGNsYXNzIGZ1bmMgd2luZG93c0xvY2FsZUNvZGUoZnJvbUxvY2FsZUlkZW50aWZpZXIgbG9jYWxlSWRlbnRpZmllcjogU3RyaW5nKSAtPiBVSW50MzIge30KICAgIHB1YmxpYyBpbml0KGxvY2FsZUlkZW50aWZpZXIgc3RyaW5nOiBTdHJpbmcpIHt9CiAgICBwdWJsaWMgdmFyIGxvY2FsZUlkZW50aWZpZXI6IFN0cmluZyB7IGdldCB9CiAgICBvcGVuIGZ1bmMgZGlzcGxheU5hbWUoZm9yS2V5IGtleTogS2V5LCB2YWx1ZTogU3RyaW5nKSAtPiBTdHJpbmc/IHt9CiAgICBvcGVuIGZ1bmMgb2JqZWN0KGZvcktleSBrZXk6IE5TTG9jYWxlLktleSkgLT4gQW55PyB7fQp9Cm9wZW4gY2xhc3MgTlNMb2NrIHsKICAgIG9wZW4gdmFyIG5hbWU6IFN0cmluZz8geyBnZXQgc2V0IH0KICAgIG9wZW4gZnVuYyBsb2NrKGJlZm9yZSBsaW1pdDogRGF0ZSkgLT4gQm9vbCB7fQogICAgb3BlbiBmdW5jIHRyeSgpIC0+IEJvb2wge30KfQpvcGVuIGNsYXNzIE5TTWVhc3VyZW1lbnQgewogICAgcHVibGljIGluaXQoZG91YmxlVmFsdWU6IERvdWJsZSwgdW5pdDogVW5pdCkge30KICAgIG9wZW4gdmFyIGRvdWJsZVZhbHVlOiBEb3VibGUgeyBnZXQgfQogICAgb3BlbiB2YXIgdW5pdDogVW5pdCB7IGdldCB9CiAgICBvcGVuIGZ1bmMgYWRkaW5nKF8gbWVhc3VyZW1lbnQ6IE1lYXN1cmVtZW50PFVuaXQ+KSAtPiBNZWFzdXJlbWVudDxVbml0PiB7fQogICAgb3BlbiBmdW5jIGNhbkJlQ29udmVydGVkKHRvIHVuaXQ6IFVuaXQpIC0+IEJvb2wge30KICAgIG9wZW4gZnVuYyBjb252ZXJ0aW5nKHRvIHVuaXQ6IFVuaXQpIC0+IE1lYXN1cmVtZW50PFVuaXQ+IHt9CiAgICBvcGVuIGZ1bmMgc3VidHJhY3RpbmcoXyBtZWFzdXJlbWVudDogTWVhc3VyZW1lbnQ8VW5pdD4pIC0+IE1lYXN1cmVtZW50PFVuaXQ+IHt9Cn0Kb3BlbiBjbGFzcyBOU011dGFibGVBcnJheSB7CiAgICBwdWJsaWMgaW5pdChjYXBhY2l0eSBudW1JdGVtczogSW50KSB7fQogICAgb3BlbiBmdW5jIGFkZChfIGFuT2JqZWN0OiBBbnkpIHt9CiAgICBvcGVuIGZ1bmMgYWRkT2JqZWN0cyhmcm9tIG90aGVyQXJyYXk6IFtBbnldKSB7fQogICAgb3BlbiBmdW5jIGV4Y2hhbmdlT2JqZWN0KGF0IGlkeDE6IEludCwgd2l0aE9iamVjdEF0IGlkeDI6IEludCkge30KICAgIG9wZW4gZnVuYyBmaWx0ZXIodXNpbmcgcHJlZGljYXRlOiBOU1ByZWRpY2F0ZSkge30KICAgIG9wZW4gZnVuYyBpbnNlcnQoXyBhbk9iamVjdDogQW55LCBhdCBpbmRleDogSW50KSB7fQogICAgb3BlbiBmdW5jIHJlbW92ZShfIGFuT2JqZWN0OiBBbnkpIHt9CiAgICBvcGVuIGZ1bmMgcmVtb3ZlKF8gYW5PYmplY3Q6IEFueSwgaW4gcmFuZ2U6IE5TUmFuZ2UpIHt9CiAgICBvcGVuIGZ1bmMgcmVtb3ZlQWxsT2JqZWN0cygpIHt9CiAgICBvcGVuIGZ1bmMgcmVtb3ZlTGFzdE9iamVjdCgpIHt9CiAgICBvcGVuIGZ1bmMgcmVtb3ZlT2JqZWN0KGF0IGluZGV4OiBJbnQpIHt9CiAgICBvcGVuIGZ1bmMgcmVtb3ZlT2JqZWN0KGlkZW50aWNhbFRvIGFuT2JqZWN0OiBBbnkpIHt9CiAgICBvcGVuIGZ1bmMgcmVtb3ZlT2JqZWN0KGlkZW50aWNhbFRvIGFuT2JqZWN0OiBBbnksIGluIHJhbmdlOiBOU1JhbmdlKSB7fQogICAgb3BlbiBmdW5jIHJlbW92ZU9iamVjdHMoYXQgaW5kZXhlczogSW5kZXhTZXQpIHt9CiAgICBvcGVuIGZ1bmMgcmVtb3ZlT2JqZWN0cyhpbiBvdGhlckFycmF5OiBbQW55XSkge30KICAgIG9wZW4gZnVuYyByZXBsYWNlT2JqZWN0KGF0IGluZGV4OiBJbnQsIHdpdGggYW5PYmplY3Q6IEFueSkge30KICAgIG9wZW4gZnVuYyByZXBsYWNlT2JqZWN0cyhhdCBpbmRleGVzOiBJbmRleFNldCwgd2l0aCBvYmplY3RzOiBbQW55XSkge30KICAgIG9wZW4gZnVuYyByZXBsYWNlT2JqZWN0cyhpbiByYW5nZTogTlNSYW5nZSwgd2l0aE9iamVjdHNGcm9tIG90aGVyQXJyYXk6IFtBbnldKSB7fQogICAgb3BlbiBmdW5jIHJlcGxhY2VPYmplY3RzKGluIHJhbmdlOiBOU1JhbmdlLCB3aXRoT2JqZWN0c0Zyb20gb3RoZXJBcnJheTogW0FueV0sIHJhbmdlIG90aGVyUmFuZ2U6IE5TUmFuZ2UpIHt9CiAgICBvcGVuIGZ1bmMgc2V0QXJyYXkoXyBvdGhlckFycmF5OiBbQW55XSkge30KICAgIG9wZW4gZnVuYyBzb3J0KF8gY29tcGFyZTogKEFueSwgQW55LCBVbnNhZmVNdXRhYmxlUmF3UG9pbnRlcj8pIC0+IEludCwgY29udGV4dDogVW5zYWZlTXV0YWJsZVJhd1BvaW50ZXI/KSB7fQogICAgb3BlbiBmdW5jIHNvcnQoY29tcGFyYXRvcjogQ29tcGFyYXRvcikge30KICAgIG9wZW4gZnVuYyBzb3J0KG9wdGlvbnMgb3B0czogTlNTb3J0T3B0aW9ucyA9IHgsIHVzaW5nQ29tcGFyYXRvciBjbXB0cjogQ29tcGFyYXRvcikge30KICAgIHB1YmxpYyBmdW5jIHNvcnQodXNpbmcgc29ydERlc2NyaXB0b3JzOiBbTlNTb3J0RGVzY3JpcHRvcl0pIHt9Cn0Kb3BlbiBjbGFzcyBOU011dGFibGVBdHRyaWJ1dGVkU3RyaW5nIHsKICAgIG9wZW4gdmFyIG11dGFibGVTdHJpbmc6IE5TTXV0YWJsZVN0cmluZyB7IGdldCB9CiAgICBvcGVuIGZ1bmMgYWRkQXR0cmlidXRlKF8gbmFtZTogTlNBdHRyaWJ1dGVkU3RyaW5nS2V5LCB2YWx1ZTogQW55LCByYW5nZTogTlNSYW5nZSkge30KICAgIG9wZW4gZnVuYyBhZGRBdHRyaWJ1dGVzKF8gYXR0cnM6IFtOU0F0dHJpYnV0ZWRTdHJpbmdLZXk6IEFueV0sIHJhbmdlOiBOU1JhbmdlKSB7fQogICAgb3BlbiBmdW5jIGFwcGVuZChfIGF0dHJTdHJpbmc6IE5TQXR0cmlidXRlZFN0cmluZykge30KICAgIG9wZW4gZnVuYyBiZWdpbkVkaXRpbmcoKSB7fQogICAgb3BlbiBmdW5jIGRlbGV0ZUNoYXJhY3RlcnMoaW4gcmFuZ2U6IE5TUmFuZ2UpIHt9CiAgICBvcGVuIGZ1bmMgZW5kRWRpdGluZygpIHt9CiAgICBvcGVuIGZ1bmMgaW5zZXJ0KF8gYXR0clN0cmluZzogTlNBdHRyaWJ1dGVkU3RyaW5nLCBhdCBsb2M6IEludCkge30KICAgIG9wZW4gZnVuYyByZW1vdmVBdHRyaWJ1dGUoXyBuYW1lOiBOU0F0dHJpYnV0ZWRTdHJpbmdLZXksIHJhbmdlOiBOU1JhbmdlKSB7fQogICAgb3BlbiBmdW5jIHJlcGxhY2VDaGFyYWN0ZXJzKGluIHJhbmdlOiBOU1JhbmdlLCB3aXRoIGF0dHJTdHJpbmc6IE5TQXR0cmlidXRlZFN0cmluZykge30KICAgIG9wZW4gZnVuYyBzZXRBdHRyaWJ1dGVkU3RyaW5nKF8gYXR0clN0cmluZzogTlNBdHRyaWJ1dGVkU3RyaW5nKSB7fQogICAgb3BlbiBmdW5jIHNldEF0dHJpYnV0ZXMoXyBhdHRyczogW05TQXR0cmlidXRlZFN0cmluZ0tleTogQW55XT8sIHJhbmdlOiBOU1JhbmdlKSB7fQp9Cm9wZW4gY2xhc3MgTlNNdXRhYmxlQ2hhcmFjdGVyU2V0IHsKICAgIG9wZW4gY2xhc3MgZnVuYyBhbHBoYW51bWVyaWMoKSAtPiBOU011dGFibGVDaGFyYWN0ZXJTZXQge30KICAgIG9wZW4gY2xhc3MgZnVuYyBjYXBpdGFsaXplZExldHRlcigpIC0+IE5TTXV0YWJsZUNoYXJhY3RlclNldCB7fQogICAgb3BlbiBjbGFzcyBmdW5jIGNvbnRyb2woKSAtPiBOU011dGFibGVDaGFyYWN0ZXJTZXQge30KICAgIG9wZW4gY2xhc3MgZnVuYyBkZWNpbWFsRGlnaXQoKSAtPiBOU011dGFibGVDaGFyYWN0ZXJTZXQge30KICAgIG9wZW4gY2xhc3MgZnVuYyBkZWNvbXBvc2FibGUoKSAtPiBOU011dGFibGVDaGFyYWN0ZXJTZXQge30KICAgIG9wZW4gY2xhc3MgZnVuYyBpbGxlZ2FsKCkgLT4gTlNNdXRhYmxlQ2hhcmFjdGVyU2V0IHt9CiAgICBwdWJsaWMgY2xhc3MgZnVuYyBsZXR0ZXIoKSAtPiBOU011dGFibGVDaGFyYWN0ZXJTZXQge30KICAgIG9wZW4gY2xhc3MgZnVuYyBsb3dlcmNhc2VMZXR0ZXIoKSAtPiBOU011dGFibGVDaGFyYWN0ZXJTZXQge30KICAgIG9wZW4gY2xhc3MgZnVuYyBuZXdsaW5lKCkgLT4gTlNNdXRhYmxlQ2hhcmFjdGVyU2V0IHt9CiAgICBvcGVuIGNsYXNzIGZ1bmMgbm9uQmFzZSgpIC0+IE5TTXV0YWJsZUNoYXJhY3RlclNldCB7fQogICAgb3BlbiBjbGFzcyBmdW5jIHB1bmN0dWF0aW9uKCkgLT4gTlNNdXRhYmxlQ2hhcmFjdGVyU2V0IHt9CiAgICBvcGVuIGNsYXNzIGZ1bmMgc3ltYm9sKCkgLT4gTlNNdXRhYmxlQ2hhcmFjdGVyU2V0IHt9CiAgICBvcGVuIGNsYXNzIGZ1bmMgdXBwZXJjYXNlTGV0dGVyKCkgLT4gTlNNdXRhYmxlQ2hhcmFjdGVyU2V0IHt9CiAgICBvcGVuIGNsYXNzIGZ1bmMgd2hpdGVzcGFjZSgpIC0+IE5TTXV0YWJsZUNoYXJhY3RlclNldCB7fQogICAgb3BlbiBjbGFzcyBmdW5jIHdoaXRlc3BhY2VBbmROZXdsaW5lKCkgLT4gTlNNdXRhYmxlQ2hhcmFjdGVyU2V0IHt9CiAgICBvcGVuIGZ1bmMgYWRkQ2hhcmFjdGVycyhpbiBhUmFuZ2U6IE5TUmFuZ2UpIHt9CiAgICBvcGVuIGZ1bmMgZm9ybUludGVyc2VjdGlvbih3aXRoIG90aGVyU2V0OiBDaGFyYWN0ZXJTZXQpIHt9CiAgICBvcGVuIGZ1bmMgZm9ybVVuaW9uKHdpdGggb3RoZXJTZXQ6IENoYXJhY3RlclNldCkge30KICAgIG9wZW4gZnVuYyBpbnZlcnQoKSB7fQogICAgb3BlbiBmdW5jIHJlbW92ZUNoYXJhY3RlcnMoaW4gYVJhbmdlOiBOU1JhbmdlKSB7fQp9Cm9wZW4gY2xhc3MgTlNNdXRhYmxlRGF0YSB7CiAgICBwdWJsaWMgaW5pdD8oY2FwYWNpdHk6IEludCkge30KICAgIHB1YmxpYyBpbml0PyhsZW5ndGg6IEludCkge30KICAgIG9wZW4gdmFyIG11dGFibGVCeXRlczogVW5zYWZlTXV0YWJsZVJhd1BvaW50ZXIgeyBnZXQgfQogICAgb3BlbiBmdW5jIGFwcGVuZChfIG90aGVyOiBEYXRhKSB7fQogICAgb3BlbiBmdW5jIGFwcGVuZChfIGJ5dGVzOiBVbnNhZmVSYXdQb2ludGVyLCBsZW5ndGg6IEludCkge30KICAgIG9wZW4gZnVuYyBpbmNyZWFzZUxlbmd0aChieSBleHRyYUxlbmd0aDogSW50KSB7fQogICAgb3BlbiBmdW5jIHJlcGxhY2VCeXRlcyhpbiByYW5nZTogTlNSYW5nZSwgd2l0aEJ5dGVzIGJ5dGVzOiBVbnNhZmVSYXdQb2ludGVyKSB7fQogICAgb3BlbiBmdW5jIHJlcGxhY2VCeXRlcyhpbiByYW5nZTogTlNSYW5nZSwgd2l0aEJ5dGVzIHJlcGxhY2VtZW50Qnl0ZXM6IFVuc2FmZVJhd1BvaW50ZXI/LCBsZW5ndGggcmVwbGFjZW1lbnRMZW5ndGg6IEludCkge30KICAgIG9wZW4gZnVuYyByZXNldEJ5dGVzKGluIHJhbmdlOiBOU1JhbmdlKSB7fQogICAgb3BlbiBmdW5jIHNldERhdGEoXyBkYXRhOiBEYXRhKSB7fQp9Cm9wZW4gY2xhc3MgTlNNdXRhYmxlRGljdGlvbmFyeSB7CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdChjYXBhY2l0eSBudW1JdGVtczogSW50KSB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQoc2hhcmVkS2V5U2V0IGtleXNldDogQW55KSB7fQogICAgb3BlbiBmdW5jIGFkZEVudHJpZXMoZnJvbSBvdGhlckRpY3Rpb25hcnk6IFtBbnlIYXNoYWJsZTogQW55XSkge30KICAgIG9wZW4gZnVuYyByZW1vdmVBbGxPYmplY3RzKCkge30KICAgIG9wZW4gZnVuYyByZW1vdmVPYmplY3QoZm9yS2V5IGFLZXk6IEFueSkge30KICAgIG9wZW4gZnVuYyByZW1vdmVPYmplY3RzKGZvcktleXMga2V5QXJyYXk6IFtBbnldKSB7fQogICAgb3BlbiBmdW5jIHNldERpY3Rpb25hcnkoXyBvdGhlckRpY3Rpb25hcnk6IFtBbnlIYXNoYWJsZTogQW55XSkge30KICAgIG9wZW4gZnVuYyBzZXRPYmplY3QoXyBhbk9iamVjdDogQW55LCBmb3JLZXkgYUtleTogQW55SGFzaGFibGUpIHt9Cn0Kb3BlbiBjbGFzcyBOU011dGFibGVJbmRleFNldCB7CiAgICBvcGVuIGZ1bmMgYWRkKF8gaW5kZXhTZXQ6IEluZGV4U2V0KSB7fQogICAgb3BlbiBmdW5jIGFkZChpbiByOiBOU1JhbmdlKSB7fQogICAgb3BlbiBmdW5jIHJlbW92ZShfIGluZGV4U2V0OiBJbmRleFNldCkge30KICAgIG9wZW4gZnVuYyByZW1vdmUoaW4gcmFuZ2U6IE5TUmFuZ2UpIHt9CiAgICBvcGVuIGZ1bmMgcmVtb3ZlQWxsSW5kZXhlcygpIHt9CiAgICBvcGVuIGZ1bmMgc2hpZnRJbmRleGVzU3RhcnRpbmcoYXQgaW5kZXg6IEludCwgYnkgZGVsdGE6IEludCkge30KfQpvcGVuIGNsYXNzIE5TTXV0YWJsZU9yZGVyZWRTZXQgewogICAgcHVibGljIGluaXQoY2FwYWNpdHkgbnVtSXRlbXM6IEludCkge30KICAgIG9wZW4gZnVuYyBhZGQoXyBvYmplY3Q6IEFueSkge30KICAgIG9wZW4gZnVuYyBhZGQoXyBvYmplY3RzOiBVbnNhZmVQb2ludGVyPEFueU9iamVjdD4hLCBjb3VudDogSW50KSB7fQogICAgb3BlbiBmdW5jIGFkZE9iamVjdHMoZnJvbSBhcnJheTogW0FueV0pIHt9CiAgICBvcGVuIGZ1bmMgZXhjaGFuZ2VPYmplY3QoYXQgaWR4MTogSW50LCB3aXRoT2JqZWN0QXQgaWR4MjogSW50KSB7fQogICAgb3BlbiBmdW5jIGZpbHRlcih1c2luZyBwcmVkaWNhdGU6IE5TUHJlZGljYXRlKSB7fQogICAgb3BlbiBmdW5jIGluc2VydChfIG9iamVjdDogQW55LCBhdCBpZHg6IEludCkge30KICAgIG9wZW4gZnVuYyBpbnRlcnNlY3QoXyBvdGhlcjogTlNPcmRlcmVkU2V0KSB7fQogICAgb3BlbiBmdW5jIGludGVyc2VjdFNldChfIG90aGVyOiBTZXQ8QW55SGFzaGFibGU+KSB7fQogICAgb3BlbiBmdW5jIG1pbnVzKF8gb3RoZXI6IE5TT3JkZXJlZFNldCkge30KICAgIG9wZW4gZnVuYyBtaW51c1NldChfIG90aGVyOiBTZXQ8QW55SGFzaGFibGU+KSB7fQogICAgb3BlbiBmdW5jIG1vdmVPYmplY3RzKGF0IGluZGV4ZXM6IEluZGV4U2V0LCB0byBpZHg6IEludCkge30KICAgIG9wZW4gZnVuYyByZW1vdmUoXyB2YWw6IEFueSkge30KICAgIHB1YmxpYyBmdW5jIHJlbW92ZUFsbE9iamVjdHMoKSB7fQogICAgb3BlbiBmdW5jIHJlbW92ZU9iamVjdChhdCBpZHg6IEludCkge30KICAgIG9wZW4gZnVuYyByZW1vdmVPYmplY3RzKGF0IGluZGV4ZXM6IEluZGV4U2V0KSB7fQogICAgb3BlbiBmdW5jIHJlbW92ZU9iamVjdHMoaW4gYXJyYXk6IFtBbnldKSB7fQogICAgb3BlbiBmdW5jIHJlcGxhY2VPYmplY3QoYXQgaWR4OiBJbnQsIHdpdGggb2JqOiBBbnkpIHt9CiAgICBvcGVuIGZ1bmMgcmVwbGFjZU9iamVjdHMoYXQgaW5kZXhlczogSW5kZXhTZXQsIHdpdGggb2JqZWN0czogW0FueV0pIHt9CiAgICBvcGVuIGZ1bmMgcmVwbGFjZU9iamVjdHMoaW4gcmFuZ2U6IE5TUmFuZ2UsIHdpdGggb2JqZWN0czogVW5zYWZlUG9pbnRlcjxBbnlPYmplY3Q+ISwgY291bnQ6IEludCkge30KICAgIG9wZW4gZnVuYyBzZXRPYmplY3QoXyBvYmo6IEFueSwgYXQgaWR4OiBJbnQpIHt9CiAgICBvcGVuIGZ1bmMgc29ydChjb21wYXJhdG9yIGNtcHRyOiAoQW55LCBBbnkpIC0+IENvbXBhcmlzb25SZXN1bHQpIHt9CiAgICBvcGVuIGZ1bmMgc29ydChvcHRpb25zIG9wdHM6IE5TU29ydE9wdGlvbnMgPSB4LCB1c2luZ0NvbXBhcmF0b3IgY21wdHI6IChBbnksIEFueSkgLT4gQ29tcGFyaXNvblJlc3VsdCkge30KICAgIHB1YmxpYyBmdW5jIHNvcnQodXNpbmcgc29ydERlc2NyaXB0b3JzOiBbTlNTb3J0RGVzY3JpcHRvcl0pIHt9CiAgICBvcGVuIGZ1bmMgc29ydFJhbmdlKF8gcmFuZ2U6IE5TUmFuZ2UsIG9wdGlvbnMgb3B0czogTlNTb3J0T3B0aW9ucyA9IHgsIHVzaW5nQ29tcGFyYXRvciBjbXB0cjogKEFueSwgQW55KSAtPiBDb21wYXJpc29uUmVzdWx0KSB7fQogICAgb3BlbiBmdW5jIHVuaW9uKF8gb3RoZXI6IE5TT3JkZXJlZFNldCkge30KICAgIG9wZW4gZnVuYyB1bmlvblNldChfIG90aGVyOiBTZXQ8QW55SGFzaGFibGU+KSB7fQp9Cm9wZW4gY2xhc3MgTlNNdXRhYmxlU2V0IHsKICAgIHB1YmxpYyByZXF1aXJlZCBpbml0KGNhcGFjaXR5IG51bUl0ZW1zOiBJbnQpIHt9CiAgICBvcGVuIGZ1bmMgYWRkKF8gb2JqZWN0OiBBbnkpIHt9CiAgICBvcGVuIGZ1bmMgYWRkT2JqZWN0cyhmcm9tIGFycmF5OiBbQW55XSkge30KICAgIG9wZW4gZnVuYyBmaWx0ZXIodXNpbmcgcHJlZGljYXRlOiBOU1ByZWRpY2F0ZSkge30KICAgIG9wZW4gZnVuYyBpbnRlcnNlY3QoXyBvdGhlclNldDogU2V0PEFueUhhc2hhYmxlPikge30KICAgIG9wZW4gZnVuYyBtaW51cyhfIG90aGVyU2V0OiBTZXQ8QW55SGFzaGFibGU+KSB7fQogICAgb3BlbiBmdW5jIHJlbW92ZShfIG9iamVjdDogQW55KSB7fQogICAgb3BlbiBmdW5jIHJlbW92ZUFsbE9iamVjdHMoKSB7fQogICAgb3BlbiBmdW5jIHNldFNldChfIG90aGVyU2V0OiBTZXQ8QW55SGFzaGFibGU+KSB7fQogICAgb3BlbiBmdW5jIHVuaW9uKF8gb3RoZXJTZXQ6IFNldDxBbnlIYXNoYWJsZT4pIHt9Cn0Kb3BlbiBjbGFzcyBOU011dGFibGVTdHJpbmcgewogICAgcHVibGljIHJlcXVpcmVkIGluaXQoY2FwYWNpdHk6IEludCkge30KICAgIHB1YmxpYyBmdW5jIGFwcGVuZChfIGFTdHJpbmc6IFN0cmluZykge30KICAgIHB1YmxpYyBmdW5jIGFwcGx5VHJhbnNmb3JtKF8gdHJhbnNmb3JtOiBTdHJpbmcsIHJldmVyc2U6IEJvb2wsIHJhbmdlOiBOU1JhbmdlLCB1cGRhdGVkUmFuZ2UgcmVzdWx0aW5nUmFuZ2U6IE5TUmFuZ2VQb2ludGVyPykgLT4gQm9vbCB7fQogICAgcHVibGljIGZ1bmMgZGVsZXRlQ2hhcmFjdGVycyhpbiByYW5nZTogTlNSYW5nZSkge30KICAgIHB1YmxpYyBmdW5jIGluc2VydChfIGFTdHJpbmc6IFN0cmluZywgYXQgbG9jOiBJbnQpIHt9CiAgICBvcGVuIGZ1bmMgcmVwbGFjZUNoYXJhY3RlcnMoaW4gcmFuZ2U6IE5TUmFuZ2UsIHdpdGggYVN0cmluZzogU3RyaW5nKSB7fQogICAgcHVibGljIGZ1bmMgcmVwbGFjZU9jY3VycmVuY2VzKG9mIHRhcmdldDogU3RyaW5nLCB3aXRoIHJlcGxhY2VtZW50OiBTdHJpbmcsIG9wdGlvbnM6IENvbXBhcmVPcHRpb25zID0geCwgcmFuZ2Ugc2VhcmNoUmFuZ2U6IE5TUmFuZ2UpIC0+IEludCB7fQogICAgcHVibGljIGZ1bmMgc2V0U3RyaW5nKF8gYVN0cmluZzogU3RyaW5nKSB7fQp9Cm9wZW4gY2xhc3MgTlNNdXRhYmxlVVJMUmVxdWVzdCB7CiAgICBvcGVuIGZ1bmMgYWRkVmFsdWUoXyB2YWx1ZTogU3RyaW5nLCBmb3JIVFRQSGVhZGVyRmllbGQgZmllbGQ6IFN0cmluZykge30KICAgIG9wZW4gZnVuYyBzZXRWYWx1ZShfIHZhbHVlOiBTdHJpbmc/LCBmb3JIVFRQSGVhZGVyRmllbGQgZmllbGQ6IFN0cmluZykge30KfQpvcGVuIGNsYXNzIE5TTm90aWZpY2F0aW9uIHsKICAgIHB1YmxpYyBpbml0KG5hbWU6IE5hbWUsIG9iamVjdDogQW55PywgdXNlckluZm86IFtBbnlIYXNoYWJsZTogQW55XT8gPSB4KSB7fQogICAgb3BlbiB2YXIgbmFtZTogTmFtZSB7IGdldCB9CiAgICBvcGVuIHZhciBvYmplY3Q6IEFueT8geyBnZXQgfQogICAgb3BlbiB2YXIgdXNlckluZm86IFtBbnlIYXNoYWJsZTogQW55XT8geyBnZXQgfQp9Cm9wZW4gY2xhc3MgTlNOdWxsIHsKfQpvcGVuIGNsYXNzIE5TTnVtYmVyIHsKICAgIHB1YmxpYyByZXF1aXJlZCBjb252ZW5pZW5jZSBpbml0KGJvb2xlYW5MaXRlcmFsIHZhbHVlOiBCb29sKSB7fQogICAgcHVibGljIHJlcXVpcmVkIGNvbnZlbmllbmNlIGluaXQoZmxvYXRMaXRlcmFsIHZhbHVlOiBEb3VibGUpIHt9CiAgICBwdWJsaWMgcmVxdWlyZWQgY29udmVuaWVuY2UgaW5pdChpbnRlZ2VyTGl0ZXJhbCB2YWx1ZTogSW50KSB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQodmFsdWU6IEJvb2wpIHt9CiAgICBvcGVuIHZhciBib29sVmFsdWU6IEJvb2wgeyBnZXQgfQogICAgcHVibGljIHZhciBkZWNpbWFsVmFsdWU6IERlY2ltYWwgeyBnZXQgfQogICAgb3BlbiB2YXIgZG91YmxlVmFsdWU6IERvdWJsZSB7IGdldCB9CiAgICBvcGVuIHZhciBmbG9hdFZhbHVlOiBGbG9hdCB7IGdldCB9CiAgICBvcGVuIHZhciBpbnQxNlZhbHVlOiBJbnQxNiB7IGdldCB9CiAgICBvcGVuIHZhciBpbnQzMlZhbHVlOiBJbnQzMiB7IGdldCB9CiAgICBvcGVuIHZhciBpbnQ2NFZhbHVlOiBJbnQ2NCB7IGdldCB9CiAgICBvcGVuIHZhciBpbnQ4VmFsdWU6IEludDggeyBnZXQgfQogICAgb3BlbiB2YXIgaW50VmFsdWU6IEludCB7IGdldCB9CiAgICBvcGVuIHZhciBzdHJpbmdWYWx1ZTogU3RyaW5nIHsgZ2V0IH0KICAgIG9wZW4gdmFyIHVpbnQxNlZhbHVlOiBVSW50MTYgeyBnZXQgfQogICAgb3BlbiB2YXIgdWludDMyVmFsdWU6IFVJbnQzMiB7IGdldCB9CiAgICBvcGVuIHZhciB1aW50NjRWYWx1ZTogVUludDY0IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHVpbnQ4VmFsdWU6IFVJbnQ4IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHVpbnRWYWx1ZTogVUludCB7IGdldCB9CiAgICBvcGVuIGZ1bmMgY29tcGFyZShfIG90aGVyTnVtYmVyOiBOU051bWJlcikgLT4gQ29tcGFyaXNvblJlc3VsdCB7fQogICAgb3BlbiBmdW5jIGRlc2NyaXB0aW9uKHdpdGhMb2NhbGUgbG9jYWxlOiBMb2NhbGU/KSAtPiBTdHJpbmcge30KfQpvcGVuIGNsYXNzIE5TT2JqZWN0IHsKICAgIG9wZW4gY2xhc3MgZnVuYyBjbGFzc0ZhbGxiYWNrc0ZvcktleWVkQXJjaGl2ZXIoKSAtPiBbU3RyaW5nXSB7fQogICAgb3BlbiBjbGFzcyBmdW5jIGNsYXNzRm9yS2V5ZWRVbmFyY2hpdmVyKCkgLT4gQW55Q2xhc3Mge30KICAgIHB1YmxpYyBpbml0KCkge30KICAgIG9wZW4gdmFyIGNsYXNzRm9yQ29kZXI6IEFueUNsYXNzIHsgZ2V0IH0KICAgIG9wZW4gdmFyIGNsYXNzRm9yS2V5ZWRBcmNoaXZlcjogQW55Q2xhc3M/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGhhc2hWYWx1ZTogSW50IHsgZ2V0IH0KICAgIHB1YmxpYyBmdW5jID09KGxoczogTlNPYmplY3QsIHJoczogTlNPYmplY3QpIC0+IEJvb2wge30KICAgIG9wZW4gZnVuYyBjb3B5KCkgLT4gQW55IHt9CiAgICBvcGVuIGZ1bmMgbXV0YWJsZUNvcHkoKSAtPiBBbnkge30KICAgIG9wZW4gZnVuYyByZXBsYWNlbWVudE9iamVjdChmb3IgYUNvZGVyOiBOU0NvZGVyKSAtPiBBbnk/IHt9CiAgICBvcGVuIGZ1bmMgcmVwbGFjZW1lbnRPYmplY3QoZm9yIGFyY2hpdmVyOiBOU0tleWVkQXJjaGl2ZXIpIC0+IEFueT8ge30KfQpvcGVuIGNsYXNzIE5TT3JkZXJlZFNldCB7CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdChhcnJheTogW0FueV0pIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdChhcnJheSBzZXQ6IFtBbnldLCBjb3B5SXRlbXMgZmxhZzogQm9vbCkge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KGFycmF5IHNldDogW0FueV0sIHJhbmdlOiBOU1JhbmdlLCBjb3B5SXRlbXMgZmxhZzogQm9vbCkge30KICAgIHB1YmxpYyByZXF1aXJlZCBjb252ZW5pZW5jZSBpbml0KGFycmF5TGl0ZXJhbCBlbGVtZW50czogQW55Li4uKSB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQob2JqZWN0OiBBbnkpIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdChvYmplY3RzIGVsZW1lbnRzOiBBbnkuLi4pIHt9CiAgICBwdWJsaWMgaW5pdChvYmplY3RzOiBVbnNhZmVQb2ludGVyPEFueU9iamVjdD4hLCBjb3VudCBjbnQ6IEludCkge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KG9yZGVyZWRTZXQgc2V0OiBOU09yZGVyZWRTZXQpIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdChvcmRlcmVkU2V0IHNldDogTlNPcmRlcmVkU2V0LCBjb3B5SXRlbXMgZmxhZzogQm9vbCkge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KG9yZGVyZWRTZXQgc2V0OiBOU09yZGVyZWRTZXQsIHJhbmdlOiBOU1JhbmdlLCBjb3B5SXRlbXMgZmxhZzogQm9vbCkge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KHNldDogU2V0PEFueUhhc2hhYmxlPikge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KHNldDogU2V0PEFueUhhc2hhYmxlPiwgY29weUl0ZW1zIGZsYWc6IEJvb2wpIHt9CiAgICBwdWJsaWMgdmFyIGFycmF5OiBbQW55XSB7IGdldCB9CiAgICBvcGVuIHZhciBjb3VudDogSW50IHsgZ2V0IH0KICAgIHB1YmxpYyB2YXIgZmlyc3RPYmplY3Q6IEFueT8geyBnZXQgfQogICAgcHVibGljIHZhciBsYXN0T2JqZWN0OiBBbnk/IHsgZ2V0IH0KICAgIHB1YmxpYyB2YXIgcmV2ZXJzZWQ6IE5TT3JkZXJlZFNldCB7IGdldCB9CiAgICBwdWJsaWMgdmFyIHNldDogU2V0PEFueUhhc2hhYmxlPiB7IGdldCB9CiAgICBvcGVuIHN1YnNjcmlwdChpZHg6IEludCkgLT4gQW55IHsgZ2V0IH0ge30KICAgIG9wZW4gZnVuYyBjb250YWlucyhfIG9iamVjdDogQW55KSAtPiBCb29sIHt9CiAgICBwdWJsaWMgZnVuYyBkZXNjcmlwdGlvbih3aXRoTG9jYWxlIGxvY2FsZTogTG9jYWxlPykgLT4gU3RyaW5nIHt9CiAgICBwdWJsaWMgZnVuYyBkZXNjcmlwdGlvbih3aXRoTG9jYWxlIGxvY2FsZTogTG9jYWxlPywgaW5kZW50IGxldmVsOiBJbnQpIC0+IFN0cmluZyB7fQogICAgb3BlbiBmdW5jIGVudW1lcmF0ZU9iamVjdHMoXyBibG9jazogKEFueSwgSW50LCBVbnNhZmVNdXRhYmxlUG9pbnRlcjxPYmpDQm9vbD4pIC0+IFN3aWZ0LlZvaWQpIHt9CiAgICBvcGVuIGZ1bmMgZW51bWVyYXRlT2JqZWN0cyhhdCBzOiBJbmRleFNldCwgb3B0aW9ucyBvcHRzOiBOU0VudW1lcmF0aW9uT3B0aW9ucyA9IHgsIHVzaW5nIGJsb2NrOiAoQW55LCBJbnQsIFVuc2FmZU11dGFibGVQb2ludGVyPE9iakNCb29sPikgLT4gU3dpZnQuVm9pZCkge30KICAgIG9wZW4gZnVuYyBlbnVtZXJhdGVPYmplY3RzKG9wdGlvbnMgb3B0czogTlNFbnVtZXJhdGlvbk9wdGlvbnMgPSB4LCB1c2luZyBibG9jazogKEFueSwgSW50LCBVbnNhZmVNdXRhYmxlUG9pbnRlcjxPYmpDQm9vbD4pIC0+IFN3aWZ0LlZvaWQpIHt9CiAgICBvcGVuIGZ1bmMgZmlsdGVyZWQodXNpbmcgcHJlZGljYXRlOiBOU1ByZWRpY2F0ZSkgLT4gTlNPcmRlcmVkU2V0IHt9CiAgICBwdWJsaWMgZnVuYyBnZXRPYmplY3RzKF8gb2JqZWN0czogaW5vdXQgW0FueU9iamVjdF0sIHJhbmdlOiBOU1JhbmdlKSB7fQogICAgb3BlbiBmdW5jIGluZGV4KF8gb3B0czogTlNFbnVtZXJhdGlvbk9wdGlvbnMgPSB4LCBvZk9iamVjdFBhc3NpbmdUZXN0IHByZWRpY2F0ZTogKEFueSwgSW50LCBVbnNhZmVNdXRhYmxlUG9pbnRlcjxPYmpDQm9vbD4pIC0+IEJvb2wpIC0+IEludCB7fQogICAgb3BlbiBmdW5jIGluZGV4KG9mIG9iamVjdDogQW55KSAtPiBJbnQge30KICAgIG9wZW4gZnVuYyBpbmRleChvZiBvYmplY3Q6IEFueSwgaW5Tb3J0ZWRSYW5nZSByYW5nZTogTlNSYW5nZSwgb3B0aW9ucyBvcHRzOiBOU0JpbmFyeVNlYXJjaGluZ09wdGlvbnMgPSB4LCB1c2luZ0NvbXBhcmF0b3IgY21wOiAoQW55LCBBbnkpIC0+IENvbXBhcmlzb25SZXN1bHQpIC0+IEludCB7fQogICAgb3BlbiBmdW5jIGluZGV4KG9mT2JqZWN0QXQgczogSW5kZXhTZXQsIG9wdGlvbnMgb3B0czogTlNFbnVtZXJhdGlvbk9wdGlvbnMgPSB4LCBwYXNzaW5nVGVzdCBwcmVkaWNhdGU6IChBbnksIEludCwgVW5zYWZlTXV0YWJsZVBvaW50ZXI8T2JqQ0Jvb2w+KSAtPiBCb29sKSAtPiBJbnQge30KICAgIG9wZW4gZnVuYyBpbmRleChvZk9iamVjdFBhc3NpbmdUZXN0IHByZWRpY2F0ZTogKEFueSwgSW50LCBVbnNhZmVNdXRhYmxlUG9pbnRlcjxPYmpDQm9vbD4pIC0+IEJvb2wpIC0+IEludCB7fQogICAgb3BlbiBmdW5jIGluZGV4ZXMob2ZPYmplY3RzQXQgczogSW5kZXhTZXQsIG9wdGlvbnMgb3B0czogTlNFbnVtZXJhdGlvbk9wdGlvbnMgPSB4LCBwYXNzaW5nVGVzdCBwcmVkaWNhdGU6IChBbnksIEludCwgVW5zYWZlTXV0YWJsZVBvaW50ZXI8T2JqQ0Jvb2w+KSAtPiBCb29sKSAtPiBJbmRleFNldCB7fQogICAgb3BlbiBmdW5jIGluZGV4ZXMob2ZPYmplY3RzUGFzc2luZ1Rlc3QgcHJlZGljYXRlOiAoQW55LCBJbnQsIFVuc2FmZU11dGFibGVQb2ludGVyPE9iakNCb29sPikgLT4gQm9vbCkgLT4gSW5kZXhTZXQge30KICAgIG9wZW4gZnVuYyBpbmRleGVzKG9wdGlvbnMgb3B0czogTlNFbnVtZXJhdGlvbk9wdGlvbnMgPSB4LCBvZk9iamVjdHNQYXNzaW5nVGVzdCBwcmVkaWNhdGU6IChBbnksIEludCwgVW5zYWZlTXV0YWJsZVBvaW50ZXI8T2JqQ0Jvb2w+KSAtPiBCb29sKSAtPiBJbmRleFNldCB7fQogICAgb3BlbiBmdW5jIGludGVyc2VjdHMoXyBvdGhlcjogTlNPcmRlcmVkU2V0KSAtPiBCb29sIHt9CiAgICBvcGVuIGZ1bmMgaW50ZXJzZWN0c1NldChfIHNldDogU2V0PEFueUhhc2hhYmxlPikgLT4gQm9vbCB7fQogICAgb3BlbiBmdW5jIGlzRXF1YWwodG8gb3RoZXI6IE5TT3JkZXJlZFNldCkgLT4gQm9vbCB7fQogICAgb3BlbiBmdW5jIGlzU3Vic2V0KG9mIG90aGVyOiBOU09yZGVyZWRTZXQpIC0+IEJvb2wge30KICAgIHB1YmxpYyBmdW5jIG1ha2VJdGVyYXRvcigpIC0+IEl0ZXJhdG9yIHt9CiAgICBvcGVuIGZ1bmMgb2JqZWN0KGF0IGlkeDogSW50KSAtPiBBbnkge30KICAgIHB1YmxpYyBmdW5jIG9iamVjdEVudW1lcmF0b3IoKSAtPiBOU0VudW1lcmF0b3Ige30KICAgIG9wZW4gZnVuYyBvYmplY3RzKGF0IGluZGV4ZXM6IEluZGV4U2V0KSAtPiBbQW55XSB7fQogICAgcHVibGljIGZ1bmMgcmV2ZXJzZU9iamVjdEVudW1lcmF0b3IoKSAtPiBOU0VudW1lcmF0b3Ige30KICAgIG9wZW4gZnVuYyBzb3J0ZWRBcnJheShjb21wYXJhdG9yIGNtcHRyOiAoQW55LCBBbnkpIC0+IENvbXBhcmlzb25SZXN1bHQpIC0+IFtBbnldIHt9CiAgICBvcGVuIGZ1bmMgc29ydGVkQXJyYXkob3B0aW9ucyBvcHRzOiBOU1NvcnRPcHRpb25zID0geCwgdXNpbmdDb21wYXJhdG9yIGNtcHRyOiAoQW55LCBBbnkpIC0+IENvbXBhcmlzb25SZXN1bHQpIC0+IFtBbnldIHt9CiAgICBwdWJsaWMgZnVuYyBzb3J0ZWRBcnJheSh1c2luZyBzb3J0RGVzY3JpcHRvcnM6IFtOU1NvcnREZXNjcmlwdG9yXSkgLT4gW0FueV0ge30KfQpvcGVuIGNsYXNzIE5TUGVyc29uTmFtZUNvbXBvbmVudHMgewogICAgb3BlbiB2YXIgZmFtaWx5TmFtZTogU3RyaW5nPyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgZ2l2ZW5OYW1lOiBTdHJpbmc/IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBtaWRkbGVOYW1lOiBTdHJpbmc/IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBuYW1lUHJlZml4OiBTdHJpbmc/IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBuYW1lU3VmZml4OiBTdHJpbmc/IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBuaWNrbmFtZTogU3RyaW5nPyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgcGhvbmV0aWNSZXByZXNlbnRhdGlvbjogUGVyc29uTmFtZUNvbXBvbmVudHM/IHsgZ2V0IHNldCB9Cn0Kb3BlbiBjbGFzcyBOU1ByZWRpY2F0ZSB7CiAgICBwdWJsaWMgaW5pdChibG9jazogQGVzY2FwaW5nIChBbnk/LCBbU3RyaW5nOiBBbnldPykgLT4gQm9vbCkge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KGZvcm1hdCBwcmVkaWNhdGVGb3JtYXQ6IFN0cmluZywgXyBhcmdzOiBDVmFyQXJnLi4uKSB7fQogICAgcHVibGljIGluaXQoZm9ybWF0IHByZWRpY2F0ZUZvcm1hdDogU3RyaW5nLCBhcmd1bWVudEFycmF5IGFyZ3VtZW50czogW0FueV0/KSB7fQogICAgcHVibGljIGluaXQoZm9ybWF0IHByZWRpY2F0ZUZvcm1hdDogU3RyaW5nLCBhcmd1bWVudHMgYXJnTGlzdDogQ1ZhTGlzdFBvaW50ZXIpIHt9CiAgICBwdWJsaWMgaW5pdD8oZnJvbU1ldGFkYXRhUXVlcnlTdHJpbmcgcXVlcnlTdHJpbmc6IFN0cmluZykge30KICAgIHB1YmxpYyBpbml0KHZhbHVlOiBCb29sKSB7fQogICAgb3BlbiB2YXIgcHJlZGljYXRlRm9ybWF0OiBTdHJpbmcgeyBnZXQgfQogICAgb3BlbiBmdW5jIGFsbG93RXZhbHVhdGlvbigpIHt9CiAgICBvcGVuIGZ1bmMgZXZhbHVhdGUod2l0aCBvYmplY3Q6IEFueT8pIC0+IEJvb2wge30KICAgIG9wZW4gZnVuYyBldmFsdWF0ZSh3aXRoIG9iamVjdDogQW55Pywgc3Vic3RpdHV0aW9uVmFyaWFibGVzIGJpbmRpbmdzOiBbU3RyaW5nOiBBbnldPykgLT4gQm9vbCB7fQogICAgb3BlbiBmdW5jIHdpdGhTdWJzdGl0dXRpb25WYXJpYWJsZXMoXyB2YXJpYWJsZXM6IFtTdHJpbmc6IEFueV0pIC0+IFNlbGYge30KfQpvcGVuIGNsYXNzIE5TUmVjdXJzaXZlTG9jayB7CiAgICBvcGVuIHZhciBuYW1lOiBTdHJpbmc/IHsgZ2V0IHNldCB9CiAgICBvcGVuIGZ1bmMgbG9jayhiZWZvcmUgbGltaXQ6IERhdGUpIC0+IEJvb2wge30KICAgIG9wZW4gZnVuYyB0cnkoKSAtPiBCb29sIHt9Cn0Kb3BlbiBjbGFzcyBOU1JlZ3VsYXJFeHByZXNzaW9uIHsKICAgIG9wZW4gY2xhc3MgZnVuYyBlc2NhcGVkUGF0dGVybihmb3Igc3RyaW5nOiBTdHJpbmcpIC0+IFN0cmluZyB7fQogICAgb3BlbiBjbGFzcyBmdW5jIGVzY2FwZWRUZW1wbGF0ZShmb3Igc3RyaW5nOiBTdHJpbmcpIC0+IFN0cmluZyB7fQogICAgcHVibGljIGluaXQocGF0dGVybjogU3RyaW5nLCBvcHRpb25zOiBPcHRpb25zID0geCkgdGhyb3dzIHt9CiAgICBvcGVuIHZhciBudW1iZXJPZkNhcHR1cmVHcm91cHM6IEludCB7IGdldCB9CiAgICBvcGVuIHZhciBvcHRpb25zOiBPcHRpb25zIHsgZ2V0IH0KICAgIG9wZW4gdmFyIHBhdHRlcm46IFN0cmluZyB7IGdldCB9CiAgICBwdWJsaWMgZnVuYyBlbnVtZXJhdGVNYXRjaGVzKGluIHN0cmluZzogU3RyaW5nLCBvcHRpb25zOiBOU1JlZ3VsYXJFeHByZXNzaW9uLk1hdGNoaW5nT3B0aW9ucyA9IHgsIHJhbmdlOiBOU1JhbmdlLCB1c2luZyBibG9jazogQGVzY2FwaW5nIChOU1RleHRDaGVja2luZ1Jlc3VsdD8sIE5TUmVndWxhckV4cHJlc3Npb24uTWF0Y2hpbmdGbGFncywgVW5zYWZlTXV0YWJsZVBvaW50ZXI8T2JqQ0Jvb2w+KSAtPiBTd2lmdC5Wb2lkKSB7fQogICAgcHVibGljIGZ1bmMgZmlyc3RNYXRjaChpbiBzdHJpbmc6IFN0cmluZywgb3B0aW9uczogTlNSZWd1bGFyRXhwcmVzc2lvbi5NYXRjaGluZ09wdGlvbnMgPSB4LCByYW5nZTogTlNSYW5nZSkgLT4gTlNUZXh0Q2hlY2tpbmdSZXN1bHQ/IHt9CiAgICBwdWJsaWMgZnVuYyBtYXRjaGVzKGluIHN0cmluZzogU3RyaW5nLCBvcHRpb25zOiBOU1JlZ3VsYXJFeHByZXNzaW9uLk1hdGNoaW5nT3B0aW9ucyA9IHgsIHJhbmdlOiBOU1JhbmdlKSAtPiBbTlNUZXh0Q2hlY2tpbmdSZXN1bHRdIHt9CiAgICBwdWJsaWMgZnVuYyBudW1iZXJPZk1hdGNoZXMoaW4gc3RyaW5nOiBTdHJpbmcsIG9wdGlvbnM6IE5TUmVndWxhckV4cHJlc3Npb24uTWF0Y2hpbmdPcHRpb25zID0geCwgcmFuZ2U6IE5TUmFuZ2UpIC0+IEludCB7fQogICAgcHVibGljIGZ1bmMgcmFuZ2VPZkZpcnN0TWF0Y2goaW4gc3RyaW5nOiBTdHJpbmcsIG9wdGlvbnM6IE5TUmVndWxhckV4cHJlc3Npb24uTWF0Y2hpbmdPcHRpb25zID0geCwgcmFuZ2U6IE5TUmFuZ2UpIC0+IE5TUmFuZ2Uge30KICAgIHB1YmxpYyBmdW5jIHJlcGxhY2VNYXRjaGVzKGluIHN0cmluZzogTlNNdXRhYmxlU3RyaW5nLCBvcHRpb25zOiBOU1JlZ3VsYXJFeHByZXNzaW9uLk1hdGNoaW5nT3B0aW9ucyA9IHgsIHJhbmdlOiBOU1JhbmdlLCB3aXRoVGVtcGxhdGUgdGVtcGw6IFN0cmluZykgLT4gSW50IHt9CiAgICBwdWJsaWMgZnVuYyByZXBsYWNlbWVudFN0cmluZyhmb3IgcmVzdWx0OiBOU1RleHRDaGVja2luZ1Jlc3VsdCwgaW4gc3RyaW5nOiBTdHJpbmcsIG9mZnNldDogSW50LCB0ZW1wbGF0ZSB0ZW1wbDogU3RyaW5nKSAtPiBTdHJpbmcge30KICAgIHB1YmxpYyBmdW5jIHN0cmluZ0J5UmVwbGFjaW5nTWF0Y2hlcyhpbiBzdHJpbmc6IFN0cmluZywgb3B0aW9uczogTlNSZWd1bGFyRXhwcmVzc2lvbi5NYXRjaGluZ09wdGlvbnMgPSB4LCByYW5nZTogTlNSYW5nZSwgd2l0aFRlbXBsYXRlIHRlbXBsOiBTdHJpbmcpIC0+IFN0cmluZyB7fQp9Cm9wZW4gY2xhc3MgTlNTZXQgewogICAgcHVibGljIHN0YXRpYyB2YXIgc3VwcG9ydHNTZWN1cmVDb2Rpbmc6IEJvb2wgeyBnZXQgfQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQoKSB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQoYXJyYXk6IFtBbnldKSB7fQogICAgcHVibGljIHJlcXVpcmVkIGNvbnZlbmllbmNlIGluaXQ/KGNvZGVyIGFEZWNvZGVyOiBOU0NvZGVyKSB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQob2JqZWN0OiBBbnkpIHt9CiAgICBwdWJsaWMgaW5pdChvYmplY3RzOiBVbnNhZmVQb2ludGVyPEFueU9iamVjdD4hLCBjb3VudCBjbnQ6IEludCkge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KHNldDogU2V0PEFueUhhc2hhYmxlPikge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KHNldDogU2V0PEFueUhhc2hhYmxlPiwgY29weUl0ZW1zIGZsYWc6IEJvb2wpIHt9CiAgICBvcGVuIHZhciBhbGxPYmplY3RzOiBbQW55XSB7IGdldCB9CiAgICBvcGVuIHZhciBjb3VudDogSW50IHsgZ2V0IH0KICAgIHB1YmxpYyB2YXIgY3VzdG9tTWlycm9yOiBNaXJyb3IgeyBnZXQgfQogICAgb3BlbiB2YXIgaGFzaDogSW50IHsgZ2V0IH0KICAgIG9wZW4gZnVuYyBhZGRpbmcoXyBhbk9iamVjdDogQW55KSAtPiBTZXQ8QW55SGFzaGFibGU+IHt9CiAgICBvcGVuIGZ1bmMgYWRkaW5nT2JqZWN0cyhmcm9tIG90aGVyOiBTZXQ8QW55SGFzaGFibGU+KSAtPiBTZXQ8QW55SGFzaGFibGU+IHt9CiAgICBvcGVuIGZ1bmMgYW55T2JqZWN0KCkgLT4gQW55PyB7fQogICAgb3BlbiBmdW5jIGNvbnRhaW5zKF8gYW5PYmplY3Q6IEFueSkgLT4gQm9vbCB7fQogICAgb3BlbiBmdW5jIGNvcHkoKSAtPiBBbnkge30KICAgIG9wZW4gZnVuYyBjb3B5KHdpdGggem9uZTogTlNab25lPyA9IHgpIC0+IEFueSB7fQogICAgb3BlbiBmdW5jIGRlc2NyaXB0aW9uKHdpdGhMb2NhbGUgbG9jYWxlOiBMb2NhbGU/KSAtPiBTdHJpbmcge30KICAgIG9wZW4gZnVuYyBlbmNvZGUod2l0aCBhQ29kZXI6IE5TQ29kZXIpIHt9CiAgICBvcGVuIGZ1bmMgZW51bWVyYXRlT2JqZWN0cyhfIGJsb2NrOiAoQW55LCBVbnNhZmVNdXRhYmxlUG9pbnRlcjxPYmpDQm9vbD4pIC0+IFN3aWZ0LlZvaWQpIHt9CiAgICBvcGVuIGZ1bmMgZW51bWVyYXRlT2JqZWN0cyhvcHRpb25zIG9wdHM6IE5TRW51bWVyYXRpb25PcHRpb25zID0geCwgdXNpbmcgYmxvY2s6IChBbnksIFVuc2FmZU11dGFibGVQb2ludGVyPE9iakNCb29sPikgLT4gU3dpZnQuVm9pZCkge30KICAgIG9wZW4gZnVuYyBmaWx0ZXJlZCh1c2luZyBwcmVkaWNhdGU6IE5TUHJlZGljYXRlKSAtPiBTZXQ8QW55SGFzaGFibGU+IHt9CiAgICBvcGVuIGZ1bmMgaW50ZXJzZWN0cyhfIG90aGVyU2V0OiBTZXQ8QW55SGFzaGFibGU+KSAtPiBCb29sIHt9CiAgICBvcGVuIGZ1bmMgaXNFcXVhbChfIHZhbHVlOiBBbnk/KSAtPiBCb29sIHt9CiAgICBvcGVuIGZ1bmMgaXNFcXVhbCh0byBvdGhlclNldDogU2V0PEFueUhhc2hhYmxlPikgLT4gQm9vbCB7fQogICAgb3BlbiBmdW5jIGlzU3Vic2V0KG9mIG90aGVyU2V0OiBTZXQ8QW55SGFzaGFibGU+KSAtPiBCb29sIHt9CiAgICBwdWJsaWMgZnVuYyBtYWtlSXRlcmF0b3IoKSAtPiBJdGVyYXRvciB7fQogICAgb3BlbiBmdW5jIG1lbWJlcihfIG9iamVjdDogQW55KSAtPiBBbnk/IHt9CiAgICBvcGVuIGZ1bmMgbXV0YWJsZUNvcHkoKSAtPiBBbnkge30KICAgIG9wZW4gZnVuYyBtdXRhYmxlQ29weSh3aXRoIHpvbmU6IE5TWm9uZT8gPSB4KSAtPiBBbnkge30KICAgIG9wZW4gZnVuYyBvYmplY3RFbnVtZXJhdG9yKCkgLT4gTlNFbnVtZXJhdG9yIHt9CiAgICBvcGVuIGZ1bmMgb2JqZWN0cyhvcHRpb25zIG9wdHM6IE5TRW51bWVyYXRpb25PcHRpb25zID0geCwgcGFzc2luZ1Rlc3QgcHJlZGljYXRlOiAoQW55LCBVbnNhZmVNdXRhYmxlUG9pbnRlcjxPYmpDQm9vbD4pIC0+IEJvb2wpIC0+IFNldDxBbnlIYXNoYWJsZT4ge30KICAgIG9wZW4gZnVuYyBvYmplY3RzKHBhc3NpbmdUZXN0IHByZWRpY2F0ZTogKEFueSwgVW5zYWZlTXV0YWJsZVBvaW50ZXI8T2JqQ0Jvb2w+KSAtPiBCb29sKSAtPiBTZXQ8QW55SGFzaGFibGU+IHt9CiAgICBwdWJsaWMgZnVuYyBzb3J0ZWRBcnJheSh1c2luZyBzb3J0RGVzY3JpcHRvcnM6IFtOU1NvcnREZXNjcmlwdG9yXSkgLT4gW0FueV0ge30KfQpvcGVuIGNsYXNzIE5TU29ydERlc2NyaXB0b3IgewogICAgcHVibGljIGluaXQoa2V5OiBTdHJpbmc/LCBhc2NlbmRpbmc6IEJvb2wpIHt9CiAgICBwdWJsaWMgaW5pdChrZXk6IFN0cmluZz8sIGFzY2VuZGluZzogQm9vbCwgY29tcGFyYXRvciBjbXB0cjogQ29tcGFyYXRvcikge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0PFJvb3QsIFZhbHVlPihrZXlQYXRoOiBLZXlQYXRoPFJvb3QsIFZhbHVlPiwgYXNjZW5kaW5nOiBCb29sKSB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQ8Um9vdCwgVmFsdWU+KGtleVBhdGg6IEtleVBhdGg8Um9vdCwgVmFsdWU+LCBhc2NlbmRpbmc6IEJvb2wsIGNvbXBhcmF0b3IgY21wdHI6IEBlc2NhcGluZyBDb21wYXJhdG9yKSB7fQogICAgb3BlbiB2YXIgYXNjZW5kaW5nOiBCb29sIHsgZ2V0IH0KICAgIG9wZW4gdmFyIGNvbXBhcmF0b3I6IENvbXBhcmF0b3IgeyBnZXQgfQogICAgb3BlbiB2YXIga2V5OiBTdHJpbmc/IHsgZ2V0IH0KICAgIHB1YmxpYyB2YXIga2V5UGF0aDogQW55S2V5UGF0aD8geyBnZXQgfQogICAgb3BlbiB2YXIgcmV2ZXJzZWRTb3J0RGVzY3JpcHRvcjogQW55IHsgZ2V0IH0KICAgIG9wZW4gZnVuYyBhbGxvd0V2YWx1YXRpb24oKSB7fQogICAgb3BlbiBmdW5jIGNvbXBhcmUoXyBvYmplY3QxOiBBbnksIHRvIG9iamVjdDI6IEFueSkgLT4gQ29tcGFyaXNvblJlc3VsdCB7fQp9Cm9wZW4gY2xhc3MgTlNTdHJpbmcgewogICAgb3BlbiBjbGFzcyB2YXIgYXZhaWxhYmxlU3RyaW5nRW5jb2RpbmdzOiBVbnNhZmVQb2ludGVyPFVJbnQ+IHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgdmFyIGRlZmF1bHRDU3RyaW5nRW5jb2Rpbmc6IFVJbnQgeyBnZXQgfQogICAgcHVibGljIHN0YXRpYyB2YXIgc3VwcG9ydHNTZWN1cmVDb2Rpbmc6IEJvb2wgeyBnZXQgfQogICAgb3BlbiBjbGFzcyBmdW5jIGxvY2FsaXplZE5hbWUob2YgZW5jb2Rpbmc6IFVJbnQpIC0+IFN0cmluZyB7fQogICAgcHVibGljIHN0YXRpYyBmdW5jIHBhdGhXaXRoQ29tcG9uZW50cyhfIGNvbXBvbmVudHM6IFtTdHJpbmddKSAtPiBTdHJpbmcge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KCkge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0PyhieXRlczogVW5zYWZlUmF3UG9pbnRlciwgbGVuZ3RoIGxlbjogSW50LCBlbmNvZGluZzogVUludCkge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0PyhieXRlc05vQ29weSBieXRlczogVW5zYWZlTXV0YWJsZVJhd1BvaW50ZXIsIGxlbmd0aCBsZW46IEludCwgZW5jb2Rpbmc6IFVJbnQsIGZyZWVXaGVuRG9uZSBmcmVlQnVmZmVyOiBCb29sKSB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQ/KGNTdHJpbmcgbnVsbFRlcm1pbmF0ZWRDU3RyaW5nOiBVbnNhZmVQb2ludGVyPEludDg+LCBlbmNvZGluZzogVUludCkge30KICAgIHB1YmxpYyBpbml0KGNoYXJhY3RlcnM6IFVuc2FmZVBvaW50ZXI8dW5pY2hhcj4sIGxlbmd0aDogSW50KSB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQoY2hhcmFjdGVyc05vQ29weSBjaGFyYWN0ZXJzOiBVbnNhZmVNdXRhYmxlUG9pbnRlcjx1bmljaGFyPiwgbGVuZ3RoOiBJbnQsIGZyZWVXaGVuRG9uZSBmcmVlQnVmZmVyOiBCb29sKSB7fQogICAgcHVibGljIHJlcXVpcmVkIGNvbnZlbmllbmNlIGluaXQ/KGNvZGVyIGFEZWNvZGVyOiBOU0NvZGVyKSB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQoY29udGVudHNPZiB1cmw6IFVSTCwgZW5jb2RpbmcgZW5jOiBVSW50KSB0aHJvd3Mge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KGNvbnRlbnRzT2YgdXJsOiBVUkwsIHVzZWRFbmNvZGluZyBlbmM6IFVuc2FmZU11dGFibGVQb2ludGVyPFVJbnQ+PykgdGhyb3dzIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdChjb250ZW50c09mRmlsZSBwYXRoOiBTdHJpbmcsIGVuY29kaW5nIGVuYzogVUludCkgdGhyb3dzIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdChjb250ZW50c09mRmlsZSBwYXRoOiBTdHJpbmcsIHVzZWRFbmNvZGluZyBlbmM6IFVuc2FmZU11dGFibGVQb2ludGVyPFVJbnQ+PykgdGhyb3dzIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdD8oZGF0YTogRGF0YSwgZW5jb2Rpbmc6IFVJbnQpIHt9CiAgICBwdWJsaWMgcmVxdWlyZWQgY29udmVuaWVuY2UgaW5pdChleHRlbmRlZEdyYXBoZW1lQ2x1c3RlckxpdGVyYWwgdmFsdWU6IFN0YXRpY1N0cmluZykge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KGZvcm1hdDogTlNTdHJpbmcsIF8gYXJnczogQ1ZhckFyZy4uLikge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KGZvcm1hdDogU3RyaW5nLCBhcmd1bWVudHMgYXJnTGlzdDogQ1ZhTGlzdFBvaW50ZXIpIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdChmb3JtYXQ6IFN0cmluZywgbG9jYWxlOiBBbnlPYmplY3Q/LCBhcmd1bWVudHMgYXJnTGlzdDogQ1ZhTGlzdFBvaW50ZXIpIHt9CiAgICBwdWJsaWMgcmVxdWlyZWQgY29udmVuaWVuY2UgaW5pdChzdHJpbmcgYVN0cmluZzogU3RyaW5nKSB7fQogICAgcHVibGljIHJlcXVpcmVkIGluaXQoc3RyaW5nTGl0ZXJhbCB2YWx1ZTogU3RhdGljU3RyaW5nKSB7fQogICAgcHVibGljIHJlcXVpcmVkIGNvbnZlbmllbmNlIGluaXQodW5pY29kZVNjYWxhckxpdGVyYWwgdmFsdWU6IFN0YXRpY1N0cmluZykge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0Pyh1dGY4U3RyaW5nIG51bGxUZXJtaW5hdGVkQ1N0cmluZzogVW5zYWZlUG9pbnRlcjxJbnQ4Pikge30KICAgIHB1YmxpYyB2YXIgYm9vbFZhbHVlOiBCb29sIHsgZ2V0IH0KICAgIHB1YmxpYyB2YXIgY2FwaXRhbGl6ZWQ6IFN0cmluZyB7IGdldCB9CiAgICBvcGVuIHZhciBkZWNvbXBvc2VkU3RyaW5nV2l0aENhbm9uaWNhbE1hcHBpbmc6IFN0cmluZyB7IGdldCB9CiAgICBvcGVuIHZhciBkZWNvbXBvc2VkU3RyaW5nV2l0aENvbXBhdGliaWxpdHlNYXBwaW5nOiBTdHJpbmcgeyBnZXQgfQogICAgcHVibGljIHZhciBkZWxldGluZ0xhc3RQYXRoQ29tcG9uZW50OiBTdHJpbmcgeyBnZXQgfQogICAgcHVibGljIHZhciBkZWxldGluZ1BhdGhFeHRlbnNpb246IFN0cmluZyB7IGdldCB9CiAgICBvcGVuIHZhciBkZXNjcmlwdGlvbjogU3RyaW5nIHsgZ2V0IH0KICAgIHB1YmxpYyB2YXIgZG91YmxlVmFsdWU6IERvdWJsZSB7IGdldCB9CiAgICBwdWJsaWMgdmFyIGV4cGFuZGluZ1RpbGRlSW5QYXRoOiBTdHJpbmcgeyBnZXQgfQogICAgcHVibGljIHZhciBmYXN0ZXN0RW5jb2Rpbmc6IFVJbnQgeyBnZXQgfQogICAgcHVibGljIHZhciBmaWxlU3lzdGVtUmVwcmVzZW50YXRpb246IFVuc2FmZVBvaW50ZXI8SW50OD4geyBnZXQgfQogICAgcHVibGljIHZhciBmbG9hdFZhbHVlOiBGbG9hdCB7IGdldCB9CiAgICBvcGVuIHZhciBoYXNoOiBJbnQgeyBnZXQgfQogICAgcHVibGljIHZhciBpbnRWYWx1ZTogSW50MzIgeyBnZXQgfQogICAgcHVibGljIHZhciBpbnRlZ2VyVmFsdWU6IEludCB7IGdldCB9CiAgICBwdWJsaWMgdmFyIGlzQWJzb2x1dGVQYXRoOiBCb29sIHsgZ2V0IH0KICAgIHB1YmxpYyB2YXIgbGFzdFBhdGhDb21wb25lbnQ6IFN0cmluZyB7IGdldCB9CiAgICBvcGVuIHZhciBsZW5ndGg6IEludCB7IGdldCB9CiAgICBwdWJsaWMgdmFyIGxvY2FsaXplZENhcGl0YWxpemVkOiBTdHJpbmcgeyBnZXQgfQogICAgcHVibGljIHZhciBsb2NhbGl6ZWRMb3dlcmNhc2U6IFN0cmluZyB7IGdldCB9CiAgICBwdWJsaWMgdmFyIGxvY2FsaXplZFVwcGVyY2FzZTogU3RyaW5nIHsgZ2V0IH0KICAgIHB1YmxpYyB2YXIgbG9uZ0xvbmdWYWx1ZTogSW50NjQgeyBnZXQgfQogICAgcHVibGljIHZhciBsb3dlcmNhc2VkOiBTdHJpbmcgeyBnZXQgfQogICAgcHVibGljIHZhciBwYXRoQ29tcG9uZW50czogW1N0cmluZ10geyBnZXQgfQogICAgcHVibGljIHZhciBwYXRoRXh0ZW5zaW9uOiBTdHJpbmcgeyBnZXQgfQogICAgb3BlbiB2YXIgcHJlY29tcG9zZWRTdHJpbmdXaXRoQ2Fub25pY2FsTWFwcGluZzogU3RyaW5nIHsgZ2V0IH0KICAgIG9wZW4gdmFyIHByZWNvbXBvc2VkU3RyaW5nV2l0aENvbXBhdGliaWxpdHlNYXBwaW5nOiBTdHJpbmcgeyBnZXQgfQogICAgb3BlbiB2YXIgcmVtb3ZpbmdQZXJjZW50RW5jb2Rpbmc6IFN0cmluZz8geyBnZXQgfQogICAgcHVibGljIHZhciByZXNvbHZpbmdTeW1saW5rc0luUGF0aDogU3RyaW5nIHsgZ2V0IH0KICAgIHB1YmxpYyB2YXIgc21hbGxlc3RFbmNvZGluZzogVUludCB7IGdldCB9CiAgICBwdWJsaWMgdmFyIHN0YW5kYXJkaXppbmdQYXRoOiBTdHJpbmcgeyBnZXQgfQogICAgcHVibGljIHZhciB1cHBlcmNhc2VkOiBTdHJpbmcgeyBnZXQgfQogICAgcHVibGljIHZhciB1dGY4U3RyaW5nOiBVbnNhZmVQb2ludGVyPEludDg+PyB7IGdldCB9CiAgICBvcGVuIGZ1bmMgYWRkaW5nUGVyY2VudEVuY29kaW5nKHdpdGhBbGxvd2VkQ2hhcmFjdGVycyBhbGxvd2VkQ2hhcmFjdGVyczogQ2hhcmFjdGVyU2V0KSAtPiBTdHJpbmc/IHt9CiAgICBwdWJsaWMgZnVuYyBhcHBlbmRpbmcoXyBhU3RyaW5nOiBTdHJpbmcpIC0+IFN0cmluZyB7fQogICAgcHVibGljIGZ1bmMgYXBwZW5kaW5nUGF0aENvbXBvbmVudChfIHN0cjogU3RyaW5nKSAtPiBTdHJpbmcge30KICAgIHB1YmxpYyBmdW5jIGFwcGVuZGluZ1BhdGhFeHRlbnNpb24oXyBzdHI6IFN0cmluZykgLT4gU3RyaW5nPyB7fQogICAgb3BlbiBmdW5jIGFwcGx5aW5nVHJhbnNmb3JtKF8gdHJhbnNmb3JtOiBTdHJpbmcsIHJldmVyc2U6IEJvb2wpIC0+IFN0cmluZz8ge30KICAgIHB1YmxpYyBmdW5jIGNTdHJpbmcodXNpbmcgZW5jb2Rpbmc6IFVJbnQpIC0+IFVuc2FmZVBvaW50ZXI8SW50OD4/IHt9CiAgICBwdWJsaWMgZnVuYyBjYW5CZUNvbnZlcnRlZCh0byBlbmNvZGluZzogVUludCkgLT4gQm9vbCB7fQogICAgcHVibGljIGZ1bmMgY2FwaXRhbGl6ZWQod2l0aCBsb2NhbGU6IExvY2FsZT8pIC0+IFN0cmluZyB7fQogICAgcHVibGljIGZ1bmMgY2FzZUluc2Vuc2l0aXZlQ29tcGFyZShfIHN0cmluZzogU3RyaW5nKSAtPiBDb21wYXJpc29uUmVzdWx0IHt9CiAgICBvcGVuIGZ1bmMgY2hhcmFjdGVyKGF0IGluZGV4OiBJbnQpIC0+IHVuaWNoYXIge30KICAgIHB1YmxpYyBmdW5jIGNvbW1vblByZWZpeCh3aXRoIHN0cjogU3RyaW5nLCBvcHRpb25zIG1hc2s6IENvbXBhcmVPcHRpb25zID0geCkgLT4gU3RyaW5nIHt9CiAgICBwdWJsaWMgZnVuYyBjb21wYXJlKF8gc3RyaW5nOiBTdHJpbmcpIC0+IENvbXBhcmlzb25SZXN1bHQge30KICAgIHB1YmxpYyBmdW5jIGNvbXBhcmUoXyBzdHJpbmc6IFN0cmluZywgb3B0aW9ucyBtYXNrOiBDb21wYXJlT3B0aW9ucykgLT4gQ29tcGFyaXNvblJlc3VsdCB7fQogICAgcHVibGljIGZ1bmMgY29tcGFyZShfIHN0cmluZzogU3RyaW5nLCBvcHRpb25zIG1hc2s6IENvbXBhcmVPcHRpb25zLCByYW5nZSBjb21wYXJlUmFuZ2U6IE5TUmFuZ2UpIC0+IENvbXBhcmlzb25SZXN1bHQge30KICAgIHB1YmxpYyBmdW5jIGNvbXBhcmUoXyBzdHJpbmc6IFN0cmluZywgb3B0aW9ucyBtYXNrOiBDb21wYXJlT3B0aW9ucywgcmFuZ2UgY29tcGFyZVJhbmdlOiBOU1JhbmdlLCBsb2NhbGU6IEFueT8pIC0+IENvbXBhcmlzb25SZXN1bHQge30KICAgIHB1YmxpYyBmdW5jIGNvbXBsZXRlUGF0aChpbnRvIG91dHB1dE5hbWU6IGlub3V0IFN0cmluZz8sIGNhc2VTZW5zaXRpdmUgZmxhZzogQm9vbCwgbWF0Y2hlc0ludG8gb3V0cHV0QXJyYXk6IGlub3V0IFtTdHJpbmddLCBmaWx0ZXJUeXBlczogW1N0cmluZ10/KSAtPiBJbnQge30KICAgIG9wZW4gZnVuYyBjb21wb25lbnRzKHNlcGFyYXRlZEJ5IHNlcGFyYXRvcjogQ2hhcmFjdGVyU2V0KSAtPiBbU3RyaW5nXSB7fQogICAgcHVibGljIGZ1bmMgY29udGFpbnMoXyBzdHI6IFN0cmluZykgLT4gQm9vbCB7fQogICAgb3BlbiBmdW5jIGNvcHkoKSAtPiBBbnkge30KICAgIG9wZW4gZnVuYyBjb3B5KHdpdGggem9uZTogTlNab25lPyA9IHgpIC0+IEFueSB7fQogICAgcHVibGljIGZ1bmMgZGF0YSh1c2luZyBlbmNvZGluZzogVUludCkgLT4gRGF0YT8ge30KICAgIHB1YmxpYyBmdW5jIGRhdGEodXNpbmcgZW5jb2Rpbmc6IFVJbnQsIGFsbG93TG9zc3lDb252ZXJzaW9uIGxvc3N5OiBCb29sID0geCkgLT4gRGF0YT8ge30KICAgIG9wZW4gZnVuYyBlbmNvZGUod2l0aCBhQ29kZXI6IE5TQ29kZXIpIHt9CiAgICBwdWJsaWMgZnVuYyBlbnVtZXJhdGVMaW5lcyhfIGJsb2NrOiAoU3RyaW5nLCBVbnNhZmVNdXRhYmxlUG9pbnRlcjxPYmpDQm9vbD4pIC0+IFZvaWQpIHt9CiAgICBwdWJsaWMgZnVuYyBlbnVtZXJhdGVTdWJzdHJpbmdzKGluIHJhbmdlOiBOU1JhbmdlLCBvcHRpb25zIG9wdHM6IEVudW1lcmF0aW9uT3B0aW9ucyA9IHgsIHVzaW5nIGJsb2NrOiAoU3RyaW5nPywgTlNSYW5nZSwgTlNSYW5nZSwgVW5zYWZlTXV0YWJsZVBvaW50ZXI8T2JqQ0Jvb2w+KSAtPiBWb2lkKSB7fQogICAgb3BlbiBmdW5jIGZvbGRpbmcob3B0aW9uczogQ29tcGFyZU9wdGlvbnMgPSB4LCBsb2NhbGU6IExvY2FsZT8pIC0+IFN0cmluZyB7fQogICAgcHVibGljIGZ1bmMgZ2V0Qnl0ZXMoXyBidWZmZXI6IFVuc2FmZU11dGFibGVSYXdQb2ludGVyPywgbWF4TGVuZ3RoIG1heEJ1ZmZlckNvdW50OiBJbnQsIHVzZWRMZW5ndGggdXNlZEJ1ZmZlckNvdW50OiBVbnNhZmVNdXRhYmxlUG9pbnRlcjxJbnQ+PywgZW5jb2Rpbmc6IFVJbnQsIG9wdGlvbnM6IEVuY29kaW5nQ29udmVyc2lvbk9wdGlvbnMgPSB4LCByYW5nZTogTlNSYW5nZSwgcmVtYWluaW5nIGxlZnRvdmVyOiBOU1JhbmdlUG9pbnRlcj8pIC0+IEJvb2wge30KICAgIHB1YmxpYyBmdW5jIGdldENTdHJpbmcoXyBidWZmZXI6IFVuc2FmZU11dGFibGVQb2ludGVyPEludDg+LCBtYXhMZW5ndGggbWF4QnVmZmVyQ291bnQ6IEludCwgZW5jb2Rpbmc6IFVJbnQpIC0+IEJvb2wge30KICAgIHB1YmxpYyBmdW5jIGdldENoYXJhY3RlcnMoXyBidWZmZXI6IFVuc2FmZU11dGFibGVQb2ludGVyPHVuaWNoYXI+LCByYW5nZTogTlNSYW5nZSkge30KICAgIHB1YmxpYyBmdW5jIGdldEZpbGVTeXN0ZW1SZXByZXNlbnRhdGlvbihfIGNuYW1lOiBVbnNhZmVNdXRhYmxlUG9pbnRlcjxJbnQ4PiwgbWF4TGVuZ3RoIG1heDogSW50KSAtPiBCb29sIHt9CiAgICBwdWJsaWMgZnVuYyBnZXRMaW5lU3RhcnQoXyBzdGFydFB0cjogVW5zYWZlTXV0YWJsZVBvaW50ZXI8SW50Pj8sIGVuZCBsaW5lRW5kUHRyOiBVbnNhZmVNdXRhYmxlUG9pbnRlcjxJbnQ+PywgY29udGVudHNFbmQgY29udGVudHNFbmRQdHI6IFVuc2FmZU11dGFibGVQb2ludGVyPEludD4/LCBmb3IgcmFuZ2U6IE5TUmFuZ2UpIHt9CiAgICBwdWJsaWMgZnVuYyBnZXRQYXJhZ3JhcGhTdGFydChfIHN0YXJ0UHRyOiBVbnNhZmVNdXRhYmxlUG9pbnRlcjxJbnQ+PywgZW5kIHBhckVuZFB0cjogVW5zYWZlTXV0YWJsZVBvaW50ZXI8SW50Pj8sIGNvbnRlbnRzRW5kIGNvbnRlbnRzRW5kUHRyOiBVbnNhZmVNdXRhYmxlUG9pbnRlcjxJbnQ+PywgZm9yIHJhbmdlOiBOU1JhbmdlKSB7fQogICAgcHVibGljIGZ1bmMgaGFzUHJlZml4KF8gc3RyOiBTdHJpbmcpIC0+IEJvb2wge30KICAgIHB1YmxpYyBmdW5jIGhhc1N1ZmZpeChfIHN0cjogU3RyaW5nKSAtPiBCb29sIHt9CiAgICBvcGVuIGZ1bmMgaXNFcXVhbChfIG9iamVjdDogQW55PykgLT4gQm9vbCB7fQogICAgcHVibGljIGZ1bmMgaXNFcXVhbCh0byBhU3RyaW5nOiBTdHJpbmcpIC0+IEJvb2wge30KICAgIHB1YmxpYyBmdW5jIGxlbmd0aE9mQnl0ZXModXNpbmcgZW5jOiBVSW50KSAtPiBJbnQge30KICAgIHB1YmxpYyBmdW5jIGxpbmVSYW5nZShmb3IgcmFuZ2U6IE5TUmFuZ2UpIC0+IE5TUmFuZ2Uge30KICAgIHB1YmxpYyBmdW5jIGxvY2FsaXplZENhc2VJbnNlbnNpdGl2ZUNvbXBhcmUoXyBzdHJpbmc6IFN0cmluZykgLT4gQ29tcGFyaXNvblJlc3VsdCB7fQogICAgcHVibGljIGZ1bmMgbG9jYWxpemVkQ2FzZUluc2Vuc2l0aXZlQ29udGFpbnMoXyBzdHI6IFN0cmluZykgLT4gQm9vbCB7fQogICAgcHVibGljIGZ1bmMgbG9jYWxpemVkQ29tcGFyZShfIHN0cmluZzogU3RyaW5nKSAtPiBDb21wYXJpc29uUmVzdWx0IHt9CiAgICBwdWJsaWMgZnVuYyBsb2NhbGl6ZWRTdGFuZGFyZENvbXBhcmUoXyBzdHJpbmc6IFN0cmluZykgLT4gQ29tcGFyaXNvblJlc3VsdCB7fQogICAgcHVibGljIGZ1bmMgbG9jYWxpemVkU3RhbmRhcmRDb250YWlucyhfIHN0cjogU3RyaW5nKSAtPiBCb29sIHt9CiAgICBwdWJsaWMgZnVuYyBsb2NhbGl6ZWRTdGFuZGFyZFJhbmdlKG9mIHN0cjogU3RyaW5nKSAtPiBOU1JhbmdlIHt9CiAgICBwdWJsaWMgZnVuYyBsb3dlcmNhc2VkKHdpdGggbG9jYWxlOiBMb2NhbGU/KSAtPiBTdHJpbmcge30KICAgIHB1YmxpYyBmdW5jIG1heGltdW1MZW5ndGhPZkJ5dGVzKHVzaW5nIGVuYzogVUludCkgLT4gSW50IHt9CiAgICBvcGVuIGZ1bmMgbXV0YWJsZUNvcHkoKSAtPiBBbnkge30KICAgIG9wZW4gZnVuYyBtdXRhYmxlQ29weSh3aXRoIHpvbmU6IE5TWm9uZT8gPSB4KSAtPiBBbnkge30KICAgIG9wZW4gZnVuYyBwYWRkaW5nKHRvTGVuZ3RoIG5ld0xlbmd0aDogSW50LCB3aXRoUGFkIHBhZFN0cmluZzogU3RyaW5nLCBzdGFydGluZ0F0IHBhZEluZGV4OiBJbnQpIC0+IFN0cmluZyB7fQogICAgcHVibGljIGZ1bmMgcGFyYWdyYXBoUmFuZ2UoZm9yIHJhbmdlOiBOU1JhbmdlKSAtPiBOU1JhbmdlIHt9CiAgICBwdWJsaWMgZnVuYyByYW5nZShvZiBzZWFyY2hTdHJpbmc6IFN0cmluZykgLT4gTlNSYW5nZSB7fQogICAgcHVibGljIGZ1bmMgcmFuZ2Uob2Ygc2VhcmNoU3RyaW5nOiBTdHJpbmcsIG9wdGlvbnMgbWFzazogQ29tcGFyZU9wdGlvbnMgPSB4KSAtPiBOU1JhbmdlIHt9CiAgICBwdWJsaWMgZnVuYyByYW5nZShvZiBzZWFyY2hTdHJpbmc6IFN0cmluZywgb3B0aW9ucyBtYXNrOiBDb21wYXJlT3B0aW9ucyA9IHgsIHJhbmdlIHNlYXJjaFJhbmdlOiBOU1JhbmdlKSAtPiBOU1JhbmdlIHt9CiAgICBwdWJsaWMgZnVuYyByYW5nZShvZiBzZWFyY2hTdHJpbmc6IFN0cmluZywgb3B0aW9ucyBtYXNrOiBDb21wYXJlT3B0aW9ucyA9IHgsIHJhbmdlIHNlYXJjaFJhbmdlOiBOU1JhbmdlLCBsb2NhbGU6IExvY2FsZT8pIC0+IE5TUmFuZ2Uge30KICAgIHB1YmxpYyBmdW5jIHJhbmdlT2ZDaGFyYWN0ZXIoZnJvbSBzZWFyY2hTZXQ6IENoYXJhY3RlclNldCkgLT4gTlNSYW5nZSB7fQogICAgcHVibGljIGZ1bmMgcmFuZ2VPZkNoYXJhY3Rlcihmcm9tIHNlYXJjaFNldDogQ2hhcmFjdGVyU2V0LCBvcHRpb25zIG1hc2s6IENvbXBhcmVPcHRpb25zID0geCkgLT4gTlNSYW5nZSB7fQogICAgcHVibGljIGZ1bmMgcmFuZ2VPZkNoYXJhY3Rlcihmcm9tIHNlYXJjaFNldDogQ2hhcmFjdGVyU2V0LCBvcHRpb25zIG1hc2s6IENvbXBhcmVPcHRpb25zID0geCwgcmFuZ2Ugc2VhcmNoUmFuZ2U6IE5TUmFuZ2UpIC0+IE5TUmFuZ2Uge30KICAgIHB1YmxpYyBmdW5jIHJhbmdlT2ZDb21wb3NlZENoYXJhY3RlclNlcXVlbmNlKGF0IGluZGV4OiBJbnQpIC0+IE5TUmFuZ2Uge30KICAgIHB1YmxpYyBmdW5jIHJhbmdlT2ZDb21wb3NlZENoYXJhY3RlclNlcXVlbmNlcyhmb3IgcmFuZ2U6IE5TUmFuZ2UpIC0+IE5TUmFuZ2Uge30KICAgIG9wZW4gZnVuYyByZXBsYWNpbmdDaGFyYWN0ZXJzKGluIHJhbmdlOiBOU1JhbmdlLCB3aXRoIHJlcGxhY2VtZW50OiBTdHJpbmcpIC0+IFN0cmluZyB7fQogICAgb3BlbiBmdW5jIHJlcGxhY2luZ09jY3VycmVuY2VzKG9mIHRhcmdldDogU3RyaW5nLCB3aXRoIHJlcGxhY2VtZW50OiBTdHJpbmcpIC0+IFN0cmluZyB7fQogICAgb3BlbiBmdW5jIHJlcGxhY2luZ09jY3VycmVuY2VzKG9mIHRhcmdldDogU3RyaW5nLCB3aXRoIHJlcGxhY2VtZW50OiBTdHJpbmcsIG9wdGlvbnM6IENvbXBhcmVPcHRpb25zID0geCwgcmFuZ2Ugc2VhcmNoUmFuZ2U6IE5TUmFuZ2UpIC0+IFN0cmluZyB7fQogICAgcHVibGljIGZ1bmMgc3RyaW5nc0J5QXBwZW5kaW5nUGF0aHMoXyBwYXRoczogW1N0cmluZ10pIC0+IFtTdHJpbmddIHt9CiAgICBwdWJsaWMgZnVuYyBzdWJzdHJpbmcoZnJvbTogSW50KSAtPiBTdHJpbmcge30KICAgIHB1YmxpYyBmdW5jIHN1YnN0cmluZyh0bzogSW50KSAtPiBTdHJpbmcge30KICAgIHB1YmxpYyBmdW5jIHN1YnN0cmluZyh3aXRoIHJhbmdlOiBOU1JhbmdlKSAtPiBTdHJpbmcge30KICAgIG9wZW4gZnVuYyB0cmltbWluZ0NoYXJhY3RlcnMoaW4gc2V0OiBDaGFyYWN0ZXJTZXQpIC0+IFN0cmluZyB7fQogICAgcHVibGljIGZ1bmMgdXBwZXJjYXNlZCh3aXRoIGxvY2FsZTogTG9jYWxlPykgLT4gU3RyaW5nIHt9CiAgICBvcGVuIGZ1bmMgd3JpdGUodG8gdXJsOiBVUkwsIGF0b21pY2FsbHkgdXNlQXV4aWxpYXJ5RmlsZTogQm9vbCwgZW5jb2RpbmcgZW5jOiBVSW50KSB0aHJvd3Mge30KICAgIG9wZW4gZnVuYyB3cml0ZSh0b0ZpbGUgcGF0aDogU3RyaW5nLCBhdG9taWNhbGx5IHVzZUF1eGlsaWFyeUZpbGU6IEJvb2wsIGVuY29kaW5nIGVuYzogVUludCkgdGhyb3dzIHt9Cn0Kb3BlbiBjbGFzcyBOU1RleHRDaGVja2luZ1Jlc3VsdCB7CiAgICBvcGVuIGNsYXNzIGZ1bmMgcmVndWxhckV4cHJlc3Npb25DaGVja2luZ1Jlc3VsdFdpdGhSYW5nZXMoXyByYW5nZXM6IE5TUmFuZ2VQb2ludGVyLCBjb3VudDogSW50LCByZWd1bGFyRXhwcmVzc2lvbjogTlNSZWd1bGFyRXhwcmVzc2lvbikgLT4gTlNUZXh0Q2hlY2tpbmdSZXN1bHQge30KICAgIG9wZW4gdmFyIG51bWJlck9mUmFuZ2VzOiBJbnQgeyBnZXQgfQogICAgb3BlbiB2YXIgcmFuZ2U6IE5TUmFuZ2UgeyBnZXQgfQogICAgb3BlbiB2YXIgcmVndWxhckV4cHJlc3Npb246IE5TUmVndWxhckV4cHJlc3Npb24/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHJlc3VsdFR5cGU6IENoZWNraW5nVHlwZSB7IGdldCB9CiAgICBwdWJsaWMgZnVuYyBhZGp1c3RpbmdSYW5nZXMob2Zmc2V0OiBJbnQpIC0+IE5TVGV4dENoZWNraW5nUmVzdWx0IHt9CiAgICBvcGVuIGZ1bmMgcmFuZ2UoYXQgaWR4OiBJbnQpIC0+IE5TUmFuZ2Uge30KfQpvcGVuIGNsYXNzIE5TVGltZVpvbmUgewogICAgb3BlbiBjbGFzcyB2YXIgYWJicmV2aWF0aW9uRGljdGlvbmFyeTogW1N0cmluZzogU3RyaW5nXSB7IGdldCBzZXQgfQogICAgb3BlbiBjbGFzcyB2YXIgZGVmYXVsdDogVGltZVpvbmUgeyBnZXQgc2V0IH0KICAgIG9wZW4gY2xhc3MgdmFyIGtub3duVGltZVpvbmVOYW1lczogW1N0cmluZ10geyBnZXQgfQogICAgb3BlbiBjbGFzcyB2YXIgbG9jYWw6IFRpbWVab25lIHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgdmFyIHN5c3RlbTogVGltZVpvbmUgeyBnZXQgfQogICAgb3BlbiBjbGFzcyB2YXIgdGltZVpvbmVEYXRhVmVyc2lvbjogU3RyaW5nIHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgZnVuYyByZXNldFN5c3RlbVRpbWVab25lKCkge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0PyhhYmJyZXZpYXRpb246IFN0cmluZykge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KGZvclNlY29uZHNGcm9tR01UIHNlY29uZHM6IEludCkge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0PyhuYW1lIHR6TmFtZTogU3RyaW5nKSB7fQogICAgcHVibGljIGluaXQ/KG5hbWUgdHpOYW1lOiBTdHJpbmcsIGRhdGEgYURhdGE6IERhdGE/KSB7fQogICAgb3BlbiB2YXIgYWJicmV2aWF0aW9uOiBTdHJpbmc/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGRhdGE6IERhdGEgeyBnZXQgfQogICAgb3BlbiB2YXIgZGF5bGlnaHRTYXZpbmdUaW1lT2Zmc2V0OiBUaW1lSW50ZXJ2YWwgeyBnZXQgfQogICAgb3BlbiB2YXIgaXNEYXlsaWdodFNhdmluZ1RpbWU6IEJvb2wgeyBnZXQgfQogICAgb3BlbiB2YXIgbmFtZTogU3RyaW5nIHsgZ2V0IH0KICAgIG9wZW4gdmFyIG5leHREYXlsaWdodFNhdmluZ1RpbWVUcmFuc2l0aW9uOiBEYXRlPyB7IGdldCB9CiAgICBvcGVuIHZhciBzZWNvbmRzRnJvbUdNVDogSW50IHsgZ2V0IH0KICAgIG9wZW4gZnVuYyBhYmJyZXZpYXRpb24oZm9yIGFEYXRlOiBEYXRlKSAtPiBTdHJpbmc/IHt9CiAgICBvcGVuIGZ1bmMgZGF5bGlnaHRTYXZpbmdUaW1lT2Zmc2V0KGZvciBhRGF0ZTogRGF0ZSkgLT4gVGltZUludGVydmFsIHt9CiAgICBvcGVuIGZ1bmMgaXNEYXlsaWdodFNhdmluZ1RpbWUoZm9yIGFEYXRlOiBEYXRlKSAtPiBCb29sIHt9CiAgICBvcGVuIGZ1bmMgaXNFcXVhbCh0byBhVGltZVpvbmU6IFRpbWVab25lKSAtPiBCb29sIHt9CiAgICBvcGVuIGZ1bmMgbG9jYWxpemVkTmFtZShfIHN0eWxlOiBOYW1lU3R5bGUsIGxvY2FsZTogTG9jYWxlPykgLT4gU3RyaW5nPyB7fQogICAgb3BlbiBmdW5jIG5leHREYXlsaWdodFNhdmluZ1RpbWVUcmFuc2l0aW9uKGFmdGVyIGFEYXRlOiBEYXRlKSAtPiBEYXRlPyB7fQogICAgb3BlbiBmdW5jIHNlY29uZHNGcm9tR01UKGZvciBhRGF0ZTogRGF0ZSkgLT4gSW50IHt9Cn0Kb3BlbiBjbGFzcyBOU1VSTCB7CiAgICBvcGVuIGNsYXNzIGZ1bmMgZmlsZVVSTCh3aXRoUGF0aENvbXBvbmVudHMgY29tcG9uZW50czogW1N0cmluZ10pIC0+IFVSTD8ge30KICAgIHB1YmxpYyBpbml0KGFic29sdXRlVVJMV2l0aERhdGFSZXByZXNlbnRhdGlvbiBkYXRhOiBEYXRhLCByZWxhdGl2ZVRvIGJhc2VVUkw6IFVSTD8pIHt9CiAgICBwdWJsaWMgaW5pdChkYXRhUmVwcmVzZW50YXRpb24gZGF0YTogRGF0YSwgcmVsYXRpdmVUbyBiYXNlVVJMOiBVUkw/KSB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQoZmlsZVVSTFdpdGhGaWxlU3lzdGVtUmVwcmVzZW50YXRpb24gcGF0aDogVW5zYWZlUG9pbnRlcjxJbnQ4PiwgaXNEaXJlY3RvcnkgaXNEaXI6IEJvb2wsIHJlbGF0aXZlVG8gYmFzZVVSTDogVVJMPykge30KICAgIHB1YmxpYyBpbml0KGZpbGVVUkxXaXRoUGF0aCBwYXRoOiBTdHJpbmcpIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdChmaWxlVVJMV2l0aFBhdGggcGF0aDogU3RyaW5nLCBpc0RpcmVjdG9yeSBpc0RpcjogQm9vbCkge30KICAgIHB1YmxpYyBpbml0KGZpbGVVUkxXaXRoUGF0aCBwYXRoOiBTdHJpbmcsIGlzRGlyZWN0b3J5IGlzRGlyOiBCb29sLCByZWxhdGl2ZVRvIGJhc2VVUkw6IFVSTD8pIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdChmaWxlVVJMV2l0aFBhdGggcGF0aDogU3RyaW5nLCByZWxhdGl2ZVRvIGJhc2VVUkw6IFVSTD8pIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdD8oc3RyaW5nIFVSTFN0cmluZzogU3RyaW5nKSB7fQogICAgcHVibGljIGluaXQ/KHN0cmluZyBVUkxTdHJpbmc6IFN0cmluZywgcmVsYXRpdmVUbyBiYXNlVVJMOiBVUkw/KSB7fQogICAgb3BlbiB2YXIgYWJzb2x1dGVTdHJpbmc6IFN0cmluZyB7IGdldCB9CiAgICBvcGVuIHZhciBhYnNvbHV0ZVVSTDogVVJMPyB7IGdldCB9CiAgICBvcGVuIHZhciBiYXNlVVJMOiBVUkw/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGRhdGFSZXByZXNlbnRhdGlvbjogRGF0YSB7IGdldCB9CiAgICBvcGVuIHZhciBkZWxldGluZ0xhc3RQYXRoQ29tcG9uZW50OiBVUkw/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGRlbGV0aW5nUGF0aEV4dGVuc2lvbjogVVJMPyB7IGdldCB9CiAgICBvcGVuIHZhciBmaWxlUGF0aFVSTDogVVJMPyB7IGdldCB9CiAgICBvcGVuIHZhciBmaWxlU3lzdGVtUmVwcmVzZW50YXRpb246IFVuc2FmZVBvaW50ZXI8SW50OD4geyBnZXQgfQogICAgb3BlbiB2YXIgZnJhZ21lbnQ6IFN0cmluZz8geyBnZXQgfQogICAgb3BlbiB2YXIgaGFzRGlyZWN0b3J5UGF0aDogQm9vbCB7IGdldCB9CiAgICBvcGVuIHZhciBob3N0OiBTdHJpbmc/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGlzRmlsZVVSTDogQm9vbCB7IGdldCB9CiAgICBvcGVuIHZhciBsYXN0UGF0aENvbXBvbmVudDogU3RyaW5nPyB7IGdldCB9CiAgICBvcGVuIHZhciBwYXJhbWV0ZXJTdHJpbmc6IFN0cmluZz8geyBnZXQgfQogICAgb3BlbiB2YXIgcGFzc3dvcmQ6IFN0cmluZz8geyBnZXQgfQogICAgb3BlbiB2YXIgcGF0aDogU3RyaW5nPyB7IGdldCB9CiAgICBvcGVuIHZhciBwYXRoQ29tcG9uZW50czogW1N0cmluZ10/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHBhdGhFeHRlbnNpb246IFN0cmluZz8geyBnZXQgfQogICAgb3BlbiB2YXIgcG9ydDogTlNOdW1iZXI/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHF1ZXJ5OiBTdHJpbmc/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHJlbGF0aXZlUGF0aDogU3RyaW5nPyB7IGdldCB9CiAgICBvcGVuIHZhciByZWxhdGl2ZVN0cmluZzogU3RyaW5nIHsgZ2V0IH0KICAgIG9wZW4gdmFyIHJlc29sdmluZ1N5bWxpbmtzSW5QYXRoOiBVUkw/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHJlc291cmNlU3BlY2lmaWVyOiBTdHJpbmc/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHNjaGVtZTogU3RyaW5nPyB7IGdldCB9CiAgICBvcGVuIHZhciBzdGFuZGFyZGl6ZWQ6IFVSTD8geyBnZXQgfQogICAgb3BlbiB2YXIgc3RhbmRhcmRpemluZ1BhdGg6IFVSTD8geyBnZXQgfQogICAgb3BlbiB2YXIgdXNlcjogU3RyaW5nPyB7IGdldCB9CiAgICBvcGVuIGZ1bmMgYXBwZW5kaW5nUGF0aENvbXBvbmVudChfIHBhdGhDb21wb25lbnQ6IFN0cmluZykgLT4gVVJMPyB7fQogICAgb3BlbiBmdW5jIGFwcGVuZGluZ1BhdGhDb21wb25lbnQoXyBwYXRoQ29tcG9uZW50OiBTdHJpbmcsIGlzRGlyZWN0b3J5OiBCb29sKSAtPiBVUkw/IHt9CiAgICBvcGVuIGZ1bmMgYXBwZW5kaW5nUGF0aEV4dGVuc2lvbihfIHBhdGhFeHRlbnNpb246IFN0cmluZykgLT4gVVJMPyB7fQogICAgb3BlbiBmdW5jIGNoZWNrUmVzb3VyY2VJc1JlYWNoYWJsZSgpIHRocm93cyAtPiBCb29sIHt9CiAgICBvcGVuIGZ1bmMgZ2V0RmlsZVN5c3RlbVJlcHJlc2VudGF0aW9uKF8gYnVmZmVyOiBVbnNhZmVNdXRhYmxlUG9pbnRlcjxJbnQ4PiwgbWF4TGVuZ3RoIG1heEJ1ZmZlckxlbmd0aDogSW50KSAtPiBCb29sIHt9CiAgICBvcGVuIGZ1bmMgcmVtb3ZlQWxsQ2FjaGVkUmVzb3VyY2VWYWx1ZXMoKSB7fQogICAgb3BlbiBmdW5jIHJlbW92ZUNhY2hlZFJlc291cmNlVmFsdWUoZm9yS2V5IGtleTogVVJMUmVzb3VyY2VLZXkpIHt9CiAgICBvcGVuIGZ1bmMgcmVzb3VyY2VWYWx1ZXMoZm9yS2V5cyBrZXlzOiBbVVJMUmVzb3VyY2VLZXldKSB0aHJvd3MgLT4gW1VSTFJlc291cmNlS2V5OiBBbnldIHt9CiAgICBvcGVuIGZ1bmMgc2V0UmVzb3VyY2VWYWx1ZShfIHZhbHVlOiBBbnk/LCBmb3JLZXkga2V5OiBVUkxSZXNvdXJjZUtleSkgdGhyb3dzIHt9CiAgICBvcGVuIGZ1bmMgc2V0UmVzb3VyY2VWYWx1ZXMoXyBrZXllZFZhbHVlczogW1VSTFJlc291cmNlS2V5OiBBbnldKSB0aHJvd3Mge30KICAgIG9wZW4gZnVuYyBzZXRUZW1wb3JhcnlSZXNvdXJjZVZhbHVlKF8gdmFsdWU6IEFueT8sIGZvcktleSBrZXk6IFVSTFJlc291cmNlS2V5KSB7fQp9Cm9wZW4gY2xhc3MgTlNVUkxDb21wb25lbnRzIHsKICAgIHB1YmxpYyBpbml0PyhzdHJpbmcgVVJMU3RyaW5nOiBTdHJpbmcpIHt9CiAgICBwdWJsaWMgaW5pdD8odXJsOiBVUkwsIHJlc29sdmluZ0FnYWluc3RCYXNlVVJMIHJlc29sdmU6IEJvb2wpIHt9CiAgICBvcGVuIHZhciBmcmFnbWVudDogU3RyaW5nPyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgaG9zdDogU3RyaW5nPyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgcGFzc3dvcmQ6IFN0cmluZz8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHBhdGg6IFN0cmluZz8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHBlcmNlbnRFbmNvZGVkRnJhZ21lbnQ6IFN0cmluZz8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHBlcmNlbnRFbmNvZGVkSG9zdDogU3RyaW5nPyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgcGVyY2VudEVuY29kZWRQYXNzd29yZDogU3RyaW5nPyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgcGVyY2VudEVuY29kZWRQYXRoOiBTdHJpbmc/IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBwZXJjZW50RW5jb2RlZFF1ZXJ5OiBTdHJpbmc/IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBwZXJjZW50RW5jb2RlZFVzZXI6IFN0cmluZz8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHBvcnQ6IE5TTnVtYmVyPyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgcXVlcnk6IFN0cmluZz8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHF1ZXJ5SXRlbXM6IFtVUkxRdWVyeUl0ZW1dPyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgcmFuZ2VPZkZyYWdtZW50OiBOU1JhbmdlIHsgZ2V0IH0KICAgIG9wZW4gdmFyIHJhbmdlT2ZIb3N0OiBOU1JhbmdlIHsgZ2V0IH0KICAgIG9wZW4gdmFyIHJhbmdlT2ZQYXNzd29yZDogTlNSYW5nZSB7IGdldCB9CiAgICBvcGVuIHZhciByYW5nZU9mUGF0aDogTlNSYW5nZSB7IGdldCB9CiAgICBvcGVuIHZhciByYW5nZU9mUG9ydDogTlNSYW5nZSB7IGdldCB9CiAgICBvcGVuIHZhciByYW5nZU9mUXVlcnk6IE5TUmFuZ2UgeyBnZXQgfQogICAgb3BlbiB2YXIgcmFuZ2VPZlNjaGVtZTogTlNSYW5nZSB7IGdldCB9CiAgICBvcGVuIHZhciByYW5nZU9mVXNlcjogTlNSYW5nZSB7IGdldCB9CiAgICBvcGVuIHZhciBzY2hlbWU6IFN0cmluZz8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHN0cmluZzogU3RyaW5nPyB7IGdldCB9CiAgICBvcGVuIHZhciB1cmw6IFVSTD8geyBnZXQgfQogICAgb3BlbiB2YXIgdXNlcjogU3RyaW5nPyB7IGdldCBzZXQgfQogICAgb3BlbiBmdW5jIHVybChyZWxhdGl2ZVRvIGJhc2VVUkw6IFVSTD8pIC0+IFVSTD8ge30KfQpvcGVuIGNsYXNzIE5TVVJMUXVlcnlJdGVtIHsKICAgIHB1YmxpYyBpbml0KG5hbWU6IFN0cmluZywgdmFsdWU6IFN0cmluZz8pIHt9CiAgICBvcGVuIHZhciBuYW1lOiBTdHJpbmcgeyBnZXQgfQogICAgb3BlbiB2YXIgdmFsdWU6IFN0cmluZz8geyBnZXQgfQp9Cm9wZW4gY2xhc3MgTlNVUkxSZXF1ZXN0IHsKICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KHVybDogVVJMKSB7fQogICAgcHVibGljIGluaXQodXJsOiBVUkwsIGNhY2hlUG9saWN5OiBOU1VSTFJlcXVlc3QuQ2FjaGVQb2xpY3ksIHRpbWVvdXRJbnRlcnZhbDogVGltZUludGVydmFsKSB7fQogICAgb3BlbiB2YXIgYWxsSFRUUEhlYWRlckZpZWxkczogW1N0cmluZzogU3RyaW5nXT8geyBnZXQgfQogICAgb3BlbiB2YXIgYWxsb3dzQ2VsbHVsYXJBY2Nlc3M6IEJvb2wgeyBnZXQgfQogICAgb3BlbiB2YXIgY2FjaGVQb2xpY3k6IENhY2hlUG9saWN5IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGh0dHBCb2R5OiBEYXRhPyB7IGdldCB9CiAgICBvcGVuIHZhciBodHRwQm9keVN0cmVhbTogSW5wdXRTdHJlYW0/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGh0dHBNZXRob2Q6IFN0cmluZz8geyBnZXQgfQogICAgb3BlbiB2YXIgaHR0cFNob3VsZEhhbmRsZUNvb2tpZXM6IEJvb2wgeyBnZXQgfQogICAgb3BlbiB2YXIgaHR0cFNob3VsZFVzZVBpcGVsaW5pbmc6IEJvb2wgeyBnZXQgfQogICAgb3BlbiB2YXIgbWFpbkRvY3VtZW50VVJMOiBVUkw/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIG5ldHdvcmtTZXJ2aWNlVHlwZTogTmV0d29ya1NlcnZpY2VUeXBlIHsgZ2V0IH0KICAgIG9wZW4gdmFyIHRpbWVvdXRJbnRlcnZhbDogVGltZUludGVydmFsIHsgZ2V0IH0KICAgIG9wZW4gdmFyIHVybDogVVJMPyB7IGdldCB9CiAgICBvcGVuIGZ1bmMgdmFsdWUoZm9ySFRUUEhlYWRlckZpZWxkIGZpZWxkOiBTdHJpbmcpIC0+IFN0cmluZz8ge30KfQpvcGVuIGNsYXNzIE5TVVVJRCB7CiAgICBwdWJsaWMgaW5pdCh1dWlkQnl0ZXMgYnl0ZXM6IFVuc2FmZVBvaW50ZXI8VUludDg+KSB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQ/KHV1aWRTdHJpbmcgc3RyaW5nOiBTdHJpbmcpIHt9CiAgICBvcGVuIHZhciB1dWlkU3RyaW5nOiBTdHJpbmcgeyBnZXQgfQogICAgb3BlbiBmdW5jIGdldEJ5dGVzKF8gdXVpZDogVW5zYWZlTXV0YWJsZVBvaW50ZXI8VUludDg+KSB7fQp9Cm9wZW4gY2xhc3MgTlNWYWx1ZSB7CiAgICBwdWJsaWMgcmVxdWlyZWQgY29udmVuaWVuY2UgaW5pdChieXRlcyB2YWx1ZTogVW5zYWZlUmF3UG9pbnRlciwgb2JqQ1R5cGUgdHlwZTogVW5zYWZlUG9pbnRlcjxJbnQ4Pikge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KGVkZ2VJbnNldHMgaW5zZXRzOiBOU0VkZ2VJbnNldHMpIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdChwb2ludDogTlNQb2ludCkge30KI2lmIERFUExPWU1FTlRfUlVOVElNRV9TV0lGVAogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQocmFuZ2U6IE5TUmFuZ2UpIHt9CiNlbmRpZgogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQocmVjdDogTlNSZWN0KSB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQoc2l6ZTogTlNTaXplKSB7fQogICAgcHVibGljIHZhciBlZGdlSW5zZXRzVmFsdWU6IE5TRWRnZUluc2V0cyB7IGdldCB9CiAgICBvcGVuIHZhciBvYmpDVHlwZTogVW5zYWZlUG9pbnRlcjxJbnQ4PiB7IGdldCB9CiAgICBwdWJsaWMgdmFyIHBvaW50VmFsdWU6IE5TUG9pbnQgeyBnZXQgfQojaWYgREVQTE9ZTUVOVF9SVU5USU1FX1NXSUZUCiAgICBwdWJsaWMgdmFyIHJhbmdlVmFsdWU6IE5TUmFuZ2UgeyBnZXQgfQojZW5kaWYKICAgIHB1YmxpYyB2YXIgcmVjdFZhbHVlOiBOU1JlY3QgeyBnZXQgfQogICAgcHVibGljIHZhciBzaXplVmFsdWU6IE5TU2l6ZSB7IGdldCB9CiAgICBvcGVuIGZ1bmMgZ2V0VmFsdWUoXyB2YWx1ZTogVW5zYWZlTXV0YWJsZVJhd1BvaW50ZXIpIHt9Cn0Kb3BlbiBjbGFzcyBOb3RpZmljYXRpb25DZW50ZXIgewogICAgb3BlbiBjbGFzcyB2YXIgZGVmYXVsdDogTm90aWZpY2F0aW9uQ2VudGVyIHsgZ2V0IH0KICAgIG9wZW4gZnVuYyBhZGRPYnNlcnZlcihmb3JOYW1lIG5hbWU6IE5TTm90aWZpY2F0aW9uLk5hbWU/LCBvYmplY3Qgb2JqOiBBbnk/LCBxdWV1ZTogT3BlcmF0aW9uUXVldWU/LCB1c2luZyBibG9jazogQGVzY2FwaW5nIChOb3RpZmljYXRpb24pIC0+IFZvaWQpIC0+IE5TT2JqZWN0UHJvdG9jb2wge30KICAgIG9wZW4gZnVuYyBwb3N0KF8gbm90aWZpY2F0aW9uOiBOb3RpZmljYXRpb24pIHt9CiAgICBvcGVuIGZ1bmMgcG9zdChuYW1lIGFOYW1lOiBOU05vdGlmaWNhdGlvbi5OYW1lLCBvYmplY3QgYW5PYmplY3Q6IEFueT8sIHVzZXJJbmZvIGFVc2VySW5mbzogW0FueUhhc2hhYmxlOiBBbnldPyA9IHgpIHt9CiAgICBvcGVuIGZ1bmMgcmVtb3ZlT2JzZXJ2ZXIoXyBvYnNlcnZlcjogQW55KSB7fQogICAgb3BlbiBmdW5jIHJlbW92ZU9ic2VydmVyKF8gb2JzZXJ2ZXI6IEFueSwgbmFtZSBhTmFtZTogTlNOb3RpZmljYXRpb24uTmFtZT8sIG9iamVjdDogQW55Pykge30KfQpvcGVuIGNsYXNzIE5vdGlmaWNhdGlvblF1ZXVlIHsKICAgIG9wZW4gY2xhc3MgdmFyIGRlZmF1bHQ6IE5vdGlmaWNhdGlvblF1ZXVlIHsgZ2V0IH0KICAgIHB1YmxpYyBpbml0KG5vdGlmaWNhdGlvbkNlbnRlcjogTm90aWZpY2F0aW9uQ2VudGVyKSB7fQogICAgb3BlbiBmdW5jIGRlcXVldWVOb3RpZmljYXRpb25zKG1hdGNoaW5nIG5vdGlmaWNhdGlvbjogTm90aWZpY2F0aW9uLCBjb2FsZXNjZU1hc2s6IE5vdGlmaWNhdGlvbkNvYWxlc2NpbmcpIHt9CiAgICBvcGVuIGZ1bmMgZW5xdWV1ZShfIG5vdGlmaWNhdGlvbjogTm90aWZpY2F0aW9uLCBwb3N0aW5nU3R5bGU6IFBvc3RpbmdTdHlsZSkge30KICAgIG9wZW4gZnVuYyBlbnF1ZXVlKF8gbm90aWZpY2F0aW9uOiBOb3RpZmljYXRpb24sIHBvc3RpbmdTdHlsZTogUG9zdGluZ1N0eWxlLCBjb2FsZXNjZU1hc2s6IE5vdGlmaWNhdGlvbkNvYWxlc2NpbmcsIGZvck1vZGVzIG1vZGVzOiBbUnVuTG9vcE1vZGVdPykge30KfQpvcGVuIGNsYXNzIE51bWJlckZvcm1hdHRlciB7CiAgICBvcGVuIGNsYXNzIGZ1bmMgbG9jYWxpemVkU3RyaW5nKGZyb20gbnVtOiBOU051bWJlciwgbnVtYmVyIG5zdHlsZTogU3R5bGUpIC0+IFN0cmluZyB7fQogICAgb3BlbiB2YXIgYWxsb3dzRmxvYXRzOiBCb29sIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBhbHdheXNTaG93c0RlY2ltYWxTZXBhcmF0b3I6IEJvb2wgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGF0dHJpYnV0ZWRTdHJpbmdGb3JOaWw6IE5TQXR0cmlidXRlZFN0cmluZyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgYXR0cmlidXRlZFN0cmluZ0Zvck5vdEFOdW1iZXI6IE5TQXR0cmlidXRlZFN0cmluZyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgYXR0cmlidXRlZFN0cmluZ0Zvclplcm86IE5TQXR0cmlidXRlZFN0cmluZyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgY3VycmVuY3lDb2RlOiBTdHJpbmchIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBjdXJyZW5jeURlY2ltYWxTZXBhcmF0b3I6IFN0cmluZyEgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGN1cnJlbmN5R3JvdXBpbmdTZXBhcmF0b3I6IFN0cmluZyEgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGN1cnJlbmN5U3ltYm9sOiBTdHJpbmchIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBkZWNpbWFsU2VwYXJhdG9yOiBTdHJpbmchIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBleHBvbmVudFN5bWJvbDogU3RyaW5nISB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgZm9ybWF0OiBTdHJpbmcgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGZvcm1hdFdpZHRoOiBJbnQgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGZvcm1hdHRpbmdDb250ZXh0OiBDb250ZXh0IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBnZW5lcmF0ZXNEZWNpbWFsTnVtYmVyczogQm9vbCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgZ3JvdXBpbmdTZXBhcmF0b3I6IFN0cmluZyEgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGdyb3VwaW5nU2l6ZTogSW50IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBoYXNUaG91c2FuZFNlcGFyYXRvcnM6IEJvb2wgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGludGVybmF0aW9uYWxDdXJyZW5jeVN5bWJvbDogU3RyaW5nISB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgaXNMZW5pZW50OiBCb29sIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBpc1BhcnRpYWxTdHJpbmdWYWxpZGF0aW9uRW5hYmxlZDogQm9vbCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgbG9jYWxlOiBMb2NhbGUhIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBsb2NhbGl6ZXNGb3JtYXQ6IEJvb2wgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIG1heGltdW06IE5TTnVtYmVyPyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgbWF4aW11bUZyYWN0aW9uRGlnaXRzOiBJbnQgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIG1heGltdW1JbnRlZ2VyRGlnaXRzOiBJbnQgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIG1heGltdW1TaWduaWZpY2FudERpZ2l0czogSW50IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBtaW5pbXVtOiBOU051bWJlcj8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIG1pbmltdW1GcmFjdGlvbkRpZ2l0czogSW50IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBtaW5pbXVtSW50ZWdlckRpZ2l0czogSW50IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBtaW5pbXVtU2lnbmlmaWNhbnREaWdpdHM6IEludCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgbWludXNTaWduOiBTdHJpbmchIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBtdWx0aXBsaWVyOiBOU051bWJlcj8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIG5lZ2F0aXZlRm9ybWF0OiBTdHJpbmchIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBuZWdhdGl2ZUluZmluaXR5U3ltYm9sOiBTdHJpbmcgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIG5lZ2F0aXZlUHJlZml4OiBTdHJpbmchIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBuZWdhdGl2ZVN1ZmZpeDogU3RyaW5nISB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgbmlsU3ltYm9sOiBTdHJpbmcgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIG5vdEFOdW1iZXJTeW1ib2w6IFN0cmluZyEgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIG51bWJlclN0eWxlOiBTdHlsZSB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgcGFkZGluZ0NoYXJhY3RlcjogU3RyaW5nISB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgcGFkZGluZ1Bvc2l0aW9uOiBQYWRQb3NpdGlvbiB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgcGVyTWlsbFN5bWJvbDogU3RyaW5nISB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgcGVyY2VudFN5bWJvbDogU3RyaW5nISB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgcGx1c1NpZ246IFN0cmluZyEgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHBvc2l0aXZlRm9ybWF0OiBTdHJpbmchIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBwb3NpdGl2ZUluZmluaXR5U3ltYm9sOiBTdHJpbmcgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHBvc2l0aXZlUHJlZml4OiBTdHJpbmchIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBwb3NpdGl2ZVN1ZmZpeDogU3RyaW5nISB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgcm91bmRpbmdCZWhhdmlvcjogTlNEZWNpbWFsTnVtYmVySGFuZGxlciB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgcm91bmRpbmdJbmNyZW1lbnQ6IE5TTnVtYmVyISB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgcm91bmRpbmdNb2RlOiBSb3VuZGluZ01vZGUgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHNlY29uZGFyeUdyb3VwaW5nU2l6ZTogSW50IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciB0ZXh0QXR0cmlidXRlc0Zvck5lZ2F0aXZlSW5maW5pdHk6IFtTdHJpbmc6IEFueV0/IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciB0ZXh0QXR0cmlidXRlc0Zvck5lZ2F0aXZlVmFsdWVzOiBbU3RyaW5nOiBBbnldPyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgdGV4dEF0dHJpYnV0ZXNGb3JOaWw6IFtTdHJpbmc6IEFueV0/IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciB0ZXh0QXR0cmlidXRlc0Zvck5vdEFOdW1iZXI6IFtTdHJpbmc6IEFueV0/IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciB0ZXh0QXR0cmlidXRlc0ZvclBvc2l0aXZlSW5maW5pdHk6IFtTdHJpbmc6IEFueV0/IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciB0ZXh0QXR0cmlidXRlc0ZvclBvc2l0aXZlVmFsdWVzOiBbU3RyaW5nOiBBbnldPyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgdGV4dEF0dHJpYnV0ZXNGb3JaZXJvOiBbU3RyaW5nOiBBbnldPyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgdGhvdXNhbmRTZXBhcmF0b3I6IFN0cmluZyEgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHVzZXNHcm91cGluZ1NlcGFyYXRvcjogQm9vbCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgdXNlc1NpZ25pZmljYW50RGlnaXRzOiBCb29sIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciB6ZXJvU3ltYm9sOiBTdHJpbmc/IHsgZ2V0IHNldCB9CiAgICBvcGVuIGZ1bmMgbnVtYmVyKGZyb20gc3RyaW5nOiBTdHJpbmcpIC0+IE5TTnVtYmVyPyB7fQogICAgb3BlbiBmdW5jIG9iamVjdFZhbHVlKF8gc3RyaW5nOiBTdHJpbmcsIHJhbmdlOiBpbm91dCBOU1JhbmdlKSB0aHJvd3MgLT4gQW55PyB7fQogICAgb3BlbiBmdW5jIHN0cmluZyhmcm9tIG51bWJlcjogTlNOdW1iZXIpIC0+IFN0cmluZz8ge30KfQpvcGVuIGNsYXNzIE9wZXJhdGlvbiB7CiAgICBwdWJsaWMgaW5pdCgpIHt9CiAgICBwdWJsaWMgdmFyIGNvbXBsZXRpb25CbG9jazogKCgpIC0+IFZvaWQpPyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgZGVwZW5kZW5jaWVzOiBbT3BlcmF0aW9uXSB7IGdldCB9CiAgICBvcGVuIHZhciBpc0FzeW5jaHJvbm91czogQm9vbCB7IGdldCB9CiAgICBvcGVuIHZhciBpc0NhbmNlbGxlZDogQm9vbCB7IGdldCB9CiAgICBvcGVuIHZhciBpc0V4ZWN1dGluZzogQm9vbCB7IGdldCB9CiAgICBvcGVuIHZhciBpc0ZpbmlzaGVkOiBCb29sIHsgZ2V0IH0KICAgIG9wZW4gdmFyIGlzUmVhZHk6IEJvb2wgeyBnZXQgfQogICAgb3BlbiB2YXIgbmFtZTogU3RyaW5nPyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgcXVhbGl0eU9mU2VydmljZTogUXVhbGl0eU9mU2VydmljZSB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgcXVldWVQcmlvcml0eTogUXVldWVQcmlvcml0eSB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgdGhyZWFkUHJpb3JpdHk6IERvdWJsZSB7IGdldCBzZXQgfQogICAgb3BlbiBmdW5jIGFkZERlcGVuZGVuY3koXyBvcDogT3BlcmF0aW9uKSB7fQogICAgb3BlbiBmdW5jIGNhbmNlbCgpIHt9CiAgICBwdWJsaWMgZnVuYyBkaWRDaGFuZ2VWYWx1ZShmb3JLZXkga2V5OiBTdHJpbmcpIHt9CiAgICBvcGVuIGZ1bmMgbWFpbigpIHt9CiAgICBvcGVuIGZ1bmMgcmVtb3ZlRGVwZW5kZW5jeShfIG9wOiBPcGVyYXRpb24pIHt9CiAgICBvcGVuIGZ1bmMgc3RhcnQoKSB7fQogICAgb3BlbiBmdW5jIHdhaXRVbnRpbEZpbmlzaGVkKCkge30KICAgIHB1YmxpYyBmdW5jIHdpbGxDaGFuZ2VWYWx1ZShmb3JLZXkga2V5OiBTdHJpbmcpIHt9Cn0Kb3BlbiBjbGFzcyBPcGVyYXRpb25RdWV1ZSB7CiAgICBvcGVuIGNsYXNzIHZhciBjdXJyZW50OiBPcGVyYXRpb25RdWV1ZT8geyBnZXQgfQogICAgcHVibGljIHN0YXRpYyB2YXIgZGVmYXVsdE1heENvbmN1cnJlbnRPcGVyYXRpb25Db3VudDogSW50IHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgdmFyIG1haW46IE9wZXJhdGlvblF1ZXVlIHsgZ2V0IH0KICAgIG9wZW4gdmFyIGlzU3VzcGVuZGVkOiBCb29sIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBtYXhDb25jdXJyZW50T3BlcmF0aW9uQ291bnQ6IEludCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgbmFtZTogU3RyaW5nPyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgb3BlcmF0aW9uQ291bnQ6IEludCB7IGdldCB9CiAgICBvcGVuIHZhciBvcGVyYXRpb25zOiBbT3BlcmF0aW9uXSB7IGdldCB9CiAgICBvcGVuIHZhciBxdWFsaXR5T2ZTZXJ2aWNlOiBRdWFsaXR5T2ZTZXJ2aWNlIHsgZ2V0IHNldCB9CiNpZiBERVBMT1lNRU5UX0VOQUJMRV9MSUJESVNQQVRDSAogICAgb3BlbiB2YXIgdW5kZXJseWluZ1F1ZXVlOiBEaXNwYXRjaFF1ZXVlPyB7IGdldCBzZXQgfQojZW5kaWYKICAgIG9wZW4gZnVuYyBhZGRPcGVyYXRpb24oXyBibG9jazogQGVzY2FwaW5nICgpIC0+IFN3aWZ0LlZvaWQpIHt9CiAgICBvcGVuIGZ1bmMgYWRkT3BlcmF0aW9ucyhfIG9wczogW09wZXJhdGlvbl0sIHdhaXRVbnRpbEZpbmlzaGVkIHdhaXQ6IEJvb2wpIHt9CiAgICBvcGVuIGZ1bmMgY2FuY2VsQWxsT3BlcmF0aW9ucygpIHt9CiAgICBvcGVuIGZ1bmMgd2FpdFVudGlsQWxsT3BlcmF0aW9uc0FyZUZpbmlzaGVkKCkge30KfQpvcGVuIGNsYXNzIE91dHB1dFN0cmVhbSB7CiAgICBvcGVuIGNsYXNzIGZ1bmMgdG9NZW1vcnkoKSAtPiBTZWxmIHt9CiAgICBwdWJsaWMgaW5pdCh0b0J1ZmZlciBidWZmZXI6IFVuc2FmZU11dGFibGVQb2ludGVyPFVJbnQ4PiwgY2FwYWNpdHk6IEludCkge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0Pyh0b0ZpbGVBdFBhdGggcGF0aDogU3RyaW5nLCBhcHBlbmQgc2hvdWxkQXBwZW5kOiBCb29sKSB7fQogICAgcHVibGljIHJlcXVpcmVkIGluaXQodG9NZW1vcnk6IFZvaWQpIHt9CiAgICBwdWJsaWMgaW5pdD8odXJsOiBVUkwsIGFwcGVuZCBzaG91bGRBcHBlbmQ6IEJvb2wpIHt9CiAgICBvcGVuIHZhciBoYXNTcGFjZUF2YWlsYWJsZTogQm9vbCB7IGdldCB9CiAgICBvcGVuIGZ1bmMgd3JpdGUoXyBidWZmZXI6IFVuc2FmZVBvaW50ZXI8VUludDg+LCBtYXhMZW5ndGggbGVuOiBJbnQpIC0+IEludCB7fQp9Cm9wZW4gY2xhc3MgUGVyc29uTmFtZUNvbXBvbmVudHNGb3JtYXR0ZXIgewogICAgb3BlbiBjbGFzcyBmdW5jIGxvY2FsaXplZFN0cmluZyhmcm9tIGNvbXBvbmVudHM6IFBlcnNvbk5hbWVDb21wb25lbnRzLCBzdHlsZSBuYW1lRm9ybWF0U3R5bGU6IFN0eWxlLCBvcHRpb25zIG5hbWVPcHRpb25zOiBPcHRpb25zID0geCkgLT4gU3RyaW5nIHt9CiAgICBvcGVuIHZhciBpc1Bob25ldGljOiBCb29sIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBzdHlsZTogU3R5bGUgeyBnZXQgc2V0IH0KICAgIG9wZW4gZnVuYyBhbm5vdGF0ZWRTdHJpbmcoZnJvbSBjb21wb25lbnRzOiBQZXJzb25OYW1lQ29tcG9uZW50cykgLT4gTlNBdHRyaWJ1dGVkU3RyaW5nIHt9CiAgICBvcGVuIGZ1bmMgcGVyc29uTmFtZUNvbXBvbmVudHMoZnJvbSBzdHJpbmc6IFN0cmluZykgLT4gUGVyc29uTmFtZUNvbXBvbmVudHM/IHt9CiAgICBvcGVuIGZ1bmMgc3RyaW5nKGZyb20gY29tcG9uZW50czogUGVyc29uTmFtZUNvbXBvbmVudHMpIC0+IFN0cmluZyB7fQp9Cm9wZW4gY2xhc3MgUGlwZSB7CiAgICBwdWJsaWMgdmFyIGZpbGVIYW5kbGVGb3JSZWFkaW5nOiBGaWxlSGFuZGxlIHsgZ2V0IH0KICAgIHB1YmxpYyB2YXIgZmlsZUhhbmRsZUZvcldyaXRpbmc6IEZpbGVIYW5kbGUgeyBnZXQgfQp9Cm9wZW4gY2xhc3MgUG9ydCB7CiAgICBwdWJsaWMgc3RhdGljIHZhciBkaWRCZWNvbWVJbnZhbGlkTm90aWZpY2F0aW9uIHsgZ2V0IH0KICAgIHB1YmxpYyBpbml0KCkge30KICAgIHB1YmxpYyByZXF1aXJlZCBpbml0Pyhjb2RlciBhRGVjb2RlcjogTlNDb2Rlcikge30KICAgIG9wZW4gdmFyIGlzVmFsaWQ6IEJvb2wgeyBnZXQgfQogICAgb3BlbiB2YXIgcmVzZXJ2ZWRTcGFjZUxlbmd0aDogSW50IHsgZ2V0IH0KICAgIG9wZW4gZnVuYyBjb3B5KHdpdGggem9uZTogTlNab25lPyA9IHgpIC0+IEFueSB7fQogICAgb3BlbiBmdW5jIGVuY29kZSh3aXRoIGFDb2RlcjogTlNDb2Rlcikge30KICAgIG9wZW4gZnVuYyBpbnZhbGlkYXRlKCkge30KICAgIG9wZW4gZnVuYyByZW1vdmUoZnJvbSBydW5Mb29wOiBSdW5Mb29wLCBmb3JNb2RlIG1vZGU6IFJ1bkxvb3BNb2RlKSB7fQogICAgb3BlbiBmdW5jIHNjaGVkdWxlKGluIHJ1bkxvb3A6IFJ1bkxvb3AsIGZvck1vZGUgbW9kZTogUnVuTG9vcE1vZGUpIHt9CiAgICBvcGVuIGZ1bmMgc2VuZEJlZm9yZURhdGUoXyBsaW1pdERhdGU6IERhdGUsIGNvbXBvbmVudHM6IE5TTXV0YWJsZUFycmF5PywgZnJvbSByZWNlaXZlUG9ydDogUG9ydD8sIHJlc2VydmVkIGhlYWRlclNwYWNlUmVzZXJ2ZWQ6IEludCkgLT4gQm9vbCB7fQogICAgb3BlbiBmdW5jIHNlbmRCZWZvcmVEYXRlKF8gbGltaXREYXRlOiBEYXRlLCBtc2dpZCBtc2dJRDogSW50LCBjb21wb25lbnRzOiBOU011dGFibGVBcnJheT8sIGZyb20gcmVjZWl2ZVBvcnQ6IFBvcnQ/LCByZXNlcnZlZCBoZWFkZXJTcGFjZVJlc2VydmVkOiBJbnQpIC0+IEJvb2wge30KfQpvcGVuIGNsYXNzIFBvcnRNZXNzYWdlIHsKICAgIHB1YmxpYyBpbml0KHNlbmRQb3J0OiBQb3J0PywgcmVjZWl2ZVBvcnQgcmVwbHlQb3J0OiBQb3J0PywgY29tcG9uZW50czogW0FueU9iamVjdF0/KSB7fQogICAgb3BlbiB2YXIgY29tcG9uZW50czogW0FueU9iamVjdF0/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIG1zZ2lkOiBVSW50MzIgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHJlY2VpdmVQb3J0OiBQb3J0PyB7IGdldCB9CiAgICBvcGVuIHZhciBzZW5kUG9ydDogUG9ydD8geyBnZXQgfQogICAgb3BlbiBmdW5jIHNlbmRCZWZvcmVEYXRlKF8gZGF0ZTogRGF0ZSkgLT4gQm9vbCB7fQp9Cm9wZW4gY2xhc3MgUHJvY2VzcyB7CiAgICBwdWJsaWMgc3RhdGljIHZhciBkaWRUZXJtaW5hdGVOb3RpZmljYXRpb24geyBnZXQgfQogICAgb3BlbiBjbGFzcyBmdW5jIHJ1bihfIHVybDogVVJMLCBhcmd1bWVudHM6IFtTdHJpbmddLCB0ZXJtaW5hdGlvbkhhbmRsZXI6ICgoUHJvY2VzcykgLT4gVm9pZCk/ID0geCkgdGhyb3dzIC0+IFByb2Nlc3Mge30KICAgIG9wZW4gdmFyIGFyZ3VtZW50czogW1N0cmluZ10/IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBjdXJyZW50RGlyZWN0b3J5VVJMIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBlbnZpcm9ubWVudDogW1N0cmluZzogU3RyaW5nXT8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGV4ZWN1dGFibGVVUkw6IFVSTD8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGlzUnVubmluZzogQm9vbCB7IGdldCB9CiAgICBvcGVuIHZhciBwcm9jZXNzSWRlbnRpZmllcjogSW50MzIgeyBnZXQgfQogICAgb3BlbiB2YXIgcXVhbGl0eU9mU2VydmljZTogUXVhbGl0eU9mU2VydmljZSB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgc3RhbmRhcmRFcnJvcjogQW55PyB7IGdldCB9CiAgICBvcGVuIHZhciBzdGFuZGFyZElucHV0OiBBbnk/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHN0YW5kYXJkT3V0cHV0OiBBbnk/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHRlcm1pbmF0aW9uSGFuZGxlcjogKChQcm9jZXNzKSAtPiBWb2lkKT8geyBnZXQgc2V0IH0KICAgIHB1YmxpYyB2YXIgdGVybWluYXRpb25SZWFzb246IFRlcm1pbmF0aW9uUmVhc29uIHsgZ2V0IH0KICAgIHB1YmxpYyB2YXIgdGVybWluYXRpb25TdGF0dXM6IEludDMyIHsgZ2V0IH0KICAgIG9wZW4gZnVuYyBpbnRlcnJ1cHQoKSB7fQogICAgb3BlbiBmdW5jIHJlc3VtZSgpIC0+IEJvb2wge30KICAgIG9wZW4gZnVuYyBydW4oKSB0aHJvd3Mge30KICAgIG9wZW4gZnVuYyBzdXNwZW5kKCkgLT4gQm9vbCB7fQogICAgb3BlbiBmdW5jIHRlcm1pbmF0ZSgpIHt9CiAgICBvcGVuIGZ1bmMgd2FpdFVudGlsRXhpdCgpIHt9Cn0Kb3BlbiBjbGFzcyBQcm9jZXNzSW5mbyB7CiAgICBwdWJsaWMgc3RhdGljIHZhciBwcm9jZXNzSW5mbyB7IGdldCB9CiAgICBvcGVuIHZhciBhY3RpdmVQcm9jZXNzb3JDb3VudDogSW50IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGFyZ3VtZW50czogW1N0cmluZ10geyBnZXQgfQogICAgb3BlbiB2YXIgZW52aXJvbm1lbnQ6IFtTdHJpbmc6IFN0cmluZ10geyBnZXQgfQogICAgb3BlbiB2YXIgZnVsbFVzZXJOYW1lOiBTdHJpbmcgeyBnZXQgfQogICAgb3BlbiB2YXIgZ2xvYmFsbHlVbmlxdWVTdHJpbmc6IFN0cmluZyB7IGdldCB9CiAgICBvcGVuIHZhciBob3N0TmFtZTogU3RyaW5nIHsgZ2V0IH0KICAgIG9wZW4gdmFyIG9wZXJhdGluZ1N5c3RlbVZlcnNpb246IE9wZXJhdGluZ1N5c3RlbVZlcnNpb24geyBnZXQgfQogICAgb3BlbiB2YXIgb3BlcmF0aW5nU3lzdGVtVmVyc2lvblN0cmluZzogU3RyaW5nIHsgZ2V0IH0KICAgIG9wZW4gdmFyIHBoeXNpY2FsTWVtb3J5OiBVSW50NjQgeyBnZXQgfQogICAgb3BlbiB2YXIgcHJvY2Vzc0lkZW50aWZpZXI6IEludDMyIHsgZ2V0IH0KICAgIG9wZW4gdmFyIHByb2Nlc3NOYW1lOiBTdHJpbmcgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHByb2Nlc3NvckNvdW50OiBJbnQgeyBnZXQgfQogICAgb3BlbiB2YXIgc3lzdGVtVXB0aW1lOiBUaW1lSW50ZXJ2YWwgeyBnZXQgfQogICAgb3BlbiB2YXIgdXNlck5hbWU6IFN0cmluZyB7IGdldCB9CiAgICBvcGVuIGZ1bmMgaXNPcGVyYXRpbmdTeXN0ZW1BdExlYXN0KF8gdmVyc2lvbjogT3BlcmF0aW5nU3lzdGVtVmVyc2lvbikgLT4gQm9vbCB7fQp9Cm9wZW4gY2xhc3MgUHJvZ3Jlc3MgewogICAgb3BlbiBjbGFzcyBmdW5jIGN1cnJlbnQoKSAtPiBQcm9ncmVzcz8ge30KICAgIG9wZW4gY2xhc3MgZnVuYyBkaXNjcmV0ZVByb2dyZXNzKHRvdGFsVW5pdENvdW50IHVuaXRDb3VudDogSW50NjQpIC0+IFByb2dyZXNzIHt9CiAgICBwdWJsaWMgaW5pdChwYXJlbnQgcGFyZW50UHJvZ3Jlc3M6IFByb2dyZXNzPywgdXNlckluZm8gdXNlckluZm9Pck5pbDogW1Byb2dyZXNzVXNlckluZm9LZXk6IEFueV0/ID0geCkge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KHRvdGFsVW5pdENvdW50IHVuaXRDb3VudDogSW50NjQpIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdCh0b3RhbFVuaXRDb3VudCB1bml0Q291bnQ6IEludDY0LCBwYXJlbnQ6IFByb2dyZXNzLCBwZW5kaW5nVW5pdENvdW50IHBvcnRpb25PZlBhcmVudFRvdGFsVW5pdENvdW50OiBJbnQ2NCkge30KICAgIG9wZW4gdmFyIGNhbmNlbGxhdGlvbkhhbmRsZXI6ICgoKSAtPiBWb2lkKT8geyBnZXQgfQogICAgb3BlbiB2YXIgY29tcGxldGVkVW5pdENvdW50OiBJbnQ2NCB7IGdldCBzZXQgfQogICAgcHVibGljIHZhciBmcmFjdGlvbkNvbXBsZXRlZDogRG91YmxlIHsgZ2V0IH0KICAgIG9wZW4gdmFyIGlzQ2FuY2VsbGFibGU6IEJvb2wgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGlzQ2FuY2VsbGVkOiBCb29sIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBpc0ZpbmlzaGVkOiBCb29sIHsgZ2V0IH0KICAgIG9wZW4gdmFyIGlzSW5kZXRlcm1pbmF0ZTogQm9vbCB7IGdldCB9CiAgICBvcGVuIHZhciBpc1BhdXNhYmxlOiBCb29sIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBpc1BhdXNlZDogQm9vbCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIga2luZDogUHJvZ3Jlc3NLaW5kPyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgbG9jYWxpemVkQWRkaXRpb25hbERlc2NyaXB0aW9uOiBTdHJpbmchIHsgZ2V0IH0KICAgIG9wZW4gdmFyIGxvY2FsaXplZERlc2NyaXB0aW9uOiBTdHJpbmchIHsgZ2V0IH0KICAgIG9wZW4gdmFyIHBhdXNpbmdIYW5kbGVyOiAoKCkgLT4gVm9pZCk/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHJlc3VtaW5nSGFuZGxlcjogKCgpIC0+IFZvaWQpPyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgdG90YWxVbml0Q291bnQ6IEludDY0IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciB1c2VySW5mbzogW1Byb2dyZXNzVXNlckluZm9LZXk6IEFueV0geyBnZXQgfQogICAgb3BlbiBmdW5jIGFkZENoaWxkKF8gY2hpbGQ6IFByb2dyZXNzLCB3aXRoUGVuZGluZ1VuaXRDb3VudCBpblVuaXRDb3VudDogSW50NjQpIHt9CiAgICBvcGVuIGZ1bmMgYmVjb21lQ3VycmVudCh3aXRoUGVuZGluZ1VuaXRDb3VudCB1bml0Q291bnQ6IEludDY0KSB7fQogICAgb3BlbiBmdW5jIGNhbmNlbCgpIHt9CiAgICBvcGVuIGZ1bmMgcGF1c2UoKSB7fQogICAgb3BlbiBmdW5jIHJlc2lnbkN1cnJlbnQoKSB7fQogICAgb3BlbiBmdW5jIHJlc3VtZSgpIHt9CiAgICBvcGVuIGZ1bmMgc2V0VXNlckluZm9PYmplY3QoXyBvYmplY3RPck5pbDogQW55PywgZm9yS2V5IGtleTogUHJvZ3Jlc3NVc2VySW5mb0tleSkge30KfQpvcGVuIGNsYXNzIFByb3BlcnR5TGlzdFNlcmlhbGl6YXRpb24gewogICAgb3BlbiBjbGFzcyBmdW5jIGRhdGEoZnJvbVByb3BlcnR5TGlzdCBwbGlzdDogQW55LCBmb3JtYXQ6IFByb3BlcnR5TGlzdEZvcm1hdCwgb3B0aW9ucyBvcHQ6IFdyaXRlT3B0aW9ucykgdGhyb3dzIC0+IERhdGEge30KICAgIG9wZW4gY2xhc3MgZnVuYyBwcm9wZXJ0eUxpc3QoXyBwbGlzdDogQW55LCBpc1ZhbGlkRm9yIGZvcm1hdDogUHJvcGVydHlMaXN0Rm9ybWF0KSAtPiBCb29sIHt9CiAgICBvcGVuIGNsYXNzIGZ1bmMgcHJvcGVydHlMaXN0KGZyb20gZGF0YTogRGF0YSwgb3B0aW9ucyBvcHQ6IFJlYWRPcHRpb25zID0geCwgZm9ybWF0OiBVbnNhZmVNdXRhYmxlUG9pbnRlcjxQcm9wZXJ0eUxpc3RGb3JtYXQ+PykgdGhyb3dzIC0+IEFueSB7fQogICAgb3BlbiBjbGFzcyBmdW5jIHByb3BlcnR5TGlzdCh3aXRoIHN0cmVhbTogSW5wdXRTdHJlYW0sIG9wdGlvbnMgb3B0OiBSZWFkT3B0aW9ucyA9IHgsIGZvcm1hdDogVW5zYWZlTXV0YWJsZVBvaW50ZXI8UHJvcGVydHlMaXN0Rm9ybWF0Pj8pIHRocm93cyAtPiBBbnkge30KfQpvcGVuIGNsYXNzIFJ1bkxvb3AgewogICAgb3BlbiBjbGFzcyB2YXIgY3VycmVudDogUnVuTG9vcCB7IGdldCB9CiAgICBvcGVuIGNsYXNzIHZhciBtYWluOiBSdW5Mb29wIHsgZ2V0IH0KICAgIG9wZW4gdmFyIGN1cnJlbnRNb2RlOiBSdW5Mb29wTW9kZT8geyBnZXQgfQogICAgb3BlbiBmdW5jIGFjY2VwdElucHV0KGZvck1vZGUgbW9kZTogU3RyaW5nLCBiZWZvcmUgbGltaXREYXRlOiBEYXRlKSB7fQogICAgb3BlbiBmdW5jIGFkZChfIGFQb3J0OiBQb3J0LCBmb3JNb2RlIG1vZGU6IFJ1bkxvb3BNb2RlKSB7fQogICAgb3BlbiBmdW5jIGdldENGUnVuTG9vcCgpIC0+IENGUnVuTG9vcCB7fQogICAgb3BlbiBmdW5jIGxpbWl0RGF0ZShmb3JNb2RlIG1vZGU6IFJ1bkxvb3BNb2RlKSAtPiBEYXRlPyB7fQogICAgcHVibGljIGZ1bmMgcGVyZm9ybShfIGJsb2NrOiBAZXNjYXBpbmcgKCkgLT4gVm9pZCkge30KICAgIHB1YmxpYyBmdW5jIHBlcmZvcm0oaW5Nb2RlcyBtb2RlczogW1J1bkxvb3BNb2RlXSwgYmxvY2s6IEBlc2NhcGluZyAoKSAtPiBWb2lkKSB7fQogICAgb3BlbiBmdW5jIHJlbW92ZShfIGFQb3J0OiBQb3J0LCBmb3JNb2RlIG1vZGU6IFJ1bkxvb3BNb2RlKSB7fQogICAgcHVibGljIGZ1bmMgcnVuKCkge30KICAgIHB1YmxpYyBmdW5jIHJ1bihtb2RlOiBSdW5Mb29wTW9kZSwgYmVmb3JlIGxpbWl0RGF0ZTogRGF0ZSkgLT4gQm9vbCB7fQogICAgcHVibGljIGZ1bmMgcnVuKHVudGlsIGxpbWl0RGF0ZTogRGF0ZSkge30KfQpvcGVuIGNsYXNzIFNjYW5uZXIgewogICAgb3BlbiBjbGFzcyBmdW5jIGxvY2FsaXplZFNjYW5uZXJXaXRoU3RyaW5nKF8gc3RyaW5nOiBTdHJpbmcpIC0+IEFueU9iamVjdCB7fQogICAgcHVibGljIGluaXQoc3RyaW5nOiBTdHJpbmcpIHt9CiAgICBvcGVuIHZhciBjYXNlU2Vuc2l0aXZlOiBCb29sIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBjaGFyYWN0ZXJzVG9CZVNraXBwZWQ6IENoYXJhY3RlclNldD8geyBnZXQgc2V0IH0KICAgIHB1YmxpYyB2YXIgaXNBdEVuZDogQm9vbCB7IGdldCB9CiAgICBvcGVuIHZhciBsb2NhbGU6IExvY2FsZT8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHNjYW5Mb2NhdGlvbjogSW50IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBzdHJpbmc6IFN0cmluZyB7IGdldCB9CiAgICBwdWJsaWMgZnVuYyBzY2FuQ2hhcmFjdGVyc0Zyb21TZXQoXyBzZXQ6IENoYXJhY3RlclNldCkgLT4gU3RyaW5nPyB7fQogICAgcHVibGljIGZ1bmMgc2NhbkRlY2ltYWwoKSAtPiBEZWNpbWFsPyB7fQogICAgcHVibGljIGZ1bmMgc2NhbkRlY2ltYWwoXyBkY206IGlub3V0IERlY2ltYWwpIC0+IEJvb2wge30KICAgIHB1YmxpYyBmdW5jIHNjYW5Eb3VibGUoKSAtPiBEb3VibGU/IHt9CiAgICBAZGlzY2FyZGFibGVSZXN1bHQgcHVibGljIGZ1bmMgc2NhbkRvdWJsZShfIHJlc3VsdDogVW5zYWZlTXV0YWJsZVBvaW50ZXI8RG91YmxlPikgLT4gQm9vbCB7fQogICAgcHVibGljIGZ1bmMgc2NhbkZsb2F0KCkgLT4gRmxvYXQ/IHt9CiAgICBAZGlzY2FyZGFibGVSZXN1bHQgcHVibGljIGZ1bmMgc2NhbkZsb2F0KF8gcmVzdWx0OiBVbnNhZmVNdXRhYmxlUG9pbnRlcjxGbG9hdD4pIC0+IEJvb2wge30KICAgIHB1YmxpYyBmdW5jIHNjYW5IZXhEb3VibGUoKSAtPiBEb3VibGU/IHt9CiAgICBAZGlzY2FyZGFibGVSZXN1bHQgcHVibGljIGZ1bmMgc2NhbkhleERvdWJsZShfIHJlc3VsdDogVW5zYWZlTXV0YWJsZVBvaW50ZXI8RG91YmxlPikgLT4gQm9vbCB7fQogICAgcHVibGljIGZ1bmMgc2NhbkhleEZsb2F0KCkgLT4gRmxvYXQ/IHt9CiAgICBAZGlzY2FyZGFibGVSZXN1bHQgcHVibGljIGZ1bmMgc2NhbkhleEZsb2F0KF8gcmVzdWx0OiBVbnNhZmVNdXRhYmxlUG9pbnRlcjxGbG9hdD4pIC0+IEJvb2wge30KICAgIHB1YmxpYyBmdW5jIHNjYW5IZXhJbnQzMigpIC0+IFVJbnQzMj8ge30KICAgIEBkaXNjYXJkYWJsZVJlc3VsdCBwdWJsaWMgZnVuYyBzY2FuSGV4SW50MzIoXyByZXN1bHQ6IFVuc2FmZU11dGFibGVQb2ludGVyPFVJbnQzMj4pIC0+IEJvb2wge30KICAgIHB1YmxpYyBmdW5jIHNjYW5IZXhJbnQ2NCgpIC0+IFVJbnQ2ND8ge30KICAgIEBkaXNjYXJkYWJsZVJlc3VsdCBwdWJsaWMgZnVuYyBzY2FuSGV4SW50NjQoXyByZXN1bHQ6IFVuc2FmZU11dGFibGVQb2ludGVyPFVJbnQ2ND4pIC0+IEJvb2wge30KICAgIHB1YmxpYyBmdW5jIHNjYW5JbnQoKSAtPiBJbnQ/IHt9CiAgICBAZGlzY2FyZGFibGVSZXN1bHQgcHVibGljIGZ1bmMgc2NhbkludChfIHJlc3VsdDogVW5zYWZlTXV0YWJsZVBvaW50ZXI8SW50PikgLT4gQm9vbCB7fQogICAgcHVibGljIGZ1bmMgc2NhbkludDMyKCkgLT4gSW50MzI/IHt9CiAgICBAZGlzY2FyZGFibGVSZXN1bHQgcHVibGljIGZ1bmMgc2NhbkludDMyKF8gcmVzdWx0OiBVbnNhZmVNdXRhYmxlUG9pbnRlcjxJbnQzMj4pIC0+IEJvb2wge30KICAgIHB1YmxpYyBmdW5jIHNjYW5JbnQ2NCgpIC0+IEludDY0PyB7fQogICAgQGRpc2NhcmRhYmxlUmVzdWx0IHB1YmxpYyBmdW5jIHNjYW5JbnQ2NChfIHJlc3VsdDogVW5zYWZlTXV0YWJsZVBvaW50ZXI8SW50NjQ+KSAtPiBCb29sIHt9CiAgICBwdWJsaWMgZnVuYyBzY2FuU3RyaW5nKF8gc2VhcmNoU3RyaW5nOiBTdHJpbmcpIC0+IFN0cmluZz8ge30KICAgIEBkaXNjYXJkYWJsZVJlc3VsdCBwdWJsaWMgZnVuYyBzY2FuU3RyaW5nKF8gc3RyaW5nOiBTdHJpbmcsIGludG8gcHRyOiBVbnNhZmVNdXRhYmxlUG9pbnRlcjxTdHJpbmc/Pj8pIC0+IEJvb2wge30KICAgIHB1YmxpYyBmdW5jIHNjYW5VbnNpZ25lZExvbmdMb25nKCkgLT4gVUludDY0PyB7fQogICAgQGRpc2NhcmRhYmxlUmVzdWx0IHB1YmxpYyBmdW5jIHNjYW5VbnNpZ25lZExvbmdMb25nKF8gcmVzdWx0OiBVbnNhZmVNdXRhYmxlUG9pbnRlcjxVSW50NjQ+KSAtPiBCb29sIHt9CiAgICBAZGlzY2FyZGFibGVSZXN1bHQgcHVibGljIGZ1bmMgc2NhblVwVG9DaGFyYWN0ZXJzKGZyb20gc2V0OiBDaGFyYWN0ZXJTZXQsIGludG8gcHRyOiBVbnNhZmVNdXRhYmxlUG9pbnRlcjxTdHJpbmc/Pj8pIC0+IEJvb2wge30KICAgIHB1YmxpYyBmdW5jIHNjYW5VcFRvQ2hhcmFjdGVyc0Zyb21TZXQoXyBzZXQ6IENoYXJhY3RlclNldCkgLT4gU3RyaW5nPyB7fQogICAgcHVibGljIGZ1bmMgc2NhblVwVG9TdHJpbmcoXyBzdHJpbmc6IFN0cmluZykgLT4gU3RyaW5nPyB7fQp9Cm9wZW4gY2xhc3MgU29ja2V0UG9ydCB7CiAgICBwdWJsaWMgaW5pdD8ocHJvdG9jb2xGYW1pbHkgZmFtaWx5OiBJbnQzMiwgc29ja2V0VHlwZSB0eXBlOiBJbnQzMiwgcHJvdG9jb2w6IEludDMyLCBhZGRyZXNzOiBEYXRhKSB7fQogICAgcHVibGljIGluaXQ/KHByb3RvY29sRmFtaWx5IGZhbWlseTogSW50MzIsIHNvY2tldFR5cGUgdHlwZTogSW50MzIsIHByb3RvY29sOiBJbnQzMiwgc29ja2V0IHNvY2s6IFNvY2tldE5hdGl2ZUhhbmRsZSkge30KICAgIHB1YmxpYyBpbml0KHJlbW90ZVdpdGhQcm90b2NvbEZhbWlseSBmYW1pbHk6IEludDMyLCBzb2NrZXRUeXBlIHR5cGU6IEludDMyLCBwcm90b2NvbDogSW50MzIsIGFkZHJlc3M6IERhdGEpIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdD8ocmVtb3RlV2l0aFRDUFBvcnQgcG9ydDogVUludDE2LCBob3N0IGhvc3ROYW1lOiBTdHJpbmc/KSB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQ/KHRjcFBvcnQgcG9ydDogVUludDE2KSB7fQogICAgb3BlbiB2YXIgYWRkcmVzczogRGF0YSB7IGdldCB9CiAgICBvcGVuIHZhciBwcm90b2NvbDogSW50MzIgeyBnZXQgfQogICAgb3BlbiB2YXIgcHJvdG9jb2xGYW1pbHk6IEludDMyIHsgZ2V0IH0KICAgIG9wZW4gdmFyIHNvY2tldDogU29ja2V0TmF0aXZlSGFuZGxlIHsgZ2V0IH0KICAgIG9wZW4gdmFyIHNvY2tldFR5cGU6IEludDMyIHsgZ2V0IH0KfQpvcGVuIGNsYXNzIFN0cmVhbSB7CiNpZiBmYWxzZQogICAgb3BlbiBjbGFzcyBmdW5jIGdldEJvdW5kU3RyZWFtcyh3aXRoQnVmZmVyU2l6ZSBidWZmZXJTaXplOiBJbnQsIGlucHV0U3RyZWFtOiBBdXRvcmVsZWFzaW5nVW5zYWZlTXV0YWJsZVBvaW50ZXI8SW5wdXRTdHJlYW0/Pj8sIG91dHB1dFN0cmVhbTogQXV0b3JlbGVhc2luZ1Vuc2FmZU11dGFibGVQb2ludGVyPE91dHB1dFN0cmVhbT8+Pykge30KI2VuZGlmCiNpZiBmYWxzZQogICAgb3BlbiBjbGFzcyBmdW5jIGdldFN0cmVhbXNUb0hvc3Qod2l0aE5hbWUgaG9zdG5hbWU6IFN0cmluZywgcG9ydDogSW50LCBpbnB1dFN0cmVhbTogQXV0b3JlbGVhc2luZ1Vuc2FmZU11dGFibGVQb2ludGVyPElucHV0U3RyZWFtPz4/LCBvdXRwdXRTdHJlYW06IEF1dG9yZWxlYXNpbmdVbnNhZmVNdXRhYmxlUG9pbnRlcjxPdXRwdXRTdHJlYW0/Pj8pIHt9CiNlbmRpZgogICAgb3BlbiB3ZWFrIHZhciBkZWxlZ2F0ZTogU3RyZWFtRGVsZWdhdGU/IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBzdHJlYW1FcnJvcjogRXJyb3I/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHN0cmVhbVN0YXR1czogU3RhdHVzIHsgZ2V0IH0KICAgIG9wZW4gZnVuYyBjbG9zZSgpIHt9CiAgICBvcGVuIGZ1bmMgb3BlbigpIHt9CiAgICBvcGVuIGZ1bmMgcHJvcGVydHkoZm9yS2V5IGtleTogUHJvcGVydHlLZXkpIC0+IEFueU9iamVjdD8ge30KICAgIG9wZW4gZnVuYyByZW1vdmUoZnJvbSBhUnVuTG9vcDogUnVuTG9vcCwgZm9yTW9kZSBtb2RlOiBSdW5Mb29wTW9kZSkge30KICAgIG9wZW4gZnVuYyBzY2hlZHVsZShpbiBhUnVuTG9vcDogUnVuTG9vcCwgZm9yTW9kZSBtb2RlOiBSdW5Mb29wTW9kZSkge30KICAgIG9wZW4gZnVuYyBzZXRQcm9wZXJ0eShfIHByb3BlcnR5OiBBbnlPYmplY3Q/LCBmb3JLZXkga2V5OiBQcm9wZXJ0eUtleSkgLT4gQm9vbCB7fQp9Cm9wZW4gY2xhc3MgVGhyZWFkIHsKICAgIG9wZW4gY2xhc3MgdmFyIGNhbGxTdGFja1JldHVybkFkZHJlc3NlczogW05TTnVtYmVyXSB7IGdldCB9CiAgICBvcGVuIGNsYXNzIHZhciBjYWxsU3RhY2tTeW1ib2xzOiBbU3RyaW5nXSB7IGdldCB9CiAgICBvcGVuIGNsYXNzIHZhciBjdXJyZW50OiBUaHJlYWQgeyBnZXQgfQogICAgb3BlbiBjbGFzcyB2YXIgaXNNYWluVGhyZWFkOiBCb29sIHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgdmFyIG1haW5UaHJlYWQ6IFRocmVhZCB7IGdldCB9CiAgICBvcGVuIGNsYXNzIGZ1bmMgZGV0YWNoTmV3VGhyZWFkKF8gYmxvY2s6IEBlc2NhcGluZyAoKSAtPiBTd2lmdC5Wb2lkKSB7fQogICAgb3BlbiBjbGFzcyBmdW5jIGV4aXQoKSB7fQogICAgb3BlbiBjbGFzcyBmdW5jIGlzTXVsdGlUaHJlYWRlZCgpIC0+IEJvb2wge30KICAgIG9wZW4gY2xhc3MgZnVuYyBzbGVlcChmb3JUaW1lSW50ZXJ2YWwgaW50ZXJ2YWw6IFRpbWVJbnRlcnZhbCkge30KICAgIG9wZW4gY2xhc3MgZnVuYyBzbGVlcCh1bnRpbCBkYXRlOiBEYXRlKSB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQoYmxvY2s6IEBlc2NhcGluZyAoKSAtPiBTd2lmdC5Wb2lkKSB7fQogICAgb3BlbiB2YXIgaXNDYW5jZWxsZWQ6IEJvb2wgeyBnZXQgfQogICAgb3BlbiB2YXIgaXNFeGVjdXRpbmc6IEJvb2wgeyBnZXQgfQogICAgb3BlbiB2YXIgaXNGaW5pc2hlZDogQm9vbCB7IGdldCB9CiAgICBvcGVuIHZhciBpc01haW5UaHJlYWQ6IEJvb2wgeyBnZXQgfQogICAgb3BlbiB2YXIgbmFtZTogU3RyaW5nPyB7IGdldCB9CiAgICBvcGVuIHZhciBzdGFja1NpemU6IEludCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgdGhyZWFkRGljdGlvbmFyeTogTlNNdXRhYmxlRGljdGlvbmFyeSB7IGdldCB9CiAgICBvcGVuIGZ1bmMgY2FuY2VsKCkge30KICAgIG9wZW4gZnVuYyBtYWluKCkge30KICAgIG9wZW4gZnVuYyBzdGFydCgpIHt9Cn0Kb3BlbiBjbGFzcyBUaW1lciB7CiAgICBvcGVuIGNsYXNzIGZ1bmMgc2NoZWR1bGVkVGltZXIod2l0aFRpbWVJbnRlcnZhbCBpbnRlcnZhbDogVGltZUludGVydmFsLCByZXBlYXRzOiBCb29sLCBibG9jazogQGVzY2FwaW5nIChUaW1lcikgLT4gVm9pZCkgLT4gVGltZXIge30KICAgIHB1YmxpYyBpbml0KGZpcmUgZGF0ZTogRGF0ZSwgaW50ZXJ2YWw6IFRpbWVJbnRlcnZhbCwgcmVwZWF0czogQm9vbCwgYmxvY2s6IEBlc2NhcGluZyAoVGltZXIpIC0+IFN3aWZ0LlZvaWQpIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdCh0aW1lSW50ZXJ2YWwgaW50ZXJ2YWw6IFRpbWVJbnRlcnZhbCwgcmVwZWF0czogQm9vbCwgYmxvY2s6IEBlc2NhcGluZyAoVGltZXIpIC0+IFN3aWZ0LlZvaWQpIHt9CiAgICBvcGVuIHZhciBmaXJlRGF0ZTogRGF0ZSB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgaXNWYWxpZDogQm9vbCB7IGdldCB9CiAgICBvcGVuIHZhciB0aW1lSW50ZXJ2YWw6IFRpbWVJbnRlcnZhbCB7IGdldCB9CiAgICBvcGVuIHZhciB0b2xlcmFuY2U6IFRpbWVJbnRlcnZhbCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgdXNlckluZm86IEFueT8geyBnZXQgfQogICAgb3BlbiBmdW5jIGZpcmUoKSB7fQogICAgb3BlbiBmdW5jIGludmFsaWRhdGUoKSB7fQp9Cm9wZW4gY2xhc3MgVVJMQXV0aGVudGljYXRpb25DaGFsbGVuZ2UgewogICAgcHVibGljIGluaXQoYXV0aGVudGljYXRpb25DaGFsbGVuZ2UgY2hhbGxlbmdlOiBVUkxBdXRoZW50aWNhdGlvbkNoYWxsZW5nZSwgc2VuZGVyOiBVUkxBdXRoZW50aWNhdGlvbkNoYWxsZW5nZVNlbmRlcikge30KICAgIHB1YmxpYyBpbml0KHByb3RlY3Rpb25TcGFjZSBzcGFjZTogVVJMUHJvdGVjdGlvblNwYWNlLCBwcm9wb3NlZENyZWRlbnRpYWwgY3JlZGVudGlhbDogVVJMQ3JlZGVudGlhbD8sIHByZXZpb3VzRmFpbHVyZUNvdW50OiBJbnQsIGZhaWx1cmVSZXNwb25zZSByZXNwb25zZTogVVJMUmVzcG9uc2U/LCBlcnJvcjogRXJyb3I/LCBzZW5kZXI6IFVSTEF1dGhlbnRpY2F0aW9uQ2hhbGxlbmdlU2VuZGVyKSB7fQogICAgb3BlbiB2YXIgZXJyb3I6IEVycm9yPyB7IGdldCB9CiAgICBvcGVuIHZhciBmYWlsdXJlUmVzcG9uc2U6IFVSTFJlc3BvbnNlPyB7IGdldCB9CiAgICBvcGVuIHZhciBwcmV2aW91c0ZhaWx1cmVDb3VudDogSW50IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHByb3Bvc2VkQ3JlZGVudGlhbDogVVJMQ3JlZGVudGlhbD8geyBnZXQgfQogICAgb3BlbiB2YXIgcHJvdGVjdGlvblNwYWNlOiBVUkxQcm90ZWN0aW9uU3BhY2UgeyBnZXQgfQogICAgb3BlbiB2YXIgc2VuZGVyOiBVUkxBdXRoZW50aWNhdGlvbkNoYWxsZW5nZVNlbmRlcj8geyBnZXQgfQp9Cm9wZW4gY2xhc3MgVVJMQ2FjaGUgewogICAgb3BlbiBjbGFzcyB2YXIgc2hhcmVkOiBVUkxDYWNoZSB7IGdldCBzZXQgfQogICAgcHVibGljIGluaXQobWVtb3J5Q2FwYWNpdHk6IEludCwgZGlza0NhcGFjaXR5OiBJbnQsIGRpc2tQYXRoIHBhdGg6IFN0cmluZz8pIHt9CiAgICBvcGVuIHZhciBjdXJyZW50RGlza1VzYWdlOiBJbnQgeyBnZXQgfQogICAgb3BlbiB2YXIgY3VycmVudE1lbW9yeVVzYWdlOiBJbnQgeyBnZXQgfQogICAgb3BlbiB2YXIgZGlza0NhcGFjaXR5OiBJbnQgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIG1lbW9yeUNhcGFjaXR5OiBJbnQgeyBnZXQgc2V0IH0KICAgIG9wZW4gZnVuYyBjYWNoZWRSZXNwb25zZShmb3IgcmVxdWVzdDogVVJMUmVxdWVzdCkgLT4gQ2FjaGVkVVJMUmVzcG9uc2U/IHt9CiAgICBwdWJsaWMgZnVuYyBnZXRDYWNoZWRSZXNwb25zZShmb3IgZGF0YVRhc2s6IFVSTFNlc3Npb25EYXRhVGFzaywgY29tcGxldGlvbkhhbmRsZXI6IChDYWNoZWRVUkxSZXNwb25zZT8pIC0+IFZvaWQpIHt9CiAgICBvcGVuIGZ1bmMgcmVtb3ZlQWxsQ2FjaGVkUmVzcG9uc2VzKCkge30KICAgIHB1YmxpYyBmdW5jIHJlbW92ZUNhY2hlZFJlc3BvbnNlKGZvciBkYXRhVGFzazogVVJMU2Vzc2lvbkRhdGFUYXNrKSB7fQogICAgb3BlbiBmdW5jIHJlbW92ZUNhY2hlZFJlc3BvbnNlcyhzaW5jZSBkYXRlOiBEYXRlKSB7fQogICAgcHVibGljIGZ1bmMgc3RvcmVDYWNoZWRSZXNwb25zZShfIGNhY2hlZFJlc3BvbnNlOiBDYWNoZWRVUkxSZXNwb25zZSwgZm9yIGRhdGFUYXNrOiBVUkxTZXNzaW9uRGF0YVRhc2spIHt9Cn0Kb3BlbiBjbGFzcyBVUkxDcmVkZW50aWFsIHsKICAgIHB1YmxpYyBpbml0KHVzZXI6IFN0cmluZywgcGFzc3dvcmQ6IFN0cmluZywgcGVyc2lzdGVuY2U6IFBlcnNpc3RlbmNlKSB7fQogICAgb3BlbiB2YXIgaGFzUGFzc3dvcmQ6IEJvb2wgeyBnZXQgfQogICAgb3BlbiB2YXIgcGFzc3dvcmQ6IFN0cmluZz8geyBnZXQgfQogICAgb3BlbiB2YXIgcGVyc2lzdGVuY2U6IFBlcnNpc3RlbmNlIHsgZ2V0IH0KICAgIG9wZW4gdmFyIHVzZXI6IFN0cmluZz8geyBnZXQgfQp9Cm9wZW4gY2xhc3MgVVJMQ3JlZGVudGlhbFN0b3JhZ2UgewogICAgb3BlbiBjbGFzcyB2YXIgc2hhcmVkOiBVUkxDcmVkZW50aWFsU3RvcmFnZSB7IGdldCB9CiAgICBvcGVuIHZhciBhbGxDcmVkZW50aWFsczogW1VSTFByb3RlY3Rpb25TcGFjZTogW1N0cmluZzogVVJMQ3JlZGVudGlhbF1dIHsgZ2V0IH0KICAgIG9wZW4gZnVuYyBjcmVkZW50aWFscyhmb3Igc3BhY2U6IFVSTFByb3RlY3Rpb25TcGFjZSkgLT4gW1N0cmluZzogVVJMQ3JlZGVudGlhbF0/IHt9CiAgICBvcGVuIGZ1bmMgZGVmYXVsdENyZWRlbnRpYWwoZm9yIHNwYWNlOiBVUkxQcm90ZWN0aW9uU3BhY2UpIC0+IFVSTENyZWRlbnRpYWw/IHt9CiAgICBwdWJsaWMgZnVuYyBnZXRDcmVkZW50aWFscyhmb3IgcHJvdGVjdGlvblNwYWNlOiBVUkxQcm90ZWN0aW9uU3BhY2UsIHRhc2s6IFVSTFNlc3Npb25UYXNrLCBjb21wbGV0aW9uSGFuZGxlcjogKFtTdHJpbmc6IFVSTENyZWRlbnRpYWxdPykgLT4gVm9pZCkge30KICAgIHB1YmxpYyBmdW5jIGdldERlZmF1bHRDcmVkZW50aWFsKGZvciBzcGFjZTogVVJMUHJvdGVjdGlvblNwYWNlLCB0YXNrOiBVUkxTZXNzaW9uVGFzaywgY29tcGxldGlvbkhhbmRsZXI6IChVUkxDcmVkZW50aWFsPykgLT4gVm9pZCkge30KICAgIG9wZW4gZnVuYyByZW1vdmUoXyBjcmVkZW50aWFsOiBVUkxDcmVkZW50aWFsLCBmb3Igc3BhY2U6IFVSTFByb3RlY3Rpb25TcGFjZSkge30KICAgIG9wZW4gZnVuYyByZW1vdmUoXyBjcmVkZW50aWFsOiBVUkxDcmVkZW50aWFsLCBmb3Igc3BhY2U6IFVSTFByb3RlY3Rpb25TcGFjZSwgb3B0aW9uczogW1N0cmluZzogQW55T2JqZWN0XT8gPSB4KSB7fQogICAgcHVibGljIGZ1bmMgcmVtb3ZlKF8gY3JlZGVudGlhbDogVVJMQ3JlZGVudGlhbCwgZm9yIHByb3RlY3Rpb25TcGFjZTogVVJMUHJvdGVjdGlvblNwYWNlLCBvcHRpb25zOiBbU3RyaW5nOiBBbnlPYmplY3RdPyA9IHgsIHRhc2s6IFVSTFNlc3Npb25UYXNrKSB7fQogICAgb3BlbiBmdW5jIHNldChfIGNyZWRlbnRpYWw6IFVSTENyZWRlbnRpYWwsIGZvciBzcGFjZTogVVJMUHJvdGVjdGlvblNwYWNlKSB7fQogICAgcHVibGljIGZ1bmMgc2V0KF8gY3JlZGVudGlhbDogVVJMQ3JlZGVudGlhbCwgZm9yIHByb3RlY3Rpb25TcGFjZTogVVJMUHJvdGVjdGlvblNwYWNlLCB0YXNrOiBVUkxTZXNzaW9uVGFzaykge30KICAgIG9wZW4gZnVuYyBzZXREZWZhdWx0Q3JlZGVudGlhbChfIGNyZWRlbnRpYWw6IFVSTENyZWRlbnRpYWwsIGZvciBzcGFjZTogVVJMUHJvdGVjdGlvblNwYWNlKSB7fQogICAgcHVibGljIGZ1bmMgc2V0RGVmYXVsdENyZWRlbnRpYWwoXyBjcmVkZW50aWFsOiBVUkxDcmVkZW50aWFsLCBmb3IgcHJvdGVjdGlvblNwYWNlOiBVUkxQcm90ZWN0aW9uU3BhY2UsIHRhc2s6IFVSTFNlc3Npb25UYXNrKSB7fQp9Cm9wZW4gY2xhc3MgVVJMUHJvdGVjdGlvblNwYWNlIHsKICAgIHB1YmxpYyBpbml0KGhvc3Q6IFN0cmluZywgcG9ydDogSW50LCBwcm90b2NvbDogU3RyaW5nPywgcmVhbG06IFN0cmluZz8sIGF1dGhlbnRpY2F0aW9uTWV0aG9kOiBTdHJpbmc/KSB7fQogICAgcHVibGljIGluaXQocHJveHlIb3N0IGhvc3Q6IFN0cmluZywgcG9ydDogSW50LCB0eXBlOiBTdHJpbmc/LCByZWFsbTogU3RyaW5nPywgYXV0aGVudGljYXRpb25NZXRob2Q6IFN0cmluZz8pIHt9CiAgICBvcGVuIHZhciBhdXRoZW50aWNhdGlvbk1ldGhvZDogU3RyaW5nIHsgZ2V0IH0KICAgIHB1YmxpYyB2YXIgZGlzdGluZ3Vpc2hlZE5hbWVzOiBbRGF0YV0/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGhvc3Q6IFN0cmluZyB7IGdldCB9CiAgICBvcGVuIHZhciBwb3J0OiBJbnQgeyBnZXQgfQogICAgb3BlbiB2YXIgcHJvdG9jb2w6IFN0cmluZz8geyBnZXQgfQogICAgb3BlbiB2YXIgcHJveHlUeXBlOiBTdHJpbmc/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHJlYWxtOiBTdHJpbmc/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHJlY2VpdmVzQ3JlZGVudGlhbFNlY3VyZWx5OiBCb29sIHsgZ2V0IH0KfQpvcGVuIGNsYXNzIFVSTFByb3RvY29sIHsKICAgIG9wZW4gY2xhc3MgZnVuYyBjYW5Jbml0KHdpdGggcmVxdWVzdDogVVJMUmVxdWVzdCkgLT4gQm9vbCB7fQogICAgb3BlbiBjbGFzcyBmdW5jIGNhbm9uaWNhbFJlcXVlc3QoZm9yIHJlcXVlc3Q6IFVSTFJlcXVlc3QpIC0+IFVSTFJlcXVlc3Qge30KICAgIG9wZW4gY2xhc3MgZnVuYyBwcm9wZXJ0eShmb3JLZXkga2V5OiBTdHJpbmcsIGluIHJlcXVlc3Q6IFVSTFJlcXVlc3QpIC0+IEFueT8ge30KICAgIG9wZW4gY2xhc3MgZnVuYyByZWdpc3RlckNsYXNzKF8gcHJvdG9jb2xDbGFzczogQW55Q2xhc3MpIC0+IEJvb2wge30KICAgIG9wZW4gY2xhc3MgZnVuYyByZW1vdmVQcm9wZXJ0eShmb3JLZXkga2V5OiBTdHJpbmcsIGluIHJlcXVlc3Q6IE5TTXV0YWJsZVVSTFJlcXVlc3QpIHt9CiAgICBvcGVuIGNsYXNzIGZ1bmMgcmVxdWVzdElzQ2FjaGVFcXVpdmFsZW50KF8gYTogVVJMUmVxdWVzdCwgdG8gYjogVVJMUmVxdWVzdCkgLT4gQm9vbCB7fQogICAgb3BlbiBjbGFzcyBmdW5jIHNldFByb3BlcnR5KF8gdmFsdWU6IEFueSwgZm9yS2V5IGtleTogU3RyaW5nLCBpbiByZXF1ZXN0OiBOU011dGFibGVVUkxSZXF1ZXN0KSB7fQogICAgb3BlbiBjbGFzcyBmdW5jIHVucmVnaXN0ZXJDbGFzcyhfIHByb3RvY29sQ2xhc3M6IEFueUNsYXNzKSB7fQogICAgcHVibGljIHJlcXVpcmVkIGluaXQocmVxdWVzdDogVVJMUmVxdWVzdCwgY2FjaGVkUmVzcG9uc2U6IENhY2hlZFVSTFJlc3BvbnNlPywgY2xpZW50OiBVUkxQcm90b2NvbENsaWVudD8pIHt9CiAgICBwdWJsaWMgcmVxdWlyZWQgY29udmVuaWVuY2UgaW5pdCh0YXNrOiBVUkxTZXNzaW9uVGFzaywgY2FjaGVkUmVzcG9uc2U6IENhY2hlZFVSTFJlc3BvbnNlPywgY2xpZW50OiBVUkxQcm90b2NvbENsaWVudD8pIHt9CiAgICBvcGVuIHZhciBjYWNoZWRSZXNwb25zZTogQ2FjaGVkVVJMUmVzcG9uc2U/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGNsaWVudDogVVJMUHJvdG9jb2xDbGllbnQ/IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciByZXF1ZXN0OiBVUkxSZXF1ZXN0IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHRhc2s6IFVSTFNlc3Npb25UYXNrPyB7IGdldCBzZXQgfQogICAgb3BlbiBmdW5jIHN0YXJ0TG9hZGluZygpIHt9CiAgICBvcGVuIGZ1bmMgc3RvcExvYWRpbmcoKSB7fQp9Cm9wZW4gY2xhc3MgVVJMUmVzcG9uc2UgewogICAgcHVibGljIHN0YXRpYyB2YXIgc3VwcG9ydHNTZWN1cmVDb2Rpbmc6IEJvb2wgeyBnZXQgfQogICAgcHVibGljIHJlcXVpcmVkIGluaXQ/KGNvZGVyIGFEZWNvZGVyOiBOU0NvZGVyKSB7fQogICAgcHVibGljIGluaXQodXJsOiBVUkwsIG1pbWVUeXBlOiBTdHJpbmc/LCBleHBlY3RlZENvbnRlbnRMZW5ndGggbGVuZ3RoOiBJbnQsIHRleHRFbmNvZGluZ05hbWUgbmFtZTogU3RyaW5nPykge30KICAgIG9wZW4gdmFyIGV4cGVjdGVkQ29udGVudExlbmd0aDogSW50NjQgeyBnZXQgfQogICAgb3BlbiB2YXIgbWltZVR5cGU6IFN0cmluZz8geyBnZXQgfQogICAgb3BlbiB2YXIgc3VnZ2VzdGVkRmlsZW5hbWU6IFN0cmluZz8geyBnZXQgfQogICAgb3BlbiB2YXIgdGV4dEVuY29kaW5nTmFtZTogU3RyaW5nPyB7IGdldCB9CiAgICBvcGVuIHZhciB1cmw6IFVSTD8geyBnZXQgfQogICAgb3BlbiBmdW5jIGNvcHkoKSAtPiBBbnkge30KICAgIG9wZW4gZnVuYyBjb3B5KHdpdGggem9uZTogTlNab25lPyA9IHgpIC0+IEFueSB7fQogICAgb3BlbiBmdW5jIGVuY29kZSh3aXRoIGFDb2RlcjogTlNDb2Rlcikge30KfQpvcGVuIGNsYXNzIFVSTFNlc3Npb24gewogICAgb3BlbiBjbGFzcyB2YXIgc2hhcmVkOiBVUkxTZXNzaW9uIHsgZ2V0IH0KICAgIHB1YmxpYyBpbml0KGNvbmZpZ3VyYXRpb246IFVSTFNlc3Npb25Db25maWd1cmF0aW9uKSB7fQogICAgcHVibGljIGluaXQoY29uZmlndXJhdGlvbjogVVJMU2Vzc2lvbkNvbmZpZ3VyYXRpb24sIGRlbGVnYXRlOiBVUkxTZXNzaW9uRGVsZWdhdGU/LCBkZWxlZ2F0ZVF1ZXVlIHF1ZXVlOiBPcGVyYXRpb25RdWV1ZT8pIHt9CiAgICBvcGVuIHZhciBjb25maWd1cmF0aW9uOiBVUkxTZXNzaW9uQ29uZmlndXJhdGlvbiB7IGdldCB9CiAgICBvcGVuIHZhciBkZWxlZ2F0ZTogVVJMU2Vzc2lvbkRlbGVnYXRlPyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgZGVsZWdhdGVRdWV1ZTogT3BlcmF0aW9uUXVldWUgeyBnZXQgfQogICAgb3BlbiB2YXIgc2Vzc2lvbkRlc2NyaXB0aW9uOiBTdHJpbmc/IHsgZ2V0IHNldCB9CiAgICBvcGVuIGZ1bmMgZGF0YVRhc2sod2l0aCByZXF1ZXN0OiBVUkxSZXF1ZXN0KSAtPiBVUkxTZXNzaW9uRGF0YVRhc2sge30KICAgIG9wZW4gZnVuYyBkYXRhVGFzayh3aXRoIHJlcXVlc3Q6IFVSTFJlcXVlc3QsIGNvbXBsZXRpb25IYW5kbGVyOiBAZXNjYXBpbmcgKERhdGE/LCBVUkxSZXNwb25zZT8sIEVycm9yPykgLT4gVm9pZCkgLT4gVVJMU2Vzc2lvbkRhdGFUYXNrIHt9CiAgICBvcGVuIGZ1bmMgZG93bmxvYWRUYXNrKHdpdGggcmVxdWVzdDogVVJMUmVxdWVzdCkgLT4gVVJMU2Vzc2lvbkRvd25sb2FkVGFzayB7fQogICAgb3BlbiBmdW5jIGRvd25sb2FkVGFzayh3aXRoIHJlcXVlc3Q6IFVSTFJlcXVlc3QsIGNvbXBsZXRpb25IYW5kbGVyOiBAZXNjYXBpbmcgKFVSTD8sIFVSTFJlc3BvbnNlPywgRXJyb3I/KSAtPiBWb2lkKSAtPiBVUkxTZXNzaW9uRG93bmxvYWRUYXNrIHt9CiAgICBvcGVuIGZ1bmMgZG93bmxvYWRUYXNrKHdpdGhSZXN1bWVEYXRhIHJlc3VtZURhdGE6IERhdGEpIC0+IFVSTFNlc3Npb25Eb3dubG9hZFRhc2sge30KICAgIG9wZW4gZnVuYyBkb3dubG9hZFRhc2sod2l0aFJlc3VtZURhdGEgcmVzdW1lRGF0YTogRGF0YSwgY29tcGxldGlvbkhhbmRsZXI6IEBlc2NhcGluZyAoVVJMPywgVVJMUmVzcG9uc2U/LCBFcnJvcj8pIC0+IFZvaWQpIC0+IFVSTFNlc3Npb25Eb3dubG9hZFRhc2sge30KICAgIG9wZW4gZnVuYyBmaW5pc2hUYXNrc0FuZEludmFsaWRhdGUoKSB7fQogICAgb3BlbiBmdW5jIGZsdXNoKGNvbXBsZXRpb25IYW5kbGVyOiBAZXNjYXBpbmcgKCkgLT4gVm9pZCkge30KICAgIG9wZW4gZnVuYyBnZXRBbGxUYXNrcyhjb21wbGV0aW9uSGFuZGxlcjogQGVzY2FwaW5nIChbVVJMU2Vzc2lvblRhc2tdKSAtPiBWb2lkKSB7fQogICAgb3BlbiBmdW5jIGdldFRhc2tzV2l0aENvbXBsZXRpb25IYW5kbGVyKGNvbXBsZXRpb25IYW5kbGVyOiBAZXNjYXBpbmcgKFtVUkxTZXNzaW9uRGF0YVRhc2tdLCBbVVJMU2Vzc2lvblVwbG9hZFRhc2tdLCBbVVJMU2Vzc2lvbkRvd25sb2FkVGFza10pIC0+IFZvaWQpIHt9CiAgICBvcGVuIGZ1bmMgaW52YWxpZGF0ZUFuZENhbmNlbCgpIHt9CiAgICBvcGVuIGZ1bmMgcmVzZXQoY29tcGxldGlvbkhhbmRsZXI6IEBlc2NhcGluZyAoKSAtPiBWb2lkKSB7fQogICAgb3BlbiBmdW5jIHN0cmVhbVRhc2sod2l0aEhvc3ROYW1lIGhvc3RuYW1lOiBTdHJpbmcsIHBvcnQ6IEludCkgLT4gVVJMU2Vzc2lvblN0cmVhbVRhc2sge30KICAgIG9wZW4gZnVuYyB1cGxvYWRUYXNrKHdpdGggcmVxdWVzdDogVVJMUmVxdWVzdCwgZnJvbSBib2R5RGF0YTogRGF0YSkgLT4gVVJMU2Vzc2lvblVwbG9hZFRhc2sge30KICAgIG9wZW4gZnVuYyB1cGxvYWRUYXNrKHdpdGggcmVxdWVzdDogVVJMUmVxdWVzdCwgZnJvbSBib2R5RGF0YTogRGF0YT8sIGNvbXBsZXRpb25IYW5kbGVyOiBAZXNjYXBpbmcgKERhdGE/LCBVUkxSZXNwb25zZT8sIEVycm9yPykgLT4gVm9pZCkgLT4gVVJMU2Vzc2lvblVwbG9hZFRhc2sge30KICAgIG9wZW4gZnVuYyB1cGxvYWRUYXNrKHdpdGggcmVxdWVzdDogVVJMUmVxdWVzdCwgZnJvbUZpbGUgZmlsZVVSTDogVVJMKSAtPiBVUkxTZXNzaW9uVXBsb2FkVGFzayB7fQogICAgb3BlbiBmdW5jIHVwbG9hZFRhc2sod2l0aCByZXF1ZXN0OiBVUkxSZXF1ZXN0LCBmcm9tRmlsZSBmaWxlVVJMOiBVUkwsIGNvbXBsZXRpb25IYW5kbGVyOiBAZXNjYXBpbmcgKERhdGE/LCBVUkxSZXNwb25zZT8sIEVycm9yPykgLT4gVm9pZCkgLT4gVVJMU2Vzc2lvblVwbG9hZFRhc2sge30KICAgIG9wZW4gZnVuYyB1cGxvYWRUYXNrKHdpdGhTdHJlYW1lZFJlcXVlc3QgcmVxdWVzdDogVVJMUmVxdWVzdCkgLT4gVVJMU2Vzc2lvblVwbG9hZFRhc2sge30KfQpvcGVuIGNsYXNzIFVSTFNlc3Npb25Db25maWd1cmF0aW9uIHsKICAgIG9wZW4gY2xhc3MgdmFyIGRlZmF1bHQ6IFVSTFNlc3Npb25Db25maWd1cmF0aW9uIHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgdmFyIGVwaGVtZXJhbDogVVJMU2Vzc2lvbkNvbmZpZ3VyYXRpb24geyBnZXQgfQogICAgb3BlbiBjbGFzcyBmdW5jIGJhY2tncm91bmQod2l0aElkZW50aWZpZXIgaWRlbnRpZmllcjogU3RyaW5nKSAtPiBVUkxTZXNzaW9uQ29uZmlndXJhdGlvbiB7fQogICAgb3BlbiB2YXIgYWxsb3dzQ2VsbHVsYXJBY2Nlc3M6IEJvb2wgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGNvbm5lY3Rpb25Qcm94eURpY3Rpb25hcnk6IFtBbnlIYXNoYWJsZTogQW55XT8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGh0dHBBZGRpdGlvbmFsSGVhZGVyczogW0FueUhhc2hhYmxlOiBBbnldPyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgaHR0cENvb2tpZUFjY2VwdFBvbGljeTogSFRUUENvb2tpZS5BY2NlcHRQb2xpY3kgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGh0dHBDb29raWVTdG9yYWdlOiBIVFRQQ29va2llU3RvcmFnZT8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGh0dHBNYXhpbXVtQ29ubmVjdGlvbnNQZXJIb3N0OiBJbnQgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGh0dHBTaG91bGRTZXRDb29raWVzOiBCb29sIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBodHRwU2hvdWxkVXNlUGlwZWxpbmluZzogQm9vbCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgaWRlbnRpZmllcjogU3RyaW5nPyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgaXNEaXNjcmV0aW9uYXJ5OiBCb29sIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBuZXR3b3JrU2VydmljZVR5cGU6IFVSTFJlcXVlc3QuTmV0d29ya1NlcnZpY2VUeXBlIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBwcm90b2NvbENsYXNzZXM6IFtBbnlDbGFzc10/IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciByZXF1ZXN0Q2FjaGVQb2xpY3k6IFVSTFJlcXVlc3QuQ2FjaGVQb2xpY3kgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHNoYXJlZENvbnRhaW5lcklkZW50aWZpZXI6IFN0cmluZz8geyBnZXQgfQogICAgb3BlbiB2YXIgc2hvdWxkVXNlRXh0ZW5kZWRCYWNrZ3JvdW5kSWRsZU1vZGU6IEJvb2wgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHRpbWVvdXRJbnRlcnZhbEZvclJlcXVlc3Q6IFRpbWVJbnRlcnZhbCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgdGltZW91dEludGVydmFsRm9yUmVzb3VyY2U6IFRpbWVJbnRlcnZhbCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgdXJsQ2FjaGU6IFVSTENhY2hlPyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgdXJsQ3JlZGVudGlhbFN0b3JhZ2U6IFVSTENyZWRlbnRpYWxTdG9yYWdlPyB7IGdldCBzZXQgfQp9Cm9wZW4gY2xhc3MgVVJMU2Vzc2lvbkRhdGFUYXNrIHsKfQpvcGVuIGNsYXNzIFVSTFNlc3Npb25Eb3dubG9hZFRhc2sgewogICAgb3BlbiBmdW5jIGNhbmNlbChieVByb2R1Y2luZ1Jlc3VtZURhdGEgY29tcGxldGlvbkhhbmRsZXI6IEBlc2NhcGluZyAoRGF0YT8pIC0+IFZvaWQpIHt9Cn0Kb3BlbiBjbGFzcyBVUkxTZXNzaW9uU3RyZWFtVGFzayB7CiAgICBvcGVuIGZ1bmMgY2FwdHVyZVN0cmVhbXMoKSB7fQogICAgb3BlbiBmdW5jIGNsb3NlUmVhZCgpIHt9CiAgICBvcGVuIGZ1bmMgY2xvc2VXcml0ZSgpIHt9CiAgICBvcGVuIGZ1bmMgcmVhZERhdGEob2ZNaW5MZW5ndGggbWluQnl0ZXM6IEludCwgbWF4TGVuZ3RoIG1heEJ5dGVzOiBJbnQsIHRpbWVvdXQ6IFRpbWVJbnRlcnZhbCwgY29tcGxldGlvbkhhbmRsZXI6IEBlc2NhcGluZyAoRGF0YT8sIEJvb2wsIEVycm9yPykgLT4gVm9pZCkge30KICAgIG9wZW4gZnVuYyBzdGFydFNlY3VyZUNvbm5lY3Rpb24oKSB7fQogICAgb3BlbiBmdW5jIHN0b3BTZWN1cmVDb25uZWN0aW9uKCkge30KICAgIG9wZW4gZnVuYyB3cml0ZShfIGRhdGE6IERhdGEsIHRpbWVvdXQ6IFRpbWVJbnRlcnZhbCwgY29tcGxldGlvbkhhbmRsZXI6IEBlc2NhcGluZyAoRXJyb3I/KSAtPiBWb2lkKSB7fQp9Cm9wZW4gY2xhc3MgVVJMU2Vzc2lvblRhc2sgewogICAgcHVibGljIHN0YXRpYyB2YXIgZGVmYXVsdFByaW9yaXR5OiBGbG9hdCB7IGdldCB9CiAgICBwdWJsaWMgc3RhdGljIHZhciBoaWdoUHJpb3JpdHk6IEZsb2F0IHsgZ2V0IH0KICAgIHB1YmxpYyBzdGF0aWMgdmFyIGxvd1ByaW9yaXR5OiBGbG9hdCB7IGdldCB9CiAgICBwdWJsaWMgdmFyIGNvdW50T2ZCeXRlc0NsaWVudEV4cGVjdHNUb1JlY2VpdmU6IEludDY0IHsgZ2V0IH0KICAgIHB1YmxpYyB2YXIgY291bnRPZkJ5dGVzQ2xpZW50RXhwZWN0c1RvU2VuZDogSW50NjQgeyBnZXQgfQogICAgb3BlbiB2YXIgY291bnRPZkJ5dGVzRXhwZWN0ZWRUb1JlY2VpdmU6IEludDY0IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGNvdW50T2ZCeXRlc0V4cGVjdGVkVG9TZW5kOiBJbnQ2NCB7IGdldCB9CiAgICBvcGVuIHZhciBjb3VudE9mQnl0ZXNSZWNlaXZlZDogSW50NjQgeyBnZXQgfQogICAgb3BlbiB2YXIgY291bnRPZkJ5dGVzU2VudDogSW50NjQgeyBnZXQgfQogICAgb3BlbiB2YXIgY3VycmVudFJlcXVlc3Q6IFVSTFJlcXVlc3Q/IHsgZ2V0IH0KICAgIHB1YmxpYyB2YXIgZWFybGllc3RCZWdpbkRhdGU6IERhdGU/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGVycm9yOiBFcnJvcj8geyBnZXQgfQogICAgb3BlbiB2YXIgb3JpZ2luYWxSZXF1ZXN0OiBVUkxSZXF1ZXN0PyB7IGdldCB9CiAgICBvcGVuIHZhciBwcmlvcml0eTogRmxvYXQgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHJlc3BvbnNlOiBVUkxSZXNwb25zZT8geyBnZXQgfQogICAgb3BlbiB2YXIgc3RhdGU6IFVSTFNlc3Npb25UYXNrLlN0YXRlIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciB0YXNrRGVzY3JpcHRpb246IFN0cmluZz8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHRhc2tJZGVudGlmaWVyOiBJbnQgeyBnZXQgfQogICAgb3BlbiBmdW5jIGNhbmNlbCgpIHt9CiAgICBvcGVuIGZ1bmMgcmVzdW1lKCkge30KICAgIG9wZW4gZnVuYyBzdXNwZW5kKCkge30KfQpvcGVuIGNsYXNzIFVSTFNlc3Npb25VcGxvYWRUYXNrIHsKfQpvcGVuIGNsYXNzIFVuaXQgewogICAgcHVibGljIHJlcXVpcmVkIGluaXQoc3ltYm9sOiBTdHJpbmcpIHt9CiAgICBvcGVuIHZhciBzeW1ib2w6IFN0cmluZyB7IGdldCB9Cn0Kb3BlbiBjbGFzcyBVbml0Q29udmVydGVyIHsKICAgIG9wZW4gZnVuYyBiYXNlVW5pdFZhbHVlKGZyb21WYWx1ZSB2YWx1ZTogRG91YmxlKSAtPiBEb3VibGUge30KICAgIG9wZW4gZnVuYyB2YWx1ZShmcm9tQmFzZVVuaXRWYWx1ZSBiYXNlVW5pdFZhbHVlOiBEb3VibGUpIC0+IERvdWJsZSB7fQp9Cm9wZW4gY2xhc3MgVW5pdENvbnZlcnRlckxpbmVhciB7CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdChjb2VmZmljaWVudDogRG91YmxlKSB7fQogICAgcHVibGljIGluaXQoY29lZmZpY2llbnQ6IERvdWJsZSwgY29uc3RhbnQ6IERvdWJsZSkge30KICAgIG9wZW4gdmFyIGNvZWZmaWNpZW50OiBEb3VibGUgeyBnZXQgfQogICAgb3BlbiB2YXIgY29uc3RhbnQ6IERvdWJsZSB7IGdldCB9CiAgICBvcGVuIGZ1bmMgaXNFcXVhbChfIG9iamVjdDogQW55PykgLT4gQm9vbCB7fQp9Cm9wZW4gY2xhc3MgVXNlckRlZmF1bHRzIHsKICAgIHB1YmxpYyBzdGF0aWMgdmFyIGFyZ3VtZW50RG9tYWluOiBTdHJpbmcgeyBnZXQgfQogICAgcHVibGljIHN0YXRpYyB2YXIgZGlkQ2hhbmdlTm90aWZpY2F0aW9uIHsgZ2V0IH0KICAgIHB1YmxpYyBzdGF0aWMgdmFyIGdsb2JhbERvbWFpbjogU3RyaW5nIHsgZ2V0IH0KICAgIHB1YmxpYyBzdGF0aWMgdmFyIHJlZ2lzdHJhdGlvbkRvbWFpbjogU3RyaW5nIHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgdmFyIHN0YW5kYXJkOiBVc2VyRGVmYXVsdHMgeyBnZXQgfQogICAgb3BlbiBjbGFzcyBmdW5jIHJlc2V0U3RhbmRhcmRVc2VyRGVmYXVsdHMoKSB7fQogICAgcHVibGljIGluaXQ/KHN1aXRlTmFtZSBzdWl0ZW5hbWU6IFN0cmluZz8pIHt9CiAgICBvcGVuIHZhciB2b2xhdGlsZURvbWFpbk5hbWVzOiBbU3RyaW5nXSB7IGdldCB9CiAgICBvcGVuIGZ1bmMgYWRkU3VpdGUobmFtZWQgc3VpdGVOYW1lOiBTdHJpbmcpIHt9CiAgICBvcGVuIGZ1bmMgYXJyYXkoZm9yS2V5IGRlZmF1bHROYW1lOiBTdHJpbmcpIC0+IFtBbnldPyB7fQogICAgb3BlbiBmdW5jIGJvb2woZm9yS2V5IGRlZmF1bHROYW1lOiBTdHJpbmcpIC0+IEJvb2wge30KICAgIG9wZW4gZnVuYyBkYXRhKGZvcktleSBkZWZhdWx0TmFtZTogU3RyaW5nKSAtPiBEYXRhPyB7fQogICAgb3BlbiBmdW5jIGRpY3Rpb25hcnkoZm9yS2V5IGRlZmF1bHROYW1lOiBTdHJpbmcpIC0+IFtTdHJpbmc6IEFueV0/IHt9CiAgICBvcGVuIGZ1bmMgZGljdGlvbmFyeVJlcHJlc2VudGF0aW9uKCkgLT4gW1N0cmluZzogQW55XSB7fQogICAgb3BlbiBmdW5jIGRvdWJsZShmb3JLZXkgZGVmYXVsdE5hbWU6IFN0cmluZykgLT4gRG91YmxlIHt9CiAgICBvcGVuIGZ1bmMgZmxvYXQoZm9yS2V5IGRlZmF1bHROYW1lOiBTdHJpbmcpIC0+IEZsb2F0IHt9CiAgICBvcGVuIGZ1bmMgaW50ZWdlcihmb3JLZXkgZGVmYXVsdE5hbWU6IFN0cmluZykgLT4gSW50IHt9CiAgICBvcGVuIGZ1bmMgb2JqZWN0KGZvcktleSBkZWZhdWx0TmFtZTogU3RyaW5nKSAtPiBBbnk/IHt9CiAgICBvcGVuIGZ1bmMgb2JqZWN0SXNGb3JjZWQoZm9yS2V5IGtleTogU3RyaW5nKSAtPiBCb29sIHt9CiAgICBvcGVuIGZ1bmMgb2JqZWN0SXNGb3JjZWQoZm9yS2V5IGtleTogU3RyaW5nLCBpbkRvbWFpbiBkb21haW46IFN0cmluZykgLT4gQm9vbCB7fQogICAgb3BlbiBmdW5jIHBlcnNpc3RlbnREb21haW4oZm9yTmFtZSBkb21haW5OYW1lOiBTdHJpbmcpIC0+IFtTdHJpbmc6IEFueV0/IHt9CiAgICBvcGVuIGZ1bmMgcmVnaXN0ZXIoZGVmYXVsdHMgcmVnaXN0cmF0aW9uRGljdGlvbmFyeTogW1N0cmluZzogQW55XSkge30KICAgIG9wZW4gZnVuYyByZW1vdmVPYmplY3QoZm9yS2V5IGRlZmF1bHROYW1lOiBTdHJpbmcpIHt9CiAgICBvcGVuIGZ1bmMgcmVtb3ZlUGVyc2lzdGVudERvbWFpbihmb3JOYW1lIGRvbWFpbk5hbWU6IFN0cmluZykge30KICAgIG9wZW4gZnVuYyByZW1vdmVTdWl0ZShuYW1lZCBzdWl0ZU5hbWU6IFN0cmluZykge30KICAgIG9wZW4gZnVuYyByZW1vdmVWb2xhdGlsZURvbWFpbihmb3JOYW1lIGRvbWFpbk5hbWU6IFN0cmluZykge30KICAgIG9wZW4gZnVuYyBzZXQoXyB1cmw6IFVSTD8sIGZvcktleSBkZWZhdWx0TmFtZTogU3RyaW5nKSB7fQogICAgb3BlbiBmdW5jIHNldFBlcnNpc3RlbnREb21haW4oXyBkb21haW46IFtTdHJpbmc6IEFueV0sIGZvck5hbWUgZG9tYWluTmFtZTogU3RyaW5nKSB7fQogICAgb3BlbiBmdW5jIHNldFZvbGF0aWxlRG9tYWluKF8gZG9tYWluOiBbU3RyaW5nOiBBbnldLCBmb3JOYW1lIGRvbWFpbk5hbWU6IFN0cmluZykge30KICAgIG9wZW4gZnVuYyBzdHJpbmcoZm9yS2V5IGRlZmF1bHROYW1lOiBTdHJpbmcpIC0+IFN0cmluZz8ge30KICAgIG9wZW4gZnVuYyBzdHJpbmdBcnJheShmb3JLZXkgZGVmYXVsdE5hbWU6IFN0cmluZykgLT4gW1N0cmluZ10/IHt9CiAgICBAZGlzY2FyZGFibGVSZXN1bHQgb3BlbiBmdW5jIHN5bmNocm9uaXplKCkgLT4gQm9vbCB7fQogICAgb3BlbiBmdW5jIHVybChmb3JLZXkgZGVmYXVsdE5hbWU6IFN0cmluZykgLT4gVVJMPyB7fQogICAgb3BlbiBmdW5jIHZvbGF0aWxlRG9tYWluKGZvck5hbWUgZG9tYWluTmFtZTogU3RyaW5nKSAtPiBbU3RyaW5nOiBBbnldIHt9Cn0Kb3BlbiBjbGFzcyBYTUxEVEQgewogICAgb3BlbiBjbGFzcyBmdW5jIHByZWRlZmluZWRFbnRpdHlEZWNsYXJhdGlvbihmb3JOYW1lIG5hbWU6IFN0cmluZykgLT4gWE1MRFRETm9kZT8ge30KICAgIHB1YmxpYyBpbml0KCkge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KGNvbnRlbnRzT2YgdXJsOiBVUkwsIG9wdGlvbnMgbWFzazogWE1MTm9kZS5PcHRpb25zID0geCkgdGhyb3dzIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdChkYXRhOiBEYXRhLCBvcHRpb25zIG1hc2s6IFhNTE5vZGUuT3B0aW9ucyA9IHgpIHRocm93cyB7fQogICAgb3BlbiB2YXIgcHVibGljSUQ6IFN0cmluZz8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHN5c3RlbUlEOiBTdHJpbmc/IHsgZ2V0IHNldCB9CiAgICBvcGVuIGZ1bmMgYWRkQ2hpbGQoXyBjaGlsZDogWE1MTm9kZSkge30KICAgIG9wZW4gZnVuYyBhdHRyaWJ1dGVEZWNsYXJhdGlvbihmb3JOYW1lIG5hbWU6IFN0cmluZywgZWxlbWVudE5hbWU6IFN0cmluZykgLT4gWE1MRFRETm9kZT8ge30KICAgIG9wZW4gZnVuYyBlbGVtZW50RGVjbGFyYXRpb24oZm9yTmFtZSBuYW1lOiBTdHJpbmcpIC0+IFhNTERURE5vZGU/IHt9CiAgICBvcGVuIGZ1bmMgZW50aXR5RGVjbGFyYXRpb24oZm9yTmFtZSBuYW1lOiBTdHJpbmcpIC0+IFhNTERURE5vZGU/IHt9CiAgICBvcGVuIGZ1bmMgaW5zZXJ0Q2hpbGQoXyBjaGlsZDogWE1MTm9kZSwgYXQgaW5kZXg6IEludCkge30KICAgIG9wZW4gZnVuYyBpbnNlcnRDaGlsZHJlbihfIGNoaWxkcmVuOiBbWE1MTm9kZV0sIGF0IGluZGV4OiBJbnQpIHt9CiAgICBvcGVuIGZ1bmMgbm90YXRpb25EZWNsYXJhdGlvbihmb3JOYW1lIG5hbWU6IFN0cmluZykgLT4gWE1MRFRETm9kZT8ge30KICAgIG9wZW4gZnVuYyByZW1vdmVDaGlsZChhdCBpbmRleDogSW50KSB7fQogICAgb3BlbiBmdW5jIHJlcGxhY2VDaGlsZChhdCBpbmRleDogSW50LCB3aXRoIG5vZGU6IFhNTE5vZGUpIHt9CiAgICBvcGVuIGZ1bmMgc2V0Q2hpbGRyZW4oXyBjaGlsZHJlbjogW1hNTE5vZGVdPykge30KfQpvcGVuIGNsYXNzIFhNTERURE5vZGUgewogICAgcHVibGljIGluaXQ/KHhtbFN0cmluZyBzdHJpbmc6IFN0cmluZykge30KICAgIG9wZW4gdmFyIGR0ZEtpbmQ6IFhNTERURE5vZGUuRFRES2luZCB7IGdldCB9CiAgICBvcGVuIHZhciBpc0V4dGVybmFsOiBCb29sIHsgZ2V0IH0KICAgIG9wZW4gdmFyIG5vdGF0aW9uTmFtZTogU3RyaW5nPyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgcHVibGljSUQ6IFN0cmluZz8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHN5c3RlbUlEOiBTdHJpbmc/IHsgZ2V0IHNldCB9Cn0Kb3BlbiBjbGFzcyBYTUxEb2N1bWVudCB7CiAgICBvcGVuIGNsYXNzIGZ1bmMgcmVwbGFjZW1lbnRDbGFzcyhmb3IgY2xzOiBBbnlDbGFzcykgLT4gQW55Q2xhc3Mge30KICAgIHB1YmxpYyBpbml0KCkge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KGNvbnRlbnRzT2YgdXJsOiBVUkwsIG9wdGlvbnMgbWFzazogWE1MTm9kZS5PcHRpb25zID0geCkgdGhyb3dzIHt9CiAgICBwdWJsaWMgaW5pdChkYXRhOiBEYXRhLCBvcHRpb25zIG1hc2s6IFhNTE5vZGUuT3B0aW9ucyA9IHgpIHRocm93cyB7fQogICAgcHVibGljIGluaXQocm9vdEVsZW1lbnQgZWxlbWVudDogWE1MRWxlbWVudD8pIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdCh4bWxTdHJpbmcgc3RyaW5nOiBTdHJpbmcsIG9wdGlvbnMgbWFzazogWE1MTm9kZS5PcHRpb25zID0geCkgdGhyb3dzIHt9CiAgICBvcGVuIHZhciBjaGFyYWN0ZXJFbmNvZGluZzogU3RyaW5nPyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgZG9jdW1lbnRDb250ZW50S2luZDogWE1MRG9jdW1lbnQuQ29udGVudEtpbmQgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGR0ZDogWE1MRFREPyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgaXNTdGFuZGFsb25lOiBCb29sIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBtaW1lVHlwZTogU3RyaW5nPyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgdmVyc2lvbjogU3RyaW5nPyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgeG1sRGF0YTogRGF0YSB7IGdldCB9CiAgICBvcGVuIGZ1bmMgYWRkQ2hpbGQoXyBjaGlsZDogWE1MTm9kZSkge30KICAgIG9wZW4gZnVuYyBpbnNlcnRDaGlsZChfIGNoaWxkOiBYTUxOb2RlLCBhdCBpbmRleDogSW50KSB7fQogICAgb3BlbiBmdW5jIGluc2VydENoaWxkcmVuKF8gY2hpbGRyZW46IFtYTUxOb2RlXSwgYXQgaW5kZXg6IEludCkge30KICAgIG9wZW4gZnVuYyBvYmplY3QoYnlBcHBseWluZ1hTTFQgeHNsdDogRGF0YSwgYXJndW1lbnRzOiBbU3RyaW5nOiBTdHJpbmddPykgdGhyb3dzIC0+IEFueSB7fQogICAgb3BlbiBmdW5jIG9iamVjdChieUFwcGx5aW5nWFNMVFN0cmluZyB4c2x0OiBTdHJpbmcsIGFyZ3VtZW50czogW1N0cmluZzogU3RyaW5nXT8pIHRocm93cyAtPiBBbnkge30KICAgIG9wZW4gZnVuYyBvYmplY3RCeUFwcGx5aW5nWFNMVChhdCB4c2x0VVJMOiBVUkwsIGFyZ3VtZW50cyBhcmd1bWVudDogW1N0cmluZzogU3RyaW5nXT8pIHRocm93cyAtPiBBbnkge30KICAgIG9wZW4gZnVuYyByZW1vdmVDaGlsZChhdCBpbmRleDogSW50KSB7fQogICAgb3BlbiBmdW5jIHJlcGxhY2VDaGlsZChhdCBpbmRleDogSW50LCB3aXRoIG5vZGU6IFhNTE5vZGUpIHt9CiAgICBvcGVuIGZ1bmMgcm9vdEVsZW1lbnQoKSAtPiBYTUxFbGVtZW50PyB7fQogICAgb3BlbiBmdW5jIHNldENoaWxkcmVuKF8gY2hpbGRyZW46IFtYTUxOb2RlXT8pIHt9CiAgICBvcGVuIGZ1bmMgc2V0Um9vdEVsZW1lbnQoXyByb290OiBYTUxFbGVtZW50KSB7fQogICAgb3BlbiBmdW5jIHZhbGlkYXRlKCkgdGhyb3dzIHt9CiAgICBvcGVuIGZ1bmMgeG1sRGF0YShvcHRpb25zOiBYTUxOb2RlLk9wdGlvbnMgPSB4KSAtPiBEYXRhIHt9Cn0Kb3BlbiBjbGFzcyBYTUxFbGVtZW50IHsKICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KG5hbWU6IFN0cmluZykge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KG5hbWU6IFN0cmluZywgc3RyaW5nVmFsdWUgc3RyaW5nOiBTdHJpbmc/KSB7fQogICAgcHVibGljIGluaXQobmFtZTogU3RyaW5nLCB1cmkgVVJJOiBTdHJpbmc/KSB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQoeG1sU3RyaW5nIHN0cmluZzogU3RyaW5nKSB0aHJvd3Mge30KICAgIG9wZW4gdmFyIGF0dHJpYnV0ZXM6IFtYTUxOb2RlXT8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIG5hbWVzcGFjZXM6IFtYTUxOb2RlXT8geyBnZXQgc2V0IH0KICAgIG9wZW4gZnVuYyBhZGRBdHRyaWJ1dGUoXyBhdHRyaWJ1dGU6IFhNTE5vZGUpIHt9CiAgICBvcGVuIGZ1bmMgYWRkQ2hpbGQoXyBjaGlsZDogWE1MTm9kZSkge30KICAgIG9wZW4gZnVuYyBhZGROYW1lc3BhY2UoXyBhTmFtZXNwYWNlOiBYTUxOb2RlKSB7fQogICAgb3BlbiBmdW5jIGF0dHJpYnV0ZShmb3JMb2NhbE5hbWUgbG9jYWxOYW1lOiBTdHJpbmcsIHVyaSBVUkk6IFN0cmluZz8pIC0+IFhNTE5vZGU/IHt9CiAgICBvcGVuIGZ1bmMgYXR0cmlidXRlKGZvck5hbWUgbmFtZTogU3RyaW5nKSAtPiBYTUxOb2RlPyB7fQogICAgb3BlbiBmdW5jIGVsZW1lbnRzKGZvckxvY2FsTmFtZSBsb2NhbE5hbWU6IFN0cmluZywgdXJpIFVSSTogU3RyaW5nPykgLT4gW1hNTEVsZW1lbnRdIHt9CiAgICBvcGVuIGZ1bmMgZWxlbWVudHMoZm9yTmFtZSBuYW1lOiBTdHJpbmcpIC0+IFtYTUxFbGVtZW50XSB7fQogICAgb3BlbiBmdW5jIGluc2VydENoaWxkKF8gY2hpbGQ6IFhNTE5vZGUsIGF0IGluZGV4OiBJbnQpIHt9CiAgICBvcGVuIGZ1bmMgaW5zZXJ0Q2hpbGRyZW4oXyBjaGlsZHJlbjogW1hNTE5vZGVdLCBhdCBpbmRleDogSW50KSB7fQogICAgb3BlbiBmdW5jIG5hbWVzcGFjZShmb3JQcmVmaXggbmFtZTogU3RyaW5nKSAtPiBYTUxOb2RlPyB7fQogICAgb3BlbiBmdW5jIG5vcm1hbGl6ZUFkamFjZW50VGV4dE5vZGVzUHJlc2VydmluZ0NEQVRBKF8gcHJlc2VydmU6IEJvb2wpIHt9CiAgICBvcGVuIGZ1bmMgcmVtb3ZlQXR0cmlidXRlKGZvck5hbWUgbmFtZTogU3RyaW5nKSB7fQogICAgb3BlbiBmdW5jIHJlbW92ZUNoaWxkKGF0IGluZGV4OiBJbnQpIHt9CiAgICBvcGVuIGZ1bmMgcmVtb3ZlTmFtZXNwYWNlKGZvclByZWZpeCBuYW1lOiBTdHJpbmcpIHt9CiAgICBvcGVuIGZ1bmMgcmVwbGFjZUNoaWxkKGF0IGluZGV4OiBJbnQsIHdpdGggbm9kZTogWE1MTm9kZSkge30KICAgIG9wZW4gZnVuYyByZXNvbHZlTmFtZXNwYWNlKGZvck5hbWUgbmFtZTogU3RyaW5nKSAtPiBYTUxOb2RlPyB7fQogICAgb3BlbiBmdW5jIHJlc29sdmVQcmVmaXgoZm9yTmFtZXNwYWNlVVJJIG5hbWVzcGFjZVVSSTogU3RyaW5nKSAtPiBTdHJpbmc/IHt9CiAgICBvcGVuIGZ1bmMgc2V0QXR0cmlidXRlc1dpdGgoXyBhdHRyaWJ1dGVzOiBbU3RyaW5nOiBTdHJpbmddKSB7fQogICAgb3BlbiBmdW5jIHNldENoaWxkcmVuKF8gY2hpbGRyZW46IFtYTUxOb2RlXT8pIHt9Cn0Kb3BlbiBjbGFzcyBYTUxOb2RlIHsKICAgIG9wZW4gY2xhc3MgZnVuYyBhdHRyaWJ1dGUod2l0aE5hbWUgbmFtZTogU3RyaW5nLCBzdHJpbmdWYWx1ZTogU3RyaW5nKSAtPiBBbnkge30KICAgIG9wZW4gY2xhc3MgZnVuYyBhdHRyaWJ1dGUod2l0aE5hbWUgbmFtZTogU3RyaW5nLCB1cmk6IFN0cmluZywgc3RyaW5nVmFsdWU6IFN0cmluZykgLT4gQW55IHt9CiAgICBvcGVuIGNsYXNzIGZ1bmMgY29tbWVudCh3aXRoU3RyaW5nVmFsdWUgc3RyaW5nVmFsdWU6IFN0cmluZykgLT4gQW55IHt9CiAgICBvcGVuIGNsYXNzIGZ1bmMgZG9jdW1lbnQoKSAtPiBBbnkge30KICAgIG9wZW4gY2xhc3MgZnVuYyBkb2N1bWVudCh3aXRoUm9vdEVsZW1lbnQgZWxlbWVudDogWE1MRWxlbWVudCkgLT4gQW55IHt9CiAgICBvcGVuIGNsYXNzIGZ1bmMgZHRkTm9kZSh3aXRoWE1MU3RyaW5nIHN0cmluZzogU3RyaW5nKSAtPiBBbnk/IHt9CiAgICBvcGVuIGNsYXNzIGZ1bmMgZWxlbWVudCh3aXRoTmFtZSBuYW1lOiBTdHJpbmcpIC0+IEFueSB7fQogICAgb3BlbiBjbGFzcyBmdW5jIGVsZW1lbnQod2l0aE5hbWUgbmFtZTogU3RyaW5nLCBjaGlsZHJlbjogW1hNTE5vZGVdPywgYXR0cmlidXRlczogW1hNTE5vZGVdPykgLT4gQW55IHt9CiAgICBvcGVuIGNsYXNzIGZ1bmMgZWxlbWVudCh3aXRoTmFtZSBuYW1lOiBTdHJpbmcsIHN0cmluZ1ZhbHVlIHN0cmluZzogU3RyaW5nKSAtPiBBbnkge30KICAgIG9wZW4gY2xhc3MgZnVuYyBlbGVtZW50KHdpdGhOYW1lIG5hbWU6IFN0cmluZywgdXJpOiBTdHJpbmcpIC0+IEFueSB7fQogICAgb3BlbiBjbGFzcyBmdW5jIGxvY2FsTmFtZShmb3JOYW1lIG5hbWU6IFN0cmluZykgLT4gU3RyaW5nIHt9CiAgICBvcGVuIGNsYXNzIGZ1bmMgbmFtZXNwYWNlKHdpdGhOYW1lIG5hbWU6IFN0cmluZywgc3RyaW5nVmFsdWU6IFN0cmluZykgLT4gQW55IHt9CiAgICBvcGVuIGNsYXNzIGZ1bmMgcHJlZGVmaW5lZE5hbWVzcGFjZShmb3JQcmVmaXggbmFtZTogU3RyaW5nKSAtPiBYTUxOb2RlPyB7fQogICAgb3BlbiBjbGFzcyBmdW5jIHByZWZpeChmb3JOYW1lIG5hbWU6IFN0cmluZykgLT4gU3RyaW5nPyB7fQogICAgcHVibGljIGNsYXNzIGZ1bmMgcHJvY2Vzc2luZ0luc3RydWN0aW9uKHdpdGhOYW1lIG5hbWU6IFN0cmluZywgc3RyaW5nVmFsdWU6IFN0cmluZykgLT4gQW55IHt9CiAgICBvcGVuIGNsYXNzIGZ1bmMgdGV4dCh3aXRoU3RyaW5nVmFsdWUgc3RyaW5nVmFsdWU6IFN0cmluZykgLT4gQW55IHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdChraW5kOiBYTUxOb2RlLktpbmQpIHt9CiAgICBwdWJsaWMgaW5pdChraW5kOiBYTUxOb2RlLktpbmQsIG9wdGlvbnM6IFhNTE5vZGUuT3B0aW9ucyA9IHgpIHt9CiAgICBvcGVuIHZhciBjaGlsZENvdW50OiBJbnQgeyBnZXQgfQogICAgb3BlbiB2YXIgY2hpbGRyZW46IFtYTUxOb2RlXT8geyBnZXQgfQogICAgcHVibGljIHZhciBlbmRJbmRleDogSW5kZXggeyBnZXQgfQogICAgb3BlbiB2YXIgaW5kZXg6IEludCB7IGdldCB9CiAgICBvcGVuIHZhciBraW5kOiBYTUxOb2RlLktpbmQgeyBnZXQgfQogICAgb3BlbiB2YXIgbGV2ZWw6IEludCB7IGdldCB9CiAgICBvcGVuIHZhciBsb2NhbE5hbWU6IFN0cmluZz8geyBnZXQgfQogICAgb3BlbiB2YXIgbmFtZTogU3RyaW5nPyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgbmV4dDogWE1MTm9kZT8geyBnZXQgfQogICAgb3BlbiB2YXIgbmV4dFNpYmxpbmc6IFhNTE5vZGU/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIG9iamVjdFZhbHVlOiBBbnk/IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBwYXJlbnQ6IFhNTE5vZGU/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHByZWZpeDogU3RyaW5nPyB7IGdldCB9CiAgICBvcGVuIHZhciBwcmV2aW91czogWE1MTm9kZT8geyBnZXQgfQogICAgb3BlbiB2YXIgcHJldmlvdXNTaWJsaW5nOiBYTUxOb2RlPyB7IGdldCB9CiAgICBvcGVuIHZhciByb290RG9jdW1lbnQ6IFhNTERvY3VtZW50PyB7IGdldCB9CiAgICBwdWJsaWMgdmFyIHN0YXJ0SW5kZXg6IEluZGV4IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHN0cmluZ1ZhbHVlOiBTdHJpbmc/IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciB1cmk6IFN0cmluZz8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHhQYXRoOiBTdHJpbmc/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHhtbFN0cmluZzogU3RyaW5nIHsgZ2V0IH0KICAgIHB1YmxpYyBzdWJzY3JpcHQoaW5kZXg6IEluZGV4KSAtPiBYTUxOb2RlIHsgZ2V0IH0ge30KICAgIG9wZW4gZnVuYyBjYW5vbmljYWxYTUxTdHJpbmdQcmVzZXJ2aW5nQ29tbWVudHMoXyBjb21tZW50czogQm9vbCkgLT4gU3RyaW5nIHt9CiAgICBvcGVuIGZ1bmMgY2hpbGQoYXQgaW5kZXg6IEludCkgLT4gWE1MTm9kZT8ge30KICAgIG9wZW4gZnVuYyBkZXRhY2goKSB7fQogICAgcHVibGljIGZ1bmMgaW5kZXgoYWZ0ZXIgaTogSW5kZXgpIC0+IEluZGV4IHt9CiAgICBvcGVuIGZ1bmMgbm9kZXMoZm9yWFBhdGggeHBhdGg6IFN0cmluZykgdGhyb3dzIC0+IFtYTUxOb2RlXSB7fQogICAgb3BlbiBmdW5jIG9iamVjdHMoZm9yWFF1ZXJ5IHhxdWVyeTogU3RyaW5nKSB0aHJvd3MgLT4gW0FueV0ge30KICAgIG9wZW4gZnVuYyBvYmplY3RzKGZvclhRdWVyeSB4cXVlcnk6IFN0cmluZywgY29uc3RhbnRzOiBbU3RyaW5nOiBBbnldPykgdGhyb3dzIC0+IFtBbnldIHt9CiAgICBvcGVuIGZ1bmMgc2V0U3RyaW5nVmFsdWUoXyBzdHJpbmc6IFN0cmluZywgcmVzb2x2aW5nRW50aXRpZXMgcmVzb2x2ZTogQm9vbCkge30KICAgIG9wZW4gZnVuYyB4bWxTdHJpbmcob3B0aW9uczogT3B0aW9ucykgLT4gU3RyaW5nIHt9Cn0Kb3BlbiBjbGFzcyBYTUxQYXJzZXIgewogICAgcHVibGljIHN0YXRpYyB2YXIgZXJyb3JEb21haW46IFN0cmluZyB7IGdldCB9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdD8oY29udGVudHNPZiB1cmw6IFVSTCkge30KICAgIHB1YmxpYyBpbml0KGRhdGE6IERhdGEpIHt9CiAgICBwdWJsaWMgaW5pdChzdHJlYW06IElucHV0U3RyZWFtKSB7fQogICAgb3BlbiB2YXIgYWxsb3dlZEV4dGVybmFsRW50aXR5VVJMczogU2V0PFVSTD4/IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBjb2x1bW5OdW1iZXI6IEludCB7IGdldCB9CiAgICBvcGVuIHdlYWsgdmFyIGRlbGVnYXRlOiBYTUxQYXJzZXJEZWxlZ2F0ZT8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGV4dGVybmFsRW50aXR5UmVzb2x2aW5nUG9saWN5OiBFeHRlcm5hbEVudGl0eVJlc29sdmluZ1BvbGljeSB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgbGluZU51bWJlcjogSW50IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHBhcnNlckVycm9yOiBFcnJvcj8geyBnZXQgfQogICAgb3BlbiB2YXIgcHVibGljSUQ6IFN0cmluZz8geyBnZXQgfQogICAgb3BlbiB2YXIgc2hvdWxkUHJvY2Vzc05hbWVzcGFjZXM6IEJvb2wgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHNob3VsZFJlcG9ydE5hbWVzcGFjZVByZWZpeGVzOiBCb29sIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBzaG91bGRSZXNvbHZlRXh0ZXJuYWxFbnRpdGllczogQm9vbCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgc3lzdGVtSUQ6IFN0cmluZz8geyBnZXQgfQogICAgb3BlbiBmdW5jIGFib3J0UGFyc2luZygpIHt9CiAgICBvcGVuIGZ1bmMgcGFyc2UoKSAtPiBCb29sIHt9Cn0KcHVibGljIHByb3RvY29sIEN1c3RvbU5TRXJyb3IgewogICAgcHVibGljIHN0YXRpYyB2YXIgZXJyb3JEb21haW46IFN0cmluZyB7IGdldCB9CiAgICBwdWJsaWMgdmFyIGVycm9yQ29kZTogSW50IHsgZ2V0IH0KICAgIHB1YmxpYyB2YXIgZXJyb3JVc2VySW5mbzogW1N0cmluZzogQW55XSB7IGdldCB9Cn0KcHVibGljIHByb3RvY29sIEZpbGVNYW5hZ2VyRGVsZWdhdGUgewogICAgcHVibGljIGZ1bmMgZmlsZU1hbmFnZXIoXyBmaWxlTWFuYWdlcjogRmlsZU1hbmFnZXIsIHNob3VsZENvcHlJdGVtQXQgc3JjVVJMOiBVUkwsIHRvIGRzdFVSTDogVVJMKSAtPiBCb29sIHt9CiAgICBwdWJsaWMgZnVuYyBmaWxlTWFuYWdlcihfIGZpbGVNYW5hZ2VyOiBGaWxlTWFuYWdlciwgc2hvdWxkQ29weUl0ZW1BdFBhdGggc3JjUGF0aDogU3RyaW5nLCB0b1BhdGggZHN0UGF0aDogU3RyaW5nKSAtPiBCb29sIHt9CiAgICBwdWJsaWMgZnVuYyBmaWxlTWFuYWdlcihfIGZpbGVNYW5hZ2VyOiBGaWxlTWFuYWdlciwgc2hvdWxkTGlua0l0ZW1BdCBzcmNVUkw6IFVSTCwgdG8gZHN0VVJMOiBVUkwpIC0+IEJvb2wge30KICAgIHB1YmxpYyBmdW5jIGZpbGVNYW5hZ2VyKF8gZmlsZU1hbmFnZXI6IEZpbGVNYW5hZ2VyLCBzaG91bGRMaW5rSXRlbUF0UGF0aCBzcmNQYXRoOiBTdHJpbmcsIHRvUGF0aCBkc3RQYXRoOiBTdHJpbmcpIC0+IEJvb2wge30KICAgIHB1YmxpYyBmdW5jIGZpbGVNYW5hZ2VyKF8gZmlsZU1hbmFnZXI6IEZpbGVNYW5hZ2VyLCBzaG91bGRNb3ZlSXRlbUF0IHNyY1VSTDogVVJMLCB0byBkc3RVUkw6IFVSTCkgLT4gQm9vbCB7fQogICAgcHVibGljIGZ1bmMgZmlsZU1hbmFnZXIoXyBmaWxlTWFuYWdlcjogRmlsZU1hbmFnZXIsIHNob3VsZE1vdmVJdGVtQXRQYXRoIHNyY1BhdGg6IFN0cmluZywgdG9QYXRoIGRzdFBhdGg6IFN0cmluZykgLT4gQm9vbCB7fQogICAgcHVibGljIGZ1bmMgZmlsZU1hbmFnZXIoXyBmaWxlTWFuYWdlcjogRmlsZU1hbmFnZXIsIHNob3VsZFByb2NlZWRBZnRlckVycm9yIGVycm9yOiBFcnJvciwgY29weWluZ0l0ZW1BdCBzcmNVUkw6IFVSTCwgdG8gZHN0VVJMOiBVUkwpIC0+IEJvb2wge30KICAgIHB1YmxpYyBmdW5jIGZpbGVNYW5hZ2VyKF8gZmlsZU1hbmFnZXI6IEZpbGVNYW5hZ2VyLCBzaG91bGRQcm9jZWVkQWZ0ZXJFcnJvciBlcnJvcjogRXJyb3IsIGNvcHlpbmdJdGVtQXRQYXRoIHNyY1BhdGg6IFN0cmluZywgdG9QYXRoIGRzdFBhdGg6IFN0cmluZykgLT4gQm9vbCB7fQogICAgcHVibGljIGZ1bmMgZmlsZU1hbmFnZXIoXyBmaWxlTWFuYWdlcjogRmlsZU1hbmFnZXIsIHNob3VsZFByb2NlZWRBZnRlckVycm9yIGVycm9yOiBFcnJvciwgbGlua2luZ0l0ZW1BdCBzcmNVUkw6IFVSTCwgdG8gZHN0VVJMOiBVUkwpIC0+IEJvb2wge30KICAgIHB1YmxpYyBmdW5jIGZpbGVNYW5hZ2VyKF8gZmlsZU1hbmFnZXI6IEZpbGVNYW5hZ2VyLCBzaG91bGRQcm9jZWVkQWZ0ZXJFcnJvciBlcnJvcjogRXJyb3IsIGxpbmtpbmdJdGVtQXRQYXRoIHNyY1BhdGg6IFN0cmluZywgdG9QYXRoIGRzdFBhdGg6IFN0cmluZykgLT4gQm9vbCB7fQogICAgcHVibGljIGZ1bmMgZmlsZU1hbmFnZXIoXyBmaWxlTWFuYWdlcjogRmlsZU1hbmFnZXIsIHNob3VsZFByb2NlZWRBZnRlckVycm9yIGVycm9yOiBFcnJvciwgbW92aW5nSXRlbUF0IHNyY1VSTDogVVJMLCB0byBkc3RVUkw6IFVSTCkgLT4gQm9vbCB7fQogICAgcHVibGljIGZ1bmMgZmlsZU1hbmFnZXIoXyBmaWxlTWFuYWdlcjogRmlsZU1hbmFnZXIsIHNob3VsZFByb2NlZWRBZnRlckVycm9yIGVycm9yOiBFcnJvciwgbW92aW5nSXRlbUF0UGF0aCBzcmNQYXRoOiBTdHJpbmcsIHRvUGF0aCBkc3RQYXRoOiBTdHJpbmcpIC0+IEJvb2wge30KICAgIHB1YmxpYyBmdW5jIGZpbGVNYW5hZ2VyKF8gZmlsZU1hbmFnZXI6IEZpbGVNYW5hZ2VyLCBzaG91bGRQcm9jZWVkQWZ0ZXJFcnJvciBlcnJvcjogRXJyb3IsIHJlbW92aW5nSXRlbUF0IFVSTDogVVJMKSAtPiBCb29sIHt9CiAgICBwdWJsaWMgZnVuYyBmaWxlTWFuYWdlcihfIGZpbGVNYW5hZ2VyOiBGaWxlTWFuYWdlciwgc2hvdWxkUHJvY2VlZEFmdGVyRXJyb3IgZXJyb3I6IEVycm9yLCByZW1vdmluZ0l0ZW1BdFBhdGggcGF0aDogU3RyaW5nKSAtPiBCb29sIHt9CiAgICBwdWJsaWMgZnVuYyBmaWxlTWFuYWdlcihfIGZpbGVNYW5hZ2VyOiBGaWxlTWFuYWdlciwgc2hvdWxkUmVtb3ZlSXRlbUF0IFVSTDogVVJMKSAtPiBCb29sIHt9CiAgICBwdWJsaWMgZnVuYyBmaWxlTWFuYWdlcihfIGZpbGVNYW5hZ2VyOiBGaWxlTWFuYWdlciwgc2hvdWxkUmVtb3ZlSXRlbUF0UGF0aCBwYXRoOiBTdHJpbmcpIC0+IEJvb2wge30KfQpwdWJsaWMgcHJvdG9jb2wgTG9jYWxpemVkRXJyb3IgewogICAgcHVibGljIHZhciBlcnJvckRlc2NyaXB0aW9uOiBTdHJpbmc/IHsgZ2V0IH0KICAgIHB1YmxpYyB2YXIgZmFpbHVyZVJlYXNvbjogU3RyaW5nPyB7IGdldCB9CiAgICBwdWJsaWMgdmFyIGhlbHBBbmNob3I6IFN0cmluZz8geyBnZXQgfQogICAgcHVibGljIHZhciByZWNvdmVyeVN1Z2dlc3Rpb246IFN0cmluZz8geyBnZXQgfQp9CnB1YmxpYyBwcm90b2NvbCBOU0NhY2hlRGVsZWdhdGUgewogICAgcHVibGljIGZ1bmMgY2FjaGUoXyBjYWNoZTogTlNDYWNoZTxBbnlPYmplY3QsIEFueU9iamVjdD4sIHdpbGxFdmljdE9iamVjdCBvYmo6IEFueSkge30KfQpwdWJsaWMgcHJvdG9jb2wgTlNDb2RpbmcgewogICAgcHVibGljIGluaXQ/KGNvZGVyIGFEZWNvZGVyOiBOU0NvZGVyKSB7fQogICAgcHVibGljIGZ1bmMgZW5jb2RlKHdpdGggYUNvZGVyOiBOU0NvZGVyKSB7fQp9CnB1YmxpYyBwcm90b2NvbCBOU0NvcHlpbmcgewogICAgcHVibGljIGZ1bmMgY29weSgpIC0+IEFueSB7fQogICAgcHVibGljIGZ1bmMgY29weSh3aXRoIHpvbmU6IE5TWm9uZT8pIC0+IEFueSB7fQp9CnB1YmxpYyBwcm90b2NvbCBOU0RlY2ltYWxOdW1iZXJCZWhhdmlvcnMgewogICAgcHVibGljIGZ1bmMgcm91bmRpbmdNb2RlKCkgLT4gTlNEZWNpbWFsTnVtYmVyLlJvdW5kaW5nTW9kZSB7fQogICAgcHVibGljIGZ1bmMgc2NhbGUoKSAtPiBJbnQxNiB7fQp9CnB1YmxpYyBwcm90b2NvbCBOU0tleWVkQXJjaGl2ZXJEZWxlZ2F0ZSB7CiAgICBwdWJsaWMgZnVuYyBhcmNoaXZlcihfIGFyY2hpdmVyOiBOU0tleWVkQXJjaGl2ZXIsIGRpZEVuY29kZSBvYmplY3Q6IEFueT8pIHt9CiAgICBwdWJsaWMgZnVuYyBhcmNoaXZlcihfIGFyY2hpdmVyOiBOU0tleWVkQXJjaGl2ZXIsIHdpbGxFbmNvZGUgb2JqZWN0OiBBbnkpIC0+IEFueT8ge30KICAgIHB1YmxpYyBmdW5jIGFyY2hpdmVyKF8gYXJjaGl2ZXI6IE5TS2V5ZWRBcmNoaXZlciwgd2lsbFJlcGxhY2Ugb2JqZWN0OiBBbnk/LCB3aXRoT2JqZWN0IG5ld09iamVjdDogQW55Pykge30KICAgIHB1YmxpYyBmdW5jIGFyY2hpdmVyRGlkRmluaXNoKF8gYXJjaGl2ZXI6IE5TS2V5ZWRBcmNoaXZlcikge30KICAgIHB1YmxpYyBmdW5jIGFyY2hpdmVyV2lsbEZpbmlzaChfIGFyY2hpdmVyOiBOU0tleWVkQXJjaGl2ZXIpIHt9Cn0KcHVibGljIHByb3RvY29sIE5TS2V5ZWRVbmFyY2hpdmVyRGVsZWdhdGUgewogICAgcHVibGljIGZ1bmMgdW5hcmNoaXZlcihfIHVuYXJjaGl2ZXI6IE5TS2V5ZWRVbmFyY2hpdmVyLCBjYW5ub3REZWNvZGVPYmplY3RPZkNsYXNzTmFtZSBuYW1lOiBTdHJpbmcsIG9yaWdpbmFsQ2xhc3NlcyBjbGFzc05hbWVzOiBbU3RyaW5nXSkgLT4gQW55Q2xhc3M/IHt9CiAgICBwdWJsaWMgZnVuYyB1bmFyY2hpdmVyKF8gdW5hcmNoaXZlcjogTlNLZXllZFVuYXJjaGl2ZXIsIGRpZERlY29kZSBvYmplY3Q6IEFueT8pIC0+IEFueT8ge30KICAgIHB1YmxpYyBmdW5jIHVuYXJjaGl2ZXIoXyB1bmFyY2hpdmVyOiBOU0tleWVkVW5hcmNoaXZlciwgd2lsbFJlcGxhY2Ugb2JqZWN0OiBBbnksIHdpdGggbmV3T2JqZWN0OiBBbnkpIHt9CiAgICBwdWJsaWMgZnVuYyB1bmFyY2hpdmVyRGlkRmluaXNoKF8gdW5hcmNoaXZlcjogTlNLZXllZFVuYXJjaGl2ZXIpIHt9CiAgICBwdWJsaWMgZnVuYyB1bmFyY2hpdmVyV2lsbEZpbmlzaChfIHVuYXJjaGl2ZXI6IE5TS2V5ZWRVbmFyY2hpdmVyKSB7fQp9CnB1YmxpYyBwcm90b2NvbCBOU0xvY2tpbmcgewogICAgcHVibGljIGZ1bmMgbG9jaygpIHt9CiAgICBwdWJsaWMgZnVuYyB1bmxvY2soKSB7fQp9CnB1YmxpYyBwcm90b2NvbCBOU011dGFibGVDb3B5aW5nIHsKICAgIHB1YmxpYyBmdW5jIG11dGFibGVDb3B5KCkgLT4gQW55IHt9CiAgICBwdWJsaWMgZnVuYyBtdXRhYmxlQ29weSh3aXRoIHpvbmU6IE5TWm9uZT8pIC0+IEFueSB7fQp9CnB1YmxpYyBwcm90b2NvbCBOU09iamVjdFByb3RvY29sIHsKICAgIHB1YmxpYyB2YXIgZGVidWdEZXNjcmlwdGlvbjogU3RyaW5nIHsgZ2V0IH0KICAgIHB1YmxpYyB2YXIgZGVzY3JpcHRpb246IFN0cmluZyB7IGdldCB9CiAgICBwdWJsaWMgdmFyIGhhc2g6IEludCB7IGdldCB9CiAgICBwdWJsaWMgZnVuYyBpc0VxdWFsKF8gb2JqZWN0OiBBbnk/KSAtPiBCb29sIHt9CiAgICBwdWJsaWMgZnVuYyBpc1Byb3h5KCkgLT4gQm9vbCB7fQogICAgcHVibGljIGZ1bmMgc2VsZigpIC0+IFNlbGYge30KfQpwdWJsaWMgcHJvdG9jb2wgTlNTZWN1cmVDb2RpbmcgewogICAgcHVibGljIHN0YXRpYyB2YXIgc3VwcG9ydHNTZWN1cmVDb2Rpbmc6IEJvb2wgeyBnZXQgfQp9CnB1YmxpYyBwcm90b2NvbCBQb3J0RGVsZWdhdGUgewogICAgcHVibGljIGZ1bmMgaGFuZGxlUG9ydE1lc3NhZ2UoXyBtZXNzYWdlOiBQb3J0TWVzc2FnZSkge30KfQpwdWJsaWMgcHJvdG9jb2wgUHJvZ3Jlc3NSZXBvcnRpbmcgewogICAgcHVibGljIHZhciBwcm9ncmVzczogUHJvZ3Jlc3MgeyBnZXQgfQp9CnB1YmxpYyBwcm90b2NvbCBSZWNvdmVyYWJsZUVycm9yIHsKICAgIHB1YmxpYyB2YXIgcmVjb3ZlcnlPcHRpb25zOiBbU3RyaW5nXSB7IGdldCB9CiAgICBwdWJsaWMgZnVuYyBhdHRlbXB0UmVjb3Zlcnkob3B0aW9uSW5kZXggcmVjb3ZlcnlPcHRpb25JbmRleDogSW50KSAtPiBCb29sIHt9CiAgICBwdWJsaWMgZnVuYyBhdHRlbXB0UmVjb3Zlcnkob3B0aW9uSW5kZXggcmVjb3ZlcnlPcHRpb25JbmRleDogSW50LCByZXN1bHRIYW5kbGVyIGhhbmRsZXI6IChfIHJlY292ZXJlZDogQm9vbCkgLT4gVm9pZCkge30KfQpwdWJsaWMgcHJvdG9jb2wgUmVmZXJlbmNlQ29udmVydGlibGUgewp9CnB1YmxpYyBwcm90b2NvbCBTdHJlYW1EZWxlZ2F0ZSB7CiAgICBwdWJsaWMgZnVuYyBzdHJlYW0oXyBhU3RyZWFtOiBTdHJlYW0sIGhhbmRsZSBldmVudENvZGU6IFN0cmVhbS5FdmVudCkge30KfQpwdWJsaWMgcHJvdG9jb2wgVVJMQXV0aGVudGljYXRpb25DaGFsbGVuZ2VTZW5kZXIgewogICAgcHVibGljIGZ1bmMgY2FuY2VsKF8gY2hhbGxlbmdlOiBVUkxBdXRoZW50aWNhdGlvbkNoYWxsZW5nZSkge30KICAgIHB1YmxpYyBmdW5jIGNvbnRpbnVlV2l0aG91dENyZWRlbnRpYWwoZm9yIGNoYWxsZW5nZTogVVJMQXV0aGVudGljYXRpb25DaGFsbGVuZ2UpIHt9CiAgICBwdWJsaWMgZnVuYyBwZXJmb3JtRGVmYXVsdEhhbmRsaW5nKGZvciBjaGFsbGVuZ2U6IFVSTEF1dGhlbnRpY2F0aW9uQ2hhbGxlbmdlKSB7fQogICAgcHVibGljIGZ1bmMgcmVqZWN0UHJvdGVjdGlvblNwYWNlQW5kQ29udGludWUod2l0aCBjaGFsbGVuZ2U6IFVSTEF1dGhlbnRpY2F0aW9uQ2hhbGxlbmdlKSB7fQogICAgcHVibGljIGZ1bmMgdXNlKF8gY3JlZGVudGlhbDogVVJMQ3JlZGVudGlhbCwgZm9yIGNoYWxsZW5nZTogVVJMQXV0aGVudGljYXRpb25DaGFsbGVuZ2UpIHt9Cn0KcHVibGljIHByb3RvY29sIFVSTFByb3RvY29sQ2xpZW50IHsKICAgIHB1YmxpYyBmdW5jIHVybFByb3RvY29sKF8gcHJvdG9jb2w6IFVSTFByb3RvY29sLCBjYWNoZWRSZXNwb25zZUlzVmFsaWQgY2FjaGVkUmVzcG9uc2U6IENhY2hlZFVSTFJlc3BvbnNlKSB7fQogICAgcHVibGljIGZ1bmMgdXJsUHJvdG9jb2woXyBwcm90b2NvbDogVVJMUHJvdG9jb2wsIGRpZENhbmNlbCBjaGFsbGVuZ2U6IFVSTEF1dGhlbnRpY2F0aW9uQ2hhbGxlbmdlKSB7fQogICAgcHVibGljIGZ1bmMgdXJsUHJvdG9jb2woXyBwcm90b2NvbDogVVJMUHJvdG9jb2wsIGRpZEZhaWxXaXRoRXJyb3IgZXJyb3I6IEVycm9yKSB7fQogICAgcHVibGljIGZ1bmMgdXJsUHJvdG9jb2woXyBwcm90b2NvbDogVVJMUHJvdG9jb2wsIGRpZExvYWQgZGF0YTogRGF0YSkge30KICAgIHB1YmxpYyBmdW5jIHVybFByb3RvY29sKF8gcHJvdG9jb2w6IFVSTFByb3RvY29sLCBkaWRSZWNlaXZlIGNoYWxsZW5nZTogVVJMQXV0aGVudGljYXRpb25DaGFsbGVuZ2UpIHt9CiAgICBwdWJsaWMgZnVuYyB1cmxQcm90b2NvbChfIHByb3RvY29sOiBVUkxQcm90b2NvbCwgZGlkUmVjZWl2ZSByZXNwb25zZTogVVJMUmVzcG9uc2UsIGNhY2hlU3RvcmFnZVBvbGljeSBwb2xpY3k6IFVSTENhY2hlLlN0b3JhZ2VQb2xpY3kpIHt9CiAgICBwdWJsaWMgZnVuYyB1cmxQcm90b2NvbChfIHByb3RvY29sOiBVUkxQcm90b2NvbCwgd2FzUmVkaXJlY3RlZFRvIHJlcXVlc3Q6IFVSTFJlcXVlc3QsIHJlZGlyZWN0UmVzcG9uc2U6IFVSTFJlc3BvbnNlKSB7fQogICAgcHVibGljIGZ1bmMgdXJsUHJvdG9jb2xEaWRGaW5pc2hMb2FkaW5nKF8gcHJvdG9jb2w6IFVSTFByb3RvY29sKSB7fQp9CnB1YmxpYyBwcm90b2NvbCBVUkxTZXNzaW9uRGF0YURlbGVnYXRlIHsKICAgIHB1YmxpYyBmdW5jIHVybFNlc3Npb24oXyBzZXNzaW9uOiBVUkxTZXNzaW9uLCBkYXRhVGFzazogVVJMU2Vzc2lvbkRhdGFUYXNrLCBkaWRCZWNvbWUgZG93bmxvYWRUYXNrOiBVUkxTZXNzaW9uRG93bmxvYWRUYXNrKSB7fQogICAgcHVibGljIGZ1bmMgdXJsU2Vzc2lvbihfIHNlc3Npb246IFVSTFNlc3Npb24sIGRhdGFUYXNrOiBVUkxTZXNzaW9uRGF0YVRhc2ssIGRpZFJlY2VpdmUgZGF0YTogRGF0YSkge30KICAgIHB1YmxpYyBmdW5jIHVybFNlc3Npb24oXyBzZXNzaW9uOiBVUkxTZXNzaW9uLCBkYXRhVGFzazogVVJMU2Vzc2lvbkRhdGFUYXNrLCBkaWRSZWNlaXZlIHJlc3BvbnNlOiBVUkxSZXNwb25zZSwgY29tcGxldGlvbkhhbmRsZXI6IEBlc2NhcGluZyAoVVJMU2Vzc2lvbi5SZXNwb25zZURpc3Bvc2l0aW9uKSAtPiBWb2lkKSB7fQogICAgcHVibGljIGZ1bmMgdXJsU2Vzc2lvbihfIHNlc3Npb246IFVSTFNlc3Npb24sIGRhdGFUYXNrOiBVUkxTZXNzaW9uRGF0YVRhc2ssIHdpbGxDYWNoZVJlc3BvbnNlIHByb3Bvc2VkUmVzcG9uc2U6IENhY2hlZFVSTFJlc3BvbnNlLCBjb21wbGV0aW9uSGFuZGxlcjogQGVzY2FwaW5nIChDYWNoZWRVUkxSZXNwb25zZT8pIC0+IFZvaWQpIHt9Cn0KcHVibGljIHByb3RvY29sIFVSTFNlc3Npb25EZWxlZ2F0ZSB7CiAgICBwdWJsaWMgZnVuYyB1cmxTZXNzaW9uKF8gc2Vzc2lvbjogVVJMU2Vzc2lvbiwgZGlkQmVjb21lSW52YWxpZFdpdGhFcnJvciBlcnJvcjogRXJyb3I/KSB7fQogICAgcHVibGljIGZ1bmMgdXJsU2Vzc2lvbihfIHNlc3Npb246IFVSTFNlc3Npb24sIGRpZFJlY2VpdmUgY2hhbGxlbmdlOiBVUkxBdXRoZW50aWNhdGlvbkNoYWxsZW5nZSwgY29tcGxldGlvbkhhbmRsZXI6IEBlc2NhcGluZyAoVVJMU2Vzc2lvbi5BdXRoQ2hhbGxlbmdlRGlzcG9zaXRpb24sIFVSTENyZWRlbnRpYWw/KSAtPiBWb2lkKSB7fQp9CnB1YmxpYyBwcm90b2NvbCBVUkxTZXNzaW9uRG93bmxvYWREZWxlZ2F0ZSB7CiAgICBwdWJsaWMgZnVuYyB1cmxTZXNzaW9uKF8gc2Vzc2lvbjogVVJMU2Vzc2lvbiwgZG93bmxvYWRUYXNrOiBVUkxTZXNzaW9uRG93bmxvYWRUYXNrLCBkaWRGaW5pc2hEb3dubG9hZGluZ1RvIGxvY2F0aW9uOiBVUkwpIHt9CiAgICBwdWJsaWMgZnVuYyB1cmxTZXNzaW9uKF8gc2Vzc2lvbjogVVJMU2Vzc2lvbiwgZG93bmxvYWRUYXNrOiBVUkxTZXNzaW9uRG93bmxvYWRUYXNrLCBkaWRSZXN1bWVBdE9mZnNldCBmaWxlT2Zmc2V0OiBJbnQ2NCwgZXhwZWN0ZWRUb3RhbEJ5dGVzOiBJbnQ2NCkge30KICAgIHB1YmxpYyBmdW5jIHVybFNlc3Npb24oXyBzZXNzaW9uOiBVUkxTZXNzaW9uLCBkb3dubG9hZFRhc2s6IFVSTFNlc3Npb25Eb3dubG9hZFRhc2ssIGRpZFdyaXRlRGF0YSBieXRlc1dyaXR0ZW46IEludDY0LCB0b3RhbEJ5dGVzV3JpdHRlbjogSW50NjQsIHRvdGFsQnl0ZXNFeHBlY3RlZFRvV3JpdGU6IEludDY0KSB7fQp9CnB1YmxpYyBwcm90b2NvbCBVUkxTZXNzaW9uU3RyZWFtRGVsZWdhdGUgewogICAgcHVibGljIGZ1bmMgdXJsU2Vzc2lvbihfIHNlc3Npb246IFVSTFNlc3Npb24sIGJldHRlclJvdXRlRGlzY292ZXJlZEZvciBzdHJlYW1UYXNrOiBVUkxTZXNzaW9uU3RyZWFtVGFzaykge30KICAgIHB1YmxpYyBmdW5jIHVybFNlc3Npb24oXyBzZXNzaW9uOiBVUkxTZXNzaW9uLCByZWFkQ2xvc2VkRm9yIHN0cmVhbVRhc2s6IFVSTFNlc3Npb25TdHJlYW1UYXNrKSB7fQogICAgcHVibGljIGZ1bmMgdXJsU2Vzc2lvbihfIHNlc3Npb246IFVSTFNlc3Npb24sIHN0cmVhbVRhc2s6IFVSTFNlc3Npb25TdHJlYW1UYXNrLCBkaWRCZWNvbWUgaW5wdXRTdHJlYW06IElucHV0U3RyZWFtLCBvdXRwdXRTdHJlYW06IE91dHB1dFN0cmVhbSkge30KICAgIHB1YmxpYyBmdW5jIHVybFNlc3Npb24oXyBzZXNzaW9uOiBVUkxTZXNzaW9uLCB3cml0ZUNsb3NlZEZvciBzdHJlYW1UYXNrOiBVUkxTZXNzaW9uU3RyZWFtVGFzaykge30KfQpwdWJsaWMgcHJvdG9jb2wgVVJMU2Vzc2lvblRhc2tEZWxlZ2F0ZSB7CiAgICBwdWJsaWMgZnVuYyB1cmxTZXNzaW9uKF8gc2Vzc2lvbjogVVJMU2Vzc2lvbiwgdGFzazogVVJMU2Vzc2lvblRhc2ssIGRpZENvbXBsZXRlV2l0aEVycm9yIGVycm9yOiBFcnJvcj8pIHt9CiAgICBwdWJsaWMgZnVuYyB1cmxTZXNzaW9uKF8gc2Vzc2lvbjogVVJMU2Vzc2lvbiwgdGFzazogVVJMU2Vzc2lvblRhc2ssIGRpZFJlY2VpdmUgY2hhbGxlbmdlOiBVUkxBdXRoZW50aWNhdGlvbkNoYWxsZW5nZSwgY29tcGxldGlvbkhhbmRsZXI6IEBlc2NhcGluZyAoVVJMU2Vzc2lvbi5BdXRoQ2hhbGxlbmdlRGlzcG9zaXRpb24sIFVSTENyZWRlbnRpYWw/KSAtPiBWb2lkKSB7fQogICAgcHVibGljIGZ1bmMgdXJsU2Vzc2lvbihfIHNlc3Npb246IFVSTFNlc3Npb24sIHRhc2s6IFVSTFNlc3Npb25UYXNrLCBkaWRTZW5kQm9keURhdGEgYnl0ZXNTZW50OiBJbnQ2NCwgdG90YWxCeXRlc1NlbnQ6IEludDY0LCB0b3RhbEJ5dGVzRXhwZWN0ZWRUb1NlbmQ6IEludDY0KSB7fQogICAgcHVibGljIGZ1bmMgdXJsU2Vzc2lvbihfIHNlc3Npb246IFVSTFNlc3Npb24sIHRhc2s6IFVSTFNlc3Npb25UYXNrLCBuZWVkTmV3Qm9keVN0cmVhbSBjb21wbGV0aW9uSGFuZGxlcjogQGVzY2FwaW5nIChJbnB1dFN0cmVhbT8pIC0+IFZvaWQpIHt9CiAgICBwdWJsaWMgZnVuYyB1cmxTZXNzaW9uKF8gc2Vzc2lvbjogVVJMU2Vzc2lvbiwgdGFzazogVVJMU2Vzc2lvblRhc2ssIHdpbGxCZWdpbkRlbGF5ZWRSZXF1ZXN0IHJlcXVlc3Q6IFVSTFJlcXVlc3QsIGNvbXBsZXRpb25IYW5kbGVyOiBAZXNjYXBpbmcgKFVSTFNlc3Npb24uRGVsYXllZFJlcXVlc3REaXNwb3NpdGlvbiwgVVJMUmVxdWVzdD8pIC0+IFZvaWQpIHt9CiAgICBwdWJsaWMgZnVuYyB1cmxTZXNzaW9uKF8gc2Vzc2lvbjogVVJMU2Vzc2lvbiwgdGFzazogVVJMU2Vzc2lvblRhc2ssIHdpbGxQZXJmb3JtSFRUUFJlZGlyZWN0aW9uIHJlc3BvbnNlOiBIVFRQVVJMUmVzcG9uc2UsIG5ld1JlcXVlc3QgcmVxdWVzdDogVVJMUmVxdWVzdCwgY29tcGxldGlvbkhhbmRsZXI6IEBlc2NhcGluZyAoVVJMUmVxdWVzdD8pIC0+IFZvaWQpIHt9Cn0KcHVibGljIHByb3RvY29sIFhNTFBhcnNlckRlbGVnYXRlIHsKICAgIHB1YmxpYyBmdW5jIHBhcnNlcihfIHBhcnNlcjogWE1MUGFyc2VyLCBkaWRFbmRFbGVtZW50IGVsZW1lbnROYW1lOiBTdHJpbmcsIG5hbWVzcGFjZVVSSTogU3RyaW5nPywgcXVhbGlmaWVkTmFtZSBxTmFtZTogU3RyaW5nPykge30KICAgIHB1YmxpYyBmdW5jIHBhcnNlcihfIHBhcnNlcjogWE1MUGFyc2VyLCBkaWRFbmRNYXBwaW5nUHJlZml4IHByZWZpeDogU3RyaW5nKSB7fQogICAgcHVibGljIGZ1bmMgcGFyc2VyKF8gcGFyc2VyOiBYTUxQYXJzZXIsIGRpZFN0YXJ0RWxlbWVudCBlbGVtZW50TmFtZTogU3RyaW5nLCBuYW1lc3BhY2VVUkk6IFN0cmluZz8sIHF1YWxpZmllZE5hbWUgcU5hbWU6IFN0cmluZz8sIGF0dHJpYnV0ZXMgYXR0cmlidXRlRGljdDogW1N0cmluZzogU3RyaW5nXSkge30KICAgIHB1YmxpYyBmdW5jIHBhcnNlcihfIHBhcnNlcjogWE1MUGFyc2VyLCBkaWRTdGFydE1hcHBpbmdQcmVmaXggcHJlZml4OiBTdHJpbmcsIHRvVVJJIG5hbWVzcGFjZVVSSTogU3RyaW5nKSB7fQogICAgcHVibGljIGZ1bmMgcGFyc2VyKF8gcGFyc2VyOiBYTUxQYXJzZXIsIGZvdW5kQXR0cmlidXRlRGVjbGFyYXRpb25XaXRoTmFtZSBhdHRyaWJ1dGVOYW1lOiBTdHJpbmcsIGZvckVsZW1lbnQgZWxlbWVudE5hbWU6IFN0cmluZywgdHlwZTogU3RyaW5nPywgZGVmYXVsdFZhbHVlOiBTdHJpbmc/KSB7fQogICAgcHVibGljIGZ1bmMgcGFyc2VyKF8gcGFyc2VyOiBYTUxQYXJzZXIsIGZvdW5kQ0RBVEEgQ0RBVEFCbG9jazogRGF0YSkge30KICAgIHB1YmxpYyBmdW5jIHBhcnNlcihfIHBhcnNlcjogWE1MUGFyc2VyLCBmb3VuZENoYXJhY3RlcnMgc3RyaW5nOiBTdHJpbmcpIHt9CiAgICBwdWJsaWMgZnVuYyBwYXJzZXIoXyBwYXJzZXI6IFhNTFBhcnNlciwgZm91bmRDb21tZW50IGNvbW1lbnQ6IFN0cmluZykge30KICAgIHB1YmxpYyBmdW5jIHBhcnNlcihfIHBhcnNlcjogWE1MUGFyc2VyLCBmb3VuZEVsZW1lbnREZWNsYXJhdGlvbldpdGhOYW1lIGVsZW1lbnROYW1lOiBTdHJpbmcsIG1vZGVsOiBTdHJpbmcpIHt9CiAgICBwdWJsaWMgZnVuYyBwYXJzZXIoXyBwYXJzZXI6IFhNTFBhcnNlciwgZm91bmRFeHRlcm5hbEVudGl0eURlY2xhcmF0aW9uV2l0aE5hbWUgbmFtZTogU3RyaW5nLCBwdWJsaWNJRDogU3RyaW5nPywgc3lzdGVtSUQ6IFN0cmluZz8pIHt9CiAgICBwdWJsaWMgZnVuYyBwYXJzZXIoXyBwYXJzZXI6IFhNTFBhcnNlciwgZm91bmRJZ25vcmFibGVXaGl0ZXNwYWNlIHdoaXRlc3BhY2VTdHJpbmc6IFN0cmluZykge30KICAgIHB1YmxpYyBmdW5jIHBhcnNlcihfIHBhcnNlcjogWE1MUGFyc2VyLCBmb3VuZEludGVybmFsRW50aXR5RGVjbGFyYXRpb25XaXRoTmFtZSBuYW1lOiBTdHJpbmcsIHZhbHVlOiBTdHJpbmc/KSB7fQogICAgcHVibGljIGZ1bmMgcGFyc2VyKF8gcGFyc2VyOiBYTUxQYXJzZXIsIGZvdW5kTm90YXRpb25EZWNsYXJhdGlvbldpdGhOYW1lIG5hbWU6IFN0cmluZywgcHVibGljSUQ6IFN0cmluZz8sIHN5c3RlbUlEOiBTdHJpbmc/KSB7fQogICAgcHVibGljIGZ1bmMgcGFyc2VyKF8gcGFyc2VyOiBYTUxQYXJzZXIsIGZvdW5kUHJvY2Vzc2luZ0luc3RydWN0aW9uV2l0aFRhcmdldCB0YXJnZXQ6IFN0cmluZywgZGF0YTogU3RyaW5nPykge30KICAgIHB1YmxpYyBmdW5jIHBhcnNlcihfIHBhcnNlcjogWE1MUGFyc2VyLCBmb3VuZFVucGFyc2VkRW50aXR5RGVjbGFyYXRpb25XaXRoTmFtZSBuYW1lOiBTdHJpbmcsIHB1YmxpY0lEOiBTdHJpbmc/LCBzeXN0ZW1JRDogU3RyaW5nPywgbm90YXRpb25OYW1lOiBTdHJpbmc/KSB7fQogICAgcHVibGljIGZ1bmMgcGFyc2VyKF8gcGFyc2VyOiBYTUxQYXJzZXIsIHBhcnNlRXJyb3JPY2N1cnJlZCBwYXJzZUVycm9yOiBFcnJvcikge30KICAgIHB1YmxpYyBmdW5jIHBhcnNlcihfIHBhcnNlcjogWE1MUGFyc2VyLCByZXNvbHZlRXh0ZXJuYWxFbnRpdHlOYW1lIG5hbWU6IFN0cmluZywgc3lzdGVtSUQ6IFN0cmluZz8pIC0+IERhdGE/IHt9CiAgICBwdWJsaWMgZnVuYyBwYXJzZXIoXyBwYXJzZXI6IFhNTFBhcnNlciwgdmFsaWRhdGlvbkVycm9yT2NjdXJyZWQgdmFsaWRhdGlvbkVycm9yOiBFcnJvcikge30KICAgIHB1YmxpYyBmdW5jIHBhcnNlckRpZEVuZERvY3VtZW50KF8gcGFyc2VyOiBYTUxQYXJzZXIpIHt9CiAgICBwdWJsaWMgZnVuYyBwYXJzZXJEaWRTdGFydERvY3VtZW50KF8gcGFyc2VyOiBYTUxQYXJzZXIpIHt9Cn0KZXh0ZW5zaW9uIEFycmF5IHsKfQpleHRlbnNpb24gQm9vbCB7CiAgICBwdWJsaWMgaW5pdD8oZXhhY3RseSBudW1iZXI6IE5TTnVtYmVyKSB7fQogICAgcHVibGljIGluaXQodHJ1bmNhdGluZyBudW1iZXI6IE5TTnVtYmVyKSB7fQp9CmV4dGVuc2lvbiBDRkFycmF5IHsKfQpleHRlbnNpb24gQ0ZDYWxlbmRhciB7Cn0KZXh0ZW5zaW9uIENGQ2hhcmFjdGVyU2V0IHsKfQpleHRlbnNpb24gQ0ZEYXRhIHsKfQpleHRlbnNpb24gQ0ZEYXRlIHsKfQpleHRlbnNpb24gQ0ZEaWN0aW9uYXJ5IHsKfQpleHRlbnNpb24gQ0ZFcnJvciB7Cn0KZXh0ZW5zaW9uIENGS2V5ZWRBcmNoaXZlclVJRCB7Cn0KZXh0ZW5zaW9uIENGTG9jYWxlIHsKfQpleHRlbnNpb24gQ0ZOdW1iZXIgewp9CmV4dGVuc2lvbiBDRlNldCB7Cn0KZXh0ZW5zaW9uIENGU3RyaW5nIHsKfQpleHRlbnNpb24gQ0ZUaW1lWm9uZSB7Cn0KZXh0ZW5zaW9uIENGVVJMIHsKfQpleHRlbnNpb24gQ0ZVUkxTZXNzaW9uRWFzeUNvZGUgewogICAgcHVibGljIGZ1bmMgPT0obGhzOiBDRlVSTFNlc3Npb25FYXN5Q29kZSwgcmhzOiBDRlVSTFNlc3Npb25FYXN5Q29kZSkgLT4gQm9vbCB7fQp9CmV4dGVuc2lvbiBDRlVSTFNlc3Npb25JbmZvIHsKICAgIHB1YmxpYyB2YXIgZGVidWdIZWFkZXI6IFN0cmluZyB7IGdldCB9CiAgICBwdWJsaWMgZnVuYyA9PShsaHM6IENGVVJMU2Vzc2lvbkluZm8sIHJoczogQ0ZVUkxTZXNzaW9uSW5mbykgLT4gQm9vbCB7fQp9CmV4dGVuc2lvbiBDRlVSTFNlc3Npb25NdWx0aUNvZGUgewogICAgcHVibGljIGZ1bmMgPT0obGhzOiBDRlVSTFNlc3Npb25NdWx0aUNvZGUsIHJoczogQ0ZVUkxTZXNzaW9uTXVsdGlDb2RlKSAtPiBCb29sIHt9Cn0KZXh0ZW5zaW9uIENGVVJMU2Vzc2lvblBvbGwgewogICAgcHVibGljIGZ1bmMgPT0obGhzOiBDRlVSTFNlc3Npb25Qb2xsLCByaHM6IENGVVJMU2Vzc2lvblBvbGwpIC0+IEJvb2wge30KfQpleHRlbnNpb24gRGVjb2RpbmdFcnJvciB7Cn0KZXh0ZW5zaW9uIERpY3Rpb25hcnkgewp9CmV4dGVuc2lvbiBEb3VibGUgewogICAgcHVibGljIGluaXQoXyB2YWx1ZTogQ0dGbG9hdCkge30KICAgIHB1YmxpYyBpbml0PyhleGFjdGx5IG51bWJlcjogTlNOdW1iZXIpIHt9CiAgICBwdWJsaWMgaW5pdCh0cnVuY2F0aW5nIG51bWJlcjogTlNOdW1iZXIpIHt9Cn0KZXh0ZW5zaW9uIEVuY29kaW5nRXJyb3Igewp9CmV4dGVuc2lvbiBGbG9hdCB7CiAgICBwdWJsaWMgaW5pdChfIHZhbHVlOiBDR0Zsb2F0KSB7fQogICAgcHVibGljIGluaXQ/KGV4YWN0bHkgbnVtYmVyOiBOU051bWJlcikge30KICAgIHB1YmxpYyBpbml0KHRydW5jYXRpbmcgbnVtYmVyOiBOU051bWJlcikge30KfQpleHRlbnNpb24gSW50IHsKICAgIHB1YmxpYyBpbml0KF8gdmFsdWU6IENHRmxvYXQpIHt9CiAgICBwdWJsaWMgaW5pdD8oZXhhY3RseSBudW1iZXI6IE5TTnVtYmVyKSB7fQogICAgcHVibGljIGluaXQodHJ1bmNhdGluZyBudW1iZXI6IE5TTnVtYmVyKSB7fQp9CmV4dGVuc2lvbiBJbnQxNiB7CiAgICBwdWJsaWMgaW5pdChfIHZhbHVlOiBDR0Zsb2F0KSB7fQogICAgcHVibGljIGluaXQ/KGV4YWN0bHkgbnVtYmVyOiBOU051bWJlcikge30KICAgIHB1YmxpYyBpbml0KHRydW5jYXRpbmcgbnVtYmVyOiBOU051bWJlcikge30KfQpleHRlbnNpb24gSW50MzIgewogICAgcHVibGljIGluaXQoXyB2YWx1ZTogQ0dGbG9hdCkge30KICAgIHB1YmxpYyBpbml0PyhleGFjdGx5IG51bWJlcjogTlNOdW1iZXIpIHt9CiAgICBwdWJsaWMgaW5pdCh0cnVuY2F0aW5nIG51bWJlcjogTlNOdW1iZXIpIHt9Cn0KZXh0ZW5zaW9uIEludDY0IHsKICAgIHB1YmxpYyBpbml0KF8gdmFsdWU6IENHRmxvYXQpIHt9CiAgICBwdWJsaWMgaW5pdD8oZXhhY3RseSBudW1iZXI6IE5TTnVtYmVyKSB7fQogICAgcHVibGljIGluaXQodHJ1bmNhdGluZyBudW1iZXI6IE5TTnVtYmVyKSB7fQp9CmV4dGVuc2lvbiBJbnQ4IHsKICAgIHB1YmxpYyBpbml0KF8gdmFsdWU6IENHRmxvYXQpIHt9CiAgICBwdWJsaWMgaW5pdD8oZXhhY3RseSBudW1iZXI6IE5TTnVtYmVyKSB7fQogICAgcHVibGljIGluaXQodHJ1bmNhdGluZyBudW1iZXI6IE5TTnVtYmVyKSB7fQp9CmV4dGVuc2lvbiBNZWFzdXJlbWVudCB7CiAgICBwdWJsaWMgaW5pdChmcm9tIGRlY29kZXI6IERlY29kZXIpIHRocm93cyB7fQogICAgcHVibGljIHZhciBjdXN0b21NaXJyb3I6IE1pcnJvciB7IGdldCB9CiAgICBwdWJsaWMgdmFyIGRlYnVnRGVzY3JpcHRpb246IFN0cmluZyB7IGdldCB9CiAgICBwdWJsaWMgdmFyIGRlc2NyaXB0aW9uOiBTdHJpbmcgeyBnZXQgfQogICAgcHVibGljIGZ1bmMgKihsaHM6IERvdWJsZSwgcmhzOiBNZWFzdXJlbWVudDxVbml0VHlwZT4pIC0+IE1lYXN1cmVtZW50PFVuaXRUeXBlPiB7fQogICAgcHVibGljIGZ1bmMgKihsaHM6IE1lYXN1cmVtZW50PFVuaXRUeXBlPiwgcmhzOiBEb3VibGUpIC0+IE1lYXN1cmVtZW50PFVuaXRUeXBlPiB7fQogICAgcHVibGljIGZ1bmMgKyhsaHM6IE1lYXN1cmVtZW50PFVuaXRUeXBlPiwgcmhzOiBNZWFzdXJlbWVudDxVbml0VHlwZT4pIC0+IE1lYXN1cmVtZW50PFVuaXRUeXBlPiB7fQogICAgcHVibGljIGZ1bmMgKyhsaHM6IE1lYXN1cmVtZW50PFVuaXRUeXBlPiwgcmhzOiBNZWFzdXJlbWVudDxVbml0VHlwZT4pIC0+IE1lYXN1cmVtZW50PFVuaXRUeXBlPiAgd2hlcmUgVW5pdFR5cGUgOiBEaW1lbnNpb24ge30KICAgIHB1YmxpYyBmdW5jIC0obGhzOiBNZWFzdXJlbWVudDxVbml0VHlwZT4sIHJoczogTWVhc3VyZW1lbnQ8VW5pdFR5cGU+KSAtPiBNZWFzdXJlbWVudDxVbml0VHlwZT4ge30KICAgIHB1YmxpYyBmdW5jIC0obGhzOiBNZWFzdXJlbWVudDxVbml0VHlwZT4sIHJoczogTWVhc3VyZW1lbnQ8VW5pdFR5cGU+KSAtPiBNZWFzdXJlbWVudDxVbml0VHlwZT4gIHdoZXJlIFVuaXRUeXBlIDogRGltZW5zaW9uIHt9CiAgICBwdWJsaWMgZnVuYyAvKGxoczogRG91YmxlLCByaHM6IE1lYXN1cmVtZW50PFVuaXRUeXBlPikgLT4gTWVhc3VyZW1lbnQ8VW5pdFR5cGU+IHt9CiAgICBwdWJsaWMgZnVuYyAvKGxoczogTWVhc3VyZW1lbnQ8VW5pdFR5cGU+LCByaHM6IERvdWJsZSkgLT4gTWVhc3VyZW1lbnQ8VW5pdFR5cGU+IHt9CiAgICBwdWJsaWMgZnVuYyA8PExlZnRIYW5kU2lkZVR5cGUsIFJpZ2h0SGFuZFNpZGVUeXBlPihsaHM6IE1lYXN1cmVtZW50PExlZnRIYW5kU2lkZVR5cGU+LCByaHM6IE1lYXN1cmVtZW50PFJpZ2h0SGFuZFNpZGVUeXBlPikgLT4gQm9vbCB7fQogICAgcHVibGljIGZ1bmMgPT08TGVmdEhhbmRTaWRlVHlwZSwgUmlnaHRIYW5kU2lkZVR5cGU+KGxoczogTWVhc3VyZW1lbnQ8TGVmdEhhbmRTaWRlVHlwZT4sIHJoczogTWVhc3VyZW1lbnQ8UmlnaHRIYW5kU2lkZVR5cGU+KSAtPiBCb29sIHt9CiAgICBwdWJsaWMgbXV0YXRpbmcgZnVuYyBjb252ZXJ0KHRvIG90aGVyVW5pdDogVW5pdFR5cGUpICB3aGVyZSBVbml0VHlwZSA6IERpbWVuc2lvbiB7fQogICAgcHVibGljIGZ1bmMgY29udmVydGVkKHRvIG90aGVyVW5pdDogVW5pdFR5cGUpIC0+IE1lYXN1cmVtZW50PFVuaXRUeXBlPiAgd2hlcmUgVW5pdFR5cGUgOiBEaW1lbnNpb24ge30KICAgIHB1YmxpYyBmdW5jIGVuY29kZSh0byBlbmNvZGVyOiBFbmNvZGVyKSB0aHJvd3Mge30KfQpleHRlbnNpb24gT3B0aW9uYWwgewp9CmV4dGVuc2lvbiBSYW5nZSB7CiAgICBwdWJsaWMgaW5pdD8oXyByYW5nZTogTlNSYW5nZSkgIHdoZXJlIEJvdW5kIDogQmluYXJ5SW50ZWdlciB7fQogICAgcHVibGljIGluaXQ/KF8gcmFuZ2U6IE5TUmFuZ2UsIGluIHN0cmluZzogU3RyaW5nKSAgd2hlcmUgQm91bmQgPT0gU3RyaW5nLkluZGV4IHt9Cn0KZXh0ZW5zaW9uIFNldCB7Cn0KZXh0ZW5zaW9uIFN0cmluZyB7CiAgICBwdWJsaWMgc3RhdGljIHZhciBhdmFpbGFibGVTdHJpbmdFbmNvZGluZ3M6IFtFbmNvZGluZ10geyBnZXQgfQogICAgcHVibGljIHN0YXRpYyB2YXIgZGVmYXVsdENTdHJpbmdFbmNvZGluZzogRW5jb2RpbmcgeyBnZXQgfQogICAgcHVibGljIHN0YXRpYyBmdW5jIGxvY2FsaXplZE5hbWUob2YgZW5jb2Rpbmc6IEVuY29kaW5nKSAtPiBTdHJpbmcge30KICAgIHB1YmxpYyBzdGF0aWMgZnVuYyBsb2NhbGl6ZWRTdHJpbmdXaXRoRm9ybWF0KF8gZm9ybWF0OiBTdHJpbmcsIF8gYXJndW1lbnRzOiBDVmFyQXJnLi4uKSAtPiBTdHJpbmcge30KICAgIHB1YmxpYyBpbml0PzxTPihieXRlczogUywgZW5jb2Rpbmc6IEVuY29kaW5nKSAgd2hlcmUgUyA6IFNlcXVlbmNlLCBTLkl0ZXJhdG9yLkVsZW1lbnQgPT0gVUludDgge30KICAgIHB1YmxpYyBpbml0PyhieXRlc05vQ29weSBieXRlczogVW5zYWZlTXV0YWJsZVJhd1BvaW50ZXIsIGxlbmd0aDogSW50LCBlbmNvZGluZzogRW5jb2RpbmcsIGZyZWVXaGVuRG9uZSBmbGFnOiBCb29sKSB7fQogICAgcHVibGljIGluaXQ/KGNTdHJpbmc6IFVuc2FmZVBvaW50ZXI8Q0NoYXI+LCBlbmNvZGluZyBlbmM6IEVuY29kaW5nKSB7fQogICAgcHVibGljIGluaXQoY29udGVudHNPZiB1cmw6IFVSTCkgdGhyb3dzIHt9CiAgICBwdWJsaWMgaW5pdChjb250ZW50c09mIHVybDogVVJMLCBlbmNvZGluZyBlbmM6IEVuY29kaW5nKSB0aHJvd3Mge30KICAgIHB1YmxpYyBpbml0KGNvbnRlbnRzT2YgdXJsOiBVUkwsIHVzZWRFbmNvZGluZzogaW5vdXQgRW5jb2RpbmcpIHRocm93cyB7fQogICAgcHVibGljIGluaXQoY29udGVudHNPZkZpbGUgcGF0aDogU3RyaW5nKSB0aHJvd3Mge30KICAgIHB1YmxpYyBpbml0KGNvbnRlbnRzT2ZGaWxlIHBhdGg6IFN0cmluZywgZW5jb2RpbmcgZW5jOiBFbmNvZGluZykgdGhyb3dzIHt9CiAgICBwdWJsaWMgaW5pdChjb250ZW50c09mRmlsZSBwYXRoOiBTdHJpbmcsIHVzZWRFbmNvZGluZzogaW5vdXQgRW5jb2RpbmcpIHRocm93cyB7fQogICAgcHVibGljIGluaXQ/KGRhdGE6IERhdGEsIGVuY29kaW5nOiBFbmNvZGluZykge30KICAgIHB1YmxpYyBpbml0KGZvcm1hdDogU3RyaW5nLCBfIGFyZ3VtZW50czogQ1ZhckFyZy4uLikge30KICAgIHB1YmxpYyBpbml0KGZvcm1hdDogU3RyaW5nLCBhcmd1bWVudHM6IFtDVmFyQXJnXSkge30KICAgIHB1YmxpYyBpbml0KGZvcm1hdDogU3RyaW5nLCBsb2NhbGU6IExvY2FsZT8sIF8gYXJnczogQ1ZhckFyZy4uLikge30KICAgIHB1YmxpYyBpbml0KGZvcm1hdDogU3RyaW5nLCBsb2NhbGU6IExvY2FsZT8sIGFyZ3VtZW50czogW0NWYXJBcmddKSB7fQogICAgcHVibGljIGluaXQodXRmMTZDb2RlVW5pdHM6IFVuc2FmZVBvaW50ZXI8dW5pY2hhcj4sIGNvdW50OiBJbnQpIHt9CiAgICBwdWJsaWMgaW5pdCh1dGYxNkNvZGVVbml0c05vQ29weTogVW5zYWZlUG9pbnRlcjx1bmljaGFyPiwgY291bnQ6IEludCwgZnJlZVdoZW5Eb25lIGZsYWc6IEJvb2wpIHt9CiAgICBwdWJsaWMgaW5pdD8odXRmOFN0cmluZyBieXRlczogVW5zYWZlUG9pbnRlcjxDQ2hhcj4pIHt9Cn0KZXh0ZW5zaW9uIFN0cmluZy5FbmNvZGluZyB7CiAgICBwdWJsaWMgdmFyIGRlc2NyaXB0aW9uOiBTdHJpbmcgeyBnZXQgfQogICAgcHVibGljIHZhciBoYXNoVmFsdWU6IEludCB7IGdldCB9CiAgICBwdWJsaWMgZnVuYyA9PShsaHM6IFN0cmluZy5FbmNvZGluZywgcmhzOiBTdHJpbmcuRW5jb2RpbmcpIC0+IEJvb2wge30KfQpleHRlbnNpb24gU3RyaW5nUHJvdG9jb2wgewogICAgcHVibGljIHZhciBjYXBpdGFsaXplZDogU3RyaW5nIHsgZ2V0IH0gIHdoZXJlIEluZGV4ID09IFN0cmluZy5JbmRleAogICAgcHVibGljIHZhciBkZWNvbXBvc2VkU3RyaW5nV2l0aENhbm9uaWNhbE1hcHBpbmc6IFN0cmluZyB7IGdldCB9ICB3aGVyZSBJbmRleCA9PSBTdHJpbmcuSW5kZXgKICAgIHB1YmxpYyB2YXIgZGVjb21wb3NlZFN0cmluZ1dpdGhDb21wYXRpYmlsaXR5TWFwcGluZzogU3RyaW5nIHsgZ2V0IH0gIHdoZXJlIEluZGV4ID09IFN0cmluZy5JbmRleAogICAgcHVibGljIHZhciBmYXN0ZXN0RW5jb2Rpbmc6IFN0cmluZy5FbmNvZGluZyB7IGdldCB9ICB3aGVyZSBJbmRleCA9PSBTdHJpbmcuSW5kZXgKICAgIHB1YmxpYyB2YXIgaGFzaDogSW50IHsgZ2V0IH0gIHdoZXJlIEluZGV4ID09IFN0cmluZy5JbmRleAogICAgQGF2YWlsYWJsZShtYWNPUzEwLjExLCBpT1M5LjAsICopIHB1YmxpYyB2YXIgbG9jYWxpemVkQ2FwaXRhbGl6ZWQ6IFN0cmluZyB7IGdldCB9ICB3aGVyZSBJbmRleCA9PSBTdHJpbmcuSW5kZXgKICAgIEBhdmFpbGFibGUobWFjT1MxMC4xMSwgaU9TOS4wLCAqKSBwdWJsaWMgdmFyIGxvY2FsaXplZExvd2VyY2FzZTogU3RyaW5nIHsgZ2V0IH0gIHdoZXJlIEluZGV4ID09IFN0cmluZy5JbmRleAogICAgQGF2YWlsYWJsZShtYWNPUzEwLjExLCBpT1M5LjAsICopIHB1YmxpYyB2YXIgbG9jYWxpemVkVXBwZXJjYXNlOiBTdHJpbmcgeyBnZXQgfSAgd2hlcmUgSW5kZXggPT0gU3RyaW5nLkluZGV4CiAgICBwdWJsaWMgdmFyIHByZWNvbXBvc2VkU3RyaW5nV2l0aENhbm9uaWNhbE1hcHBpbmc6IFN0cmluZyB7IGdldCB9ICB3aGVyZSBJbmRleCA9PSBTdHJpbmcuSW5kZXgKICAgIHB1YmxpYyB2YXIgcHJlY29tcG9zZWRTdHJpbmdXaXRoQ29tcGF0aWJpbGl0eU1hcHBpbmc6IFN0cmluZyB7IGdldCB9ICB3aGVyZSBJbmRleCA9PSBTdHJpbmcuSW5kZXgKICAgIHB1YmxpYyB2YXIgcmVtb3ZpbmdQZXJjZW50RW5jb2Rpbmc6IFN0cmluZz8geyBnZXQgfSAgd2hlcmUgSW5kZXggPT0gU3RyaW5nLkluZGV4CiAgICBwdWJsaWMgdmFyIHNtYWxsZXN0RW5jb2Rpbmc6IFN0cmluZy5FbmNvZGluZyB7IGdldCB9ICB3aGVyZSBJbmRleCA9PSBTdHJpbmcuSW5kZXgKICAgIHB1YmxpYyBmdW5jIGFkZGluZ1BlcmNlbnRFbmNvZGluZyh3aXRoQWxsb3dlZENoYXJhY3RlcnMgYWxsb3dlZENoYXJhY3RlcnM6IENoYXJhY3RlclNldCkgLT4gU3RyaW5nPyAgd2hlcmUgSW5kZXggPT0gU3RyaW5nLkluZGV4IHt9CiAgICBwdWJsaWMgZnVuYyBhcHBlbmRpbmc8VD4oXyBhU3RyaW5nOiBUKSAtPiBTdHJpbmcgIHdoZXJlIFQgOiBTdHJpbmdQcm90b2NvbCwgSW5kZXggPT0gU3RyaW5nLkluZGV4IHt9CiAgICBwdWJsaWMgZnVuYyBhcHBlbmRpbmdGb3JtYXQ8VD4oXyBmb3JtYXQ6IFQsIF8gYXJndW1lbnRzOiBDVmFyQXJnLi4uKSAtPiBTdHJpbmcgIHdoZXJlIFQgOiBTdHJpbmdQcm90b2NvbCwgSW5kZXggPT0gU3RyaW5nLkluZGV4IHt9CiNpZiAhREVQTE9ZTUVOVF9SVU5USU1FX1NXSUZUCiAgICBAYXZhaWxhYmxlKG1hY09TMTAuMTEsIGlPUzkuMCwgKikgcHVibGljIGZ1bmMgYXBwbHlpbmdUcmFuc2Zvcm0oXyB0cmFuc2Zvcm06IFN0cmluZ1RyYW5zZm9ybSwgcmV2ZXJzZTogQm9vbCkgLT4gU3RyaW5nPyAgd2hlcmUgSW5kZXggPT0gU3RyaW5nLkluZGV4IHt9CiNlbmRpZgogICAgcHVibGljIGZ1bmMgY1N0cmluZyh1c2luZyBlbmNvZGluZzogU3RyaW5nLkVuY29kaW5nKSAtPiBbQ0NoYXJdPyAgd2hlcmUgSW5kZXggPT0gU3RyaW5nLkluZGV4IHt9CiAgICBwdWJsaWMgZnVuYyBjYW5CZUNvbnZlcnRlZCh0byBlbmNvZGluZzogU3RyaW5nLkVuY29kaW5nKSAtPiBCb29sICB3aGVyZSBJbmRleCA9PSBTdHJpbmcuSW5kZXgge30KICAgIHB1YmxpYyBmdW5jIGNhcGl0YWxpemVkKHdpdGggbG9jYWxlOiBMb2NhbGU/KSAtPiBTdHJpbmcgIHdoZXJlIEluZGV4ID09IFN0cmluZy5JbmRleCB7fQogICAgcHVibGljIGZ1bmMgY2FzZUluc2Vuc2l0aXZlQ29tcGFyZTxUPihfIGFTdHJpbmc6IFQpIC0+IENvbXBhcmlzb25SZXN1bHQgIHdoZXJlIFQgOiBTdHJpbmdQcm90b2NvbCwgSW5kZXggPT0gU3RyaW5nLkluZGV4IHt9CiAgICBwdWJsaWMgZnVuYyBjb21tb25QcmVmaXg8VD4od2l0aCBhU3RyaW5nOiBULCBvcHRpb25zOiBTdHJpbmcuQ29tcGFyZU9wdGlvbnMgPSB4KSAtPiBTdHJpbmcgIHdoZXJlIFQgOiBTdHJpbmdQcm90b2NvbCwgSW5kZXggPT0gU3RyaW5nLkluZGV4IHt9CiAgICBwdWJsaWMgZnVuYyBjb21wYXJlPFQ+KF8gYVN0cmluZzogVCwgb3B0aW9ucyBtYXNrOiBTdHJpbmcuQ29tcGFyZU9wdGlvbnMgPSB4LCByYW5nZTogUmFuZ2U8SW5kZXg+PyA9IHgsIGxvY2FsZTogTG9jYWxlPyA9IHgpIC0+IENvbXBhcmlzb25SZXN1bHQgIHdoZXJlIFQgOiBTdHJpbmdQcm90b2NvbCwgSW5kZXggPT0gU3RyaW5nLkluZGV4IHt9CiAgICBwdWJsaWMgZnVuYyBjb21wbGV0ZVBhdGgoaW50byBvdXRwdXROYW1lOiBVbnNhZmVNdXRhYmxlUG9pbnRlcjxTdHJpbmc+PyA9IHgsIGNhc2VTZW5zaXRpdmU6IEJvb2wsIG1hdGNoZXNJbnRvIG91dHB1dEFycmF5OiBVbnNhZmVNdXRhYmxlUG9pbnRlcjxbU3RyaW5nXT4/ID0geCwgZmlsdGVyVHlwZXM6IFtTdHJpbmddPyA9IHgpIC0+IEludCAgd2hlcmUgSW5kZXggPT0gU3RyaW5nLkluZGV4IHt9CiAgICBwdWJsaWMgZnVuYyBjb21wb25lbnRzKHNlcGFyYXRlZEJ5IHNlcGFyYXRvcjogQ2hhcmFjdGVyU2V0KSAtPiBbU3RyaW5nXSAgd2hlcmUgSW5kZXggPT0gU3RyaW5nLkluZGV4IHt9CiAgICBwdWJsaWMgZnVuYyBjb21wb25lbnRzPFQ+KHNlcGFyYXRlZEJ5IHNlcGFyYXRvcjogVCkgLT4gW1N0cmluZ10gIHdoZXJlIFQgOiBTdHJpbmdQcm90b2NvbCwgSW5kZXggPT0gU3RyaW5nLkluZGV4IHt9CiAgICBwdWJsaWMgZnVuYyBjb250YWluczxUPihfIG90aGVyOiBUKSAtPiBCb29sICB3aGVyZSBUIDogU3RyaW5nUHJvdG9jb2wsIEluZGV4ID09IFN0cmluZy5JbmRleCB7fQogICAgcHVibGljIGZ1bmMgZGF0YSh1c2luZyBlbmNvZGluZzogU3RyaW5nLkVuY29kaW5nLCBhbGxvd0xvc3N5Q29udmVyc2lvbjogQm9vbCA9IHgpIC0+IERhdGE/ICB3aGVyZSBJbmRleCA9PSBTdHJpbmcuSW5kZXgge30KICAgIHB1YmxpYyBmdW5jIGVudW1lcmF0ZUxpbmVzKGludm9raW5nIGJvZHk6IEBlc2NhcGluZyAoXyBsaW5lOiBTdHJpbmcsIF8gc3RvcDogaW5vdXQgQm9vbCkgLT4gVm9pZCkgIHdoZXJlIEluZGV4ID09IFN0cmluZy5JbmRleCB7fQojaWYgIURFUExPWU1FTlRfUlVOVElNRV9TV0lGVAogICAgcHVibGljIGZ1bmMgZW51bWVyYXRlTGluZ3Vpc3RpY1RhZ3M8VCwgUj4oaW4gcmFuZ2U6IFIsIHNjaGVtZSB0YWdTY2hlbWU6IFQsIG9wdGlvbnMgb3B0czogTlNMaW5ndWlzdGljVGFnZ2VyLk9wdGlvbnMgPSB4LCBvcnRob2dyYXBoeTogTlNPcnRob2dyYXBoeT8gPSB4LCBpbnZva2luZyBib2R5OiAoU3RyaW5nLCBSYW5nZTxJbmRleD4sIFJhbmdlPEluZGV4PiwgaW5vdXQgQm9vbCkgLT4gVm9pZCkgIHdoZXJlIFIgOiBSYW5nZUV4cHJlc3Npb24sIFQgOiBTdHJpbmdQcm90b2NvbCwgSW5kZXggPT0gUi5Cb3VuZCwgSW5kZXggPT0gU3RyaW5nLkluZGV4IHt9CiNlbmRpZgogICAgcHVibGljIGZ1bmMgZW51bWVyYXRlU3Vic3RyaW5nczxSPihpbiByYW5nZTogUiwgb3B0aW9ucyBvcHRzOiBTdHJpbmcuRW51bWVyYXRpb25PcHRpb25zID0geCwgXyBib2R5OiBAZXNjYXBpbmcgKF8gc3Vic3RyaW5nOiBTdHJpbmc/LCBfIHN1YnN0cmluZ1JhbmdlOiBSYW5nZTxJbmRleD4sIF8gZW5jbG9zaW5nUmFuZ2U6IFJhbmdlPEluZGV4PiwgaW5vdXQgQm9vbCkgLT4gVm9pZCkgIHdoZXJlIFIgOiBSYW5nZUV4cHJlc3Npb24sIEluZGV4ID09IFIuQm91bmQsIEluZGV4ID09IFN0cmluZy5JbmRleCB7fQogICAgcHVibGljIGZ1bmMgZm9sZGluZyhvcHRpb25zOiBTdHJpbmcuQ29tcGFyZU9wdGlvbnMgPSB4LCBsb2NhbGU6IExvY2FsZT8pIC0+IFN0cmluZyAgd2hlcmUgSW5kZXggPT0gU3RyaW5nLkluZGV4IHt9CiAgICBwdWJsaWMgZnVuYyBnZXRCeXRlczxSPihfIGJ1ZmZlcjogaW5vdXQgW1VJbnQ4XSwgbWF4TGVuZ3RoIG1heEJ1ZmZlckNvdW50OiBJbnQsIHVzZWRMZW5ndGggdXNlZEJ1ZmZlckNvdW50OiBVbnNhZmVNdXRhYmxlUG9pbnRlcjxJbnQ+LCBlbmNvZGluZzogU3RyaW5nLkVuY29kaW5nLCBvcHRpb25zOiBTdHJpbmcuRW5jb2RpbmdDb252ZXJzaW9uT3B0aW9ucyA9IHgsIHJhbmdlOiBSLCByZW1haW5pbmcgbGVmdG92ZXI6IFVuc2FmZU11dGFibGVQb2ludGVyPFJhbmdlPEluZGV4Pj4pIC0+IEJvb2wgIHdoZXJlIFIgOiBSYW5nZUV4cHJlc3Npb24sIEluZGV4ID09IFIuQm91bmQsIEluZGV4ID09IFN0cmluZy5JbmRleCB7fQogICAgcHVibGljIGZ1bmMgZ2V0Q1N0cmluZyhfIGJ1ZmZlcjogaW5vdXQgW0NDaGFyXSwgbWF4TGVuZ3RoOiBJbnQsIGVuY29kaW5nOiBTdHJpbmcuRW5jb2RpbmcpIC0+IEJvb2wgIHdoZXJlIEluZGV4ID09IFN0cmluZy5JbmRleCB7fQogICAgcHVibGljIGZ1bmMgZ2V0TGluZVN0YXJ0PFI+KF8gc3RhcnQ6IFVuc2FmZU11dGFibGVQb2ludGVyPEluZGV4PiwgZW5kOiBVbnNhZmVNdXRhYmxlUG9pbnRlcjxJbmRleD4sIGNvbnRlbnRzRW5kOiBVbnNhZmVNdXRhYmxlUG9pbnRlcjxJbmRleD4sIGZvciByYW5nZTogUikgIHdoZXJlIFIgOiBSYW5nZUV4cHJlc3Npb24sIEluZGV4ID09IFIuQm91bmQsIEluZGV4ID09IFN0cmluZy5JbmRleCB7fQogICAgcHVibGljIGZ1bmMgZ2V0UGFyYWdyYXBoU3RhcnQ8Uj4oXyBzdGFydDogVW5zYWZlTXV0YWJsZVBvaW50ZXI8SW5kZXg+LCBlbmQ6IFVuc2FmZU11dGFibGVQb2ludGVyPEluZGV4PiwgY29udGVudHNFbmQ6IFVuc2FmZU11dGFibGVQb2ludGVyPEluZGV4PiwgZm9yIHJhbmdlOiBSKSAgd2hlcmUgUiA6IFJhbmdlRXhwcmVzc2lvbiwgSW5kZXggPT0gUi5Cb3VuZCwgSW5kZXggPT0gU3RyaW5nLkluZGV4IHt9CiAgICBwdWJsaWMgZnVuYyBsZW5ndGhPZkJ5dGVzKHVzaW5nIGVuY29kaW5nOiBTdHJpbmcuRW5jb2RpbmcpIC0+IEludCAgd2hlcmUgSW5kZXggPT0gU3RyaW5nLkluZGV4IHt9CiAgICBwdWJsaWMgZnVuYyBsaW5lUmFuZ2U8Uj4oZm9yIGFSYW5nZTogUikgLT4gUmFuZ2U8SW5kZXg+ICB3aGVyZSBSIDogUmFuZ2VFeHByZXNzaW9uLCBJbmRleCA9PSBSLkJvdW5kLCBJbmRleCA9PSBTdHJpbmcuSW5kZXgge30KI2lmICFERVBMT1lNRU5UX1JVTlRJTUVfU1dJRlQKICAgIHB1YmxpYyBmdW5jIGxpbmd1aXN0aWNUYWdzPFQsIFI+KGluIHJhbmdlOiBSLCBzY2hlbWUgdGFnU2NoZW1lOiBULCBvcHRpb25zIG9wdHM6IE5TTGluZ3Vpc3RpY1RhZ2dlci5PcHRpb25zID0geCwgb3J0aG9ncmFwaHk6IE5TT3J0aG9ncmFwaHk/ID0geCwgdG9rZW5SYW5nZXM6IFVuc2FmZU11dGFibGVQb2ludGVyPFtSYW5nZTxJbmRleD5dPj8gPSB4KSAtPiBbU3RyaW5nXSAgd2hlcmUgUiA6IFJhbmdlRXhwcmVzc2lvbiwgVCA6IFN0cmluZ1Byb3RvY29sLCBJbmRleCA9PSBSLkJvdW5kLCBJbmRleCA9PSBTdHJpbmcuSW5kZXgge30KI2VuZGlmCiAgICBwdWJsaWMgZnVuYyBsb2NhbGl6ZWRDYXNlSW5zZW5zaXRpdmVDb21wYXJlPFQ+KF8gYVN0cmluZzogVCkgLT4gQ29tcGFyaXNvblJlc3VsdCAgd2hlcmUgVCA6IFN0cmluZ1Byb3RvY29sLCBJbmRleCA9PSBTdHJpbmcuSW5kZXgge30KICAgIHB1YmxpYyBmdW5jIGxvY2FsaXplZENhc2VJbnNlbnNpdGl2ZUNvbnRhaW5zPFQ+KF8gb3RoZXI6IFQpIC0+IEJvb2wgIHdoZXJlIFQgOiBTdHJpbmdQcm90b2NvbCwgSW5kZXggPT0gU3RyaW5nLkluZGV4IHt9CiAgICBwdWJsaWMgZnVuYyBsb2NhbGl6ZWRDb21wYXJlPFQ+KF8gYVN0cmluZzogVCkgLT4gQ29tcGFyaXNvblJlc3VsdCAgd2hlcmUgVCA6IFN0cmluZ1Byb3RvY29sLCBJbmRleCA9PSBTdHJpbmcuSW5kZXgge30KICAgIHB1YmxpYyBmdW5jIGxvY2FsaXplZFN0YW5kYXJkQ29tcGFyZTxUPihfIHN0cmluZzogVCkgLT4gQ29tcGFyaXNvblJlc3VsdCAgd2hlcmUgVCA6IFN0cmluZ1Byb3RvY29sLCBJbmRleCA9PSBTdHJpbmcuSW5kZXgge30KICAgIEBhdmFpbGFibGUobWFjT1MxMC4xMSwgaU9TOS4wLCAqKSBwdWJsaWMgZnVuYyBsb2NhbGl6ZWRTdGFuZGFyZENvbnRhaW5zPFQ+KF8gc3RyaW5nOiBUKSAtPiBCb29sICB3aGVyZSBUIDogU3RyaW5nUHJvdG9jb2wsIEluZGV4ID09IFN0cmluZy5JbmRleCB7fQogICAgQGF2YWlsYWJsZShtYWNPUzEwLjExLCBpT1M5LjAsICopIHB1YmxpYyBmdW5jIGxvY2FsaXplZFN0YW5kYXJkUmFuZ2U8VD4ob2Ygc3RyaW5nOiBUKSAtPiBSYW5nZTxJbmRleD4/ICB3aGVyZSBUIDogU3RyaW5nUHJvdG9jb2wsIEluZGV4ID09IFN0cmluZy5JbmRleCB7fQogICAgcHVibGljIGZ1bmMgbG93ZXJjYXNlZCh3aXRoIGxvY2FsZTogTG9jYWxlPykgLT4gU3RyaW5nICB3aGVyZSBJbmRleCA9PSBTdHJpbmcuSW5kZXgge30KICAgIHB1YmxpYyBmdW5jIG1heGltdW1MZW5ndGhPZkJ5dGVzKHVzaW5nIGVuY29kaW5nOiBTdHJpbmcuRW5jb2RpbmcpIC0+IEludCAgd2hlcmUgSW5kZXggPT0gU3RyaW5nLkluZGV4IHt9CiAgICBwdWJsaWMgZnVuYyBwYWRkaW5nPFQ+KHRvTGVuZ3RoIG5ld0xlbmd0aDogSW50LCB3aXRoUGFkIHBhZFN0cmluZzogVCwgc3RhcnRpbmdBdCBwYWRJbmRleDogSW50KSAtPiBTdHJpbmcgIHdoZXJlIFQgOiBTdHJpbmdQcm90b2NvbCwgSW5kZXggPT0gU3RyaW5nLkluZGV4IHt9CiNpZiAhREVQTE9ZTUVOVF9SVU5USU1FX1NXSUZUCiAgICBwdWJsaWMgZnVuYyBwYXJhZ3JhcGhSYW5nZTxSPihmb3IgYVJhbmdlOiBSKSAtPiBSYW5nZTxJbmRleD4gIHdoZXJlIFIgOiBSYW5nZUV4cHJlc3Npb24sIEluZGV4ID09IFIuQm91bmQsIEluZGV4ID09IFN0cmluZy5JbmRleCB7fQojZW5kaWYKI2lmICFERVBMT1lNRU5UX1JVTlRJTUVfU1dJRlQKICAgIHB1YmxpYyBmdW5jIHByb3BlcnR5TGlzdCgpIC0+IEFueSAgd2hlcmUgSW5kZXggPT0gU3RyaW5nLkluZGV4IHt9CiNlbmRpZgojaWYgIURFUExPWU1FTlRfUlVOVElNRV9TV0lGVAogICAgcHVibGljIGZ1bmMgcHJvcGVydHlMaXN0RnJvbVN0cmluZ3NGaWxlRm9ybWF0KCkgLT4gW1N0cmluZzogU3RyaW5nXSAgd2hlcmUgSW5kZXggPT0gU3RyaW5nLkluZGV4IHt9CiNlbmRpZgogICAgcHVibGljIGZ1bmMgcmFuZ2U8VD4ob2YgYVN0cmluZzogVCwgb3B0aW9ucyBtYXNrOiBTdHJpbmcuQ29tcGFyZU9wdGlvbnMgPSB4LCByYW5nZSBzZWFyY2hSYW5nZTogUmFuZ2U8SW5kZXg+PyA9IHgsIGxvY2FsZTogTG9jYWxlPyA9IHgpIC0+IFJhbmdlPEluZGV4Pj8gIHdoZXJlIFQgOiBTdHJpbmdQcm90b2NvbCwgSW5kZXggPT0gU3RyaW5nLkluZGV4IHt9CiAgICBwdWJsaWMgZnVuYyByYW5nZU9mQ2hhcmFjdGVyKGZyb20gYVNldDogQ2hhcmFjdGVyU2V0LCBvcHRpb25zIG1hc2s6IFN0cmluZy5Db21wYXJlT3B0aW9ucyA9IHgsIHJhbmdlIGFSYW5nZTogUmFuZ2U8SW5kZXg+PyA9IHgpIC0+IFJhbmdlPEluZGV4Pj8gIHdoZXJlIEluZGV4ID09IFN0cmluZy5JbmRleCB7fQogICAgcHVibGljIGZ1bmMgcmFuZ2VPZkNvbXBvc2VkQ2hhcmFjdGVyU2VxdWVuY2UoYXQgYW5JbmRleDogSW5kZXgpIC0+IFJhbmdlPEluZGV4PiAgd2hlcmUgSW5kZXggPT0gU3RyaW5nLkluZGV4IHt9CiAgICBwdWJsaWMgZnVuYyByYW5nZU9mQ29tcG9zZWRDaGFyYWN0ZXJTZXF1ZW5jZXM8Uj4oZm9yIHJhbmdlOiBSKSAtPiBSYW5nZTxJbmRleD4gIHdoZXJlIFIgOiBSYW5nZUV4cHJlc3Npb24sIEluZGV4ID09IFIuQm91bmQsIEluZGV4ID09IFN0cmluZy5JbmRleCB7fQogICAgcHVibGljIGZ1bmMgcmVwbGFjaW5nQ2hhcmFjdGVyczxULCBSPihpbiByYW5nZTogUiwgd2l0aCByZXBsYWNlbWVudDogVCkgLT4gU3RyaW5nICB3aGVyZSBSIDogUmFuZ2VFeHByZXNzaW9uLCBUIDogU3RyaW5nUHJvdG9jb2wsIEluZGV4ID09IFIuQm91bmQsIEluZGV4ID09IFN0cmluZy5JbmRleCB7fQogICAgcHVibGljIGZ1bmMgcmVwbGFjaW5nT2NjdXJyZW5jZXM8VGFyZ2V0LCBSZXBsYWNlbWVudD4ob2YgdGFyZ2V0OiBUYXJnZXQsIHdpdGggcmVwbGFjZW1lbnQ6IFJlcGxhY2VtZW50LCBvcHRpb25zOiBTdHJpbmcuQ29tcGFyZU9wdGlvbnMgPSB4LCByYW5nZSBzZWFyY2hSYW5nZTogUmFuZ2U8SW5kZXg+PyA9IHgpIC0+IFN0cmluZyAgd2hlcmUgUmVwbGFjZW1lbnQgOiBTdHJpbmdQcm90b2NvbCwgVGFyZ2V0IDogU3RyaW5nUHJvdG9jb2wsIEluZGV4ID09IFN0cmluZy5JbmRleCB7fQogICAgcHVibGljIGZ1bmMgdHJpbW1pbmdDaGFyYWN0ZXJzKGluIHNldDogQ2hhcmFjdGVyU2V0KSAtPiBTdHJpbmcgIHdoZXJlIEluZGV4ID09IFN0cmluZy5JbmRleCB7fQogICAgcHVibGljIGZ1bmMgdXBwZXJjYXNlZCh3aXRoIGxvY2FsZTogTG9jYWxlPykgLT4gU3RyaW5nICB3aGVyZSBJbmRleCA9PSBTdHJpbmcuSW5kZXgge30KICAgIHB1YmxpYyBmdW5jIHdyaXRlKHRvIHVybDogVVJMLCBhdG9taWNhbGx5IHVzZUF1eGlsaWFyeUZpbGU6IEJvb2wsIGVuY29kaW5nIGVuYzogU3RyaW5nLkVuY29kaW5nKSB0aHJvd3MgIHdoZXJlIEluZGV4ID09IFN0cmluZy5JbmRleCB7fQogICAgcHVibGljIGZ1bmMgd3JpdGU8VD4odG9GaWxlIHBhdGg6IFQsIGF0b21pY2FsbHkgdXNlQXV4aWxpYXJ5RmlsZTogQm9vbCwgZW5jb2RpbmcgZW5jOiBTdHJpbmcuRW5jb2RpbmcpIHRocm93cyAgd2hlcmUgVCA6IFN0cmluZ1Byb3RvY29sLCBJbmRleCA9PSBTdHJpbmcuSW5kZXgge30KfQpleHRlbnNpb24gVUludCB7CiAgICBwdWJsaWMgaW5pdChfIHZhbHVlOiBDR0Zsb2F0KSB7fQogICAgcHVibGljIGluaXQ/KGV4YWN0bHkgbnVtYmVyOiBOU051bWJlcikge30KICAgIHB1YmxpYyBpbml0KHRydW5jYXRpbmcgbnVtYmVyOiBOU051bWJlcikge30KfQpleHRlbnNpb24gVUludDE2IHsKICAgIHB1YmxpYyBpbml0KF8gdmFsdWU6IENHRmxvYXQpIHt9CiAgICBwdWJsaWMgaW5pdD8oZXhhY3RseSBudW1iZXI6IE5TTnVtYmVyKSB7fQogICAgcHVibGljIGluaXQodHJ1bmNhdGluZyBudW1iZXI6IE5TTnVtYmVyKSB7fQp9CmV4dGVuc2lvbiBVSW50MzIgewogICAgcHVibGljIGluaXQoXyB2YWx1ZTogQ0dGbG9hdCkge30KICAgIHB1YmxpYyBpbml0PyhleGFjdGx5IG51bWJlcjogTlNOdW1iZXIpIHt9CiAgICBwdWJsaWMgaW5pdCh0cnVuY2F0aW5nIG51bWJlcjogTlNOdW1iZXIpIHt9Cn0KZXh0ZW5zaW9uIFVJbnQ2NCB7CiAgICBwdWJsaWMgaW5pdChfIHZhbHVlOiBDR0Zsb2F0KSB7fQogICAgcHVibGljIGluaXQ/KGV4YWN0bHkgbnVtYmVyOiBOU051bWJlcikge30KICAgIHB1YmxpYyBpbml0KHRydW5jYXRpbmcgbnVtYmVyOiBOU051bWJlcikge30KfQpleHRlbnNpb24gVUludDggewogICAgcHVibGljIGluaXQoXyB2YWx1ZTogQ0dGbG9hdCkge30KICAgIHB1YmxpYyBpbml0PyhleGFjdGx5IG51bWJlcjogTlNOdW1iZXIpIHt9CiAgICBwdWJsaWMgaW5pdCh0cnVuY2F0aW5nIG51bWJlcjogTlNOdW1iZXIpIHt9Cn0=")!
    static let swift = Data(base64Encoded: "b3BlbiBjbGFzcyBNYW5hZ2VkQnVmZmVyPEhlYWRlciwgRWxlbWVudD4gewogICAgcHVibGljIHZhciBoZWFkZXI6IEhlYWRlciB7IGdldCBzZXQgfQp9CnB1YmxpYyBwcm90b2NvbCBBZGRpdGl2ZUFyaXRobWV0aWMgewogICAgcHVibGljIHN0YXRpYyB2YXIgemVybzogU2VsZiB7IGdldCB9CiAgICBwdWJsaWMgcHJlZml4IGZ1bmMgKyh4OiBTZWxmKSAtPiBTZWxmIHt9CiAgICBwdWJsaWMgZnVuYyArKGxoczogU2VsZiwgcmhzOiBTZWxmKSAtPiBTZWxmIHt9CiAgICBwdWJsaWMgZnVuYyArPShsaHM6IGlub3V0IFNlbGYsIHJoczogU2VsZikge30KICAgIHB1YmxpYyBmdW5jIC0obGhzOiBTZWxmLCByaHM6IFNlbGYpIC0+IFNlbGYge30KICAgIHB1YmxpYyBmdW5jIC09KGxoczogaW5vdXQgU2VsZiwgcmhzOiBTZWxmKSB7fQp9CnB1YmxpYyBwcm90b2NvbCBCaWRpcmVjdGlvbmFsQ29sbGVjdGlvbiB7CiAgICBwdWJsaWMgdmFyIGxhc3Q6IEVsZW1lbnQ/IHsgZ2V0IH0KICAgIHB1YmxpYyBzdWJzY3JpcHQocG9zaXRpb246IEluZGV4KSAtPiBFbGVtZW50IHsgZ2V0IH0ge30KICAgIHB1YmxpYyBmdW5jIGZvcm1JbmRleChiZWZvcmUgaTogaW5vdXQgSW5kZXgpIHt9CiAgICBwdWJsaWMgZnVuYyBpbmRleChiZWZvcmUgaTogSW5kZXgpIC0+IEluZGV4IHt9CiAgICBwdWJsaWMgZnVuYyBqb2luZWQoc2VwYXJhdG9yOiBTdHJpbmcgPSB4KSAtPiBTdHJpbmcgIHdoZXJlIEVsZW1lbnQgPT0gU3RyaW5nIHt9CiAgICBwdWJsaWMgZnVuYyBsYXN0KHdoZXJlIHByZWRpY2F0ZTogKEVsZW1lbnQpIHRocm93cyAtPiBCb29sKSByZXRocm93cyAtPiBFbGVtZW50PyB7fQogICAgcHVibGljIGZ1bmMgbGFzdEluZGV4KG9mIGVsZW1lbnQ6IEVsZW1lbnQpIC0+IEluZGV4PyAgd2hlcmUgRWxlbWVudCA6IEVxdWF0YWJsZSB7fQogICAgcHVibGljIGZ1bmMgbGFzdEluZGV4KHdoZXJlIHByZWRpY2F0ZTogKEVsZW1lbnQpIHRocm93cyAtPiBCb29sKSByZXRocm93cyAtPiBJbmRleD8ge30KICAgIHB1YmxpYyBtdXRhdGluZyBmdW5jIHBvcExhc3QoKSAtPiBFbGVtZW50PyAgd2hlcmUgU2VsZiA9PSBTdWJTZXF1ZW5jZSB7fQogICAgQGRpc2NhcmRhYmxlUmVzdWx0IHB1YmxpYyBtdXRhdGluZyBmdW5jIHJlbW92ZUxhc3QoKSAtPiBFbGVtZW50ICB3aGVyZSBTZWxmID09IFN1YlNlcXVlbmNlIHt9CiAgICBwdWJsaWMgbXV0YXRpbmcgZnVuYyByZW1vdmVMYXN0KF8gazogSW50KSAgd2hlcmUgU2VsZiA9PSBTdWJTZXF1ZW5jZSB7fQp9CnB1YmxpYyBwcm90b2NvbCBCaW5hcnlGbG9hdGluZ1BvaW50IHsKICAgIHB1YmxpYyBzdGF0aWMgdmFyIGV4cG9uZW50Qml0Q291bnQ6IEludCB7IGdldCB9CiAgICBwdWJsaWMgc3RhdGljIHZhciBzaWduaWZpY2FuZEJpdENvdW50OiBJbnQgeyBnZXQgfQogICAgcHVibGljIHN0YXRpYyBmdW5jIHJhbmRvbShpbiByYW5nZTogQ2xvc2VkUmFuZ2U8U2VsZj4pIC0+IFNlbGYgIHdoZXJlIFJhd1NpZ25pZmljYW5kIDogRml4ZWRXaWR0aEludGVnZXIge30KICAgIHB1YmxpYyBzdGF0aWMgZnVuYyByYW5kb20oaW4gcmFuZ2U6IFJhbmdlPFNlbGY+KSAtPiBTZWxmICB3aGVyZSBSYXdTaWduaWZpY2FuZCA6IEZpeGVkV2lkdGhJbnRlZ2VyIHt9CiAgICBwdWJsaWMgc3RhdGljIGZ1bmMgcmFuZG9tPFQ+KGluIHJhbmdlOiBDbG9zZWRSYW5nZTxTZWxmPiwgdXNpbmcgZ2VuZXJhdG9yOiBpbm91dCBUKSAtPiBTZWxmICB3aGVyZSBSYXdTaWduaWZpY2FuZCA6IEZpeGVkV2lkdGhJbnRlZ2VyLCBUIDogUmFuZG9tTnVtYmVyR2VuZXJhdG9yIHt9CiAgICBwdWJsaWMgc3RhdGljIGZ1bmMgcmFuZG9tPFQ+KGluIHJhbmdlOiBSYW5nZTxTZWxmPiwgdXNpbmcgZ2VuZXJhdG9yOiBpbm91dCBUKSAtPiBTZWxmICB3aGVyZSBSYXdTaWduaWZpY2FuZCA6IEZpeGVkV2lkdGhJbnRlZ2VyLCBUIDogUmFuZG9tTnVtYmVyR2VuZXJhdG9yIHt9CiAgICBwdWJsaWMgaW5pdChzaWduOiBGbG9hdGluZ1BvaW50U2lnbiwgZXhwb25lbnRCaXRQYXR0ZXJuOiBSYXdFeHBvbmVudCwgc2lnbmlmaWNhbmRCaXRQYXR0ZXJuOiBSYXdTaWduaWZpY2FuZCkge30KICAgIHB1YmxpYyB2YXIgYmluYWRlOiBTZWxmIHsgZ2V0IH0KICAgIHB1YmxpYyB2YXIgZXhwb25lbnRCaXRQYXR0ZXJuOiBSYXdFeHBvbmVudCB7IGdldCB9CiAgICBwdWJsaWMgdmFyIHNpZ25pZmljYW5kQml0UGF0dGVybjogUmF3U2lnbmlmaWNhbmQgeyBnZXQgfQogICAgcHVibGljIHZhciBzaWduaWZpY2FuZFdpZHRoOiBJbnQgeyBnZXQgfQp9CnB1YmxpYyBwcm90b2NvbCBCaW5hcnlJbnRlZ2VyIHsKICAgIHB1YmxpYyBzdGF0aWMgdmFyIGlzU2lnbmVkOiBCb29sIHsgZ2V0IH0KICAgIHB1YmxpYyBpbml0KCkge30KICAgIHB1YmxpYyBpbml0PFQ+KF8gc291cmNlOiBUKSAgd2hlcmUgVCA6IEJpbmFyeUZsb2F0aW5nUG9pbnQge30KICAgIHB1YmxpYyBpbml0PFQ+KF8gc291cmNlOiBUKSAgd2hlcmUgVCA6IEJpbmFyeUludGVnZXIge30KICAgIHB1YmxpYyBpbml0PFQ+KGNsYW1waW5nIHNvdXJjZTogVCkgIHdoZXJlIFQgOiBCaW5hcnlJbnRlZ2VyIHt9CiAgICBwdWJsaWMgaW5pdDxUPih0cnVuY2F0aW5nSWZOZWVkZWQgc291cmNlOiBUKSAgd2hlcmUgVCA6IEJpbmFyeUludGVnZXIge30KICAgIHB1YmxpYyB2YXIgYml0V2lkdGg6IEludCB7IGdldCB9CiAgICBwdWJsaWMgdmFyIHRyYWlsaW5nWmVyb0JpdENvdW50OiBJbnQgeyBnZXQgfQogICAgcHVibGljIHZhciB3b3JkczogV29yZHMgeyBnZXQgfQogICAgcHVibGljIGZ1bmMgJShsaHM6IFNlbGYsIHJoczogU2VsZikgLT4gU2VsZiB7fQogICAgcHVibGljIGZ1bmMgJT0obGhzOiBpbm91dCBTZWxmLCByaHM6IFNlbGYpIHt9CiAgICBwdWJsaWMgZnVuYyAmKGxoczogU2VsZiwgcmhzOiBTZWxmKSAtPiBTZWxmIHt9CiAgICBwdWJsaWMgZnVuYyAmPShsaHM6IGlub3V0IFNlbGYsIHJoczogU2VsZikge30KICAgIHB1YmxpYyBmdW5jIC8obGhzOiBTZWxmLCByaHM6IFNlbGYpIC0+IFNlbGYge30KICAgIHB1YmxpYyBmdW5jIC89KGxoczogaW5vdXQgU2VsZiwgcmhzOiBTZWxmKSB7fQogICAgcHVibGljIGZ1bmMgPDw8UkhTPihsaHM6IFNlbGYsIHJoczogUkhTKSAtPiBTZWxmICB3aGVyZSBSSFMgOiBCaW5hcnlJbnRlZ2VyIHt9CiAgICBwdWJsaWMgZnVuYyA8PD08UkhTPihsaHM6IGlub3V0IFNlbGYsIHJoczogUkhTKSAgd2hlcmUgUkhTIDogQmluYXJ5SW50ZWdlciB7fQogICAgcHVibGljIGZ1bmMgPD08T3RoZXI+KGxoczogU2VsZiwgcmhzOiBPdGhlcikgLT4gQm9vbCAgd2hlcmUgT3RoZXIgOiBCaW5hcnlJbnRlZ2VyIHt9CiAgICBwdWJsaWMgZnVuYyA+PE90aGVyPihsaHM6IFNlbGYsIHJoczogT3RoZXIpIC0+IEJvb2wgIHdoZXJlIE90aGVyIDogQmluYXJ5SW50ZWdlciB7fQogICAgcHVibGljIGZ1bmMgPj08T3RoZXI+KGxoczogU2VsZiwgcmhzOiBPdGhlcikgLT4gQm9vbCAgd2hlcmUgT3RoZXIgOiBCaW5hcnlJbnRlZ2VyIHt9CiAgICBwdWJsaWMgZnVuYyA+PjxSSFM+KGxoczogU2VsZiwgcmhzOiBSSFMpIC0+IFNlbGYgIHdoZXJlIFJIUyA6IEJpbmFyeUludGVnZXIge30KICAgIHB1YmxpYyBmdW5jID4+PTxSSFM+KGxoczogaW5vdXQgU2VsZiwgcmhzOiBSSFMpICB3aGVyZSBSSFMgOiBCaW5hcnlJbnRlZ2VyIHt9CiAgICBwdWJsaWMgZnVuYyBeKGxoczogU2VsZiwgcmhzOiBTZWxmKSAtPiBTZWxmIHt9CiAgICBwdWJsaWMgZnVuYyBePShsaHM6IGlub3V0IFNlbGYsIHJoczogU2VsZikge30KICAgIHB1YmxpYyBmdW5jIGlzTXVsdGlwbGUob2Ygb3RoZXI6IFNlbGYpIC0+IEJvb2wge30KICAgIHB1YmxpYyBmdW5jIHF1b3RpZW50QW5kUmVtYWluZGVyKGRpdmlkaW5nQnkgcmhzOiBTZWxmKSAtPiAocXVvdGllbnQgOiBTZWxmLCByZW1haW5kZXIgOiBTZWxmKSB7fQogICAgcHVibGljIGZ1bmMgcXVvdGllbnRBbmRSZW1haW5kZXIoZGl2aWRpbmdCeSByaHM6IFNlbGYpIC0+IChxdW90aWVudCA6IFNlbGYsIHJlbWFpbmRlciA6IFNlbGYpIHt9CiAgICBwdWJsaWMgZnVuYyBzaWdudW0oKSAtPiBTZWxmIHt9CiAgICBwdWJsaWMgZnVuYyB8KGxoczogU2VsZiwgcmhzOiBTZWxmKSAtPiBTZWxmIHt9CiAgICBwdWJsaWMgZnVuYyB8PShsaHM6IGlub3V0IFNlbGYsIHJoczogU2VsZikge30KICAgIHB1YmxpYyBwcmVmaXggZnVuYyB+KHg6IFNlbGYpIC0+IFNlbGYge30KfQpwdWJsaWMgcHJvdG9jb2wgQ1ZhckFyZyB7Cn0KcHVibGljIHByb3RvY29sIENhc2VJdGVyYWJsZSB7CiAgICBwdWJsaWMgc3RhdGljIHZhciBhbGxDYXNlczogQWxsQ2FzZXMgeyBnZXQgfQp9CnB1YmxpYyBwcm90b2NvbCBDb2xsZWN0aW9uIHsKICAgIHB1YmxpYyB2YXIgY291bnQ6IEludCB7IGdldCB9CiAgICBwdWJsaWMgdmFyIGVuZEluZGV4OiBJbmRleCB7IGdldCB9CiAgICBwdWJsaWMgdmFyIGZpcnN0OiBFbGVtZW50PyB7IGdldCB9CiAgICBwdWJsaWMgdmFyIGluZGljZXM6IERlZmF1bHRJbmRpY2VzPFNlbGY+IHsgZ2V0IH0gIHdoZXJlIERlZmF1bHRJbmRpY2VzPFNlbGY+ID09IEluZGljZXMKICAgIHB1YmxpYyB2YXIgaW5kaWNlczogSW5kaWNlcyB7IGdldCB9CiAgICBwdWJsaWMgdmFyIGlzRW1wdHk6IEJvb2wgeyBnZXQgfQogICAgcHVibGljIHZhciBpc0VtcHR5OiBCb29sIHsgZ2V0IH0KICAgIHB1YmxpYyB2YXIgc3RhcnRJbmRleDogSW5kZXggeyBnZXQgfQogICAgcHVibGljIHN1YnNjcmlwdChib3VuZHM6IFJhbmdlPEluZGV4PikgLT4gU2xpY2U8U2VsZj4geyBnZXQgfSAgd2hlcmUgU2xpY2U8U2VsZj4gPT0gU3ViU2VxdWVuY2Uge30KICAgIHB1YmxpYyBzdWJzY3JpcHQoYm91bmRzOiBSYW5nZTxJbmRleD4pIC0+IFN1YlNlcXVlbmNlIHsgZ2V0IH0ge30KICAgIHB1YmxpYyBzdWJzY3JpcHQoeDogVW5ib3VuZGVkUmFuZ2UpIC0+IFN1YlNlcXVlbmNlIHsgZ2V0IH0ge30KICAgIHB1YmxpYyBzdWJzY3JpcHQ8Uj4ocjogUikgLT4gU3ViU2VxdWVuY2UgeyBnZXQgfSAgd2hlcmUgUiA6IFJhbmdlRXhwcmVzc2lvbiwgSW5kZXggPT0gUi5Cb3VuZCB7fQogICAgcHVibGljIGZ1bmMgZGlzdGFuY2UoZnJvbSBzdGFydDogSW5kZXgsIHRvIGVuZDogSW5kZXgpIC0+IEludCB7fQogICAgcHVibGljIGZ1bmMgZmlyc3RJbmRleChvZiBlbGVtZW50OiBFbGVtZW50KSAtPiBJbmRleD8gIHdoZXJlIEVsZW1lbnQgOiBFcXVhdGFibGUge30KICAgIHB1YmxpYyBmdW5jIGZpcnN0SW5kZXgod2hlcmUgcHJlZGljYXRlOiAoRWxlbWVudCkgdGhyb3dzIC0+IEJvb2wpIHJldGhyb3dzIC0+IEluZGV4PyB7fQogICAgcHVibGljIGZ1bmMgZm9ybUluZGV4KF8gaTogaW5vdXQgSW5kZXgsIG9mZnNldEJ5IGRpc3RhbmNlOiBJbnQpIHt9CiAgICBwdWJsaWMgZnVuYyBmb3JtSW5kZXgoXyBpOiBpbm91dCBJbmRleCwgb2Zmc2V0QnkgZGlzdGFuY2U6IEludCwgbGltaXRlZEJ5IGxpbWl0OiBJbmRleCkgLT4gQm9vbCB7fQogICAgcHVibGljIGZ1bmMgZm9ybUluZGV4KGFmdGVyIGk6IGlub3V0IEluZGV4KSB7fQogICAgcHVibGljIGZ1bmMgaW5kZXgoXyBpOiBJbmRleCwgb2Zmc2V0QnkgZGlzdGFuY2U6IEludCkgLT4gSW5kZXgge30KICAgIHB1YmxpYyBmdW5jIGluZGV4KF8gaTogSW5kZXgsIG9mZnNldEJ5IGRpc3RhbmNlOiBJbnQsIGxpbWl0ZWRCeSBsaW1pdDogSW5kZXgpIC0+IEluZGV4PyB7fQogICAgcHVibGljIGZ1bmMgaW5kZXgoYWZ0ZXIgaTogSW5kZXgpIC0+IEluZGV4IHt9CiAgICBwdWJsaWMgZnVuYyBtYWtlSXRlcmF0b3IoKSAtPiBJdGVyYXRvciB7fQogICAgcHVibGljIG11dGF0aW5nIGZ1bmMgcG9wRmlyc3QoKSAtPiBFbGVtZW50PyAgd2hlcmUgU2VsZiA9PSBTdWJTZXF1ZW5jZSB7fQogICAgcHVibGljIGZ1bmMgcmFuZG9tRWxlbWVudCgpIC0+IEVsZW1lbnQ/IHt9CiAgICBwdWJsaWMgZnVuYyByYW5kb21FbGVtZW50PFQ+KHVzaW5nIGdlbmVyYXRvcjogaW5vdXQgVCkgLT4gRWxlbWVudD8gIHdoZXJlIFQgOiBSYW5kb21OdW1iZXJHZW5lcmF0b3Ige30KICAgIEBkaXNjYXJkYWJsZVJlc3VsdCBwdWJsaWMgbXV0YXRpbmcgZnVuYyByZW1vdmVGaXJzdCgpIC0+IEVsZW1lbnQgIHdoZXJlIFNlbGYgPT0gU3ViU2VxdWVuY2Uge30KICAgIHB1YmxpYyBtdXRhdGluZyBmdW5jIHJlbW92ZUZpcnN0KF8gazogSW50KSAgd2hlcmUgU2VsZiA9PSBTdWJTZXF1ZW5jZSB7fQp9CnB1YmxpYyBwcm90b2NvbCBDb21wYXJhYmxlIHsKICAgIHB1YmxpYyBwb3N0Zml4IGZ1bmMgLi4uKG1pbmltdW06IFNlbGYpIC0+IFBhcnRpYWxSYW5nZUZyb208U2VsZj4ge30KICAgIHB1YmxpYyBwcmVmaXggZnVuYyAuLi4obWF4aW11bTogU2VsZikgLT4gUGFydGlhbFJhbmdlVGhyb3VnaDxTZWxmPiB7fQogICAgcHVibGljIGZ1bmMgLi4uKG1pbmltdW06IFNlbGYsIG1heGltdW06IFNlbGYpIC0+IENsb3NlZFJhbmdlPFNlbGY+IHt9CiAgICBwdWJsaWMgcHJlZml4IGZ1bmMgLi48KG1heGltdW06IFNlbGYpIC0+IFBhcnRpYWxSYW5nZVVwVG88U2VsZj4ge30KICAgIHB1YmxpYyBmdW5jIC4uPChtaW5pbXVtOiBTZWxmLCBtYXhpbXVtOiBTZWxmKSAtPiBSYW5nZTxTZWxmPiB7fQogICAgcHVibGljIGZ1bmMgPChsaHM6IFNlbGYsIHJoczogU2VsZikgLT4gQm9vbCB7fQogICAgcHVibGljIGZ1bmMgPD0obGhzOiBTZWxmLCByaHM6IFNlbGYpIC0+IEJvb2wge30KICAgIHB1YmxpYyBmdW5jIDw9KGxoczogU2VsZiwgcmhzOiBTZWxmKSAtPiBCb29sIHt9CiAgICBwdWJsaWMgZnVuYyA+KGxoczogU2VsZiwgcmhzOiBTZWxmKSAtPiBCb29sIHt9CiAgICBwdWJsaWMgZnVuYyA+KGxoczogU2VsZiwgcmhzOiBTZWxmKSAtPiBCb29sIHt9CiAgICBwdWJsaWMgZnVuYyA+PShsaHM6IFNlbGYsIHJoczogU2VsZikgLT4gQm9vbCB7fQogICAgcHVibGljIGZ1bmMgPj0obGhzOiBTZWxmLCByaHM6IFNlbGYpIC0+IEJvb2wge30KfQpwdWJsaWMgcHJvdG9jb2wgQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSB7CiAgICBwdWJsaWMgdmFyIGRlYnVnRGVzY3JpcHRpb246IFN0cmluZyB7IGdldCB9Cn0KcHVibGljIHByb3RvY29sIEN1c3RvbUxlYWZSZWZsZWN0YWJsZSB7Cn0KcHVibGljIHByb3RvY29sIEN1c3RvbVBsYXlncm91bmREaXNwbGF5Q29udmVydGlibGUgewogICAgcHVibGljIHZhciBwbGF5Z3JvdW5kRGVzY3JpcHRpb246IEFueSB7IGdldCB9Cn0KcHVibGljIHByb3RvY29sIEN1c3RvbVJlZmxlY3RhYmxlIHsKICAgIHB1YmxpYyB2YXIgY3VzdG9tTWlycm9yOiBNaXJyb3IgeyBnZXQgfQp9CnB1YmxpYyBwcm90b2NvbCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSB7CiAgICBwdWJsaWMgdmFyIGRlc2NyaXB0aW9uOiBTdHJpbmcgeyBnZXQgfQp9CnB1YmxpYyBwcm90b2NvbCBFcXVhdGFibGUgewogICAgcHVibGljIGZ1bmMgIT0obGhzOiBTZWxmLCByaHM6IFNlbGYpIC0+IEJvb2wge30KICAgIHB1YmxpYyBmdW5jID09KGxoczogU2VsZiwgcmhzOiBTZWxmKSAtPiBCb29sIHt9Cn0KcHVibGljIHByb3RvY29sIEVycm9yIHsKfQpwdWJsaWMgcHJvdG9jb2wgRXhwcmVzc2libGVCeUFycmF5TGl0ZXJhbCB7CiAgICBwdWJsaWMgaW5pdChhcnJheUxpdGVyYWwgZWxlbWVudHM6IEFycmF5TGl0ZXJhbEVsZW1lbnQuLi4pIHt9Cn0KcHVibGljIHByb3RvY29sIEV4cHJlc3NpYmxlQnlCb29sZWFuTGl0ZXJhbCB7CiAgICBwdWJsaWMgaW5pdChib29sZWFuTGl0ZXJhbCB2YWx1ZTogQm9vbGVhbkxpdGVyYWxUeXBlKSB7fQp9CnB1YmxpYyBwcm90b2NvbCBFeHByZXNzaWJsZUJ5RGljdGlvbmFyeUxpdGVyYWwgewogICAgcHVibGljIGluaXQoZGljdGlvbmFyeUxpdGVyYWwgZWxlbWVudHM6IChLZXksIFZhbHVlKS4uLikge30KfQpwdWJsaWMgcHJvdG9jb2wgRXhwcmVzc2libGVCeUV4dGVuZGVkR3JhcGhlbWVDbHVzdGVyTGl0ZXJhbCB7CiAgICBwdWJsaWMgaW5pdChleHRlbmRlZEdyYXBoZW1lQ2x1c3RlckxpdGVyYWwgdmFsdWU6IEV4dGVuZGVkR3JhcGhlbWVDbHVzdGVyTGl0ZXJhbFR5cGUpIHt9Cn0KcHVibGljIHByb3RvY29sIEV4cHJlc3NpYmxlQnlGbG9hdExpdGVyYWwgewogICAgcHVibGljIGluaXQoZmxvYXRMaXRlcmFsIHZhbHVlOiBGbG9hdExpdGVyYWxUeXBlKSB7fQp9CnB1YmxpYyBwcm90b2NvbCBFeHByZXNzaWJsZUJ5SW50ZWdlckxpdGVyYWwgewogICAgcHVibGljIGluaXQoaW50ZWdlckxpdGVyYWwgdmFsdWU6IEludGVnZXJMaXRlcmFsVHlwZSkge30KfQpwdWJsaWMgcHJvdG9jb2wgRXhwcmVzc2libGVCeU5pbExpdGVyYWwgewogICAgcHVibGljIGluaXQobmlsTGl0ZXJhbDogVm9pZCkge30KfQpwdWJsaWMgcHJvdG9jb2wgRXhwcmVzc2libGVCeVN0cmluZ0ludGVycG9sYXRpb24gewogICAgcHVibGljIGluaXQoc3RyaW5nSW50ZXJwb2xhdGlvbjogRGVmYXVsdFN0cmluZ0ludGVycG9sYXRpb24pICB3aGVyZSBEZWZhdWx0U3RyaW5nSW50ZXJwb2xhdGlvbiA9PSBTdHJpbmdJbnRlcnBvbGF0aW9uIHt9CiAgICBwdWJsaWMgaW5pdChzdHJpbmdJbnRlcnBvbGF0aW9uOiBTdHJpbmdJbnRlcnBvbGF0aW9uKSB7fQp9CnB1YmxpYyBwcm90b2NvbCBFeHByZXNzaWJsZUJ5U3RyaW5nTGl0ZXJhbCB7CiAgICBwdWJsaWMgaW5pdChzdHJpbmdMaXRlcmFsIHZhbHVlOiBTdHJpbmdMaXRlcmFsVHlwZSkge30KfQpwdWJsaWMgcHJvdG9jb2wgRXhwcmVzc2libGVCeVVuaWNvZGVTY2FsYXJMaXRlcmFsIHsKICAgIHB1YmxpYyBpbml0KHVuaWNvZGVTY2FsYXJMaXRlcmFsIHZhbHVlOiBVbmljb2RlU2NhbGFyTGl0ZXJhbFR5cGUpIHt9Cn0KcHVibGljIHByb3RvY29sIEZpeGVkV2lkdGhJbnRlZ2VyIHsKICAgIHB1YmxpYyBzdGF0aWMgdmFyIGJpdFdpZHRoOiBJbnQgeyBnZXQgfQogICAgcHVibGljIHN0YXRpYyB2YXIgbWF4OiBTZWxmIHsgZ2V0IH0KICAgIHB1YmxpYyBzdGF0aWMgdmFyIG1pbjogU2VsZiB7IGdldCB9CiAgICBwdWJsaWMgc3RhdGljIGZ1bmMgcmFuZG9tKGluIHJhbmdlOiBDbG9zZWRSYW5nZTxTZWxmPikgLT4gU2VsZiB7fQogICAgcHVibGljIHN0YXRpYyBmdW5jIHJhbmRvbShpbiByYW5nZTogUmFuZ2U8U2VsZj4pIC0+IFNlbGYge30KICAgIHB1YmxpYyBzdGF0aWMgZnVuYyByYW5kb208VD4oaW4gcmFuZ2U6IENsb3NlZFJhbmdlPFNlbGY+LCB1c2luZyBnZW5lcmF0b3I6IGlub3V0IFQpIC0+IFNlbGYgIHdoZXJlIFQgOiBSYW5kb21OdW1iZXJHZW5lcmF0b3Ige30KICAgIHB1YmxpYyBzdGF0aWMgZnVuYyByYW5kb208VD4oaW4gcmFuZ2U6IFJhbmdlPFNlbGY+LCB1c2luZyBnZW5lcmF0b3I6IGlub3V0IFQpIC0+IFNlbGYgIHdoZXJlIFQgOiBSYW5kb21OdW1iZXJHZW5lcmF0b3Ige30KICAgIHB1YmxpYyBpbml0PzxTPihfIHRleHQ6IFMsIHJhZGl4OiBJbnQgPSB4KSAgd2hlcmUgUyA6IFN0cmluZ1Byb3RvY29sIHt9CiAgICBwdWJsaWMgaW5pdChiaWdFbmRpYW4gdmFsdWU6IFNlbGYpIHt9CiAgICBwdWJsaWMgaW5pdChsaXR0bGVFbmRpYW4gdmFsdWU6IFNlbGYpIHt9CiAgICBwdWJsaWMgdmFyIGJpZ0VuZGlhbjogU2VsZiB7IGdldCB9CiAgICBwdWJsaWMgdmFyIGJ5dGVTd2FwcGVkOiBTZWxmIHsgZ2V0IH0KICAgIHB1YmxpYyB2YXIgbGVhZGluZ1plcm9CaXRDb3VudDogSW50IHsgZ2V0IH0KICAgIHB1YmxpYyB2YXIgbGl0dGxlRW5kaWFuOiBTZWxmIHsgZ2V0IH0KICAgIHB1YmxpYyB2YXIgbm9uemVyb0JpdENvdW50OiBJbnQgeyBnZXQgfQogICAgcHVibGljIGZ1bmMgJioobGhzOiBTZWxmLCByaHM6IFNlbGYpIC0+IFNlbGYge30KICAgIHB1YmxpYyBmdW5jICYqPShsaHM6IGlub3V0IFNlbGYsIHJoczogU2VsZikge30KICAgIHB1YmxpYyBmdW5jICYrKGxoczogU2VsZiwgcmhzOiBTZWxmKSAtPiBTZWxmIHt9CiAgICBwdWJsaWMgZnVuYyAmKz0obGhzOiBpbm91dCBTZWxmLCByaHM6IFNlbGYpIHt9CiAgICBwdWJsaWMgZnVuYyAmLShsaHM6IFNlbGYsIHJoczogU2VsZikgLT4gU2VsZiB7fQogICAgcHVibGljIGZ1bmMgJi09KGxoczogaW5vdXQgU2VsZiwgcmhzOiBTZWxmKSB7fQogICAgcHVibGljIGZ1bmMgJjw8KGxoczogU2VsZiwgcmhzOiBTZWxmKSAtPiBTZWxmIHt9CiAgICBwdWJsaWMgZnVuYyAmPDw9KGxoczogaW5vdXQgU2VsZiwgcmhzOiBTZWxmKSB7fQogICAgcHVibGljIGZ1bmMgJj4+KGxoczogU2VsZiwgcmhzOiBTZWxmKSAtPiBTZWxmIHt9CiAgICBwdWJsaWMgZnVuYyAmPj49KGxoczogaW5vdXQgU2VsZiwgcmhzOiBTZWxmKSB7fQogICAgcHVibGljIGZ1bmMgYWRkaW5nUmVwb3J0aW5nT3ZlcmZsb3coXyByaHM6IFNlbGYpIC0+IChwYXJ0aWFsVmFsdWUgOiBTZWxmLCBvdmVyZmxvdyA6IEJvb2wpIHt9CiAgICBwdWJsaWMgZnVuYyBkaXZpZGVkUmVwb3J0aW5nT3ZlcmZsb3coYnkgcmhzOiBTZWxmKSAtPiAocGFydGlhbFZhbHVlIDogU2VsZiwgb3ZlcmZsb3cgOiBCb29sKSB7fQogICAgcHVibGljIGZ1bmMgZGl2aWRpbmdGdWxsV2lkdGgoXyBkaXZpZGVuZDogKGhpZ2ggOiBTZWxmLCBsb3cgOiBNYWduaXR1ZGUpKSAtPiAocXVvdGllbnQgOiBTZWxmLCByZW1haW5kZXIgOiBTZWxmKSB7fQogICAgcHVibGljIGZ1bmMgbXVsdGlwbGllZEZ1bGxXaWR0aChieSBvdGhlcjogU2VsZikgLT4gKGhpZ2ggOiBTZWxmLCBsb3cgOiBNYWduaXR1ZGUpIHt9CiAgICBwdWJsaWMgZnVuYyBtdWx0aXBsaWVkUmVwb3J0aW5nT3ZlcmZsb3coYnkgcmhzOiBTZWxmKSAtPiAocGFydGlhbFZhbHVlIDogU2VsZiwgb3ZlcmZsb3cgOiBCb29sKSB7fQogICAgcHVibGljIGZ1bmMgcmVtYWluZGVyUmVwb3J0aW5nT3ZlcmZsb3coZGl2aWRpbmdCeSByaHM6IFNlbGYpIC0+IChwYXJ0aWFsVmFsdWUgOiBTZWxmLCBvdmVyZmxvdyA6IEJvb2wpIHt9CiAgICBwdWJsaWMgZnVuYyBzdWJ0cmFjdGluZ1JlcG9ydGluZ092ZXJmbG93KF8gcmhzOiBTZWxmKSAtPiAocGFydGlhbFZhbHVlIDogU2VsZiwgb3ZlcmZsb3cgOiBCb29sKSB7fQp9CnB1YmxpYyBwcm90b2NvbCBGbG9hdGluZ1BvaW50IHsKICAgIHB1YmxpYyBzdGF0aWMgdmFyIGdyZWF0ZXN0RmluaXRlTWFnbml0dWRlOiBTZWxmIHsgZ2V0IH0KICAgIHB1YmxpYyBzdGF0aWMgdmFyIGluZmluaXR5OiBTZWxmIHsgZ2V0IH0KICAgIHB1YmxpYyBzdGF0aWMgdmFyIGxlYXN0Tm9uemVyb01hZ25pdHVkZTogU2VsZiB7IGdldCB9CiAgICBwdWJsaWMgc3RhdGljIHZhciBsZWFzdE5vcm1hbE1hZ25pdHVkZTogU2VsZiB7IGdldCB9CiAgICBwdWJsaWMgc3RhdGljIHZhciBuYW46IFNlbGYgeyBnZXQgfQogICAgcHVibGljIHN0YXRpYyB2YXIgcGk6IFNlbGYgeyBnZXQgfQogICAgcHVibGljIHN0YXRpYyB2YXIgcmFkaXg6IEludCB7IGdldCB9CiAgICBwdWJsaWMgc3RhdGljIHZhciBzaWduYWxpbmdOYU46IFNlbGYgeyBnZXQgfQogICAgcHVibGljIHN0YXRpYyB2YXIgdWxwT2ZPbmU6IFNlbGYgeyBnZXQgfQogICAgcHVibGljIHN0YXRpYyBmdW5jIG1heGltdW0oXyB4OiBTZWxmLCBfIHk6IFNlbGYpIC0+IFNlbGYge30KICAgIHB1YmxpYyBzdGF0aWMgZnVuYyBtYXhpbXVtTWFnbml0dWRlKF8geDogU2VsZiwgXyB5OiBTZWxmKSAtPiBTZWxmIHt9CiAgICBwdWJsaWMgc3RhdGljIGZ1bmMgbWluaW11bShfIHg6IFNlbGYsIF8geTogU2VsZikgLT4gU2VsZiB7fQogICAgcHVibGljIHN0YXRpYyBmdW5jIG1pbmltdW1NYWduaXR1ZGUoXyB4OiBTZWxmLCBfIHk6IFNlbGYpIC0+IFNlbGYge30KICAgIHB1YmxpYyBpbml0KF8gdmFsdWU6IEludCkge30KICAgIHB1YmxpYyBpbml0KHNpZ246IEZsb2F0aW5nUG9pbnRTaWduLCBleHBvbmVudDogRXhwb25lbnQsIHNpZ25pZmljYW5kOiBTZWxmKSB7fQogICAgcHVibGljIGluaXQoc2lnbk9mOiBTZWxmLCBtYWduaXR1ZGVPZjogU2VsZikge30KICAgIHB1YmxpYyB2YXIgZXhwb25lbnQ6IEV4cG9uZW50IHsgZ2V0IH0KICAgIHB1YmxpYyB2YXIgZmxvYXRpbmdQb2ludENsYXNzOiBGbG9hdGluZ1BvaW50Q2xhc3NpZmljYXRpb24geyBnZXQgfQogICAgcHVibGljIHZhciBpc0Nhbm9uaWNhbDogQm9vbCB7IGdldCB9CiAgICBwdWJsaWMgdmFyIGlzRmluaXRlOiBCb29sIHsgZ2V0IH0KICAgIHB1YmxpYyB2YXIgaXNJbmZpbml0ZTogQm9vbCB7IGdldCB9CiAgICBwdWJsaWMgdmFyIGlzTmFOOiBCb29sIHsgZ2V0IH0KICAgIHB1YmxpYyB2YXIgaXNOb3JtYWw6IEJvb2wgeyBnZXQgfQogICAgcHVibGljIHZhciBpc1NpZ25hbGluZ05hTjogQm9vbCB7IGdldCB9CiAgICBwdWJsaWMgdmFyIGlzU3Vibm9ybWFsOiBCb29sIHsgZ2V0IH0KICAgIHB1YmxpYyB2YXIgaXNaZXJvOiBCb29sIHsgZ2V0IH0KICAgIHB1YmxpYyB2YXIgbmV4dERvd246IFNlbGYgeyBnZXQgfQogICAgcHVibGljIHZhciBuZXh0VXA6IFNlbGYgeyBnZXQgfQogICAgcHVibGljIHZhciBzaWduOiBGbG9hdGluZ1BvaW50U2lnbiB7IGdldCB9CiAgICBwdWJsaWMgdmFyIHNpZ25pZmljYW5kOiBTZWxmIHsgZ2V0IH0KICAgIHB1YmxpYyB2YXIgdWxwOiBTZWxmIHsgZ2V0IH0KICAgIHB1YmxpYyBmdW5jIC8obGhzOiBTZWxmLCByaHM6IFNlbGYpIC0+IFNlbGYge30KICAgIHB1YmxpYyBmdW5jIC89KGxoczogaW5vdXQgU2VsZiwgcmhzOiBTZWxmKSB7fQogICAgcHVibGljIGZ1bmMgPD0obGhzOiBTZWxmLCByaHM6IFNlbGYpIC0+IEJvb2wge30KICAgIHB1YmxpYyBmdW5jID4obGhzOiBTZWxmLCByaHM6IFNlbGYpIC0+IEJvb2wge30KICAgIHB1YmxpYyBmdW5jID49KGxoczogU2VsZiwgcmhzOiBTZWxmKSAtPiBCb29sIHt9CiAgICBwdWJsaWMgbXV0YXRpbmcgZnVuYyBhZGRQcm9kdWN0KF8gbGhzOiBTZWxmLCBfIHJoczogU2VsZikge30KICAgIHB1YmxpYyBmdW5jIGFkZGluZ1Byb2R1Y3QoXyBsaHM6IFNlbGYsIF8gcmhzOiBTZWxmKSAtPiBTZWxmIHt9CiAgICBwdWJsaWMgbXV0YXRpbmcgZnVuYyBmb3JtUmVtYWluZGVyKGRpdmlkaW5nQnkgb3RoZXI6IFNlbGYpIHt9CiAgICBwdWJsaWMgbXV0YXRpbmcgZnVuYyBmb3JtU3F1YXJlUm9vdCgpIHt9CiAgICBwdWJsaWMgbXV0YXRpbmcgZnVuYyBmb3JtVHJ1bmNhdGluZ1JlbWFpbmRlcihkaXZpZGluZ0J5IG90aGVyOiBTZWxmKSB7fQogICAgcHVibGljIGZ1bmMgaXNFcXVhbCh0byBvdGhlcjogU2VsZikgLT4gQm9vbCB7fQogICAgcHVibGljIGZ1bmMgaXNMZXNzKHRoYW4gb3RoZXI6IFNlbGYpIC0+IEJvb2wge30KICAgIHB1YmxpYyBmdW5jIGlzTGVzc1RoYW5PckVxdWFsVG8oXyBvdGhlcjogU2VsZikgLT4gQm9vbCB7fQogICAgcHVibGljIGZ1bmMgaXNUb3RhbGx5T3JkZXJlZChiZWxvd09yRXF1YWxUbyBvdGhlcjogU2VsZikgLT4gQm9vbCB7fQogICAgcHVibGljIGZ1bmMgcmVtYWluZGVyKGRpdmlkaW5nQnkgb3RoZXI6IFNlbGYpIC0+IFNlbGYge30KICAgIHB1YmxpYyBtdXRhdGluZyBmdW5jIHJvdW5kKCkge30KICAgIHB1YmxpYyBtdXRhdGluZyBmdW5jIHJvdW5kKF8gcnVsZTogRmxvYXRpbmdQb2ludFJvdW5kaW5nUnVsZSkge30KICAgIHB1YmxpYyBmdW5jIHJvdW5kZWQoKSAtPiBTZWxmIHt9CiAgICBwdWJsaWMgZnVuYyByb3VuZGVkKF8gcnVsZTogRmxvYXRpbmdQb2ludFJvdW5kaW5nUnVsZSkgLT4gU2VsZiB7fQogICAgcHVibGljIGZ1bmMgc3F1YXJlUm9vdCgpIC0+IFNlbGYge30KICAgIHB1YmxpYyBmdW5jIHRydW5jYXRpbmdSZW1haW5kZXIoZGl2aWRpbmdCeSBvdGhlcjogU2VsZikgLT4gU2VsZiB7fQp9CnB1YmxpYyBwcm90b2NvbCBIYXNoYWJsZSB7CiAgICBwdWJsaWMgdmFyIGhhc2hWYWx1ZTogSW50IHsgZ2V0IH0KICAgIHB1YmxpYyBmdW5jIGhhc2goaW50byBoYXNoZXI6IGlub3V0IEhhc2hlcikge30KfQpwdWJsaWMgcHJvdG9jb2wgSXRlcmF0b3JQcm90b2NvbCB7CiAgICBwdWJsaWMgbXV0YXRpbmcgZnVuYyBuZXh0KCkgLT4gRWxlbWVudD8ge30KfQpwdWJsaWMgcHJvdG9jb2wgTGF6eUNvbGxlY3Rpb25Qcm90b2NvbCB7Cn0KcHVibGljIHByb3RvY29sIExhenlTZXF1ZW5jZVByb3RvY29sIHsKICAgIHB1YmxpYyB2YXIgZWxlbWVudHM6IEVsZW1lbnRzIHsgZ2V0IH0KICAgIHB1YmxpYyB2YXIgZWxlbWVudHM6IFNlbGYgeyBnZXQgfSAgd2hlcmUgRWxlbWVudHMgPT0gU2VsZgp9CnB1YmxpYyBwcm90b2NvbCBMb3NzbGVzc1N0cmluZ0NvbnZlcnRpYmxlIHsKICAgIHB1YmxpYyBpbml0PyhfIGRlc2NyaXB0aW9uOiBTdHJpbmcpIHt9Cn0KcHVibGljIHByb3RvY29sIE1pcnJvclBhdGggewp9CnB1YmxpYyBwcm90b2NvbCBNdXRhYmxlQ29sbGVjdGlvbiB7CiAgICBwdWJsaWMgbXV0YXRpbmcgZnVuYyBwYXJ0aXRpb24oYnkgYmVsb25nc0luU2Vjb25kUGFydGl0aW9uOiAoRWxlbWVudCkgdGhyb3dzIC0+IEJvb2wpIHJldGhyb3dzIC0+IEluZGV4IHt9CiAgICBwdWJsaWMgbXV0YXRpbmcgZnVuYyByZXZlcnNlKCkgIHdoZXJlIFNlbGYgOiBCaWRpcmVjdGlvbmFsQ29sbGVjdGlvbiB7fQogICAgcHVibGljIG11dGF0aW5nIGZ1bmMgc2h1ZmZsZSgpICB3aGVyZSBTZWxmIDogUmFuZG9tQWNjZXNzQ29sbGVjdGlvbiB7fQogICAgcHVibGljIG11dGF0aW5nIGZ1bmMgc2h1ZmZsZTxUPih1c2luZyBnZW5lcmF0b3I6IGlub3V0IFQpICB3aGVyZSBTZWxmIDogUmFuZG9tQWNjZXNzQ29sbGVjdGlvbiwgVCA6IFJhbmRvbU51bWJlckdlbmVyYXRvciB7fQogICAgcHVibGljIG11dGF0aW5nIGZ1bmMgc29ydCgpICB3aGVyZSBFbGVtZW50IDogQ29tcGFyYWJsZSwgU2VsZiA6IFJhbmRvbUFjY2Vzc0NvbGxlY3Rpb24ge30KICAgIHB1YmxpYyBtdXRhdGluZyBmdW5jIHNvcnQoYnkgYXJlSW5JbmNyZWFzaW5nT3JkZXI6IChFbGVtZW50LCBFbGVtZW50KSB0aHJvd3MgLT4gQm9vbCkgcmV0aHJvd3MgIHdoZXJlIFNlbGYgOiBSYW5kb21BY2Nlc3NDb2xsZWN0aW9uIHt9CiAgICBwdWJsaWMgbXV0YXRpbmcgZnVuYyBzd2FwQXQoXyBpOiBJbmRleCwgXyBqOiBJbmRleCkge30KICAgIHB1YmxpYyBtdXRhdGluZyBmdW5jIHN3YXBBdChfIGk6IEluZGV4LCBfIGo6IEluZGV4KSB7fQogICAgcHVibGljIG11dGF0aW5nIGZ1bmMgd2l0aENvbnRpZ3VvdXNNdXRhYmxlU3RvcmFnZUlmQXZhaWxhYmxlPFI+KF8gYm9keTogKGlub3V0IFVuc2FmZU11dGFibGVCdWZmZXJQb2ludGVyPEVsZW1lbnQ+KSB0aHJvd3MgLT4gUikgcmV0aHJvd3MgLT4gUj8ge30KfQpwdWJsaWMgcHJvdG9jb2wgTnVtZXJpYyB7CiAgICBwdWJsaWMgaW5pdD88VD4oZXhhY3RseSBzb3VyY2U6IFQpICB3aGVyZSBUIDogQmluYXJ5SW50ZWdlciB7fQogICAgcHVibGljIHZhciBtYWduaXR1ZGU6IE1hZ25pdHVkZSB7IGdldCB9CiAgICBwdWJsaWMgZnVuYyAqKGxoczogU2VsZiwgcmhzOiBTZWxmKSAtPiBTZWxmIHt9CiAgICBwdWJsaWMgZnVuYyAqPShsaHM6IGlub3V0IFNlbGYsIHJoczogU2VsZikge30KfQpwdWJsaWMgcHJvdG9jb2wgT3B0aW9uU2V0IHsKICAgIHB1YmxpYyBmdW5jIGludGVyc2VjdGlvbihfIG90aGVyOiBTZWxmKSAtPiBTZWxmIHt9CiAgICBwdWJsaWMgZnVuYyBzeW1tZXRyaWNEaWZmZXJlbmNlKF8gb3RoZXI6IFNlbGYpIC0+IFNlbGYge30KICAgIHB1YmxpYyBmdW5jIHVuaW9uKF8gb3RoZXI6IFNlbGYpIC0+IFNlbGYge30KfQpwdWJsaWMgcHJvdG9jb2wgUmFuZG9tQWNjZXNzQ29sbGVjdGlvbiB7Cn0KcHVibGljIHByb3RvY29sIFJhbmRvbU51bWJlckdlbmVyYXRvciB7CiAgICBwdWJsaWMgbXV0YXRpbmcgZnVuYyBuZXh0KCkgLT4gVUludDY0IHt9CiAgICBwdWJsaWMgbXV0YXRpbmcgZnVuYyBuZXh0PFQ+KCkgLT4gVCAgd2hlcmUgVCA6IEZpeGVkV2lkdGhJbnRlZ2VyICYgVW5zaWduZWRJbnRlZ2VyIHt9CiAgICBwdWJsaWMgbXV0YXRpbmcgZnVuYyBuZXh0PFQ+KHVwcGVyQm91bmQ6IFQpIC0+IFQgIHdoZXJlIFQgOiBGaXhlZFdpZHRoSW50ZWdlciAmIFVuc2lnbmVkSW50ZWdlciB7fQp9CnB1YmxpYyBwcm90b2NvbCBSYW5nZUV4cHJlc3Npb24gewogICAgcHVibGljIGZ1bmMgY29udGFpbnMoXyBlbGVtZW50OiBCb3VuZCkgLT4gQm9vbCB7fQogICAgcHVibGljIGZ1bmMgcmVsYXRpdmU8Qz4odG8gY29sbGVjdGlvbjogQykgLT4gUmFuZ2U8Qm91bmQ+ICB3aGVyZSBDIDogQ29sbGVjdGlvbiwgQm91bmQgPT0gQy5JbmRleCB7fQogICAgcHVibGljIGZ1bmMgfj0ocGF0dGVybjogU2VsZiwgdmFsdWU6IEJvdW5kKSAtPiBCb29sIHt9Cn0KcHVibGljIHByb3RvY29sIFJhbmdlUmVwbGFjZWFibGVDb2xsZWN0aW9uIHsKICAgIHB1YmxpYyBpbml0KCkge30KICAgIHB1YmxpYyBpbml0PFM+KF8gZWxlbWVudHM6IFMpICB3aGVyZSBTIDogU2VxdWVuY2UsIEVsZW1lbnQgPT0gUy5FbGVtZW50IHt9CiAgICBwdWJsaWMgaW5pdDxTPihfIGVsZW1lbnRzOiBTKSAgd2hlcmUgUyA6IFNlcXVlbmNlLCBFbGVtZW50ID09IFMuRWxlbWVudCB7fQogICAgcHVibGljIGluaXQocmVwZWF0aW5nIHJlcGVhdGVkVmFsdWU6IEVsZW1lbnQsIGNvdW50OiBJbnQpIHt9CiAgICBwdWJsaWMgaW5pdChyZXBlYXRpbmcgcmVwZWF0ZWRWYWx1ZTogRWxlbWVudCwgY291bnQ6IEludCkge30KICAgIHB1YmxpYyBmdW5jICs8T3RoZXI+KGxoczogT3RoZXIsIHJoczogU2VsZikgLT4gU2VsZiAgd2hlcmUgT3RoZXIgOiBTZXF1ZW5jZSwgRWxlbWVudCA9PSBPdGhlci5FbGVtZW50IHt9CiAgICBwdWJsaWMgZnVuYyArPE90aGVyPihsaHM6IFNlbGYsIHJoczogT3RoZXIpIC0+IFNlbGYgIHdoZXJlIE90aGVyIDogUmFuZ2VSZXBsYWNlYWJsZUNvbGxlY3Rpb24sIEVsZW1lbnQgPT0gT3RoZXIuRWxlbWVudCB7fQogICAgcHVibGljIGZ1bmMgKzxPdGhlcj4obGhzOiBTZWxmLCByaHM6IE90aGVyKSAtPiBTZWxmICB3aGVyZSBPdGhlciA6IFNlcXVlbmNlLCBFbGVtZW50ID09IE90aGVyLkVsZW1lbnQge30KICAgIHB1YmxpYyBmdW5jICs9PE90aGVyPihsaHM6IGlub3V0IFNlbGYsIHJoczogT3RoZXIpICB3aGVyZSBPdGhlciA6IFNlcXVlbmNlLCBFbGVtZW50ID09IE90aGVyLkVsZW1lbnQge30KICAgIHB1YmxpYyBtdXRhdGluZyBmdW5jIGFwcGVuZChfIG5ld0VsZW1lbnQ6IF9fb3duZWQgRWxlbWVudCkge30KICAgIHB1YmxpYyBtdXRhdGluZyBmdW5jIGFwcGVuZDxTPihjb250ZW50c09mIG5ld0VsZW1lbnRzOiBfX293bmVkIFMpICB3aGVyZSBTIDogU2VxdWVuY2UsIEVsZW1lbnQgPT0gUy5FbGVtZW50IHt9CiAgICBwdWJsaWMgbXV0YXRpbmcgZnVuYyBpbnNlcnQoXyBuZXdFbGVtZW50OiBfX293bmVkIEVsZW1lbnQsIGF0IGk6IEluZGV4KSB7fQogICAgcHVibGljIG11dGF0aW5nIGZ1bmMgaW5zZXJ0PEM+KGNvbnRlbnRzT2YgbmV3RWxlbWVudHM6IF9fb3duZWQgQywgYXQgaTogSW5kZXgpICB3aGVyZSBDIDogQ29sbGVjdGlvbiwgQy5FbGVtZW50ID09IEVsZW1lbnQge30KICAgIHB1YmxpYyBtdXRhdGluZyBmdW5jIHBvcExhc3QoKSAtPiBFbGVtZW50PyAgd2hlcmUgU2VsZiA6IEJpZGlyZWN0aW9uYWxDb2xsZWN0aW9uIHt9CiAgICBAZGlzY2FyZGFibGVSZXN1bHQgcHVibGljIG11dGF0aW5nIGZ1bmMgcmVtb3ZlKGF0IGk6IEluZGV4KSAtPiBFbGVtZW50IHt9CiAgICBAZGlzY2FyZGFibGVSZXN1bHQgcHVibGljIG11dGF0aW5nIGZ1bmMgcmVtb3ZlKGF0IHBvc2l0aW9uOiBJbmRleCkgLT4gRWxlbWVudCB7fQogICAgcHVibGljIG11dGF0aW5nIGZ1bmMgcmVtb3ZlQWxsKGtlZXBpbmdDYXBhY2l0eSBrZWVwQ2FwYWNpdHk6IEJvb2wgPSB4KSB7fQogICAgcHVibGljIG11dGF0aW5nIGZ1bmMgcmVtb3ZlQWxsKHdoZXJlIHNob3VsZEJlUmVtb3ZlZDogKEVsZW1lbnQpIHRocm93cyAtPiBCb29sKSByZXRocm93cyB7fQogICAgcHVibGljIG11dGF0aW5nIGZ1bmMgcmVtb3ZlQWxsKHdoZXJlIHNob3VsZEJlUmVtb3ZlZDogKEVsZW1lbnQpIHRocm93cyAtPiBCb29sKSByZXRocm93cyB7fQogICAgQGRpc2NhcmRhYmxlUmVzdWx0IHB1YmxpYyBtdXRhdGluZyBmdW5jIHJlbW92ZUxhc3QoKSAtPiBFbGVtZW50ICB3aGVyZSBTZWxmIDogQmlkaXJlY3Rpb25hbENvbGxlY3Rpb24ge30KICAgIHB1YmxpYyBtdXRhdGluZyBmdW5jIHJlbW92ZUxhc3QoXyBrOiBJbnQpICB3aGVyZSBTZWxmIDogQmlkaXJlY3Rpb25hbENvbGxlY3Rpb24ge30KICAgIHB1YmxpYyBtdXRhdGluZyBmdW5jIHJlbW92ZVN1YnJhbmdlKF8gYm91bmRzOiBSYW5nZTxJbmRleD4pIHt9CiAgICBwdWJsaWMgbXV0YXRpbmcgZnVuYyByZW1vdmVTdWJyYW5nZShfIGJvdW5kczogUmFuZ2U8SW5kZXg+KSB7fQogICAgcHVibGljIG11dGF0aW5nIGZ1bmMgcmVwbGFjZVN1YnJhbmdlPEMsIFI+KF8gc3VicmFuZ2U6IFIsIHdpdGggbmV3RWxlbWVudHM6IF9fb3duZWQgQykgIHdoZXJlIEMgOiBDb2xsZWN0aW9uLCBSIDogUmFuZ2VFeHByZXNzaW9uLCBDLkVsZW1lbnQgPT0gRWxlbWVudCwgSW5kZXggPT0gUi5Cb3VuZCB7fQogICAgcHVibGljIG11dGF0aW5nIGZ1bmMgcmVwbGFjZVN1YnJhbmdlPEM+KF8gc3VicmFuZ2U6IFJhbmdlPEluZGV4Piwgd2l0aCBuZXdFbGVtZW50czogX19vd25lZCBDKSAgd2hlcmUgQyA6IENvbGxlY3Rpb24sIEMuRWxlbWVudCA9PSBFbGVtZW50IHt9CiAgICBwdWJsaWMgbXV0YXRpbmcgZnVuYyByZXNlcnZlQ2FwYWNpdHkoXyBuOiBJbnQpIHt9CiAgICBwdWJsaWMgbXV0YXRpbmcgZnVuYyByZXNlcnZlQ2FwYWNpdHkoXyBuOiBJbnQpIHt9Cn0KcHVibGljIHByb3RvY29sIFJhd1JlcHJlc2VudGFibGUgewogICAgcHVibGljIGluaXQ/KHJhd1ZhbHVlOiBSYXdWYWx1ZSkge30KICAgIHB1YmxpYyB2YXIgaGFzaFZhbHVlOiBJbnQgeyBnZXQgfSAgd2hlcmUgUmF3VmFsdWUgOiBIYXNoYWJsZSwgU2VsZiA6IEhhc2hhYmxlCiAgICBwdWJsaWMgdmFyIHJhd1ZhbHVlOiBSYXdWYWx1ZSB7IGdldCB9CiAgICBwdWJsaWMgZnVuYyBoYXNoKGludG8gaGFzaGVyOiBpbm91dCBIYXNoZXIpICB3aGVyZSBSYXdWYWx1ZSA6IEhhc2hhYmxlLCBTZWxmIDogSGFzaGFibGUge30KfQpwdWJsaWMgcHJvdG9jb2wgU0lNRCB7Cn0KcHVibGljIHByb3RvY29sIFNJTURTY2FsYXIgewp9CnB1YmxpYyBwcm90b2NvbCBTSU1EU3RvcmFnZSB7CiAgICBwdWJsaWMgaW5pdCgpIHt9CiAgICBwdWJsaWMgdmFyIHNjYWxhckNvdW50OiBJbnQgeyBnZXQgfQogICAgcHVibGljIHN1YnNjcmlwdChpbmRleDogSW50KSAtPiBTY2FsYXIgeyBnZXQgc2V0IH0ge30KfQpwdWJsaWMgcHJvdG9jb2wgU2VxdWVuY2UgewogICAgcHVibGljIHZhciBsYXp5OiBMYXp5U2VxdWVuY2U8U2VsZj4geyBnZXQgfQogICAgcHVibGljIHZhciB1bmRlcmVzdGltYXRlZENvdW50OiBJbnQgeyBnZXQgfQogICAgcHVibGljIGZ1bmMgYWxsU2F0aXNmeShfIHByZWRpY2F0ZTogKEVsZW1lbnQpIHRocm93cyAtPiBCb29sKSByZXRocm93cyAtPiBCb29sIHt9CiAgICBwdWJsaWMgZnVuYyBjb21wYWN0TWFwPEVsZW1lbnRPZlJlc3VsdD4oXyB0cmFuc2Zvcm06IChFbGVtZW50KSB0aHJvd3MgLT4gRWxlbWVudE9mUmVzdWx0PykgcmV0aHJvd3MgLT4gW0VsZW1lbnRPZlJlc3VsdF0ge30KICAgIHB1YmxpYyBmdW5jIGNvbnRhaW5zKF8gZWxlbWVudDogRWxlbWVudCkgLT4gQm9vbCAgd2hlcmUgRWxlbWVudCA6IEVxdWF0YWJsZSB7fQogICAgcHVibGljIGZ1bmMgY29udGFpbnMod2hlcmUgcHJlZGljYXRlOiAoRWxlbWVudCkgdGhyb3dzIC0+IEJvb2wpIHJldGhyb3dzIC0+IEJvb2wge30KICAgIHB1YmxpYyBmdW5jIGNvdW50KHdoZXJlIHByZWRpY2F0ZTogKEVsZW1lbnQpIHRocm93cyAtPiBCb29sKSByZXRocm93cyAtPiBJbnQge30KICAgIHB1YmxpYyBmdW5jIGVsZW1lbnRzRXF1YWw8T3RoZXJTZXF1ZW5jZT4oXyBvdGhlcjogT3RoZXJTZXF1ZW5jZSkgLT4gQm9vbCAgd2hlcmUgRWxlbWVudCA6IEVxdWF0YWJsZSwgT3RoZXJTZXF1ZW5jZSA6IFNlcXVlbmNlLCBFbGVtZW50ID09IE90aGVyU2VxdWVuY2UuRWxlbWVudCB7fQogICAgcHVibGljIGZ1bmMgZWxlbWVudHNFcXVhbDxPdGhlclNlcXVlbmNlPihfIG90aGVyOiBPdGhlclNlcXVlbmNlLCBieSBhcmVFcXVpdmFsZW50OiAoRWxlbWVudCwgT3RoZXJTZXF1ZW5jZS5FbGVtZW50KSB0aHJvd3MgLT4gQm9vbCkgcmV0aHJvd3MgLT4gQm9vbCAgd2hlcmUgT3RoZXJTZXF1ZW5jZSA6IFNlcXVlbmNlIHt9CiAgICBwdWJsaWMgZnVuYyBlbnVtZXJhdGVkKCkgLT4gRW51bWVyYXRlZFNlcXVlbmNlPFNlbGY+IHt9CiAgICBwdWJsaWMgZnVuYyBmaXJzdCh3aGVyZSBwcmVkaWNhdGU6IChFbGVtZW50KSB0aHJvd3MgLT4gQm9vbCkgcmV0aHJvd3MgLT4gRWxlbWVudD8ge30KICAgIHB1YmxpYyBmdW5jIGZsYXRNYXA8U2VnbWVudE9mUmVzdWx0PihfIHRyYW5zZm9ybTogKEVsZW1lbnQpIHRocm93cyAtPiBTZWdtZW50T2ZSZXN1bHQpIHJldGhyb3dzIC0+IFtTZWdtZW50T2ZSZXN1bHQuRWxlbWVudF0gIHdoZXJlIFNlZ21lbnRPZlJlc3VsdCA6IFNlcXVlbmNlIHt9CiAgICBwdWJsaWMgZnVuYyBmb3JFYWNoKF8gYm9keTogKEVsZW1lbnQpIHRocm93cyAtPiBWb2lkKSByZXRocm93cyB7fQogICAgcHVibGljIGZ1bmMgam9pbmVkKHNlcGFyYXRvcjogU3RyaW5nID0geCkgLT4gU3RyaW5nICB3aGVyZSBFbGVtZW50IDogU3RyaW5nUHJvdG9jb2wge30KICAgIHB1YmxpYyBmdW5jIGxleGljb2dyYXBoaWNhbGx5UHJlY2VkZXM8T3RoZXJTZXF1ZW5jZT4oXyBvdGhlcjogT3RoZXJTZXF1ZW5jZSkgLT4gQm9vbCAgd2hlcmUgRWxlbWVudCA6IENvbXBhcmFibGUsIE90aGVyU2VxdWVuY2UgOiBTZXF1ZW5jZSwgRWxlbWVudCA9PSBPdGhlclNlcXVlbmNlLkVsZW1lbnQge30KICAgIHB1YmxpYyBmdW5jIGxleGljb2dyYXBoaWNhbGx5UHJlY2VkZXM8T3RoZXJTZXF1ZW5jZT4oXyBvdGhlcjogT3RoZXJTZXF1ZW5jZSwgYnkgYXJlSW5JbmNyZWFzaW5nT3JkZXI6IChFbGVtZW50LCBFbGVtZW50KSB0aHJvd3MgLT4gQm9vbCkgcmV0aHJvd3MgLT4gQm9vbCAgd2hlcmUgT3RoZXJTZXF1ZW5jZSA6IFNlcXVlbmNlLCBFbGVtZW50ID09IE90aGVyU2VxdWVuY2UuRWxlbWVudCB7fQogICAgcHVibGljIGZ1bmMgbWFwPFQ+KF8gdHJhbnNmb3JtOiAoRWxlbWVudCkgdGhyb3dzIC0+IFQpIHJldGhyb3dzIC0+IFtUXSB7fQogICAgcHVibGljIGZ1bmMgbWF4KCkgLT4gRWxlbWVudD8gIHdoZXJlIEVsZW1lbnQgOiBDb21wYXJhYmxlIHt9CiAgICBwdWJsaWMgZnVuYyBtYXgoYnkgYXJlSW5JbmNyZWFzaW5nT3JkZXI6IChFbGVtZW50LCBFbGVtZW50KSB0aHJvd3MgLT4gQm9vbCkgcmV0aHJvd3MgLT4gRWxlbWVudD8ge30KICAgIHB1YmxpYyBmdW5jIG1pbigpIC0+IEVsZW1lbnQ/ICB3aGVyZSBFbGVtZW50IDogQ29tcGFyYWJsZSB7fQogICAgcHVibGljIGZ1bmMgbWluKGJ5IGFyZUluSW5jcmVhc2luZ09yZGVyOiAoRWxlbWVudCwgRWxlbWVudCkgdGhyb3dzIC0+IEJvb2wpIHJldGhyb3dzIC0+IEVsZW1lbnQ/IHt9CiAgICBwdWJsaWMgZnVuYyByZWR1Y2U8UmVzdWx0PihfIGluaXRpYWxSZXN1bHQ6IFJlc3VsdCwgXyBuZXh0UGFydGlhbFJlc3VsdDogKF8gcGFydGlhbFJlc3VsdDogUmVzdWx0LCBFbGVtZW50KSB0aHJvd3MgLT4gUmVzdWx0KSByZXRocm93cyAtPiBSZXN1bHQge30KICAgIHB1YmxpYyBmdW5jIHJlZHVjZTxSZXN1bHQ+KGludG8gaW5pdGlhbFJlc3VsdDogX19vd25lZCBSZXN1bHQsIF8gdXBkYXRlQWNjdW11bGF0aW5nUmVzdWx0OiAoXyBwYXJ0aWFsUmVzdWx0OiBpbm91dCBSZXN1bHQsIEVsZW1lbnQpIHRocm93cyAtPiBWb2lkKSByZXRocm93cyAtPiBSZXN1bHQge30KICAgIHB1YmxpYyBmdW5jIHNodWZmbGVkKCkgLT4gW0VsZW1lbnRdIHt9CiAgICBwdWJsaWMgZnVuYyBzaHVmZmxlZDxUPih1c2luZyBnZW5lcmF0b3I6IGlub3V0IFQpIC0+IFtFbGVtZW50XSAgd2hlcmUgVCA6IFJhbmRvbU51bWJlckdlbmVyYXRvciB7fQogICAgcHVibGljIGZ1bmMgc29ydGVkKCkgLT4gW0VsZW1lbnRdICB3aGVyZSBFbGVtZW50IDogQ29tcGFyYWJsZSB7fQogICAgcHVibGljIGZ1bmMgc29ydGVkKGJ5IGFyZUluSW5jcmVhc2luZ09yZGVyOiAoRWxlbWVudCwgRWxlbWVudCkgdGhyb3dzIC0+IEJvb2wpIHJldGhyb3dzIC0+IFtFbGVtZW50XSB7fQogICAgcHVibGljIGZ1bmMgc3RhcnRzPFBvc3NpYmxlUHJlZml4Pih3aXRoIHBvc3NpYmxlUHJlZml4OiBQb3NzaWJsZVByZWZpeCkgLT4gQm9vbCAgd2hlcmUgRWxlbWVudCA6IEVxdWF0YWJsZSwgUG9zc2libGVQcmVmaXggOiBTZXF1ZW5jZSwgRWxlbWVudCA9PSBQb3NzaWJsZVByZWZpeC5FbGVtZW50IHt9CiAgICBwdWJsaWMgZnVuYyBzdGFydHM8UG9zc2libGVQcmVmaXg+KHdpdGggcG9zc2libGVQcmVmaXg6IFBvc3NpYmxlUHJlZml4LCBieSBhcmVFcXVpdmFsZW50OiAoRWxlbWVudCwgUG9zc2libGVQcmVmaXguRWxlbWVudCkgdGhyb3dzIC0+IEJvb2wpIHJldGhyb3dzIC0+IEJvb2wgIHdoZXJlIFBvc3NpYmxlUHJlZml4IDogU2VxdWVuY2Uge30KICAgIHB1YmxpYyBmdW5jIHdpdGhDb250aWd1b3VzU3RvcmFnZUlmQXZhaWxhYmxlPFI+KF8gYm9keTogKFVuc2FmZUJ1ZmZlclBvaW50ZXI8RWxlbWVudD4pIHRocm93cyAtPiBSKSByZXRocm93cyAtPiBSPyB7fQp9CnB1YmxpYyBwcm90b2NvbCBTZXRBbGdlYnJhIHsKICAgIHB1YmxpYyBpbml0KCkge30KICAgIHB1YmxpYyBpbml0PFM+KF8gc2VxdWVuY2U6IF9fb3duZWQgUykgIHdoZXJlIFMgOiBTZXF1ZW5jZSwgRWxlbWVudCA9PSBTLkVsZW1lbnQge30KICAgIHB1YmxpYyB2YXIgaXNFbXB0eTogQm9vbCB7IGdldCB9CiAgICBwdWJsaWMgZnVuYyBjb250YWlucyhfIG1lbWJlcjogRWxlbWVudCkgLT4gQm9vbCB7fQogICAgcHVibGljIG11dGF0aW5nIGZ1bmMgZm9ybUludGVyc2VjdGlvbihfIG90aGVyOiBTZWxmKSB7fQogICAgcHVibGljIG11dGF0aW5nIGZ1bmMgZm9ybVN5bW1ldHJpY0RpZmZlcmVuY2UoXyBvdGhlcjogX19vd25lZCBTZWxmKSB7fQogICAgcHVibGljIG11dGF0aW5nIGZ1bmMgZm9ybVVuaW9uKF8gb3RoZXI6IF9fb3duZWQgU2VsZikge30KICAgIEBkaXNjYXJkYWJsZVJlc3VsdCBwdWJsaWMgbXV0YXRpbmcgZnVuYyBpbnNlcnQoXyBuZXdNZW1iZXI6IF9fb3duZWQgRWxlbWVudCkgLT4gKGluc2VydGVkIDogQm9vbCwgbWVtYmVyQWZ0ZXJJbnNlcnQgOiBFbGVtZW50KSB7fQogICAgcHVibGljIGZ1bmMgaXNEaXNqb2ludCh3aXRoIG90aGVyOiBTZWxmKSAtPiBCb29sIHt9CiAgICBwdWJsaWMgZnVuYyBpc1N0cmljdFN1YnNldChvZiBvdGhlcjogU2VsZikgLT4gQm9vbCB7fQogICAgcHVibGljIGZ1bmMgaXNTdHJpY3RTdXBlcnNldChvZiBvdGhlcjogU2VsZikgLT4gQm9vbCB7fQogICAgcHVibGljIGZ1bmMgaXNTdWJzZXQob2Ygb3RoZXI6IFNlbGYpIC0+IEJvb2wge30KICAgIHB1YmxpYyBmdW5jIGlzU3VwZXJzZXQob2Ygb3RoZXI6IFNlbGYpIC0+IEJvb2wge30KICAgIHB1YmxpYyBmdW5jIGlzU3VwZXJzZXQob2Ygb3RoZXI6IFNlbGYpIC0+IEJvb2wge30KICAgIEBkaXNjYXJkYWJsZVJlc3VsdCBwdWJsaWMgbXV0YXRpbmcgZnVuYyByZW1vdmUoXyBtZW1iZXI6IEVsZW1lbnQpIC0+IEVsZW1lbnQ/IHt9CiAgICBwdWJsaWMgbXV0YXRpbmcgZnVuYyBzdWJ0cmFjdChfIG90aGVyOiBTZWxmKSB7fQogICAgcHVibGljIGZ1bmMgc3VidHJhY3RpbmcoXyBvdGhlcjogU2VsZikgLT4gU2VsZiB7fQogICAgQGRpc2NhcmRhYmxlUmVzdWx0IHB1YmxpYyBtdXRhdGluZyBmdW5jIHVwZGF0ZSh3aXRoIG5ld01lbWJlcjogX19vd25lZCBFbGVtZW50KSAtPiBFbGVtZW50PyB7fQp9CnB1YmxpYyBwcm90b2NvbCBTaWduZWRJbnRlZ2VyIHsKICAgIHB1YmxpYyBzdGF0aWMgdmFyIG1heDogU2VsZiB7IGdldCB9ICB3aGVyZSBTZWxmIDogRml4ZWRXaWR0aEludGVnZXIKICAgIHB1YmxpYyBzdGF0aWMgdmFyIG1pbjogU2VsZiB7IGdldCB9ICB3aGVyZSBTZWxmIDogRml4ZWRXaWR0aEludGVnZXIKICAgIHB1YmxpYyBmdW5jICYrKGxoczogU2VsZiwgcmhzOiBTZWxmKSAtPiBTZWxmICB3aGVyZSBTZWxmIDogRml4ZWRXaWR0aEludGVnZXIge30KICAgIHB1YmxpYyBmdW5jICYtKGxoczogU2VsZiwgcmhzOiBTZWxmKSAtPiBTZWxmICB3aGVyZSBTZWxmIDogRml4ZWRXaWR0aEludGVnZXIge30KfQpwdWJsaWMgcHJvdG9jb2wgU2lnbmVkTnVtZXJpYyB7CiAgICBwdWJsaWMgcHJlZml4IGZ1bmMgLShvcGVyYW5kOiBTZWxmKSAtPiBTZWxmIHt9CiAgICBwdWJsaWMgcHJlZml4IGZ1bmMgLShvcGVyYW5kOiBTZWxmKSAtPiBTZWxmIHt9CiAgICBwdWJsaWMgbXV0YXRpbmcgZnVuYyBuZWdhdGUoKSB7fQp9CnB1YmxpYyBwcm90b2NvbCBTdHJpZGVhYmxlIHsKICAgIHB1YmxpYyBmdW5jICsobGhzOiBTZWxmLCByaHM6IFN0cmlkZSkgLT4gU2VsZiAgd2hlcmUgU2VsZiA6IF9Qb2ludGVyIHt9CiAgICBwdWJsaWMgZnVuYyArPShsaHM6IGlub3V0IFNlbGYsIHJoczogU3RyaWRlKSAgd2hlcmUgU2VsZiA6IF9Qb2ludGVyIHt9CiAgICBwdWJsaWMgZnVuYyAtKGxoczogU2VsZiwgcmhzOiBTZWxmKSAtPiBTdHJpZGUgIHdoZXJlIFNlbGYgOiBfUG9pbnRlciB7fQogICAgcHVibGljIGZ1bmMgLT0obGhzOiBpbm91dCBTZWxmLCByaHM6IFN0cmlkZSkgIHdoZXJlIFNlbGYgOiBfUG9pbnRlciB7fQogICAgcHVibGljIGZ1bmMgYWR2YW5jZWQoYnkgbjogU3RyaWRlKSAtPiBTZWxmIHt9CiAgICBwdWJsaWMgZnVuYyBkaXN0YW5jZSh0byBvdGhlcjogU2VsZikgLT4gU3RyaWRlIHt9Cn0KcHVibGljIHByb3RvY29sIFN0cmluZ0ludGVycG9sYXRpb25Qcm90b2NvbCB7CiAgICBwdWJsaWMgaW5pdChsaXRlcmFsQ2FwYWNpdHk6IEludCwgaW50ZXJwb2xhdGlvbkNvdW50OiBJbnQpIHt9CiAgICBwdWJsaWMgbXV0YXRpbmcgZnVuYyBhcHBlbmRMaXRlcmFsKF8gbGl0ZXJhbDogU3RyaW5nTGl0ZXJhbFR5cGUpIHt9Cn0KcHVibGljIHByb3RvY29sIFN0cmluZ1Byb3RvY29sIHsKICAgIHB1YmxpYyBpbml0KGNTdHJpbmcgbnVsbFRlcm1pbmF0ZWRVVEY4OiBVbnNhZmVQb2ludGVyPENDaGFyPikge30KICAgIHB1YmxpYyBpbml0PEMsIEVuY29kaW5nPihkZWNvZGluZyBjb2RlVW5pdHM6IEMsIGFzIHNvdXJjZUVuY29kaW5nOiBFbmNvZGluZy5UeXBlKSAgd2hlcmUgQyA6IENvbGxlY3Rpb24sIEVuY29kaW5nIDogVW5pY29kZS5FbmNvZGluZywgQy5JdGVyYXRvci5FbGVtZW50ID09IEVuY29kaW5nLkNvZGVVbml0IHt9CiAgICBwdWJsaWMgaW5pdDxFbmNvZGluZz4oZGVjb2RpbmdDU3RyaW5nIG51bGxUZXJtaW5hdGVkQ29kZVVuaXRzOiBVbnNhZmVQb2ludGVyPEVuY29kaW5nLkNvZGVVbml0PiwgYXMgc291cmNlRW5jb2Rpbmc6IEVuY29kaW5nLlR5cGUpICB3aGVyZSBFbmNvZGluZyA6IFVuaWNvZGUuRW5jb2Rpbmcge30KICAgIHB1YmxpYyB2YXIgdW5pY29kZVNjYWxhcnM6IFVuaWNvZGVTY2FsYXJWaWV3IHsgZ2V0IH0KICAgIHB1YmxpYyB2YXIgdXRmMTY6IFVURjE2VmlldyB7IGdldCB9CiAgICBwdWJsaWMgdmFyIHV0Zjg6IFVURjhWaWV3IHsgZ2V0IH0KICAgIHB1YmxpYyBmdW5jIGhhc1ByZWZpeDxQcmVmaXg+KF8gcHJlZml4OiBQcmVmaXgpIC0+IEJvb2wgIHdoZXJlIFByZWZpeCA6IFN0cmluZ1Byb3RvY29sIHt9CiAgICBwdWJsaWMgZnVuYyBoYXNTdWZmaXg8U3VmZml4PihfIHN1ZmZpeDogU3VmZml4KSAtPiBCb29sICB3aGVyZSBTdWZmaXggOiBTdHJpbmdQcm90b2NvbCB7fQogICAgcHVibGljIGZ1bmMgbG93ZXJjYXNlZCgpIC0+IFN0cmluZyB7fQogICAgcHVibGljIGZ1bmMgdXBwZXJjYXNlZCgpIC0+IFN0cmluZyB7fQogICAgcHVibGljIGZ1bmMgd2l0aENTdHJpbmc8UmVzdWx0PihfIGJvZHk6IChVbnNhZmVQb2ludGVyPENDaGFyPikgdGhyb3dzIC0+IFJlc3VsdCkgcmV0aHJvd3MgLT4gUmVzdWx0IHt9CiAgICBwdWJsaWMgZnVuYyB3aXRoQ1N0cmluZzxSZXN1bHQsIEVuY29kaW5nPihlbmNvZGVkQXMgdGFyZ2V0RW5jb2Rpbmc6IEVuY29kaW5nLlR5cGUsIF8gYm9keTogKFVuc2FmZVBvaW50ZXI8RW5jb2RpbmcuQ29kZVVuaXQ+KSB0aHJvd3MgLT4gUmVzdWx0KSByZXRocm93cyAtPiBSZXN1bHQgIHdoZXJlIEVuY29kaW5nIDogVW5pY29kZS5FbmNvZGluZyB7fQp9CnB1YmxpYyBwcm90b2NvbCBUZXh0T3V0cHV0U3RyZWFtIHsKICAgIHB1YmxpYyBtdXRhdGluZyBmdW5jIHdyaXRlKF8gc3RyaW5nOiBTdHJpbmcpIHt9Cn0KcHVibGljIHByb3RvY29sIFRleHRPdXRwdXRTdHJlYW1hYmxlIHsKICAgIHB1YmxpYyBmdW5jIHdyaXRlPFRhcmdldD4odG8gdGFyZ2V0OiBpbm91dCBUYXJnZXQpICB3aGVyZSBUYXJnZXQgOiBUZXh0T3V0cHV0U3RyZWFtIHt9Cn0KcHVibGljIHByb3RvY29sIFVuaWNvZGVDb2RlYyB7CiAgICBwdWJsaWMgc3RhdGljIGZ1bmMgZW5jb2RlKF8gaW5wdXQ6IFVuaWNvZGUuU2NhbGFyLCBpbnRvIHByb2Nlc3NDb2RlVW5pdDogKENvZGVVbml0KSAtPiBWb2lkKSB7fQogICAgcHVibGljIGluaXQoKSB7fQogICAgcHVibGljIG11dGF0aW5nIGZ1bmMgZGVjb2RlPEk+KF8gaW5wdXQ6IGlub3V0IEkpIC0+IFVuaWNvZGVEZWNvZGluZ1Jlc3VsdCAgd2hlcmUgSSA6IEl0ZXJhdG9yUHJvdG9jb2wsIENvZGVVbml0ID09IEkuRWxlbWVudCB7fQp9CnB1YmxpYyBwcm90b2NvbCBVbnNpZ25lZEludGVnZXIgewogICAgcHVibGljIHN0YXRpYyB2YXIgbWF4OiBTZWxmIHsgZ2V0IH0gIHdoZXJlIFNlbGYgOiBGaXhlZFdpZHRoSW50ZWdlcgogICAgcHVibGljIHN0YXRpYyB2YXIgbWluOiBTZWxmIHsgZ2V0IH0gIHdoZXJlIFNlbGYgOiBGaXhlZFdpZHRoSW50ZWdlcgp9CmV4dGVuc2lvbiBBcnJheSB7CiAgICBwdWJsaWMgdmFyIGNhcGFjaXR5OiBJbnQgeyBnZXQgfQogICAgcHVibGljIHZhciBjb3VudDogSW50IHsgZ2V0IH0KICAgIHB1YmxpYyBmdW5jIHdpdGhDb250aWd1b3VzU3RvcmFnZUlmQXZhaWxhYmxlPFI+KF8gYm9keTogKFVuc2FmZUJ1ZmZlclBvaW50ZXI8RWxlbWVudD4pIHRocm93cyAtPiBSKSByZXRocm93cyAtPiBSPyB7fQogICAgcHVibGljIGZ1bmMgd2l0aFVuc2FmZUJ1ZmZlclBvaW50ZXI8Uj4oXyBib2R5OiAoVW5zYWZlQnVmZmVyUG9pbnRlcjxFbGVtZW50PikgdGhyb3dzIC0+IFIpIHJldGhyb3dzIC0+IFIge30KICAgIHB1YmxpYyBmdW5jIHdpdGhVbnNhZmVCeXRlczxSPihfIGJvZHk6IChVbnNhZmVSYXdCdWZmZXJQb2ludGVyKSB0aHJvd3MgLT4gUikgcmV0aHJvd3MgLT4gUiB7fQogICAgcHVibGljIG11dGF0aW5nIGZ1bmMgd2l0aFVuc2FmZU11dGFibGVCdWZmZXJQb2ludGVyPFI+KF8gYm9keTogKGlub3V0IFVuc2FmZU11dGFibGVCdWZmZXJQb2ludGVyPEVsZW1lbnQ+KSB0aHJvd3MgLT4gUikgcmV0aHJvd3MgLT4gUiB7fQogICAgcHVibGljIG11dGF0aW5nIGZ1bmMgd2l0aFVuc2FmZU11dGFibGVCeXRlczxSPihfIGJvZHk6IChVbnNhZmVNdXRhYmxlUmF3QnVmZmVyUG9pbnRlcikgdGhyb3dzIC0+IFIpIHJldGhyb3dzIC0+IFIge30KfQpleHRlbnNpb24gQXJyYXlTbGljZSB7CiAgICBwdWJsaWMgdmFyIGNhcGFjaXR5OiBJbnQgeyBnZXQgfQogICAgcHVibGljIHZhciBjb3VudDogSW50IHsgZ2V0IH0KICAgIHB1YmxpYyBmdW5jIHdpdGhDb250aWd1b3VzU3RvcmFnZUlmQXZhaWxhYmxlPFI+KF8gYm9keTogKFVuc2FmZUJ1ZmZlclBvaW50ZXI8RWxlbWVudD4pIHRocm93cyAtPiBSKSByZXRocm93cyAtPiBSPyB7fQogICAgcHVibGljIGZ1bmMgd2l0aFVuc2FmZUJ1ZmZlclBvaW50ZXI8Uj4oXyBib2R5OiAoVW5zYWZlQnVmZmVyUG9pbnRlcjxFbGVtZW50PikgdGhyb3dzIC0+IFIpIHJldGhyb3dzIC0+IFIge30KICAgIHB1YmxpYyBmdW5jIHdpdGhVbnNhZmVCeXRlczxSPihfIGJvZHk6IChVbnNhZmVSYXdCdWZmZXJQb2ludGVyKSB0aHJvd3MgLT4gUikgcmV0aHJvd3MgLT4gUiB7fQogICAgcHVibGljIG11dGF0aW5nIGZ1bmMgd2l0aFVuc2FmZU11dGFibGVCdWZmZXJQb2ludGVyPFI+KF8gYm9keTogKGlub3V0IFVuc2FmZU11dGFibGVCdWZmZXJQb2ludGVyPEVsZW1lbnQ+KSB0aHJvd3MgLT4gUikgcmV0aHJvd3MgLT4gUiB7fQogICAgcHVibGljIG11dGF0aW5nIGZ1bmMgd2l0aFVuc2FmZU11dGFibGVCeXRlczxSPihfIGJvZHk6IChVbnNhZmVNdXRhYmxlUmF3QnVmZmVyUG9pbnRlcikgdGhyb3dzIC0+IFIpIHJldGhyb3dzIC0+IFIge30KfQpleHRlbnNpb24gQXV0b3JlbGVhc2luZ1Vuc2FmZU11dGFibGVQb2ludGVyIHsKfQpleHRlbnNpb24gQ2xvc2VkUmFuZ2UgewogICAgcHVibGljIGluaXQoXyBvdGhlcjogUmFuZ2U8Qm91bmQ+KSAgd2hlcmUgQm91bmQgOiBTdHJpZGVhYmxlLCBCb3VuZC5TdHJpZGUgOiBTaWduZWRJbnRlZ2VyIHt9CiAgICBwdWJsaWMgaW5pdChmcm9tIGRlY29kZXI6IERlY29kZXIpIHRocm93cyAgd2hlcmUgQm91bmQgOiBEZWNvZGFibGUge30KICAgIHB1YmxpYyBmdW5jIGNsYW1wZWQodG8gbGltaXRzOiBDbG9zZWRSYW5nZSkgLT4gQ2xvc2VkUmFuZ2Uge30KICAgIHB1YmxpYyBmdW5jIGVuY29kZSh0byBlbmNvZGVyOiBFbmNvZGVyKSB0aHJvd3MgIHdoZXJlIEJvdW5kIDogRW5jb2RhYmxlIHt9CiAgICBwdWJsaWMgZnVuYyBvdmVybGFwcyhfIG90aGVyOiBDbG9zZWRSYW5nZTxCb3VuZD4pIC0+IEJvb2wge30KfQpleHRlbnNpb24gQ2xvc2VkUmFuZ2UuSW5kZXggewogICAgcHVibGljIGZ1bmMgPT0obGhzOiBDbG9zZWRSYW5nZTxCb3VuZD4uSW5kZXgsIHJoczogQ2xvc2VkUmFuZ2U8Qm91bmQ+LkluZGV4KSAtPiBCb29sIHt9Cn0KZXh0ZW5zaW9uIENvbGxlY3Rpb25PZk9uZSB7CiAgICBwdWJsaWMgdmFyIGNvdW50OiBJbnQgeyBnZXQgfQp9CmV4dGVuc2lvbiBDb2xsZWN0aW9uT2ZPbmUuSXRlcmF0b3Igewp9CmV4dGVuc2lvbiBDb250aWd1b3VzQXJyYXkgewogICAgcHVibGljIHZhciBjYXBhY2l0eTogSW50IHsgZ2V0IH0KICAgIHB1YmxpYyB2YXIgY291bnQ6IEludCB7IGdldCB9CiAgICBwdWJsaWMgZnVuYyB3aXRoQ29udGlndW91c1N0b3JhZ2VJZkF2YWlsYWJsZTxSPihfIGJvZHk6IChVbnNhZmVCdWZmZXJQb2ludGVyPEVsZW1lbnQ+KSB0aHJvd3MgLT4gUikgcmV0aHJvd3MgLT4gUj8ge30KICAgIHB1YmxpYyBmdW5jIHdpdGhVbnNhZmVCdWZmZXJQb2ludGVyPFI+KF8gYm9keTogKFVuc2FmZUJ1ZmZlclBvaW50ZXI8RWxlbWVudD4pIHRocm93cyAtPiBSKSByZXRocm93cyAtPiBSIHt9CiAgICBwdWJsaWMgZnVuYyB3aXRoVW5zYWZlQnl0ZXM8Uj4oXyBib2R5OiAoVW5zYWZlUmF3QnVmZmVyUG9pbnRlcikgdGhyb3dzIC0+IFIpIHJldGhyb3dzIC0+IFIge30KICAgIHB1YmxpYyBtdXRhdGluZyBmdW5jIHdpdGhVbnNhZmVNdXRhYmxlQnVmZmVyUG9pbnRlcjxSPihfIGJvZHk6IChpbm91dCBVbnNhZmVNdXRhYmxlQnVmZmVyUG9pbnRlcjxFbGVtZW50PikgdGhyb3dzIC0+IFIpIHJldGhyb3dzIC0+IFIge30KICAgIHB1YmxpYyBtdXRhdGluZyBmdW5jIHdpdGhVbnNhZmVNdXRhYmxlQnl0ZXM8Uj4oXyBib2R5OiAoVW5zYWZlTXV0YWJsZVJhd0J1ZmZlclBvaW50ZXIpIHRocm93cyAtPiBSKSByZXRocm93cyAtPiBSIHt9Cn0KZXh0ZW5zaW9uIERlZmF1bHRJbmRpY2VzIHsKICAgIHB1YmxpYyBzdWJzY3JpcHQoaTogSW5kZXgpIC0+IEVsZW1lbnRzLkluZGV4IHsgZ2V0IH0ge30KfQpleHRlbnNpb24gRGljdGlvbmFyeSB7CiAgICBwdWJsaWMgdmFyIGNhcGFjaXR5OiBJbnQgeyBnZXQgfQogICAgQGF2YWlsYWJsZShzd2lmdCwgaW50cm9kdWNlZDogNC4wKSBwdWJsaWMgdmFyIGtleXM6IEtleXMgeyBnZXQgfQogICAgcHVibGljIHN1YnNjcmlwdChwb3NpdGlvbjogSW5kZXgpIC0+IEVsZW1lbnQgeyBnZXQgfSB7fQogICAgcHVibGljIGZ1bmMgY29tcGFjdE1hcFZhbHVlczxUPihfIHRyYW5zZm9ybTogKFZhbHVlKSB0aHJvd3MgLT4gVD8pIHJldGhyb3dzIC0+IFtLZXk6IFRdIHt9CiAgICBwdWJsaWMgZnVuYyBpbmRleChmb3JLZXkga2V5OiBLZXkpIC0+IEluZGV4PyB7fQogICAgcHVibGljIGZ1bmMgbWFwVmFsdWVzPFQ+KF8gdHJhbnNmb3JtOiAoVmFsdWUpIHRocm93cyAtPiBUKSByZXRocm93cyAtPiBbS2V5OiBUXSB7fQogICAgcHVibGljIG11dGF0aW5nIGZ1bmMgbWVyZ2UoXyBvdGhlcjogX19vd25lZCBbS2V5OiBWYWx1ZV0sIHVuaXF1aW5nS2V5c1dpdGggY29tYmluZTogKFZhbHVlLCBWYWx1ZSkgdGhyb3dzIC0+IFZhbHVlKSByZXRocm93cyB7fQogICAgcHVibGljIG11dGF0aW5nIGZ1bmMgbWVyZ2U8Uz4oXyBvdGhlcjogX19vd25lZCBTLCB1bmlxdWluZ0tleXNXaXRoIGNvbWJpbmU6IChWYWx1ZSwgVmFsdWUpIHRocm93cyAtPiBWYWx1ZSkgcmV0aHJvd3MgIHdoZXJlIFMgOiBTZXF1ZW5jZSwgKEtleSwgVmFsdWUpID09IFMuRWxlbWVudCB7fQogICAgQGRpc2NhcmRhYmxlUmVzdWx0IHB1YmxpYyBtdXRhdGluZyBmdW5jIHJlbW92ZShhdCBpbmRleDogSW5kZXgpIC0+IEVsZW1lbnQge30KICAgIHB1YmxpYyBtdXRhdGluZyBmdW5jIHJlbW92ZUFsbChrZWVwaW5nQ2FwYWNpdHkga2VlcENhcGFjaXR5OiBCb29sID0geCkge30KICAgIEBkaXNjYXJkYWJsZVJlc3VsdCBwdWJsaWMgbXV0YXRpbmcgZnVuYyByZW1vdmVWYWx1ZShmb3JLZXkga2V5OiBLZXkpIC0+IFZhbHVlPyB7fQogICAgcHVibGljIG11dGF0aW5nIGZ1bmMgcmVzZXJ2ZUNhcGFjaXR5KF8gbWluaW11bUNhcGFjaXR5OiBJbnQpIHt9CiAgICBAZGlzY2FyZGFibGVSZXN1bHQgcHVibGljIG11dGF0aW5nIGZ1bmMgdXBkYXRlVmFsdWUoXyB2YWx1ZTogX19vd25lZCBWYWx1ZSwgZm9yS2V5IGtleTogS2V5KSAtPiBWYWx1ZT8ge30KfQpleHRlbnNpb24gRGljdGlvbmFyeS5JbmRleCB7Cn0KZXh0ZW5zaW9uIERpY3Rpb25hcnkuSXRlcmF0b3Igewp9CmV4dGVuc2lvbiBEaWN0aW9uYXJ5LktleXMgewp9CmV4dGVuc2lvbiBEaWN0aW9uYXJ5LlZhbHVlcyB7Cn0KZXh0ZW5zaW9uIERpY3Rpb25hcnkuX1ZhcmlhbnQgewp9CmV4dGVuc2lvbiBEb3VibGUgewp9CmV4dGVuc2lvbiBEcm9wRmlyc3RTZXF1ZW5jZSB7Cn0KZXh0ZW5zaW9uIERyb3BXaGlsZVNlcXVlbmNlIHsKICAgIHB1YmxpYyBmdW5jIG1ha2VJdGVyYXRvcigpIC0+IEl0ZXJhdG9yIHt9Cn0KZXh0ZW5zaW9uIERyb3BXaGlsZVNlcXVlbmNlLkl0ZXJhdG9yIHsKfQpleHRlbnNpb24gRW1wdHlDb2xsZWN0aW9uIHsKICAgIHB1YmxpYyB2YXIgY291bnQ6IEludCB7IGdldCB9CiAgICBwdWJsaWMgZnVuYyBtYWtlSXRlcmF0b3IoKSAtPiBJdGVyYXRvciB7fQp9CmV4dGVuc2lvbiBFbXB0eUNvbGxlY3Rpb24uSXRlcmF0b3Igewp9CmV4dGVuc2lvbiBFbnVtZXJhdGVkU2VxdWVuY2Ugewp9CmV4dGVuc2lvbiBFbnVtZXJhdGVkU2VxdWVuY2UuSXRlcmF0b3Igewp9CmV4dGVuc2lvbiBGbGF0dGVuQ29sbGVjdGlvbiB7Cn0KZXh0ZW5zaW9uIEZsYXR0ZW5TZXF1ZW5jZSB7Cn0KZXh0ZW5zaW9uIEZsYXR0ZW5TZXF1ZW5jZS5JbmRleCB7Cn0KZXh0ZW5zaW9uIEZsYXR0ZW5TZXF1ZW5jZS5JdGVyYXRvciB7Cn0KZXh0ZW5zaW9uIEZsb2F0IHsKfQpleHRlbnNpb24gRmxvYXQ4MCB7Cn0KZXh0ZW5zaW9uIEluZGV4aW5nSXRlcmF0b3Igewp9CmV4dGVuc2lvbiBJbnQgewogICAgcHVibGljIGluaXQoYml0UGF0dGVybiBvYmplY3RJRDogT2JqZWN0SWRlbnRpZmllcikge30KICAgIHB1YmxpYyBpbml0KGJpdFBhdHRlcm4gcG9pbnRlcjogT3BhcXVlUG9pbnRlcj8pIHt9Cn0KZXh0ZW5zaW9uIEludDE2IHsKfQpleHRlbnNpb24gSW50MzIgewp9CmV4dGVuc2lvbiBJbnQ2NCB7Cn0KZXh0ZW5zaW9uIEludDggewp9CmV4dGVuc2lvbiBJdGVyYXRvclNlcXVlbmNlIHsKfQpleHRlbnNpb24gSm9pbmVkU2VxdWVuY2Ugewp9CmV4dGVuc2lvbiBKb2luZWRTZXF1ZW5jZS5JdGVyYXRvciB7Cn0KZXh0ZW5zaW9uIEtleVZhbHVlUGFpcnMgewp9CmV4dGVuc2lvbiBMYXp5Q29sbGVjdGlvbiB7Cn0KZXh0ZW5zaW9uIExhenlEcm9wV2hpbGVDb2xsZWN0aW9uIHsKfQpleHRlbnNpb24gTGF6eURyb3BXaGlsZVNlcXVlbmNlIHsKfQpleHRlbnNpb24gTGF6eURyb3BXaGlsZVNlcXVlbmNlLkl0ZXJhdG9yIHsKfQpleHRlbnNpb24gTGF6eUZpbHRlckNvbGxlY3Rpb24gewp9CmV4dGVuc2lvbiBMYXp5RmlsdGVyU2VxdWVuY2Ugewp9CmV4dGVuc2lvbiBMYXp5RmlsdGVyU2VxdWVuY2UuSXRlcmF0b3Igewp9CmV4dGVuc2lvbiBMYXp5TWFwQ29sbGVjdGlvbiB7Cn0KZXh0ZW5zaW9uIExhenlNYXBTZXF1ZW5jZSB7CiAgICBwdWJsaWMgdmFyIHVuZGVyZXN0aW1hdGVkQ291bnQ6IEludCB7IGdldCB9Cn0KZXh0ZW5zaW9uIExhenlNYXBTZXF1ZW5jZS5JdGVyYXRvciB7Cn0KZXh0ZW5zaW9uIExhenlQcmVmaXhXaGlsZUNvbGxlY3Rpb24gewp9CmV4dGVuc2lvbiBMYXp5UHJlZml4V2hpbGVTZXF1ZW5jZSB7Cn0KZXh0ZW5zaW9uIExhenlQcmVmaXhXaGlsZVNlcXVlbmNlLkluZGV4IHsKICAgIHB1YmxpYyBmdW5jID09KGxoczogTGF6eVByZWZpeFdoaWxlQ29sbGVjdGlvbjxCYXNlPi5JbmRleCwgcmhzOiBMYXp5UHJlZml4V2hpbGVDb2xsZWN0aW9uPEJhc2U+LkluZGV4KSAtPiBCb29sICB3aGVyZSBCYXNlIDogQ29sbGVjdGlvbiB7fQp9CmV4dGVuc2lvbiBMYXp5UHJlZml4V2hpbGVTZXF1ZW5jZS5JdGVyYXRvciB7Cn0KZXh0ZW5zaW9uIExhenlTZXF1ZW5jZSB7Cn0KZXh0ZW5zaW9uIE1hbmFnZWRCdWZmZXIgewogICAgcHVibGljIGNsYXNzIGZ1bmMgY3JlYXRlKG1pbmltdW1DYXBhY2l0eTogSW50LCBtYWtpbmdIZWFkZXJXaXRoIGZhY3Rvcnk6IChNYW5hZ2VkQnVmZmVyPEhlYWRlciwgRWxlbWVudD4pIHRocm93cyAtPiBIZWFkZXIpIHJldGhyb3dzIC0+IE1hbmFnZWRCdWZmZXI8SGVhZGVyLCBFbGVtZW50PiB7fQogICAgcHVibGljIHZhciBjYXBhY2l0eTogSW50IHsgZ2V0IH0KICAgIHB1YmxpYyBmdW5jIHdpdGhVbnNhZmVNdXRhYmxlUG9pbnRlclRvRWxlbWVudHM8Uj4oXyBib2R5OiAoVW5zYWZlTXV0YWJsZVBvaW50ZXI8RWxlbWVudD4pIHRocm93cyAtPiBSKSByZXRocm93cyAtPiBSIHt9CiAgICBwdWJsaWMgZnVuYyB3aXRoVW5zYWZlTXV0YWJsZVBvaW50ZXJUb0hlYWRlcjxSPihfIGJvZHk6IChVbnNhZmVNdXRhYmxlUG9pbnRlcjxIZWFkZXI+KSB0aHJvd3MgLT4gUikgcmV0aHJvd3MgLT4gUiB7fQogICAgcHVibGljIGZ1bmMgd2l0aFVuc2FmZU11dGFibGVQb2ludGVyczxSPihfIGJvZHk6IChVbnNhZmVNdXRhYmxlUG9pbnRlcjxIZWFkZXI+LCBVbnNhZmVNdXRhYmxlUG9pbnRlcjxFbGVtZW50PikgdGhyb3dzIC0+IFIpIHJldGhyb3dzIC0+IFIge30KfQpleHRlbnNpb24gTWFuYWdlZEJ1ZmZlclBvaW50ZXIgewogICAgcHVibGljIHZhciBidWZmZXI6IEFueU9iamVjdCB7IGdldCB9CiAgICBwdWJsaWMgdmFyIGNhcGFjaXR5OiBJbnQgeyBnZXQgfQogICAgcHVibGljIHZhciBoZWFkZXI6IEhlYWRlciB7IGdldCB9CiAgICBwdWJsaWMgbXV0YXRpbmcgZnVuYyBpc1VuaXF1ZVJlZmVyZW5jZSgpIC0+IEJvb2wge30KICAgIHB1YmxpYyBmdW5jIHdpdGhVbnNhZmVNdXRhYmxlUG9pbnRlclRvRWxlbWVudHM8Uj4oXyBib2R5OiAoVW5zYWZlTXV0YWJsZVBvaW50ZXI8RWxlbWVudD4pIHRocm93cyAtPiBSKSByZXRocm93cyAtPiBSIHt9CiAgICBwdWJsaWMgZnVuYyB3aXRoVW5zYWZlTXV0YWJsZVBvaW50ZXJUb0hlYWRlcjxSPihfIGJvZHk6IChVbnNhZmVNdXRhYmxlUG9pbnRlcjxIZWFkZXI+KSB0aHJvd3MgLT4gUikgcmV0aHJvd3MgLT4gUiB7fQogICAgcHVibGljIGZ1bmMgd2l0aFVuc2FmZU11dGFibGVQb2ludGVyczxSPihfIGJvZHk6IChVbnNhZmVNdXRhYmxlUG9pbnRlcjxIZWFkZXI+LCBVbnNhZmVNdXRhYmxlUG9pbnRlcjxFbGVtZW50PikgdGhyb3dzIC0+IFIpIHJldGhyb3dzIC0+IFIge30KfQpleHRlbnNpb24gTWVtb3J5TGF5b3V0IHsKICAgIHB1YmxpYyBzdGF0aWMgZnVuYyBhbGlnbm1lbnQob2ZWYWx1ZSB2YWx1ZTogVCkgLT4gSW50IHt9CiAgICBwdWJsaWMgc3RhdGljIGZ1bmMgb2Zmc2V0KG9mIGtleTogUGFydGlhbEtleVBhdGg8VD4pIC0+IEludD8ge30KICAgIHB1YmxpYyBzdGF0aWMgZnVuYyBzaXplKG9mVmFsdWUgdmFsdWU6IFQpIC0+IEludCB7fQogICAgcHVibGljIHN0YXRpYyBmdW5jIHN0cmlkZShvZlZhbHVlIHZhbHVlOiBUKSAtPiBJbnQge30KfQpleHRlbnNpb24gT3B0aW9uYWwgewogICAgcHVibGljIGZ1bmMgfj0obGhzOiBfT3B0aW9uYWxOaWxDb21wYXJpc29uVHlwZSwgcmhzOiBXcmFwcGVkPykgLT4gQm9vbCB7fQp9CmV4dGVuc2lvbiBQYXJ0aWFsUmFuZ2VGcm9tIHsKICAgIHB1YmxpYyBpbml0KGZyb20gZGVjb2RlcjogRGVjb2RlcikgdGhyb3dzICB3aGVyZSBCb3VuZCA6IERlY29kYWJsZSB7fQogICAgcHVibGljIGZ1bmMgZW5jb2RlKHRvIGVuY29kZXI6IEVuY29kZXIpIHRocm93cyAgd2hlcmUgQm91bmQgOiBFbmNvZGFibGUge30KfQpleHRlbnNpb24gUGFydGlhbFJhbmdlVGhyb3VnaCB7CiAgICBwdWJsaWMgaW5pdChmcm9tIGRlY29kZXI6IERlY29kZXIpIHRocm93cyAgd2hlcmUgQm91bmQgOiBEZWNvZGFibGUge30KICAgIHB1YmxpYyBmdW5jIGVuY29kZSh0byBlbmNvZGVyOiBFbmNvZGVyKSB0aHJvd3MgIHdoZXJlIEJvdW5kIDogRW5jb2RhYmxlIHt9Cn0KZXh0ZW5zaW9uIFBhcnRpYWxSYW5nZVVwVG8gewogICAgcHVibGljIGluaXQoZnJvbSBkZWNvZGVyOiBEZWNvZGVyKSB0aHJvd3MgIHdoZXJlIEJvdW5kIDogRGVjb2RhYmxlIHt9CiAgICBwdWJsaWMgZnVuYyBlbmNvZGUodG8gZW5jb2RlcjogRW5jb2RlcikgdGhyb3dzICB3aGVyZSBCb3VuZCA6IEVuY29kYWJsZSB7fQp9CmV4dGVuc2lvbiBQcmVmaXhTZXF1ZW5jZSB7Cn0KZXh0ZW5zaW9uIFByZWZpeFNlcXVlbmNlLkl0ZXJhdG9yIHsKfQpleHRlbnNpb24gUmFuZ2UgewogICAgcHVibGljIGluaXQoXyBvdGhlcjogQ2xvc2VkUmFuZ2U8Qm91bmQ+KSAgd2hlcmUgQm91bmQgOiBTdHJpZGVhYmxlLCBCb3VuZC5TdHJpZGUgOiBTaWduZWRJbnRlZ2VyIHt9CiAgICBwdWJsaWMgaW5pdChmcm9tIGRlY29kZXI6IERlY29kZXIpIHRocm93cyAgd2hlcmUgQm91bmQgOiBEZWNvZGFibGUge30KICAgIHB1YmxpYyBmdW5jIGNsYW1wZWQodG8gbGltaXRzOiBSYW5nZSkgLT4gUmFuZ2Uge30KICAgIHB1YmxpYyBmdW5jIGVuY29kZSh0byBlbmNvZGVyOiBFbmNvZGVyKSB0aHJvd3MgIHdoZXJlIEJvdW5kIDogRW5jb2RhYmxlIHt9CiAgICBwdWJsaWMgZnVuYyBvdmVybGFwcyhfIG90aGVyOiBSYW5nZTxCb3VuZD4pIC0+IEJvb2wge30KfQpleHRlbnNpb24gUmVwZWF0ZWQgewp9CmV4dGVuc2lvbiBSZXN1bHQgewogICAgcHVibGljIGluaXQoY2F0Y2hpbmcgYm9keTogKCkgdGhyb3dzIC0+IFN1Y2Nlc3MpICB3aGVyZSBGYWlsdXJlID09IFN3aWZ0LkVycm9yIHt9Cn0KZXh0ZW5zaW9uIFJldmVyc2VkQ29sbGVjdGlvbiB7Cn0KZXh0ZW5zaW9uIFJldmVyc2VkQ29sbGVjdGlvbi5JbmRleCB7CiAgICBwdWJsaWMgZnVuYyA9PShsaHM6IFJldmVyc2VkQ29sbGVjdGlvbjxCYXNlPi5JbmRleCwgcmhzOiBSZXZlcnNlZENvbGxlY3Rpb248QmFzZT4uSW5kZXgpIC0+IEJvb2wge30KfQpleHRlbnNpb24gUmV2ZXJzZWRDb2xsZWN0aW9uLkl0ZXJhdG9yIHsKfQpleHRlbnNpb24gU2V0IHsKICAgIHB1YmxpYyB2YXIgY2FwYWNpdHk6IEludCB7IGdldCB9CiAgICBwdWJsaWMgc3Vic2NyaXB0KHBvc2l0aW9uOiBJbmRleCkgLT4gRWxlbWVudCB7IGdldCB9IHt9CiAgICBAZGlzY2FyZGFibGVSZXN1bHQgcHVibGljIG11dGF0aW5nIGZ1bmMgcmVtb3ZlKGF0IHBvc2l0aW9uOiBJbmRleCkgLT4gRWxlbWVudCB7fQogICAgcHVibGljIG11dGF0aW5nIGZ1bmMgcmVtb3ZlQWxsKGtlZXBpbmdDYXBhY2l0eSBrZWVwQ2FwYWNpdHk6IEJvb2wgPSB4KSB7fQogICAgcHVibGljIG11dGF0aW5nIGZ1bmMgcmVzZXJ2ZUNhcGFjaXR5KF8gbWluaW11bUNhcGFjaXR5OiBJbnQpIHt9Cn0KZXh0ZW5zaW9uIFNldC5JbmRleCB7Cn0KZXh0ZW5zaW9uIFNldC5JdGVyYXRvciB7Cn0KZXh0ZW5zaW9uIFNldC5fVmFyaWFudCB7Cn0KZXh0ZW5zaW9uIFNsaWNlIHsKICAgIHB1YmxpYyBzdWJzY3JpcHQoaW5kZXg6IEluZGV4KSAtPiBCYXNlLkVsZW1lbnQgeyBnZXQgc2V0IH0gIHdoZXJlIEJhc2UgOiBNdXRhYmxlQ29sbGVjdGlvbiB7fQp9CmV4dGVuc2lvbiBTdHJpZGVUaHJvdWdoIHsKI2lmIGZhbHNlCiAgICBwdWJsaWMgdmFyIGNvdW50OiBJbnQgeyBnZXQgfSAgd2hlcmUgRWxlbWVudC5TdHJpZGUgOiBCaW5hcnlJbnRlZ2VyCiNlbmRpZgp9CmV4dGVuc2lvbiBTdHJpZGVUaHJvdWdoSXRlcmF0b3Igewp9CmV4dGVuc2lvbiBTdHJpZGVUbyB7CiNpZiBmYWxzZQogICAgcHVibGljIHZhciBjb3VudDogSW50IHsgZ2V0IH0gIHdoZXJlIEVsZW1lbnQuU3RyaWRlIDogQmluYXJ5SW50ZWdlcgojZW5kaWYKfQpleHRlbnNpb24gU3RyaWRlVG9JdGVyYXRvciB7Cn0KZXh0ZW5zaW9uIFN0cmluZy5VVEYxNlZpZXcgewp9CmV4dGVuc2lvbiBTdHJpbmcuVVRGMTZWaWV3LkluZGV4IHsKICAgIHB1YmxpYyBpbml0PyhfIGlkeDogU3RyaW5nLkluZGV4LCB3aXRoaW4gdGFyZ2V0OiBTdHJpbmcuVVRGMTZWaWV3KSB7fQogICAgcHVibGljIGZ1bmMgc2FtZVBvc2l0aW9uKGluIHVuaWNvZGVTY2FsYXJzOiBTdHJpbmcuVW5pY29kZVNjYWxhclZpZXcpIC0+IFN0cmluZy5Vbmljb2RlU2NhbGFySW5kZXg/IHt9Cn0KZXh0ZW5zaW9uIFN0cmluZy5VVEY4VmlldyB7Cn0KZXh0ZW5zaW9uIFN0cmluZy5VVEY4Vmlldy5JbmRleCB7CiAgICBwdWJsaWMgaW5pdD8oXyBpZHg6IFN0cmluZy5JbmRleCwgd2l0aGluIHRhcmdldDogU3RyaW5nLlVURjhWaWV3KSB7fQp9CmV4dGVuc2lvbiBTdHJpbmcuVW5pY29kZVNjYWxhckluZGV4IHsKICAgIHB1YmxpYyBpbml0PyhfIHNvdXJjZVBvc2l0aW9uOiBTdHJpbmcuSW5kZXgsIHdpdGhpbiB1bmljb2RlU2NhbGFyczogU3RyaW5nLlVuaWNvZGVTY2FsYXJWaWV3KSB7fQogICAgcHVibGljIGZ1bmMgc2FtZVBvc2l0aW9uKGluIGNoYXJhY3RlcnM6IFN0cmluZykgLT4gU3RyaW5nLkluZGV4PyB7fQp9CmV4dGVuc2lvbiBTdHJpbmcuVW5pY29kZVNjYWxhclZpZXcgewogICAgQGF2YWlsYWJsZShzd2lmdCwgaW50cm9kdWNlZDogNCkgcHVibGljIHN1YnNjcmlwdChyOiBSYW5nZTxJbmRleD4pIC0+IFN0cmluZy5Vbmljb2RlU2NhbGFyVmlldy5TdWJTZXF1ZW5jZSB7IGdldCB9IHt9Cn0KZXh0ZW5zaW9uIFVJbnQgewogICAgcHVibGljIGluaXQoYml0UGF0dGVybiBvYmplY3RJRDogT2JqZWN0SWRlbnRpZmllcikge30KICAgIHB1YmxpYyBpbml0KGJpdFBhdHRlcm4gcG9pbnRlcjogT3BhcXVlUG9pbnRlcj8pIHt9Cn0KZXh0ZW5zaW9uIFVJbnQxNiB7Cn0KZXh0ZW5zaW9uIFVJbnQzMiB7CiAgICBwdWJsaWMgaW5pdChfIHY6IFVuaWNvZGUuU2NhbGFyKSB7fQp9CmV4dGVuc2lvbiBVSW50NjQgewogICAgcHVibGljIGluaXQoXyB2OiBVbmljb2RlLlNjYWxhcikge30KfQpleHRlbnNpb24gVUludDggewogICAgcHVibGljIGluaXQoYXNjaWkgdjogVW5pY29kZS5TY2FsYXIpIHt9Cn0KZXh0ZW5zaW9uIFVURjE2LkNvZGVVbml0IHsKfQpleHRlbnNpb24gVVRGMTYuUmV2ZXJzZVBhcnNlciB7Cn0KZXh0ZW5zaW9uIFVURjMyLlBhcnNlciB7CiAgICBwdWJsaWMgbXV0YXRpbmcgZnVuYyBwYXJzZVNjYWxhcjxJPihmcm9tIGlucHV0OiBpbm91dCBJKSAtPiBVbmljb2RlLlBhcnNlUmVzdWx0PEVuY29kaW5nLkVuY29kZWRTY2FsYXI+ICB3aGVyZSBJIDogSXRlcmF0b3JQcm90b2NvbCwgRW5jb2RpbmcuQ29kZVVuaXQgPT0gSS5FbGVtZW50IHt9Cn0KZXh0ZW5zaW9uIFVURjguQ29kZVVuaXQgewp9CmV4dGVuc2lvbiBVVEY4LlJldmVyc2VQYXJzZXIgewp9CmV4dGVuc2lvbiBVVEY4VmFsaWRhdGlvblJlc3VsdCB7Cn0KZXh0ZW5zaW9uIFVuaWNvZGUuU2NhbGFyIHsKfQpleHRlbnNpb24gVW5pY29kZS5VVEYxNi5Gb3J3YXJkUGFyc2VyIHsKfQpleHRlbnNpb24gVW5zYWZlQnVmZmVyUG9pbnRlciB7Cn0KZXh0ZW5zaW9uIFVuc2FmZU11dGFibGVCdWZmZXJQb2ludGVyIHsKfQpleHRlbnNpb24gVW5zYWZlTXV0YWJsZVBvaW50ZXIgewp9CmV4dGVuc2lvbiBVbnNhZmVNdXRhYmxlUmF3QnVmZmVyUG9pbnRlciB7Cn0KZXh0ZW5zaW9uIFVuc2FmZVBvaW50ZXIgewp9CmV4dGVuc2lvbiBVbnNhZmVSYXdCdWZmZXJQb2ludGVyIHsKfQpleHRlbnNpb24gWmlwMlNlcXVlbmNlIHsKfQpleHRlbnNpb24gWmlwMlNlcXVlbmNlLkl0ZXJhdG9yIHsKfQ==")!
    static let syntaxHighlighting = String(data: Data(base64Encoded: "LyoKIFN5bnRheCBIaWdobGlnaHRpbmcuY3NzCgogVGhpcyBzb3VyY2UgZmlsZSBpcyBwYXJ0IG9mIHRoZSBTREdTd2lmdCBvcGVuIHNvdXJjZSBwcm9qZWN0LgogaHR0cHM6Ly9zZGdnaWVzYnJlY2h0LmdpdGh1Yi5pby9TREdTd2lmdAoKIENvcHlyaWdodCDCqTIwMTjigJMyMDE5IEplcmVteSBEYXZpZCBHaWVzYnJlY2h0IGFuZCB0aGUgU0RHU3dpZnQgcHJvamVjdCBjb250cmlidXRvcnMuCgogU29saSBEZW8gZ2xvcmlhLgoKIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5jZSwgVmVyc2lvbiAyLjAuCiBTZWUgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wIGZvciBsaWNlbmNlIGluZm9ybWF0aW9uLgogKi8KCi8qIExheW91dCAqLwoKLnN3aWZ0IHsKICAgIGRpc3BsYXk6IGlubGluZTsKICAgIHdoaXRlLXNwYWNlOiBwcmUtd3JhcDsKfQouc3dpZnQuYmxvY2txdW90ZSB7CiAgICBkaXNwbGF5OiBibG9jazsKICAgIG1hcmdpbjogMS40ZW0gMDsKICAgIGJvcmRlcjogMXB4IHNvbGlkOwogICAgIGJvcmRlci1yYWRpdXM6IDAuMzUyOTRlbTsKICAgIHBhZGRpbmc6IDAuMzUyOTRlbSAwLjk0MTE4ZW07Cn0KCi8qIENvbG91ciAqLwoKLnN3aWZ0LmJsb2NrcXVvdGUgewogICAgYmFja2dyb3VuZC1jb2xvcjogI0Y5RkFGQTsKICAgIGJvcmRlci1jb2xvcjogICNFNkU2RTY7Cn0KLnN3aWZ0IHsKICAgIGNvbG9yOiAjMDAwMDAwOwp9Cgouc3dpZnQgLmtleXdvcmQgewogICAgY29sb3I6ICNBQTBEOTE7Cn0KCi5zd2lmdCAucHVuY3R1YXRpb24gewogICAgY29sb3I6ICMwMDAwMDA7Cn0KCi5zd2lmdCAuZXh0ZXJuYWwuaWRlbnRpZmllciB7CiAgICBjb2xvcjogIzVDMjY5OTsKfQouc3dpZnQgLmludGVybmFsLmlkZW50aWZpZXIgewogICAgY29sb3I6ICMzRjZFNzQ7Cn0KCi5zd2lmdCAubnVtYmVyIHsKICAgIGNvbG9yOiAjMEUwRUZGOwp9Cgouc3dpZnQgLnN0cmluZyB7CiAgICBjb2xvcjogI0M0MUExNjsKfQouc3dpZnQgLnN0cmluZ+KAkHB1bmN0dWF0aW9uIHsKICAgIGNvbG9yOiAjNjIyNzBCOwp9Cgouc3dpZnQgLmNvbXBpbGF0aW9u4oCQY29uZGl0aW9uIHsKICAgIGNvbG9yOiAjNjQzODIwOwp9Cgouc3dpZnQgLmNvbW1lbnQgewogICAgY29sb3I6ICMwMDc0MDA7Cn0KLnN3aWZ0IC5jb21tZW504oCQcHVuY3R1YXRpb24gewogICAgY29sb3I6ICMwMDNBMDA7Cn0KLnN3aWZ0IC51cmwgewogICAgY29sb3I6ICMwRTBFRkY7Cn0KCi5zd2lmdCAuY29kZSB7CiAgICBjb2xvcjogIzAwMDAwMDsKfQoKLyogRm9udCAqLwoKLnN3aWZ0IHsKICAgIGZvbnQtZmFtaWx5OiAiU0YgTW9ubyIsIE1lbmxvLCBtb25vc3BhY2UsICJTRiBQcm8gSWNvbnMiOwogICAgbGV0dGVyLXNwYWNpbmc6IC0wLjAyN2VtOwogICAgbGluZS1oZWlnaHQ6IDEuMjY2Njc7Cn0KCi5zd2lmdCAudGV4dCB7CiAgICBmb250LWZhbWlseTogIlNGIFBybyBUZXh0IiwgIlNGIFBybyBJY29ucyIsICItYXBwbGUtc3lzdGVtIiwgIkJsaW5rTWFjU3lzdGVtRm9udCIsICJIZWx2ZXRpY2EgTmV1ZSIsICJIZWx2ZXRpY2EiLCAiQXJpYWwiLCBzYW5zLXNlcmlmOwogICAgbGV0dGVyLXNwYWNpbmc6IDA7Cn0KCi5zd2lmdCAuY29tbWVudOKAkGtleXdvcmQgewogICAgZm9udC13ZWlnaHQ6IGJvbGQ7Cn0KCi5zd2lmdCAudXJsOmxpbmssIC5zd2lmdCAudXJsOnZpc2l0ZWQgewogICAgdGV4dC1kZWNvcmF0aW9uOiBub25lOwp9Ci5zd2lmdCAudXJsOmhvdmVyIHsKICAgIHRleHQtZGVjb3JhdGlvbjogdW5kZXJsaW5lOwp9Cg==")!, encoding: String.Encoding.utf8)!
    static let xctest = Data(base64Encoded: "b3BlbiBjbGFzcyBYQ1ROU05vdGlmaWNhdGlvbkV4cGVjdGF0aW9uIHsKICAgIHB1YmxpYyBpbml0KG5hbWUgbm90aWZpY2F0aW9uTmFtZTogTm90aWZpY2F0aW9uLk5hbWUsIG9iamVjdDogQW55PyA9IHgsIG5vdGlmaWNhdGlvbkNlbnRlcjogTm90aWZpY2F0aW9uQ2VudGVyID0geCwgZmlsZTogU3RhdGljU3RyaW5nID0geCwgbGluZTogSW50ID0geCkge30KICAgIG9wZW4gdmFyIGhhbmRsZXI6IEhhbmRsZXI/IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBub3RpZmljYXRpb25DZW50ZXI6IE5vdGlmaWNhdGlvbkNlbnRlciB7IGdldCB9CiAgICBvcGVuIHZhciBub3RpZmljYXRpb25OYW1lOiBOb3RpZmljYXRpb24uTmFtZSB7IGdldCB9CiAgICBvcGVuIHZhciBvYnNlcnZlZE9iamVjdDogQW55PyB7IGdldCB9Cn0Kb3BlbiBjbGFzcyBYQ1ROU1ByZWRpY2F0ZUV4cGVjdGF0aW9uIHsKICAgIHB1YmxpYyBpbml0KHByZWRpY2F0ZTogTlNQcmVkaWNhdGUsIG9iamVjdDogQW55PyA9IHgsIGZpbGU6IFN0YXRpY1N0cmluZyA9IHgsIGxpbmU6IEludCA9IHgpIHt9CiAgICBvcGVuIHZhciBoYW5kbGVyOiBIYW5kbGVyPyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgb2JqZWN0OiBBbnk/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHByZWRpY2F0ZTogTlNQcmVkaWNhdGUgeyBnZXQgfQp9Cm9wZW4gY2xhc3MgWENUV2FpdGVyIHsKICAgIG9wZW4gY2xhc3MgZnVuYyB3YWl0KGZvciBleHBlY3RhdGlvbnM6IFtYQ1Rlc3RFeHBlY3RhdGlvbl0sIHRpbWVvdXQ6IFRpbWVJbnRlcnZhbCwgZW5mb3JjZU9yZGVyOiBCb29sID0geCwgZmlsZTogU3RhdGljU3RyaW5nID0geCwgbGluZTogSW50ID0geCkgLT4gUmVzdWx0IHt9CiAgICBwdWJsaWMgaW5pdChkZWxlZ2F0ZTogWENUV2FpdGVyRGVsZWdhdGU/ID0geCkge30KICAgIG9wZW4gdmFyIGRlbGVnYXRlOiBYQ1RXYWl0ZXJEZWxlZ2F0ZT8geyBnZXQgc2V0IH0KICAgIHB1YmxpYyB2YXIgZGVzY3JpcHRpb246IFN0cmluZyB7IGdldCB9CiAgICBvcGVuIHZhciBmdWxmaWxsZWRFeHBlY3RhdGlvbnM6IFtYQ1Rlc3RFeHBlY3RhdGlvbl0geyBnZXQgfQogICAgcHVibGljIGZ1bmMgPT0obGhzOiBYQ1RXYWl0ZXIsIHJoczogWENUV2FpdGVyKSAtPiBCb29sIHt9CiAgICBAZGlzY2FyZGFibGVSZXN1bHQgb3BlbiBmdW5jIHdhaXQoZm9yIGV4cGVjdGF0aW9uczogW1hDVGVzdEV4cGVjdGF0aW9uXSwgdGltZW91dDogVGltZUludGVydmFsLCBlbmZvcmNlT3JkZXI6IEJvb2wgPSB4LCBmaWxlOiBTdGF0aWNTdHJpbmcgPSB4LCBsaW5lOiBJbnQgPSB4KSAtPiBSZXN1bHQge30KfQpvcGVuIGNsYXNzIFhDVGVzdCB7CiAgICBwdWJsaWMgaW5pdCgpIHt9CiAgICBvcGVuIHZhciBuYW1lOiBTdHJpbmcgeyBnZXQgfQogICAgb3BlbiB2YXIgdGVzdENhc2VDb3VudDogSW50IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHRlc3RSdW46IFhDVGVzdFJ1bj8geyBnZXQgfQogICAgb3BlbiB2YXIgdGVzdFJ1bkNsYXNzOiBBbnlDbGFzcz8geyBnZXQgfQogICAgb3BlbiBmdW5jIHBlcmZvcm0oXyBydW46IFhDVGVzdFJ1bikge30KICAgIG9wZW4gZnVuYyBydW4oKSB7fQogICAgb3BlbiBmdW5jIHNldFVwKCkge30KICAgIG9wZW4gZnVuYyB0ZWFyRG93bigpIHt9Cn0Kb3BlbiBjbGFzcyBYQ1Rlc3RDYXNlIHsKICAgIG9wZW4gY2xhc3MgZnVuYyBzZXRVcCgpIHt9CiAgICBvcGVuIGNsYXNzIGZ1bmMgdGVhckRvd24oKSB7fQogICAgcHVibGljIHJlcXVpcmVkIGluaXQobmFtZTogU3RyaW5nLCB0ZXN0Q2xvc3VyZTogQGVzY2FwaW5nIFhDVGVzdENhc2VDbG9zdXJlKSB7fQogICAgb3BlbiB2YXIgY29udGludWVBZnRlckZhaWx1cmU6IEJvb2wgeyBnZXQgc2V0IH0KICAgIG9wZW4gZnVuYyBpbnZva2VUZXN0KCkge30KICAgIG9wZW4gZnVuYyByZWNvcmRGYWlsdXJlKHdpdGhEZXNjcmlwdGlvbiBkZXNjcmlwdGlvbjogU3RyaW5nLCBpbkZpbGUgZmlsZVBhdGg6IFN0cmluZywgYXRMaW5lIGxpbmVOdW1iZXI6IEludCwgZXhwZWN0ZWQ6IEJvb2wpIHt9Cn0Kb3BlbiBjbGFzcyBYQ1Rlc3RDYXNlUnVuIHsKICAgIG9wZW4gZnVuYyByZWNvcmRGYWlsdXJlKHdpdGhEZXNjcmlwdGlvbiBkZXNjcmlwdGlvbjogU3RyaW5nLCBpbkZpbGUgZmlsZVBhdGg6IFN0cmluZz8sIGF0TGluZSBsaW5lTnVtYmVyOiBJbnQsIGV4cGVjdGVkOiBCb29sKSB7fQp9Cm9wZW4gY2xhc3MgWENUZXN0RXhwZWN0YXRpb24gewogICAgcHVibGljIGluaXQoZGVzY3JpcHRpb246IFN0cmluZyA9IHgsIGZpbGU6IFN0YXRpY1N0cmluZyA9IHgsIGxpbmU6IEludCA9IHgpIHt9CiAgICBvcGVuIHZhciBhc3NlcnRGb3JPdmVyRnVsZmlsbDogQm9vbCB7IGdldCBzZXQgfQogICAgcHVibGljIHZhciBkZXNjcmlwdGlvbjogU3RyaW5nIHsgZ2V0IH0KICAgIG9wZW4gdmFyIGV4cGVjdGF0aW9uRGVzY3JpcHRpb246IFN0cmluZyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgZXhwZWN0ZWRGdWxmaWxsbWVudENvdW50OiBJbnQgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGlzSW52ZXJ0ZWQ6IEJvb2wgeyBnZXQgc2V0IH0KICAgIHB1YmxpYyBmdW5jID09KGxoczogWENUZXN0RXhwZWN0YXRpb24sIHJoczogWENUZXN0RXhwZWN0YXRpb24pIC0+IEJvb2wge30KICAgIG9wZW4gZnVuYyBmdWxmaWxsKF8gZmlsZTogU3RhdGljU3RyaW5nID0geCwgbGluZTogSW50ID0geCkge30KICAgIHB1YmxpYyBmdW5jIGhhc2goaW50byBoYXNoZXI6IGlub3V0IEhhc2hlcikge30KfQpvcGVuIGNsYXNzIFhDVGVzdFJ1biB7CiAgICBwdWJsaWMgcmVxdWlyZWQgaW5pdCh0ZXN0OiBYQ1Rlc3QpIHt9CiAgICBvcGVuIHZhciBleGVjdXRpb25Db3VudDogSW50IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGZhaWx1cmVDb3VudDogSW50IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGhhc1N1Y2NlZWRlZDogQm9vbCB7IGdldCB9CiAgICBvcGVuIHZhciBzdGFydERhdGU6IERhdGU/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHN0b3BEYXRlOiBEYXRlPyB7IGdldCB9CiAgICBwdWJsaWMgdmFyIHRlc3Q6IFhDVGVzdCB7IGdldCB9CiAgICBvcGVuIHZhciB0ZXN0Q2FzZUNvdW50OiBJbnQgeyBnZXQgfQogICAgb3BlbiB2YXIgdGVzdER1cmF0aW9uOiBUaW1lSW50ZXJ2YWwgeyBnZXQgfQogICAgb3BlbiB2YXIgdG90YWxEdXJhdGlvbjogVGltZUludGVydmFsIHsgZ2V0IH0KICAgIG9wZW4gdmFyIHRvdGFsRmFpbHVyZUNvdW50OiBJbnQgeyBnZXQgfQogICAgb3BlbiB2YXIgdW5leHBlY3RlZEV4Y2VwdGlvbkNvdW50OiBJbnQgeyBnZXQgfQogICAgb3BlbiBmdW5jIHN0YXJ0KCkge30KICAgIG9wZW4gZnVuYyBzdG9wKCkge30KfQpvcGVuIGNsYXNzIFhDVGVzdFN1aXRlIHsKICAgIHB1YmxpYyBpbml0KG5hbWU6IFN0cmluZykge30KICAgIG9wZW4gdmFyIHRlc3RzIHsgZ2V0IH0KICAgIG9wZW4gZnVuYyBhZGRUZXN0KF8gdGVzdDogWENUZXN0KSB7fQp9Cm9wZW4gY2xhc3MgWENUZXN0U3VpdGVSdW4gewogICAgb3BlbiB2YXIgdGVzdFJ1bnMgeyBnZXQgfQogICAgb3BlbiBmdW5jIGFkZFRlc3RSdW4oXyB0ZXN0UnVuOiBYQ1Rlc3RSdW4pIHt9Cn0KcHVibGljIHByb3RvY29sIFhDVFdhaXRlckRlbGVnYXRlIHsKICAgIHB1YmxpYyBmdW5jIG5lc3RlZFdhaXRlcihfIHdhaXRlcjogWENUV2FpdGVyLCB3YXNJbnRlcnJ1cHRlZEJ5VGltZWRPdXRXYWl0ZXIgb3V0ZXJXYWl0ZXI6IFhDVFdhaXRlcikge30KICAgIHB1YmxpYyBmdW5jIHdhaXRlcihfIHdhaXRlcjogWENUV2FpdGVyLCBkaWRGdWxmaWxsSW52ZXJ0ZWRFeHBlY3RhdGlvbiBleHBlY3RhdGlvbjogWENUZXN0RXhwZWN0YXRpb24pIHt9CiAgICBwdWJsaWMgZnVuYyB3YWl0ZXIoXyB3YWl0ZXI6IFhDVFdhaXRlciwgZGlkVGltZW91dFdpdGhVbmZ1bGZpbGxlZEV4cGVjdGF0aW9ucyB1bmZ1bGZpbGxlZEV4cGVjdGF0aW9uczogW1hDVGVzdEV4cGVjdGF0aW9uXSkge30KICAgIHB1YmxpYyBmdW5jIHdhaXRlcihfIHdhaXRlcjogWENUV2FpdGVyLCBmdWxmaWxsbWVudERpZFZpb2xhdGVPcmRlcmluZ0NvbnN0cmFpbnRzRm9yIGV4cGVjdGF0aW9uOiBYQ1Rlc3RFeHBlY3RhdGlvbiwgcmVxdWlyZWRFeHBlY3RhdGlvbjogWENUZXN0RXhwZWN0YXRpb24pIHt9Cn0KcHVibGljIHByb3RvY29sIFhDVGVzdE9ic2VydmF0aW9uIHsKICAgIHB1YmxpYyBmdW5jIHRlc3RCdW5kbGVEaWRGaW5pc2goXyB0ZXN0QnVuZGxlOiBCdW5kbGUpIHt9CiAgICBwdWJsaWMgZnVuYyB0ZXN0QnVuZGxlV2lsbFN0YXJ0KF8gdGVzdEJ1bmRsZTogQnVuZGxlKSB7fQogICAgcHVibGljIGZ1bmMgdGVzdENhc2UoXyB0ZXN0Q2FzZTogWENUZXN0Q2FzZSwgZGlkRmFpbFdpdGhEZXNjcmlwdGlvbiBkZXNjcmlwdGlvbjogU3RyaW5nLCBpbkZpbGUgZmlsZVBhdGg6IFN0cmluZz8sIGF0TGluZSBsaW5lTnVtYmVyOiBJbnQpIHt9CiAgICBwdWJsaWMgZnVuYyB0ZXN0Q2FzZURpZEZpbmlzaChfIHRlc3RDYXNlOiBYQ1Rlc3RDYXNlKSB7fQogICAgcHVibGljIGZ1bmMgdGVzdENhc2VXaWxsU3RhcnQoXyB0ZXN0Q2FzZTogWENUZXN0Q2FzZSkge30KICAgIHB1YmxpYyBmdW5jIHRlc3RTdWl0ZURpZEZpbmlzaChfIHRlc3RTdWl0ZTogWENUZXN0U3VpdGUpIHt9CiAgICBwdWJsaWMgZnVuYyB0ZXN0U3VpdGVXaWxsU3RhcnQoXyB0ZXN0U3VpdGU6IFhDVGVzdFN1aXRlKSB7fQp9")!

}
