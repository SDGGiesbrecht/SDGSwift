/*
 Resources.swift

 This source file is part of the SDGSwift open source project.
 https://sdggiesbrecht.github.io/SDGSwift

 Copyright ©2018–2020 Jeremy David Giesbrecht and the SDGSwift project contributors.

 Soli Deo gloria.

 Licensed under the Apache Licence, Version 2.0.
 See http://www.apache.org/licenses/LICENSE-2.0 for licence information.
 */

import Foundation

internal enum Resources {}
internal typealias Ressourcen = Resources

extension Resources {
  enum CoreLibraries {
    static let dispatch = String(
      data: Data(
        base64Encoded:
          "cHVibGljIHByb3RvY29sIERpc3BhdGNoU291cmNlRmlsZVN5c3RlbU9iamVjdCA6IERpc3BhdGNoU291cmNlUHJvdG9jb2wgewojaWYgIW9zKExpbnV4KSAmJiAhb3MoQW5kcm9pZCkgJiYgIW9zKFdpbmRvd3MpCiAgICB2YXIgZGF0YTogRGlzcGF0Y2hTb3VyY2UuRmlsZVN5c3RlbUV2ZW50IHsgZ2V0IH0KI2VuZGlmCiNpZiAhb3MoTGludXgpICYmICFvcyhBbmRyb2lkKSAmJiAhb3MoV2luZG93cykKICAgIHZhciBoYW5kbGU6IEludDMyIHsgZ2V0IH0KI2VuZGlmCiNpZiAhb3MoTGludXgpICYmICFvcyhBbmRyb2lkKSAmJiAhb3MoV2luZG93cykKICAgIHZhciBtYXNrOiBEaXNwYXRjaFNvdXJjZS5GaWxlU3lzdGVtRXZlbnQgeyBnZXQgfQojZW5kaWYKfQpwdWJsaWMgcHJvdG9jb2wgRGlzcGF0Y2hTb3VyY2VNYWNoUmVjZWl2ZSA6IERpc3BhdGNoU291cmNlUHJvdG9jb2wgewojaWYgSEFWRV9NQUNICiAgICB2YXIgaGFuZGxlOiBtYWNoX3BvcnRfdCB7IGdldCB9CiNlbmRpZgp9CnB1YmxpYyBwcm90b2NvbCBEaXNwYXRjaFNvdXJjZU1hY2hTZW5kIDogRGlzcGF0Y2hTb3VyY2VQcm90b2NvbCB7CiNpZiBIQVZFX01BQ0gKICAgIHZhciBkYXRhOiBEaXNwYXRjaFNvdXJjZS5NYWNoU2VuZEV2ZW50IHsgZ2V0IH0KI2VuZGlmCiNpZiBIQVZFX01BQ0gKICAgIHZhciBoYW5kbGU6IG1hY2hfcG9ydF90IHsgZ2V0IH0KI2VuZGlmCiNpZiBIQVZFX01BQ0gKICAgIHZhciBtYXNrOiBEaXNwYXRjaFNvdXJjZS5NYWNoU2VuZEV2ZW50IHsgZ2V0IH0KI2VuZGlmCn0KcHVibGljIHByb3RvY29sIERpc3BhdGNoU291cmNlTWVtb3J5UHJlc3N1cmUgOiBEaXNwYXRjaFNvdXJjZVByb3RvY29sIHsKI2lmIEhBVkVfTUFDSAogICAgdmFyIGRhdGE6IERpc3BhdGNoU291cmNlLk1lbW9yeVByZXNzdXJlRXZlbnQgeyBnZXQgfQojZW5kaWYKI2lmIEhBVkVfTUFDSAogICAgdmFyIG1hc2s6IERpc3BhdGNoU291cmNlLk1lbW9yeVByZXNzdXJlRXZlbnQgeyBnZXQgfQojZW5kaWYKfQpwdWJsaWMgcHJvdG9jb2wgRGlzcGF0Y2hTb3VyY2VQcm9jZXNzIDogRGlzcGF0Y2hTb3VyY2VQcm90b2NvbCB7CiNpZiAhb3MoTGludXgpICYmICFvcyhBbmRyb2lkKSAmJiAhb3MoV2luZG93cykKICAgIHZhciBkYXRhOiBEaXNwYXRjaFNvdXJjZS5Qcm9jZXNzRXZlbnQgeyBnZXQgfQojZW5kaWYKI2lmICFvcyhMaW51eCkgJiYgIW9zKEFuZHJvaWQpICYmICFvcyhXaW5kb3dzKQogICAgdmFyIGhhbmRsZTogcGlkX3QgeyBnZXQgfQojZW5kaWYKI2lmICFvcyhMaW51eCkgJiYgIW9zKEFuZHJvaWQpICYmICFvcyhXaW5kb3dzKQogICAgdmFyIG1hc2s6IERpc3BhdGNoU291cmNlLlByb2Nlc3NFdmVudCB7IGdldCB9CiNlbmRpZgp9CnB1YmxpYyBwcm90b2NvbCBEaXNwYXRjaFNvdXJjZVByb3RvY29sIHsKICAgIHZhciBkYXRhOiBVSW50IHsgZ2V0IH0KICAgIHZhciBoYW5kbGU6IFVJbnQgeyBnZXQgfQogICAgdmFyIGlzQ2FuY2VsbGVkOiBCb29sIHsgZ2V0IH0KICAgIHZhciBtYXNrOiBVSW50IHsgZ2V0IH0KICAgIEBhdmFpbGFibGUobWFjT1MgMTAuMTIsIGlPUyAxMC4wLCB0dk9TIDEwLjAsIHdhdGNoT1MgMy4wLCAqKSBmdW5jIGFjdGl2YXRlKCkKICAgIGZ1bmMgY2FuY2VsKCkKICAgIGZ1bmMgcmVzdW1lKCkKICAgIEBhdmFpbGFibGUobWFjT1MgMTAuMTAsIGlPUyA4LjAsICopIGZ1bmMgc2V0Q2FuY2VsSGFuZGxlcihoYW5kbGVyOiBEaXNwYXRjaFdvcmtJdGVtKQogICAgZnVuYyBzZXRDYW5jZWxIYW5kbGVyKHFvczogRGlzcGF0Y2hRb1MgPSB4LCBmbGFnczogRGlzcGF0Y2hXb3JrSXRlbUZsYWdzID0geCwgaGFuZGxlcjogRGlzcGF0Y2hTb3VyY2VIYW5kbGVyPykKICAgIEBhdmFpbGFibGUobWFjT1MgMTAuMTAsIGlPUyA4LjAsICopIGZ1bmMgc2V0RXZlbnRIYW5kbGVyKGhhbmRsZXI6IERpc3BhdGNoV29ya0l0ZW0pCiAgICBmdW5jIHNldEV2ZW50SGFuZGxlcihxb3M6IERpc3BhdGNoUW9TID0geCwgZmxhZ3M6IERpc3BhdGNoV29ya0l0ZW1GbGFncyA9IHgsIGhhbmRsZXI6IERpc3BhdGNoU291cmNlSGFuZGxlcj8pCiAgICBAYXZhaWxhYmxlKG1hY09TIDEwLjEwLCBpT1MgOC4wLCAqKSBmdW5jIHNldFJlZ2lzdHJhdGlvbkhhbmRsZXIoaGFuZGxlcjogRGlzcGF0Y2hXb3JrSXRlbSkKICAgIGZ1bmMgc2V0UmVnaXN0cmF0aW9uSGFuZGxlcihxb3M6IERpc3BhdGNoUW9TID0geCwgZmxhZ3M6IERpc3BhdGNoV29ya0l0ZW1GbGFncyA9IHgsIGhhbmRsZXI6IERpc3BhdGNoU291cmNlSGFuZGxlcj8pCiAgICBmdW5jIHN1c3BlbmQoKQp9CnB1YmxpYyBwcm90b2NvbCBEaXNwYXRjaFNvdXJjZVJlYWQgOiBEaXNwYXRjaFNvdXJjZVByb3RvY29sIHsKfQpwdWJsaWMgcHJvdG9jb2wgRGlzcGF0Y2hTb3VyY2VTaWduYWwgOiBEaXNwYXRjaFNvdXJjZVByb3RvY29sIHsKfQpwdWJsaWMgcHJvdG9jb2wgRGlzcGF0Y2hTb3VyY2VUaW1lciA6IERpc3BhdGNoU291cmNlUHJvdG9jb2wgewogICAgQGF2YWlsYWJsZShzd2lmdCwgaW50cm9kdWNlZDogNCkgZnVuYyBzY2hlZHVsZShkZWFkbGluZTogRGlzcGF0Y2hUaW1lLCByZXBlYXRpbmcgaW50ZXJ2YWw6IERpc3BhdGNoVGltZUludGVydmFsID0geCwgbGVld2F5OiBEaXNwYXRjaFRpbWVJbnRlcnZhbCA9IHgpCiAgICBAYXZhaWxhYmxlKHN3aWZ0LCBpbnRyb2R1Y2VkOiA0KSBmdW5jIHNjaGVkdWxlKGRlYWRsaW5lOiBEaXNwYXRjaFRpbWUsIHJlcGVhdGluZyBpbnRlcnZhbDogRG91YmxlLCBsZWV3YXk6IERpc3BhdGNoVGltZUludGVydmFsID0geCkKICAgIEBhdmFpbGFibGUoc3dpZnQsIGludHJvZHVjZWQ6IDQpIGZ1bmMgc2NoZWR1bGUod2FsbERlYWRsaW5lOiBEaXNwYXRjaFdhbGxUaW1lLCByZXBlYXRpbmcgaW50ZXJ2YWw6IERpc3BhdGNoVGltZUludGVydmFsID0geCwgbGVld2F5OiBEaXNwYXRjaFRpbWVJbnRlcnZhbCA9IHgpCiAgICBAYXZhaWxhYmxlKHN3aWZ0LCBpbnRyb2R1Y2VkOiA0KSBmdW5jIHNjaGVkdWxlKHdhbGxEZWFkbGluZTogRGlzcGF0Y2hXYWxsVGltZSwgcmVwZWF0aW5nIGludGVydmFsOiBEb3VibGUsIGxlZXdheTogRGlzcGF0Y2hUaW1lSW50ZXJ2YWwgPSB4KQogICAgZnVuYyBzY2hlZHVsZU9uZXNob3QoZGVhZGxpbmU6IERpc3BhdGNoVGltZSwgbGVld2F5OiBEaXNwYXRjaFRpbWVJbnRlcnZhbCkKICAgIGZ1bmMgc2NoZWR1bGVPbmVzaG90KHdhbGxEZWFkbGluZTogRGlzcGF0Y2hXYWxsVGltZSwgbGVld2F5OiBEaXNwYXRjaFRpbWVJbnRlcnZhbCkKICAgIGZ1bmMgc2NoZWR1bGVSZXBlYXRpbmcoZGVhZGxpbmU6IERpc3BhdGNoVGltZSwgaW50ZXJ2YWw6IERpc3BhdGNoVGltZUludGVydmFsLCBsZWV3YXk6IERpc3BhdGNoVGltZUludGVydmFsKQogICAgZnVuYyBzY2hlZHVsZVJlcGVhdGluZyh3YWxsRGVhZGxpbmU6IERpc3BhdGNoV2FsbFRpbWUsIGludGVydmFsOiBEaXNwYXRjaFRpbWVJbnRlcnZhbCwgbGVld2F5OiBEaXNwYXRjaFRpbWVJbnRlcnZhbCkKfQpwdWJsaWMgcHJvdG9jb2wgRGlzcGF0Y2hTb3VyY2VVc2VyRGF0YUFkZCA6IERpc3BhdGNoU291cmNlUHJvdG9jb2wgewogICAgZnVuYyBhZGQoZGF0YTogVUludCkKfQpwdWJsaWMgcHJvdG9jb2wgRGlzcGF0Y2hTb3VyY2VVc2VyRGF0YU9yIDogRGlzcGF0Y2hTb3VyY2VQcm90b2NvbCB7CiAgICBmdW5jIG9yKGRhdGE6IFVJbnQpCn0KcHVibGljIHByb3RvY29sIERpc3BhdGNoU291cmNlVXNlckRhdGFSZXBsYWNlIDogRGlzcGF0Y2hTb3VyY2VQcm90b2NvbCB7CiAgICBmdW5jIHJlcGxhY2UoZGF0YTogVUludCkKfQpwdWJsaWMgcHJvdG9jb2wgRGlzcGF0Y2hTb3VyY2VXcml0ZSA6IERpc3BhdGNoU291cmNlUHJvdG9jb2wgewp9"
      )!,
      encoding: String.Encoding.utf8
    )!
    static let foundation = String(
      data: Data(
        base64Encoded:
          "b3BlbiBjbGFzcyBCbG9ja09wZXJhdGlvbiA6IEFueU9iamVjdCwgQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBPcGVyYXRpb24gewogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQoYmxvY2s6IEBlc2NhcGluZyAoKSAtPiBWb2lkKSB7fQogICAgb3BlbiB2YXIgZXhlY3V0aW9uQmxvY2tzOiBbKCkgLT4gVm9pZF0geyBnZXQgfQogICAgb3BlbiBmdW5jIGFkZEV4ZWN1dGlvbkJsb2NrKF8gYmxvY2s6IEBlc2NhcGluZyAoKSAtPiBWb2lkKSB7fQp9Cm9wZW4gY2xhc3MgQnVuZGxlIDogQW55T2JqZWN0LCBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wgewogICAgb3BlbiBjbGFzcyB2YXIgYWxsQnVuZGxlczogW0J1bmRsZV0geyBnZXQgfQogICAgb3BlbiBjbGFzcyB2YXIgYWxsRnJhbWV3b3JrczogW0J1bmRsZV0geyBnZXQgfQogICAgb3BlbiBjbGFzcyB2YXIgbWFpbjogQnVuZGxlIHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgZnVuYyBwYXRoKGZvclJlc291cmNlIG5hbWU6IFN0cmluZz8sIG9mVHlwZSBleHQ6IFN0cmluZz8sIGluRGlyZWN0b3J5IGJ1bmRsZVBhdGg6IFN0cmluZykgLT4gU3RyaW5nPyB7fQogICAgb3BlbiBjbGFzcyBmdW5jIHBhdGhzKGZvclJlc291cmNlc09mVHlwZSBleHQ6IFN0cmluZz8sIGluRGlyZWN0b3J5IGJ1bmRsZVBhdGg6IFN0cmluZykgLT4gW1N0cmluZ10ge30KICAgIG9wZW4gY2xhc3MgZnVuYyBwcmVmZXJyZWRMb2NhbGl6YXRpb25zKGZyb20gbG9jYWxpemF0aW9uc0FycmF5OiBbU3RyaW5nXSkgLT4gW1N0cmluZ10ge30KICAgIG9wZW4gY2xhc3MgZnVuYyBwcmVmZXJyZWRMb2NhbGl6YXRpb25zKGZyb20gbG9jYWxpemF0aW9uc0FycmF5OiBbU3RyaW5nXSwgZm9yUHJlZmVyZW5jZXMgcHJlZmVyZW5jZXNBcnJheTogW1N0cmluZ10/KSAtPiBbU3RyaW5nXSB7fQogICAgb3BlbiBjbGFzcyBmdW5jIHVybChmb3JSZXNvdXJjZSBuYW1lOiBTdHJpbmc/LCB3aXRoRXh0ZW5zaW9uIGV4dDogU3RyaW5nPywgc3ViZGlyZWN0b3J5IHN1YnBhdGg6IFN0cmluZz8sIGluIGJ1bmRsZVVSTDogVVJMKSAtPiBVUkw/IHt9CiAgICBvcGVuIGNsYXNzIGZ1bmMgdXJscyhmb3JSZXNvdXJjZXNXaXRoRXh0ZW5zaW9uIGV4dDogU3RyaW5nPywgc3ViZGlyZWN0b3J5IHN1YnBhdGg6IFN0cmluZz8sIGluIGJ1bmRsZVVSTDogTlNVUkwpIC0+IFtOU1VSTF0/IHt9CiNpZiAhKG9zKFdpbmRvd3MpKQogICAgcHVibGljIGluaXQoZm9yIGFDbGFzczogQW55Q2xhc3MpIHt9CiNlbmRpZgogICAgcHVibGljIGluaXQ/KGlkZW50aWZpZXI6IFN0cmluZykge30KICAgIHB1YmxpYyBpbml0PyhwYXRoOiBTdHJpbmcpIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdD8odXJsOiBVUkwpIHt9CiAgICBvcGVuIHZhciBhcHBTdG9yZVJlY2VpcHRVUkw6IFVSTD8geyBnZXQgfQogICAgb3BlbiB2YXIgYnVpbHRJblBsdWdJbnNQYXRoOiBTdHJpbmc/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGJ1aWx0SW5QbHVnSW5zVVJMOiBVUkw/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGJ1bmRsZUlkZW50aWZpZXI6IFN0cmluZz8geyBnZXQgfQogICAgb3BlbiB2YXIgYnVuZGxlUGF0aDogU3RyaW5nIHsgZ2V0IH0KICAgIG9wZW4gdmFyIGJ1bmRsZVVSTDogVVJMIHsgZ2V0IH0KICAgIG9wZW4gdmFyIGRldmVsb3BtZW50TG9jYWxpemF0aW9uOiBTdHJpbmc/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGV4ZWN1dGFibGVBcmNoaXRlY3R1cmVzOiBbTlNOdW1iZXJdPyB7IGdldCB9CiAgICBvcGVuIHZhciBleGVjdXRhYmxlUGF0aDogU3RyaW5nPyB7IGdldCB9CiAgICBvcGVuIHZhciBleGVjdXRhYmxlVVJMOiBVUkw/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGluZm9EaWN0aW9uYXJ5OiBbU3RyaW5nOiBBbnldPyB7IGdldCB9CiAgICBvcGVuIHZhciBpc0xvYWRlZDogQm9vbCB7IGdldCB9CiAgICBvcGVuIHZhciBsb2NhbGl6YXRpb25zOiBbU3RyaW5nXSB7IGdldCB9CiAgICBvcGVuIHZhciBsb2NhbGl6ZWRJbmZvRGljdGlvbmFyeTogW1N0cmluZzogQW55XT8geyBnZXQgfQogICAgb3BlbiB2YXIgcHJlZmVycmVkTG9jYWxpemF0aW9uczogW1N0cmluZ10geyBnZXQgfQogICAgb3BlbiB2YXIgcHJpbmNpcGFsQ2xhc3M6IEFueUNsYXNzPyB7IGdldCB9CiAgICBvcGVuIHZhciBwcml2YXRlRnJhbWV3b3Jrc1BhdGg6IFN0cmluZz8geyBnZXQgfQogICAgb3BlbiB2YXIgcHJpdmF0ZUZyYW1ld29ya3NVUkw6IFVSTD8geyBnZXQgfQogICAgb3BlbiB2YXIgcmVzb3VyY2VQYXRoOiBTdHJpbmc/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHJlc291cmNlVVJMOiBVUkw/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHNoYXJlZEZyYW1ld29ya3NQYXRoOiBTdHJpbmc/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHNoYXJlZEZyYW1ld29ya3NVUkw6IFVSTD8geyBnZXQgfQogICAgb3BlbiB2YXIgc2hhcmVkU3VwcG9ydFBhdGg6IFN0cmluZz8geyBnZXQgfQogICAgb3BlbiB2YXIgc2hhcmVkU3VwcG9ydFVSTDogVVJMPyB7IGdldCB9CiAgICBvcGVuIGZ1bmMgY2xhc3NOYW1lZChfIGNsYXNzTmFtZTogU3RyaW5nKSAtPiBBbnlDbGFzcz8ge30KICAgIG9wZW4gZnVuYyBsb2FkKCkgLT4gQm9vbCB7fQogICAgb3BlbiBmdW5jIGxvYWRBbmRSZXR1cm5FcnJvcigpIHRocm93cyB7fQogICAgb3BlbiBmdW5jIGxvY2FsaXplZFN0cmluZyhmb3JLZXkga2V5OiBTdHJpbmcsIHZhbHVlOiBTdHJpbmc/LCB0YWJsZSB0YWJsZU5hbWU6IFN0cmluZz8pIC0+IFN0cmluZyB7fQogICAgb3BlbiBmdW5jIG9iamVjdChmb3JJbmZvRGljdGlvbmFyeUtleSBrZXk6IFN0cmluZykgLT4gQW55PyB7fQogICAgb3BlbiBmdW5jIHBhdGgoZm9yQXV4aWxpYXJ5RXhlY3V0YWJsZSBleGVjdXRhYmxlTmFtZTogU3RyaW5nKSAtPiBTdHJpbmc/IHt9CiAgICBvcGVuIGZ1bmMgcGF0aChmb3JSZXNvdXJjZSBuYW1lOiBTdHJpbmc/LCBvZlR5cGUgZXh0OiBTdHJpbmc/KSAtPiBTdHJpbmc/IHt9CiAgICBvcGVuIGZ1bmMgcGF0aChmb3JSZXNvdXJjZSBuYW1lOiBTdHJpbmc/LCBvZlR5cGUgZXh0OiBTdHJpbmc/LCBpbkRpcmVjdG9yeSBzdWJwYXRoOiBTdHJpbmc/KSAtPiBTdHJpbmc/IHt9CiAgICBvcGVuIGZ1bmMgcGF0aChmb3JSZXNvdXJjZSBuYW1lOiBTdHJpbmc/LCBvZlR5cGUgZXh0OiBTdHJpbmc/LCBpbkRpcmVjdG9yeSBzdWJwYXRoOiBTdHJpbmc/LCBmb3JMb2NhbGl6YXRpb24gbG9jYWxpemF0aW9uTmFtZTogU3RyaW5nPykgLT4gU3RyaW5nPyB7fQogICAgb3BlbiBmdW5jIHBhdGhzKGZvclJlc291cmNlc09mVHlwZSBleHQ6IFN0cmluZz8sIGluRGlyZWN0b3J5IHN1YnBhdGg6IFN0cmluZz8pIC0+IFtTdHJpbmddIHt9CiAgICBvcGVuIGZ1bmMgcGF0aHMoZm9yUmVzb3VyY2VzT2ZUeXBlIGV4dDogU3RyaW5nPywgaW5EaXJlY3Rvcnkgc3VicGF0aDogU3RyaW5nPywgZm9yTG9jYWxpemF0aW9uIGxvY2FsaXphdGlvbk5hbWU6IFN0cmluZz8pIC0+IFtTdHJpbmddIHt9CiAgICBvcGVuIGZ1bmMgcHJlZmxpZ2h0KCkgdGhyb3dzIHt9CiAgICBvcGVuIGZ1bmMgdXJsKGZvckF1eGlsaWFyeUV4ZWN1dGFibGUgZXhlY3V0YWJsZU5hbWU6IFN0cmluZykgLT4gVVJMPyB7fQogICAgb3BlbiBmdW5jIHVybChmb3JSZXNvdXJjZSBuYW1lOiBTdHJpbmc/LCB3aXRoRXh0ZW5zaW9uIGV4dDogU3RyaW5nPykgLT4gVVJMPyB7fQogICAgb3BlbiBmdW5jIHVybChmb3JSZXNvdXJjZSBuYW1lOiBTdHJpbmc/LCB3aXRoRXh0ZW5zaW9uIGV4dDogU3RyaW5nPywgc3ViZGlyZWN0b3J5IHN1YnBhdGg6IFN0cmluZz8pIC0+IFVSTD8ge30KICAgIG9wZW4gZnVuYyB1cmwoZm9yUmVzb3VyY2UgbmFtZTogU3RyaW5nPywgd2l0aEV4dGVuc2lvbiBleHQ6IFN0cmluZz8sIHN1YmRpcmVjdG9yeSBzdWJwYXRoOiBTdHJpbmc/LCBsb2NhbGl6YXRpb24gbG9jYWxpemF0aW9uTmFtZTogU3RyaW5nPykgLT4gVVJMPyB7fQogICAgb3BlbiBmdW5jIHVybHMoZm9yUmVzb3VyY2VzV2l0aEV4dGVuc2lvbiBleHQ6IFN0cmluZz8sIHN1YmRpcmVjdG9yeSBzdWJwYXRoOiBTdHJpbmc/KSAtPiBbTlNVUkxdPyB7fQogICAgb3BlbiBmdW5jIHVybHMoZm9yUmVzb3VyY2VzV2l0aEV4dGVuc2lvbiBleHQ6IFN0cmluZz8sIHN1YmRpcmVjdG9yeSBzdWJwYXRoOiBTdHJpbmc/LCBsb2NhbGl6YXRpb24gbG9jYWxpemF0aW9uTmFtZTogU3RyaW5nPykgLT4gW05TVVJMXT8ge30KfQpvcGVuIGNsYXNzIEJ5dGVDb3VudEZvcm1hdHRlciA6IEFueU9iamVjdCwgQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgRm9ybWF0dGVyLCBIYXNoYWJsZSwgTlNDb2RpbmcsIE5TQ29weWluZywgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wgewogICAgb3BlbiBjbGFzcyBmdW5jIHN0cmluZyhmcm9tQnl0ZUNvdW50IGJ5dGVDb3VudDogSW50NjQsIGNvdW50U3R5bGU6IEJ5dGVDb3VudEZvcm1hdHRlci5Db3VudFN0eWxlKSAtPiBTdHJpbmcge30KICAgIG9wZW4gdmFyIGFsbG93ZWRVbml0czogVW5pdHMgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGFsbG93c05vbm51bWVyaWNGb3JtYXR0aW5nOiBCb29sIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBjb3VudFN0eWxlOiBDb3VudFN0eWxlIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBmb3JtYXR0aW5nQ29udGV4dDogQ29udGV4dCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgaW5jbHVkZXNBY3R1YWxCeXRlQ291bnQ6IEJvb2wgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGluY2x1ZGVzQ291bnQ6IEJvb2wgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGluY2x1ZGVzVW5pdDogQm9vbCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgaXNBZGFwdGl2ZTogQm9vbCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgemVyb1BhZHNGcmFjdGlvbkRpZ2l0czogQm9vbCB7IGdldCBzZXQgfQogICAgb3BlbiBmdW5jIHN0cmluZyhmcm9tQnl0ZUNvdW50IGJ5dGVDb3VudDogSW50NjQpIC0+IFN0cmluZyB7fQp9Cm9wZW4gY2xhc3MgQ2FjaGVkVVJMUmVzcG9uc2UgOiBBbnlPYmplY3QsIEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU0NvcHlpbmcsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sIHsKICAgIHB1YmxpYyBpbml0KHJlc3BvbnNlOiBVUkxSZXNwb25zZSwgZGF0YTogRGF0YSkge30KICAgIHB1YmxpYyBpbml0KHJlc3BvbnNlOiBVUkxSZXNwb25zZSwgZGF0YTogRGF0YSwgdXNlckluZm86IFtBbnlIYXNoYWJsZTogQW55XT8gPSB4LCBzdG9yYWdlUG9saWN5OiBVUkxDYWNoZS5TdG9yYWdlUG9saWN5KSB7fQogICAgb3BlbiB2YXIgZGF0YTogRGF0YSB7IGdldCB9CiAgICBvcGVuIHZhciByZXNwb25zZTogVVJMUmVzcG9uc2UgeyBnZXQgfQogICAgb3BlbiB2YXIgc3RvcmFnZVBvbGljeTogVVJMQ2FjaGUuU3RvcmFnZVBvbGljeSB7IGdldCB9CiAgICBvcGVuIHZhciB1c2VySW5mbzogW0FueUhhc2hhYmxlOiBBbnldPyB7IGdldCB9Cn0Kb3BlbiBjbGFzcyBEYXRlRm9ybWF0dGVyIDogQW55T2JqZWN0LCBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBGb3JtYXR0ZXIsIEhhc2hhYmxlLCBOU0NvZGluZywgTlNDb3B5aW5nLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCB7CiAgICBvcGVuIGNsYXNzIGZ1bmMgZGF0ZUZvcm1hdChmcm9tVGVtcGxhdGUgdG1wbGF0ZTogU3RyaW5nLCBvcHRpb25zIG9wdHM6IEludCwgbG9jYWxlOiBMb2NhbGU/KSAtPiBTdHJpbmc/IHt9CiAgICBvcGVuIGNsYXNzIGZ1bmMgbG9jYWxpemVkU3RyaW5nKGZyb20gZGF0ZTogRGF0ZSwgZGF0ZVN0eWxlIGRzdHlsZTogU3R5bGUsIHRpbWVTdHlsZSB0c3R5bGU6IFN0eWxlKSAtPiBTdHJpbmcge30KICAgIG9wZW4gdmFyIGFtU3ltYm9sOiBTdHJpbmcgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGNhbGVuZGFyOiBDYWxlbmRhciEgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGRhdGVGb3JtYXQ6IFN0cmluZyEgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGRhdGVTdHlsZTogU3R5bGUgeyBnZXQgfQogICAgb3BlbiB2YXIgZGVmYXVsdERhdGU6IERhdGU/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGRvZXNSZWxhdGl2ZURhdGVGb3JtYXR0aW5nIHsgZ2V0IH0KICAgIG9wZW4gdmFyIGVyYVN5bWJvbHM6IFtTdHJpbmddIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBmb3JtYXR0aW5nQ29udGV4dDogQ29udGV4dCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgZ2VuZXJhdGVzQ2FsZW5kYXJEYXRlcyB7IGdldCB9CiAgICBvcGVuIHZhciBncmVnb3JpYW5TdGFydERhdGU6IERhdGU/IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBpc0xlbmllbnQgeyBnZXQgfQogICAgb3BlbiB2YXIgbG9jYWxlOiBMb2NhbGUhIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBsb25nRXJhU3ltYm9sczogW1N0cmluZ10geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIG1vbnRoU3ltYm9sczogW1N0cmluZ10geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHBtU3ltYm9sOiBTdHJpbmcgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHF1YXJ0ZXJTeW1ib2xzOiBbU3RyaW5nXSB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgc2hvcnRNb250aFN5bWJvbHM6IFtTdHJpbmddIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBzaG9ydFF1YXJ0ZXJTeW1ib2xzOiBbU3RyaW5nXSB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgc2hvcnRTdGFuZGFsb25lTW9udGhTeW1ib2xzOiBbU3RyaW5nXSB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgc2hvcnRTdGFuZGFsb25lUXVhcnRlclN5bWJvbHM6IFtTdHJpbmddIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBzaG9ydFN0YW5kYWxvbmVXZWVrZGF5U3ltYm9sczogW1N0cmluZ10geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHNob3J0V2Vla2RheVN5bWJvbHM6IFtTdHJpbmddIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBzdGFuZGFsb25lTW9udGhTeW1ib2xzOiBbU3RyaW5nXSB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgc3RhbmRhbG9uZVF1YXJ0ZXJTeW1ib2xzOiBbU3RyaW5nXSB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgc3RhbmRhbG9uZVdlZWtkYXlTeW1ib2xzOiBbU3RyaW5nXSB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgdGltZVN0eWxlOiBTdHlsZSB7IGdldCB9CiAgICBvcGVuIHZhciB0aW1lWm9uZTogVGltZVpvbmUhIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciB0d29EaWdpdFN0YXJ0RGF0ZTogRGF0ZT8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHZlcnlTaG9ydE1vbnRoU3ltYm9sczogW1N0cmluZ10geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHZlcnlTaG9ydFN0YW5kYWxvbmVNb250aFN5bWJvbHM6IFtTdHJpbmddIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciB2ZXJ5U2hvcnRTdGFuZGFsb25lV2Vla2RheVN5bWJvbHM6IFtTdHJpbmddIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciB2ZXJ5U2hvcnRXZWVrZGF5U3ltYm9sczogW1N0cmluZ10geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHdlZWtkYXlTeW1ib2xzOiBbU3RyaW5nXSB7IGdldCBzZXQgfQogICAgb3BlbiBmdW5jIGRhdGUoZnJvbSBzdHJpbmc6IFN0cmluZykgLT4gRGF0ZT8ge30KICAgIG9wZW4gZnVuYyBzZXRMb2NhbGl6ZWREYXRlRm9ybWF0RnJvbVRlbXBsYXRlKF8gZGF0ZUZvcm1hdFRlbXBsYXRlOiBTdHJpbmcpIHt9CiAgICBvcGVuIGZ1bmMgc3RyaW5nKGZyb20gZGF0ZTogRGF0ZSkgLT4gU3RyaW5nIHt9Cn0Kb3BlbiBjbGFzcyBEYXRlSW50ZXJ2YWxGb3JtYXR0ZXIgOiBBbnlPYmplY3QsIEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEZvcm1hdHRlciwgSGFzaGFibGUsIE5TQ29kaW5nLCBOU0NvcHlpbmcsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sIHsKICAgIG9wZW4gdmFyIGNhbGVuZGFyOiBDYWxlbmRhciEgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGRhdGVTdHlsZTogU3R5bGUgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGRhdGVUZW1wbGF0ZTogU3RyaW5nISB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgbG9jYWxlOiBMb2NhbGUhIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciB0aW1lU3R5bGU6IFN0eWxlIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciB0aW1lWm9uZTogVGltZVpvbmUhIHsgZ2V0IHNldCB9CiAgICBvcGVuIGZ1bmMgc3RyaW5nKGZyb20gZGF0ZUludGVydmFsOiBEYXRlSW50ZXJ2YWwpIC0+IFN0cmluZz8ge30KICAgIG9wZW4gZnVuYyBzdHJpbmcoZnJvbSBmcm9tRGF0ZTogRGF0ZSwgdG8gdG9EYXRlOiBEYXRlKSAtPiBTdHJpbmcge30KfQpvcGVuIGNsYXNzIERpbWVuc2lvbiA6IEFueU9iamVjdCwgQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TQ29kaW5nLCBOU0NvcHlpbmcsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBOU1NlY3VyZUNvZGluZywgVW5pdCB7CiAgICBvcGVuIGNsYXNzIGZ1bmMgYmFzZVVuaXQoKSAtPiBTZWxmIHt9CiAgICBwdWJsaWMgcmVxdWlyZWQgaW5pdChzeW1ib2w6IFN0cmluZywgY29udmVydGVyOiBVbml0Q29udmVydGVyKSB7fQogICAgb3BlbiB2YXIgY29udmVydGVyOiBVbml0Q29udmVydGVyIHsgZ2V0IH0KfQpvcGVuIGNsYXNzIEVuZXJneUZvcm1hdHRlciA6IEFueU9iamVjdCwgQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgRm9ybWF0dGVyLCBIYXNoYWJsZSwgTlNDb2RpbmcsIE5TQ29weWluZywgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wgewogICAgb3BlbiB2YXIgaXNGb3JGb29kRW5lcmd5VXNlOiBCb29sIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBudW1iZXJGb3JtYXR0ZXI6IE51bWJlckZvcm1hdHRlciEgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHVuaXRTdHlsZTogVW5pdFN0eWxlIHsgZ2V0IHNldCB9CiAgICBvcGVuIGZ1bmMgc3RyaW5nKGZyb21Kb3VsZXMgbnVtYmVySW5Kb3VsZXM6IERvdWJsZSkgLT4gU3RyaW5nIHt9CiAgICBvcGVuIGZ1bmMgc3RyaW5nKGZyb21WYWx1ZSB2YWx1ZTogRG91YmxlLCB1bml0OiBVbml0KSAtPiBTdHJpbmcge30KICAgIG9wZW4gZnVuYyB1bml0U3RyaW5nKGZyb21Kb3VsZXMgbnVtYmVySW5Kb3VsZXM6IERvdWJsZSwgdXNlZFVuaXQgdW5pdHA6IFVuc2FmZU11dGFibGVQb2ludGVyPFVuaXQ+PykgLT4gU3RyaW5nIHt9CiAgICBvcGVuIGZ1bmMgdW5pdFN0cmluZyhmcm9tVmFsdWUgdmFsdWU6IERvdWJsZSwgdW5pdDogVW5pdCkgLT4gU3RyaW5nIHt9Cn0Kb3BlbiBjbGFzcyBGaWxlSGFuZGxlIDogQW55T2JqZWN0LCBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wgewogICAgb3BlbiBjbGFzcyB2YXIgbnVsbERldmljZTogRmlsZUhhbmRsZSB7IGdldCB9CiAgICBwdWJsaWMgc3RhdGljIHZhciByZWFkQ29tcGxldGlvbk5vdGlmaWNhdGlvbiB7IGdldCB9CiAgICBvcGVuIGNsYXNzIHZhciBzdGFuZGFyZEVycm9yOiBGaWxlSGFuZGxlIHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgdmFyIHN0YW5kYXJkSW5wdXQ6IEZpbGVIYW5kbGUgeyBnZXQgfQogICAgb3BlbiBjbGFzcyB2YXIgc3RhbmRhcmRPdXRwdXQ6IEZpbGVIYW5kbGUgeyBnZXQgfQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQoZmlsZURlc2NyaXB0b3IgZmQ6IEludDMyKSB7fQogICAgcHVibGljIGluaXQoZmlsZURlc2NyaXB0b3IgZmQ6IEludDMyLCBjbG9zZU9uRGVhbGxvYyBjbG9zZW9wdDogQm9vbCkge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0Pyhmb3JSZWFkaW5nQXRQYXRoIHBhdGg6IFN0cmluZykge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KGZvclJlYWRpbmdGcm9tIHVybDogVVJMKSB0aHJvd3Mge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KGZvclVwZGF0aW5nIHVybDogVVJMKSB0aHJvd3Mge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0Pyhmb3JVcGRhdGluZ0F0UGF0aCBwYXRoOiBTdHJpbmcpIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdD8oZm9yV3JpdGluZ0F0UGF0aCBwYXRoOiBTdHJpbmcpIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdChmb3JXcml0aW5nVG8gdXJsOiBVUkwpIHRocm93cyB7fQogICAgb3BlbiB2YXIgYXZhaWxhYmxlRGF0YTogRGF0YSB7IGdldCB9CiNpZiAhKG9zKFdpbmRvd3MpKQogICAgb3BlbiB2YXIgZmlsZURlc2NyaXB0b3I6IEludDMyIHsgZ2V0IH0KI2VuZGlmCiAgICBvcGVuIHZhciByZWFkYWJpbGl0eUhhbmRsZXI6ICgoRmlsZUhhbmRsZSkgLT4gVm9pZCk/IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciB3cml0ZWFiaWxpdHlIYW5kbGVyOiAoKEZpbGVIYW5kbGUpIC0+IFZvaWQpPyB7IGdldCBzZXQgfQogICAgb3BlbiBmdW5jIGFjY2VwdENvbm5lY3Rpb25JbkJhY2tncm91bmRBbmROb3RpZnkoKSB7fQogICAgQGF2YWlsYWJsZShzd2lmdCA1LjApIHB1YmxpYyBmdW5jIGNsb3NlKCkgdGhyb3dzIHt9CiAgICBAYXZhaWxhYmxlKHN3aWZ0IDUuMCkgcHVibGljIGZ1bmMgb2Zmc2V0KCkgdGhyb3dzIC0+IFVJbnQ2NCB7fQogICAgQGF2YWlsYWJsZShzd2lmdCA1LjApIHB1YmxpYyBmdW5jIHJlYWQodXBUb0NvdW50IGNvdW50OiBJbnQpIHRocm93cyAtPiBEYXRhPyB7fQogICAgb3BlbiBmdW5jIHJlYWRJbkJhY2tncm91bmRBbmROb3RpZnkoKSB7fQogICAgb3BlbiBmdW5jIHJlYWRJbkJhY2tncm91bmRBbmROb3RpZnkoZm9yTW9kZXMgbW9kZXM6IFtSdW5Mb29wLk1vZGVdPykge30KICAgIEBhdmFpbGFibGUoc3dpZnQgNS4wKSBwdWJsaWMgZnVuYyByZWFkVG9FbmQoKSB0aHJvd3MgLT4gRGF0YT8ge30KICAgIG9wZW4gZnVuYyByZWFkVG9FbmRPZkZpbGVJbkJhY2tncm91bmRBbmROb3RpZnkoKSB7fQogICAgb3BlbiBmdW5jIHJlYWRUb0VuZE9mRmlsZUluQmFja2dyb3VuZEFuZE5vdGlmeShmb3JNb2RlcyBtb2RlczogW1J1bkxvb3AuTW9kZV0/KSB7fQogICAgQGF2YWlsYWJsZShzd2lmdCA1LjApIHB1YmxpYyBmdW5jIHNlZWsodG9PZmZzZXQgb2Zmc2V0OiBVSW50NjQpIHRocm93cyB7fQogICAgQGF2YWlsYWJsZShzd2lmdCA1LjApIEBkaXNjYXJkYWJsZVJlc3VsdCBwdWJsaWMgZnVuYyBzZWVrVG9FbmQoKSB0aHJvd3MgLT4gVUludDY0IHt9CiAgICBAYXZhaWxhYmxlKHN3aWZ0IDUuMCkgcHVibGljIGZ1bmMgc3luY2hyb25pemUoKSB0aHJvd3Mge30KICAgIEBhdmFpbGFibGUoc3dpZnQgNS4wKSBwdWJsaWMgZnVuYyB0cnVuY2F0ZSh0b09mZnNldCBvZmZzZXQ6IFVJbnQ2NCkgdGhyb3dzIHt9CiAgICBvcGVuIGZ1bmMgd2FpdEZvckRhdGFJbkJhY2tncm91bmRBbmROb3RpZnkoKSB7fQogICAgb3BlbiBmdW5jIHdhaXRGb3JEYXRhSW5CYWNrZ3JvdW5kQW5kTm90aWZ5KGZvck1vZGVzIG1vZGVzOiBbUnVuTG9vcC5Nb2RlXT8pIHt9CiAgICBAYXZhaWxhYmxlKHN3aWZ0IDUuMCkgcHVibGljIGZ1bmMgd3JpdGU8VD4oY29udGVudHNPZiBkYXRhOiBUKSB0aHJvd3Mgd2hlcmUgVCA6IERhdGFQcm90b2NvbCB7fQp9Cm9wZW4gY2xhc3MgRmlsZU1hbmFnZXIgOiBBbnlPYmplY3QsIEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCB7Cm9wZW4gY2xhc3MgRGlyZWN0b3J5RW51bWVyYXRvciA6IEFueU9iamVjdCwgQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TRW51bWVyYXRvciwgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wsIFNlcXVlbmNlIHsKICAgIG9wZW4gdmFyIGRpcmVjdG9yeUF0dHJpYnV0ZXM6IFtGaWxlQXR0cmlidXRlS2V5OiBBbnldPyB7IGdldCB9CiAgICBvcGVuIHZhciBmaWxlQXR0cmlidXRlczogW0ZpbGVBdHRyaWJ1dGVLZXk6IEFueV0/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGxldmVsOiBJbnQgeyBnZXQgfQogICAgb3BlbiBmdW5jIHNraXBEZXNjZW5kYW50cygpIHt9Cn0KICAgIG9wZW4gY2xhc3MgdmFyIGBkZWZhdWx0YDogRmlsZU1hbmFnZXIgeyBnZXQgfQogICAgb3BlbiB2YXIgY3VycmVudERpcmVjdG9yeVBhdGg6IFN0cmluZyB7IGdldCB9CiAgICBvcGVuIHdlYWsgdmFyIGRlbGVnYXRlOiBGaWxlTWFuYWdlckRlbGVnYXRlPyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgaG9tZURpcmVjdG9yeUZvckN1cnJlbnRVc2VyOiBVUkwgeyBnZXQgfQogICAgb3BlbiB2YXIgdGVtcG9yYXJ5RGlyZWN0b3J5OiBVUkwgeyBnZXQgfQogICAgb3BlbiBmdW5jIGF0dHJpYnV0ZXNPZkZpbGVTeXN0ZW0oZm9yUGF0aCBwYXRoOiBTdHJpbmcpIHRocm93cyAtPiBbRmlsZUF0dHJpYnV0ZUtleTogQW55XSB7fQogICAgb3BlbiBmdW5jIGF0dHJpYnV0ZXNPZkl0ZW0oYXRQYXRoIHBhdGg6IFN0cmluZykgdGhyb3dzIC0+IFtGaWxlQXR0cmlidXRlS2V5OiBBbnldIHt9CiAgICBAZGlzY2FyZGFibGVSZXN1bHQgb3BlbiBmdW5jIGNoYW5nZUN1cnJlbnREaXJlY3RvcnlQYXRoKF8gcGF0aDogU3RyaW5nKSAtPiBCb29sIHt9CiAgICBvcGVuIGZ1bmMgY29tcG9uZW50c1RvRGlzcGxheShmb3JQYXRoIHBhdGg6IFN0cmluZykgLT4gW1N0cmluZ10/IHt9CiAgICBvcGVuIGZ1bmMgY29udGVudHMoYXRQYXRoIHBhdGg6IFN0cmluZykgLT4gRGF0YT8ge30KICAgIG9wZW4gZnVuYyBjb250ZW50c0VxdWFsKGF0UGF0aCBwYXRoMTogU3RyaW5nLCBhbmRQYXRoIHBhdGgyOiBTdHJpbmcpIC0+IEJvb2wge30KICAgIG9wZW4gZnVuYyBjb250ZW50c09mRGlyZWN0b3J5KGF0IHVybDogVVJMLCBpbmNsdWRpbmdQcm9wZXJ0aWVzRm9yS2V5cyBrZXlzOiBbVVJMUmVzb3VyY2VLZXldPywgb3B0aW9ucyBtYXNrOiBEaXJlY3RvcnlFbnVtZXJhdGlvbk9wdGlvbnMgPSB4KSB0aHJvd3MgLT4gW1VSTF0ge30KICAgIG9wZW4gZnVuYyBjb250ZW50c09mRGlyZWN0b3J5KGF0UGF0aCBwYXRoOiBTdHJpbmcpIHRocm93cyAtPiBbU3RyaW5nXSB7fQogICAgb3BlbiBmdW5jIGNvcHlJdGVtKGF0IHNyY1VSTDogVVJMLCB0byBkc3RVUkw6IFVSTCkgdGhyb3dzIHt9CiAgICBvcGVuIGZ1bmMgY29weUl0ZW0oYXRQYXRoIHNyY1BhdGg6IFN0cmluZywgdG9QYXRoIGRzdFBhdGg6IFN0cmluZykgdGhyb3dzIHt9CiAgICBvcGVuIGZ1bmMgY3JlYXRlRGlyZWN0b3J5KGF0IHVybDogVVJMLCB3aXRoSW50ZXJtZWRpYXRlRGlyZWN0b3JpZXMgY3JlYXRlSW50ZXJtZWRpYXRlczogQm9vbCwgYXR0cmlidXRlczogW0ZpbGVBdHRyaWJ1dGVLZXk6IEFueV0/ID0geCkgdGhyb3dzIHt9CiAgICBvcGVuIGZ1bmMgY3JlYXRlRGlyZWN0b3J5KGF0UGF0aCBwYXRoOiBTdHJpbmcsIHdpdGhJbnRlcm1lZGlhdGVEaXJlY3RvcmllcyBjcmVhdGVJbnRlcm1lZGlhdGVzOiBCb29sLCBhdHRyaWJ1dGVzOiBbRmlsZUF0dHJpYnV0ZUtleTogQW55XT8gPSB4KSB0aHJvd3Mge30KICAgIEBkaXNjYXJkYWJsZVJlc3VsdCBvcGVuIGZ1bmMgY3JlYXRlRmlsZShhdFBhdGggcGF0aDogU3RyaW5nLCBjb250ZW50cyBkYXRhOiBEYXRhPywgYXR0cmlidXRlcyBhdHRyOiBbRmlsZUF0dHJpYnV0ZUtleTogQW55XT8gPSB4KSAtPiBCb29sIHt9CiAgICBvcGVuIGZ1bmMgY3JlYXRlU3ltYm9saWNMaW5rKGF0IHVybDogVVJMLCB3aXRoRGVzdGluYXRpb25VUkwgZGVzdFVSTDogVVJMKSB0aHJvd3Mge30KICAgIG9wZW4gZnVuYyBjcmVhdGVTeW1ib2xpY0xpbmsoYXRQYXRoIHBhdGg6IFN0cmluZywgd2l0aERlc3RpbmF0aW9uUGF0aCBkZXN0UGF0aDogU3RyaW5nKSB0aHJvd3Mge30KICAgIG9wZW4gZnVuYyBkZXN0aW5hdGlvbk9mU3ltYm9saWNMaW5rKGF0UGF0aCBwYXRoOiBTdHJpbmcpIHRocm93cyAtPiBTdHJpbmcge30KICAgIG9wZW4gZnVuYyBkaXNwbGF5TmFtZShhdFBhdGggcGF0aDogU3RyaW5nKSAtPiBTdHJpbmcge30KICAgIG9wZW4gZnVuYyBlbnVtZXJhdG9yKGF0IHVybDogVVJMLCBpbmNsdWRpbmdQcm9wZXJ0aWVzRm9yS2V5cyBrZXlzOiBbVVJMUmVzb3VyY2VLZXldPywgb3B0aW9ucyBtYXNrOiBEaXJlY3RvcnlFbnVtZXJhdGlvbk9wdGlvbnMgPSB4LCBlcnJvckhhbmRsZXIgaGFuZGxlcjogKChVUkwsIEVycm9yKSAtPiBCb29sKT8gPSB4KSAtPiBEaXJlY3RvcnlFbnVtZXJhdG9yPyB7fQogICAgb3BlbiBmdW5jIGVudW1lcmF0b3IoYXRQYXRoIHBhdGg6IFN0cmluZykgLT4gRGlyZWN0b3J5RW51bWVyYXRvcj8ge30KICAgIG9wZW4gZnVuYyBmaWxlRXhpc3RzKGF0UGF0aCBwYXRoOiBTdHJpbmcpIC0+IEJvb2wge30KICAgIG9wZW4gZnVuYyBmaWxlRXhpc3RzKGF0UGF0aCBwYXRoOiBTdHJpbmcsIGlzRGlyZWN0b3J5OiBVbnNhZmVNdXRhYmxlUG9pbnRlcjxPYmpDQm9vbD4/KSAtPiBCb29sIHt9CiAgICBvcGVuIGZ1bmMgZmlsZVN5c3RlbVJlcHJlc2VudGF0aW9uKHdpdGhQYXRoIHBhdGg6IFN0cmluZykgLT4gVW5zYWZlUG9pbnRlcjxJbnQ4PiB7fQogICAgb3BlbiBmdW5jIGdldFJlbGF0aW9uc2hpcChfIG91dFJlbGF0aW9uc2hpcDogVW5zYWZlTXV0YWJsZVBvaW50ZXI8VVJMUmVsYXRpb25zaGlwPiwgb2YgZGlyZWN0b3J5OiBTZWFyY2hQYXRoRGlyZWN0b3J5LCBpbiBkb21haW5NYXNrOiBTZWFyY2hQYXRoRG9tYWluTWFzaywgdG9JdGVtQXQgdXJsOiBVUkwpIHRocm93cyB7fQogICAgb3BlbiBmdW5jIGdldFJlbGF0aW9uc2hpcChfIG91dFJlbGF0aW9uc2hpcDogVW5zYWZlTXV0YWJsZVBvaW50ZXI8VVJMUmVsYXRpb25zaGlwPiwgb2ZEaXJlY3RvcnlBdCBkaXJlY3RvcnlVUkw6IFVSTCwgdG9JdGVtQXQgb3RoZXJVUkw6IFVSTCkgdGhyb3dzIHt9CiAgICBvcGVuIGZ1bmMgaG9tZURpcmVjdG9yeShmb3JVc2VyIHVzZXJOYW1lOiBTdHJpbmcpIC0+IFVSTD8ge30KICAgIG9wZW4gZnVuYyBpc0RlbGV0YWJsZUZpbGUoYXRQYXRoIHBhdGg6IFN0cmluZykgLT4gQm9vbCB7fQogICAgb3BlbiBmdW5jIGlzRXhlY3V0YWJsZUZpbGUoYXRQYXRoIHBhdGg6IFN0cmluZykgLT4gQm9vbCB7fQogICAgb3BlbiBmdW5jIGlzUmVhZGFibGVGaWxlKGF0UGF0aCBwYXRoOiBTdHJpbmcpIC0+IEJvb2wge30KICAgIG9wZW4gZnVuYyBpc1dyaXRhYmxlRmlsZShhdFBhdGggcGF0aDogU3RyaW5nKSAtPiBCb29sIHt9CiAgICBvcGVuIGZ1bmMgbGlua0l0ZW0oYXQgc3JjVVJMOiBVUkwsIHRvIGRzdFVSTDogVVJMKSB0aHJvd3Mge30KICAgIG9wZW4gZnVuYyBsaW5rSXRlbShhdFBhdGggc3JjUGF0aDogU3RyaW5nLCB0b1BhdGggZHN0UGF0aDogU3RyaW5nKSB0aHJvd3Mge30KICAgIG9wZW4gZnVuYyBtb3VudGVkVm9sdW1lVVJMcyhpbmNsdWRpbmdSZXNvdXJjZVZhbHVlc0ZvcktleXMgcHJvcGVydHlLZXlzOiBbVVJMUmVzb3VyY2VLZXldPywgb3B0aW9uczogVm9sdW1lRW51bWVyYXRpb25PcHRpb25zID0geCkgLT4gW1VSTF0/IHt9CiAgICBvcGVuIGZ1bmMgbW92ZUl0ZW0oYXQgc3JjVVJMOiBVUkwsIHRvIGRzdFVSTDogVVJMKSB0aHJvd3Mge30KICAgIG9wZW4gZnVuYyBtb3ZlSXRlbShhdFBhdGggc3JjUGF0aDogU3RyaW5nLCB0b1BhdGggZHN0UGF0aDogU3RyaW5nKSB0aHJvd3Mge30KICAgIG9wZW4gZnVuYyByZW1vdmVJdGVtKGF0IHVybDogVVJMKSB0aHJvd3Mge30KICAgIG9wZW4gZnVuYyByZW1vdmVJdGVtKGF0UGF0aCBwYXRoOiBTdHJpbmcpIHRocm93cyB7fQojaWYgIShvcyhXaW5kb3dzKSkKICAgIG9wZW4gZnVuYyByZXBsYWNlSXRlbShhdCBvcmlnaW5hbEl0ZW1VUkw6IFVSTCwgd2l0aEl0ZW1BdCBuZXdJdGVtVVJMOiBVUkwsIGJhY2t1cEl0ZW1OYW1lOiBTdHJpbmc/LCBvcHRpb25zOiBJdGVtUmVwbGFjZW1lbnRPcHRpb25zID0geCkgdGhyb3dzIC0+IFVSTD8ge30KI2VuZGlmCiNpZiAhKG9zKFdpbmRvd3MpKQogICAgcHVibGljIGZ1bmMgcmVwbGFjZUl0ZW1BdChfIG9yaWdpbmFsSXRlbVVSTDogVVJMLCB3aXRoSXRlbUF0IG5ld0l0ZW1VUkw6IFVSTCwgYmFja3VwSXRlbU5hbWU6IFN0cmluZz8gPSB4LCBvcHRpb25zOiBJdGVtUmVwbGFjZW1lbnRPcHRpb25zID0geCkgdGhyb3dzIC0+IFVSTD8ge30KI2VuZGlmCiAgICBvcGVuIGZ1bmMgc2V0QXR0cmlidXRlcyhfIGF0dHJpYnV0ZXM6IFtGaWxlQXR0cmlidXRlS2V5OiBBbnldLCBvZkl0ZW1BdFBhdGggcGF0aDogU3RyaW5nKSB0aHJvd3Mge30KICAgIG9wZW4gZnVuYyBzdHJpbmcod2l0aEZpbGVTeXN0ZW1SZXByZXNlbnRhdGlvbiBzdHI6IFVuc2FmZVBvaW50ZXI8SW50OD4sIGxlbmd0aCBsZW46IEludCkgLT4gU3RyaW5nIHt9CiAgICBvcGVuIGZ1bmMgc3VicGF0aHMoYXRQYXRoIHBhdGg6IFN0cmluZykgLT4gW1N0cmluZ10/IHt9CiAgICBvcGVuIGZ1bmMgc3VicGF0aHNPZkRpcmVjdG9yeShhdFBhdGggcGF0aDogU3RyaW5nKSB0aHJvd3MgLT4gW1N0cmluZ10ge30KICAgIG9wZW4gZnVuYyB1cmwoZm9yIGRpcmVjdG9yeTogU2VhcmNoUGF0aERpcmVjdG9yeSwgaW4gZG9tYWluOiBTZWFyY2hQYXRoRG9tYWluTWFzaywgYXBwcm9wcmlhdGVGb3IgcmVmZXJlbmNlOiBVUkw/LCBjcmVhdGUgc2hvdWxkQ3JlYXRlOiBCb29sKSB0aHJvd3MgLT4gVVJMIHt9CiAgICBvcGVuIGZ1bmMgdXJscyhmb3IgZGlyZWN0b3J5OiBTZWFyY2hQYXRoRGlyZWN0b3J5LCBpbiBkb21haW5NYXNrOiBTZWFyY2hQYXRoRG9tYWluTWFzaykgLT4gW1VSTF0ge30KfQpvcGVuIGNsYXNzIEZvcm1hdHRlciA6IEFueU9iamVjdCwgQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TQ29kaW5nLCBOU0NvcHlpbmcsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sIHsKICAgIG9wZW4gZnVuYyBlZGl0aW5nU3RyaW5nKGZvciBvYmo6IEFueSkgLT4gU3RyaW5nPyB7fQogICAgb3BlbiBmdW5jIHN0cmluZyhmb3Igb2JqOiBBbnkpIC0+IFN0cmluZz8ge30KfQpvcGVuIGNsYXNzIEhUVFBDb29raWUgOiBBbnlPYmplY3QsIEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCB7CiAgICBvcGVuIGNsYXNzIGZ1bmMgY29va2llcyh3aXRoUmVzcG9uc2VIZWFkZXJGaWVsZHMgaGVhZGVyRmllbGRzOiBbU3RyaW5nOiBTdHJpbmddLCBmb3IgVVJMOiBVUkwpIC0+IFtIVFRQQ29va2llXSB7fQogICAgb3BlbiBjbGFzcyBmdW5jIHJlcXVlc3RIZWFkZXJGaWVsZHMod2l0aCBjb29raWVzOiBbSFRUUENvb2tpZV0pIC0+IFtTdHJpbmc6IFN0cmluZ10ge30KICAgIHB1YmxpYyBpbml0Pyhwcm9wZXJ0aWVzOiBbSFRUUENvb2tpZVByb3BlcnR5S2V5OiBBbnldKSB7fQogICAgb3BlbiB2YXIgY29tbWVudDogU3RyaW5nPyB7IGdldCB9CiAgICBvcGVuIHZhciBjb21tZW50VVJMOiBVUkw/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGRvbWFpbjogU3RyaW5nIHsgZ2V0IH0KICAgIG9wZW4gdmFyIGV4cGlyZXNEYXRlOiBEYXRlPyB7IGdldCB9CiAgICBvcGVuIHZhciBpc0hUVFBPbmx5OiBCb29sIHsgZ2V0IH0KICAgIG9wZW4gdmFyIGlzU2VjdXJlOiBCb29sIHsgZ2V0IH0KICAgIG9wZW4gdmFyIGlzU2Vzc2lvbk9ubHk6IEJvb2wgeyBnZXQgfQogICAgb3BlbiB2YXIgbmFtZTogU3RyaW5nIHsgZ2V0IH0KICAgIG9wZW4gdmFyIHBhdGg6IFN0cmluZyB7IGdldCB9CiAgICBvcGVuIHZhciBwb3J0TGlzdDogW05TTnVtYmVyXT8geyBnZXQgfQogICAgb3BlbiB2YXIgcHJvcGVydGllczogW0hUVFBDb29raWVQcm9wZXJ0eUtleTogQW55XT8geyBnZXQgfQogICAgb3BlbiB2YXIgdmFsdWU6IFN0cmluZyB7IGdldCB9CiAgICBvcGVuIHZhciB2ZXJzaW9uOiBJbnQgeyBnZXQgfQp9Cm9wZW4gY2xhc3MgSFRUUENvb2tpZVN0b3JhZ2UgOiBBbnlPYmplY3QsIEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCB7CiAgICBvcGVuIGNsYXNzIHZhciBzaGFyZWQ6IEhUVFBDb29raWVTdG9yYWdlIHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgZnVuYyBzaGFyZWRDb29raWVTdG9yYWdlKGZvckdyb3VwQ29udGFpbmVySWRlbnRpZmllciBpZGVudGlmaWVyOiBTdHJpbmcpIC0+IEhUVFBDb29raWVTdG9yYWdlIHt9CiAgICBvcGVuIHZhciBjb29raWVBY2NlcHRQb2xpY3k6IEhUVFBDb29raWUuQWNjZXB0UG9saWN5IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBjb29raWVzOiBbSFRUUENvb2tpZV0/IHsgZ2V0IH0KICAgIG9wZW4gZnVuYyBjb29raWVzKGZvciB1cmw6IFVSTCkgLT4gW0hUVFBDb29raWVdPyB7fQogICAgb3BlbiBmdW5jIGRlbGV0ZUNvb2tpZShfIGNvb2tpZTogSFRUUENvb2tpZSkge30KICAgIG9wZW4gZnVuYyByZW1vdmVDb29raWVzKHNpbmNlIGRhdGU6IERhdGUpIHt9CiAgICBvcGVuIGZ1bmMgc2V0Q29va2llKF8gY29va2llOiBIVFRQQ29va2llKSB7fQogICAgb3BlbiBmdW5jIHNldENvb2tpZXMoXyBjb29raWVzOiBbSFRUUENvb2tpZV0sIGZvciB1cmw6IFVSTD8sIG1haW5Eb2N1bWVudFVSTDogVVJMPykge30KICAgIG9wZW4gZnVuYyBzb3J0ZWRDb29raWVzKHVzaW5nIHNvcnRPcmRlcjogW05TU29ydERlc2NyaXB0b3JdKSAtPiBbSFRUUENvb2tpZV0ge30KfQpvcGVuIGNsYXNzIEhUVFBVUkxSZXNwb25zZSA6IEFueU9iamVjdCwgQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TQ29kaW5nLCBOU0NvcHlpbmcsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBOU1NlY3VyZUNvZGluZywgVVJMUmVzcG9uc2UgewogICAgb3BlbiBjbGFzcyBmdW5jIGxvY2FsaXplZFN0cmluZyhmb3JTdGF0dXNDb2RlIHN0YXR1c0NvZGU6IEludCkgLT4gU3RyaW5nIHt9CiAgICBwdWJsaWMgaW5pdD8odXJsOiBVUkwsIHN0YXR1c0NvZGU6IEludCwgaHR0cFZlcnNpb246IFN0cmluZz8sIGhlYWRlckZpZWxkczogW1N0cmluZzogU3RyaW5nXT8pIHt9CiAgICBwdWJsaWMgdmFyIGFsbEhlYWRlckZpZWxkczogW0FueUhhc2hhYmxlOiBBbnldIHsgZ2V0IH0KICAgIHB1YmxpYyB2YXIgc3RhdHVzQ29kZTogSW50IHsgZ2V0IH0KfQpvcGVuIGNsYXNzIEhvc3QgOiBBbnlPYmplY3QsIEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCB7CiAgICBvcGVuIGNsYXNzIGZ1bmMgY3VycmVudCgpIC0+IEhvc3Qge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KGFkZHJlc3M6IFN0cmluZykge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KG5hbWU6IFN0cmluZz8pIHt9CiAgICBvcGVuIHZhciBhZGRyZXNzOiBTdHJpbmc/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGFkZHJlc3NlczogW1N0cmluZ10geyBnZXQgfQogICAgb3BlbiB2YXIgbG9jYWxpemVkTmFtZTogU3RyaW5nPyB7IGdldCB9CiAgICBvcGVuIHZhciBuYW1lOiBTdHJpbmc/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIG5hbWVzOiBbU3RyaW5nXSB7IGdldCB9CiAgICBvcGVuIGZ1bmMgaXNFcXVhbCh0byBhSG9zdDogSG9zdCkgLT4gQm9vbCB7fQp9Cm9wZW4gY2xhc3MgSVNPODYwMURhdGVGb3JtYXR0ZXIgOiBBbnlPYmplY3QsIEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEZvcm1hdHRlciwgSGFzaGFibGUsIE5TQ29kaW5nLCBOU0NvcHlpbmcsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBOU1NlY3VyZUNvZGluZyB7CiAgICBvcGVuIGNsYXNzIGZ1bmMgc3RyaW5nKGZyb20gZGF0ZTogRGF0ZSwgdGltZVpvbmU6IFRpbWVab25lLCBmb3JtYXRPcHRpb25zOiBJU084NjAxRGF0ZUZvcm1hdHRlci5PcHRpb25zID0geCkgLT4gU3RyaW5nIHt9CiAgICBvcGVuIHZhciBmb3JtYXRPcHRpb25zOiBJU084NjAxRGF0ZUZvcm1hdHRlci5PcHRpb25zIHsgZ2V0IH0KICAgIG9wZW4gdmFyIHRpbWVab25lOiBUaW1lWm9uZSEgeyBnZXQgfQogICAgb3BlbiBmdW5jIGRhdGUoZnJvbSBzdHJpbmc6IFN0cmluZykgLT4gRGF0ZT8ge30KICAgIG9wZW4gZnVuYyBzdHJpbmcoZnJvbSBkYXRlOiBEYXRlKSAtPiBTdHJpbmcge30KfQpvcGVuIGNsYXNzIElucHV0U3RyZWFtIDogQW55T2JqZWN0LCBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wsIFN0cmVhbSB7CiAgICBwdWJsaWMgaW5pdChkYXRhOiBEYXRhKSB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQ/KGZpbGVBdFBhdGggcGF0aDogU3RyaW5nKSB7fQogICAgcHVibGljIGluaXQ/KHVybDogVVJMKSB7fQogICAgb3BlbiB2YXIgaGFzQnl0ZXNBdmFpbGFibGU6IEJvb2wgeyBnZXQgfQogICAgb3BlbiBmdW5jIGdldEJ1ZmZlcihfIGJ1ZmZlcjogVW5zYWZlTXV0YWJsZVBvaW50ZXI8VW5zYWZlTXV0YWJsZVBvaW50ZXI8VUludDg+Pz4sIGxlbmd0aCBsZW46IFVuc2FmZU11dGFibGVQb2ludGVyPEludD4pIC0+IEJvb2wge30KICAgIG9wZW4gZnVuYyByZWFkKF8gYnVmZmVyOiBVbnNhZmVNdXRhYmxlUG9pbnRlcjxVSW50OD4sIG1heExlbmd0aCBsZW46IEludCkgLT4gSW50IHt9Cn0Kb3BlbiBjbGFzcyBKU09ORGVjb2RlciB7CiAgICBwdWJsaWMgaW5pdCgpIHt9CiAgICBvcGVuIHZhciBkYXRhRGVjb2RpbmdTdHJhdGVneTogRGF0YURlY29kaW5nU3RyYXRlZ3kgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGRhdGVEZWNvZGluZ1N0cmF0ZWd5OiBEYXRlRGVjb2RpbmdTdHJhdGVneSB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIga2V5RGVjb2RpbmdTdHJhdGVneTogS2V5RGVjb2RpbmdTdHJhdGVneSB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgbm9uQ29uZm9ybWluZ0Zsb2F0RGVjb2RpbmdTdHJhdGVneTogTm9uQ29uZm9ybWluZ0Zsb2F0RGVjb2RpbmdTdHJhdGVneSB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgdXNlckluZm86IFtDb2RpbmdVc2VySW5mb0tleTogQW55XSB7IGdldCBzZXQgfQogICAgb3BlbiBmdW5jIGRlY29kZTxUPihfIHR5cGU6IFQuVHlwZSwgZnJvbSBkYXRhOiBEYXRhKSB0aHJvd3MgLT4gVCB3aGVyZSBUIDogRGVjb2RhYmxlIHt9Cn0Kb3BlbiBjbGFzcyBKU09ORW5jb2RlciB7CiAgICBwdWJsaWMgaW5pdCgpIHt9CiAgICBvcGVuIHZhciBkYXRhRW5jb2RpbmdTdHJhdGVneTogRGF0YUVuY29kaW5nU3RyYXRlZ3kgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGRhdGVFbmNvZGluZ1N0cmF0ZWd5OiBEYXRlRW5jb2RpbmdTdHJhdGVneSB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIga2V5RW5jb2RpbmdTdHJhdGVneTogS2V5RW5jb2RpbmdTdHJhdGVneSB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgbm9uQ29uZm9ybWluZ0Zsb2F0RW5jb2RpbmdTdHJhdGVneTogTm9uQ29uZm9ybWluZ0Zsb2F0RW5jb2RpbmdTdHJhdGVneSB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgb3V0cHV0Rm9ybWF0dGluZzogT3V0cHV0Rm9ybWF0dGluZyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgdXNlckluZm86IFtDb2RpbmdVc2VySW5mb0tleTogQW55XSB7IGdldCBzZXQgfQogICAgb3BlbiBmdW5jIGVuY29kZTxUPihfIHZhbHVlOiBUKSB0aHJvd3MgLT4gRGF0YSB3aGVyZSBUIDogRW5jb2RhYmxlIHt9Cn0Kb3BlbiBjbGFzcyBKU09OU2VyaWFsaXphdGlvbiA6IEFueU9iamVjdCwgQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sIHsKICAgIG9wZW4gY2xhc3MgZnVuYyBkYXRhKHdpdGhKU09OT2JqZWN0IHZhbHVlOiBBbnksIG9wdGlvbnMgb3B0OiBXcml0aW5nT3B0aW9ucyA9IHgpIHRocm93cyAtPiBEYXRhIHt9CiAgICBvcGVuIGNsYXNzIGZ1bmMgaXNWYWxpZEpTT05PYmplY3QoXyBvYmo6IEFueSkgLT4gQm9vbCB7fQogICAgb3BlbiBjbGFzcyBmdW5jIGpzb25PYmplY3Qod2l0aCBkYXRhOiBEYXRhLCBvcHRpb25zIG9wdDogUmVhZGluZ09wdGlvbnMgPSB4KSB0aHJvd3MgLT4gQW55IHt9CiAgICBvcGVuIGNsYXNzIGZ1bmMgd3JpdGVKU09OT2JqZWN0KF8gb2JqOiBBbnksIHRvU3RyZWFtIHN0cmVhbTogT3V0cHV0U3RyZWFtLCBvcHRpb25zIG9wdDogV3JpdGluZ09wdGlvbnMpIHRocm93cyAtPiBJbnQge30KfQpvcGVuIGNsYXNzIExlbmd0aEZvcm1hdHRlciA6IEFueU9iamVjdCwgQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgRm9ybWF0dGVyLCBIYXNoYWJsZSwgTlNDb2RpbmcsIE5TQ29weWluZywgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wgewogICAgb3BlbiB2YXIgaXNGb3JQZXJzb25IZWlnaHRVc2U6IEJvb2wgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIG51bWJlckZvcm1hdHRlcjogTnVtYmVyRm9ybWF0dGVyISB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgdW5pdFN0eWxlOiBVbml0U3R5bGUgeyBnZXQgc2V0IH0KICAgIG9wZW4gZnVuYyBzdHJpbmcoZnJvbU1ldGVycyBudW1iZXJJbk1ldGVyczogRG91YmxlKSAtPiBTdHJpbmcge30KICAgIG9wZW4gZnVuYyBzdHJpbmcoZnJvbVZhbHVlIHZhbHVlOiBEb3VibGUsIHVuaXQ6IExlbmd0aEZvcm1hdHRlci5Vbml0KSAtPiBTdHJpbmcge30KICAgIG9wZW4gZnVuYyB1bml0U3RyaW5nKGZyb21NZXRlcnMgbnVtYmVySW5NZXRlcnM6IERvdWJsZSwgdXNlZFVuaXQgdW5pdHA6IFVuc2FmZU11dGFibGVQb2ludGVyPFVuaXQ+PykgLT4gU3RyaW5nIHt9CiAgICBvcGVuIGZ1bmMgdW5pdFN0cmluZyhmcm9tVmFsdWUgdmFsdWU6IERvdWJsZSwgdW5pdDogVW5pdCkgLT4gU3RyaW5nIHt9Cn0Kb3BlbiBjbGFzcyBNYXNzRm9ybWF0dGVyIDogQW55T2JqZWN0LCBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBGb3JtYXR0ZXIsIEhhc2hhYmxlLCBOU0NvZGluZywgTlNDb3B5aW5nLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCB7CiAgICBvcGVuIHZhciBpc0ZvclBlcnNvbk1hc3NVc2U6IEJvb2wgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIG51bWJlckZvcm1hdHRlcjogTnVtYmVyRm9ybWF0dGVyISB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgdW5pdFN0eWxlOiBVbml0U3R5bGUgeyBnZXQgc2V0IH0KICAgIG9wZW4gZnVuYyBzdHJpbmcoZnJvbUtpbG9ncmFtcyBudW1iZXJJbktpbG9ncmFtczogRG91YmxlKSAtPiBTdHJpbmcge30KICAgIG9wZW4gZnVuYyBzdHJpbmcoZnJvbVZhbHVlIHZhbHVlOiBEb3VibGUsIHVuaXQ6IFVuaXQpIC0+IFN0cmluZyB7fQogICAgb3BlbiBmdW5jIHVuaXRTdHJpbmcoZnJvbUtpbG9ncmFtcyBudW1iZXJJbktpbG9ncmFtczogRG91YmxlLCB1c2VkVW5pdCB1bml0cDogVW5zYWZlTXV0YWJsZVBvaW50ZXI8VW5pdD4/KSAtPiBTdHJpbmcge30KICAgIG9wZW4gZnVuYyB1bml0U3RyaW5nKGZyb21WYWx1ZSB2YWx1ZTogRG91YmxlLCB1bml0OiBVbml0KSAtPiBTdHJpbmcge30KICAgIG9wZW4gZnVuYyB1bml0U3RyaW5nRGlzcGxheWVkQWRqYWNlbnQodG9WYWx1ZSB2YWx1ZTogRG91YmxlLCB1bml0OiBVbml0KSAtPiBTdHJpbmcge30KfQpvcGVuIGNsYXNzIE5TQWZmaW5lVHJhbnNmb3JtIDogQW55T2JqZWN0LCBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNDb2RpbmcsIE5TQ29weWluZywgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wsIE5TU2VjdXJlQ29kaW5nLCBfU3RydWN0VHlwZUJyaWRnZWFibGUgewogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQodHJhbnNmb3JtOiBBZmZpbmVUcmFuc2Zvcm0pIHt9CiAgICBwdWJsaWMgdmFyIHRyYW5zZm9ybVN0cnVjdDogTlNBZmZpbmVUcmFuc2Zvcm1TdHJ1Y3QgeyBnZXQgc2V0IH0KICAgIG9wZW4gZnVuYyBhcHBlbmQoXyB0cmFuc2Zvcm06IEFmZmluZVRyYW5zZm9ybSkge30KICAgIG9wZW4gZnVuYyBpbnZlcnQoKSB7fQogICAgb3BlbiBmdW5jIHByZXBlbmQoXyB0cmFuc2Zvcm06IEFmZmluZVRyYW5zZm9ybSkge30KICAgIG9wZW4gZnVuYyByb3RhdGUoYnlEZWdyZWVzIGFuZ2xlOiBDR0Zsb2F0KSB7fQogICAgb3BlbiBmdW5jIHJvdGF0ZShieVJhZGlhbnMgYW5nbGU6IENHRmxvYXQpIHt9CiAgICBvcGVuIGZ1bmMgc2NhbGUoYnkgc2NhbGU6IENHRmxvYXQpIHt9CiAgICBvcGVuIGZ1bmMgc2NhbGVYKGJ5IHNjYWxlWDogQ0dGbG9hdCwgeUJ5IHNjYWxlWTogQ0dGbG9hdCkge30KICAgIG9wZW4gZnVuYyB0cmFuc2Zvcm0oXyBhUG9pbnQ6IE5TUG9pbnQpIC0+IE5TUG9pbnQge30KICAgIG9wZW4gZnVuYyB0cmFuc2Zvcm0oXyBhU2l6ZTogTlNTaXplKSAtPiBOU1NpemUge30KICAgIG9wZW4gZnVuYyB0cmFuc2xhdGVYKGJ5IGRlbHRhWDogQ0dGbG9hdCwgeUJ5IGRlbHRhWTogQ0dGbG9hdCkge30KfQpvcGVuIGNsYXNzIE5TQXJyYXkgOiBBbnlPYmplY3QsIEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVJlZmxlY3RhYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBFeHByZXNzaWJsZUJ5QXJyYXlMaXRlcmFsLCBIYXNoYWJsZSwgTlNDb2RpbmcsIE5TQ29weWluZywgTlNNdXRhYmxlQ29weWluZywgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wsIE5TU2VjdXJlQ29kaW5nLCBTZXF1ZW5jZSwgX0NGQnJpZGdlYWJsZSwgX1N0cnVjdFR5cGVCcmlkZ2VhYmxlLCBfU3dpZnRCcmlkZ2VhYmxlIHsKICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KGFycmF5OiBOU0FycmF5KSB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQoYXJyYXk6IFtBbnldLCBjb3B5SXRlbXM6IEJvb2wpIHt9CiAgICBwdWJsaWMgcmVxdWlyZWQgY29udmVuaWVuY2UgaW5pdChhcnJheUxpdGVyYWwgZWxlbWVudHM6IEFueS4uLikge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KGNvbnRlbnRzT2YgdXJsOiBVUkwsIGVycm9yOiBWb2lkKSB0aHJvd3Mge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KG9iamVjdCBhbk9iamVjdDogQW55KSB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQob2JqZWN0cyBlbGVtZW50czogQW55T2JqZWN0Li4uKSB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQob2JqZWN0czogVW5zYWZlUG9pbnRlcjxBbnlPYmplY3Q+LCBjb3VudDogSW50KSB7fQogICAgb3BlbiB2YXIgY291bnQ6IEludCB7IGdldCB9CiAgICBwdWJsaWMgdmFyIGN1c3RvbU1pcnJvcjogTWlycm9yIHsgZ2V0IH0KICAgIG9wZW4gdmFyIGZpcnN0T2JqZWN0OiBBbnk/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGxhc3RPYmplY3Q6IEFueT8geyBnZXQgfQogICAgb3BlbiB2YXIgc29ydGVkQXJyYXlIaW50OiBEYXRhIHsgZ2V0IH0KICAgIG9wZW4gc3Vic2NyaXB0KGlkeDogSW50KSAtPiBBbnkgeyBnZXQgfSB7fQogICAgb3BlbiBmdW5jIGFkZGluZyhfIGFuT2JqZWN0OiBBbnkpIC0+IFtBbnldIHt9CiAgICBvcGVuIGZ1bmMgYWRkaW5nT2JqZWN0cyhmcm9tIG90aGVyQXJyYXk6IFtBbnldKSAtPiBbQW55XSB7fQogICAgb3BlbiBmdW5jIGNvbXBvbmVudHNKb2luZWQoYnkgc2VwYXJhdG9yOiBTdHJpbmcpIC0+IFN0cmluZyB7fQogICAgb3BlbiBmdW5jIGNvbnRhaW5zKF8gYW5PYmplY3Q6IEFueSkgLT4gQm9vbCB7fQogICAgb3BlbiBmdW5jIGRlc2NyaXB0aW9uKHdpdGhMb2NhbGUgbG9jYWxlOiBMb2NhbGU/KSAtPiBTdHJpbmcge30KICAgIG9wZW4gZnVuYyBkZXNjcmlwdGlvbih3aXRoTG9jYWxlIGxvY2FsZTogTG9jYWxlPywgaW5kZW50IGxldmVsOiBJbnQpIC0+IFN0cmluZyB7fQogICAgb3BlbiBmdW5jIGVudW1lcmF0ZU9iamVjdHMoXyBibG9jazogKEFueSwgSW50LCBVbnNhZmVNdXRhYmxlUG9pbnRlcjxPYmpDQm9vbD4pIC0+IFN3aWZ0LlZvaWQpIHt9CiAgICBvcGVuIGZ1bmMgZW51bWVyYXRlT2JqZWN0cyhhdCBzOiBJbmRleFNldCwgb3B0aW9ucyBvcHRzOiBOU0VudW1lcmF0aW9uT3B0aW9ucyA9IHgsIHVzaW5nIGJsb2NrOiAoQW55LCBJbnQsIFVuc2FmZU11dGFibGVQb2ludGVyPE9iakNCb29sPikgLT4gU3dpZnQuVm9pZCkge30KICAgIG9wZW4gZnVuYyBlbnVtZXJhdGVPYmplY3RzKG9wdGlvbnMgb3B0czogTlNFbnVtZXJhdGlvbk9wdGlvbnMgPSB4LCB1c2luZyBibG9jazogKEFueSwgSW50LCBVbnNhZmVNdXRhYmxlUG9pbnRlcjxPYmpDQm9vbD4pIC0+IFN3aWZ0LlZvaWQpIHt9CiAgICBvcGVuIGZ1bmMgZmlsdGVyZWQodXNpbmcgcHJlZGljYXRlOiBOU1ByZWRpY2F0ZSkgLT4gW0FueV0ge30KICAgIG9wZW4gZnVuYyBmaXJzdE9iamVjdENvbW1vbih3aXRoIG90aGVyQXJyYXk6IFtBbnldKSAtPiBBbnk/IHt9CiAgICBvcGVuIGZ1bmMgaW5kZXgob2YgYW5PYmplY3Q6IEFueSkgLT4gSW50IHt9CiAgICBvcGVuIGZ1bmMgaW5kZXgob2YgYW5PYmplY3Q6IEFueSwgaW4gcmFuZ2U6IE5TUmFuZ2UpIC0+IEludCB7fQogICAgb3BlbiBmdW5jIGluZGV4KG9mIG9iajogQW55LCBpblNvcnRlZFJhbmdlIHI6IE5TUmFuZ2UsIG9wdGlvbnMgb3B0czogTlNCaW5hcnlTZWFyY2hpbmdPcHRpb25zID0geCwgdXNpbmdDb21wYXJhdG9yIGNtcDogKEFueSwgQW55KSAtPiBDb21wYXJpc29uUmVzdWx0KSAtPiBJbnQge30KICAgIG9wZW4gZnVuYyBpbmRleE9mT2JqZWN0KGF0IHM6IEluZGV4U2V0LCBvcHRpb25zIG9wdHM6IE5TRW51bWVyYXRpb25PcHRpb25zID0geCwgcGFzc2luZ1Rlc3QgcHJlZGljYXRlOiAoQW55LCBJbnQsIFVuc2FmZU11dGFibGVQb2ludGVyPE9iakNCb29sPikgLT4gQm9vbCkgLT4gSW50IHt9CiAgICBvcGVuIGZ1bmMgaW5kZXhPZk9iamVjdChvcHRpb25zIG9wdHM6IE5TRW51bWVyYXRpb25PcHRpb25zID0geCwgcGFzc2luZ1Rlc3QgcHJlZGljYXRlOiAoQW55LCBJbnQsIFVuc2FmZU11dGFibGVQb2ludGVyPE9iakNCb29sPikgLT4gQm9vbCkgLT4gSW50IHt9CiAgICBvcGVuIGZ1bmMgaW5kZXhPZk9iamVjdChwYXNzaW5nVGVzdCBwcmVkaWNhdGU6IChBbnksIEludCwgVW5zYWZlTXV0YWJsZVBvaW50ZXI8T2JqQ0Jvb2w+KSAtPiBCb29sKSAtPiBJbnQge30KICAgIG9wZW4gZnVuYyBpbmRleE9mT2JqZWN0SWRlbnRpY2FsKHRvIGFuT2JqZWN0OiBBbnkpIC0+IEludCB7fQogICAgb3BlbiBmdW5jIGluZGV4T2ZPYmplY3RJZGVudGljYWwodG8gYW5PYmplY3Q6IEFueSwgaW4gcmFuZ2U6IE5TUmFuZ2UpIC0+IEludCB7fQogICAgb3BlbiBmdW5jIGluZGV4ZXNPZk9iamVjdHMoYXQgczogSW5kZXhTZXQsIG9wdGlvbnMgb3B0czogTlNFbnVtZXJhdGlvbk9wdGlvbnMgPSB4LCBwYXNzaW5nVGVzdCBwcmVkaWNhdGU6IChBbnksIEludCwgVW5zYWZlTXV0YWJsZVBvaW50ZXI8T2JqQ0Jvb2w+KSAtPiBCb29sKSAtPiBJbmRleFNldCB7fQogICAgb3BlbiBmdW5jIGluZGV4ZXNPZk9iamVjdHMob3B0aW9ucyBvcHRzOiBOU0VudW1lcmF0aW9uT3B0aW9ucyA9IHgsIHBhc3NpbmdUZXN0IHByZWRpY2F0ZTogKEFueSwgSW50LCBVbnNhZmVNdXRhYmxlUG9pbnRlcjxPYmpDQm9vbD4pIC0+IEJvb2wpIC0+IEluZGV4U2V0IHt9CiAgICBvcGVuIGZ1bmMgaW5kZXhlc09mT2JqZWN0cyhwYXNzaW5nVGVzdCBwcmVkaWNhdGU6IChBbnksIEludCwgVW5zYWZlTXV0YWJsZVBvaW50ZXI8T2JqQ0Jvb2w+KSAtPiBCb29sKSAtPiBJbmRleFNldCB7fQogICAgb3BlbiBmdW5jIGlzRXF1YWwodG8gb3RoZXJBcnJheTogW0FueV0pIC0+IEJvb2wge30KICAgIHB1YmxpYyBmdW5jIG1ha2VJdGVyYXRvcigpIC0+IEl0ZXJhdG9yIHt9CiAgICBvcGVuIGZ1bmMgb2JqZWN0KGF0IGluZGV4OiBJbnQpIC0+IEFueSB7fQogICAgb3BlbiBmdW5jIG9iamVjdEVudW1lcmF0b3IoKSAtPiBOU0VudW1lcmF0b3Ige30KICAgIG9wZW4gZnVuYyBvYmplY3RzKGF0IGluZGV4ZXM6IEluZGV4U2V0KSAtPiBbQW55XSB7fQogICAgb3BlbiBmdW5jIHBhdGhzTWF0Y2hpbmdFeHRlbnNpb25zKF8gZmlsdGVyVHlwZXM6IFtTdHJpbmddKSAtPiBbU3RyaW5nXSB7fQogICAgb3BlbiBmdW5jIHJldmVyc2VPYmplY3RFbnVtZXJhdG9yKCkgLT4gTlNFbnVtZXJhdG9yIHt9CiAgICBvcGVuIGZ1bmMgc29ydGVkQXJyYXkoXyBjb21wYXJhdG9yOiAoQW55LCBBbnksIFVuc2FmZU11dGFibGVSYXdQb2ludGVyPykgLT4gSW50LCBjb250ZXh0OiBVbnNhZmVNdXRhYmxlUmF3UG9pbnRlcj8pIC0+IFtBbnldIHt9CiAgICBvcGVuIGZ1bmMgc29ydGVkQXJyYXkoXyBjb21wYXJhdG9yOiAoQW55LCBBbnksIFVuc2FmZU11dGFibGVSYXdQb2ludGVyPykgLT4gSW50LCBjb250ZXh0OiBVbnNhZmVNdXRhYmxlUmF3UG9pbnRlcj8sIGhpbnQ6IERhdGE/KSAtPiBbQW55XSB7fQogICAgb3BlbiBmdW5jIHNvcnRlZEFycmF5KGNvbXBhcmF0b3IgY21wdHI6IChBbnksIEFueSkgLT4gQ29tcGFyaXNvblJlc3VsdCkgLT4gW0FueV0ge30KICAgIG9wZW4gZnVuYyBzb3J0ZWRBcnJheShvcHRpb25zIG9wdHM6IE5TU29ydE9wdGlvbnMgPSB4LCB1c2luZ0NvbXBhcmF0b3IgY21wdHI6IChBbnksIEFueSkgLT4gQ29tcGFyaXNvblJlc3VsdCkgLT4gW0FueV0ge30KICAgIG9wZW4gZnVuYyBzb3J0ZWRBcnJheSh1c2luZyBzb3J0RGVzY3JpcHRvcnM6IFtOU1NvcnREZXNjcmlwdG9yXSkgLT4gW0FueV0ge30KICAgIG9wZW4gZnVuYyBzdWJhcnJheSh3aXRoIHJhbmdlOiBOU1JhbmdlKSAtPiBbQW55XSB7fQogICAgb3BlbiBmdW5jIHdyaXRlKHRvIHVybDogVVJMKSB0aHJvd3Mge30KfQpvcGVuIGNsYXNzIE5TQXR0cmlidXRlZFN0cmluZyA6IEFueU9iamVjdCwgQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TQ29kaW5nLCBOU0NvcHlpbmcsIE5TTXV0YWJsZUNvcHlpbmcsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBOU1NlY3VyZUNvZGluZywgX0NGQnJpZGdlYWJsZSB7CiAgICBwdWJsaWMgaW5pdChhdHRyaWJ1dGVkU3RyaW5nOiBOU0F0dHJpYnV0ZWRTdHJpbmcpIHt9CiAgICBwdWJsaWMgaW5pdChzdHJpbmc6IFN0cmluZykge30KICAgIHB1YmxpYyBpbml0KHN0cmluZzogU3RyaW5nLCBhdHRyaWJ1dGVzIGF0dHJzOiBbTlNBdHRyaWJ1dGVkU3RyaW5nLktleTogQW55XT8gPSB4KSB7fQogICAgb3BlbiB2YXIgbGVuZ3RoOiBJbnQgeyBnZXQgfQogICAgb3BlbiB2YXIgc3RyaW5nOiBTdHJpbmcgeyBnZXQgfQogICAgb3BlbiBmdW5jIGF0dHJpYnV0ZShfIGF0dHJOYW1lOiBOU0F0dHJpYnV0ZWRTdHJpbmcuS2V5LCBhdCBsb2NhdGlvbjogSW50LCBlZmZlY3RpdmVSYW5nZSByYW5nZTogTlNSYW5nZVBvaW50ZXI/KSAtPiBBbnk/IHt9CiAgICBvcGVuIGZ1bmMgYXR0cmlidXRlKF8gYXR0ck5hbWU6IE5TQXR0cmlidXRlZFN0cmluZy5LZXksIGF0IGxvY2F0aW9uOiBJbnQsIGxvbmdlc3RFZmZlY3RpdmVSYW5nZSByYW5nZTogTlNSYW5nZVBvaW50ZXI/LCBpbiByYW5nZUxpbWl0OiBOU1JhbmdlKSAtPiBBbnk/IHt9CiAgICBvcGVuIGZ1bmMgYXR0cmlidXRlZFN1YnN0cmluZyhmcm9tIHJhbmdlOiBOU1JhbmdlKSAtPiBOU0F0dHJpYnV0ZWRTdHJpbmcge30KICAgIG9wZW4gZnVuYyBhdHRyaWJ1dGVzKGF0IGxvY2F0aW9uOiBJbnQsIGVmZmVjdGl2ZVJhbmdlIHJhbmdlOiBOU1JhbmdlUG9pbnRlcj8pIC0+IFtOU0F0dHJpYnV0ZWRTdHJpbmcuS2V5OiBBbnldIHt9CiAgICBvcGVuIGZ1bmMgYXR0cmlidXRlcyhhdCBsb2NhdGlvbjogSW50LCBsb25nZXN0RWZmZWN0aXZlUmFuZ2UgcmFuZ2U6IE5TUmFuZ2VQb2ludGVyPywgaW4gcmFuZ2VMaW1pdDogTlNSYW5nZSkgLT4gW05TQXR0cmlidXRlZFN0cmluZy5LZXk6IEFueV0ge30KICAgIG9wZW4gZnVuYyBlbnVtZXJhdGVBdHRyaWJ1dGUoXyBhdHRyTmFtZTogTlNBdHRyaWJ1dGVkU3RyaW5nLktleSwgaW4gZW51bWVyYXRpb25SYW5nZTogTlNSYW5nZSwgb3B0aW9ucyBvcHRzOiBOU0F0dHJpYnV0ZWRTdHJpbmcuRW51bWVyYXRpb25PcHRpb25zID0geCwgdXNpbmcgYmxvY2s6IChBbnk/LCBOU1JhbmdlLCBVbnNhZmVNdXRhYmxlUG9pbnRlcjxPYmpDQm9vbD4pIC0+IFN3aWZ0LlZvaWQpIHt9CiAgICBvcGVuIGZ1bmMgZW51bWVyYXRlQXR0cmlidXRlcyhpbiBlbnVtZXJhdGlvblJhbmdlOiBOU1JhbmdlLCBvcHRpb25zIG9wdHM6IE5TQXR0cmlidXRlZFN0cmluZy5FbnVtZXJhdGlvbk9wdGlvbnMgPSB4LCB1c2luZyBibG9jazogKFtOU0F0dHJpYnV0ZWRTdHJpbmcuS2V5OiBBbnldLCBOU1JhbmdlLCBVbnNhZmVNdXRhYmxlUG9pbnRlcjxPYmpDQm9vbD4pIC0+IFN3aWZ0LlZvaWQpIHt9CiAgICBvcGVuIGZ1bmMgaXNFcXVhbCh0byBvdGhlcjogTlNBdHRyaWJ1dGVkU3RyaW5nKSAtPiBCb29sIHt9Cn0Kb3BlbiBjbGFzcyBOU0NhY2hlPEtleVR5cGUsIE9iamVjdFR5cGU+IDogQW55T2JqZWN0LCBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wgewogICAgb3BlbiB2YXIgY291bnRMaW1pdDogSW50IHsgZ2V0IHNldCB9CiAgICBvcGVuIHdlYWsgdmFyIGRlbGVnYXRlOiBOU0NhY2hlRGVsZWdhdGU/IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBldmljdHNPYmplY3RzV2l0aERpc2NhcmRlZENvbnRlbnQ6IEJvb2wgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIG5hbWU6IFN0cmluZyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgdG90YWxDb3N0TGltaXQ6IEludCB7IGdldCBzZXQgfQogICAgb3BlbiBmdW5jIG9iamVjdChmb3JLZXkga2V5OiBLZXlUeXBlKSAtPiBPYmplY3RUeXBlPyB7fQogICAgb3BlbiBmdW5jIHJlbW92ZUFsbE9iamVjdHMoKSB7fQogICAgb3BlbiBmdW5jIHJlbW92ZU9iamVjdChmb3JLZXkga2V5OiBLZXlUeXBlKSB7fQogICAgb3BlbiBmdW5jIHNldE9iamVjdChfIG9iajogT2JqZWN0VHlwZSwgZm9yS2V5IGtleTogS2V5VHlwZSkge30KICAgIG9wZW4gZnVuYyBzZXRPYmplY3QoXyBvYmo6IE9iamVjdFR5cGUsIGZvcktleSBrZXk6IEtleVR5cGUsIGNvc3QgZzogSW50KSB7fQp9Cm9wZW4gY2xhc3MgTlNDYWxlbmRhciA6IEFueU9iamVjdCwgQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TQ29kaW5nLCBOU0NvcHlpbmcsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBOU1NlY3VyZUNvZGluZywgX0NGQnJpZGdlYWJsZSwgX1N0cnVjdFR5cGVCcmlkZ2VhYmxlLCBfU3dpZnRCcmlkZ2VhYmxlIHsKICAgIG9wZW4gY2xhc3MgdmFyIGF1dG91cGRhdGluZ0N1cnJlbnQ6IENhbGVuZGFyIHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgdmFyIGN1cnJlbnQ6IENhbGVuZGFyIHsgZ2V0IH0KICAgIHB1YmxpYyBpbml0PyhjYWxlbmRhcklkZW50aWZpZXIgaWRlbnQ6IElkZW50aWZpZXIpIHt9CiAgICBwdWJsaWMgaW5pdD8oaWRlbnRpZmllciBjYWxlbmRhcklkZW50aWZpZXJDb25zdGFudDogSWRlbnRpZmllcikge30KICAgIG9wZW4gdmFyIGFtU3ltYm9sOiBTdHJpbmcgeyBnZXQgfQogICAgb3BlbiB2YXIgY2FsZW5kYXJJZGVudGlmaWVyOiBJZGVudGlmaWVyIHsgZ2V0IH0KICAgIG9wZW4gdmFyIGVyYVN5bWJvbHM6IFtTdHJpbmddIHsgZ2V0IH0KICAgIG9wZW4gdmFyIGZpcnN0V2Vla2RheTogSW50IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBsb2NhbGU6IExvY2FsZT8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGxvbmdFcmFTeW1ib2xzOiBbU3RyaW5nXSB7IGdldCB9CiAgICBvcGVuIHZhciBtaW5pbXVtRGF5c0luRmlyc3RXZWVrOiBJbnQgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIG1vbnRoU3ltYm9sczogW1N0cmluZ10geyBnZXQgfQogICAgb3BlbiB2YXIgcG1TeW1ib2w6IFN0cmluZyB7IGdldCB9CiAgICBvcGVuIHZhciBxdWFydGVyU3ltYm9sczogW1N0cmluZ10geyBnZXQgfQogICAgb3BlbiB2YXIgc2hvcnRNb250aFN5bWJvbHM6IFtTdHJpbmddIHsgZ2V0IH0KICAgIG9wZW4gdmFyIHNob3J0UXVhcnRlclN5bWJvbHM6IFtTdHJpbmddIHsgZ2V0IH0KICAgIG9wZW4gdmFyIHNob3J0U3RhbmRhbG9uZU1vbnRoU3ltYm9sczogW1N0cmluZ10geyBnZXQgfQogICAgb3BlbiB2YXIgc2hvcnRTdGFuZGFsb25lUXVhcnRlclN5bWJvbHM6IFtTdHJpbmddIHsgZ2V0IH0KICAgIG9wZW4gdmFyIHNob3J0U3RhbmRhbG9uZVdlZWtkYXlTeW1ib2xzOiBbU3RyaW5nXSB7IGdldCB9CiAgICBvcGVuIHZhciBzaG9ydFdlZWtkYXlTeW1ib2xzOiBbU3RyaW5nXSB7IGdldCB9CiAgICBvcGVuIHZhciBzdGFuZGFsb25lTW9udGhTeW1ib2xzOiBbU3RyaW5nXSB7IGdldCB9CiAgICBvcGVuIHZhciBzdGFuZGFsb25lUXVhcnRlclN5bWJvbHM6IFtTdHJpbmddIHsgZ2V0IH0KICAgIG9wZW4gdmFyIHN0YW5kYWxvbmVXZWVrZGF5U3ltYm9sczogW1N0cmluZ10geyBnZXQgfQogICAgb3BlbiB2YXIgdGltZVpvbmU6IFRpbWVab25lIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciB2ZXJ5U2hvcnRNb250aFN5bWJvbHM6IFtTdHJpbmddIHsgZ2V0IH0KICAgIG9wZW4gdmFyIHZlcnlTaG9ydFN0YW5kYWxvbmVNb250aFN5bWJvbHM6IFtTdHJpbmddIHsgZ2V0IH0KICAgIG9wZW4gdmFyIHZlcnlTaG9ydFN0YW5kYWxvbmVXZWVrZGF5U3ltYm9sczogW1N0cmluZ10geyBnZXQgfQogICAgb3BlbiB2YXIgdmVyeVNob3J0V2Vla2RheVN5bWJvbHM6IFtTdHJpbmddIHsgZ2V0IH0KICAgIG9wZW4gdmFyIHdlZWtkYXlTeW1ib2xzOiBbU3RyaW5nXSB7IGdldCB9CiAgICBvcGVuIGZ1bmMgY29tcGFyZShfIGRhdGUxOiBEYXRlLCB0byBkYXRlMjogRGF0ZSwgdG9Vbml0R3JhbnVsYXJpdHkgdW5pdDogVW5pdCkgLT4gQ29tcGFyaXNvblJlc3VsdCB7fQogICAgb3BlbiBmdW5jIGNvbXBvbmVudChfIHVuaXQ6IFVuaXQsIGZyb20gZGF0ZTogRGF0ZSkgLT4gSW50IHt9CiAgICBvcGVuIGZ1bmMgY29tcG9uZW50cyhfIHVuaXRGbGFnczogVW5pdCwgZnJvbSBkYXRlOiBEYXRlKSAtPiBEYXRlQ29tcG9uZW50cyB7fQogICAgb3BlbiBmdW5jIGNvbXBvbmVudHMoXyB1bml0RmxhZ3M6IFVuaXQsIGZyb20gc3RhcnRpbmdEYXRlOiBEYXRlLCB0byByZXN1bHREYXRlOiBEYXRlLCBvcHRpb25zIG9wdHM6IE9wdGlvbnMgPSB4KSAtPiBEYXRlQ29tcG9uZW50cyB7fQogICAgb3BlbiBmdW5jIGNvbXBvbmVudHMoaW4gdGltZXpvbmU6IFRpbWVab25lLCBmcm9tIGRhdGU6IERhdGUpIC0+IERhdGVDb21wb25lbnRzIHt9CiAgICBvcGVuIGZ1bmMgZGF0ZShfIGRhdGU6IERhdGUsIG1hdGNoZXNDb21wb25lbnRzIGNvbXBvbmVudHM6IERhdGVDb21wb25lbnRzKSAtPiBCb29sIHt9CiAgICBvcGVuIGZ1bmMgZGF0ZShieUFkZGluZyBjb21wczogRGF0ZUNvbXBvbmVudHMsIHRvIGRhdGU6IERhdGUsIG9wdGlvbnMgb3B0czogT3B0aW9ucyA9IHgpIC0+IERhdGU/IHt9CiAgICBvcGVuIGZ1bmMgZGF0ZShieUFkZGluZyB1bml0OiBVbml0LCB2YWx1ZTogSW50LCB0byBkYXRlOiBEYXRlLCBvcHRpb25zOiBPcHRpb25zID0geCkgLT4gRGF0ZT8ge30KICAgIG9wZW4gZnVuYyBkYXRlKGJ5U2V0dGluZ0hvdXIgaDogSW50LCBtaW51dGUgbTogSW50LCBzZWNvbmQgczogSW50LCBvZiBkYXRlOiBEYXRlLCBvcHRpb25zIG9wdHM6IE9wdGlvbnMgPSB4KSAtPiBEYXRlPyB7fQogICAgb3BlbiBmdW5jIGRhdGUoYnlTZXR0aW5nVW5pdCB1bml0OiBVbml0LCB2YWx1ZSB2OiBJbnQsIG9mIGRhdGU6IERhdGUsIG9wdGlvbnMgb3B0czogT3B0aW9ucyA9IHgpIC0+IERhdGU/IHt9CiAgICBvcGVuIGZ1bmMgZGF0ZShlcmEgZXJhVmFsdWU6IEludCwgeWVhciB5ZWFyVmFsdWU6IEludCwgbW9udGggbW9udGhWYWx1ZTogSW50LCBkYXkgZGF5VmFsdWU6IEludCwgaG91ciBob3VyVmFsdWU6IEludCwgbWludXRlIG1pbnV0ZVZhbHVlOiBJbnQsIHNlY29uZCBzZWNvbmRWYWx1ZTogSW50LCBuYW5vc2Vjb25kIG5hbm9zZWNvbmRWYWx1ZTogSW50KSAtPiBEYXRlPyB7fQogICAgb3BlbiBmdW5jIGRhdGUoZXJhIGVyYVZhbHVlOiBJbnQsIHllYXJGb3JXZWVrT2ZZZWFyIHllYXJWYWx1ZTogSW50LCB3ZWVrT2ZZZWFyIHdlZWtWYWx1ZTogSW50LCB3ZWVrZGF5IHdlZWtkYXlWYWx1ZTogSW50LCBob3VyIGhvdXJWYWx1ZTogSW50LCBtaW51dGUgbWludXRlVmFsdWU6IEludCwgc2Vjb25kIHNlY29uZFZhbHVlOiBJbnQsIG5hbm9zZWNvbmQgbmFub3NlY29uZFZhbHVlOiBJbnQpIC0+IERhdGU/IHt9CiAgICBvcGVuIGZ1bmMgZGF0ZShmcm9tIGNvbXBzOiBEYXRlQ29tcG9uZW50cykgLT4gRGF0ZT8ge30KICAgIG9wZW4gZnVuYyBlbnVtZXJhdGVEYXRlcyhzdGFydGluZ0FmdGVyIHN0YXJ0OiBEYXRlLCBtYXRjaGluZyBjb21wczogRGF0ZUNvbXBvbmVudHMsIG9wdGlvbnMgb3B0czogTlNDYWxlbmRhci5PcHRpb25zID0geCwgdXNpbmcgYmxvY2s6IChEYXRlPywgQm9vbCwgVW5zYWZlTXV0YWJsZVBvaW50ZXI8T2JqQ0Jvb2w+KSAtPiBTd2lmdC5Wb2lkKSB7fQogICAgb3BlbiBmdW5jIGdldEVyYShfIGVyYVZhbHVlUG9pbnRlcjogVW5zYWZlTXV0YWJsZVBvaW50ZXI8SW50Pj8sIHllYXIgeWVhclZhbHVlUG9pbnRlcjogVW5zYWZlTXV0YWJsZVBvaW50ZXI8SW50Pj8sIG1vbnRoIG1vbnRoVmFsdWVQb2ludGVyOiBVbnNhZmVNdXRhYmxlUG9pbnRlcjxJbnQ+PywgZGF5IGRheVZhbHVlUG9pbnRlcjogVW5zYWZlTXV0YWJsZVBvaW50ZXI8SW50Pj8sIGZyb20gZGF0ZTogRGF0ZSkge30KICAgIG9wZW4gZnVuYyBnZXRFcmEoXyBlcmFWYWx1ZVBvaW50ZXI6IFVuc2FmZU11dGFibGVQb2ludGVyPEludD4/LCB5ZWFyRm9yV2Vla09mWWVhciB5ZWFyVmFsdWVQb2ludGVyOiBVbnNhZmVNdXRhYmxlUG9pbnRlcjxJbnQ+Pywgd2Vla09mWWVhciB3ZWVrVmFsdWVQb2ludGVyOiBVbnNhZmVNdXRhYmxlUG9pbnRlcjxJbnQ+Pywgd2Vla2RheSB3ZWVrZGF5VmFsdWVQb2ludGVyOiBVbnNhZmVNdXRhYmxlUG9pbnRlcjxJbnQ+PywgZnJvbSBkYXRlOiBEYXRlKSB7fQogICAgb3BlbiBmdW5jIGdldEhvdXIoXyBob3VyVmFsdWVQb2ludGVyOiBVbnNhZmVNdXRhYmxlUG9pbnRlcjxJbnQ+PywgbWludXRlIG1pbnV0ZVZhbHVlUG9pbnRlcjogVW5zYWZlTXV0YWJsZVBvaW50ZXI8SW50Pj8sIHNlY29uZCBzZWNvbmRWYWx1ZVBvaW50ZXI6IFVuc2FmZU11dGFibGVQb2ludGVyPEludD4/LCBuYW5vc2Vjb25kIG5hbm9zZWNvbmRWYWx1ZVBvaW50ZXI6IFVuc2FmZU11dGFibGVQb2ludGVyPEludD4/LCBmcm9tIGRhdGU6IERhdGUpIHt9CiAgICBvcGVuIGZ1bmMgaXNEYXRlKF8gZGF0ZTE6IERhdGUsIGVxdWFsVG8gZGF0ZTI6IERhdGUsIHRvVW5pdEdyYW51bGFyaXR5IHVuaXQ6IFVuaXQpIC0+IEJvb2wge30KICAgIG9wZW4gZnVuYyBpc0RhdGUoXyBkYXRlMTogRGF0ZSwgaW5TYW1lRGF5QXMgZGF0ZTI6IERhdGUpIC0+IEJvb2wge30KICAgIG9wZW4gZnVuYyBpc0RhdGVJblRvZGF5KF8gZGF0ZTogRGF0ZSkgLT4gQm9vbCB7fQogICAgb3BlbiBmdW5jIGlzRGF0ZUluVG9tb3Jyb3coXyBkYXRlOiBEYXRlKSAtPiBCb29sIHt9CiAgICBvcGVuIGZ1bmMgaXNEYXRlSW5XZWVrZW5kKF8gZGF0ZTogRGF0ZSkgLT4gQm9vbCB7fQogICAgb3BlbiBmdW5jIGlzRGF0ZUluWWVzdGVyZGF5KF8gZGF0ZTogRGF0ZSkgLT4gQm9vbCB7fQogICAgb3BlbiBmdW5jIG1heGltdW1SYW5nZShvZiB1bml0OiBVbml0KSAtPiBOU1JhbmdlIHt9CiAgICBvcGVuIGZ1bmMgbWluaW11bVJhbmdlKG9mIHVuaXQ6IFVuaXQpIC0+IE5TUmFuZ2Uge30KICAgIG9wZW4gZnVuYyBuZXh0RGF0ZShhZnRlciBkYXRlOiBEYXRlLCBtYXRjaGluZyBjb21wczogRGF0ZUNvbXBvbmVudHMsIG9wdGlvbnM6IE9wdGlvbnMgPSB4KSAtPiBEYXRlPyB7fQogICAgb3BlbiBmdW5jIG5leHREYXRlKGFmdGVyIGRhdGU6IERhdGUsIG1hdGNoaW5nIHVuaXQ6IFVuaXQsIHZhbHVlOiBJbnQsIG9wdGlvbnM6IE9wdGlvbnMgPSB4KSAtPiBEYXRlPyB7fQogICAgb3BlbiBmdW5jIG5leHREYXRlKGFmdGVyIGRhdGU6IERhdGUsIG1hdGNoaW5nSG91ciBob3VyVmFsdWU6IEludCwgbWludXRlIG1pbnV0ZVZhbHVlOiBJbnQsIHNlY29uZCBzZWNvbmRWYWx1ZTogSW50LCBvcHRpb25zOiBPcHRpb25zID0geCkgLT4gRGF0ZT8ge30KICAgIG9wZW4gZnVuYyBuZXh0V2Vla2VuZEFmdGVyKF8gZGF0ZTogRGF0ZSwgb3B0aW9uczogT3B0aW9ucykgLT4gRGF0ZUludGVydmFsPyB7fQogICAgb3BlbiBmdW5jIG9yZGluYWxpdHkob2Ygc21hbGxlcjogVW5pdCwgaW4gbGFyZ2VyOiBVbml0LCBmb3IgZGF0ZTogRGF0ZSkgLT4gSW50IHt9CiAgICBvcGVuIGZ1bmMgcmFuZ2Uob2YgdW5pdDogVW5pdCwgZm9yIGRhdGU6IERhdGUpIC0+IERhdGVJbnRlcnZhbD8ge30KICAgIG9wZW4gZnVuYyByYW5nZShvZiBzbWFsbGVyOiBVbml0LCBpbiBsYXJnZXI6IFVuaXQsIGZvciBkYXRlOiBEYXRlKSAtPiBOU1JhbmdlIHt9CiAgICBvcGVuIGZ1bmMgcmFuZ2Uob2ZXZWVrZW5kQ29udGFpbmluZyBkYXRlOiBEYXRlKSAtPiBEYXRlSW50ZXJ2YWw/IHt9CiAgICBvcGVuIGZ1bmMgc3RhcnRPZkRheShmb3IgZGF0ZTogRGF0ZSkgLT4gRGF0ZSB7fQp9Cm9wZW4gY2xhc3MgTlNDaGFyYWN0ZXJTZXQgOiBBbnlPYmplY3QsIEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU0NvZGluZywgTlNDb3B5aW5nLCBOU011dGFibGVDb3B5aW5nLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCwgTlNTZWN1cmVDb2RpbmcsIF9TdHJ1Y3RUeXBlQnJpZGdlYWJsZSwgX1N3aWZ0QnJpZGdlYWJsZSB7CiAgICBvcGVuIGNsYXNzIHZhciBhbHBoYW51bWVyaWNzOiBDaGFyYWN0ZXJTZXQgeyBnZXQgfQogICAgb3BlbiBjbGFzcyB2YXIgY2FwaXRhbGl6ZWRMZXR0ZXJzOiBDaGFyYWN0ZXJTZXQgeyBnZXQgfQogICAgb3BlbiBjbGFzcyB2YXIgY29udHJvbENoYXJhY3RlcnM6IENoYXJhY3RlclNldCB7IGdldCB9CiAgICBvcGVuIGNsYXNzIHZhciBkZWNpbWFsRGlnaXRzOiBDaGFyYWN0ZXJTZXQgeyBnZXQgfQogICAgb3BlbiBjbGFzcyB2YXIgZGVjb21wb3NhYmxlczogQ2hhcmFjdGVyU2V0IHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgdmFyIGlsbGVnYWxDaGFyYWN0ZXJzOiBDaGFyYWN0ZXJTZXQgeyBnZXQgfQogICAgcHVibGljIGNsYXNzIHZhciBsZXR0ZXJzOiBDaGFyYWN0ZXJTZXQgeyBnZXQgfQogICAgb3BlbiBjbGFzcyB2YXIgbG93ZXJjYXNlTGV0dGVyczogQ2hhcmFjdGVyU2V0IHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgdmFyIG5ld2xpbmVzOiBDaGFyYWN0ZXJTZXQgeyBnZXQgfQogICAgb3BlbiBjbGFzcyB2YXIgbm9uQmFzZUNoYXJhY3RlcnM6IENoYXJhY3RlclNldCB7IGdldCB9CiAgICBvcGVuIGNsYXNzIHZhciBwdW5jdHVhdGlvbkNoYXJhY3RlcnM6IENoYXJhY3RlclNldCB7IGdldCB9CiAgICBvcGVuIGNsYXNzIHZhciBzeW1ib2xzOiBDaGFyYWN0ZXJTZXQgeyBnZXQgfQogICAgb3BlbiBjbGFzcyB2YXIgdXBwZXJjYXNlTGV0dGVyczogQ2hhcmFjdGVyU2V0IHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgdmFyIHVybEZyYWdtZW50QWxsb3dlZDogQ2hhcmFjdGVyU2V0IHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgdmFyIHVybEhvc3RBbGxvd2VkOiBDaGFyYWN0ZXJTZXQgeyBnZXQgfQogICAgb3BlbiBjbGFzcyB2YXIgdXJsUGFzc3dvcmRBbGxvd2VkOiBDaGFyYWN0ZXJTZXQgeyBnZXQgfQogICAgb3BlbiBjbGFzcyB2YXIgdXJsUGF0aEFsbG93ZWQ6IENoYXJhY3RlclNldCB7IGdldCB9CiAgICBvcGVuIGNsYXNzIHZhciB1cmxRdWVyeUFsbG93ZWQ6IENoYXJhY3RlclNldCB7IGdldCB9CiAgICBvcGVuIGNsYXNzIHZhciB1cmxVc2VyQWxsb3dlZDogQ2hhcmFjdGVyU2V0IHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgdmFyIHdoaXRlc3BhY2VzOiBDaGFyYWN0ZXJTZXQgeyBnZXQgfQogICAgb3BlbiBjbGFzcyB2YXIgd2hpdGVzcGFjZXNBbmROZXdsaW5lczogQ2hhcmFjdGVyU2V0IHsgZ2V0IH0KICAgIHB1YmxpYyBpbml0KGJpdG1hcFJlcHJlc2VudGF0aW9uIGRhdGE6IERhdGEpIHt9CiAgICBwdWJsaWMgaW5pdChjaGFyYWN0ZXJzSW4gYVN0cmluZzogU3RyaW5nKSB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQ/KGNvbnRlbnRzT2ZGaWxlIGZOYW1lOiBTdHJpbmcpIHt9CiAgICBwdWJsaWMgaW5pdChyYW5nZSBhUmFuZ2U6IE5TUmFuZ2UpIHt9CiAgICBvcGVuIHZhciBiaXRtYXBSZXByZXNlbnRhdGlvbjogRGF0YSB7IGdldCB9CiAgICBvcGVuIHZhciBpbnZlcnRlZDogQ2hhcmFjdGVyU2V0IHsgZ2V0IH0KICAgIG9wZW4gZnVuYyBjaGFyYWN0ZXJJc01lbWJlcihfIGFDaGFyYWN0ZXI6IHVuaWNoYXIpIC0+IEJvb2wge30KICAgIG9wZW4gZnVuYyBoYXNNZW1iZXJJblBsYW5lKF8gdGhlUGxhbmU6IFVJbnQ4KSAtPiBCb29sIHt9CiAgICBvcGVuIGZ1bmMgaXNTdXBlcnNldChvZiB0aGVPdGhlclNldDogQ2hhcmFjdGVyU2V0KSAtPiBCb29sIHt9CiAgICBvcGVuIGZ1bmMgbG9uZ0NoYXJhY3RlcklzTWVtYmVyKF8gdGhlTG9uZ0NoYXI6IFVJbnQzMikgLT4gQm9vbCB7fQp9Cm9wZW4gY2xhc3MgTlNDb2RlciA6IEFueU9iamVjdCwgQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sIHsKICAgIG9wZW4gdmFyIGFsbG93ZWRDbGFzc2VzOiBbQW55Q2xhc3NdPyB7IGdldCB9CiAgICBvcGVuIHZhciBhbGxvd3NLZXllZENvZGluZzogQm9vbCB7IGdldCB9CiAgICBvcGVuIHZhciBkZWNvZGluZ0ZhaWx1cmVQb2xpY3k6IE5TQ29kZXIuRGVjb2RpbmdGYWlsdXJlUG9saWN5IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGVycm9yOiBFcnJvcj8geyBnZXQgfQogICAgb3BlbiB2YXIgcmVxdWlyZXNTZWN1cmVDb2Rpbmc6IEJvb2wgeyBnZXQgfQogICAgb3BlbiB2YXIgc3lzdGVtVmVyc2lvbjogVUludDMyIHsgZ2V0IH0KICAgIG9wZW4gZnVuYyBjb250YWluc1ZhbHVlKGZvcktleSBrZXk6IFN0cmluZykgLT4gQm9vbCB7fQogICAgb3BlbiBmdW5jIGRlY29kZUFycmF5KG9mT2JqQ1R5cGUgaXRlbVR5cGU6IFVuc2FmZVBvaW50ZXI8SW50OD4sIGNvdW50OiBJbnQsIGF0IGFycmF5OiBVbnNhZmVNdXRhYmxlUmF3UG9pbnRlcikge30KICAgIG9wZW4gZnVuYyBkZWNvZGVCb29sKGZvcktleSBrZXk6IFN0cmluZykgLT4gQm9vbCB7fQogICAgb3BlbiBmdW5jIGRlY29kZUNJbnQoZm9yS2V5IGtleTogU3RyaW5nKSAtPiBJbnQzMiB7fQogICAgb3BlbiBmdW5jIGRlY29kZURhdGEoKSAtPiBEYXRhPyB7fQogICAgb3BlbiBmdW5jIGRlY29kZURvdWJsZShmb3JLZXkga2V5OiBTdHJpbmcpIC0+IERvdWJsZSB7fQogICAgb3BlbiBmdW5jIGRlY29kZUZsb2F0KGZvcktleSBrZXk6IFN0cmluZykgLT4gRmxvYXQge30KICAgIG9wZW4gZnVuYyBkZWNvZGVJbnQzMihmb3JLZXkga2V5OiBTdHJpbmcpIC0+IEludDMyIHt9CiAgICBvcGVuIGZ1bmMgZGVjb2RlSW50NjQoZm9yS2V5IGtleTogU3RyaW5nKSAtPiBJbnQ2NCB7fQogICAgb3BlbiBmdW5jIGRlY29kZUludGVnZXIoZm9yS2V5IGtleTogU3RyaW5nKSAtPiBJbnQge30KICAgIG9wZW4gZnVuYyBkZWNvZGVPYmplY3QoKSAtPiBBbnk/IHt9CiAgICBvcGVuIGZ1bmMgZGVjb2RlT2JqZWN0KGZvcktleSBrZXk6IFN0cmluZykgLT4gQW55PyB7fQogICAgb3BlbiBmdW5jIGRlY29kZU9iamVjdChvZiBjbGFzc2VzOiBbQW55Q2xhc3NdPywgZm9yS2V5IGtleTogU3RyaW5nKSAtPiBBbnk/IHt9CiAgICBwdWJsaWMgZnVuYyBkZWNvZGVQb2ludCgpIC0+IE5TUG9pbnQge30KICAgIHB1YmxpYyBmdW5jIGRlY29kZVBvaW50KGZvcktleSBrZXk6IFN0cmluZykgLT4gTlNQb2ludCB7fQogICAgb3BlbiBmdW5jIGRlY29kZVByb3BlcnR5TGlzdCgpIC0+IEFueT8ge30KICAgIG9wZW4gZnVuYyBkZWNvZGVQcm9wZXJ0eUxpc3QoZm9yS2V5IGtleTogU3RyaW5nKSAtPiBBbnk/IHt9CiAgICBwdWJsaWMgZnVuYyBkZWNvZGVSZWN0KCkgLT4gTlNSZWN0IHt9CiAgICBwdWJsaWMgZnVuYyBkZWNvZGVSZWN0KGZvcktleSBrZXk6IFN0cmluZykgLT4gTlNSZWN0IHt9CiAgICBwdWJsaWMgZnVuYyBkZWNvZGVTaXplKCkgLT4gTlNTaXplIHt9CiAgICBwdWJsaWMgZnVuYyBkZWNvZGVTaXplKGZvcktleSBrZXk6IFN0cmluZykgLT4gTlNTaXplIHt9CiAgICBvcGVuIGZ1bmMgZGVjb2RlVmFsdWUob2ZPYmpDVHlwZSB0eXBlOiBVbnNhZmVQb2ludGVyPEludDg+LCBhdCBkYXRhOiBVbnNhZmVNdXRhYmxlUmF3UG9pbnRlcikge30KICAgIG9wZW4gZnVuYyBlbmNvZGUoXyBkYXRhOiBEYXRhKSB7fQogICAgb3BlbiBmdW5jIGVuY29kZShfIG9iamVjdDogQW55Pykge30KICAgIG9wZW4gZnVuYyBlbmNvZGUoXyBib29sdjogQm9vbCwgZm9yS2V5IGtleTogU3RyaW5nKSB7fQogICAgb3BlbiBmdW5jIGVuY29kZShfIGludHY6IEludCwgZm9yS2V5IGtleTogU3RyaW5nKSB7fQogICAgb3BlbiBmdW5jIGVuY29kZShfIGludHY6IEludDMyLCBmb3JLZXkga2V5OiBTdHJpbmcpIHt9CiAgICBvcGVuIGZ1bmMgZW5jb2RlKF8gaW50djogSW50NjQsIGZvcktleSBrZXk6IFN0cmluZykge30KICAgIG9wZW4gZnVuYyBlbmNvZGUoXyBvYmp2OiBBbnk/LCBmb3JLZXkga2V5OiBTdHJpbmcpIHt9CiAgICBvcGVuIGZ1bmMgZW5jb2RlKF8gcmVhbHY6IERvdWJsZSwgZm9yS2V5IGtleTogU3RyaW5nKSB7fQogICAgb3BlbiBmdW5jIGVuY29kZUFycmF5KG9mT2JqQ1R5cGUgdHlwZTogVW5zYWZlUG9pbnRlcjxJbnQ4PiwgY291bnQ6IEludCwgYXQgYXJyYXk6IFVuc2FmZVJhd1BvaW50ZXIpIHt9CiAgICBvcGVuIGZ1bmMgZW5jb2RlQnljb3B5T2JqZWN0KF8gYW5PYmplY3Q6IEFueT8pIHt9CiAgICBvcGVuIGZ1bmMgZW5jb2RlQnlyZWZPYmplY3QoXyBhbk9iamVjdDogQW55Pykge30KICAgIG9wZW4gZnVuYyBlbmNvZGVCeXRlcyhfIGJ5dGVhZGRyOiBVbnNhZmVSYXdQb2ludGVyPywgbGVuZ3RoOiBJbnQpIHt9CiAgICBvcGVuIGZ1bmMgZW5jb2RlQnl0ZXMoXyBieXRlc3A6IFVuc2FmZVBvaW50ZXI8VUludDg+PywgbGVuZ3RoIGxlbnY6IEludCwgZm9yS2V5IGtleTogU3RyaW5nKSB7fQogICAgb3BlbiBmdW5jIGVuY29kZUNvbmRpdGlvbmFsT2JqZWN0KF8gb2JqZWN0OiBBbnk/KSB7fQogICAgb3BlbiBmdW5jIGVuY29kZUNvbmRpdGlvbmFsT2JqZWN0KF8gb2JqdjogQW55PywgZm9yS2V5IGtleTogU3RyaW5nKSB7fQogICAgb3BlbiBmdW5jIGVuY29kZVByb3BlcnR5TGlzdChfIGFQcm9wZXJ0eUxpc3Q6IEFueSkge30KICAgIG9wZW4gZnVuYyBlbmNvZGVSb290T2JqZWN0KF8gcm9vdE9iamVjdDogQW55KSB7fQogICAgb3BlbiBmdW5jIGVuY29kZVZhbHVlKG9mT2JqQ1R5cGUgdHlwZTogVW5zYWZlUG9pbnRlcjxJbnQ4PiwgYXQgYWRkcjogVW5zYWZlUmF3UG9pbnRlcikge30KICAgIG9wZW4gZnVuYyBmYWlsV2l0aEVycm9yKF8gZXJyb3I6IEVycm9yKSB7fQogICAgb3BlbiBmdW5jIHZlcnNpb24oZm9yQ2xhc3NOYW1lIGNsYXNzTmFtZTogU3RyaW5nKSAtPiBJbnQge30KICAgIG9wZW4gZnVuYyB3aXRoRGVjb2RlZFVuc2FmZUJ5dGVzPFJlc3VsdFR5cGU+KGZvcktleSBrZXk6IFN0cmluZywgYm9keTogKFVuc2FmZVJhd0J1ZmZlclBvaW50ZXI/KSB0aHJvd3MgLT4gUmVzdWx0VHlwZSkgcmV0aHJvd3MgLT4gUmVzdWx0VHlwZSB7fQp9Cm9wZW4gY2xhc3MgTlNDb21wb3VuZFByZWRpY2F0ZSA6IEFueU9iamVjdCwgQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TQ29weWluZywgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wsIE5TUHJlZGljYXRlIHsKICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KGFuZFByZWRpY2F0ZVdpdGhTdWJwcmVkaWNhdGVzIHN1YnByZWRpY2F0ZXM6IFtOU1ByZWRpY2F0ZV0pIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdChub3RQcmVkaWNhdGVXaXRoU3VicHJlZGljYXRlIHByZWRpY2F0ZTogTlNQcmVkaWNhdGUpIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdChvclByZWRpY2F0ZVdpdGhTdWJwcmVkaWNhdGVzIHN1YnByZWRpY2F0ZXM6IFtOU1ByZWRpY2F0ZV0pIHt9CiAgICBwdWJsaWMgaW5pdCh0eXBlOiBMb2dpY2FsVHlwZSwgc3VicHJlZGljYXRlczogW05TUHJlZGljYXRlXSkge30KICAgIG9wZW4gdmFyIGNvbXBvdW5kUHJlZGljYXRlVHlwZTogTG9naWNhbFR5cGUgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHN1YnByZWRpY2F0ZXM6IFtOU1ByZWRpY2F0ZV0geyBnZXQgc2V0IH0KfQpvcGVuIGNsYXNzIE5TQ29uZGl0aW9uIDogQW55T2JqZWN0LCBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNMb2NraW5nLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCB7CiAgICBvcGVuIHZhciBuYW1lOiBTdHJpbmc/IHsgZ2V0IHNldCB9CiAgICBvcGVuIGZ1bmMgYnJvYWRjYXN0KCkge30KICAgIG9wZW4gZnVuYyBzaWduYWwoKSB7fQogICAgb3BlbiBmdW5jIHdhaXQoKSB7fQogICAgb3BlbiBmdW5jIHdhaXQodW50aWwgbGltaXQ6IERhdGUpIC0+IEJvb2wge30KfQpvcGVuIGNsYXNzIE5TQ29uZGl0aW9uTG9jayA6IEFueU9iamVjdCwgQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TTG9ja2luZywgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wgewogICAgcHVibGljIGluaXQoY29uZGl0aW9uOiBJbnQpIHt9CiAgICBvcGVuIHZhciBjb25kaXRpb246IEludCB7IGdldCB9CiAgICBvcGVuIHZhciBuYW1lOiBTdHJpbmc/IHsgZ2V0IHNldCB9CiAgICBvcGVuIGZ1bmMgYHRyeWAoKSAtPiBCb29sIHt9CiAgICBvcGVuIGZ1bmMgbG9jayhiZWZvcmUgbGltaXQ6IERhdGUpIC0+IEJvb2wge30KICAgIG9wZW4gZnVuYyBsb2NrKHdoZW5Db25kaXRpb24gY29uZGl0aW9uOiBJbnQpIHt9CiAgICBvcGVuIGZ1bmMgbG9jayh3aGVuQ29uZGl0aW9uIGNvbmRpdGlvbjogSW50LCBiZWZvcmUgbGltaXQ6IERhdGUpIC0+IEJvb2wge30KICAgIG9wZW4gZnVuYyB0cnlMb2NrKHdoZW5Db25kaXRpb24gY29uZGl0aW9uOiBJbnQpIC0+IEJvb2wge30KICAgIG9wZW4gZnVuYyB1bmxvY2sod2l0aENvbmRpdGlvbiBjb25kaXRpb246IEludCkge30KfQpvcGVuIGNsYXNzIE5TQ291bnRlZFNldCA6IEFueU9iamVjdCwgQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tUmVmbGVjdGFibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU0NvZGluZywgTlNDb3B5aW5nLCBOU011dGFibGVDb3B5aW5nLCBOU011dGFibGVTZXQsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBOU1NlY3VyZUNvZGluZywgTlNTZXQsIFNlcXVlbmNlLCBfQ0ZCcmlkZ2VhYmxlLCBfU3RydWN0VHlwZUJyaWRnZWFibGUsIF9Td2lmdEJyaWRnZWFibGUgewogICAgb3BlbiBmdW5jIGNvdW50KGZvciBvYmplY3Q6IEFueSkgLT4gSW50IHt9Cn0Kb3BlbiBjbGFzcyBOU0RhdGEgOiBBbnlPYmplY3QsIEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBEYXRhUHJvdG9jb2wsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TQ29kaW5nLCBOU0NvcHlpbmcsIE5TTXV0YWJsZUNvcHlpbmcsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBOU1NlY3VyZUNvZGluZywgUmFuZG9tQWNjZXNzQ29sbGVjdGlvbiwgX0NGQnJpZGdlYWJsZSwgX0hhc0N1c3RvbUFueUhhc2hhYmxlUmVwcmVzZW50YXRpb24sIF9TdHJ1Y3RUeXBlQnJpZGdlYWJsZSwgX1N3aWZ0QnJpZGdlYWJsZSB7CiAgICBwdWJsaWMgaW5pdD8oYmFzZTY0RW5jb2RlZCBiYXNlNjREYXRhOiBEYXRhLCBvcHRpb25zOiBCYXNlNjREZWNvZGluZ09wdGlvbnMgPSB4KSB7fQogICAgcHVibGljIGluaXQ/KGJhc2U2NEVuY29kZWQgYmFzZTY0U3RyaW5nOiBTdHJpbmcsIG9wdGlvbnM6IEJhc2U2NERlY29kaW5nT3B0aW9ucyA9IHgpIHt9CiAgICBwdWJsaWMgaW5pdChieXRlczogVW5zYWZlUmF3UG9pbnRlcj8sIGxlbmd0aDogSW50KSB7fQogICAgcHVibGljIGluaXQoYnl0ZXNOb0NvcHkgYnl0ZXM6IFVuc2FmZU11dGFibGVSYXdQb2ludGVyLCBsZW5ndGg6IEludCkge30KICAgIHB1YmxpYyBpbml0KGJ5dGVzTm9Db3B5IGJ5dGVzOiBVbnNhZmVNdXRhYmxlUmF3UG9pbnRlciwgbGVuZ3RoOiBJbnQsIGRlYWxsb2NhdG9yOiAoKFVuc2FmZU11dGFibGVSYXdQb2ludGVyLCBJbnQpIC0+IFZvaWQpPyA9IHgpIHt9CiAgICBwdWJsaWMgaW5pdChieXRlc05vQ29weSBieXRlczogVW5zYWZlTXV0YWJsZVJhd1BvaW50ZXIsIGxlbmd0aDogSW50LCBmcmVlV2hlbkRvbmU6IEJvb2wpIHt9CiAgICBwdWJsaWMgaW5pdD8oY29udGVudHNPZiB1cmw6IFVSTCkge30KICAgIHB1YmxpYyBpbml0KGNvbnRlbnRzT2YgdXJsOiBVUkwsIG9wdGlvbnMgcmVhZE9wdGlvbnNNYXNrOiBSZWFkaW5nT3B0aW9ucyA9IHgpIHRocm93cyB7fQogICAgcHVibGljIGluaXQ/KGNvbnRlbnRzT2ZGaWxlIHBhdGg6IFN0cmluZykge30KICAgIHB1YmxpYyBpbml0KGNvbnRlbnRzT2ZGaWxlIHBhdGg6IFN0cmluZywgb3B0aW9ucyByZWFkT3B0aW9uc01hc2s6IFJlYWRpbmdPcHRpb25zID0geCkgdGhyb3dzIHt9CiAgICBwdWJsaWMgaW5pdChkYXRhOiBEYXRhKSB7fQogICAgb3BlbiB2YXIgYnl0ZXM6IFVuc2FmZVJhd1BvaW50ZXIgeyBnZXQgfQogICAgQG5vbm9iamMgcHVibGljIHZhciBlbmRJbmRleDogSW50IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGxlbmd0aDogSW50IHsgZ2V0IH0KICAgIEBub25vYmpjIHB1YmxpYyB2YXIgc3RhcnRJbmRleDogSW50IHsgZ2V0IH0KICAgIEBub25vYmpjIHB1YmxpYyBzdWJzY3JpcHQocG9zaXRpb246IEludCkgLT4gVUludDggeyBnZXQgfSB7fQogICAgb3BlbiBmdW5jIGJhc2U2NEVuY29kZWREYXRhKG9wdGlvbnM6IEJhc2U2NEVuY29kaW5nT3B0aW9ucyA9IHgpIC0+IERhdGEge30KICAgIG9wZW4gZnVuYyBiYXNlNjRFbmNvZGVkU3RyaW5nKG9wdGlvbnM6IEJhc2U2NEVuY29kaW5nT3B0aW9ucyA9IHgpIC0+IFN0cmluZyB7fQogICAgb3BlbiBmdW5jIGVudW1lcmF0ZUJ5dGVzKF8gYmxvY2s6IChVbnNhZmVSYXdQb2ludGVyLCBOU1JhbmdlLCBVbnNhZmVNdXRhYmxlUG9pbnRlcjxCb29sPikgLT4gVm9pZCkge30KICAgIG9wZW4gZnVuYyBnZXRCeXRlcyhfIGJ1ZmZlcjogVW5zYWZlTXV0YWJsZVJhd1BvaW50ZXIsIGxlbmd0aDogSW50KSB7fQogICAgb3BlbiBmdW5jIGdldEJ5dGVzKF8gYnVmZmVyOiBVbnNhZmVNdXRhYmxlUmF3UG9pbnRlciwgcmFuZ2U6IE5TUmFuZ2UpIHt9CiAgICBvcGVuIGZ1bmMgaXNFcXVhbCh0byBvdGhlcjogRGF0YSkgLT4gQm9vbCB7fQogICAgb3BlbiBmdW5jIHJhbmdlKG9mIGRhdGFUb0ZpbmQ6IERhdGEsIG9wdGlvbnMgbWFzazogU2VhcmNoT3B0aW9ucyA9IHgsIGluIHNlYXJjaFJhbmdlOiBOU1JhbmdlKSAtPiBOU1JhbmdlIHt9CiAgICBvcGVuIGZ1bmMgc3ViZGF0YSh3aXRoIHJhbmdlOiBOU1JhbmdlKSAtPiBEYXRhIHt9CiAgICBvcGVuIGZ1bmMgd3JpdGUodG8gdXJsOiBVUkwsIGF0b21pY2FsbHk6IEJvb2wpIC0+IEJvb2wge30KICAgIG9wZW4gZnVuYyB3cml0ZSh0byB1cmw6IFVSTCwgb3B0aW9ucyB3cml0ZU9wdGlvbnNNYXNrOiBXcml0aW5nT3B0aW9ucyA9IHgpIHRocm93cyB7fQogICAgb3BlbiBmdW5jIHdyaXRlKHRvRmlsZSBwYXRoOiBTdHJpbmcsIGF0b21pY2FsbHkgdXNlQXV4aWxpYXJ5RmlsZTogQm9vbCkgLT4gQm9vbCB7fQogICAgb3BlbiBmdW5jIHdyaXRlKHRvRmlsZSBwYXRoOiBTdHJpbmcsIG9wdGlvbnMgd3JpdGVPcHRpb25zTWFzazogV3JpdGluZ09wdGlvbnMgPSB4KSB0aHJvd3Mge30KfQpvcGVuIGNsYXNzIE5TRGF0ZSA6IEFueU9iamVjdCwgQ29tcGFyYWJsZSwgQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TQ29kaW5nLCBOU0NvcHlpbmcsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBOU1NlY3VyZUNvZGluZywgX0NGQnJpZGdlYWJsZSwgX1N0cnVjdFR5cGVCcmlkZ2VhYmxlLCBfU3dpZnRCcmlkZ2VhYmxlIHsKICAgIG9wZW4gY2xhc3MgdmFyIGRpc3RhbnRGdXR1cmU6IERhdGUgeyBnZXQgfQogICAgb3BlbiBjbGFzcyB2YXIgZGlzdGFudFBhc3Q6IERhdGUgeyBnZXQgfQogICAgb3BlbiBjbGFzcyB2YXIgdGltZUludGVydmFsU2luY2VSZWZlcmVuY2VEYXRlOiBUaW1lSW50ZXJ2YWwgeyBnZXQgfQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQodGltZUludGVydmFsIHNlY3NUb0JlQWRkZWQ6IFRpbWVJbnRlcnZhbCwgc2luY2UgZGF0ZTogRGF0ZSkge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KHRpbWVJbnRlcnZhbFNpbmNlMTk3MCBzZWNzOiBUaW1lSW50ZXJ2YWwpIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdCh0aW1lSW50ZXJ2YWxTaW5jZU5vdyBzZWNzOiBUaW1lSW50ZXJ2YWwpIHt9CiAgICBwdWJsaWMgcmVxdWlyZWQgaW5pdCh0aW1lSW50ZXJ2YWxTaW5jZVJlZmVyZW5jZURhdGUgdGk6IFRpbWVJbnRlcnZhbCkge30KICAgIG9wZW4gdmFyIHRpbWVJbnRlcnZhbFNpbmNlMTk3MDogVGltZUludGVydmFsIHsgZ2V0IH0KICAgIG9wZW4gdmFyIHRpbWVJbnRlcnZhbFNpbmNlTm93OiBUaW1lSW50ZXJ2YWwgeyBnZXQgfQogICAgb3BlbiB2YXIgdGltZUludGVydmFsU2luY2VSZWZlcmVuY2VEYXRlOiBUaW1lSW50ZXJ2YWwgeyBnZXQgfQogICAgcHVibGljIGZ1bmMgPChsaHM6IE5TRGF0ZSwgcmhzOiBOU0RhdGUpIC0+IEJvb2wge30KICAgIG9wZW4gZnVuYyBhZGRpbmdUaW1lSW50ZXJ2YWwoXyB0aTogVGltZUludGVydmFsKSAtPiBEYXRlIHt9CiAgICBvcGVuIGZ1bmMgY29tcGFyZShfIG90aGVyOiBEYXRlKSAtPiBDb21wYXJpc29uUmVzdWx0IHt9CiAgICBvcGVuIGZ1bmMgZGVzY3JpcHRpb24od2l0aCBsb2NhbGU6IExvY2FsZT8pIC0+IFN0cmluZyB7fQogICAgb3BlbiBmdW5jIGVhcmxpZXJEYXRlKF8gYW5vdGhlckRhdGU6IERhdGUpIC0+IERhdGUge30KICAgIG9wZW4gZnVuYyBpc0VxdWFsKHRvIG90aGVyRGF0ZTogRGF0ZSkgLT4gQm9vbCB7fQogICAgb3BlbiBmdW5jIGxhdGVyRGF0ZShfIGFub3RoZXJEYXRlOiBEYXRlKSAtPiBEYXRlIHt9CiAgICBvcGVuIGZ1bmMgdGltZUludGVydmFsU2luY2UoXyBhbm90aGVyRGF0ZTogRGF0ZSkgLT4gVGltZUludGVydmFsIHt9Cn0Kb3BlbiBjbGFzcyBOU0RhdGVDb21wb25lbnRzIDogQW55T2JqZWN0LCBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNDb2RpbmcsIE5TQ29weWluZywgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wsIE5TU2VjdXJlQ29kaW5nLCBfU3RydWN0VHlwZUJyaWRnZWFibGUsIF9Td2lmdEJyaWRnZWFibGUgewogICAgb3BlbiB2YXIgY2FsZW5kYXI6IENhbGVuZGFyPyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgZGF0ZTogRGF0ZT8geyBnZXQgfQogICAgb3BlbiB2YXIgZGF5OiBJbnQgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGVyYTogSW50IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBob3VyOiBJbnQgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGlzTGVhcE1vbnRoOiBCb29sIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBpc1ZhbGlkRGF0ZTogQm9vbCB7IGdldCB9CiAgICBvcGVuIHZhciBtaW51dGU6IEludCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgbW9udGg6IEludCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgbmFub3NlY29uZDogSW50IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBxdWFydGVyOiBJbnQgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHNlY29uZDogSW50IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciB0aW1lWm9uZTogVGltZVpvbmU/IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciB3ZWVrT2ZNb250aDogSW50IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciB3ZWVrT2ZZZWFyOiBJbnQgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHdlZWtkYXk6IEludCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgd2Vla2RheU9yZGluYWw6IEludCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgeWVhcjogSW50IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciB5ZWFyRm9yV2Vla09mWWVhcjogSW50IHsgZ2V0IHNldCB9CiAgICBvcGVuIGZ1bmMgaXNWYWxpZERhdGUoaW4gY2FsZW5kYXI6IENhbGVuZGFyKSAtPiBCb29sIHt9CiAgICBvcGVuIGZ1bmMgc2V0VmFsdWUoXyB2YWx1ZTogSW50LCBmb3JDb21wb25lbnQgdW5pdDogTlNDYWxlbmRhci5Vbml0KSB7fQogICAgb3BlbiBmdW5jIHZhbHVlKGZvckNvbXBvbmVudCB1bml0OiBOU0NhbGVuZGFyLlVuaXQpIC0+IEludCB7fQp9Cm9wZW4gY2xhc3MgTlNEYXRlSW50ZXJ2YWwgOiBBbnlPYmplY3QsIENvbXBhcmFibGUsIEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU0NvZGluZywgTlNDb3B5aW5nLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCwgTlNTZWN1cmVDb2RpbmcsIF9TdHJ1Y3RUeXBlQnJpZGdlYWJsZSwgX1N3aWZ0QnJpZGdlYWJsZSB7CiAgICBwdWJsaWMgaW5pdChzdGFydCBzdGFydERhdGU6IERhdGUsIGR1cmF0aW9uOiBUaW1lSW50ZXJ2YWwpIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdChzdGFydCBzdGFydERhdGU6IERhdGUsIGVuZCBlbmREYXRlOiBEYXRlKSB7fQogICAgb3BlbiB2YXIgZHVyYXRpb246IFRpbWVJbnRlcnZhbCB7IGdldCB9CiAgICBvcGVuIHZhciBlbmREYXRlOiBEYXRlIHsgZ2V0IH0KICAgIG9wZW4gdmFyIHN0YXJ0RGF0ZTogRGF0ZSB7IGdldCB9CiAgICBwdWJsaWMgZnVuYyA8KGxoczogTlNEYXRlSW50ZXJ2YWwsIHJoczogTlNEYXRlSW50ZXJ2YWwpIC0+IEJvb2wge30KICAgIG9wZW4gZnVuYyBjb21wYXJlKF8gZGF0ZUludGVydmFsOiBEYXRlSW50ZXJ2YWwpIC0+IENvbXBhcmlzb25SZXN1bHQge30KICAgIG9wZW4gZnVuYyBjb250YWlucyhfIGRhdGU6IERhdGUpIC0+IEJvb2wge30KICAgIG9wZW4gZnVuYyBpbnRlcnNlY3Rpb24od2l0aCBkYXRlSW50ZXJ2YWw6IERhdGVJbnRlcnZhbCkgLT4gRGF0ZUludGVydmFsPyB7fQogICAgb3BlbiBmdW5jIGludGVyc2VjdHMoXyBkYXRlSW50ZXJ2YWw6IERhdGVJbnRlcnZhbCkgLT4gQm9vbCB7fQogICAgb3BlbiBmdW5jIGlzRXF1YWwodG8gZGF0ZUludGVydmFsOiBEYXRlSW50ZXJ2YWwpIC0+IEJvb2wge30KfQpvcGVuIGNsYXNzIE5TRGVjaW1hbE51bWJlciA6IEFueU9iamVjdCwgQ29tcGFyYWJsZSwgQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgRXhwcmVzc2libGVCeUJvb2xlYW5MaXRlcmFsLCBFeHByZXNzaWJsZUJ5RmxvYXRMaXRlcmFsLCBFeHByZXNzaWJsZUJ5SW50ZWdlckxpdGVyYWwsIEhhc2hhYmxlLCBOU0NvZGluZywgTlNDb3B5aW5nLCBOU051bWJlciwgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wsIE5TU2VjdXJlQ29kaW5nLCBOU1ZhbHVlLCBfRmFjdG9yeSwgX05TTnVtYmVyQ2FzdGluZ1dpdGhvdXRCcmlkZ2luZyB7CiAgICBvcGVuIGNsYXNzIHZhciBkZWZhdWx0QmVoYXZpb3I6IE5TRGVjaW1hbE51bWJlckJlaGF2aW9ycyB7IGdldCB9CiAgICBvcGVuIGNsYXNzIHZhciBtYXhpbXVtOiBOU0RlY2ltYWxOdW1iZXIgeyBnZXQgfQogICAgb3BlbiBjbGFzcyB2YXIgbWluaW11bTogTlNEZWNpbWFsTnVtYmVyIHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgdmFyIG5vdEFOdW1iZXI6IE5TRGVjaW1hbE51bWJlciB7IGdldCB9CiAgICBvcGVuIGNsYXNzIHZhciBvbmU6IE5TRGVjaW1hbE51bWJlciB7IGdldCB9CiAgICBvcGVuIGNsYXNzIHZhciB6ZXJvOiBOU0RlY2ltYWxOdW1iZXIgeyBnZXQgfQogICAgcHVibGljIGluaXQoZGVjaW1hbCBkY206IERlY2ltYWwpIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdChtYW50aXNzYTogVUludDY0LCBleHBvbmVudDogSW50MTYsIGlzTmVnYXRpdmU6IEJvb2wpIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdChzdHJpbmcgbnVtYmVyVmFsdWU6IFN0cmluZz8pIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdChzdHJpbmcgbnVtYmVyVmFsdWU6IFN0cmluZz8sIGxvY2FsZTogQW55Pykge30KICAgIG9wZW4gZnVuYyBhZGRpbmcoXyBvdGhlcjogTlNEZWNpbWFsTnVtYmVyKSAtPiBOU0RlY2ltYWxOdW1iZXIge30KICAgIG9wZW4gZnVuYyBhZGRpbmcoXyBvdGhlcjogTlNEZWNpbWFsTnVtYmVyLCB3aXRoQmVoYXZpb3IgYjogTlNEZWNpbWFsTnVtYmVyQmVoYXZpb3JzPykgLT4gTlNEZWNpbWFsTnVtYmVyIHt9CiAgICBvcGVuIGZ1bmMgZGl2aWRpbmcoYnkgb3RoZXI6IE5TRGVjaW1hbE51bWJlcikgLT4gTlNEZWNpbWFsTnVtYmVyIHt9CiAgICBvcGVuIGZ1bmMgZGl2aWRpbmcoYnkgb3RoZXI6IE5TRGVjaW1hbE51bWJlciwgd2l0aEJlaGF2aW9yIGI6IE5TRGVjaW1hbE51bWJlckJlaGF2aW9ycz8pIC0+IE5TRGVjaW1hbE51bWJlciB7fQogICAgb3BlbiBmdW5jIG11bHRpcGx5aW5nKGJ5IG90aGVyOiBOU0RlY2ltYWxOdW1iZXIpIC0+IE5TRGVjaW1hbE51bWJlciB7fQogICAgb3BlbiBmdW5jIG11bHRpcGx5aW5nKGJ5IG90aGVyOiBOU0RlY2ltYWxOdW1iZXIsIHdpdGhCZWhhdmlvciBiOiBOU0RlY2ltYWxOdW1iZXJCZWhhdmlvcnM/KSAtPiBOU0RlY2ltYWxOdW1iZXIge30KICAgIG9wZW4gZnVuYyBtdWx0aXBseWluZyhieVBvd2VyT2YxMCBwb3dlcjogSW50MTYpIC0+IE5TRGVjaW1hbE51bWJlciB7fQogICAgb3BlbiBmdW5jIG11bHRpcGx5aW5nKGJ5UG93ZXJPZjEwIHBvd2VyOiBJbnQxNiwgd2l0aEJlaGF2aW9yIGI6IE5TRGVjaW1hbE51bWJlckJlaGF2aW9ycz8pIC0+IE5TRGVjaW1hbE51bWJlciB7fQogICAgb3BlbiBmdW5jIHJhaXNpbmcodG9Qb3dlciBwb3dlcjogSW50KSAtPiBOU0RlY2ltYWxOdW1iZXIge30KICAgIG9wZW4gZnVuYyByYWlzaW5nKHRvUG93ZXIgcG93ZXI6IEludCwgd2l0aEJlaGF2aW9yIGI6IE5TRGVjaW1hbE51bWJlckJlaGF2aW9ycz8pIC0+IE5TRGVjaW1hbE51bWJlciB7fQogICAgb3BlbiBmdW5jIHJvdW5kaW5nKGFjY29yZGluZ1RvQmVoYXZpb3IgYjogTlNEZWNpbWFsTnVtYmVyQmVoYXZpb3JzPykgLT4gTlNEZWNpbWFsTnVtYmVyIHt9CiAgICBvcGVuIGZ1bmMgc3VidHJhY3RpbmcoXyBvdGhlcjogTlNEZWNpbWFsTnVtYmVyKSAtPiBOU0RlY2ltYWxOdW1iZXIge30KICAgIG9wZW4gZnVuYyBzdWJ0cmFjdGluZyhfIG90aGVyOiBOU0RlY2ltYWxOdW1iZXIsIHdpdGhCZWhhdmlvciBiOiBOU0RlY2ltYWxOdW1iZXJCZWhhdmlvcnM/KSAtPiBOU0RlY2ltYWxOdW1iZXIge30KfQpvcGVuIGNsYXNzIE5TRGVjaW1hbE51bWJlckhhbmRsZXIgOiBBbnlPYmplY3QsIEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU0NvZGluZywgTlNEZWNpbWFsTnVtYmVyQmVoYXZpb3JzLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCB7CiAgICBvcGVuIGNsYXNzIHZhciBgZGVmYXVsdGA6IE5TRGVjaW1hbE51bWJlckhhbmRsZXIgeyBnZXQgfQogICAgcHVibGljIGluaXQocm91bmRpbmdNb2RlOiBOU0RlY2ltYWxOdW1iZXIuUm91bmRpbmdNb2RlLCBzY2FsZTogSW50MTYsIHJhaXNlT25FeGFjdG5lc3MgZXhhY3Q6IEJvb2wsIHJhaXNlT25PdmVyZmxvdyBvdmVyZmxvdzogQm9vbCwgcmFpc2VPblVuZGVyZmxvdyB1bmRlcmZsb3c6IEJvb2wsIHJhaXNlT25EaXZpZGVCeVplcm8gZGl2aWRlQnlaZXJvOiBCb29sKSB7fQp9Cm9wZW4gY2xhc3MgTlNEaWN0aW9uYXJ5IDogQW55T2JqZWN0LCBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21SZWZsZWN0YWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgRXhwcmVzc2libGVCeURpY3Rpb25hcnlMaXRlcmFsLCBIYXNoYWJsZSwgTlNDb2RpbmcsIE5TQ29weWluZywgTlNNdXRhYmxlQ29weWluZywgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wsIE5TU2VjdXJlQ29kaW5nLCBTZXF1ZW5jZSwgX0NGQnJpZGdlYWJsZSwgX1N0cnVjdFR5cGVCcmlkZ2VhYmxlLCBfU3dpZnRCcmlkZ2VhYmxlIHsKICAgIG9wZW4gY2xhc3MgZnVuYyBzaGFyZWRLZXlTZXQoZm9yS2V5cyBrZXlzOiBbTlNDb3B5aW5nXSkgLT4gQW55IHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdChkaWN0aW9uYXJ5IG90aGVyRGljdGlvbmFyeTogW0FueUhhc2hhYmxlOiBBbnldKSB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQoZGljdGlvbmFyeSBvdGhlckRpY3Rpb25hcnk6IFtBbnlIYXNoYWJsZTogQW55XSwgY29weUl0ZW1zIGZsYWc6IEJvb2wpIHt9CiAgICBwdWJsaWMgcmVxdWlyZWQgY29udmVuaWVuY2UgaW5pdChkaWN0aW9uYXJ5TGl0ZXJhbCBlbGVtZW50czogKEFueSwgQW55KS4uLikge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KG9iamVjdDogQW55LCBmb3JLZXkga2V5OiBOU0NvcHlpbmcpIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdChvYmplY3RzOiBbQW55XSwgZm9yS2V5cyBrZXlzOiBbTlNPYmplY3RdKSB7fQogICAgcHVibGljIHJlcXVpcmVkIGluaXQob2JqZWN0czogVW5zYWZlUG9pbnRlcjxBbnlPYmplY3Q+ISwgZm9yS2V5cyBrZXlzOiBVbnNhZmVQb2ludGVyPE5TT2JqZWN0PiEsIGNvdW50IGNudDogSW50KSB7fQogICAgb3BlbiB2YXIgYWxsS2V5czogW0FueV0geyBnZXQgfQogICAgb3BlbiB2YXIgYWxsVmFsdWVzOiBbQW55XSB7IGdldCB9CiAgICBvcGVuIHZhciBjb3VudDogSW50IHsgZ2V0IH0KICAgIHB1YmxpYyB2YXIgY3VzdG9tTWlycm9yOiBNaXJyb3IgeyBnZXQgfQogICAgb3BlbiB2YXIgZGVzY3JpcHRpb25JblN0cmluZ3NGaWxlRm9ybWF0OiBTdHJpbmcgeyBnZXQgfQogICAgb3BlbiBzdWJzY3JpcHQoa2V5OiBBbnkpIC0+IEFueT8geyBnZXQgfSB7fQogICAgb3BlbiBmdW5jIGFsbEtleXMoZm9yIGFuT2JqZWN0OiBBbnkpIC0+IFtBbnldIHt9CiAgICBvcGVuIGZ1bmMgZGVzY3JpcHRpb24od2l0aExvY2FsZSBsb2NhbGU6IExvY2FsZT8pIC0+IFN0cmluZyB7fQogICAgb3BlbiBmdW5jIGRlc2NyaXB0aW9uKHdpdGhMb2NhbGUgbG9jYWxlOiBMb2NhbGU/LCBpbmRlbnQgbGV2ZWw6IEludCkgLT4gU3RyaW5nIHt9CiAgICBvcGVuIGZ1bmMgZW51bWVyYXRlS2V5c0FuZE9iamVjdHMoXyBibG9jazogKEFueSwgQW55LCBVbnNhZmVNdXRhYmxlUG9pbnRlcjxPYmpDQm9vbD4pIC0+IFN3aWZ0LlZvaWQpIHt9CiAgICBvcGVuIGZ1bmMgZW51bWVyYXRlS2V5c0FuZE9iamVjdHMob3B0aW9ucyBvcHRzOiBOU0VudW1lcmF0aW9uT3B0aW9ucyA9IHgsIHVzaW5nIGJsb2NrOiAoQW55LCBBbnksIFVuc2FmZU11dGFibGVQb2ludGVyPE9iakNCb29sPikgLT4gVm9pZCkge30KICAgIG9wZW4gZnVuYyBnZXRPYmplY3RzKF8gb2JqZWN0czogaW5vdXQgW0FueV0sIGFuZEtleXMga2V5czogaW5vdXQgW0FueV0sIGNvdW50OiBJbnQpIHt9CiAgICBvcGVuIGZ1bmMgaXNFcXVhbCh0byBvdGhlckRpY3Rpb25hcnk6IFtBbnlIYXNoYWJsZTogQW55XSkgLT4gQm9vbCB7fQogICAgb3BlbiBmdW5jIGtleUVudW1lcmF0b3IoKSAtPiBOU0VudW1lcmF0b3Ige30KICAgIG9wZW4gZnVuYyBrZXlzT2ZFbnRyaWVzKG9wdGlvbnMgb3B0czogTlNFbnVtZXJhdGlvbk9wdGlvbnMgPSB4LCBwYXNzaW5nVGVzdCBwcmVkaWNhdGU6IChBbnksIEFueSwgVW5zYWZlTXV0YWJsZVBvaW50ZXI8T2JqQ0Jvb2w+KSAtPiBCb29sKSAtPiBTZXQ8QW55SGFzaGFibGU+IHt9CiAgICBvcGVuIGZ1bmMga2V5c09mRW50cmllcyhwYXNzaW5nVGVzdCBwcmVkaWNhdGU6IChBbnksIEFueSwgVW5zYWZlTXV0YWJsZVBvaW50ZXI8T2JqQ0Jvb2w+KSAtPiBCb29sKSAtPiBTZXQ8QW55SGFzaGFibGU+IHt9CiAgICBvcGVuIGZ1bmMga2V5c1NvcnRlZEJ5VmFsdWUoY29tcGFyYXRvciBjbXB0cjogKEFueSwgQW55KSAtPiBDb21wYXJpc29uUmVzdWx0KSAtPiBbQW55XSB7fQogICAgb3BlbiBmdW5jIGtleXNTb3J0ZWRCeVZhbHVlKG9wdGlvbnMgb3B0czogTlNTb3J0T3B0aW9ucyA9IHgsIHVzaW5nQ29tcGFyYXRvciBjbXB0cjogKEFueSwgQW55KSAtPiBDb21wYXJpc29uUmVzdWx0KSAtPiBbQW55XSB7fQogICAgcHVibGljIGZ1bmMgbWFrZUl0ZXJhdG9yKCkgLT4gSXRlcmF0b3Ige30KICAgIG9wZW4gZnVuYyBvYmplY3QoZm9yS2V5IGFLZXk6IEFueSkgLT4gQW55PyB7fQogICAgb3BlbiBmdW5jIG9iamVjdEVudW1lcmF0b3IoKSAtPiBOU0VudW1lcmF0b3Ige30KICAgIG9wZW4gZnVuYyBvYmplY3RzKGZvcktleXMga2V5czogW0FueV0sIG5vdEZvdW5kTWFya2VyIG1hcmtlcjogQW55KSAtPiBbQW55XSB7fQogICAgb3BlbiBmdW5jIHZhbHVlKGZvcktleSBrZXk6IFN0cmluZykgLT4gQW55PyB7fQogICAgb3BlbiBmdW5jIHdyaXRlKHRvIHVybDogVVJMLCBhdG9taWNhbGx5OiBCb29sKSAtPiBCb29sIHt9CiAgICBvcGVuIGZ1bmMgd3JpdGUodG9GaWxlIHBhdGg6IFN0cmluZywgYXRvbWljYWxseSB1c2VBdXhpbGlhcnlGaWxlOiBCb29sKSAtPiBCb29sIHt9Cn0Kb3BlbiBjbGFzcyBOU0VudW1lcmF0b3IgOiBBbnlPYmplY3QsIEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCwgU2VxdWVuY2UgewogICAgcHVibGljIHZhciBhbGxPYmplY3RzOiBbQW55XSB7IGdldCB9CiAgICBwdWJsaWMgZnVuYyBtYWtlSXRlcmF0b3IoKSAtPiBJdGVyYXRvciB7fQogICAgb3BlbiBmdW5jIG5leHRPYmplY3QoKSAtPiBBbnk/IHt9Cn0Kb3BlbiBjbGFzcyBOU0Vycm9yIDogQW55T2JqZWN0LCBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNDb2RpbmcsIE5TQ29weWluZywgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wsIE5TU2VjdXJlQ29kaW5nLCBTd2lmdC5FcnJvciwgX0NGQnJpZGdlYWJsZSB7CiAgICBvcGVuIGNsYXNzIGZ1bmMgc2V0VXNlckluZm9WYWx1ZVByb3ZpZGVyKGZvckRvbWFpbiBlcnJvckRvbWFpbjogU3RyaW5nLCBwcm92aWRlcjogKChFcnJvciwgU3RyaW5nKSAtPiBBbnk/KT8pIHt9CiAgICBvcGVuIGNsYXNzIGZ1bmMgdXNlckluZm9WYWx1ZVByb3ZpZGVyKGZvckRvbWFpbiBlcnJvckRvbWFpbjogU3RyaW5nKSAtPiAoKEVycm9yLCBTdHJpbmcpIC0+IEFueT8pPyB7fQogICAgcHVibGljIGluaXQoZG9tYWluOiBTdHJpbmcsIGNvZGU6IEludCwgdXNlckluZm8gZGljdDogW1N0cmluZzogQW55XT8gPSB4KSB7fQogICAgb3BlbiB2YXIgY29kZTogSW50IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGRvbWFpbjogU3RyaW5nIHsgZ2V0IH0KICAgIG9wZW4gdmFyIGhlbHBBbmNob3I6IFN0cmluZz8geyBnZXQgfQogICAgb3BlbiB2YXIgbG9jYWxpemVkRGVzY3JpcHRpb246IFN0cmluZyB7IGdldCB9CiAgICBvcGVuIHZhciBsb2NhbGl6ZWRGYWlsdXJlUmVhc29uOiBTdHJpbmc/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGxvY2FsaXplZFJlY292ZXJ5T3B0aW9uczogW1N0cmluZ10/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGxvY2FsaXplZFJlY292ZXJ5U3VnZ2VzdGlvbjogU3RyaW5nPyB7IGdldCB9CiAgICBvcGVuIHZhciByZWNvdmVyeUF0dGVtcHRlcjogQW55PyB7IGdldCB9CiAgICBvcGVuIHZhciB1c2VySW5mbzogW1N0cmluZzogQW55XSB7IGdldCB9Cn0Kb3BlbiBjbGFzcyBOU0luZGV4UGF0aCA6IEFueU9iamVjdCwgQ29tcGFyYWJsZSwgQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TQ29kaW5nLCBOU0NvcHlpbmcsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBOU1NlY3VyZUNvZGluZywgX0hhc0N1c3RvbUFueUhhc2hhYmxlUmVwcmVzZW50YXRpb24sIF9TdHJ1Y3RUeXBlQnJpZGdlYWJsZSwgX1N3aWZ0QnJpZGdlYWJsZSB7CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdChpbmRleDogSW50KSB7fQogICAgcHVibGljIGluaXQoaW5kZXhlczogVW5zYWZlUG9pbnRlcjxJbnQ+PywgbGVuZ3RoOiBJbnQpIHt9CiAgICBvcGVuIHZhciBsZW5ndGg6IEludCB7IGdldCB9CiAgICBwdWJsaWMgZnVuYyA8KGxoczogTlNJbmRleFBhdGgsIHJoczogTlNJbmRleFBhdGgpIC0+IEJvb2wge30KICAgIG9wZW4gZnVuYyBhZGRpbmcoXyBpbmRleDogSW50KSAtPiBJbmRleFBhdGgge30KICAgIG9wZW4gZnVuYyBjb21wYXJlKF8gb3RoZXJPYmplY3Q6IEluZGV4UGF0aCkgLT4gQ29tcGFyaXNvblJlc3VsdCB7fQogICAgb3BlbiBmdW5jIGdldEluZGV4ZXMoXyBpbmRleGVzOiBVbnNhZmVNdXRhYmxlUG9pbnRlcjxJbnQ+LCByYW5nZSBwb3NpdGlvblJhbmdlOiBOU1JhbmdlKSB7fQogICAgb3BlbiBmdW5jIGluZGV4KGF0UG9zaXRpb24gcG9zaXRpb246IEludCkgLT4gSW50IHt9CiAgICBvcGVuIGZ1bmMgcmVtb3ZpbmdMYXN0SW5kZXgoKSAtPiBJbmRleFBhdGgge30KfQpvcGVuIGNsYXNzIE5TSW5kZXhTZXQgOiBBbnlPYmplY3QsIEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU0NvZGluZywgTlNDb3B5aW5nLCBOU011dGFibGVDb3B5aW5nLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCwgTlNTZWN1cmVDb2RpbmcsIFNlcXVlbmNlLCBfSGFzQ3VzdG9tQW55SGFzaGFibGVSZXByZXNlbnRhdGlvbiwgX1N0cnVjdFR5cGVCcmlkZ2VhYmxlLCBfU3dpZnRCcmlkZ2VhYmxlIHsKICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KGluZGV4IHZhbHVlOiBJbnQpIHt9CiAgICBwdWJsaWMgaW5pdChpbmRleFNldDogSW5kZXhTZXQpIHt9CiAgICBwdWJsaWMgaW5pdChpbmRleGVzSW4gcmFuZ2U6IE5TUmFuZ2UpIHt9CiAgICBvcGVuIHZhciBjb3VudDogSW50IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGZpcnN0SW5kZXg6IEludCB7IGdldCB9CiAgICBvcGVuIHZhciBsYXN0SW5kZXg6IEludCB7IGdldCB9CiAgICBvcGVuIGZ1bmMgY29udGFpbnMoXyBpbmRleFNldDogSW5kZXhTZXQpIC0+IEJvb2wge30KICAgIG9wZW4gZnVuYyBjb250YWlucyhpbiByYW5nZTogTlNSYW5nZSkgLT4gQm9vbCB7fQogICAgb3BlbiBmdW5jIGNvdW50T2ZJbmRleGVzKGluIHJhbmdlOiBOU1JhbmdlKSAtPiBJbnQge30KICAgIG9wZW4gZnVuYyBlbnVtZXJhdGUoXyBibG9jazogKEludCwgVW5zYWZlTXV0YWJsZVBvaW50ZXI8T2JqQ0Jvb2w+KSAtPiBWb2lkKSB7fQogICAgb3BlbiBmdW5jIGVudW1lcmF0ZShpbiByYW5nZTogTlNSYW5nZSwgb3B0aW9ucyBvcHRzOiBOU0VudW1lcmF0aW9uT3B0aW9ucyA9IHgsIHVzaW5nIGJsb2NrOiAoSW50LCBVbnNhZmVNdXRhYmxlUG9pbnRlcjxPYmpDQm9vbD4pIC0+IFZvaWQpIHt9CiAgICBvcGVuIGZ1bmMgZW51bWVyYXRlKG9wdGlvbnMgb3B0czogTlNFbnVtZXJhdGlvbk9wdGlvbnMgPSB4LCB1c2luZyBibG9jazogKEludCwgVW5zYWZlTXV0YWJsZVBvaW50ZXI8T2JqQ0Jvb2w+KSAtPiBWb2lkKSB7fQogICAgb3BlbiBmdW5jIGVudW1lcmF0ZVJhbmdlcyhfIGJsb2NrOiAoTlNSYW5nZSwgVW5zYWZlTXV0YWJsZVBvaW50ZXI8T2JqQ0Jvb2w+KSAtPiBWb2lkKSB7fQogICAgb3BlbiBmdW5jIGVudW1lcmF0ZVJhbmdlcyhpbiByYW5nZTogTlNSYW5nZSwgb3B0aW9ucyBvcHRzOiBOU0VudW1lcmF0aW9uT3B0aW9ucyA9IHgsIHVzaW5nIGJsb2NrOiAoTlNSYW5nZSwgVW5zYWZlTXV0YWJsZVBvaW50ZXI8T2JqQ0Jvb2w+KSAtPiBWb2lkKSB7fQogICAgb3BlbiBmdW5jIGVudW1lcmF0ZVJhbmdlcyhvcHRpb25zIG9wdHM6IE5TRW51bWVyYXRpb25PcHRpb25zID0geCwgdXNpbmcgYmxvY2s6IChOU1JhbmdlLCBVbnNhZmVNdXRhYmxlUG9pbnRlcjxPYmpDQm9vbD4pIC0+IFZvaWQpIHt9CiAgICBvcGVuIGZ1bmMgZ2V0SW5kZXhlcyhfIGluZGV4QnVmZmVyOiBVbnNhZmVNdXRhYmxlUG9pbnRlcjxJbnQ+LCBtYXhDb3VudCBidWZmZXJTaXplOiBJbnQsIGluSW5kZXhSYW5nZSByYW5nZTogTlNSYW5nZVBvaW50ZXI/KSAtPiBJbnQge30KICAgIG9wZW4gZnVuYyBpbmRleChpbiByYW5nZTogTlNSYW5nZSwgb3B0aW9ucyBvcHRzOiBOU0VudW1lcmF0aW9uT3B0aW9ucyA9IHgsIHBhc3NpbmdUZXN0IHByZWRpY2F0ZTogKEludCwgVW5zYWZlTXV0YWJsZVBvaW50ZXI8T2JqQ0Jvb2w+KSAtPiBCb29sKSAtPiBJbnQge30KICAgIG9wZW4gZnVuYyBpbmRleChvcHRpb25zIG9wdHM6IE5TRW51bWVyYXRpb25PcHRpb25zID0geCwgcGFzc2luZ1Rlc3QgcHJlZGljYXRlOiAoSW50LCBVbnNhZmVNdXRhYmxlUG9pbnRlcjxPYmpDQm9vbD4pIC0+IEJvb2wpIC0+IEludCB7fQogICAgb3BlbiBmdW5jIGluZGV4KHBhc3NpbmdUZXN0IHByZWRpY2F0ZTogKEludCwgVW5zYWZlTXV0YWJsZVBvaW50ZXI8T2JqQ0Jvb2w+KSAtPiBCb29sKSAtPiBJbnQge30KICAgIG9wZW4gZnVuYyBpbmRleEdyZWF0ZXJUaGFuSW5kZXgoXyB2YWx1ZTogSW50KSAtPiBJbnQge30KICAgIG9wZW4gZnVuYyBpbmRleEdyZWF0ZXJUaGFuT3JFcXVhbCh0byB2YWx1ZTogSW50KSAtPiBJbnQge30KICAgIG9wZW4gZnVuYyBpbmRleExlc3NUaGFuSW5kZXgoXyB2YWx1ZTogSW50KSAtPiBJbnQge30KICAgIG9wZW4gZnVuYyBpbmRleExlc3NUaGFuT3JFcXVhbCh0byB2YWx1ZTogSW50KSAtPiBJbnQge30KICAgIG9wZW4gZnVuYyBpbmRleGVzKGluIHJhbmdlOiBOU1JhbmdlLCBvcHRpb25zIG9wdHM6IE5TRW51bWVyYXRpb25PcHRpb25zID0geCwgcGFzc2luZ1Rlc3QgcHJlZGljYXRlOiAoSW50LCBVbnNhZmVNdXRhYmxlUG9pbnRlcjxPYmpDQm9vbD4pIC0+IEJvb2wpIC0+IEluZGV4U2V0IHt9CiAgICBvcGVuIGZ1bmMgaW5kZXhlcyhvcHRpb25zIG9wdHM6IE5TRW51bWVyYXRpb25PcHRpb25zID0geCwgcGFzc2luZ1Rlc3QgcHJlZGljYXRlOiAoSW50LCBVbnNhZmVNdXRhYmxlUG9pbnRlcjxPYmpDQm9vbD4pIC0+IEJvb2wpIC0+IEluZGV4U2V0IHt9CiAgICBvcGVuIGZ1bmMgaW5kZXhlcyhwYXNzaW5nVGVzdCBwcmVkaWNhdGU6IChJbnQsIFVuc2FmZU11dGFibGVQb2ludGVyPE9iakNCb29sPikgLT4gQm9vbCkgLT4gSW5kZXhTZXQge30KICAgIG9wZW4gZnVuYyBpbnRlcnNlY3RzKGluIHJhbmdlOiBOU1JhbmdlKSAtPiBCb29sIHt9CiAgICBvcGVuIGZ1bmMgaXNFcXVhbCh0byBpbmRleFNldDogSW5kZXhTZXQpIC0+IEJvb2wge30KICAgIHB1YmxpYyBmdW5jIG1ha2VJdGVyYXRvcigpIC0+IE5TSW5kZXhTZXRJdGVyYXRvciB7fQp9Cm9wZW4gY2xhc3MgTlNLZXllZEFyY2hpdmVyIDogQW55T2JqZWN0LCBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNDb2RlciwgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wgewogICAgb3BlbiBjbGFzcyBmdW5jIGFyY2hpdmVkRGF0YSh3aXRoUm9vdE9iamVjdCBvYmplY3Q6IEFueSwgcmVxdWlyaW5nU2VjdXJlQ29kaW5nOiBCb29sKSB0aHJvd3MgLT4gRGF0YSB7fQogICAgb3BlbiBjbGFzcyBmdW5jIGNsYXNzTmFtZUZvckNsYXNzKF8gY2xzOiBBbnlDbGFzcykgLT4gU3RyaW5nPyB7fQogICAgb3BlbiBjbGFzcyBmdW5jIHNldENsYXNzTmFtZShfIGNvZGVkTmFtZTogU3RyaW5nPywgZm9yIGNsczogQW55Q2xhc3MpIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdChyZXF1aXJpbmdTZWN1cmVDb2Rpbmc6IEJvb2wpIHt9CiAgICBvcGVuIHdlYWsgdmFyIGRlbGVnYXRlOiBOU0tleWVkQXJjaGl2ZXJEZWxlZ2F0ZT8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGVuY29kZWREYXRhOiBEYXRhIHsgZ2V0IH0KICAgIG9wZW4gdmFyIG91dHB1dEZvcm1hdCB7IGdldCB9CiAgICBvcGVuIGZ1bmMgY2xhc3NOYW1lRm9yQ2xhc3MoXyBjbHM6IEFueUNsYXNzKSAtPiBTdHJpbmc/IHt9CiAgICBvcGVuIGZ1bmMgZW5jb2RlUHJvcGVydHlMaXN0KF8gYVByb3BlcnR5TGlzdDogQW55LCBmb3JLZXkga2V5OiBTdHJpbmcpIHt9CiAgICBvcGVuIGZ1bmMgZmluaXNoRW5jb2RpbmcoKSB7fQogICAgb3BlbiBmdW5jIHNldENsYXNzTmFtZShfIGNvZGVkTmFtZTogU3RyaW5nPywgZm9yIGNsczogQW55Q2xhc3MpIHt9Cn0Kb3BlbiBjbGFzcyBOU0tleWVkVW5hcmNoaXZlciA6IEFueU9iamVjdCwgQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TQ29kZXIsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sIHsKICAgIG9wZW4gY2xhc3MgZnVuYyBgY2xhc3NgKGZvckNsYXNzTmFtZSBjb2RlZE5hbWU6IFN0cmluZykgLT4gQW55Q2xhc3M/IHt9CiAgICBvcGVuIGNsYXNzIGZ1bmMgc2V0Q2xhc3MoXyBjbHM6IEFueUNsYXNzPywgZm9yQ2xhc3NOYW1lIGNvZGVkTmFtZTogU3RyaW5nKSB7fQogICAgb3BlbiBjbGFzcyBmdW5jIHVuYXJjaGl2ZVRvcExldmVsT2JqZWN0V2l0aERhdGEoXyBkYXRhOiBEYXRhKSB0aHJvd3MgLT4gQW55PyB7fQogICAgcHVibGljIHN0YXRpYyBmdW5jIHVuYXJjaGl2ZWRPYmplY3Q8RGVjb2RlZE9iamVjdFR5cGU+KG9mQ2xhc3MgY2xzOiBEZWNvZGVkT2JqZWN0VHlwZS5UeXBlLCBmcm9tIGRhdGE6IERhdGEpIHRocm93cyAtPiBEZWNvZGVkT2JqZWN0VHlwZT8gd2hlcmUgRGVjb2RlZE9iamVjdFR5cGUgOiBOU0NvZGluZywgRGVjb2RlZE9iamVjdFR5cGUgOiBOU09iamVjdCB7fQogICAgcHVibGljIHN0YXRpYyBmdW5jIHVuYXJjaGl2ZWRPYmplY3Qob2ZDbGFzc2VzIGNsYXNzZXM6IFtBbnlDbGFzc10sIGZyb20gZGF0YTogRGF0YSkgdGhyb3dzIC0+IEFueT8ge30KICAgIHB1YmxpYyBpbml0KGZvclJlYWRpbmdGcm9tIGRhdGE6IERhdGEpIHRocm93cyB7fQogICAgb3BlbiB3ZWFrIHZhciBkZWxlZ2F0ZTogTlNLZXllZFVuYXJjaGl2ZXJEZWxlZ2F0ZT8geyBnZXQgc2V0IH0KICAgIG9wZW4gZnVuYyBgY2xhc3NgKGZvckNsYXNzTmFtZSBjb2RlZE5hbWU6IFN0cmluZykgLT4gQW55Q2xhc3M/IHt9CiAgICBvcGVuIGZ1bmMgZmluaXNoRGVjb2RpbmcoKSB7fQogICAgb3BlbiBmdW5jIHNldENsYXNzKF8gY2xzOiBBbnlDbGFzcz8sIGZvckNsYXNzTmFtZSBjb2RlZE5hbWU6IFN0cmluZykge30KfQpvcGVuIGNsYXNzIE5TTG9jYWxlIDogQW55T2JqZWN0LCBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNDb2RpbmcsIE5TQ29weWluZywgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wsIE5TU2VjdXJlQ29kaW5nLCBfQ0ZCcmlkZ2VhYmxlLCBfU3RydWN0VHlwZUJyaWRnZWFibGUsIF9Td2lmdEJyaWRnZWFibGUgewogICAgb3BlbiBjbGFzcyB2YXIgYXZhaWxhYmxlTG9jYWxlSWRlbnRpZmllcnM6IFtTdHJpbmddIHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgdmFyIGNvbW1vbklTT0N1cnJlbmN5Q29kZXM6IFtTdHJpbmddIHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgdmFyIGN1cnJlbnQ6IExvY2FsZSB7IGdldCB9CiAgICBwdWJsaWMgc3RhdGljIHZhciBjdXJyZW50TG9jYWxlRGlkQ2hhbmdlTm90aWZpY2F0aW9uIHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgdmFyIGlzb0NvdW50cnlDb2RlczogW1N0cmluZ10geyBnZXQgfQogICAgb3BlbiBjbGFzcyB2YXIgaXNvQ3VycmVuY3lDb2RlczogW1N0cmluZ10geyBnZXQgfQogICAgb3BlbiBjbGFzcyB2YXIgaXNvTGFuZ3VhZ2VDb2RlczogW1N0cmluZ10geyBnZXQgfQogICAgb3BlbiBjbGFzcyB2YXIgcHJlZmVycmVkTGFuZ3VhZ2VzOiBbU3RyaW5nXSB7IGdldCB9CiAgICBvcGVuIGNsYXNzIHZhciBzeXN0ZW06IExvY2FsZSB7IGdldCB9CiAgICBvcGVuIGNsYXNzIGZ1bmMgY2Fub25pY2FsTGFuZ3VhZ2VJZGVudGlmaWVyKGZyb20gc3RyaW5nOiBTdHJpbmcpIC0+IFN0cmluZyB7fQogICAgb3BlbiBjbGFzcyBmdW5jIGNhbm9uaWNhbExvY2FsZUlkZW50aWZpZXIoZnJvbSBzdHJpbmc6IFN0cmluZykgLT4gU3RyaW5nIHt9CiAgICBvcGVuIGNsYXNzIGZ1bmMgY2hhcmFjdGVyRGlyZWN0aW9uKGZvckxhbmd1YWdlIGlzb0xhbmdDb2RlOiBTdHJpbmcpIC0+IE5TTG9jYWxlLkxhbmd1YWdlRGlyZWN0aW9uIHt9CiAgICBvcGVuIGNsYXNzIGZ1bmMgY29tcG9uZW50cyhmcm9tTG9jYWxlSWRlbnRpZmllciBzdHJpbmc6IFN0cmluZykgLT4gW1N0cmluZzogU3RyaW5nXSB7fQogICAgb3BlbiBjbGFzcyBmdW5jIGxpbmVEaXJlY3Rpb24oZm9yTGFuZ3VhZ2UgaXNvTGFuZ0NvZGU6IFN0cmluZykgLT4gTlNMb2NhbGUuTGFuZ3VhZ2VEaXJlY3Rpb24ge30KICAgIG9wZW4gY2xhc3MgZnVuYyBsb2NhbGVJZGVudGlmaWVyKGZyb21Db21wb25lbnRzIGRpY3Q6IFtTdHJpbmc6IFN0cmluZ10pIC0+IFN0cmluZyB7fQogICAgb3BlbiBjbGFzcyBmdW5jIGxvY2FsZUlkZW50aWZpZXIoZnJvbVdpbmRvd3NMb2NhbGVDb2RlIGxjaWQ6IFVJbnQzMikgLT4gU3RyaW5nPyB7fQogICAgb3BlbiBjbGFzcyBmdW5jIHdpbmRvd3NMb2NhbGVDb2RlKGZyb21Mb2NhbGVJZGVudGlmaWVyIGxvY2FsZUlkZW50aWZpZXI6IFN0cmluZykgLT4gVUludDMyIHt9CiAgICBwdWJsaWMgaW5pdChsb2NhbGVJZGVudGlmaWVyIHN0cmluZzogU3RyaW5nKSB7fQogICAgcHVibGljIHZhciBsb2NhbGVJZGVudGlmaWVyOiBTdHJpbmcgeyBnZXQgfQogICAgb3BlbiBmdW5jIGRpc3BsYXlOYW1lKGZvcktleSBrZXk6IEtleSwgdmFsdWU6IFN0cmluZykgLT4gU3RyaW5nPyB7fQogICAgb3BlbiBmdW5jIG9iamVjdChmb3JLZXkga2V5OiBOU0xvY2FsZS5LZXkpIC0+IEFueT8ge30KfQpvcGVuIGNsYXNzIE5TTG9jayA6IEFueU9iamVjdCwgQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TTG9ja2luZywgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wgewogICAgb3BlbiB2YXIgbmFtZTogU3RyaW5nPyB7IGdldCBzZXQgfQogICAgb3BlbiBmdW5jIGB0cnlgKCkgLT4gQm9vbCB7fQogICAgb3BlbiBmdW5jIGxvY2soYmVmb3JlIGxpbWl0OiBEYXRlKSAtPiBCb29sIHt9Cn0Kb3BlbiBjbGFzcyBOU01lYXN1cmVtZW50IDogQW55T2JqZWN0LCBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNDb2RpbmcsIE5TQ29weWluZywgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wsIE5TU2VjdXJlQ29kaW5nLCBfSGFzQ3VzdG9tQW55SGFzaGFibGVSZXByZXNlbnRhdGlvbiwgX1N0cnVjdFR5cGVCcmlkZ2VhYmxlIHsKICAgIHB1YmxpYyBpbml0KGRvdWJsZVZhbHVlOiBEb3VibGUsIHVuaXQ6IFVuaXQpIHt9CiAgICBvcGVuIHZhciBkb3VibGVWYWx1ZTogRG91YmxlIHsgZ2V0IH0KICAgIG9wZW4gdmFyIHVuaXQ6IFVuaXQgeyBnZXQgfQogICAgb3BlbiBmdW5jIGFkZGluZyhfIHJoczogTWVhc3VyZW1lbnQ8VW5pdD4pIC0+IE1lYXN1cmVtZW50PFVuaXQ+IHt9CiAgICBvcGVuIGZ1bmMgY2FuQmVDb252ZXJ0ZWQodG8gdW5pdDogVW5pdCkgLT4gQm9vbCB7fQogICAgb3BlbiBmdW5jIGNvbnZlcnRpbmcodG8gb3RoZXJVbml0OiBVbml0KSAtPiBNZWFzdXJlbWVudDxVbml0PiB7fQogICAgb3BlbiBmdW5jIHN1YnRyYWN0aW5nKF8gcmhzOiBNZWFzdXJlbWVudDxVbml0PikgLT4gTWVhc3VyZW1lbnQ8VW5pdD4ge30KfQpvcGVuIGNsYXNzIE5TTXV0YWJsZUFycmF5IDogQW55T2JqZWN0LCBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21SZWZsZWN0YWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgRXhwcmVzc2libGVCeUFycmF5TGl0ZXJhbCwgSGFzaGFibGUsIE5TQXJyYXksIE5TQ29kaW5nLCBOU0NvcHlpbmcsIE5TTXV0YWJsZUNvcHlpbmcsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBOU1NlY3VyZUNvZGluZywgU2VxdWVuY2UsIF9DRkJyaWRnZWFibGUsIF9TdHJ1Y3RUeXBlQnJpZGdlYWJsZSwgX1N3aWZ0QnJpZGdlYWJsZSB7CiAgICBwdWJsaWMgaW5pdChjYXBhY2l0eSBudW1JdGVtczogSW50KSB7fQogICAgb3BlbiBmdW5jIGFkZChfIGFuT2JqZWN0OiBBbnkpIHt9CiAgICBvcGVuIGZ1bmMgYWRkT2JqZWN0cyhmcm9tIG90aGVyQXJyYXk6IFtBbnldKSB7fQogICAgb3BlbiBmdW5jIGV4Y2hhbmdlT2JqZWN0KGF0IGlkeDE6IEludCwgd2l0aE9iamVjdEF0IGlkeDI6IEludCkge30KICAgIG9wZW4gZnVuYyBmaWx0ZXIodXNpbmcgcHJlZGljYXRlOiBOU1ByZWRpY2F0ZSkge30KICAgIG9wZW4gZnVuYyBpbnNlcnQoXyBhbk9iamVjdDogQW55LCBhdCBpbmRleDogSW50KSB7fQogICAgb3BlbiBmdW5jIHJlbW92ZShfIGFuT2JqZWN0OiBBbnkpIHt9CiAgICBvcGVuIGZ1bmMgcmVtb3ZlKF8gYW5PYmplY3Q6IEFueSwgaW4gcmFuZ2U6IE5TUmFuZ2UpIHt9CiAgICBvcGVuIGZ1bmMgcmVtb3ZlQWxsT2JqZWN0cygpIHt9CiAgICBvcGVuIGZ1bmMgcmVtb3ZlTGFzdE9iamVjdCgpIHt9CiAgICBvcGVuIGZ1bmMgcmVtb3ZlT2JqZWN0KGF0IGluZGV4OiBJbnQpIHt9CiAgICBvcGVuIGZ1bmMgcmVtb3ZlT2JqZWN0KGlkZW50aWNhbFRvIGFuT2JqZWN0OiBBbnkpIHt9CiAgICBvcGVuIGZ1bmMgcmVtb3ZlT2JqZWN0KGlkZW50aWNhbFRvIGFuT2JqZWN0OiBBbnksIGluIHJhbmdlOiBOU1JhbmdlKSB7fQogICAgb3BlbiBmdW5jIHJlbW92ZU9iamVjdHMoYXQgaW5kZXhlczogSW5kZXhTZXQpIHt9CiAgICBvcGVuIGZ1bmMgcmVtb3ZlT2JqZWN0cyhpbiBvdGhlckFycmF5OiBbQW55XSkge30KICAgIG9wZW4gZnVuYyByZXBsYWNlT2JqZWN0KGF0IGluZGV4OiBJbnQsIHdpdGggYW5PYmplY3Q6IEFueSkge30KICAgIG9wZW4gZnVuYyByZXBsYWNlT2JqZWN0cyhhdCBpbmRleGVzOiBJbmRleFNldCwgd2l0aCBvYmplY3RzOiBbQW55XSkge30KICAgIG9wZW4gZnVuYyByZXBsYWNlT2JqZWN0cyhpbiByYW5nZTogTlNSYW5nZSwgd2l0aE9iamVjdHNGcm9tIG90aGVyQXJyYXk6IFtBbnldKSB7fQogICAgb3BlbiBmdW5jIHJlcGxhY2VPYmplY3RzKGluIHJhbmdlOiBOU1JhbmdlLCB3aXRoT2JqZWN0c0Zyb20gb3RoZXJBcnJheTogW0FueV0sIHJhbmdlIG90aGVyUmFuZ2U6IE5TUmFuZ2UpIHt9CiAgICBvcGVuIGZ1bmMgc2V0QXJyYXkoXyBvdGhlckFycmF5OiBbQW55XSkge30KICAgIG9wZW4gZnVuYyBzb3J0KF8gY29tcGFyZTogKEFueSwgQW55LCBVbnNhZmVNdXRhYmxlUmF3UG9pbnRlcj8pIC0+IEludCwgY29udGV4dDogVW5zYWZlTXV0YWJsZVJhd1BvaW50ZXI/KSB7fQogICAgb3BlbiBmdW5jIHNvcnQoY29tcGFyYXRvcjogQ29tcGFyYXRvcikge30KICAgIG9wZW4gZnVuYyBzb3J0KG9wdGlvbnMgb3B0czogTlNTb3J0T3B0aW9ucyA9IHgsIHVzaW5nQ29tcGFyYXRvciBjbXB0cjogQ29tcGFyYXRvcikge30KICAgIG9wZW4gZnVuYyBzb3J0KHVzaW5nIHNvcnREZXNjcmlwdG9yczogW05TU29ydERlc2NyaXB0b3JdKSB7fQp9Cm9wZW4gY2xhc3MgTlNNdXRhYmxlQXR0cmlidXRlZFN0cmluZyA6IEFueU9iamVjdCwgQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TQXR0cmlidXRlZFN0cmluZywgTlNDb2RpbmcsIE5TQ29weWluZywgTlNNdXRhYmxlQ29weWluZywgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wsIE5TU2VjdXJlQ29kaW5nLCBfQ0ZCcmlkZ2VhYmxlIHsKICAgIG9wZW4gdmFyIG11dGFibGVTdHJpbmc6IE5TTXV0YWJsZVN0cmluZyB7IGdldCB9CiAgICBvcGVuIGZ1bmMgYWRkQXR0cmlidXRlKF8gbmFtZTogTlNBdHRyaWJ1dGVkU3RyaW5nLktleSwgdmFsdWU6IEFueSwgcmFuZ2U6IE5TUmFuZ2UpIHt9CiAgICBvcGVuIGZ1bmMgYWRkQXR0cmlidXRlcyhfIGF0dHJzOiBbTlNBdHRyaWJ1dGVkU3RyaW5nLktleTogQW55XSwgcmFuZ2U6IE5TUmFuZ2UpIHt9CiAgICBvcGVuIGZ1bmMgYXBwZW5kKF8gYXR0clN0cmluZzogTlNBdHRyaWJ1dGVkU3RyaW5nKSB7fQogICAgb3BlbiBmdW5jIGJlZ2luRWRpdGluZygpIHt9CiAgICBvcGVuIGZ1bmMgZGVsZXRlQ2hhcmFjdGVycyhpbiByYW5nZTogTlNSYW5nZSkge30KICAgIG9wZW4gZnVuYyBlbmRFZGl0aW5nKCkge30KICAgIG9wZW4gZnVuYyBpbnNlcnQoXyBhdHRyU3RyaW5nOiBOU0F0dHJpYnV0ZWRTdHJpbmcsIGF0IGxvYzogSW50KSB7fQogICAgb3BlbiBmdW5jIHJlbW92ZUF0dHJpYnV0ZShfIG5hbWU6IE5TQXR0cmlidXRlZFN0cmluZy5LZXksIHJhbmdlOiBOU1JhbmdlKSB7fQogICAgb3BlbiBmdW5jIHJlcGxhY2VDaGFyYWN0ZXJzKGluIHJhbmdlOiBOU1JhbmdlLCB3aXRoIGF0dHJTdHJpbmc6IE5TQXR0cmlidXRlZFN0cmluZykge30KICAgIG9wZW4gZnVuYyBzZXRBdHRyaWJ1dGVkU3RyaW5nKF8gYXR0clN0cmluZzogTlNBdHRyaWJ1dGVkU3RyaW5nKSB7fQogICAgb3BlbiBmdW5jIHNldEF0dHJpYnV0ZXMoXyBhdHRyczogW05TQXR0cmlidXRlZFN0cmluZy5LZXk6IEFueV0/LCByYW5nZTogTlNSYW5nZSkge30KfQpvcGVuIGNsYXNzIE5TTXV0YWJsZUNoYXJhY3RlclNldCA6IEFueU9iamVjdCwgQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TQ2hhcmFjdGVyU2V0LCBOU0NvZGluZywgTlNDb3B5aW5nLCBOU011dGFibGVDb3B5aW5nLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCwgTlNTZWN1cmVDb2RpbmcsIF9TdHJ1Y3RUeXBlQnJpZGdlYWJsZSwgX1N3aWZ0QnJpZGdlYWJsZSB7CiAgICBvcGVuIGNsYXNzIGZ1bmMgYWxwaGFudW1lcmljKCkgLT4gTlNNdXRhYmxlQ2hhcmFjdGVyU2V0IHt9CiAgICBvcGVuIGNsYXNzIGZ1bmMgY2FwaXRhbGl6ZWRMZXR0ZXIoKSAtPiBOU011dGFibGVDaGFyYWN0ZXJTZXQge30KICAgIG9wZW4gY2xhc3MgZnVuYyBjb250cm9sKCkgLT4gTlNNdXRhYmxlQ2hhcmFjdGVyU2V0IHt9CiAgICBvcGVuIGNsYXNzIGZ1bmMgZGVjaW1hbERpZ2l0KCkgLT4gTlNNdXRhYmxlQ2hhcmFjdGVyU2V0IHt9CiAgICBvcGVuIGNsYXNzIGZ1bmMgZGVjb21wb3NhYmxlKCkgLT4gTlNNdXRhYmxlQ2hhcmFjdGVyU2V0IHt9CiAgICBvcGVuIGNsYXNzIGZ1bmMgaWxsZWdhbCgpIC0+IE5TTXV0YWJsZUNoYXJhY3RlclNldCB7fQogICAgcHVibGljIGNsYXNzIGZ1bmMgbGV0dGVyKCkgLT4gTlNNdXRhYmxlQ2hhcmFjdGVyU2V0IHt9CiAgICBvcGVuIGNsYXNzIGZ1bmMgbG93ZXJjYXNlTGV0dGVyKCkgLT4gTlNNdXRhYmxlQ2hhcmFjdGVyU2V0IHt9CiAgICBvcGVuIGNsYXNzIGZ1bmMgbmV3bGluZSgpIC0+IE5TTXV0YWJsZUNoYXJhY3RlclNldCB7fQogICAgb3BlbiBjbGFzcyBmdW5jIG5vbkJhc2UoKSAtPiBOU011dGFibGVDaGFyYWN0ZXJTZXQge30KICAgIG9wZW4gY2xhc3MgZnVuYyBwdW5jdHVhdGlvbigpIC0+IE5TTXV0YWJsZUNoYXJhY3RlclNldCB7fQogICAgb3BlbiBjbGFzcyBmdW5jIHN5bWJvbCgpIC0+IE5TTXV0YWJsZUNoYXJhY3RlclNldCB7fQogICAgb3BlbiBjbGFzcyBmdW5jIHVwcGVyY2FzZUxldHRlcigpIC0+IE5TTXV0YWJsZUNoYXJhY3RlclNldCB7fQogICAgb3BlbiBjbGFzcyBmdW5jIHdoaXRlc3BhY2UoKSAtPiBOU011dGFibGVDaGFyYWN0ZXJTZXQge30KICAgIG9wZW4gY2xhc3MgZnVuYyB3aGl0ZXNwYWNlQW5kTmV3bGluZSgpIC0+IE5TTXV0YWJsZUNoYXJhY3RlclNldCB7fQogICAgb3BlbiBmdW5jIGFkZENoYXJhY3RlcnMoaW4gYVJhbmdlOiBOU1JhbmdlKSB7fQogICAgb3BlbiBmdW5jIGZvcm1JbnRlcnNlY3Rpb24od2l0aCBvdGhlclNldDogQ2hhcmFjdGVyU2V0KSB7fQogICAgb3BlbiBmdW5jIGZvcm1Vbmlvbih3aXRoIG90aGVyU2V0OiBDaGFyYWN0ZXJTZXQpIHt9CiAgICBvcGVuIGZ1bmMgaW52ZXJ0KCkge30KICAgIG9wZW4gZnVuYyByZW1vdmVDaGFyYWN0ZXJzKGluIGFSYW5nZTogTlNSYW5nZSkge30KfQpvcGVuIGNsYXNzIE5TTXV0YWJsZURhdGEgOiBBbnlPYmplY3QsIEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU0NvZGluZywgTlNDb3B5aW5nLCBOU0RhdGEsIE5TTXV0YWJsZUNvcHlpbmcsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBOU1NlY3VyZUNvZGluZywgX0NGQnJpZGdlYWJsZSwgX1N0cnVjdFR5cGVCcmlkZ2VhYmxlLCBfU3dpZnRCcmlkZ2VhYmxlIHsKICAgIHB1YmxpYyBpbml0PyhjYXBhY2l0eTogSW50KSB7fQogICAgcHVibGljIGluaXQ/KGxlbmd0aDogSW50KSB7fQogICAgb3BlbiB2YXIgbXV0YWJsZUJ5dGVzOiBVbnNhZmVNdXRhYmxlUmF3UG9pbnRlciB7IGdldCB9CiAgICBvcGVuIGZ1bmMgYXBwZW5kKF8gb3RoZXI6IERhdGEpIHt9CiAgICBvcGVuIGZ1bmMgYXBwZW5kKF8gYnl0ZXM6IFVuc2FmZVJhd1BvaW50ZXIsIGxlbmd0aDogSW50KSB7fQogICAgb3BlbiBmdW5jIGluY3JlYXNlTGVuZ3RoKGJ5IGV4dHJhTGVuZ3RoOiBJbnQpIHt9CiAgICBvcGVuIGZ1bmMgcmVwbGFjZUJ5dGVzKGluIHJhbmdlOiBOU1JhbmdlLCB3aXRoQnl0ZXMgYnl0ZXM6IFVuc2FmZVJhd1BvaW50ZXIpIHt9CiAgICBvcGVuIGZ1bmMgcmVwbGFjZUJ5dGVzKGluIHJhbmdlOiBOU1JhbmdlLCB3aXRoQnl0ZXMgcmVwbGFjZW1lbnRCeXRlczogVW5zYWZlUmF3UG9pbnRlcj8sIGxlbmd0aCByZXBsYWNlbWVudExlbmd0aDogSW50KSB7fQogICAgb3BlbiBmdW5jIHJlc2V0Qnl0ZXMoaW4gcmFuZ2U6IE5TUmFuZ2UpIHt9CiAgICBvcGVuIGZ1bmMgc2V0RGF0YShfIGRhdGE6IERhdGEpIHt9Cn0Kb3BlbiBjbGFzcyBOU011dGFibGVEaWN0aW9uYXJ5IDogQW55T2JqZWN0LCBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21SZWZsZWN0YWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgRXhwcmVzc2libGVCeURpY3Rpb25hcnlMaXRlcmFsLCBIYXNoYWJsZSwgTlNDb2RpbmcsIE5TQ29weWluZywgTlNEaWN0aW9uYXJ5LCBOU011dGFibGVDb3B5aW5nLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCwgTlNTZWN1cmVDb2RpbmcsIFNlcXVlbmNlLCBfQ0ZCcmlkZ2VhYmxlLCBfU3RydWN0VHlwZUJyaWRnZWFibGUsIF9Td2lmdEJyaWRnZWFibGUgewogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQoY2FwYWNpdHkgbnVtSXRlbXM6IEludCkge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KHNoYXJlZEtleVNldCBrZXlzZXQ6IEFueSkge30KICAgIG9wZW4gZnVuYyBhZGRFbnRyaWVzKGZyb20gb3RoZXJEaWN0aW9uYXJ5OiBbQW55SGFzaGFibGU6IEFueV0pIHt9CiAgICBvcGVuIGZ1bmMgcmVtb3ZlQWxsT2JqZWN0cygpIHt9CiAgICBvcGVuIGZ1bmMgcmVtb3ZlT2JqZWN0KGZvcktleSBhS2V5OiBBbnkpIHt9CiAgICBvcGVuIGZ1bmMgcmVtb3ZlT2JqZWN0cyhmb3JLZXlzIGtleUFycmF5OiBbQW55XSkge30KICAgIG9wZW4gZnVuYyBzZXREaWN0aW9uYXJ5KF8gb3RoZXJEaWN0aW9uYXJ5OiBbQW55SGFzaGFibGU6IEFueV0pIHt9CiAgICBvcGVuIGZ1bmMgc2V0T2JqZWN0KF8gYW5PYmplY3Q6IEFueSwgZm9yS2V5IGFLZXk6IEFueUhhc2hhYmxlKSB7fQp9Cm9wZW4gY2xhc3MgTlNNdXRhYmxlSW5kZXhTZXQgOiBBbnlPYmplY3QsIEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU0NvZGluZywgTlNDb3B5aW5nLCBOU0luZGV4U2V0LCBOU011dGFibGVDb3B5aW5nLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCwgTlNTZWN1cmVDb2RpbmcsIFNlcXVlbmNlLCBfU3RydWN0VHlwZUJyaWRnZWFibGUsIF9Td2lmdEJyaWRnZWFibGUgewogICAgb3BlbiBmdW5jIGFkZChfIGluZGV4U2V0OiBJbmRleFNldCkge30KICAgIG9wZW4gZnVuYyBhZGQoaW4gcjogTlNSYW5nZSkge30KICAgIG9wZW4gZnVuYyByZW1vdmUoXyBpbmRleFNldDogSW5kZXhTZXQpIHt9CiAgICBvcGVuIGZ1bmMgcmVtb3ZlKGluIHJhbmdlOiBOU1JhbmdlKSB7fQogICAgb3BlbiBmdW5jIHJlbW92ZUFsbEluZGV4ZXMoKSB7fQogICAgb3BlbiBmdW5jIHNoaWZ0SW5kZXhlc1N0YXJ0aW5nKGF0IGluZGV4OiBJbnQsIGJ5IGRlbHRhOiBJbnQpIHt9Cn0Kb3BlbiBjbGFzcyBOU011dGFibGVPcmRlcmVkU2V0IDogQW55T2JqZWN0LCBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21SZWZsZWN0YWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgRXhwcmVzc2libGVCeUFycmF5TGl0ZXJhbCwgSGFzaGFibGUsIE5TQ29kaW5nLCBOU0NvcHlpbmcsIE5TTXV0YWJsZUNvcHlpbmcsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBOU09yZGVyZWRTZXQsIE5TU2VjdXJlQ29kaW5nLCBTZXF1ZW5jZSB7CiAgICBwdWJsaWMgaW5pdChjYXBhY2l0eSBudW1JdGVtczogSW50KSB7fQogICAgb3BlbiBmdW5jIGFkZChfIG9iamVjdDogQW55KSB7fQogICAgb3BlbiBmdW5jIGFkZChfIG9iamVjdHM6IFVuc2FmZVBvaW50ZXI8QW55T2JqZWN0Pj8sIGNvdW50OiBJbnQpIHt9CiAgICBvcGVuIGZ1bmMgYWRkT2JqZWN0cyhmcm9tIGFycmF5OiBbQW55XSkge30KICAgIG9wZW4gZnVuYyBleGNoYW5nZU9iamVjdChhdCBpZHgxOiBJbnQsIHdpdGhPYmplY3RBdCBpZHgyOiBJbnQpIHt9CiAgICBvcGVuIGZ1bmMgZmlsdGVyKHVzaW5nIHByZWRpY2F0ZTogTlNQcmVkaWNhdGUpIHt9CiAgICBvcGVuIGZ1bmMgaW5zZXJ0KF8gb2JqZWN0OiBBbnksIGF0IGlkeDogSW50KSB7fQogICAgb3BlbiBmdW5jIGludGVyc2VjdChfIG90aGVyOiBOU09yZGVyZWRTZXQpIHt9CiAgICBvcGVuIGZ1bmMgaW50ZXJzZWN0U2V0KF8gb3RoZXI6IFNldDxBbnlIYXNoYWJsZT4pIHt9CiAgICBvcGVuIGZ1bmMgbWludXMoXyBvdGhlcjogTlNPcmRlcmVkU2V0KSB7fQogICAgb3BlbiBmdW5jIG1pbnVzU2V0KF8gb3RoZXI6IFNldDxBbnlIYXNoYWJsZT4pIHt9CiAgICBvcGVuIGZ1bmMgbW92ZU9iamVjdHMoYXQgaW5kZXhlczogSW5kZXhTZXQsIHRvIGlkeDogSW50KSB7fQogICAgb3BlbiBmdW5jIHJlbW92ZShfIHZhbDogQW55KSB7fQogICAgb3BlbiBmdW5jIHJlbW92ZUFsbE9iamVjdHMoKSB7fQogICAgb3BlbiBmdW5jIHJlbW92ZU9iamVjdChhdCBpZHg6IEludCkge30KICAgIG9wZW4gZnVuYyByZW1vdmVPYmplY3RzKGF0IGluZGV4ZXM6IEluZGV4U2V0KSB7fQogICAgb3BlbiBmdW5jIHJlbW92ZU9iamVjdHMoaW4gYXJyYXk6IFtBbnldKSB7fQogICAgb3BlbiBmdW5jIHJlcGxhY2VPYmplY3QoYXQgaWR4OiBJbnQsIHdpdGggb2JqOiBBbnkpIHt9CiAgICBvcGVuIGZ1bmMgcmVwbGFjZU9iamVjdHMoYXQgaW5kZXhlczogSW5kZXhTZXQsIHdpdGggb2JqZWN0czogW0FueV0pIHt9CiAgICBvcGVuIGZ1bmMgcmVwbGFjZU9iamVjdHMoaW4gcmFuZ2U6IE5TUmFuZ2UsIHdpdGggb2JqZWN0czogVW5zYWZlUG9pbnRlcjxBbnlPYmplY3Q+ISwgY291bnQ6IEludCkge30KICAgIG9wZW4gZnVuYyBzZXRPYmplY3QoXyBvYmo6IEFueSwgYXQgaWR4OiBJbnQpIHt9CiAgICBvcGVuIGZ1bmMgc29ydChjb21wYXJhdG9yIGNtcHRyOiAoQW55LCBBbnkpIC0+IENvbXBhcmlzb25SZXN1bHQpIHt9CiAgICBvcGVuIGZ1bmMgc29ydChvcHRpb25zIG9wdHM6IE5TU29ydE9wdGlvbnMgPSB4LCB1c2luZ0NvbXBhcmF0b3IgY21wdHI6IChBbnksIEFueSkgLT4gQ29tcGFyaXNvblJlc3VsdCkge30KICAgIG9wZW4gZnVuYyBzb3J0KHVzaW5nIHNvcnREZXNjcmlwdG9yczogW05TU29ydERlc2NyaXB0b3JdKSB7fQogICAgb3BlbiBmdW5jIHNvcnRSYW5nZShfIHJhbmdlOiBOU1JhbmdlLCBvcHRpb25zIG9wdHM6IE5TU29ydE9wdGlvbnMgPSB4LCB1c2luZ0NvbXBhcmF0b3IgY21wdHI6IChBbnksIEFueSkgLT4gQ29tcGFyaXNvblJlc3VsdCkge30KICAgIG9wZW4gZnVuYyB1bmlvbihfIG90aGVyOiBOU09yZGVyZWRTZXQpIHt9CiAgICBvcGVuIGZ1bmMgdW5pb25TZXQoXyBvdGhlcjogU2V0PEFueUhhc2hhYmxlPikge30KfQpvcGVuIGNsYXNzIE5TTXV0YWJsZVNldCA6IEFueU9iamVjdCwgQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tUmVmbGVjdGFibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU0NvZGluZywgTlNDb3B5aW5nLCBOU011dGFibGVDb3B5aW5nLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCwgTlNTZWN1cmVDb2RpbmcsIE5TU2V0LCBTZXF1ZW5jZSwgX0NGQnJpZGdlYWJsZSwgX1N0cnVjdFR5cGVCcmlkZ2VhYmxlLCBfU3dpZnRCcmlkZ2VhYmxlIHsKICAgIHB1YmxpYyByZXF1aXJlZCBpbml0KGNhcGFjaXR5IG51bUl0ZW1zOiBJbnQpIHt9CiAgICBvcGVuIGZ1bmMgYWRkKF8gb2JqZWN0OiBBbnkpIHt9CiAgICBvcGVuIGZ1bmMgYWRkT2JqZWN0cyhmcm9tIGFycmF5OiBbQW55XSkge30KICAgIG9wZW4gZnVuYyBmaWx0ZXIodXNpbmcgcHJlZGljYXRlOiBOU1ByZWRpY2F0ZSkge30KICAgIG9wZW4gZnVuYyBpbnRlcnNlY3QoXyBvdGhlclNldDogU2V0PEFueUhhc2hhYmxlPikge30KICAgIG9wZW4gZnVuYyBtaW51cyhfIG90aGVyU2V0OiBTZXQ8QW55SGFzaGFibGU+KSB7fQogICAgb3BlbiBmdW5jIHJlbW92ZShfIG9iamVjdDogQW55KSB7fQogICAgb3BlbiBmdW5jIHJlbW92ZUFsbE9iamVjdHMoKSB7fQogICAgb3BlbiBmdW5jIHNldFNldChfIG90aGVyU2V0OiBTZXQ8QW55SGFzaGFibGU+KSB7fQogICAgb3BlbiBmdW5jIHVuaW9uKF8gb3RoZXJTZXQ6IFNldDxBbnlIYXNoYWJsZT4pIHt9Cn0Kb3BlbiBjbGFzcyBOU011dGFibGVTdHJpbmcgOiBBbnlPYmplY3QsIEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEV4cHJlc3NpYmxlQnlTdHJpbmdMaXRlcmFsLCBIYXNoYWJsZSwgTlNDb2RpbmcsIE5TQ29weWluZywgTlNNdXRhYmxlQ29weWluZywgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wsIE5TU2VjdXJlQ29kaW5nLCBOU1N0cmluZywgX0NGQnJpZGdlYWJsZSwgX1N0cnVjdFR5cGVCcmlkZ2VhYmxlLCBfU3dpZnRCcmlkZ2VhYmxlIHsKICAgIHB1YmxpYyByZXF1aXJlZCBpbml0KGNhcGFjaXR5OiBJbnQpIHt9CiAgICBwdWJsaWMgZnVuYyBhcHBlbmQoXyBhU3RyaW5nOiBTdHJpbmcpIHt9CiAgICBwdWJsaWMgZnVuYyBhcHBseVRyYW5zZm9ybShfIHRyYW5zZm9ybTogU3RyaW5nLCByZXZlcnNlOiBCb29sLCByYW5nZTogTlNSYW5nZSwgdXBkYXRlZFJhbmdlIHJlc3VsdGluZ1JhbmdlOiBOU1JhbmdlUG9pbnRlcj8pIC0+IEJvb2wge30KICAgIHB1YmxpYyBmdW5jIGRlbGV0ZUNoYXJhY3RlcnMoaW4gcmFuZ2U6IE5TUmFuZ2UpIHt9CiAgICBwdWJsaWMgZnVuYyBpbnNlcnQoXyBhU3RyaW5nOiBTdHJpbmcsIGF0IGxvYzogSW50KSB7fQogICAgb3BlbiBmdW5jIHJlcGxhY2VDaGFyYWN0ZXJzKGluIHJhbmdlOiBOU1JhbmdlLCB3aXRoIGFTdHJpbmc6IFN0cmluZykge30KICAgIHB1YmxpYyBmdW5jIHJlcGxhY2VPY2N1cnJlbmNlcyhvZiB0YXJnZXQ6IFN0cmluZywgd2l0aCByZXBsYWNlbWVudDogU3RyaW5nLCBvcHRpb25zOiBDb21wYXJlT3B0aW9ucyA9IHgsIHJhbmdlIHNlYXJjaFJhbmdlOiBOU1JhbmdlKSAtPiBJbnQge30KICAgIHB1YmxpYyBmdW5jIHNldFN0cmluZyhfIGFTdHJpbmc6IFN0cmluZykge30KfQpvcGVuIGNsYXNzIE5TTXV0YWJsZVVSTFJlcXVlc3QgOiBBbnlPYmplY3QsIEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU0NvZGluZywgTlNDb3B5aW5nLCBOU011dGFibGVDb3B5aW5nLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCwgTlNTZWN1cmVDb2RpbmcsIE5TVVJMUmVxdWVzdCwgX1N0cnVjdFR5cGVCcmlkZ2VhYmxlIHsKICAgIG9wZW4gZnVuYyBhZGRWYWx1ZShfIHZhbHVlOiBTdHJpbmcsIGZvckhUVFBIZWFkZXJGaWVsZCBmaWVsZDogU3RyaW5nKSB7fQogICAgb3BlbiBmdW5jIHNldFZhbHVlKF8gdmFsdWU6IFN0cmluZz8sIGZvckhUVFBIZWFkZXJGaWVsZCBmaWVsZDogU3RyaW5nKSB7fQp9Cm9wZW4gY2xhc3MgTlNOb3RpZmljYXRpb24gOiBBbnlPYmplY3QsIEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU0NvZGluZywgTlNDb3B5aW5nLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCB7CiAgICBwdWJsaWMgaW5pdChuYW1lOiBOYW1lLCBvYmplY3Q6IEFueT8sIHVzZXJJbmZvOiBbQW55SGFzaGFibGU6IEFueV0/ID0geCkge30KICAgIG9wZW4gdmFyIG5hbWU6IE5hbWUgeyBnZXQgfQogICAgb3BlbiB2YXIgb2JqZWN0OiBBbnk/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHVzZXJJbmZvOiBbQW55SGFzaGFibGU6IEFueV0/IHsgZ2V0IH0KfQpvcGVuIGNsYXNzIE5TTnVsbCA6IEFueU9iamVjdCwgQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TQ29kaW5nLCBOU0NvcHlpbmcsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBOU1NlY3VyZUNvZGluZyB7Cn0Kb3BlbiBjbGFzcyBOU051bWJlciA6IEFueU9iamVjdCwgQ29tcGFyYWJsZSwgQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgRXhwcmVzc2libGVCeUJvb2xlYW5MaXRlcmFsLCBFeHByZXNzaWJsZUJ5RmxvYXRMaXRlcmFsLCBFeHByZXNzaWJsZUJ5SW50ZWdlckxpdGVyYWwsIEhhc2hhYmxlLCBOU0NvZGluZywgTlNDb3B5aW5nLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCwgTlNTZWN1cmVDb2RpbmcsIE5TVmFsdWUsIF9GYWN0b3J5LCBfTlNOdW1iZXJDYXN0aW5nV2l0aG91dEJyaWRnaW5nIHsKICAgIHB1YmxpYyByZXF1aXJlZCBjb252ZW5pZW5jZSBpbml0KGJvb2xlYW5MaXRlcmFsIHZhbHVlOiBCb29sKSB7fQogICAgcHVibGljIHJlcXVpcmVkIGNvbnZlbmllbmNlIGluaXQoZmxvYXRMaXRlcmFsIHZhbHVlOiBEb3VibGUpIHt9CiAgICBwdWJsaWMgcmVxdWlyZWQgY29udmVuaWVuY2UgaW5pdChpbnRlZ2VyTGl0ZXJhbCB2YWx1ZTogSW50KSB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQodmFsdWU6IEJvb2wpIHt9CiAgICBvcGVuIHZhciBib29sVmFsdWU6IEJvb2wgeyBnZXQgfQogICAgcHVibGljIHZhciBkZWNpbWFsVmFsdWU6IERlY2ltYWwgeyBnZXQgfQogICAgb3BlbiB2YXIgZG91YmxlVmFsdWU6IERvdWJsZSB7IGdldCB9CiAgICBvcGVuIHZhciBmbG9hdFZhbHVlOiBGbG9hdCB7IGdldCB9CiAgICBvcGVuIHZhciBpbnQxNlZhbHVlOiBJbnQxNiB7IGdldCB9CiAgICBvcGVuIHZhciBpbnQzMlZhbHVlOiBJbnQzMiB7IGdldCB9CiAgICBvcGVuIHZhciBpbnQ2NFZhbHVlOiBJbnQ2NCB7IGdldCB9CiAgICBvcGVuIHZhciBpbnQ4VmFsdWU6IEludDggeyBnZXQgfQogICAgb3BlbiB2YXIgaW50VmFsdWU6IEludCB7IGdldCB9CiAgICBvcGVuIHZhciBzdHJpbmdWYWx1ZTogU3RyaW5nIHsgZ2V0IH0KICAgIG9wZW4gdmFyIHVpbnQxNlZhbHVlOiBVSW50MTYgeyBnZXQgfQogICAgb3BlbiB2YXIgdWludDMyVmFsdWU6IFVJbnQzMiB7IGdldCB9CiAgICBvcGVuIHZhciB1aW50NjRWYWx1ZTogVUludDY0IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHVpbnQ4VmFsdWU6IFVJbnQ4IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHVpbnRWYWx1ZTogVUludCB7IGdldCB9CiAgICBwdWJsaWMgZnVuYyA8KGxoczogTlNOdW1iZXIsIHJoczogTlNOdW1iZXIpIC0+IEJvb2wge30KICAgIG9wZW4gZnVuYyBjb21wYXJlKF8gb3RoZXJOdW1iZXI6IE5TTnVtYmVyKSAtPiBDb21wYXJpc29uUmVzdWx0IHt9CiAgICBvcGVuIGZ1bmMgZGVzY3JpcHRpb24od2l0aExvY2FsZSBsb2NhbGU6IExvY2FsZT8pIC0+IFN0cmluZyB7fQp9Cm9wZW4gY2xhc3MgTlNPYmplY3QgOiBBbnlPYmplY3QsIEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU09iamVjdFByb3RvY29sIHsKICAgIHB1YmxpYyBjbGFzcyB2YXIgc3VwZXJjbGFzczogQW55Q2xhc3M/IHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgZnVuYyBjbGFzc0ZhbGxiYWNrc0ZvcktleWVkQXJjaGl2ZXIoKSAtPiBbU3RyaW5nXSB7fQogICAgb3BlbiBjbGFzcyBmdW5jIGNsYXNzRm9yS2V5ZWRVbmFyY2hpdmVyKCkgLT4gQW55Q2xhc3Mge30KICAgIHB1YmxpYyBjbGFzcyBmdW5jIGlzU3ViY2xhc3Mob2YgYUNsYXNzOiBBbnlDbGFzcykgLT4gQm9vbCB7fQogICAgcHVibGljIGluaXQoKSB7fQogICAgb3BlbiB2YXIgY2xhc3NGb3JDb2RlcjogQW55Q2xhc3MgeyBnZXQgfQogICAgb3BlbiB2YXIgY2xhc3NGb3JLZXllZEFyY2hpdmVyOiBBbnlDbGFzcz8geyBnZXQgfQogICAgcHVibGljIHZhciBoYXNoVmFsdWU6IEludCB7IGdldCB9CiAgICBwdWJsaWMgZnVuYyA9PShsaHM6IE5TT2JqZWN0LCByaHM6IE5TT2JqZWN0KSAtPiBCb29sIHt9CiAgICBvcGVuIGZ1bmMgY29weSgpIC0+IEFueSB7fQogICAgcHVibGljIGZ1bmMgaGFzaChpbnRvIGhhc2hlcjogaW5vdXQgSGFzaGVyKSB7fQogICAgcHVibGljIGZ1bmMgaXNLaW5kKG9mIGFDbGFzczogQW55Q2xhc3MpIC0+IEJvb2wge30KICAgIHB1YmxpYyBmdW5jIGlzTWVtYmVyKG9mIGFDbGFzczogQW55Q2xhc3MpIC0+IEJvb2wge30KICAgIG9wZW4gZnVuYyBtdXRhYmxlQ29weSgpIC0+IEFueSB7fQogICAgb3BlbiBmdW5jIHJlcGxhY2VtZW50T2JqZWN0KGZvciBhQ29kZXI6IE5TQ29kZXIpIC0+IEFueT8ge30KICAgIG9wZW4gZnVuYyByZXBsYWNlbWVudE9iamVjdChmb3IgYXJjaGl2ZXI6IE5TS2V5ZWRBcmNoaXZlcikgLT4gQW55PyB7fQp9Cm9wZW4gY2xhc3MgTlNPcmRlcmVkU2V0IDogQW55T2JqZWN0LCBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21SZWZsZWN0YWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgRXhwcmVzc2libGVCeUFycmF5TGl0ZXJhbCwgSGFzaGFibGUsIE5TQ29kaW5nLCBOU0NvcHlpbmcsIE5TTXV0YWJsZUNvcHlpbmcsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBOU1NlY3VyZUNvZGluZywgU2VxdWVuY2UgewogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQoYXJyYXk6IFtBbnldKSB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQoYXJyYXkgc2V0OiBbQW55XSwgY29weUl0ZW1zIGZsYWc6IEJvb2wpIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdChhcnJheSBzZXQ6IFtBbnldLCByYW5nZTogTlNSYW5nZSwgY29weUl0ZW1zIGZsYWc6IEJvb2wpIHt9CiAgICBwdWJsaWMgcmVxdWlyZWQgY29udmVuaWVuY2UgaW5pdChhcnJheUxpdGVyYWwgZWxlbWVudHM6IEFueS4uLikge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KG9iamVjdDogQW55KSB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQob2JqZWN0cyBlbGVtZW50czogQW55Li4uKSB7fQogICAgcHVibGljIGluaXQob2JqZWN0czogVW5zYWZlUG9pbnRlcjxBbnlPYmplY3Q+PywgY291bnQgY250OiBJbnQpIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdChvcmRlcmVkU2V0IHNldDogTlNPcmRlcmVkU2V0KSB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQob3JkZXJlZFNldCBzZXQ6IE5TT3JkZXJlZFNldCwgY29weUl0ZW1zIGZsYWc6IEJvb2wpIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdChvcmRlcmVkU2V0IHNldDogTlNPcmRlcmVkU2V0LCByYW5nZTogTlNSYW5nZSwgY29weUl0ZW1zIGZsYWc6IEJvb2wpIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdChzZXQ6IFNldDxBbnlIYXNoYWJsZT4pIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdChzZXQ6IFNldDxBbnlIYXNoYWJsZT4sIGNvcHlJdGVtcyBmbGFnOiBCb29sKSB7fQogICAgcHVibGljIHZhciBhcnJheTogW0FueV0geyBnZXQgfQogICAgb3BlbiB2YXIgY291bnQ6IEludCB7IGdldCB9CiAgICBwdWJsaWMgdmFyIGN1c3RvbU1pcnJvcjogTWlycm9yIHsgZ2V0IH0KICAgIHB1YmxpYyB2YXIgZmlyc3RPYmplY3Q6IEFueT8geyBnZXQgfQogICAgcHVibGljIHZhciBsYXN0T2JqZWN0OiBBbnk/IHsgZ2V0IH0KICAgIHB1YmxpYyB2YXIgcmV2ZXJzZWQ6IE5TT3JkZXJlZFNldCB7IGdldCB9CiAgICBwdWJsaWMgdmFyIHNldDogU2V0PEFueUhhc2hhYmxlPiB7IGdldCB9CiAgICBvcGVuIHN1YnNjcmlwdChpZHg6IEludCkgLT4gQW55IHsgZ2V0IH0ge30KICAgIG9wZW4gZnVuYyBjb250YWlucyhfIG9iamVjdDogQW55KSAtPiBCb29sIHt9CiAgICBwdWJsaWMgZnVuYyBkZXNjcmlwdGlvbih3aXRoTG9jYWxlIGxvY2FsZTogTG9jYWxlPykgLT4gU3RyaW5nIHt9CiAgICBwdWJsaWMgZnVuYyBkZXNjcmlwdGlvbih3aXRoTG9jYWxlIGxvY2FsZTogTG9jYWxlPywgaW5kZW50IGxldmVsOiBJbnQpIC0+IFN0cmluZyB7fQogICAgb3BlbiBmdW5jIGVudW1lcmF0ZU9iamVjdHMoXyBibG9jazogKEFueSwgSW50LCBVbnNhZmVNdXRhYmxlUG9pbnRlcjxPYmpDQm9vbD4pIC0+IFN3aWZ0LlZvaWQpIHt9CiAgICBvcGVuIGZ1bmMgZW51bWVyYXRlT2JqZWN0cyhhdCBzOiBJbmRleFNldCwgb3B0aW9ucyBvcHRzOiBOU0VudW1lcmF0aW9uT3B0aW9ucyA9IHgsIHVzaW5nIGJsb2NrOiAoQW55LCBJbnQsIFVuc2FmZU11dGFibGVQb2ludGVyPE9iakNCb29sPikgLT4gU3dpZnQuVm9pZCkge30KICAgIG9wZW4gZnVuYyBlbnVtZXJhdGVPYmplY3RzKG9wdGlvbnMgb3B0czogTlNFbnVtZXJhdGlvbk9wdGlvbnMgPSB4LCB1c2luZyBibG9jazogKEFueSwgSW50LCBVbnNhZmVNdXRhYmxlUG9pbnRlcjxPYmpDQm9vbD4pIC0+IFN3aWZ0LlZvaWQpIHt9CiAgICBvcGVuIGZ1bmMgZmlsdGVyZWQodXNpbmcgcHJlZGljYXRlOiBOU1ByZWRpY2F0ZSkgLT4gTlNPcmRlcmVkU2V0IHt9CiAgICBvcGVuIGZ1bmMgaW5kZXgoXyBvcHRzOiBOU0VudW1lcmF0aW9uT3B0aW9ucyA9IHgsIG9mT2JqZWN0UGFzc2luZ1Rlc3QgcHJlZGljYXRlOiAoQW55LCBJbnQsIFVuc2FmZU11dGFibGVQb2ludGVyPE9iakNCb29sPikgLT4gQm9vbCkgLT4gSW50IHt9CiAgICBvcGVuIGZ1bmMgaW5kZXgob2Ygb2JqZWN0OiBBbnkpIC0+IEludCB7fQogICAgb3BlbiBmdW5jIGluZGV4KG9mIG9iamVjdDogQW55LCBpblNvcnRlZFJhbmdlIHJhbmdlOiBOU1JhbmdlLCBvcHRpb25zIG9wdHM6IE5TQmluYXJ5U2VhcmNoaW5nT3B0aW9ucyA9IHgsIHVzaW5nQ29tcGFyYXRvciBjbXA6IChBbnksIEFueSkgLT4gQ29tcGFyaXNvblJlc3VsdCkgLT4gSW50IHt9CiAgICBvcGVuIGZ1bmMgaW5kZXgob2ZPYmplY3RBdCBzOiBJbmRleFNldCwgb3B0aW9ucyBvcHRzOiBOU0VudW1lcmF0aW9uT3B0aW9ucyA9IHgsIHBhc3NpbmdUZXN0IHByZWRpY2F0ZTogKEFueSwgSW50LCBVbnNhZmVNdXRhYmxlUG9pbnRlcjxPYmpDQm9vbD4pIC0+IEJvb2wpIC0+IEludCB7fQogICAgb3BlbiBmdW5jIGluZGV4KG9mT2JqZWN0UGFzc2luZ1Rlc3QgcHJlZGljYXRlOiAoQW55LCBJbnQsIFVuc2FmZU11dGFibGVQb2ludGVyPE9iakNCb29sPikgLT4gQm9vbCkgLT4gSW50IHt9CiAgICBvcGVuIGZ1bmMgaW5kZXhlcyhvZk9iamVjdHNBdCBzOiBJbmRleFNldCwgb3B0aW9ucyBvcHRzOiBOU0VudW1lcmF0aW9uT3B0aW9ucyA9IHgsIHBhc3NpbmdUZXN0IHByZWRpY2F0ZTogKEFueSwgSW50LCBVbnNhZmVNdXRhYmxlUG9pbnRlcjxPYmpDQm9vbD4pIC0+IEJvb2wpIC0+IEluZGV4U2V0IHt9CiAgICBvcGVuIGZ1bmMgaW5kZXhlcyhvZk9iamVjdHNQYXNzaW5nVGVzdCBwcmVkaWNhdGU6IChBbnksIEludCwgVW5zYWZlTXV0YWJsZVBvaW50ZXI8T2JqQ0Jvb2w+KSAtPiBCb29sKSAtPiBJbmRleFNldCB7fQogICAgb3BlbiBmdW5jIGluZGV4ZXMob3B0aW9ucyBvcHRzOiBOU0VudW1lcmF0aW9uT3B0aW9ucyA9IHgsIG9mT2JqZWN0c1Bhc3NpbmdUZXN0IHByZWRpY2F0ZTogKEFueSwgSW50LCBVbnNhZmVNdXRhYmxlUG9pbnRlcjxPYmpDQm9vbD4pIC0+IEJvb2wpIC0+IEluZGV4U2V0IHt9CiAgICBvcGVuIGZ1bmMgaW50ZXJzZWN0cyhfIG90aGVyOiBOU09yZGVyZWRTZXQpIC0+IEJvb2wge30KICAgIG9wZW4gZnVuYyBpbnRlcnNlY3RzU2V0KF8gc2V0OiBTZXQ8QW55SGFzaGFibGU+KSAtPiBCb29sIHt9CiAgICBvcGVuIGZ1bmMgaXNFcXVhbCh0byBvdGhlcjogTlNPcmRlcmVkU2V0KSAtPiBCb29sIHt9CiAgICBvcGVuIGZ1bmMgaXNTdWJzZXQob2Ygb3RoZXI6IE5TT3JkZXJlZFNldCkgLT4gQm9vbCB7fQogICAgcHVibGljIGZ1bmMgbWFrZUl0ZXJhdG9yKCkgLT4gSXRlcmF0b3Ige30KICAgIG9wZW4gZnVuYyBvYmplY3QoYXQgaWR4OiBJbnQpIC0+IEFueSB7fQogICAgcHVibGljIGZ1bmMgb2JqZWN0RW51bWVyYXRvcigpIC0+IE5TRW51bWVyYXRvciB7fQogICAgb3BlbiBmdW5jIG9iamVjdHMoYXQgaW5kZXhlczogSW5kZXhTZXQpIC0+IFtBbnldIHt9CiAgICBwdWJsaWMgZnVuYyByZXZlcnNlT2JqZWN0RW51bWVyYXRvcigpIC0+IE5TRW51bWVyYXRvciB7fQogICAgb3BlbiBmdW5jIHNvcnRlZEFycmF5KGNvbXBhcmF0b3IgY21wdHI6IChBbnksIEFueSkgLT4gQ29tcGFyaXNvblJlc3VsdCkgLT4gW0FueV0ge30KICAgIG9wZW4gZnVuYyBzb3J0ZWRBcnJheShvcHRpb25zIG9wdHM6IE5TU29ydE9wdGlvbnMgPSB4LCB1c2luZ0NvbXBhcmF0b3IgY21wdHI6IChBbnksIEFueSkgLT4gQ29tcGFyaXNvblJlc3VsdCkgLT4gW0FueV0ge30KICAgIG9wZW4gZnVuYyBzb3J0ZWRBcnJheSh1c2luZyBzb3J0RGVzY3JpcHRvcnM6IFtOU1NvcnREZXNjcmlwdG9yXSkgLT4gW0FueV0ge30KfQpvcGVuIGNsYXNzIE5TUGVyc29uTmFtZUNvbXBvbmVudHMgOiBBbnlPYmplY3QsIEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU0NvZGluZywgTlNDb3B5aW5nLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCwgTlNTZWN1cmVDb2RpbmcsIF9IYXNDdXN0b21BbnlIYXNoYWJsZVJlcHJlc2VudGF0aW9uLCBfU3RydWN0VHlwZUJyaWRnZWFibGUgewogICAgb3BlbiB2YXIgZmFtaWx5TmFtZTogU3RyaW5nPyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgZ2l2ZW5OYW1lOiBTdHJpbmc/IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBtaWRkbGVOYW1lOiBTdHJpbmc/IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBuYW1lUHJlZml4OiBTdHJpbmc/IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBuYW1lU3VmZml4OiBTdHJpbmc/IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBuaWNrbmFtZTogU3RyaW5nPyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgcGhvbmV0aWNSZXByZXNlbnRhdGlvbjogUGVyc29uTmFtZUNvbXBvbmVudHM/IHsgZ2V0IHNldCB9Cn0Kb3BlbiBjbGFzcyBOU1ByZWRpY2F0ZSA6IEFueU9iamVjdCwgQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TQ29weWluZywgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wgewogICAgcHVibGljIGluaXQoYmxvY2s6IEBlc2NhcGluZyAoQW55PywgW1N0cmluZzogQW55XT8pIC0+IEJvb2wpIHt9CiAgICBwdWJsaWMgaW5pdCh2YWx1ZTogQm9vbCkge30KICAgIG9wZW4gZnVuYyBldmFsdWF0ZSh3aXRoIG9iamVjdDogQW55PykgLT4gQm9vbCB7fQogICAgb3BlbiBmdW5jIGV2YWx1YXRlKHdpdGggb2JqZWN0OiBBbnk/LCBzdWJzdGl0dXRpb25WYXJpYWJsZXMgYmluZGluZ3M6IFtTdHJpbmc6IEFueV0/KSAtPiBCb29sIHt9Cn0Kb3BlbiBjbGFzcyBOU1JlY3Vyc2l2ZUxvY2sgOiBBbnlPYmplY3QsIEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU0xvY2tpbmcsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sIHsKICAgIG9wZW4gdmFyIG5hbWU6IFN0cmluZz8geyBnZXQgc2V0IH0KICAgIG9wZW4gZnVuYyBgdHJ5YCgpIC0+IEJvb2wge30KICAgIG9wZW4gZnVuYyBsb2NrKGJlZm9yZSBsaW1pdDogRGF0ZSkgLT4gQm9vbCB7fQp9Cm9wZW4gY2xhc3MgTlNSZWd1bGFyRXhwcmVzc2lvbiA6IEFueU9iamVjdCwgQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TQ29kaW5nLCBOU0NvcHlpbmcsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBOU1NlY3VyZUNvZGluZyB7CiAgICBvcGVuIGNsYXNzIGZ1bmMgZXNjYXBlZFBhdHRlcm4oZm9yIHN0cmluZzogU3RyaW5nKSAtPiBTdHJpbmcge30KICAgIG9wZW4gY2xhc3MgZnVuYyBlc2NhcGVkVGVtcGxhdGUoZm9yIHN0cmluZzogU3RyaW5nKSAtPiBTdHJpbmcge30KICAgIHB1YmxpYyBpbml0KHBhdHRlcm46IFN0cmluZywgb3B0aW9uczogT3B0aW9ucyA9IHgpIHRocm93cyB7fQogICAgb3BlbiB2YXIgbnVtYmVyT2ZDYXB0dXJlR3JvdXBzOiBJbnQgeyBnZXQgfQogICAgb3BlbiB2YXIgb3B0aW9uczogT3B0aW9ucyB7IGdldCB9CiAgICBvcGVuIHZhciBwYXR0ZXJuOiBTdHJpbmcgeyBnZXQgfQogICAgcHVibGljIGZ1bmMgZW51bWVyYXRlTWF0Y2hlcyhpbiBzdHJpbmc6IFN0cmluZywgb3B0aW9uczogTlNSZWd1bGFyRXhwcmVzc2lvbi5NYXRjaGluZ09wdGlvbnMgPSB4LCByYW5nZTogTlNSYW5nZSwgdXNpbmcgYmxvY2s6IEBlc2NhcGluZyAoTlNUZXh0Q2hlY2tpbmdSZXN1bHQ/LCBOU1JlZ3VsYXJFeHByZXNzaW9uLk1hdGNoaW5nRmxhZ3MsIFVuc2FmZU11dGFibGVQb2ludGVyPE9iakNCb29sPikgLT4gU3dpZnQuVm9pZCkge30KICAgIHB1YmxpYyBmdW5jIGZpcnN0TWF0Y2goaW4gc3RyaW5nOiBTdHJpbmcsIG9wdGlvbnM6IE5TUmVndWxhckV4cHJlc3Npb24uTWF0Y2hpbmdPcHRpb25zID0geCwgcmFuZ2U6IE5TUmFuZ2UpIC0+IE5TVGV4dENoZWNraW5nUmVzdWx0PyB7fQogICAgcHVibGljIGZ1bmMgbWF0Y2hlcyhpbiBzdHJpbmc6IFN0cmluZywgb3B0aW9uczogTlNSZWd1bGFyRXhwcmVzc2lvbi5NYXRjaGluZ09wdGlvbnMgPSB4LCByYW5nZTogTlNSYW5nZSkgLT4gW05TVGV4dENoZWNraW5nUmVzdWx0XSB7fQogICAgcHVibGljIGZ1bmMgbnVtYmVyT2ZNYXRjaGVzKGluIHN0cmluZzogU3RyaW5nLCBvcHRpb25zOiBOU1JlZ3VsYXJFeHByZXNzaW9uLk1hdGNoaW5nT3B0aW9ucyA9IHgsIHJhbmdlOiBOU1JhbmdlKSAtPiBJbnQge30KICAgIHB1YmxpYyBmdW5jIHJhbmdlT2ZGaXJzdE1hdGNoKGluIHN0cmluZzogU3RyaW5nLCBvcHRpb25zOiBOU1JlZ3VsYXJFeHByZXNzaW9uLk1hdGNoaW5nT3B0aW9ucyA9IHgsIHJhbmdlOiBOU1JhbmdlKSAtPiBOU1JhbmdlIHt9CiAgICBwdWJsaWMgZnVuYyByZXBsYWNlTWF0Y2hlcyhpbiBzdHJpbmc6IE5TTXV0YWJsZVN0cmluZywgb3B0aW9uczogTlNSZWd1bGFyRXhwcmVzc2lvbi5NYXRjaGluZ09wdGlvbnMgPSB4LCByYW5nZTogTlNSYW5nZSwgd2l0aFRlbXBsYXRlIHRlbXBsOiBTdHJpbmcpIC0+IEludCB7fQogICAgcHVibGljIGZ1bmMgcmVwbGFjZW1lbnRTdHJpbmcoZm9yIHJlc3VsdDogTlNUZXh0Q2hlY2tpbmdSZXN1bHQsIGluIHN0cmluZzogU3RyaW5nLCBvZmZzZXQ6IEludCwgdGVtcGxhdGUgdGVtcGw6IFN0cmluZykgLT4gU3RyaW5nIHt9CiAgICBwdWJsaWMgZnVuYyBzdHJpbmdCeVJlcGxhY2luZ01hdGNoZXMoaW4gc3RyaW5nOiBTdHJpbmcsIG9wdGlvbnM6IE5TUmVndWxhckV4cHJlc3Npb24uTWF0Y2hpbmdPcHRpb25zID0geCwgcmFuZ2U6IE5TUmFuZ2UsIHdpdGhUZW1wbGF0ZSB0ZW1wbDogU3RyaW5nKSAtPiBTdHJpbmcge30KfQpvcGVuIGNsYXNzIE5TU2V0IDogQW55T2JqZWN0LCBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21SZWZsZWN0YWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TQ29kaW5nLCBOU0NvcHlpbmcsIE5TTXV0YWJsZUNvcHlpbmcsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBOU1NlY3VyZUNvZGluZywgU2VxdWVuY2UsIF9DRkJyaWRnZWFibGUsIF9TdHJ1Y3RUeXBlQnJpZGdlYWJsZSwgX1N3aWZ0QnJpZGdlYWJsZSB7CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdChhcnJheTogW0FueV0pIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdChvYmplY3Q6IEFueSkge30KICAgIHB1YmxpYyBpbml0KG9iamVjdHM6IFVuc2FmZVBvaW50ZXI8QW55T2JqZWN0PiEsIGNvdW50IGNudDogSW50KSB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQoc2V0IGFuU2V0OiBOU1NldCkge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KHNldDogU2V0PEFueUhhc2hhYmxlPiwgY29weUl0ZW1zIGZsYWc6IEJvb2wpIHt9CiAgICBvcGVuIHZhciBhbGxPYmplY3RzOiBbQW55XSB7IGdldCB9CiAgICBvcGVuIHZhciBjb3VudDogSW50IHsgZ2V0IH0KICAgIHB1YmxpYyB2YXIgY3VzdG9tTWlycm9yOiBNaXJyb3IgeyBnZXQgfQogICAgb3BlbiBmdW5jIGFkZGluZyhfIGFuT2JqZWN0OiBBbnkpIC0+IFNldDxBbnlIYXNoYWJsZT4ge30KICAgIG9wZW4gZnVuYyBhZGRpbmdPYmplY3RzKGZyb20gb3RoZXI6IFNldDxBbnlIYXNoYWJsZT4pIC0+IFNldDxBbnlIYXNoYWJsZT4ge30KICAgIG9wZW4gZnVuYyBhbnlPYmplY3QoKSAtPiBBbnk/IHt9CiAgICBvcGVuIGZ1bmMgY29udGFpbnMoXyBhbk9iamVjdDogQW55KSAtPiBCb29sIHt9CiAgICBvcGVuIGZ1bmMgZGVzY3JpcHRpb24od2l0aExvY2FsZSBsb2NhbGU6IExvY2FsZT8pIC0+IFN0cmluZyB7fQogICAgb3BlbiBmdW5jIGVudW1lcmF0ZU9iamVjdHMoXyBibG9jazogKEFueSwgVW5zYWZlTXV0YWJsZVBvaW50ZXI8T2JqQ0Jvb2w+KSAtPiBTd2lmdC5Wb2lkKSB7fQogICAgb3BlbiBmdW5jIGVudW1lcmF0ZU9iamVjdHMob3B0aW9ucyBvcHRzOiBOU0VudW1lcmF0aW9uT3B0aW9ucyA9IHgsIHVzaW5nIGJsb2NrOiAoQW55LCBVbnNhZmVNdXRhYmxlUG9pbnRlcjxPYmpDQm9vbD4pIC0+IFN3aWZ0LlZvaWQpIHt9CiAgICBvcGVuIGZ1bmMgZmlsdGVyZWQodXNpbmcgcHJlZGljYXRlOiBOU1ByZWRpY2F0ZSkgLT4gU2V0PEFueUhhc2hhYmxlPiB7fQogICAgb3BlbiBmdW5jIGludGVyc2VjdHMoXyBvdGhlclNldDogU2V0PEFueUhhc2hhYmxlPikgLT4gQm9vbCB7fQogICAgb3BlbiBmdW5jIGlzRXF1YWwodG8gb3RoZXJTZXQ6IFNldDxBbnlIYXNoYWJsZT4pIC0+IEJvb2wge30KICAgIG9wZW4gZnVuYyBpc1N1YnNldChvZiBvdGhlclNldDogU2V0PEFueUhhc2hhYmxlPikgLT4gQm9vbCB7fQogICAgcHVibGljIGZ1bmMgbWFrZUl0ZXJhdG9yKCkgLT4gSXRlcmF0b3Ige30KICAgIG9wZW4gZnVuYyBtZW1iZXIoXyBvYmplY3Q6IEFueSkgLT4gQW55PyB7fQogICAgb3BlbiBmdW5jIG9iamVjdEVudW1lcmF0b3IoKSAtPiBOU0VudW1lcmF0b3Ige30KICAgIG9wZW4gZnVuYyBvYmplY3RzKG9wdGlvbnMgb3B0czogTlNFbnVtZXJhdGlvbk9wdGlvbnMgPSB4LCBwYXNzaW5nVGVzdCBwcmVkaWNhdGU6IChBbnksIFVuc2FmZU11dGFibGVQb2ludGVyPE9iakNCb29sPikgLT4gQm9vbCkgLT4gU2V0PEFueUhhc2hhYmxlPiB7fQogICAgb3BlbiBmdW5jIG9iamVjdHMocGFzc2luZ1Rlc3QgcHJlZGljYXRlOiAoQW55LCBVbnNhZmVNdXRhYmxlUG9pbnRlcjxPYmpDQm9vbD4pIC0+IEJvb2wpIC0+IFNldDxBbnlIYXNoYWJsZT4ge30KICAgIG9wZW4gZnVuYyBzb3J0ZWRBcnJheSh1c2luZyBzb3J0RGVzY3JpcHRvcnM6IFtOU1NvcnREZXNjcmlwdG9yXSkgLT4gW0FueV0ge30KfQpvcGVuIGNsYXNzIE5TU29ydERlc2NyaXB0b3IgOiBBbnlPYmplY3QsIEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU0NvcHlpbmcsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sIHsKICAgIHB1YmxpYyBpbml0PFJvb3QsIFZhbHVlPihrZXlQYXRoOiBLZXlQYXRoPFJvb3QsIFZhbHVlPiwgYXNjZW5kaW5nOiBCb29sKSB3aGVyZSBWYWx1ZSA6IENvbXBhcmFibGUge30KICAgIHB1YmxpYyBpbml0PFJvb3QsIFZhbHVlPihrZXlQYXRoOiBLZXlQYXRoPFJvb3QsIFZhbHVlPiwgYXNjZW5kaW5nOiBCb29sLCBjb21wYXJhdG9yIGNtcHRyOiBAZXNjYXBpbmcgQ29tcGFyYXRvcikge30KICAgIG9wZW4gdmFyIGFzY2VuZGluZzogQm9vbCB7IGdldCB9CiAgICBvcGVuIHZhciBjb21wYXJhdG9yOiBDb21wYXJhdG9yIHsgZ2V0IH0KICAgIG9wZW4gdmFyIGtleVBhdGg6IEFueUtleVBhdGggeyBnZXQgfQogICAgb3BlbiB2YXIgcmV2ZXJzZWRTb3J0RGVzY3JpcHRvcjogQW55IHsgZ2V0IH0KICAgIG9wZW4gZnVuYyBjb21wYXJlKF8gb2JqZWN0MTogQW55LCB0byBvYmplY3QyOiBBbnkpIC0+IENvbXBhcmlzb25SZXN1bHQge30KfQpvcGVuIGNsYXNzIE5TU3RyaW5nIDogQW55T2JqZWN0LCBDb21wYXJhYmxlLCBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBFeHByZXNzaWJsZUJ5U3RyaW5nTGl0ZXJhbCwgSGFzaGFibGUsIE5TQ29kaW5nLCBOU0NvcHlpbmcsIE5TTXV0YWJsZUNvcHlpbmcsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBOU1NlY3VyZUNvZGluZywgX0NGQnJpZGdlYWJsZSwgX1N0cnVjdFR5cGVCcmlkZ2VhYmxlLCBfU3dpZnRCcmlkZ2VhYmxlIHsKICAgIG9wZW4gY2xhc3MgdmFyIGF2YWlsYWJsZVN0cmluZ0VuY29kaW5nczogVW5zYWZlUG9pbnRlcjxVSW50PiB7IGdldCB9CiAgICBvcGVuIGNsYXNzIHZhciBkZWZhdWx0Q1N0cmluZ0VuY29kaW5nOiBVSW50IHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgZnVuYyBsb2NhbGl6ZWROYW1lKG9mIGVuY29kaW5nOiBVSW50KSAtPiBTdHJpbmcge30KICAgIHB1YmxpYyBzdGF0aWMgZnVuYyBwYXRoKHdpdGhDb21wb25lbnRzIGNvbXBvbmVudHM6IFtTdHJpbmddKSAtPiBTdHJpbmcge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0PyhieXRlczogVW5zYWZlUmF3UG9pbnRlciwgbGVuZ3RoIGxlbjogSW50LCBlbmNvZGluZzogVUludCkge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0PyhieXRlc05vQ29weSBieXRlczogVW5zYWZlTXV0YWJsZVJhd1BvaW50ZXIsIGxlbmd0aCBsZW46IEludCwgZW5jb2Rpbmc6IFVJbnQsIGZyZWVXaGVuRG9uZSBmcmVlQnVmZmVyOiBCb29sKSB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQ/KGNTdHJpbmcgbnVsbFRlcm1pbmF0ZWRDU3RyaW5nOiBVbnNhZmVQb2ludGVyPEludDg+LCBlbmNvZGluZzogVUludCkge30KICAgIHB1YmxpYyBpbml0KGNoYXJhY3RlcnM6IFVuc2FmZVBvaW50ZXI8dW5pY2hhcj4sIGxlbmd0aDogSW50KSB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQoY2hhcmFjdGVyc05vQ29weSBjaGFyYWN0ZXJzOiBVbnNhZmVNdXRhYmxlUG9pbnRlcjx1bmljaGFyPiwgbGVuZ3RoOiBJbnQsIGZyZWVXaGVuRG9uZSBmcmVlQnVmZmVyOiBCb29sKSB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQoY29udGVudHNPZiB1cmw6IFVSTCwgZW5jb2RpbmcgZW5jOiBVSW50KSB0aHJvd3Mge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KGNvbnRlbnRzT2YgdXJsOiBVUkwsIHVzZWRFbmNvZGluZyBlbmM6IFVuc2FmZU11dGFibGVQb2ludGVyPFVJbnQ+PykgdGhyb3dzIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdChjb250ZW50c09mRmlsZSBwYXRoOiBTdHJpbmcsIGVuY29kaW5nIGVuYzogVUludCkgdGhyb3dzIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdChjb250ZW50c09mRmlsZSBwYXRoOiBTdHJpbmcsIHVzZWRFbmNvZGluZyBlbmM6IFVuc2FmZU11dGFibGVQb2ludGVyPFVJbnQ+PykgdGhyb3dzIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdD8oZGF0YTogRGF0YSwgZW5jb2Rpbmc6IFVJbnQpIHt9CiAgICBwdWJsaWMgcmVxdWlyZWQgY29udmVuaWVuY2UgaW5pdChleHRlbmRlZEdyYXBoZW1lQ2x1c3RlckxpdGVyYWwgdmFsdWU6IFN0YXRpY1N0cmluZykge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KGZvcm1hdDogTlNTdHJpbmcsIF8gYXJnczogQ1ZhckFyZy4uLikge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KGZvcm1hdDogU3RyaW5nLCBhcmd1bWVudHMgYXJnTGlzdDogQ1ZhTGlzdFBvaW50ZXIpIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdChmb3JtYXQ6IFN0cmluZywgbG9jYWxlOiBBbnlPYmplY3Q/LCBhcmd1bWVudHMgYXJnTGlzdDogQ1ZhTGlzdFBvaW50ZXIpIHt9CiAgICBwdWJsaWMgcmVxdWlyZWQgY29udmVuaWVuY2UgaW5pdChzdHJpbmcgYVN0cmluZzogU3RyaW5nKSB7fQogICAgcHVibGljIHJlcXVpcmVkIGluaXQoc3RyaW5nTGl0ZXJhbCB2YWx1ZTogU3RhdGljU3RyaW5nKSB7fQogICAgcHVibGljIHJlcXVpcmVkIGNvbnZlbmllbmNlIGluaXQodW5pY29kZVNjYWxhckxpdGVyYWwgdmFsdWU6IFN0YXRpY1N0cmluZykge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0Pyh1dGY4U3RyaW5nIG51bGxUZXJtaW5hdGVkQ1N0cmluZzogVW5zYWZlUG9pbnRlcjxJbnQ4Pikge30KICAgIHB1YmxpYyB2YXIgYm9vbFZhbHVlOiBCb29sIHsgZ2V0IH0KICAgIHB1YmxpYyB2YXIgY2FwaXRhbGl6ZWQ6IFN0cmluZyB7IGdldCB9CiAgICBvcGVuIHZhciBkZWNvbXBvc2VkU3RyaW5nV2l0aENhbm9uaWNhbE1hcHBpbmc6IFN0cmluZyB7IGdldCB9CiAgICBvcGVuIHZhciBkZWNvbXBvc2VkU3RyaW5nV2l0aENvbXBhdGliaWxpdHlNYXBwaW5nOiBTdHJpbmcgeyBnZXQgfQogICAgcHVibGljIHZhciBkZWxldGluZ0xhc3RQYXRoQ29tcG9uZW50OiBTdHJpbmcgeyBnZXQgfQogICAgcHVibGljIHZhciBkZWxldGluZ1BhdGhFeHRlbnNpb246IFN0cmluZyB7IGdldCB9CiAgICBwdWJsaWMgdmFyIGRvdWJsZVZhbHVlOiBEb3VibGUgeyBnZXQgfQogICAgcHVibGljIHZhciBleHBhbmRpbmdUaWxkZUluUGF0aDogU3RyaW5nIHsgZ2V0IH0KICAgIHB1YmxpYyB2YXIgZmFzdGVzdEVuY29kaW5nOiBVSW50IHsgZ2V0IH0KICAgIHB1YmxpYyB2YXIgZmlsZVN5c3RlbVJlcHJlc2VudGF0aW9uOiBVbnNhZmVQb2ludGVyPEludDg+IHsgZ2V0IH0KICAgIHB1YmxpYyB2YXIgZmxvYXRWYWx1ZTogRmxvYXQgeyBnZXQgfQogICAgcHVibGljIHZhciBpbnRWYWx1ZTogSW50MzIgeyBnZXQgfQogICAgcHVibGljIHZhciBpbnRlZ2VyVmFsdWU6IEludCB7IGdldCB9CiAgICBwdWJsaWMgdmFyIGlzQWJzb2x1dGVQYXRoOiBCb29sIHsgZ2V0IH0KICAgIHB1YmxpYyB2YXIgbGFzdFBhdGhDb21wb25lbnQ6IFN0cmluZyB7IGdldCB9CiAgICBvcGVuIHZhciBsZW5ndGg6IEludCB7IGdldCB9CiAgICBwdWJsaWMgdmFyIGxvY2FsaXplZENhcGl0YWxpemVkOiBTdHJpbmcgeyBnZXQgfQogICAgcHVibGljIHZhciBsb2NhbGl6ZWRMb3dlcmNhc2U6IFN0cmluZyB7IGdldCB9CiAgICBwdWJsaWMgdmFyIGxvY2FsaXplZFVwcGVyY2FzZTogU3RyaW5nIHsgZ2V0IH0KICAgIHB1YmxpYyB2YXIgbG9uZ0xvbmdWYWx1ZTogSW50NjQgeyBnZXQgfQogICAgcHVibGljIHZhciBsb3dlcmNhc2VkOiBTdHJpbmcgeyBnZXQgfQogICAgcHVibGljIHZhciBwYXRoQ29tcG9uZW50czogW1N0cmluZ10geyBnZXQgfQogICAgcHVibGljIHZhciBwYXRoRXh0ZW5zaW9uOiBTdHJpbmcgeyBnZXQgfQogICAgb3BlbiB2YXIgcHJlY29tcG9zZWRTdHJpbmdXaXRoQ2Fub25pY2FsTWFwcGluZzogU3RyaW5nIHsgZ2V0IH0KICAgIG9wZW4gdmFyIHByZWNvbXBvc2VkU3RyaW5nV2l0aENvbXBhdGliaWxpdHlNYXBwaW5nOiBTdHJpbmcgeyBnZXQgfQogICAgb3BlbiB2YXIgcmVtb3ZpbmdQZXJjZW50RW5jb2Rpbmc6IFN0cmluZz8geyBnZXQgfQogICAgcHVibGljIHZhciByZXNvbHZpbmdTeW1saW5rc0luUGF0aDogU3RyaW5nIHsgZ2V0IH0KICAgIHB1YmxpYyB2YXIgc21hbGxlc3RFbmNvZGluZzogVUludCB7IGdldCB9CiAgICBwdWJsaWMgdmFyIHN0YW5kYXJkaXppbmdQYXRoOiBTdHJpbmcgeyBnZXQgfQogICAgcHVibGljIHZhciB1cHBlcmNhc2VkOiBTdHJpbmcgeyBnZXQgfQogICAgcHVibGljIHZhciB1dGY4U3RyaW5nOiBVbnNhZmVQb2ludGVyPEludDg+PyB7IGdldCB9CiAgICBwdWJsaWMgZnVuYyA8KGxoczogTlNTdHJpbmcsIHJoczogTlNTdHJpbmcpIC0+IEJvb2wge30KICAgIG9wZW4gZnVuYyBhZGRpbmdQZXJjZW50RW5jb2Rpbmcod2l0aEFsbG93ZWRDaGFyYWN0ZXJzIGFsbG93ZWRDaGFyYWN0ZXJzOiBDaGFyYWN0ZXJTZXQpIC0+IFN0cmluZz8ge30KICAgIHB1YmxpYyBmdW5jIGFwcGVuZGluZyhfIGFTdHJpbmc6IFN0cmluZykgLT4gU3RyaW5nIHt9CiAgICBwdWJsaWMgZnVuYyBhcHBlbmRpbmdQYXRoQ29tcG9uZW50KF8gc3RyOiBTdHJpbmcpIC0+IFN0cmluZyB7fQogICAgcHVibGljIGZ1bmMgYXBwZW5kaW5nUGF0aEV4dGVuc2lvbihfIHN0cjogU3RyaW5nKSAtPiBTdHJpbmc/IHt9CiAgICBvcGVuIGZ1bmMgYXBwbHlpbmdUcmFuc2Zvcm0oXyB0cmFuc2Zvcm06IFN0cmluZ1RyYW5zZm9ybSwgcmV2ZXJzZTogQm9vbCkgLT4gU3RyaW5nPyB7fQogICAgcHVibGljIGZ1bmMgY1N0cmluZyh1c2luZyBlbmNvZGluZzogVUludCkgLT4gVW5zYWZlUG9pbnRlcjxJbnQ4Pj8ge30KICAgIHB1YmxpYyBmdW5jIGNhbkJlQ29udmVydGVkKHRvIGVuY29kaW5nOiBVSW50KSAtPiBCb29sIHt9CiAgICBwdWJsaWMgZnVuYyBjYXBpdGFsaXplZCh3aXRoIGxvY2FsZTogTG9jYWxlPykgLT4gU3RyaW5nIHt9CiAgICBwdWJsaWMgZnVuYyBjYXNlSW5zZW5zaXRpdmVDb21wYXJlKF8gc3RyaW5nOiBTdHJpbmcpIC0+IENvbXBhcmlzb25SZXN1bHQge30KICAgIG9wZW4gZnVuYyBjaGFyYWN0ZXIoYXQgaW5kZXg6IEludCkgLT4gdW5pY2hhciB7fQogICAgcHVibGljIGZ1bmMgY29tbW9uUHJlZml4KHdpdGggc3RyOiBTdHJpbmcsIG9wdGlvbnMgbWFzazogQ29tcGFyZU9wdGlvbnMgPSB4KSAtPiBTdHJpbmcge30KICAgIHB1YmxpYyBmdW5jIGNvbXBhcmUoXyBzdHJpbmc6IFN0cmluZykgLT4gQ29tcGFyaXNvblJlc3VsdCB7fQogICAgcHVibGljIGZ1bmMgY29tcGFyZShfIHN0cmluZzogU3RyaW5nLCBvcHRpb25zIG1hc2s6IENvbXBhcmVPcHRpb25zKSAtPiBDb21wYXJpc29uUmVzdWx0IHt9CiAgICBwdWJsaWMgZnVuYyBjb21wYXJlKF8gc3RyaW5nOiBTdHJpbmcsIG9wdGlvbnMgbWFzazogQ29tcGFyZU9wdGlvbnMsIHJhbmdlIGNvbXBhcmVSYW5nZTogTlNSYW5nZSkgLT4gQ29tcGFyaXNvblJlc3VsdCB7fQogICAgcHVibGljIGZ1bmMgY29tcGFyZShfIHN0cmluZzogU3RyaW5nLCBvcHRpb25zIG1hc2s6IENvbXBhcmVPcHRpb25zLCByYW5nZSBjb21wYXJlUmFuZ2U6IE5TUmFuZ2UsIGxvY2FsZTogQW55PykgLT4gQ29tcGFyaXNvblJlc3VsdCB7fQogICAgcHVibGljIGZ1bmMgY29tcGxldGVQYXRoKGludG8gb3V0cHV0TmFtZTogaW5vdXQgU3RyaW5nPywgY2FzZVNlbnNpdGl2ZSBmbGFnOiBCb29sLCBtYXRjaGVzSW50byBvdXRwdXRBcnJheTogaW5vdXQgW1N0cmluZ10sIGZpbHRlclR5cGVzOiBbU3RyaW5nXT8pIC0+IEludCB7fQogICAgb3BlbiBmdW5jIGNvbXBvbmVudHMoc2VwYXJhdGVkQnkgc2VwYXJhdG9yOiBDaGFyYWN0ZXJTZXQpIC0+IFtTdHJpbmddIHt9CiAgICBwdWJsaWMgZnVuYyBjb250YWlucyhfIHN0cjogU3RyaW5nKSAtPiBCb29sIHt9CiAgICBwdWJsaWMgZnVuYyBkYXRhKHVzaW5nIGVuY29kaW5nOiBVSW50KSAtPiBEYXRhPyB7fQogICAgcHVibGljIGZ1bmMgZGF0YSh1c2luZyBlbmNvZGluZzogVUludCwgYWxsb3dMb3NzeUNvbnZlcnNpb24gbG9zc3k6IEJvb2wgPSB4KSAtPiBEYXRhPyB7fQogICAgcHVibGljIGZ1bmMgZW51bWVyYXRlTGluZXMoXyBibG9jazogKFN0cmluZywgVW5zYWZlTXV0YWJsZVBvaW50ZXI8T2JqQ0Jvb2w+KSAtPiBWb2lkKSB7fQogICAgcHVibGljIGZ1bmMgZW51bWVyYXRlU3Vic3RyaW5ncyhpbiByYW5nZTogTlNSYW5nZSwgb3B0aW9ucyBvcHRzOiBFbnVtZXJhdGlvbk9wdGlvbnMgPSB4LCB1c2luZyBibG9jazogKFN0cmluZz8sIE5TUmFuZ2UsIE5TUmFuZ2UsIFVuc2FmZU11dGFibGVQb2ludGVyPE9iakNCb29sPikgLT4gVm9pZCkge30KICAgIG9wZW4gZnVuYyBmb2xkaW5nKG9wdGlvbnM6IENvbXBhcmVPcHRpb25zID0geCwgbG9jYWxlOiBMb2NhbGU/KSAtPiBTdHJpbmcge30KICAgIHB1YmxpYyBmdW5jIGdldEJ5dGVzKF8gYnVmZmVyOiBVbnNhZmVNdXRhYmxlUmF3UG9pbnRlcj8sIG1heExlbmd0aCBtYXhCdWZmZXJDb3VudDogSW50LCB1c2VkTGVuZ3RoIHVzZWRCdWZmZXJDb3VudDogVW5zYWZlTXV0YWJsZVBvaW50ZXI8SW50Pj8sIGVuY29kaW5nOiBVSW50LCBvcHRpb25zOiBFbmNvZGluZ0NvbnZlcnNpb25PcHRpb25zID0geCwgcmFuZ2U6IE5TUmFuZ2UsIHJlbWFpbmluZyBsZWZ0b3ZlcjogTlNSYW5nZVBvaW50ZXI/KSAtPiBCb29sIHt9CiAgICBwdWJsaWMgZnVuYyBnZXRDU3RyaW5nKF8gYnVmZmVyOiBVbnNhZmVNdXRhYmxlUG9pbnRlcjxJbnQ4PiwgbWF4TGVuZ3RoIG1heEJ1ZmZlckNvdW50OiBJbnQsIGVuY29kaW5nOiBVSW50KSAtPiBCb29sIHt9CiAgICBwdWJsaWMgZnVuYyBnZXRDaGFyYWN0ZXJzKF8gYnVmZmVyOiBVbnNhZmVNdXRhYmxlUG9pbnRlcjx1bmljaGFyPiwgcmFuZ2U6IE5TUmFuZ2UpIHt9CiAgICBwdWJsaWMgZnVuYyBnZXRGaWxlU3lzdGVtUmVwcmVzZW50YXRpb24oXyBjbmFtZTogVW5zYWZlTXV0YWJsZVBvaW50ZXI8SW50OD4sIG1heExlbmd0aCBtYXg6IEludCkgLT4gQm9vbCB7fQogICAgcHVibGljIGZ1bmMgZ2V0TGluZVN0YXJ0KF8gc3RhcnRQdHI6IFVuc2FmZU11dGFibGVQb2ludGVyPEludD4/LCBlbmQgbGluZUVuZFB0cjogVW5zYWZlTXV0YWJsZVBvaW50ZXI8SW50Pj8sIGNvbnRlbnRzRW5kIGNvbnRlbnRzRW5kUHRyOiBVbnNhZmVNdXRhYmxlUG9pbnRlcjxJbnQ+PywgZm9yIHJhbmdlOiBOU1JhbmdlKSB7fQogICAgcHVibGljIGZ1bmMgZ2V0UGFyYWdyYXBoU3RhcnQoXyBzdGFydFB0cjogVW5zYWZlTXV0YWJsZVBvaW50ZXI8SW50Pj8sIGVuZCBwYXJFbmRQdHI6IFVuc2FmZU11dGFibGVQb2ludGVyPEludD4/LCBjb250ZW50c0VuZCBjb250ZW50c0VuZFB0cjogVW5zYWZlTXV0YWJsZVBvaW50ZXI8SW50Pj8sIGZvciByYW5nZTogTlNSYW5nZSkge30KICAgIHB1YmxpYyBmdW5jIGhhc1ByZWZpeChfIHN0cjogU3RyaW5nKSAtPiBCb29sIHt9CiAgICBwdWJsaWMgZnVuYyBoYXNTdWZmaXgoXyBzdHI6IFN0cmluZykgLT4gQm9vbCB7fQogICAgcHVibGljIGZ1bmMgaXNFcXVhbCh0byBhU3RyaW5nOiBTdHJpbmcpIC0+IEJvb2wge30KICAgIHB1YmxpYyBmdW5jIGxlbmd0aE9mQnl0ZXModXNpbmcgZW5jOiBVSW50KSAtPiBJbnQge30KICAgIHB1YmxpYyBmdW5jIGxpbmVSYW5nZShmb3IgcmFuZ2U6IE5TUmFuZ2UpIC0+IE5TUmFuZ2Uge30KICAgIHB1YmxpYyBmdW5jIGxvY2FsaXplZENhc2VJbnNlbnNpdGl2ZUNvbXBhcmUoXyBzdHJpbmc6IFN0cmluZykgLT4gQ29tcGFyaXNvblJlc3VsdCB7fQogICAgcHVibGljIGZ1bmMgbG9jYWxpemVkQ2FzZUluc2Vuc2l0aXZlQ29udGFpbnMoXyBzdHI6IFN0cmluZykgLT4gQm9vbCB7fQogICAgcHVibGljIGZ1bmMgbG9jYWxpemVkQ29tcGFyZShfIHN0cmluZzogU3RyaW5nKSAtPiBDb21wYXJpc29uUmVzdWx0IHt9CiAgICBwdWJsaWMgZnVuYyBsb2NhbGl6ZWRTdGFuZGFyZENvbXBhcmUoXyBzdHJpbmc6IFN0cmluZykgLT4gQ29tcGFyaXNvblJlc3VsdCB7fQogICAgcHVibGljIGZ1bmMgbG9jYWxpemVkU3RhbmRhcmRDb250YWlucyhfIHN0cjogU3RyaW5nKSAtPiBCb29sIHt9CiAgICBwdWJsaWMgZnVuYyBsb2NhbGl6ZWRTdGFuZGFyZFJhbmdlKG9mIHN0cjogU3RyaW5nKSAtPiBOU1JhbmdlIHt9CiAgICBwdWJsaWMgZnVuYyBsb3dlcmNhc2VkKHdpdGggbG9jYWxlOiBMb2NhbGU/KSAtPiBTdHJpbmcge30KICAgIHB1YmxpYyBmdW5jIG1heGltdW1MZW5ndGhPZkJ5dGVzKHVzaW5nIGVuYzogVUludCkgLT4gSW50IHt9CiAgICBvcGVuIGZ1bmMgcGFkZGluZyh0b0xlbmd0aCBuZXdMZW5ndGg6IEludCwgd2l0aFBhZCBwYWRTdHJpbmc6IFN0cmluZywgc3RhcnRpbmdBdCBwYWRJbmRleDogSW50KSAtPiBTdHJpbmcge30KICAgIHB1YmxpYyBmdW5jIHBhcmFncmFwaFJhbmdlKGZvciByYW5nZTogTlNSYW5nZSkgLT4gTlNSYW5nZSB7fQogICAgcHVibGljIGZ1bmMgcmFuZ2Uob2Ygc2VhcmNoU3RyaW5nOiBTdHJpbmcpIC0+IE5TUmFuZ2Uge30KICAgIHB1YmxpYyBmdW5jIHJhbmdlKG9mIHNlYXJjaFN0cmluZzogU3RyaW5nLCBvcHRpb25zIG1hc2s6IENvbXBhcmVPcHRpb25zID0geCkgLT4gTlNSYW5nZSB7fQogICAgcHVibGljIGZ1bmMgcmFuZ2Uob2Ygc2VhcmNoU3RyaW5nOiBTdHJpbmcsIG9wdGlvbnMgbWFzazogQ29tcGFyZU9wdGlvbnMgPSB4LCByYW5nZSBzZWFyY2hSYW5nZTogTlNSYW5nZSkgLT4gTlNSYW5nZSB7fQogICAgcHVibGljIGZ1bmMgcmFuZ2Uob2Ygc2VhcmNoU3RyaW5nOiBTdHJpbmcsIG9wdGlvbnMgbWFzazogQ29tcGFyZU9wdGlvbnMgPSB4LCByYW5nZSBzZWFyY2hSYW5nZTogTlNSYW5nZSwgbG9jYWxlOiBMb2NhbGU/KSAtPiBOU1JhbmdlIHt9CiAgICBwdWJsaWMgZnVuYyByYW5nZU9mQ2hhcmFjdGVyKGZyb20gc2VhcmNoU2V0OiBDaGFyYWN0ZXJTZXQpIC0+IE5TUmFuZ2Uge30KICAgIHB1YmxpYyBmdW5jIHJhbmdlT2ZDaGFyYWN0ZXIoZnJvbSBzZWFyY2hTZXQ6IENoYXJhY3RlclNldCwgb3B0aW9ucyBtYXNrOiBDb21wYXJlT3B0aW9ucyA9IHgpIC0+IE5TUmFuZ2Uge30KICAgIHB1YmxpYyBmdW5jIHJhbmdlT2ZDaGFyYWN0ZXIoZnJvbSBzZWFyY2hTZXQ6IENoYXJhY3RlclNldCwgb3B0aW9ucyBtYXNrOiBDb21wYXJlT3B0aW9ucyA9IHgsIHJhbmdlIHNlYXJjaFJhbmdlOiBOU1JhbmdlKSAtPiBOU1JhbmdlIHt9CiAgICBwdWJsaWMgZnVuYyByYW5nZU9mQ29tcG9zZWRDaGFyYWN0ZXJTZXF1ZW5jZShhdCBpbmRleDogSW50KSAtPiBOU1JhbmdlIHt9CiAgICBwdWJsaWMgZnVuYyByYW5nZU9mQ29tcG9zZWRDaGFyYWN0ZXJTZXF1ZW5jZXMoZm9yIHJhbmdlOiBOU1JhbmdlKSAtPiBOU1JhbmdlIHt9CiAgICBvcGVuIGZ1bmMgcmVwbGFjaW5nQ2hhcmFjdGVycyhpbiByYW5nZTogTlNSYW5nZSwgd2l0aCByZXBsYWNlbWVudDogU3RyaW5nKSAtPiBTdHJpbmcge30KICAgIG9wZW4gZnVuYyByZXBsYWNpbmdPY2N1cnJlbmNlcyhvZiB0YXJnZXQ6IFN0cmluZywgd2l0aCByZXBsYWNlbWVudDogU3RyaW5nKSAtPiBTdHJpbmcge30KICAgIG9wZW4gZnVuYyByZXBsYWNpbmdPY2N1cnJlbmNlcyhvZiB0YXJnZXQ6IFN0cmluZywgd2l0aCByZXBsYWNlbWVudDogU3RyaW5nLCBvcHRpb25zOiBDb21wYXJlT3B0aW9ucyA9IHgsIHJhbmdlIHNlYXJjaFJhbmdlOiBOU1JhbmdlKSAtPiBTdHJpbmcge30KICAgIHB1YmxpYyBmdW5jIHN0cmluZ3NCeUFwcGVuZGluZ1BhdGhzKF8gcGF0aHM6IFtTdHJpbmddKSAtPiBbU3RyaW5nXSB7fQogICAgcHVibGljIGZ1bmMgc3Vic3RyaW5nKGZyb206IEludCkgLT4gU3RyaW5nIHt9CiAgICBwdWJsaWMgZnVuYyBzdWJzdHJpbmcodG86IEludCkgLT4gU3RyaW5nIHt9CiAgICBwdWJsaWMgZnVuYyBzdWJzdHJpbmcod2l0aCByYW5nZTogTlNSYW5nZSkgLT4gU3RyaW5nIHt9CiAgICBvcGVuIGZ1bmMgdHJpbW1pbmdDaGFyYWN0ZXJzKGluIHNldDogQ2hhcmFjdGVyU2V0KSAtPiBTdHJpbmcge30KICAgIHB1YmxpYyBmdW5jIHVwcGVyY2FzZWQod2l0aCBsb2NhbGU6IExvY2FsZT8pIC0+IFN0cmluZyB7fQogICAgb3BlbiBmdW5jIHdyaXRlKHRvIHVybDogVVJMLCBhdG9taWNhbGx5IHVzZUF1eGlsaWFyeUZpbGU6IEJvb2wsIGVuY29kaW5nIGVuYzogVUludCkgdGhyb3dzIHt9CiAgICBvcGVuIGZ1bmMgd3JpdGUodG9GaWxlIHBhdGg6IFN0cmluZywgYXRvbWljYWxseSB1c2VBdXhpbGlhcnlGaWxlOiBCb29sLCBlbmNvZGluZyBlbmM6IFVJbnQpIHRocm93cyB7fQp9Cm9wZW4gY2xhc3MgTlNUZXh0Q2hlY2tpbmdSZXN1bHQgOiBBbnlPYmplY3QsIEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU0NvZGluZywgTlNDb3B5aW5nLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCwgTlNTZWN1cmVDb2RpbmcgewogICAgb3BlbiBjbGFzcyBmdW5jIHJlZ3VsYXJFeHByZXNzaW9uQ2hlY2tpbmdSZXN1bHQocmFuZ2VzOiBOU1JhbmdlUG9pbnRlciwgY291bnQ6IEludCwgcmVndWxhckV4cHJlc3Npb246IE5TUmVndWxhckV4cHJlc3Npb24pIC0+IE5TVGV4dENoZWNraW5nUmVzdWx0IHt9CiAgICBvcGVuIHZhciBudW1iZXJPZlJhbmdlczogSW50IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHJhbmdlOiBOU1JhbmdlIHsgZ2V0IH0KICAgIG9wZW4gdmFyIHJlZ3VsYXJFeHByZXNzaW9uOiBOU1JlZ3VsYXJFeHByZXNzaW9uPyB7IGdldCB9CiAgICBvcGVuIHZhciByZXN1bHRUeXBlOiBDaGVja2luZ1R5cGUgeyBnZXQgfQogICAgcHVibGljIGZ1bmMgYWRqdXN0aW5nUmFuZ2VzKG9mZnNldDogSW50KSAtPiBOU1RleHRDaGVja2luZ1Jlc3VsdCB7fQogICAgb3BlbiBmdW5jIHJhbmdlKGF0IGlkeDogSW50KSAtPiBOU1JhbmdlIHt9CiAgICBAYXZhaWxhYmxlKG1hY09TIDEwLjEzLCBpT1MgMTEuMCwgd2F0Y2hPUyA0LjAsIHR2T1MgMTEuMCwgKikgb3BlbiBmdW5jIHJhbmdlKHdpdGhOYW1lOiBTdHJpbmcpIC0+IE5TUmFuZ2Uge30KfQpvcGVuIGNsYXNzIE5TVGltZVpvbmUgOiBBbnlPYmplY3QsIEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU0NvZGluZywgTlNDb3B5aW5nLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCwgTlNTZWN1cmVDb2RpbmcsIF9DRkJyaWRnZWFibGUsIF9Td2lmdEJyaWRnZWFibGUgewogICAgb3BlbiBjbGFzcyB2YXIgYGRlZmF1bHRgOiBUaW1lWm9uZSB7IGdldCBzZXQgfQogICAgb3BlbiBjbGFzcyB2YXIgYWJicmV2aWF0aW9uRGljdGlvbmFyeTogW1N0cmluZzogU3RyaW5nXSB7IGdldCBzZXQgfQogICAgb3BlbiBjbGFzcyB2YXIga25vd25UaW1lWm9uZU5hbWVzOiBbU3RyaW5nXSB7IGdldCB9CiAgICBvcGVuIGNsYXNzIHZhciBsb2NhbDogVGltZVpvbmUgeyBnZXQgfQogICAgb3BlbiBjbGFzcyB2YXIgc3lzdGVtOiBUaW1lWm9uZSB7IGdldCB9CiAgICBvcGVuIGNsYXNzIHZhciB0aW1lWm9uZURhdGFWZXJzaW9uOiBTdHJpbmcgeyBnZXQgfQogICAgb3BlbiBjbGFzcyBmdW5jIHJlc2V0U3lzdGVtVGltZVpvbmUoKSB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQ/KGFiYnJldmlhdGlvbjogU3RyaW5nKSB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQoZm9yU2Vjb25kc0Zyb21HTVQgc2Vjb25kczogSW50KSB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQ/KG5hbWUgdHpOYW1lOiBTdHJpbmcpIHt9CiAgICBwdWJsaWMgaW5pdD8obmFtZSB0ek5hbWU6IFN0cmluZywgZGF0YSBhRGF0YTogRGF0YT8pIHt9CiAgICBvcGVuIHZhciBhYmJyZXZpYXRpb246IFN0cmluZz8geyBnZXQgfQogICAgb3BlbiB2YXIgZGF0YTogRGF0YSB7IGdldCB9CiAgICBvcGVuIHZhciBkYXlsaWdodFNhdmluZ1RpbWVPZmZzZXQ6IFRpbWVJbnRlcnZhbCB7IGdldCB9CiAgICBvcGVuIHZhciBpc0RheWxpZ2h0U2F2aW5nVGltZTogQm9vbCB7IGdldCB9CiAgICBvcGVuIHZhciBuYW1lOiBTdHJpbmcgeyBnZXQgfQogICAgb3BlbiB2YXIgbmV4dERheWxpZ2h0U2F2aW5nVGltZVRyYW5zaXRpb246IERhdGU/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHNlY29uZHNGcm9tR01UOiBJbnQgeyBnZXQgfQogICAgb3BlbiBmdW5jIGFiYnJldmlhdGlvbihmb3IgYURhdGU6IERhdGUpIC0+IFN0cmluZz8ge30KICAgIG9wZW4gZnVuYyBkYXlsaWdodFNhdmluZ1RpbWVPZmZzZXQoZm9yIGFEYXRlOiBEYXRlKSAtPiBUaW1lSW50ZXJ2YWwge30KICAgIG9wZW4gZnVuYyBpc0RheWxpZ2h0U2F2aW5nVGltZShmb3IgYURhdGU6IERhdGUpIC0+IEJvb2wge30KICAgIG9wZW4gZnVuYyBpc0VxdWFsKHRvIGFUaW1lWm9uZTogVGltZVpvbmUpIC0+IEJvb2wge30KICAgIG9wZW4gZnVuYyBsb2NhbGl6ZWROYW1lKF8gc3R5bGU6IE5hbWVTdHlsZSwgbG9jYWxlOiBMb2NhbGU/KSAtPiBTdHJpbmc/IHt9CiAgICBvcGVuIGZ1bmMgbmV4dERheWxpZ2h0U2F2aW5nVGltZVRyYW5zaXRpb24oYWZ0ZXIgYURhdGU6IERhdGUpIC0+IERhdGU/IHt9CiAgICBvcGVuIGZ1bmMgc2Vjb25kc0Zyb21HTVQoZm9yIGFEYXRlOiBEYXRlKSAtPiBJbnQge30KfQpvcGVuIGNsYXNzIE5TVVJMIDogQW55T2JqZWN0LCBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNDb2RpbmcsIE5TQ29weWluZywgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wsIE5TU2VjdXJlQ29kaW5nLCBfQ0ZCcmlkZ2VhYmxlLCBfU3RydWN0VHlwZUJyaWRnZWFibGUsIF9Td2lmdEJyaWRnZWFibGUgewogICAgb3BlbiBjbGFzcyBmdW5jIGZpbGVVUkwod2l0aFBhdGhDb21wb25lbnRzIGNvbXBvbmVudHM6IFtTdHJpbmddKSAtPiBVUkw/IHt9CiAgICBwdWJsaWMgaW5pdChhYnNvbHV0ZVVSTFdpdGhEYXRhUmVwcmVzZW50YXRpb24gZGF0YTogRGF0YSwgcmVsYXRpdmVUbyBiYXNlVVJMOiBVUkw/KSB7fQogICAgcHVibGljIGluaXQoZGF0YVJlcHJlc2VudGF0aW9uIGRhdGE6IERhdGEsIHJlbGF0aXZlVG8gYmFzZVVSTDogVVJMPykge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KGZpbGVVUkxXaXRoRmlsZVN5c3RlbVJlcHJlc2VudGF0aW9uIHBhdGg6IFVuc2FmZVBvaW50ZXI8SW50OD4sIGlzRGlyZWN0b3J5IGlzRGlyOiBCb29sLCByZWxhdGl2ZVRvIGJhc2VVUkw6IFVSTD8pIHt9CiAgICBwdWJsaWMgaW5pdChmaWxlVVJMV2l0aFBhdGggcGF0aDogU3RyaW5nKSB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQoZmlsZVVSTFdpdGhQYXRoIHBhdGg6IFN0cmluZywgaXNEaXJlY3RvcnkgaXNEaXI6IEJvb2wpIHt9CiAgICBwdWJsaWMgaW5pdChmaWxlVVJMV2l0aFBhdGggcGF0aDogU3RyaW5nLCBpc0RpcmVjdG9yeSBpc0RpcjogQm9vbCwgcmVsYXRpdmVUbyBiYXNlVVJMOiBVUkw/KSB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQoZmlsZVVSTFdpdGhQYXRoIHBhdGg6IFN0cmluZywgcmVsYXRpdmVUbyBiYXNlVVJMOiBVUkw/KSB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQ/KHN0cmluZyBVUkxTdHJpbmc6IFN0cmluZykge30KICAgIHB1YmxpYyBpbml0PyhzdHJpbmcgVVJMU3RyaW5nOiBTdHJpbmcsIHJlbGF0aXZlVG8gYmFzZVVSTDogVVJMPykge30KICAgIG9wZW4gdmFyIGFic29sdXRlU3RyaW5nOiBTdHJpbmcgeyBnZXQgfQogICAgb3BlbiB2YXIgYWJzb2x1dGVVUkw6IFVSTD8geyBnZXQgfQogICAgb3BlbiB2YXIgYmFzZVVSTDogVVJMPyB7IGdldCB9CiAgICBvcGVuIHZhciBkYXRhUmVwcmVzZW50YXRpb246IERhdGEgeyBnZXQgfQogICAgb3BlbiB2YXIgZGVsZXRpbmdMYXN0UGF0aENvbXBvbmVudDogVVJMPyB7IGdldCB9CiAgICBvcGVuIHZhciBkZWxldGluZ1BhdGhFeHRlbnNpb246IFVSTD8geyBnZXQgfQogICAgb3BlbiB2YXIgZmlsZVBhdGhVUkw6IFVSTD8geyBnZXQgfQogICAgb3BlbiB2YXIgZmlsZVN5c3RlbVJlcHJlc2VudGF0aW9uOiBVbnNhZmVQb2ludGVyPEludDg+IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGZyYWdtZW50OiBTdHJpbmc/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGhhc0RpcmVjdG9yeVBhdGg6IEJvb2wgeyBnZXQgfQogICAgb3BlbiB2YXIgaG9zdDogU3RyaW5nPyB7IGdldCB9CiAgICBvcGVuIHZhciBpc0ZpbGVVUkw6IEJvb2wgeyBnZXQgfQogICAgb3BlbiB2YXIgbGFzdFBhdGhDb21wb25lbnQ6IFN0cmluZz8geyBnZXQgfQogICAgb3BlbiB2YXIgcGFyYW1ldGVyU3RyaW5nOiBTdHJpbmc/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHBhc3N3b3JkOiBTdHJpbmc/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHBhdGg6IFN0cmluZz8geyBnZXQgfQogICAgb3BlbiB2YXIgcGF0aENvbXBvbmVudHM6IFtTdHJpbmddPyB7IGdldCB9CiAgICBvcGVuIHZhciBwYXRoRXh0ZW5zaW9uOiBTdHJpbmc/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHBvcnQ6IE5TTnVtYmVyPyB7IGdldCB9CiAgICBvcGVuIHZhciBxdWVyeTogU3RyaW5nPyB7IGdldCB9CiAgICBvcGVuIHZhciByZWxhdGl2ZVBhdGg6IFN0cmluZz8geyBnZXQgfQogICAgb3BlbiB2YXIgcmVsYXRpdmVTdHJpbmc6IFN0cmluZyB7IGdldCB9CiAgICBvcGVuIHZhciByZXNvbHZpbmdTeW1saW5rc0luUGF0aDogVVJMPyB7IGdldCB9CiAgICBvcGVuIHZhciByZXNvdXJjZVNwZWNpZmllcjogU3RyaW5nPyB7IGdldCB9CiAgICBvcGVuIHZhciBzY2hlbWU6IFN0cmluZz8geyBnZXQgfQogICAgb3BlbiB2YXIgc3RhbmRhcmRpemVkOiBVUkw/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHN0YW5kYXJkaXppbmdQYXRoOiBVUkw/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHVzZXI6IFN0cmluZz8geyBnZXQgfQogICAgb3BlbiBmdW5jIGFwcGVuZGluZ1BhdGhDb21wb25lbnQoXyBwYXRoQ29tcG9uZW50OiBTdHJpbmcpIC0+IFVSTD8ge30KICAgIG9wZW4gZnVuYyBhcHBlbmRpbmdQYXRoQ29tcG9uZW50KF8gcGF0aENvbXBvbmVudDogU3RyaW5nLCBpc0RpcmVjdG9yeTogQm9vbCkgLT4gVVJMPyB7fQogICAgb3BlbiBmdW5jIGFwcGVuZGluZ1BhdGhFeHRlbnNpb24oXyBwYXRoRXh0ZW5zaW9uOiBTdHJpbmcpIC0+IFVSTD8ge30KICAgIG9wZW4gZnVuYyBjaGVja1Jlc291cmNlSXNSZWFjaGFibGUoKSB0aHJvd3MgLT4gQm9vbCB7fQogICAgb3BlbiBmdW5jIGdldEZpbGVTeXN0ZW1SZXByZXNlbnRhdGlvbihfIGJ1ZmZlcjogVW5zYWZlTXV0YWJsZVBvaW50ZXI8SW50OD4sIG1heExlbmd0aCBtYXhCdWZmZXJMZW5ndGg6IEludCkgLT4gQm9vbCB7fQogICAgb3BlbiBmdW5jIGdldFJlc291cmNlVmFsdWUoXyB2YWx1ZTogaW5vdXQgQW55T2JqZWN0PywgZm9yS2V5IGtleTogVVJMUmVzb3VyY2VLZXkpIHRocm93cyB7fQogICAgb3BlbiBmdW5jIHJlbW92ZUFsbENhY2hlZFJlc291cmNlVmFsdWVzKCkge30KICAgIG9wZW4gZnVuYyByZW1vdmVDYWNoZWRSZXNvdXJjZVZhbHVlKGZvcktleSBrZXk6IFVSTFJlc291cmNlS2V5KSB7fQogICAgb3BlbiBmdW5jIHJlc291cmNlVmFsdWVzKGZvcktleXMga2V5czogW1VSTFJlc291cmNlS2V5XSkgdGhyb3dzIC0+IFtVUkxSZXNvdXJjZUtleTogQW55XSB7fQogICAgb3BlbiBmdW5jIHNldFJlc291cmNlVmFsdWUoXyB2YWx1ZTogQW55PywgZm9yS2V5IGtleTogVVJMUmVzb3VyY2VLZXkpIHRocm93cyB7fQogICAgb3BlbiBmdW5jIHNldFJlc291cmNlVmFsdWVzKF8ga2V5ZWRWYWx1ZXM6IFtVUkxSZXNvdXJjZUtleTogQW55XSkgdGhyb3dzIHt9CiAgICBvcGVuIGZ1bmMgc2V0VGVtcG9yYXJ5UmVzb3VyY2VWYWx1ZShfIHZhbHVlOiBBbnk/LCBmb3JLZXkga2V5OiBVUkxSZXNvdXJjZUtleSkge30KfQpvcGVuIGNsYXNzIE5TVVJMQ29tcG9uZW50cyA6IEFueU9iamVjdCwgQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TQ29weWluZywgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wsIF9TdHJ1Y3RUeXBlQnJpZGdlYWJsZSwgX1N3aWZ0QnJpZGdlYWJsZSB7CiAgICBwdWJsaWMgaW5pdD8oc3RyaW5nIFVSTFN0cmluZzogU3RyaW5nKSB7fQogICAgcHVibGljIGluaXQ/KHVybDogVVJMLCByZXNvbHZpbmdBZ2FpbnN0QmFzZVVSTCByZXNvbHZlOiBCb29sKSB7fQogICAgb3BlbiB2YXIgZnJhZ21lbnQ6IFN0cmluZz8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGhvc3Q6IFN0cmluZz8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHBhc3N3b3JkOiBTdHJpbmc/IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBwYXRoOiBTdHJpbmc/IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBwZXJjZW50RW5jb2RlZEZyYWdtZW50OiBTdHJpbmc/IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBwZXJjZW50RW5jb2RlZEhvc3Q6IFN0cmluZz8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHBlcmNlbnRFbmNvZGVkUGFzc3dvcmQ6IFN0cmluZz8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHBlcmNlbnRFbmNvZGVkUGF0aDogU3RyaW5nPyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgcGVyY2VudEVuY29kZWRRdWVyeTogU3RyaW5nPyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgcGVyY2VudEVuY29kZWRVc2VyOiBTdHJpbmc/IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBwb3J0OiBOU051bWJlcj8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHF1ZXJ5OiBTdHJpbmc/IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBxdWVyeUl0ZW1zOiBbVVJMUXVlcnlJdGVtXT8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHJhbmdlT2ZGcmFnbWVudDogTlNSYW5nZSB7IGdldCB9CiAgICBvcGVuIHZhciByYW5nZU9mSG9zdDogTlNSYW5nZSB7IGdldCB9CiAgICBvcGVuIHZhciByYW5nZU9mUGFzc3dvcmQ6IE5TUmFuZ2UgeyBnZXQgfQogICAgb3BlbiB2YXIgcmFuZ2VPZlBhdGg6IE5TUmFuZ2UgeyBnZXQgfQogICAgb3BlbiB2YXIgcmFuZ2VPZlBvcnQ6IE5TUmFuZ2UgeyBnZXQgfQogICAgb3BlbiB2YXIgcmFuZ2VPZlF1ZXJ5OiBOU1JhbmdlIHsgZ2V0IH0KICAgIG9wZW4gdmFyIHJhbmdlT2ZTY2hlbWU6IE5TUmFuZ2UgeyBnZXQgfQogICAgb3BlbiB2YXIgcmFuZ2VPZlVzZXI6IE5TUmFuZ2UgeyBnZXQgfQogICAgb3BlbiB2YXIgc2NoZW1lOiBTdHJpbmc/IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBzdHJpbmc6IFN0cmluZz8geyBnZXQgfQogICAgb3BlbiB2YXIgdXJsOiBVUkw/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHVzZXI6IFN0cmluZz8geyBnZXQgc2V0IH0KICAgIG9wZW4gZnVuYyB1cmwocmVsYXRpdmVUbyBiYXNlVVJMOiBVUkw/KSAtPiBVUkw/IHt9Cn0Kb3BlbiBjbGFzcyBOU1VSTFF1ZXJ5SXRlbSA6IEFueU9iamVjdCwgQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TQ29kaW5nLCBOU0NvcHlpbmcsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBOU1NlY3VyZUNvZGluZywgX1N0cnVjdFR5cGVCcmlkZ2VhYmxlLCBfU3dpZnRCcmlkZ2VhYmxlIHsKICAgIHB1YmxpYyBpbml0KG5hbWU6IFN0cmluZywgdmFsdWU6IFN0cmluZz8pIHt9CiAgICBvcGVuIHZhciBuYW1lOiBTdHJpbmcgeyBnZXQgfQogICAgb3BlbiB2YXIgdmFsdWU6IFN0cmluZz8geyBnZXQgfQp9Cm9wZW4gY2xhc3MgTlNVUkxSZXF1ZXN0IDogQW55T2JqZWN0LCBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNDb2RpbmcsIE5TQ29weWluZywgTlNNdXRhYmxlQ29weWluZywgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wsIE5TU2VjdXJlQ29kaW5nLCBfU3RydWN0VHlwZUJyaWRnZWFibGUgewogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQodXJsOiBVUkwpIHt9CiAgICBwdWJsaWMgaW5pdCh1cmw6IFVSTCwgY2FjaGVQb2xpY3k6IE5TVVJMUmVxdWVzdC5DYWNoZVBvbGljeSwgdGltZW91dEludGVydmFsOiBUaW1lSW50ZXJ2YWwpIHt9CiAgICBvcGVuIHZhciBhbGxIVFRQSGVhZGVyRmllbGRzOiBbU3RyaW5nOiBTdHJpbmddPyB7IGdldCB9CiAgICBvcGVuIHZhciBhbGxvd3NDZWxsdWxhckFjY2VzczogQm9vbCB7IGdldCB9CiAgICBvcGVuIHZhciBjYWNoZVBvbGljeTogQ2FjaGVQb2xpY3kgeyBnZXQgfQogICAgb3BlbiB2YXIgaHR0cEJvZHk6IERhdGE/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGh0dHBCb2R5U3RyZWFtOiBJbnB1dFN0cmVhbT8geyBnZXQgfQogICAgb3BlbiB2YXIgaHR0cE1ldGhvZDogU3RyaW5nPyB7IGdldCB9CiAgICBvcGVuIHZhciBodHRwU2hvdWxkSGFuZGxlQ29va2llczogQm9vbCB7IGdldCB9CiAgICBvcGVuIHZhciBodHRwU2hvdWxkVXNlUGlwZWxpbmluZzogQm9vbCB7IGdldCB9CiAgICBvcGVuIHZhciBtYWluRG9jdW1lbnRVUkw6IFVSTD8geyBnZXQgfQogICAgb3BlbiB2YXIgbmV0d29ya1NlcnZpY2VUeXBlOiBOZXR3b3JrU2VydmljZVR5cGUgeyBnZXQgfQogICAgb3BlbiB2YXIgdGltZW91dEludGVydmFsOiBUaW1lSW50ZXJ2YWwgeyBnZXQgfQogICAgb3BlbiB2YXIgdXJsOiBVUkw/IHsgZ2V0IH0KICAgIG9wZW4gZnVuYyB2YWx1ZShmb3JIVFRQSGVhZGVyRmllbGQgZmllbGQ6IFN0cmluZykgLT4gU3RyaW5nPyB7fQp9Cm9wZW4gY2xhc3MgTlNVVUlEIDogQW55T2JqZWN0LCBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNDb2RpbmcsIE5TQ29weWluZywgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wsIE5TU2VjdXJlQ29kaW5nLCBfSGFzQ3VzdG9tQW55SGFzaGFibGVSZXByZXNlbnRhdGlvbiwgX1N0cnVjdFR5cGVCcmlkZ2VhYmxlIHsKICAgIHB1YmxpYyBpbml0KHV1aWRCeXRlcyBieXRlczogVW5zYWZlUG9pbnRlcjxVSW50OD4pIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdD8odXVpZFN0cmluZyBzdHJpbmc6IFN0cmluZykge30KICAgIG9wZW4gdmFyIHV1aWRTdHJpbmc6IFN0cmluZyB7IGdldCB9CiAgICBvcGVuIGZ1bmMgZ2V0Qnl0ZXMoXyB1dWlkOiBVbnNhZmVNdXRhYmxlUG9pbnRlcjxVSW50OD4pIHt9Cn0Kb3BlbiBjbGFzcyBOU1ZhbHVlIDogQW55T2JqZWN0LCBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNDb2RpbmcsIE5TQ29weWluZywgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wsIE5TU2VjdXJlQ29kaW5nLCBfRmFjdG9yeSB7CiAgICBwdWJsaWMgcmVxdWlyZWQgY29udmVuaWVuY2UgaW5pdChieXRlcyB2YWx1ZTogVW5zYWZlUmF3UG9pbnRlciwgb2JqQ1R5cGUgdHlwZTogVW5zYWZlUG9pbnRlcjxJbnQ4Pikge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KGVkZ2VJbnNldHMgaW5zZXRzOiBOU0VkZ2VJbnNldHMpIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdChwb2ludDogTlNQb2ludCkge30KI2lmIERFUExPWU1FTlRfUlVOVElNRV9TV0lGVAogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQocmFuZ2U6IE5TUmFuZ2UpIHt9CiNlbmRpZgogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQocmVjdDogTlNSZWN0KSB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQoc2l6ZTogTlNTaXplKSB7fQogICAgcHVibGljIHZhciBlZGdlSW5zZXRzVmFsdWU6IE5TRWRnZUluc2V0cyB7IGdldCB9CiAgICBvcGVuIHZhciBvYmpDVHlwZTogVW5zYWZlUG9pbnRlcjxJbnQ4PiB7IGdldCB9CiAgICBwdWJsaWMgdmFyIHBvaW50VmFsdWU6IE5TUG9pbnQgeyBnZXQgfQojaWYgREVQTE9ZTUVOVF9SVU5USU1FX1NXSUZUCiAgICBwdWJsaWMgdmFyIHJhbmdlVmFsdWU6IE5TUmFuZ2UgeyBnZXQgfQojZW5kaWYKICAgIHB1YmxpYyB2YXIgcmVjdFZhbHVlOiBOU1JlY3QgeyBnZXQgfQogICAgcHVibGljIHZhciBzaXplVmFsdWU6IE5TU2l6ZSB7IGdldCB9CiAgICBvcGVuIGZ1bmMgZ2V0VmFsdWUoXyB2YWx1ZTogVW5zYWZlTXV0YWJsZVJhd1BvaW50ZXIpIHt9Cn0Kb3BlbiBjbGFzcyBOb3RpZmljYXRpb25DZW50ZXIgOiBBbnlPYmplY3QsIEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCB7CiAgICBvcGVuIGNsYXNzIHZhciBgZGVmYXVsdGA6IE5vdGlmaWNhdGlvbkNlbnRlciB7IGdldCB9CiAgICBvcGVuIGZ1bmMgYWRkT2JzZXJ2ZXIoZm9yTmFtZSBuYW1lOiBOU05vdGlmaWNhdGlvbi5OYW1lPywgb2JqZWN0IG9iajogQW55PywgcXVldWU6IE9wZXJhdGlvblF1ZXVlPywgdXNpbmcgYmxvY2s6IEBlc2NhcGluZyAoTm90aWZpY2F0aW9uKSAtPiBWb2lkKSAtPiBOU09iamVjdFByb3RvY29sIHt9CiAgICBvcGVuIGZ1bmMgcG9zdChfIG5vdGlmaWNhdGlvbjogTm90aWZpY2F0aW9uKSB7fQogICAgb3BlbiBmdW5jIHBvc3QobmFtZSBhTmFtZTogTlNOb3RpZmljYXRpb24uTmFtZSwgb2JqZWN0IGFuT2JqZWN0OiBBbnk/LCB1c2VySW5mbyBhVXNlckluZm86IFtBbnlIYXNoYWJsZTogQW55XT8gPSB4KSB7fQogICAgb3BlbiBmdW5jIHJlbW92ZU9ic2VydmVyKF8gb2JzZXJ2ZXI6IEFueSkge30KICAgIG9wZW4gZnVuYyByZW1vdmVPYnNlcnZlcihfIG9ic2VydmVyOiBBbnksIG5hbWUgYU5hbWU6IE5TTm90aWZpY2F0aW9uLk5hbWU/LCBvYmplY3Q6IEFueT8pIHt9Cn0Kb3BlbiBjbGFzcyBOb3RpZmljYXRpb25RdWV1ZSA6IEFueU9iamVjdCwgQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sIHsKICAgIG9wZW4gY2xhc3MgdmFyIGBkZWZhdWx0YDogTm90aWZpY2F0aW9uUXVldWUgeyBnZXQgfQogICAgcHVibGljIGluaXQobm90aWZpY2F0aW9uQ2VudGVyOiBOb3RpZmljYXRpb25DZW50ZXIpIHt9CiAgICBvcGVuIGZ1bmMgZGVxdWV1ZU5vdGlmaWNhdGlvbnMobWF0Y2hpbmcgbm90aWZpY2F0aW9uOiBOb3RpZmljYXRpb24sIGNvYWxlc2NlTWFzazogTm90aWZpY2F0aW9uQ29hbGVzY2luZykge30KICAgIG9wZW4gZnVuYyBlbnF1ZXVlKF8gbm90aWZpY2F0aW9uOiBOb3RpZmljYXRpb24sIHBvc3RpbmdTdHlsZTogUG9zdGluZ1N0eWxlKSB7fQogICAgb3BlbiBmdW5jIGVucXVldWUoXyBub3RpZmljYXRpb246IE5vdGlmaWNhdGlvbiwgcG9zdGluZ1N0eWxlOiBQb3N0aW5nU3R5bGUsIGNvYWxlc2NlTWFzazogTm90aWZpY2F0aW9uQ29hbGVzY2luZywgZm9yTW9kZXMgbW9kZXM6IFtSdW5Mb29wLk1vZGVdPykge30KfQpvcGVuIGNsYXNzIE51bWJlckZvcm1hdHRlciA6IEFueU9iamVjdCwgQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgRm9ybWF0dGVyLCBIYXNoYWJsZSwgTlNDb2RpbmcsIE5TQ29weWluZywgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wgewogICAgb3BlbiBjbGFzcyBmdW5jIGxvY2FsaXplZFN0cmluZyhmcm9tIG51bTogTlNOdW1iZXIsIG51bWJlciBuc3R5bGU6IFN0eWxlKSAtPiBTdHJpbmcge30KICAgIG9wZW4gdmFyIGFsbG93c0Zsb2F0czogQm9vbCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgYWx3YXlzU2hvd3NEZWNpbWFsU2VwYXJhdG9yOiBCb29sIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBhdHRyaWJ1dGVkU3RyaW5nRm9yTmlsOiBOU0F0dHJpYnV0ZWRTdHJpbmcgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGF0dHJpYnV0ZWRTdHJpbmdGb3JOb3RBTnVtYmVyOiBOU0F0dHJpYnV0ZWRTdHJpbmcgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGF0dHJpYnV0ZWRTdHJpbmdGb3JaZXJvOiBOU0F0dHJpYnV0ZWRTdHJpbmcgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGN1cnJlbmN5Q29kZTogU3RyaW5nISB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgY3VycmVuY3lEZWNpbWFsU2VwYXJhdG9yOiBTdHJpbmchIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBjdXJyZW5jeUdyb3VwaW5nU2VwYXJhdG9yOiBTdHJpbmchIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBjdXJyZW5jeVN5bWJvbDogU3RyaW5nISB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgZGVjaW1hbFNlcGFyYXRvcjogU3RyaW5nISB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgZXhwb25lbnRTeW1ib2w6IFN0cmluZyEgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGZvcm1hdDogU3RyaW5nIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBmb3JtYXRXaWR0aDogSW50IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBmb3JtYXR0aW5nQ29udGV4dDogQ29udGV4dCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgZ2VuZXJhdGVzRGVjaW1hbE51bWJlcnM6IEJvb2wgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGdyb3VwaW5nU2VwYXJhdG9yOiBTdHJpbmchIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBncm91cGluZ1NpemU6IEludCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgaGFzVGhvdXNhbmRTZXBhcmF0b3JzOiBCb29sIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBpbnRlcm5hdGlvbmFsQ3VycmVuY3lTeW1ib2w6IFN0cmluZyEgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGlzTGVuaWVudDogQm9vbCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgaXNQYXJ0aWFsU3RyaW5nVmFsaWRhdGlvbkVuYWJsZWQ6IEJvb2wgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGxvY2FsZTogTG9jYWxlISB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgbG9jYWxpemVzRm9ybWF0OiBCb29sIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBtYXhpbXVtOiBOU051bWJlcj8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIG1heGltdW1GcmFjdGlvbkRpZ2l0czogSW50IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBtYXhpbXVtSW50ZWdlckRpZ2l0czogSW50IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBtYXhpbXVtU2lnbmlmaWNhbnREaWdpdHM6IEludCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgbWluaW11bTogTlNOdW1iZXI/IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBtaW5pbXVtRnJhY3Rpb25EaWdpdHM6IEludCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgbWluaW11bUludGVnZXJEaWdpdHM6IEludCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgbWluaW11bVNpZ25pZmljYW50RGlnaXRzOiBJbnQgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIG1pbnVzU2lnbjogU3RyaW5nISB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgbXVsdGlwbGllcjogTlNOdW1iZXI/IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBuZWdhdGl2ZUZvcm1hdDogU3RyaW5nISB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgbmVnYXRpdmVJbmZpbml0eVN5bWJvbDogU3RyaW5nIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBuZWdhdGl2ZVByZWZpeDogU3RyaW5nISB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgbmVnYXRpdmVTdWZmaXg6IFN0cmluZyEgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIG5pbFN5bWJvbDogU3RyaW5nIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBub3RBTnVtYmVyU3ltYm9sOiBTdHJpbmchIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBudW1iZXJTdHlsZTogU3R5bGUgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHBhZGRpbmdDaGFyYWN0ZXI6IFN0cmluZyEgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHBhZGRpbmdQb3NpdGlvbjogUGFkUG9zaXRpb24geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHBlck1pbGxTeW1ib2w6IFN0cmluZyEgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHBlcmNlbnRTeW1ib2w6IFN0cmluZyEgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHBsdXNTaWduOiBTdHJpbmchIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBwb3NpdGl2ZUZvcm1hdDogU3RyaW5nISB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgcG9zaXRpdmVJbmZpbml0eVN5bWJvbDogU3RyaW5nIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBwb3NpdGl2ZVByZWZpeDogU3RyaW5nISB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgcG9zaXRpdmVTdWZmaXg6IFN0cmluZyEgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHJvdW5kaW5nQmVoYXZpb3I6IE5TRGVjaW1hbE51bWJlckhhbmRsZXIgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHJvdW5kaW5nSW5jcmVtZW50OiBOU051bWJlciEgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHJvdW5kaW5nTW9kZTogUm91bmRpbmdNb2RlIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBzZWNvbmRhcnlHcm91cGluZ1NpemU6IEludCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgdGV4dEF0dHJpYnV0ZXNGb3JOZWdhdGl2ZUluZmluaXR5OiBbU3RyaW5nOiBBbnldPyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgdGV4dEF0dHJpYnV0ZXNGb3JOZWdhdGl2ZVZhbHVlczogW1N0cmluZzogQW55XT8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHRleHRBdHRyaWJ1dGVzRm9yTmlsOiBbU3RyaW5nOiBBbnldPyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgdGV4dEF0dHJpYnV0ZXNGb3JOb3RBTnVtYmVyOiBbU3RyaW5nOiBBbnldPyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgdGV4dEF0dHJpYnV0ZXNGb3JQb3NpdGl2ZUluZmluaXR5OiBbU3RyaW5nOiBBbnldPyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgdGV4dEF0dHJpYnV0ZXNGb3JQb3NpdGl2ZVZhbHVlczogW1N0cmluZzogQW55XT8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHRleHRBdHRyaWJ1dGVzRm9yWmVybzogW1N0cmluZzogQW55XT8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHRob3VzYW5kU2VwYXJhdG9yOiBTdHJpbmchIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciB1c2VzR3JvdXBpbmdTZXBhcmF0b3I6IEJvb2wgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHVzZXNTaWduaWZpY2FudERpZ2l0czogQm9vbCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgemVyb1N5bWJvbDogU3RyaW5nPyB7IGdldCBzZXQgfQogICAgb3BlbiBmdW5jIG51bWJlcihmcm9tIHN0cmluZzogU3RyaW5nKSAtPiBOU051bWJlcj8ge30KICAgIG9wZW4gZnVuYyBzdHJpbmcoZnJvbSBudW1iZXI6IE5TTnVtYmVyKSAtPiBTdHJpbmc/IHt9Cn0Kb3BlbiBjbGFzcyBPcGVyYXRpb24gOiBBbnlPYmplY3QsIEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCB7CiAgICBvcGVuIHZhciBjb21wbGV0aW9uQmxvY2s6ICgoKSAtPiBWb2lkKT8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGRlcGVuZGVuY2llczogW09wZXJhdGlvbl0geyBnZXQgfQogICAgb3BlbiB2YXIgaXNBc3luY2hyb25vdXM6IEJvb2wgeyBnZXQgfQogICAgb3BlbiB2YXIgaXNDYW5jZWxsZWQ6IEJvb2wgeyBnZXQgfQogICAgb3BlbiB2YXIgaXNFeGVjdXRpbmc6IEJvb2wgeyBnZXQgfQogICAgb3BlbiB2YXIgaXNGaW5pc2hlZDogQm9vbCB7IGdldCB9CiAgICBvcGVuIHZhciBpc1JlYWR5OiBCb29sIHsgZ2V0IH0KICAgIG9wZW4gdmFyIG5hbWU6IFN0cmluZz8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHF1YWxpdHlPZlNlcnZpY2U6IFF1YWxpdHlPZlNlcnZpY2UgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHF1ZXVlUHJpb3JpdHk6IE9wZXJhdGlvbi5RdWV1ZVByaW9yaXR5IHsgZ2V0IHNldCB9CiAgICBvcGVuIGZ1bmMgYWRkRGVwZW5kZW5jeShfIG9wOiBPcGVyYXRpb24pIHt9CiAgICBvcGVuIGZ1bmMgY2FuY2VsKCkge30KICAgIHB1YmxpYyBmdW5jIGRpZENoYW5nZVZhbHVlPFZhbHVlPihmb3Iga2V5UGF0aDogS2V5UGF0aDxPcGVyYXRpb24sIFZhbHVlPikge30KICAgIHB1YmxpYyBmdW5jIGRpZENoYW5nZVZhbHVlKGZvcktleSBrZXk6IFN0cmluZykge30KICAgIG9wZW4gZnVuYyBtYWluKCkge30KICAgIG9wZW4gZnVuYyByZW1vdmVEZXBlbmRlbmN5KF8gb3A6IE9wZXJhdGlvbikge30KICAgIG9wZW4gZnVuYyBzdGFydCgpIHt9CiAgICBvcGVuIGZ1bmMgd2FpdFVudGlsRmluaXNoZWQoKSB7fQogICAgcHVibGljIGZ1bmMgd2lsbENoYW5nZVZhbHVlPFZhbHVlPihmb3Iga2V5UGF0aDogS2V5UGF0aDxPcGVyYXRpb24sIFZhbHVlPikge30KICAgIHB1YmxpYyBmdW5jIHdpbGxDaGFuZ2VWYWx1ZShmb3JLZXkga2V5OiBTdHJpbmcpIHt9Cn0KQGF2YWlsYWJsZShPU1ggMTAuNSwgKikgb3BlbiBjbGFzcyBPcGVyYXRpb25RdWV1ZSA6IEFueU9iamVjdCwgQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBQcm9ncmVzc1JlcG9ydGluZyB7CiAgICBvcGVuIGNsYXNzIHZhciBjdXJyZW50OiBPcGVyYXRpb25RdWV1ZT8geyBnZXQgfQogICAgcHVibGljIHN0YXRpYyB2YXIgZGVmYXVsdE1heENvbmN1cnJlbnRPcGVyYXRpb25Db3VudDogSW50IHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgdmFyIG1haW46IE9wZXJhdGlvblF1ZXVlIHsgZ2V0IH0KICAgIG9wZW4gdmFyIGlzU3VzcGVuZGVkOiBCb29sIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBtYXhDb25jdXJyZW50T3BlcmF0aW9uQ291bnQ6IEludCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgbmFtZTogU3RyaW5nPyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgcXVhbGl0eU9mU2VydmljZTogUXVhbGl0eU9mU2VydmljZSB7IGdldCBzZXQgfQogICAgb3BlbiB1bm93bmVkIHZhciB1bmRlcmx5aW5nUXVldWU6IERpc3BhdGNoUXVldWU/IHsgZ2V0IHNldCB9CiAgICBvcGVuIGZ1bmMgYWRkQmFycmllckJsb2NrKF8gYmFycmllcjogQGVzY2FwaW5nICgpIC0+IFZvaWQpIHt9CiAgICBvcGVuIGZ1bmMgYWRkT3BlcmF0aW9uKF8gYmxvY2s6IEBlc2NhcGluZyAoKSAtPiBWb2lkKSB7fQogICAgb3BlbiBmdW5jIGFkZE9wZXJhdGlvbnMoXyBvcHM6IFtPcGVyYXRpb25dLCB3YWl0VW50aWxGaW5pc2hlZCB3YWl0OiBCb29sKSB7fQogICAgb3BlbiBmdW5jIGNhbmNlbEFsbE9wZXJhdGlvbnMoKSB7fQogICAgb3BlbiBmdW5jIHdhaXRVbnRpbEFsbE9wZXJhdGlvbnNBcmVGaW5pc2hlZCgpIHt9Cn0Kb3BlbiBjbGFzcyBPdXRwdXRTdHJlYW0gOiBBbnlPYmplY3QsIEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCwgU3RyZWFtIHsKICAgIG9wZW4gY2xhc3MgZnVuYyB0b01lbW9yeSgpIC0+IFNlbGYge30KICAgIHB1YmxpYyBpbml0KHRvQnVmZmVyIGJ1ZmZlcjogVW5zYWZlTXV0YWJsZVBvaW50ZXI8VUludDg+LCBjYXBhY2l0eTogSW50KSB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQ/KHRvRmlsZUF0UGF0aCBwYXRoOiBTdHJpbmcsIGFwcGVuZCBzaG91bGRBcHBlbmQ6IEJvb2wpIHt9CiAgICBwdWJsaWMgcmVxdWlyZWQgaW5pdCh0b01lbW9yeTogVm9pZCkge30KICAgIHB1YmxpYyBpbml0Pyh1cmw6IFVSTCwgYXBwZW5kIHNob3VsZEFwcGVuZDogQm9vbCkge30KICAgIG9wZW4gdmFyIGhhc1NwYWNlQXZhaWxhYmxlOiBCb29sIHsgZ2V0IH0KICAgIG9wZW4gZnVuYyB3cml0ZShfIGJ1ZmZlcjogVW5zYWZlUG9pbnRlcjxVSW50OD4sIG1heExlbmd0aCBsZW46IEludCkgLT4gSW50IHt9Cn0Kb3BlbiBjbGFzcyBQaXBlIDogQW55T2JqZWN0LCBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wgewogICAgcHVibGljIHZhciBmaWxlSGFuZGxlRm9yUmVhZGluZzogRmlsZUhhbmRsZSB7IGdldCB9CiAgICBwdWJsaWMgdmFyIGZpbGVIYW5kbGVGb3JXcml0aW5nOiBGaWxlSGFuZGxlIHsgZ2V0IH0KfQpvcGVuIGNsYXNzIFBvcnQgOiBBbnlPYmplY3QsIEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU0NvcHlpbmcsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sIHsKICAgIHB1YmxpYyBzdGF0aWMgdmFyIGRpZEJlY29tZUludmFsaWROb3RpZmljYXRpb24geyBnZXQgfQogICAgb3BlbiB2YXIgaXNWYWxpZDogQm9vbCB7IGdldCB9CiAgICBvcGVuIHZhciByZXNlcnZlZFNwYWNlTGVuZ3RoOiBJbnQgeyBnZXQgfQogICAgb3BlbiBmdW5jIGRlbGVnYXRlKCkgLT4gUG9ydERlbGVnYXRlPyB7fQogICAgb3BlbiBmdW5jIGludmFsaWRhdGUoKSB7fQogICAgb3BlbiBmdW5jIHJlbW92ZShmcm9tIHJ1bkxvb3A6IFJ1bkxvb3AsIGZvck1vZGUgbW9kZTogUnVuTG9vcC5Nb2RlKSB7fQogICAgb3BlbiBmdW5jIHNjaGVkdWxlKGluIHJ1bkxvb3A6IFJ1bkxvb3AsIGZvck1vZGUgbW9kZTogUnVuTG9vcC5Nb2RlKSB7fQogICAgb3BlbiBmdW5jIHNlbmRCZWZvcmVEYXRlKF8gbGltaXREYXRlOiBEYXRlLCBjb21wb25lbnRzOiBOU011dGFibGVBcnJheT8sIGZyb20gcmVjZWl2ZVBvcnQ6IFBvcnQ/LCByZXNlcnZlZCBoZWFkZXJTcGFjZVJlc2VydmVkOiBJbnQpIC0+IEJvb2wge30KICAgIG9wZW4gZnVuYyBzZW5kQmVmb3JlRGF0ZShfIGxpbWl0RGF0ZTogRGF0ZSwgbXNnaWQgbXNnSUQ6IEludCwgY29tcG9uZW50czogTlNNdXRhYmxlQXJyYXk/LCBmcm9tIHJlY2VpdmVQb3J0OiBQb3J0PywgcmVzZXJ2ZWQgaGVhZGVyU3BhY2VSZXNlcnZlZDogSW50KSAtPiBCb29sIHt9CiAgICBvcGVuIGZ1bmMgc2V0RGVsZWdhdGUoXyBhbk9iamVjdDogUG9ydERlbGVnYXRlPykge30KfQpvcGVuIGNsYXNzIFBvcnRNZXNzYWdlIDogQW55T2JqZWN0LCBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNDb3B5aW5nLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCB7CiAgICBwdWJsaWMgaW5pdChzZW5kUG9ydDogUG9ydD8sIHJlY2VpdmVQb3J0IHJlcGx5UG9ydDogUG9ydD8sIGNvbXBvbmVudHM6IFtBbnlPYmplY3RdPykge30KICAgIG9wZW4gdmFyIGNvbXBvbmVudHM6IFtBbnlPYmplY3RdPyB7IGdldCB9CiAgICBvcGVuIHZhciBtc2dpZDogVUludDMyIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciByZWNlaXZlUG9ydDogUG9ydD8geyBnZXQgfQogICAgb3BlbiB2YXIgc2VuZFBvcnQ6IFBvcnQ/IHsgZ2V0IH0KICAgIG9wZW4gZnVuYyBzZW5kQmVmb3JlRGF0ZShfIGRhdGU6IERhdGUpIC0+IEJvb2wge30KfQpvcGVuIGNsYXNzIFByb2Nlc3MgOiBBbnlPYmplY3QsIEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCB7CiAgICBwdWJsaWMgc3RhdGljIHZhciBkaWRUZXJtaW5hdGVOb3RpZmljYXRpb24geyBnZXQgfQogICAgb3BlbiBjbGFzcyBmdW5jIHJ1bihfIHVybDogVVJMLCBhcmd1bWVudHM6IFtTdHJpbmddLCB0ZXJtaW5hdGlvbkhhbmRsZXI6ICgoUHJvY2VzcykgLT4gVm9pZCk/ID0geCkgdGhyb3dzIC0+IFByb2Nlc3Mge30KICAgIG9wZW4gdmFyIGFyZ3VtZW50czogW1N0cmluZ10/IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBjdXJyZW50RGlyZWN0b3J5VVJMOiBVUkw/IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBlbnZpcm9ubWVudDogW1N0cmluZzogU3RyaW5nXT8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGV4ZWN1dGFibGVVUkw6IFVSTD8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGlzUnVubmluZzogQm9vbCB7IGdldCB9CiNpZiBvcyhXaW5kb3dzKQogICAgb3BlbiB2YXIgcHJvY2Vzc0hhbmRsZTogSEFORExFIHsgZ2V0IH0KI2VuZGlmCiAgICBvcGVuIHZhciBwcm9jZXNzSWRlbnRpZmllcjogSW50MzIgeyBnZXQgfQogICAgb3BlbiB2YXIgcXVhbGl0eU9mU2VydmljZTogUXVhbGl0eU9mU2VydmljZSB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgc3RhbmRhcmRFcnJvcjogQW55PyB7IGdldCB9CiAgICBvcGVuIHZhciBzdGFuZGFyZElucHV0OiBBbnk/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHN0YW5kYXJkT3V0cHV0OiBBbnk/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHRlcm1pbmF0aW9uSGFuZGxlcjogKChQcm9jZXNzKSAtPiBWb2lkKT8geyBnZXQgc2V0IH0KICAgIHB1YmxpYyB2YXIgdGVybWluYXRpb25SZWFzb246IFRlcm1pbmF0aW9uUmVhc29uIHsgZ2V0IH0KICAgIHB1YmxpYyB2YXIgdGVybWluYXRpb25TdGF0dXM6IEludDMyIHsgZ2V0IH0KICAgIG9wZW4gZnVuYyBpbnRlcnJ1cHQoKSB7fQogICAgb3BlbiBmdW5jIHJlc3VtZSgpIC0+IEJvb2wge30KICAgIG9wZW4gZnVuYyBydW4oKSB0aHJvd3Mge30KICAgIG9wZW4gZnVuYyBzdXNwZW5kKCkgLT4gQm9vbCB7fQogICAgb3BlbiBmdW5jIHRlcm1pbmF0ZSgpIHt9CiAgICBvcGVuIGZ1bmMgd2FpdFVudGlsRXhpdCgpIHt9Cn0Kb3BlbiBjbGFzcyBQcm9jZXNzSW5mbyA6IEFueU9iamVjdCwgQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sIHsKICAgIHB1YmxpYyBzdGF0aWMgdmFyIHByb2Nlc3NJbmZvIHsgZ2V0IH0KICAgIG9wZW4gdmFyIGFjdGl2ZVByb2Nlc3NvckNvdW50OiBJbnQgeyBnZXQgfQogICAgb3BlbiB2YXIgYXJndW1lbnRzOiBbU3RyaW5nXSB7IGdldCB9CiAgICBvcGVuIHZhciBlbnZpcm9ubWVudDogW1N0cmluZzogU3RyaW5nXSB7IGdldCB9CiAgICBvcGVuIHZhciBmdWxsVXNlck5hbWU6IFN0cmluZyB7IGdldCB9CiAgICBvcGVuIHZhciBnbG9iYWxseVVuaXF1ZVN0cmluZzogU3RyaW5nIHsgZ2V0IH0KICAgIG9wZW4gdmFyIGhvc3ROYW1lOiBTdHJpbmcgeyBnZXQgfQogICAgb3BlbiB2YXIgb3BlcmF0aW5nU3lzdGVtVmVyc2lvbjogT3BlcmF0aW5nU3lzdGVtVmVyc2lvbiB7IGdldCB9CiAgICBvcGVuIHZhciBvcGVyYXRpbmdTeXN0ZW1WZXJzaW9uU3RyaW5nOiBTdHJpbmcgeyBnZXQgfQogICAgb3BlbiB2YXIgcGh5c2ljYWxNZW1vcnk6IFVJbnQ2NCB7IGdldCB9CiAgICBvcGVuIHZhciBwcm9jZXNzSWRlbnRpZmllcjogSW50MzIgeyBnZXQgfQogICAgb3BlbiB2YXIgcHJvY2Vzc05hbWU6IFN0cmluZyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgcHJvY2Vzc29yQ291bnQ6IEludCB7IGdldCB9CiAgICBvcGVuIHZhciBzeXN0ZW1VcHRpbWU6IFRpbWVJbnRlcnZhbCB7IGdldCB9CiAgICBvcGVuIHZhciB1c2VyTmFtZTogU3RyaW5nIHsgZ2V0IH0KICAgIG9wZW4gZnVuYyBpc09wZXJhdGluZ1N5c3RlbUF0TGVhc3QoXyB2ZXJzaW9uOiBPcGVyYXRpbmdTeXN0ZW1WZXJzaW9uKSAtPiBCb29sIHt9Cn0Kb3BlbiBjbGFzcyBQcm9ncmVzcyA6IEFueU9iamVjdCwgQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sIHsKICAgIG9wZW4gY2xhc3MgZnVuYyBjdXJyZW50KCkgLT4gUHJvZ3Jlc3M/IHt9CiAgICBvcGVuIGNsYXNzIGZ1bmMgZGlzY3JldGVQcm9ncmVzcyh0b3RhbFVuaXRDb3VudCB1bml0Q291bnQ6IEludDY0KSAtPiBQcm9ncmVzcyB7fQogICAgcHVibGljIGluaXQocGFyZW50IHBhcmVudFByb2dyZXNzOiBQcm9ncmVzcz8sIHVzZXJJbmZvIHVzZXJJbmZvT3JOaWw6IFtQcm9ncmVzc1VzZXJJbmZvS2V5OiBBbnldPyA9IHgpIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdCh0b3RhbFVuaXRDb3VudCB1bml0Q291bnQ6IEludDY0KSB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQodG90YWxVbml0Q291bnQgdW5pdENvdW50OiBJbnQ2NCwgcGFyZW50OiBQcm9ncmVzcywgcGVuZGluZ1VuaXRDb3VudCBwb3J0aW9uT2ZQYXJlbnRUb3RhbFVuaXRDb3VudDogSW50NjQpIHt9CiAgICBvcGVuIHZhciBjYW5jZWxsYXRpb25IYW5kbGVyOiAoKCkgLT4gVm9pZCk/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGNvbXBsZXRlZFVuaXRDb3VudDogSW50NjQgeyBnZXQgc2V0IH0KICAgIHB1YmxpYyB2YXIgZnJhY3Rpb25Db21wbGV0ZWQ6IERvdWJsZSB7IGdldCB9CiAgICBvcGVuIHZhciBpc0NhbmNlbGxhYmxlOiBCb29sIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBpc0NhbmNlbGxlZDogQm9vbCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgaXNGaW5pc2hlZDogQm9vbCB7IGdldCB9CiAgICBvcGVuIHZhciBpc0luZGV0ZXJtaW5hdGU6IEJvb2wgeyBnZXQgfQogICAgb3BlbiB2YXIgaXNQYXVzYWJsZTogQm9vbCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgaXNQYXVzZWQ6IEJvb2wgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGtpbmQ6IFByb2dyZXNzS2luZD8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGxvY2FsaXplZEFkZGl0aW9uYWxEZXNjcmlwdGlvbjogU3RyaW5nISB7IGdldCB9CiAgICBvcGVuIHZhciBsb2NhbGl6ZWREZXNjcmlwdGlvbjogU3RyaW5nISB7IGdldCB9CiAgICBvcGVuIHZhciBwYXVzaW5nSGFuZGxlcjogKCgpIC0+IFZvaWQpPyB7IGdldCB9CiAgICBvcGVuIHZhciByZXN1bWluZ0hhbmRsZXI6ICgoKSAtPiBWb2lkKT8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHRvdGFsVW5pdENvdW50OiBJbnQ2NCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgdXNlckluZm86IFtQcm9ncmVzc1VzZXJJbmZvS2V5OiBBbnldIHsgZ2V0IH0KICAgIG9wZW4gZnVuYyBhZGRDaGlsZChfIGNoaWxkOiBQcm9ncmVzcywgd2l0aFBlbmRpbmdVbml0Q291bnQgaW5Vbml0Q291bnQ6IEludDY0KSB7fQogICAgb3BlbiBmdW5jIGJlY29tZUN1cnJlbnQod2l0aFBlbmRpbmdVbml0Q291bnQgdW5pdENvdW50OiBJbnQ2NCkge30KICAgIG9wZW4gZnVuYyBjYW5jZWwoKSB7fQogICAgb3BlbiBmdW5jIHBhdXNlKCkge30KICAgIG9wZW4gZnVuYyByZXNpZ25DdXJyZW50KCkge30KICAgIG9wZW4gZnVuYyByZXN1bWUoKSB7fQogICAgb3BlbiBmdW5jIHNldFVzZXJJbmZvT2JqZWN0KF8gb2JqZWN0T3JOaWw6IEFueT8sIGZvcktleSBrZXk6IFByb2dyZXNzVXNlckluZm9LZXkpIHt9Cn0Kb3BlbiBjbGFzcyBQcm9wZXJ0eUxpc3REZWNvZGVyIHsKICAgIHB1YmxpYyBpbml0KCkge30KICAgIG9wZW4gdmFyIHVzZXJJbmZvOiBbQ29kaW5nVXNlckluZm9LZXk6IEFueV0geyBnZXQgc2V0IH0KICAgIG9wZW4gZnVuYyBkZWNvZGU8VD4oXyB0eXBlOiBULlR5cGUsIGZyb20gZGF0YTogRGF0YSkgdGhyb3dzIC0+IFQgd2hlcmUgVCA6IERlY29kYWJsZSB7fQogICAgb3BlbiBmdW5jIGRlY29kZTxUPihfIHR5cGU6IFQuVHlwZSwgZnJvbSBkYXRhOiBEYXRhLCBmb3JtYXQ6IGlub3V0IFByb3BlcnR5TGlzdFNlcmlhbGl6YXRpb24uUHJvcGVydHlMaXN0Rm9ybWF0KSB0aHJvd3MgLT4gVCB3aGVyZSBUIDogRGVjb2RhYmxlIHt9Cn0Kb3BlbiBjbGFzcyBQcm9wZXJ0eUxpc3RFbmNvZGVyIHsKICAgIHB1YmxpYyBpbml0KCkge30KICAgIG9wZW4gdmFyIG91dHB1dEZvcm1hdDogUHJvcGVydHlMaXN0U2VyaWFsaXphdGlvbi5Qcm9wZXJ0eUxpc3RGb3JtYXQgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHVzZXJJbmZvOiBbQ29kaW5nVXNlckluZm9LZXk6IEFueV0geyBnZXQgc2V0IH0KICAgIG9wZW4gZnVuYyBlbmNvZGU8VmFsdWU+KF8gdmFsdWU6IFZhbHVlKSB0aHJvd3MgLT4gRGF0YSB3aGVyZSBWYWx1ZSA6IEVuY29kYWJsZSB7fQp9Cm9wZW4gY2xhc3MgUHJvcGVydHlMaXN0U2VyaWFsaXphdGlvbiA6IEFueU9iamVjdCwgQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sIHsKICAgIG9wZW4gY2xhc3MgZnVuYyBkYXRhKGZyb21Qcm9wZXJ0eUxpc3QgcGxpc3Q6IEFueSwgZm9ybWF0OiBQcm9wZXJ0eUxpc3RGb3JtYXQsIG9wdGlvbnMgb3B0OiBXcml0ZU9wdGlvbnMpIHRocm93cyAtPiBEYXRhIHt9CiAgICBvcGVuIGNsYXNzIGZ1bmMgcHJvcGVydHlMaXN0KF8gcGxpc3Q6IEFueSwgaXNWYWxpZEZvciBmb3JtYXQ6IFByb3BlcnR5TGlzdEZvcm1hdCkgLT4gQm9vbCB7fQogICAgb3BlbiBjbGFzcyBmdW5jIHByb3BlcnR5TGlzdChmcm9tIGRhdGE6IERhdGEsIG9wdGlvbnMgb3B0OiBSZWFkT3B0aW9ucyA9IHgsIGZvcm1hdDogVW5zYWZlTXV0YWJsZVBvaW50ZXI8UHJvcGVydHlMaXN0Rm9ybWF0Pj8pIHRocm93cyAtPiBBbnkge30KICAgIG9wZW4gY2xhc3MgZnVuYyBwcm9wZXJ0eUxpc3Qod2l0aCBzdHJlYW06IElucHV0U3RyZWFtLCBvcHRpb25zIG9wdDogUmVhZE9wdGlvbnMgPSB4LCBmb3JtYXQ6IFVuc2FmZU11dGFibGVQb2ludGVyPFByb3BlcnR5TGlzdEZvcm1hdD4/KSB0aHJvd3MgLT4gQW55IHt9Cn0Kb3BlbiBjbGFzcyBSdW5Mb29wIDogQW55T2JqZWN0LCBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wgewogICAgb3BlbiBjbGFzcyB2YXIgY3VycmVudDogUnVuTG9vcCB7IGdldCB9CiAgICBvcGVuIGNsYXNzIHZhciBtYWluOiBSdW5Mb29wIHsgZ2V0IH0KICAgIG9wZW4gdmFyIGN1cnJlbnRNb2RlOiBSdW5Mb29wLk1vZGU/IHsgZ2V0IH0KICAgIG9wZW4gZnVuYyBhY2NlcHRJbnB1dChmb3JNb2RlIG1vZGU6IFN0cmluZywgYmVmb3JlIGxpbWl0RGF0ZTogRGF0ZSkge30KICAgIG9wZW4gZnVuYyBhZGQoXyBhUG9ydDogUG9ydCwgZm9yTW9kZSBtb2RlOiBSdW5Mb29wLk1vZGUpIHt9CiAgICBvcGVuIGZ1bmMgZ2V0Q0ZSdW5Mb29wKCkgLT4gQ0ZSdW5Mb29wIHt9CiAgICBvcGVuIGZ1bmMgbGltaXREYXRlKGZvck1vZGUgbW9kZTogUnVuTG9vcC5Nb2RlKSAtPiBEYXRlPyB7fQogICAgcHVibGljIGZ1bmMgcGVyZm9ybShfIGJsb2NrOiBAZXNjYXBpbmcgKCkgLT4gVm9pZCkge30KICAgIHB1YmxpYyBmdW5jIHBlcmZvcm0oaW5Nb2RlcyBtb2RlczogW1J1bkxvb3AuTW9kZV0sIGJsb2NrOiBAZXNjYXBpbmcgKCkgLT4gVm9pZCkge30KICAgIG9wZW4gZnVuYyByZW1vdmUoXyBhUG9ydDogUG9ydCwgZm9yTW9kZSBtb2RlOiBSdW5Mb29wLk1vZGUpIHt9CiAgICBwdWJsaWMgZnVuYyBydW4oKSB7fQogICAgcHVibGljIGZ1bmMgcnVuKG1vZGU6IFJ1bkxvb3AuTW9kZSwgYmVmb3JlIGxpbWl0RGF0ZTogRGF0ZSkgLT4gQm9vbCB7fQogICAgcHVibGljIGZ1bmMgcnVuKHVudGlsIGxpbWl0RGF0ZTogRGF0ZSkge30KfQpvcGVuIGNsYXNzIFNjYW5uZXIgOiBBbnlPYmplY3QsIEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU0NvcHlpbmcsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sIHsKICAgIG9wZW4gY2xhc3MgZnVuYyBsb2NhbGl6ZWRTY2FubmVyKHdpdGggc3RyaW5nOiBTdHJpbmcpIC0+IEFueSB7fQogICAgcHVibGljIGluaXQoc3RyaW5nOiBTdHJpbmcpIHt9CiAgICBvcGVuIHZhciBjYXNlU2Vuc2l0aXZlOiBCb29sIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBjaGFyYWN0ZXJzVG9CZVNraXBwZWQ6IENoYXJhY3RlclNldD8geyBnZXQgc2V0IH0KICAgIHB1YmxpYyB2YXIgY3VycmVudEluZGV4OiBTdHJpbmcuSW5kZXggeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGlzQXRFbmQ6IEJvb2wgeyBnZXQgfQogICAgb3BlbiB2YXIgbG9jYWxlOiBBbnk/IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBzY2FuTG9jYXRpb246IEludCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgc3RyaW5nOiBTdHJpbmcgeyBnZXQgfQogICAgcHVibGljIGZ1bmMgc2NhbkNoYXJhY3RlcigpIC0+IENoYXJhY3Rlcj8ge30KICAgIHB1YmxpYyBmdW5jIHNjYW5DaGFyYWN0ZXJzKGZyb20gc2V0OiBDaGFyYWN0ZXJTZXQpIC0+IFN0cmluZz8ge30KICAgIHB1YmxpYyBmdW5jIHNjYW5EZWNpbWFsKCkgLT4gRGVjaW1hbD8ge30KICAgIHB1YmxpYyBmdW5jIHNjYW5EZWNpbWFsKF8gZGNtOiBpbm91dCBEZWNpbWFsKSAtPiBCb29sIHt9CiAgICBAZGlzY2FyZGFibGVSZXN1bHQgb3BlbiBmdW5jIHNjYW5Eb3VibGUoXyByZXN1bHQ6IFVuc2FmZU11dGFibGVQb2ludGVyPERvdWJsZT4pIC0+IEJvb2wge30KICAgIHB1YmxpYyBmdW5jIHNjYW5Eb3VibGUocmVwcmVzZW50YXRpb246IE51bWJlclJlcHJlc2VudGF0aW9uID0geCkgLT4gRG91YmxlPyB7fQogICAgQGRpc2NhcmRhYmxlUmVzdWx0IG9wZW4gZnVuYyBzY2FuRmxvYXQoXyByZXN1bHQ6IFVuc2FmZU11dGFibGVQb2ludGVyPEZsb2F0PikgLT4gQm9vbCB7fQogICAgcHVibGljIGZ1bmMgc2NhbkZsb2F0KHJlcHJlc2VudGF0aW9uOiBOdW1iZXJSZXByZXNlbnRhdGlvbiA9IHgpIC0+IEZsb2F0PyB7fQogICAgQGRpc2NhcmRhYmxlUmVzdWx0IG9wZW4gZnVuYyBzY2FuSGV4RG91YmxlKF8gcmVzdWx0OiBVbnNhZmVNdXRhYmxlUG9pbnRlcjxEb3VibGU+KSAtPiBCb29sIHt9CiAgICBAZGlzY2FyZGFibGVSZXN1bHQgb3BlbiBmdW5jIHNjYW5IZXhGbG9hdChfIHJlc3VsdDogVW5zYWZlTXV0YWJsZVBvaW50ZXI8RmxvYXQ+KSAtPiBCb29sIHt9CiAgICBAZGlzY2FyZGFibGVSZXN1bHQgb3BlbiBmdW5jIHNjYW5IZXhJbnQzMihfIHJlc3VsdDogVW5zYWZlTXV0YWJsZVBvaW50ZXI8VUludDMyPikgLT4gQm9vbCB7fQogICAgQGRpc2NhcmRhYmxlUmVzdWx0IG9wZW4gZnVuYyBzY2FuSGV4SW50NjQoXyByZXN1bHQ6IFVuc2FmZU11dGFibGVQb2ludGVyPFVJbnQ2ND4pIC0+IEJvb2wge30KICAgIEBkaXNjYXJkYWJsZVJlc3VsdCBvcGVuIGZ1bmMgc2NhbkludChfIHJlc3VsdDogVW5zYWZlTXV0YWJsZVBvaW50ZXI8SW50PikgLT4gQm9vbCB7fQogICAgcHVibGljIGZ1bmMgc2NhbkludChyZXByZXNlbnRhdGlvbjogTnVtYmVyUmVwcmVzZW50YXRpb24gPSB4KSAtPiBJbnQ/IHt9CiAgICBAZGlzY2FyZGFibGVSZXN1bHQgb3BlbiBmdW5jIHNjYW5JbnQzMihfIHJlc3VsdDogVW5zYWZlTXV0YWJsZVBvaW50ZXI8SW50MzI+KSAtPiBCb29sIHt9CiAgICBwdWJsaWMgZnVuYyBzY2FuSW50MzIocmVwcmVzZW50YXRpb246IE51bWJlclJlcHJlc2VudGF0aW9uID0geCkgLT4gSW50MzI/IHt9CiAgICBAZGlzY2FyZGFibGVSZXN1bHQgb3BlbiBmdW5jIHNjYW5JbnQ2NChfIHJlc3VsdDogVW5zYWZlTXV0YWJsZVBvaW50ZXI8SW50NjQ+KSAtPiBCb29sIHt9CiAgICBwdWJsaWMgZnVuYyBzY2FuSW50NjQocmVwcmVzZW50YXRpb246IE51bWJlclJlcHJlc2VudGF0aW9uID0geCkgLT4gSW50NjQ/IHt9CiAgICBwdWJsaWMgZnVuYyBzY2FuU3RyaW5nKF8gc2VhcmNoU3RyaW5nOiBTdHJpbmcpIC0+IFN0cmluZz8ge30KICAgIHB1YmxpYyBmdW5jIHNjYW5VSW50NjQocmVwcmVzZW50YXRpb246IE51bWJlclJlcHJlc2VudGF0aW9uID0geCkgLT4gVUludDY0PyB7fQogICAgQGRpc2NhcmRhYmxlUmVzdWx0IG9wZW4gZnVuYyBzY2FuVW5zaWduZWRMb25nTG9uZyhfIHJlc3VsdDogVW5zYWZlTXV0YWJsZVBvaW50ZXI8VUludDY0PikgLT4gQm9vbCB7fQogICAgcHVibGljIGZ1bmMgc2NhblVwVG9DaGFyYWN0ZXJzKGZyb20gc2V0OiBDaGFyYWN0ZXJTZXQpIC0+IFN0cmluZz8ge30KICAgIHB1YmxpYyBmdW5jIHNjYW5VcFRvU3RyaW5nKF8gc3Vic3RyaW5nOiBTdHJpbmcpIC0+IFN0cmluZz8ge30KfQpvcGVuIGNsYXNzIFNvY2tldFBvcnQgOiBBbnlPYmplY3QsIEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU0NvcHlpbmcsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBQb3J0IHsKICAgIHB1YmxpYyBpbml0Pyhwcm90b2NvbEZhbWlseSBmYW1pbHk6IEludDMyLCBzb2NrZXRUeXBlIHR5cGU6IEludDMyLCBwcm90b2NvbDogSW50MzIsIGFkZHJlc3M6IERhdGEpIHt9CiAgICBwdWJsaWMgaW5pdD8ocHJvdG9jb2xGYW1pbHkgZmFtaWx5OiBJbnQzMiwgc29ja2V0VHlwZSB0eXBlOiBJbnQzMiwgcHJvdG9jb2w6IEludDMyLCBzb2NrZXQgc29jazogU29ja2V0TmF0aXZlSGFuZGxlKSB7fQogICAgcHVibGljIGluaXQocmVtb3RlV2l0aFByb3RvY29sRmFtaWx5IGZhbWlseTogSW50MzIsIHNvY2tldFR5cGUgdHlwZTogSW50MzIsIHByb3RvY29sOiBJbnQzMiwgYWRkcmVzczogRGF0YSkge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0PyhyZW1vdGVXaXRoVENQUG9ydCBwb3J0OiBVSW50MTYsIGhvc3QgaG9zdE5hbWU6IFN0cmluZz8pIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdD8odGNwUG9ydCBwb3J0OiBVSW50MTYpIHt9CiAgICBvcGVuIHZhciBgcHJvdG9jb2xgOiBJbnQzMiB7IGdldCB9CiAgICBvcGVuIHZhciBhZGRyZXNzOiBEYXRhIHsgZ2V0IH0KICAgIG9wZW4gdmFyIHByb3RvY29sRmFtaWx5OiBJbnQzMiB7IGdldCB9CiAgICBvcGVuIHZhciBzb2NrZXQ6IFNvY2tldE5hdGl2ZUhhbmRsZSB7IGdldCB9CiAgICBvcGVuIHZhciBzb2NrZXRUeXBlOiBJbnQzMiB7IGdldCB9Cn0Kb3BlbiBjbGFzcyBTdHJlYW0gOiBBbnlPYmplY3QsIEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCB7CiNpZiBmYWxzZQogICAgb3BlbiBjbGFzcyBmdW5jIGdldEJvdW5kU3RyZWFtcyh3aXRoQnVmZmVyU2l6ZSBidWZmZXJTaXplOiBJbnQsIGlucHV0U3RyZWFtOiBBdXRvcmVsZWFzaW5nVW5zYWZlTXV0YWJsZVBvaW50ZXI8SW5wdXRTdHJlYW0/Pj8sIG91dHB1dFN0cmVhbTogQXV0b3JlbGVhc2luZ1Vuc2FmZU11dGFibGVQb2ludGVyPE91dHB1dFN0cmVhbT8+Pykge30KI2VuZGlmCiNpZiBmYWxzZQogICAgb3BlbiBjbGFzcyBmdW5jIGdldFN0cmVhbXNUb0hvc3Qod2l0aE5hbWUgaG9zdG5hbWU6IFN0cmluZywgcG9ydDogSW50LCBpbnB1dFN0cmVhbTogQXV0b3JlbGVhc2luZ1Vuc2FmZU11dGFibGVQb2ludGVyPElucHV0U3RyZWFtPz4/LCBvdXRwdXRTdHJlYW06IEF1dG9yZWxlYXNpbmdVbnNhZmVNdXRhYmxlUG9pbnRlcjxPdXRwdXRTdHJlYW0/Pj8pIHt9CiNlbmRpZgogICAgb3BlbiB3ZWFrIHZhciBkZWxlZ2F0ZTogU3RyZWFtRGVsZWdhdGU/IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBzdHJlYW1FcnJvcjogRXJyb3I/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHN0cmVhbVN0YXR1czogU3RhdHVzIHsgZ2V0IH0KICAgIG9wZW4gZnVuYyBjbG9zZSgpIHt9CiAgICBvcGVuIGZ1bmMgb3BlbigpIHt9CiAgICBvcGVuIGZ1bmMgcHJvcGVydHkoZm9yS2V5IGtleTogUHJvcGVydHlLZXkpIC0+IEFueU9iamVjdD8ge30KICAgIG9wZW4gZnVuYyByZW1vdmUoZnJvbSBhUnVuTG9vcDogUnVuTG9vcCwgZm9yTW9kZSBtb2RlOiBSdW5Mb29wLk1vZGUpIHt9CiAgICBvcGVuIGZ1bmMgc2NoZWR1bGUoaW4gYVJ1bkxvb3A6IFJ1bkxvb3AsIGZvck1vZGUgbW9kZTogUnVuTG9vcC5Nb2RlKSB7fQogICAgb3BlbiBmdW5jIHNldFByb3BlcnR5KF8gcHJvcGVydHk6IEFueU9iamVjdD8sIGZvcktleSBrZXk6IFByb3BlcnR5S2V5KSAtPiBCb29sIHt9Cn0Kb3BlbiBjbGFzcyBUaHJlYWQgOiBBbnlPYmplY3QsIEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCB7CiAgICBvcGVuIGNsYXNzIHZhciBjYWxsU3RhY2tSZXR1cm5BZGRyZXNzZXM6IFtOU051bWJlcl0geyBnZXQgfQogICAgb3BlbiBjbGFzcyB2YXIgY2FsbFN0YWNrU3ltYm9sczogW1N0cmluZ10geyBnZXQgfQogICAgb3BlbiBjbGFzcyB2YXIgY3VycmVudDogVGhyZWFkIHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgdmFyIGlzTWFpblRocmVhZDogQm9vbCB7IGdldCB9CiAgICBvcGVuIGNsYXNzIHZhciBtYWluVGhyZWFkOiBUaHJlYWQgeyBnZXQgfQogICAgb3BlbiBjbGFzcyBmdW5jIGRldGFjaE5ld1RocmVhZChfIGJsb2NrOiBAZXNjYXBpbmcgKCkgLT4gU3dpZnQuVm9pZCkge30KICAgIG9wZW4gY2xhc3MgZnVuYyBleGl0KCkge30KICAgIG9wZW4gY2xhc3MgZnVuYyBpc011bHRpVGhyZWFkZWQoKSAtPiBCb29sIHt9CiAgICBvcGVuIGNsYXNzIGZ1bmMgc2xlZXAoZm9yVGltZUludGVydmFsIGludGVydmFsOiBUaW1lSW50ZXJ2YWwpIHt9CiAgICBvcGVuIGNsYXNzIGZ1bmMgc2xlZXAodW50aWwgZGF0ZTogRGF0ZSkge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KGJsb2NrOiBAZXNjYXBpbmcgKCkgLT4gU3dpZnQuVm9pZCkge30KICAgIG9wZW4gdmFyIGlzQ2FuY2VsbGVkOiBCb29sIHsgZ2V0IH0KICAgIG9wZW4gdmFyIGlzRXhlY3V0aW5nOiBCb29sIHsgZ2V0IH0KICAgIG9wZW4gdmFyIGlzRmluaXNoZWQ6IEJvb2wgeyBnZXQgfQogICAgb3BlbiB2YXIgaXNNYWluVGhyZWFkOiBCb29sIHsgZ2V0IH0KICAgIG9wZW4gdmFyIG5hbWU6IFN0cmluZz8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHF1YWxpdHlPZlNlcnZpY2U6IFF1YWxpdHlPZlNlcnZpY2UgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHN0YWNrU2l6ZTogSW50IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciB0aHJlYWREaWN0aW9uYXJ5OiBOU011dGFibGVEaWN0aW9uYXJ5IHsgZ2V0IH0KICAgIG9wZW4gZnVuYyBjYW5jZWwoKSB7fQogICAgb3BlbiBmdW5jIG1haW4oKSB7fQogICAgb3BlbiBmdW5jIHN0YXJ0KCkge30KfQpvcGVuIGNsYXNzIFRpbWVyIDogQW55T2JqZWN0LCBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wgewogICAgb3BlbiBjbGFzcyBmdW5jIHNjaGVkdWxlZFRpbWVyKHdpdGhUaW1lSW50ZXJ2YWwgaW50ZXJ2YWw6IFRpbWVJbnRlcnZhbCwgcmVwZWF0czogQm9vbCwgYmxvY2s6IEBlc2NhcGluZyAoVGltZXIpIC0+IFZvaWQpIC0+IFRpbWVyIHt9CiAgICBwdWJsaWMgaW5pdChmaXJlIGRhdGU6IERhdGUsIGludGVydmFsOiBUaW1lSW50ZXJ2YWwsIHJlcGVhdHM6IEJvb2wsIGJsb2NrOiBAZXNjYXBpbmcgKFRpbWVyKSAtPiBTd2lmdC5Wb2lkKSB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQodGltZUludGVydmFsIGludGVydmFsOiBUaW1lSW50ZXJ2YWwsIHJlcGVhdHM6IEJvb2wsIGJsb2NrOiBAZXNjYXBpbmcgKFRpbWVyKSAtPiBTd2lmdC5Wb2lkKSB7fQogICAgb3BlbiB2YXIgZmlyZURhdGU6IERhdGUgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGlzVmFsaWQ6IEJvb2wgeyBnZXQgfQogICAgb3BlbiB2YXIgdGltZUludGVydmFsOiBUaW1lSW50ZXJ2YWwgeyBnZXQgfQogICAgb3BlbiB2YXIgdG9sZXJhbmNlOiBUaW1lSW50ZXJ2YWwgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHVzZXJJbmZvOiBBbnk/IHsgZ2V0IH0KICAgIG9wZW4gZnVuYyBmaXJlKCkge30KICAgIG9wZW4gZnVuYyBpbnZhbGlkYXRlKCkge30KfQpvcGVuIGNsYXNzIFVSTEF1dGhlbnRpY2F0aW9uQ2hhbGxlbmdlIDogQW55T2JqZWN0LCBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wgewogICAgcHVibGljIGluaXQoYXV0aGVudGljYXRpb25DaGFsbGVuZ2UgY2hhbGxlbmdlOiBVUkxBdXRoZW50aWNhdGlvbkNoYWxsZW5nZSwgc2VuZGVyOiBVUkxBdXRoZW50aWNhdGlvbkNoYWxsZW5nZVNlbmRlcikge30KICAgIHB1YmxpYyBpbml0KHByb3RlY3Rpb25TcGFjZSBzcGFjZTogVVJMUHJvdGVjdGlvblNwYWNlLCBwcm9wb3NlZENyZWRlbnRpYWwgY3JlZGVudGlhbDogVVJMQ3JlZGVudGlhbD8sIHByZXZpb3VzRmFpbHVyZUNvdW50OiBJbnQsIGZhaWx1cmVSZXNwb25zZSByZXNwb25zZTogVVJMUmVzcG9uc2U/LCBlcnJvcjogRXJyb3I/LCBzZW5kZXI6IFVSTEF1dGhlbnRpY2F0aW9uQ2hhbGxlbmdlU2VuZGVyKSB7fQogICAgb3BlbiB2YXIgZXJyb3I6IEVycm9yPyB7IGdldCB9CiAgICBvcGVuIHZhciBmYWlsdXJlUmVzcG9uc2U6IFVSTFJlc3BvbnNlPyB7IGdldCB9CiAgICBvcGVuIHZhciBwcmV2aW91c0ZhaWx1cmVDb3VudDogSW50IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHByb3Bvc2VkQ3JlZGVudGlhbDogVVJMQ3JlZGVudGlhbD8geyBnZXQgfQogICAgb3BlbiB2YXIgcHJvdGVjdGlvblNwYWNlOiBVUkxQcm90ZWN0aW9uU3BhY2UgeyBnZXQgfQogICAgb3BlbiB2YXIgc2VuZGVyOiBVUkxBdXRoZW50aWNhdGlvbkNoYWxsZW5nZVNlbmRlcj8geyBnZXQgfQp9Cm9wZW4gY2xhc3MgVVJMQ2FjaGUgOiBBbnlPYmplY3QsIEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCB7CiAgICBvcGVuIGNsYXNzIHZhciBzaGFyZWQ6IFVSTENhY2hlIHsgZ2V0IHNldCB9CiAgICBwdWJsaWMgaW5pdChtZW1vcnlDYXBhY2l0eTogSW50LCBkaXNrQ2FwYWNpdHk6IEludCwgZGlza1BhdGggcGF0aDogU3RyaW5nPykge30KICAgIG9wZW4gdmFyIGN1cnJlbnREaXNrVXNhZ2U6IEludCB7IGdldCB9CiAgICBvcGVuIHZhciBjdXJyZW50TWVtb3J5VXNhZ2U6IEludCB7IGdldCB9CiAgICBvcGVuIHZhciBkaXNrQ2FwYWNpdHk6IEludCB7IGdldCB9CiAgICBvcGVuIHZhciBtZW1vcnlDYXBhY2l0eTogSW50IHsgZ2V0IH0KICAgIG9wZW4gZnVuYyBjYWNoZWRSZXNwb25zZShmb3IgcmVxdWVzdDogVVJMUmVxdWVzdCkgLT4gQ2FjaGVkVVJMUmVzcG9uc2U/IHt9CiAgICBvcGVuIGZ1bmMgZ2V0Q2FjaGVkUmVzcG9uc2UoZm9yIGRhdGFUYXNrOiBVUkxTZXNzaW9uRGF0YVRhc2ssIGNvbXBsZXRpb25IYW5kbGVyOiBAZXNjYXBpbmcgKENhY2hlZFVSTFJlc3BvbnNlPykgLT4gVm9pZCkge30KICAgIG9wZW4gZnVuYyByZW1vdmVBbGxDYWNoZWRSZXNwb25zZXMoKSB7fQogICAgb3BlbiBmdW5jIHJlbW92ZUNhY2hlZFJlc3BvbnNlKGZvciBkYXRhVGFzazogVVJMU2Vzc2lvbkRhdGFUYXNrKSB7fQogICAgb3BlbiBmdW5jIHJlbW92ZUNhY2hlZFJlc3BvbnNlcyhzaW5jZSBkYXRlOiBEYXRlKSB7fQogICAgb3BlbiBmdW5jIHN0b3JlQ2FjaGVkUmVzcG9uc2UoXyBjYWNoZWRSZXNwb25zZTogQ2FjaGVkVVJMUmVzcG9uc2UsIGZvciBkYXRhVGFzazogVVJMU2Vzc2lvbkRhdGFUYXNrKSB7fQp9Cm9wZW4gY2xhc3MgVVJMQ3JlZGVudGlhbCA6IEFueU9iamVjdCwgQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TQ29kaW5nLCBOU0NvcHlpbmcsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBOU1NlY3VyZUNvZGluZyB7CiAgICBwdWJsaWMgaW5pdCh1c2VyOiBTdHJpbmcsIHBhc3N3b3JkOiBTdHJpbmcsIHBlcnNpc3RlbmNlOiBQZXJzaXN0ZW5jZSkge30KICAgIG9wZW4gdmFyIGhhc1Bhc3N3b3JkOiBCb29sIHsgZ2V0IH0KICAgIG9wZW4gdmFyIHBhc3N3b3JkOiBTdHJpbmc/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHBlcnNpc3RlbmNlOiBQZXJzaXN0ZW5jZSB7IGdldCB9CiAgICBvcGVuIHZhciB1c2VyOiBTdHJpbmc/IHsgZ2V0IH0KfQpvcGVuIGNsYXNzIFVSTENyZWRlbnRpYWxTdG9yYWdlIDogQW55T2JqZWN0LCBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wgewogICAgb3BlbiBjbGFzcyB2YXIgc2hhcmVkOiBVUkxDcmVkZW50aWFsU3RvcmFnZSB7IGdldCB9CiAgICBvcGVuIHZhciBhbGxDcmVkZW50aWFsczogW1VSTFByb3RlY3Rpb25TcGFjZTogW1N0cmluZzogVVJMQ3JlZGVudGlhbF1dIHsgZ2V0IH0KICAgIG9wZW4gZnVuYyBjcmVkZW50aWFscyhmb3Igc3BhY2U6IFVSTFByb3RlY3Rpb25TcGFjZSkgLT4gW1N0cmluZzogVVJMQ3JlZGVudGlhbF0/IHt9CiAgICBvcGVuIGZ1bmMgZGVmYXVsdENyZWRlbnRpYWwoZm9yIHNwYWNlOiBVUkxQcm90ZWN0aW9uU3BhY2UpIC0+IFVSTENyZWRlbnRpYWw/IHt9CiAgICBwdWJsaWMgZnVuYyBnZXRDcmVkZW50aWFscyhmb3IgcHJvdGVjdGlvblNwYWNlOiBVUkxQcm90ZWN0aW9uU3BhY2UsIHRhc2s6IFVSTFNlc3Npb25UYXNrLCBjb21wbGV0aW9uSGFuZGxlcjogKFtTdHJpbmc6IFVSTENyZWRlbnRpYWxdPykgLT4gVm9pZCkge30KICAgIHB1YmxpYyBmdW5jIGdldERlZmF1bHRDcmVkZW50aWFsKGZvciBzcGFjZTogVVJMUHJvdGVjdGlvblNwYWNlLCB0YXNrOiBVUkxTZXNzaW9uVGFzaywgY29tcGxldGlvbkhhbmRsZXI6IChVUkxDcmVkZW50aWFsPykgLT4gVm9pZCkge30KICAgIG9wZW4gZnVuYyByZW1vdmUoXyBjcmVkZW50aWFsOiBVUkxDcmVkZW50aWFsLCBmb3Igc3BhY2U6IFVSTFByb3RlY3Rpb25TcGFjZSkge30KICAgIG9wZW4gZnVuYyByZW1vdmUoXyBjcmVkZW50aWFsOiBVUkxDcmVkZW50aWFsLCBmb3Igc3BhY2U6IFVSTFByb3RlY3Rpb25TcGFjZSwgb3B0aW9uczogW1N0cmluZzogQW55T2JqZWN0XT8gPSB4KSB7fQogICAgcHVibGljIGZ1bmMgcmVtb3ZlKF8gY3JlZGVudGlhbDogVVJMQ3JlZGVudGlhbCwgZm9yIHByb3RlY3Rpb25TcGFjZTogVVJMUHJvdGVjdGlvblNwYWNlLCBvcHRpb25zOiBbU3RyaW5nOiBBbnlPYmplY3RdPyA9IHgsIHRhc2s6IFVSTFNlc3Npb25UYXNrKSB7fQogICAgb3BlbiBmdW5jIHNldChfIGNyZWRlbnRpYWw6IFVSTENyZWRlbnRpYWwsIGZvciBzcGFjZTogVVJMUHJvdGVjdGlvblNwYWNlKSB7fQogICAgcHVibGljIGZ1bmMgc2V0KF8gY3JlZGVudGlhbDogVVJMQ3JlZGVudGlhbCwgZm9yIHByb3RlY3Rpb25TcGFjZTogVVJMUHJvdGVjdGlvblNwYWNlLCB0YXNrOiBVUkxTZXNzaW9uVGFzaykge30KICAgIG9wZW4gZnVuYyBzZXREZWZhdWx0Q3JlZGVudGlhbChfIGNyZWRlbnRpYWw6IFVSTENyZWRlbnRpYWwsIGZvciBzcGFjZTogVVJMUHJvdGVjdGlvblNwYWNlKSB7fQogICAgcHVibGljIGZ1bmMgc2V0RGVmYXVsdENyZWRlbnRpYWwoXyBjcmVkZW50aWFsOiBVUkxDcmVkZW50aWFsLCBmb3IgcHJvdGVjdGlvblNwYWNlOiBVUkxQcm90ZWN0aW9uU3BhY2UsIHRhc2s6IFVSTFNlc3Npb25UYXNrKSB7fQp9Cm9wZW4gY2xhc3MgVVJMUHJvdGVjdGlvblNwYWNlIDogQW55T2JqZWN0LCBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNDb3B5aW5nLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCB7CiAgICBwdWJsaWMgaW5pdChob3N0OiBTdHJpbmcsIHBvcnQ6IEludCwgcHJvdG9jb2w6IFN0cmluZz8sIHJlYWxtOiBTdHJpbmc/LCBhdXRoZW50aWNhdGlvbk1ldGhvZDogU3RyaW5nPykge30KICAgIHB1YmxpYyBpbml0KHByb3h5SG9zdCBob3N0OiBTdHJpbmcsIHBvcnQ6IEludCwgdHlwZTogU3RyaW5nPywgcmVhbG06IFN0cmluZz8sIGF1dGhlbnRpY2F0aW9uTWV0aG9kOiBTdHJpbmc/KSB7fQogICAgb3BlbiB2YXIgYHByb3RvY29sYDogU3RyaW5nPyB7IGdldCB9CiAgICBvcGVuIHZhciBhdXRoZW50aWNhdGlvbk1ldGhvZDogU3RyaW5nIHsgZ2V0IH0KICAgIG9wZW4gdmFyIGhvc3Q6IFN0cmluZyB7IGdldCB9CiAgICBvcGVuIHZhciBwb3J0OiBJbnQgeyBnZXQgfQogICAgb3BlbiB2YXIgcHJveHlUeXBlOiBTdHJpbmc/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHJlYWxtOiBTdHJpbmc/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHJlY2VpdmVzQ3JlZGVudGlhbFNlY3VyZWx5OiBCb29sIHsgZ2V0IH0KfQpvcGVuIGNsYXNzIFVSTFByb3RvY29sIDogQW55T2JqZWN0LCBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wgewogICAgb3BlbiBjbGFzcyBmdW5jIGNhbkluaXQod2l0aCByZXF1ZXN0OiBVUkxSZXF1ZXN0KSAtPiBCb29sIHt9CiAgICBvcGVuIGNsYXNzIGZ1bmMgY2Fub25pY2FsUmVxdWVzdChmb3IgcmVxdWVzdDogVVJMUmVxdWVzdCkgLT4gVVJMUmVxdWVzdCB7fQogICAgb3BlbiBjbGFzcyBmdW5jIHByb3BlcnR5KGZvcktleSBrZXk6IFN0cmluZywgaW4gcmVxdWVzdDogVVJMUmVxdWVzdCkgLT4gQW55PyB7fQogICAgb3BlbiBjbGFzcyBmdW5jIHJlZ2lzdGVyQ2xhc3MoXyBwcm90b2NvbENsYXNzOiBBbnlDbGFzcykgLT4gQm9vbCB7fQogICAgb3BlbiBjbGFzcyBmdW5jIHJlbW92ZVByb3BlcnR5KGZvcktleSBrZXk6IFN0cmluZywgaW4gcmVxdWVzdDogTlNNdXRhYmxlVVJMUmVxdWVzdCkge30KICAgIG9wZW4gY2xhc3MgZnVuYyByZXF1ZXN0SXNDYWNoZUVxdWl2YWxlbnQoXyBhOiBVUkxSZXF1ZXN0LCB0byBiOiBVUkxSZXF1ZXN0KSAtPiBCb29sIHt9CiAgICBvcGVuIGNsYXNzIGZ1bmMgc2V0UHJvcGVydHkoXyB2YWx1ZTogQW55LCBmb3JLZXkga2V5OiBTdHJpbmcsIGluIHJlcXVlc3Q6IE5TTXV0YWJsZVVSTFJlcXVlc3QpIHt9CiAgICBvcGVuIGNsYXNzIGZ1bmMgdW5yZWdpc3RlckNsYXNzKF8gcHJvdG9jb2xDbGFzczogQW55Q2xhc3MpIHt9CiAgICBwdWJsaWMgcmVxdWlyZWQgaW5pdChyZXF1ZXN0OiBVUkxSZXF1ZXN0LCBjYWNoZWRSZXNwb25zZTogQ2FjaGVkVVJMUmVzcG9uc2U/LCBjbGllbnQ6IFVSTFByb3RvY29sQ2xpZW50Pykge30KICAgIHB1YmxpYyByZXF1aXJlZCBjb252ZW5pZW5jZSBpbml0KHRhc2s6IFVSTFNlc3Npb25UYXNrLCBjYWNoZWRSZXNwb25zZTogQ2FjaGVkVVJMUmVzcG9uc2U/LCBjbGllbnQ6IFVSTFByb3RvY29sQ2xpZW50Pykge30KICAgIG9wZW4gdmFyIGNhY2hlZFJlc3BvbnNlOiBDYWNoZWRVUkxSZXNwb25zZT8geyBnZXQgfQogICAgb3BlbiB2YXIgY2xpZW50OiBVUkxQcm90b2NvbENsaWVudD8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHJlcXVlc3Q6IFVSTFJlcXVlc3QgeyBnZXQgfQogICAgb3BlbiB2YXIgdGFzazogVVJMU2Vzc2lvblRhc2s/IHsgZ2V0IHNldCB9CiAgICBvcGVuIGZ1bmMgc3RhcnRMb2FkaW5nKCkge30KICAgIG9wZW4gZnVuYyBzdG9wTG9hZGluZygpIHt9Cn0Kb3BlbiBjbGFzcyBVUkxSZXNwb25zZSA6IEFueU9iamVjdCwgQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TQ29kaW5nLCBOU0NvcHlpbmcsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBOU1NlY3VyZUNvZGluZyB7CiAgICBwdWJsaWMgaW5pdCh1cmw6IFVSTCwgbWltZVR5cGU6IFN0cmluZz8sIGV4cGVjdGVkQ29udGVudExlbmd0aCBsZW5ndGg6IEludCwgdGV4dEVuY29kaW5nTmFtZSBuYW1lOiBTdHJpbmc/KSB7fQogICAgb3BlbiB2YXIgZXhwZWN0ZWRDb250ZW50TGVuZ3RoOiBJbnQ2NCB7IGdldCB9CiAgICBvcGVuIHZhciBtaW1lVHlwZTogU3RyaW5nPyB7IGdldCB9CiAgICBvcGVuIHZhciBzdWdnZXN0ZWRGaWxlbmFtZTogU3RyaW5nPyB7IGdldCB9CiAgICBvcGVuIHZhciB0ZXh0RW5jb2RpbmdOYW1lOiBTdHJpbmc/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHVybDogVVJMPyB7IGdldCB9Cn0Kb3BlbiBjbGFzcyBVUkxTZXNzaW9uIDogQW55T2JqZWN0LCBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wsIFVSTFNlc3Npb25Qcm90b2NvbCB7CiAgICBvcGVuIGNsYXNzIHZhciBzaGFyZWQ6IFVSTFNlc3Npb24geyBnZXQgfQogICAgcHVibGljIGluaXQoY29uZmlndXJhdGlvbjogVVJMU2Vzc2lvbkNvbmZpZ3VyYXRpb24pIHt9CiAgICBwdWJsaWMgaW5pdChjb25maWd1cmF0aW9uOiBVUkxTZXNzaW9uQ29uZmlndXJhdGlvbiwgZGVsZWdhdGU6IFVSTFNlc3Npb25EZWxlZ2F0ZT8sIGRlbGVnYXRlUXVldWUgcXVldWU6IE9wZXJhdGlvblF1ZXVlPykge30KICAgIG9wZW4gdmFyIGNvbmZpZ3VyYXRpb246IFVSTFNlc3Npb25Db25maWd1cmF0aW9uIHsgZ2V0IH0KICAgIG9wZW4gdmFyIGRlbGVnYXRlOiBVUkxTZXNzaW9uRGVsZWdhdGU/IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBkZWxlZ2F0ZVF1ZXVlOiBPcGVyYXRpb25RdWV1ZSB7IGdldCB9CiAgICBvcGVuIHZhciBzZXNzaW9uRGVzY3JpcHRpb246IFN0cmluZz8geyBnZXQgc2V0IH0KICAgIG9wZW4gZnVuYyBkYXRhVGFzayh3aXRoIHJlcXVlc3Q6IFVSTFJlcXVlc3QpIC0+IFVSTFNlc3Npb25EYXRhVGFzayB7fQogICAgb3BlbiBmdW5jIGRhdGFUYXNrKHdpdGggcmVxdWVzdDogVVJMUmVxdWVzdCwgY29tcGxldGlvbkhhbmRsZXI6IEBlc2NhcGluZyAoRGF0YT8sIFVSTFJlc3BvbnNlPywgRXJyb3I/KSAtPiBWb2lkKSAtPiBVUkxTZXNzaW9uRGF0YVRhc2sge30KICAgIG9wZW4gZnVuYyBkb3dubG9hZFRhc2sod2l0aCByZXF1ZXN0OiBVUkxSZXF1ZXN0KSAtPiBVUkxTZXNzaW9uRG93bmxvYWRUYXNrIHt9CiAgICBvcGVuIGZ1bmMgZG93bmxvYWRUYXNrKHdpdGggcmVxdWVzdDogVVJMUmVxdWVzdCwgY29tcGxldGlvbkhhbmRsZXI6IEBlc2NhcGluZyAoVVJMPywgVVJMUmVzcG9uc2U/LCBFcnJvcj8pIC0+IFZvaWQpIC0+IFVSTFNlc3Npb25Eb3dubG9hZFRhc2sge30KICAgIG9wZW4gZnVuYyBkb3dubG9hZFRhc2sod2l0aFJlc3VtZURhdGEgcmVzdW1lRGF0YTogRGF0YSkgLT4gVVJMU2Vzc2lvbkRvd25sb2FkVGFzayB7fQogICAgb3BlbiBmdW5jIGRvd25sb2FkVGFzayh3aXRoUmVzdW1lRGF0YSByZXN1bWVEYXRhOiBEYXRhLCBjb21wbGV0aW9uSGFuZGxlcjogQGVzY2FwaW5nIChVUkw/LCBVUkxSZXNwb25zZT8sIEVycm9yPykgLT4gVm9pZCkgLT4gVVJMU2Vzc2lvbkRvd25sb2FkVGFzayB7fQogICAgb3BlbiBmdW5jIGZpbmlzaFRhc2tzQW5kSW52YWxpZGF0ZSgpIHt9CiAgICBvcGVuIGZ1bmMgZmx1c2goY29tcGxldGlvbkhhbmRsZXI6IEBlc2NhcGluZyAoKSAtPiBWb2lkKSB7fQogICAgb3BlbiBmdW5jIGdldEFsbFRhc2tzKGNvbXBsZXRpb25IYW5kbGVyOiBAZXNjYXBpbmcgKFtVUkxTZXNzaW9uVGFza10pIC0+IFZvaWQpIHt9CiAgICBvcGVuIGZ1bmMgZ2V0VGFza3NXaXRoQ29tcGxldGlvbkhhbmRsZXIoY29tcGxldGlvbkhhbmRsZXI6IEBlc2NhcGluZyAoW1VSTFNlc3Npb25EYXRhVGFza10sIFtVUkxTZXNzaW9uVXBsb2FkVGFza10sIFtVUkxTZXNzaW9uRG93bmxvYWRUYXNrXSkgLT4gVm9pZCkge30KICAgIG9wZW4gZnVuYyBpbnZhbGlkYXRlQW5kQ2FuY2VsKCkge30KICAgIG9wZW4gZnVuYyByZXNldChjb21wbGV0aW9uSGFuZGxlcjogQGVzY2FwaW5nICgpIC0+IFZvaWQpIHt9CiAgICBvcGVuIGZ1bmMgdXBsb2FkVGFzayh3aXRoIHJlcXVlc3Q6IFVSTFJlcXVlc3QsIGZyb20gYm9keURhdGE6IERhdGEpIC0+IFVSTFNlc3Npb25VcGxvYWRUYXNrIHt9CiAgICBvcGVuIGZ1bmMgdXBsb2FkVGFzayh3aXRoIHJlcXVlc3Q6IFVSTFJlcXVlc3QsIGZyb20gYm9keURhdGE6IERhdGE/LCBjb21wbGV0aW9uSGFuZGxlcjogQGVzY2FwaW5nIChEYXRhPywgVVJMUmVzcG9uc2U/LCBFcnJvcj8pIC0+IFZvaWQpIC0+IFVSTFNlc3Npb25VcGxvYWRUYXNrIHt9CiAgICBvcGVuIGZ1bmMgdXBsb2FkVGFzayh3aXRoIHJlcXVlc3Q6IFVSTFJlcXVlc3QsIGZyb21GaWxlIGZpbGVVUkw6IFVSTCkgLT4gVVJMU2Vzc2lvblVwbG9hZFRhc2sge30KICAgIG9wZW4gZnVuYyB1cGxvYWRUYXNrKHdpdGggcmVxdWVzdDogVVJMUmVxdWVzdCwgZnJvbUZpbGUgZmlsZVVSTDogVVJMLCBjb21wbGV0aW9uSGFuZGxlcjogQGVzY2FwaW5nIChEYXRhPywgVVJMUmVzcG9uc2U/LCBFcnJvcj8pIC0+IFZvaWQpIC0+IFVSTFNlc3Npb25VcGxvYWRUYXNrIHt9CiAgICBvcGVuIGZ1bmMgdXBsb2FkVGFzayh3aXRoU3RyZWFtZWRSZXF1ZXN0IHJlcXVlc3Q6IFVSTFJlcXVlc3QpIC0+IFVSTFNlc3Npb25VcGxvYWRUYXNrIHt9Cn0Kb3BlbiBjbGFzcyBVUkxTZXNzaW9uQ29uZmlndXJhdGlvbiA6IEFueU9iamVjdCwgQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TQ29weWluZywgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wgewogICAgb3BlbiBjbGFzcyB2YXIgYGRlZmF1bHRgOiBVUkxTZXNzaW9uQ29uZmlndXJhdGlvbiB7IGdldCB9CiAgICBvcGVuIGNsYXNzIHZhciBlcGhlbWVyYWw6IFVSTFNlc3Npb25Db25maWd1cmF0aW9uIHsgZ2V0IH0KICAgIG9wZW4gdmFyIGFsbG93c0NlbGx1bGFyQWNjZXNzOiBCb29sIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBjb25uZWN0aW9uUHJveHlEaWN0aW9uYXJ5OiBbQW55SGFzaGFibGU6IEFueV0/IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBodHRwQWRkaXRpb25hbEhlYWRlcnM6IFtBbnlIYXNoYWJsZTogQW55XT8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGh0dHBDb29raWVBY2NlcHRQb2xpY3k6IEhUVFBDb29raWUuQWNjZXB0UG9saWN5IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBodHRwQ29va2llU3RvcmFnZTogSFRUUENvb2tpZVN0b3JhZ2U/IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBodHRwTWF4aW11bUNvbm5lY3Rpb25zUGVySG9zdDogSW50IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBodHRwU2hvdWxkU2V0Q29va2llczogQm9vbCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgaHR0cFNob3VsZFVzZVBpcGVsaW5pbmc6IEJvb2wgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGlkZW50aWZpZXI6IFN0cmluZz8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGlzRGlzY3JldGlvbmFyeTogQm9vbCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgbmV0d29ya1NlcnZpY2VUeXBlOiBVUkxSZXF1ZXN0Lk5ldHdvcmtTZXJ2aWNlVHlwZSB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgcHJvdG9jb2xDbGFzc2VzOiBbQW55Q2xhc3NdPyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgcmVxdWVzdENhY2hlUG9saWN5OiBVUkxSZXF1ZXN0LkNhY2hlUG9saWN5IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBzaGFyZWRDb250YWluZXJJZGVudGlmaWVyOiBTdHJpbmc/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHNob3VsZFVzZUV4dGVuZGVkQmFja2dyb3VuZElkbGVNb2RlOiBCb29sIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciB0aW1lb3V0SW50ZXJ2YWxGb3JSZXF1ZXN0OiBUaW1lSW50ZXJ2YWwgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHRpbWVvdXRJbnRlcnZhbEZvclJlc291cmNlOiBUaW1lSW50ZXJ2YWwgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHVybENhY2hlOiBVUkxDYWNoZT8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHVybENyZWRlbnRpYWxTdG9yYWdlOiBVUkxDcmVkZW50aWFsU3RvcmFnZT8geyBnZXQgc2V0IH0KfQpvcGVuIGNsYXNzIFVSTFNlc3Npb25EYXRhVGFzayA6IEFueU9iamVjdCwgQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TQ29weWluZywgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wsIFByb2dyZXNzUmVwb3J0aW5nLCBVUkxTZXNzaW9uVGFzayB7Cn0Kb3BlbiBjbGFzcyBVUkxTZXNzaW9uRG93bmxvYWRUYXNrIDogQW55T2JqZWN0LCBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNDb3B5aW5nLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCwgUHJvZ3Jlc3NSZXBvcnRpbmcsIFVSTFNlc3Npb25UYXNrIHsKICAgIG9wZW4gZnVuYyBjYW5jZWwoYnlQcm9kdWNpbmdSZXN1bWVEYXRhIGNvbXBsZXRpb25IYW5kbGVyOiBAZXNjYXBpbmcgKERhdGE/KSAtPiBWb2lkKSB7fQp9Cm9wZW4gY2xhc3MgVVJMU2Vzc2lvblRhc2sgOiBBbnlPYmplY3QsIEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU0NvcHlpbmcsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBQcm9ncmVzc1JlcG9ydGluZyB7CiAgICBwdWJsaWMgc3RhdGljIHZhciBkZWZhdWx0UHJpb3JpdHk6IEZsb2F0IHsgZ2V0IH0KICAgIHB1YmxpYyBzdGF0aWMgdmFyIGhpZ2hQcmlvcml0eTogRmxvYXQgeyBnZXQgfQogICAgcHVibGljIHN0YXRpYyB2YXIgbG93UHJpb3JpdHk6IEZsb2F0IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGNvdW50T2ZCeXRlc0NsaWVudEV4cGVjdHNUb1JlY2VpdmU6IEludDY0IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGNvdW50T2ZCeXRlc0NsaWVudEV4cGVjdHNUb1NlbmQ6IEludDY0IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGNvdW50T2ZCeXRlc0V4cGVjdGVkVG9SZWNlaXZlOiBJbnQ2NCB7IGdldCB9CiAgICBvcGVuIHZhciBjb3VudE9mQnl0ZXNFeHBlY3RlZFRvU2VuZDogSW50NjQgeyBnZXQgfQogICAgb3BlbiB2YXIgY291bnRPZkJ5dGVzUmVjZWl2ZWQ6IEludDY0IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGNvdW50T2ZCeXRlc1NlbnQ6IEludDY0IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGN1cnJlbnRSZXF1ZXN0OiBVUkxSZXF1ZXN0PyB7IGdldCB9CiAgICBvcGVuIHZhciBlcnJvcjogRXJyb3I/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIG9yaWdpbmFsUmVxdWVzdDogVVJMUmVxdWVzdD8geyBnZXQgfQogICAgb3BlbiB2YXIgcHJpb3JpdHk6IEZsb2F0IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciByZXNwb25zZTogVVJMUmVzcG9uc2U/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHN0YXRlOiBVUkxTZXNzaW9uVGFzay5TdGF0ZSB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgdGFza0Rlc2NyaXB0aW9uOiBTdHJpbmc/IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciB0YXNrSWRlbnRpZmllcjogSW50IHsgZ2V0IH0KICAgIG9wZW4gZnVuYyBjYW5jZWwoKSB7fQogICAgb3BlbiBmdW5jIHJlc3VtZSgpIHt9CiAgICBvcGVuIGZ1bmMgc3VzcGVuZCgpIHt9Cn0Kb3BlbiBjbGFzcyBVUkxTZXNzaW9uVXBsb2FkVGFzayA6IEFueU9iamVjdCwgQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TQ29weWluZywgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wsIFByb2dyZXNzUmVwb3J0aW5nLCBVUkxTZXNzaW9uRGF0YVRhc2ssIFVSTFNlc3Npb25UYXNrIHsKfQpvcGVuIGNsYXNzIFVuaXQgOiBBbnlPYmplY3QsIEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU0NvZGluZywgTlNDb3B5aW5nLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCwgTlNTZWN1cmVDb2RpbmcgewogICAgcHVibGljIHJlcXVpcmVkIGluaXQoc3ltYm9sOiBTdHJpbmcpIHt9CiAgICBvcGVuIHZhciBzeW1ib2w6IFN0cmluZyB7IGdldCB9Cn0Kb3BlbiBjbGFzcyBVbml0Q29udmVydGVyIDogQW55T2JqZWN0LCBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wgewogICAgb3BlbiBmdW5jIGJhc2VVbml0VmFsdWUoZnJvbVZhbHVlIHZhbHVlOiBEb3VibGUpIC0+IERvdWJsZSB7fQogICAgb3BlbiBmdW5jIHZhbHVlKGZyb21CYXNlVW5pdFZhbHVlIGJhc2VVbml0VmFsdWU6IERvdWJsZSkgLT4gRG91YmxlIHt9Cn0Kb3BlbiBjbGFzcyBVbml0Q29udmVydGVyTGluZWFyIDogQW55T2JqZWN0LCBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNDb2RpbmcsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBOU1NlY3VyZUNvZGluZywgVW5pdENvbnZlcnRlciB7CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdChjb2VmZmljaWVudDogRG91YmxlKSB7fQogICAgcHVibGljIGluaXQoY29lZmZpY2llbnQ6IERvdWJsZSwgY29uc3RhbnQ6IERvdWJsZSkge30KICAgIG9wZW4gdmFyIGNvZWZmaWNpZW50OiBEb3VibGUgeyBnZXQgfQogICAgb3BlbiB2YXIgY29uc3RhbnQ6IERvdWJsZSB7IGdldCB9Cn0Kb3BlbiBjbGFzcyBVc2VyRGVmYXVsdHMgOiBBbnlPYmplY3QsIEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCB7CiAgICBwdWJsaWMgc3RhdGljIHZhciBhcmd1bWVudERvbWFpbjogU3RyaW5nIHsgZ2V0IH0KICAgIHB1YmxpYyBzdGF0aWMgdmFyIGRpZENoYW5nZU5vdGlmaWNhdGlvbiB7IGdldCB9CiAgICBwdWJsaWMgc3RhdGljIHZhciBnbG9iYWxEb21haW46IFN0cmluZyB7IGdldCB9CiAgICBwdWJsaWMgc3RhdGljIHZhciByZWdpc3RyYXRpb25Eb21haW46IFN0cmluZyB7IGdldCB9CiAgICBvcGVuIGNsYXNzIHZhciBzdGFuZGFyZDogVXNlckRlZmF1bHRzIHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgZnVuYyByZXNldFN0YW5kYXJkVXNlckRlZmF1bHRzKCkge30KICAgIHB1YmxpYyBpbml0PyhzdWl0ZU5hbWUgc3VpdGVuYW1lOiBTdHJpbmc/KSB7fQogICAgb3BlbiB2YXIgdm9sYXRpbGVEb21haW5OYW1lczogW1N0cmluZ10geyBnZXQgfQogICAgb3BlbiBmdW5jIGFkZFN1aXRlKG5hbWVkIHN1aXRlTmFtZTogU3RyaW5nKSB7fQogICAgb3BlbiBmdW5jIGFycmF5KGZvcktleSBkZWZhdWx0TmFtZTogU3RyaW5nKSAtPiBbQW55XT8ge30KICAgIG9wZW4gZnVuYyBib29sKGZvcktleSBkZWZhdWx0TmFtZTogU3RyaW5nKSAtPiBCb29sIHt9CiAgICBvcGVuIGZ1bmMgZGF0YShmb3JLZXkgZGVmYXVsdE5hbWU6IFN0cmluZykgLT4gRGF0YT8ge30KICAgIG9wZW4gZnVuYyBkaWN0aW9uYXJ5KGZvcktleSBkZWZhdWx0TmFtZTogU3RyaW5nKSAtPiBbU3RyaW5nOiBBbnldPyB7fQogICAgb3BlbiBmdW5jIGRpY3Rpb25hcnlSZXByZXNlbnRhdGlvbigpIC0+IFtTdHJpbmc6IEFueV0ge30KICAgIG9wZW4gZnVuYyBkb3VibGUoZm9yS2V5IGRlZmF1bHROYW1lOiBTdHJpbmcpIC0+IERvdWJsZSB7fQogICAgb3BlbiBmdW5jIGZsb2F0KGZvcktleSBkZWZhdWx0TmFtZTogU3RyaW5nKSAtPiBGbG9hdCB7fQogICAgb3BlbiBmdW5jIGludGVnZXIoZm9yS2V5IGRlZmF1bHROYW1lOiBTdHJpbmcpIC0+IEludCB7fQogICAgb3BlbiBmdW5jIG9iamVjdChmb3JLZXkgZGVmYXVsdE5hbWU6IFN0cmluZykgLT4gQW55PyB7fQogICAgb3BlbiBmdW5jIG9iamVjdElzRm9yY2VkKGZvcktleSBrZXk6IFN0cmluZykgLT4gQm9vbCB7fQogICAgb3BlbiBmdW5jIG9iamVjdElzRm9yY2VkKGZvcktleSBrZXk6IFN0cmluZywgaW5Eb21haW4gZG9tYWluOiBTdHJpbmcpIC0+IEJvb2wge30KICAgIG9wZW4gZnVuYyBwZXJzaXN0ZW50RG9tYWluKGZvck5hbWUgZG9tYWluTmFtZTogU3RyaW5nKSAtPiBbU3RyaW5nOiBBbnldPyB7fQogICAgb3BlbiBmdW5jIHJlZ2lzdGVyKGRlZmF1bHRzIHJlZ2lzdHJhdGlvbkRpY3Rpb25hcnk6IFtTdHJpbmc6IEFueV0pIHt9CiAgICBvcGVuIGZ1bmMgcmVtb3ZlT2JqZWN0KGZvcktleSBkZWZhdWx0TmFtZTogU3RyaW5nKSB7fQogICAgb3BlbiBmdW5jIHJlbW92ZVBlcnNpc3RlbnREb21haW4oZm9yTmFtZSBkb21haW5OYW1lOiBTdHJpbmcpIHt9CiAgICBvcGVuIGZ1bmMgcmVtb3ZlU3VpdGUobmFtZWQgc3VpdGVOYW1lOiBTdHJpbmcpIHt9CiAgICBvcGVuIGZ1bmMgcmVtb3ZlVm9sYXRpbGVEb21haW4oZm9yTmFtZSBkb21haW5OYW1lOiBTdHJpbmcpIHt9CiAgICBvcGVuIGZ1bmMgc2V0KF8gdXJsOiBVUkw/LCBmb3JLZXkgZGVmYXVsdE5hbWU6IFN0cmluZykge30KICAgIG9wZW4gZnVuYyBzZXRQZXJzaXN0ZW50RG9tYWluKF8gZG9tYWluOiBbU3RyaW5nOiBBbnldLCBmb3JOYW1lIGRvbWFpbk5hbWU6IFN0cmluZykge30KICAgIG9wZW4gZnVuYyBzZXRWb2xhdGlsZURvbWFpbihfIGRvbWFpbjogW1N0cmluZzogQW55XSwgZm9yTmFtZSBkb21haW5OYW1lOiBTdHJpbmcpIHt9CiAgICBvcGVuIGZ1bmMgc3RyaW5nKGZvcktleSBkZWZhdWx0TmFtZTogU3RyaW5nKSAtPiBTdHJpbmc/IHt9CiAgICBvcGVuIGZ1bmMgc3RyaW5nQXJyYXkoZm9yS2V5IGRlZmF1bHROYW1lOiBTdHJpbmcpIC0+IFtTdHJpbmddPyB7fQogICAgQGRpc2NhcmRhYmxlUmVzdWx0IG9wZW4gZnVuYyBzeW5jaHJvbml6ZSgpIC0+IEJvb2wge30KICAgIG9wZW4gZnVuYyB1cmwoZm9yS2V5IGRlZmF1bHROYW1lOiBTdHJpbmcpIC0+IFVSTD8ge30KICAgIG9wZW4gZnVuYyB2b2xhdGlsZURvbWFpbihmb3JOYW1lIGRvbWFpbk5hbWU6IFN0cmluZykgLT4gW1N0cmluZzogQW55XSB7fQp9Cm9wZW4gY2xhc3MgWE1MRFREIDogQW55T2JqZWN0LCBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNDb3B5aW5nLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCwgWE1MTm9kZSwgX05TWE1MTm9kZUNvbGxlY3Rpb25UeXBlIHsKICAgIG9wZW4gY2xhc3MgZnVuYyBwcmVkZWZpbmVkRW50aXR5RGVjbGFyYXRpb24oZm9yTmFtZSBuYW1lOiBTdHJpbmcpIC0+IFhNTERURE5vZGU/IHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdChjb250ZW50c09mIHVybDogVVJMLCBvcHRpb25zIG1hc2s6IFhNTE5vZGUuT3B0aW9ucyA9IHgpIHRocm93cyB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQoZGF0YTogRGF0YSwgb3B0aW9ucyBtYXNrOiBYTUxOb2RlLk9wdGlvbnMgPSB4KSB0aHJvd3Mge30KICAgIG9wZW4gdmFyIHB1YmxpY0lEOiBTdHJpbmc/IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBzeXN0ZW1JRDogU3RyaW5nPyB7IGdldCBzZXQgfQogICAgb3BlbiBmdW5jIGFkZENoaWxkKF8gY2hpbGQ6IFhNTE5vZGUpIHt9CiAgICBvcGVuIGZ1bmMgYXR0cmlidXRlRGVjbGFyYXRpb24oZm9yTmFtZSBuYW1lOiBTdHJpbmcsIGVsZW1lbnROYW1lOiBTdHJpbmcpIC0+IFhNTERURE5vZGU/IHt9CiAgICBvcGVuIGZ1bmMgZWxlbWVudERlY2xhcmF0aW9uKGZvck5hbWUgbmFtZTogU3RyaW5nKSAtPiBYTUxEVEROb2RlPyB7fQogICAgb3BlbiBmdW5jIGVudGl0eURlY2xhcmF0aW9uKGZvck5hbWUgbmFtZTogU3RyaW5nKSAtPiBYTUxEVEROb2RlPyB7fQogICAgb3BlbiBmdW5jIGluc2VydENoaWxkKF8gY2hpbGQ6IFhNTE5vZGUsIGF0IGluZGV4OiBJbnQpIHt9CiAgICBvcGVuIGZ1bmMgaW5zZXJ0Q2hpbGRyZW4oXyBjaGlsZHJlbjogW1hNTE5vZGVdLCBhdCBpbmRleDogSW50KSB7fQogICAgb3BlbiBmdW5jIG5vdGF0aW9uRGVjbGFyYXRpb24oZm9yTmFtZSBuYW1lOiBTdHJpbmcpIC0+IFhNTERURE5vZGU/IHt9CiAgICBvcGVuIGZ1bmMgcmVtb3ZlQ2hpbGQoYXQgaW5kZXg6IEludCkge30KICAgIG9wZW4gZnVuYyByZXBsYWNlQ2hpbGQoYXQgaW5kZXg6IEludCwgd2l0aCBub2RlOiBYTUxOb2RlKSB7fQogICAgb3BlbiBmdW5jIHNldENoaWxkcmVuKF8gY2hpbGRyZW46IFtYTUxOb2RlXT8pIHt9Cn0Kb3BlbiBjbGFzcyBYTUxEVEROb2RlIDogQW55T2JqZWN0LCBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNDb3B5aW5nLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCwgWE1MTm9kZSwgX05TWE1MTm9kZUNvbGxlY3Rpb25UeXBlIHsKICAgIHB1YmxpYyBpbml0Pyh4bWxTdHJpbmcgc3RyaW5nOiBTdHJpbmcpIHt9CiAgICBvcGVuIHZhciBkdGRLaW5kOiBYTUxEVEROb2RlLkRUREtpbmQgeyBnZXQgfQogICAgb3BlbiB2YXIgaXNFeHRlcm5hbDogQm9vbCB7IGdldCB9CiAgICBvcGVuIHZhciBub3RhdGlvbk5hbWU6IFN0cmluZz8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHB1YmxpY0lEOiBTdHJpbmc/IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBzeXN0ZW1JRDogU3RyaW5nPyB7IGdldCBzZXQgfQp9Cm9wZW4gY2xhc3MgWE1MRG9jdW1lbnQgOiBBbnlPYmplY3QsIEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU0NvcHlpbmcsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBYTUxOb2RlLCBfTlNYTUxOb2RlQ29sbGVjdGlvblR5cGUgewogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQoY29udGVudHNPZiB1cmw6IFVSTCwgb3B0aW9ucyBtYXNrOiBYTUxOb2RlLk9wdGlvbnMgPSB4KSB0aHJvd3Mge30KICAgIHB1YmxpYyBpbml0KGRhdGE6IERhdGEsIG9wdGlvbnMgbWFzazogWE1MTm9kZS5PcHRpb25zID0geCkgdGhyb3dzIHt9CiAgICBwdWJsaWMgaW5pdChyb290RWxlbWVudCBlbGVtZW50OiBYTUxFbGVtZW50Pykge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KHhtbFN0cmluZyBzdHJpbmc6IFN0cmluZywgb3B0aW9ucyBtYXNrOiBYTUxOb2RlLk9wdGlvbnMgPSB4KSB0aHJvd3Mge30KICAgIG9wZW4gdmFyIGNoYXJhY3RlckVuY29kaW5nOiBTdHJpbmc/IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBkb2N1bWVudENvbnRlbnRLaW5kOiBYTUxEb2N1bWVudC5Db250ZW50S2luZCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgZHRkOiBYTUxEVEQ/IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBpc1N0YW5kYWxvbmU6IEJvb2wgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIG1pbWVUeXBlOiBTdHJpbmc/IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciB2ZXJzaW9uOiBTdHJpbmc/IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciB4bWxEYXRhOiBEYXRhIHsgZ2V0IH0KICAgIG9wZW4gZnVuYyBhZGRDaGlsZChfIGNoaWxkOiBYTUxOb2RlKSB7fQogICAgb3BlbiBmdW5jIGluc2VydENoaWxkKF8gY2hpbGQ6IFhNTE5vZGUsIGF0IGluZGV4OiBJbnQpIHt9CiAgICBvcGVuIGZ1bmMgaW5zZXJ0Q2hpbGRyZW4oXyBjaGlsZHJlbjogW1hNTE5vZGVdLCBhdCBpbmRleDogSW50KSB7fQogICAgb3BlbiBmdW5jIHJlbW92ZUNoaWxkKGF0IGluZGV4OiBJbnQpIHt9CiAgICBvcGVuIGZ1bmMgcmVwbGFjZUNoaWxkKGF0IGluZGV4OiBJbnQsIHdpdGggbm9kZTogWE1MTm9kZSkge30KICAgIG9wZW4gZnVuYyByb290RWxlbWVudCgpIC0+IFhNTEVsZW1lbnQ/IHt9CiAgICBvcGVuIGZ1bmMgc2V0Q2hpbGRyZW4oXyBjaGlsZHJlbjogW1hNTE5vZGVdPykge30KICAgIG9wZW4gZnVuYyBzZXRSb290RWxlbWVudChfIHJvb3Q6IFhNTEVsZW1lbnQpIHt9CiAgICBvcGVuIGZ1bmMgdmFsaWRhdGUoKSB0aHJvd3Mge30KICAgIG9wZW4gZnVuYyB4bWxEYXRhKG9wdGlvbnM6IFhNTE5vZGUuT3B0aW9ucyA9IHgpIC0+IERhdGEge30KfQpvcGVuIGNsYXNzIFhNTEVsZW1lbnQgOiBBbnlPYmplY3QsIEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU0NvcHlpbmcsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBYTUxOb2RlLCBfTlNYTUxOb2RlQ29sbGVjdGlvblR5cGUgewogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQobmFtZTogU3RyaW5nKSB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQobmFtZTogU3RyaW5nLCBzdHJpbmdWYWx1ZSBzdHJpbmc6IFN0cmluZz8pIHt9CiAgICBwdWJsaWMgaW5pdChuYW1lOiBTdHJpbmcsIHVyaSBVUkk6IFN0cmluZz8pIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdCh4bWxTdHJpbmcgc3RyaW5nOiBTdHJpbmcpIHRocm93cyB7fQogICAgb3BlbiB2YXIgYXR0cmlidXRlczogW1hNTE5vZGVdPyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgbmFtZXNwYWNlczogW1hNTE5vZGVdPyB7IGdldCBzZXQgfQogICAgb3BlbiBmdW5jIGFkZEF0dHJpYnV0ZShfIGF0dHJpYnV0ZTogWE1MTm9kZSkge30KICAgIG9wZW4gZnVuYyBhZGRDaGlsZChfIGNoaWxkOiBYTUxOb2RlKSB7fQogICAgb3BlbiBmdW5jIGFkZE5hbWVzcGFjZShfIGFOYW1lc3BhY2U6IFhNTE5vZGUpIHt9CiAgICBvcGVuIGZ1bmMgYXR0cmlidXRlKGZvckxvY2FsTmFtZSBsb2NhbE5hbWU6IFN0cmluZywgdXJpIFVSSTogU3RyaW5nPykgLT4gWE1MTm9kZT8ge30KICAgIG9wZW4gZnVuYyBhdHRyaWJ1dGUoZm9yTmFtZSBuYW1lOiBTdHJpbmcpIC0+IFhNTE5vZGU/IHt9CiAgICBvcGVuIGZ1bmMgZWxlbWVudHMoZm9yTG9jYWxOYW1lIGxvY2FsTmFtZTogU3RyaW5nLCB1cmkgVVJJOiBTdHJpbmc/KSAtPiBbWE1MRWxlbWVudF0ge30KICAgIG9wZW4gZnVuYyBlbGVtZW50cyhmb3JOYW1lIG5hbWU6IFN0cmluZykgLT4gW1hNTEVsZW1lbnRdIHt9CiAgICBvcGVuIGZ1bmMgaW5zZXJ0Q2hpbGQoXyBjaGlsZDogWE1MTm9kZSwgYXQgaW5kZXg6IEludCkge30KICAgIG9wZW4gZnVuYyBpbnNlcnRDaGlsZHJlbihfIGNoaWxkcmVuOiBbWE1MTm9kZV0sIGF0IGluZGV4OiBJbnQpIHt9CiAgICBvcGVuIGZ1bmMgbmFtZXNwYWNlKGZvclByZWZpeCBuYW1lOiBTdHJpbmcpIC0+IFhNTE5vZGU/IHt9CiAgICBvcGVuIGZ1bmMgbm9ybWFsaXplQWRqYWNlbnRUZXh0Tm9kZXNQcmVzZXJ2aW5nQ0RBVEEoXyBwcmVzZXJ2ZTogQm9vbCkge30KICAgIG9wZW4gZnVuYyByZW1vdmVBdHRyaWJ1dGUoZm9yTmFtZSBuYW1lOiBTdHJpbmcpIHt9CiAgICBvcGVuIGZ1bmMgcmVtb3ZlQ2hpbGQoYXQgaW5kZXg6IEludCkge30KICAgIG9wZW4gZnVuYyByZW1vdmVOYW1lc3BhY2UoZm9yUHJlZml4IG5hbWU6IFN0cmluZykge30KICAgIG9wZW4gZnVuYyByZXBsYWNlQ2hpbGQoYXQgaW5kZXg6IEludCwgd2l0aCBub2RlOiBYTUxOb2RlKSB7fQogICAgb3BlbiBmdW5jIHJlc29sdmVOYW1lc3BhY2UoZm9yTmFtZSBuYW1lOiBTdHJpbmcpIC0+IFhNTE5vZGU/IHt9CiAgICBvcGVuIGZ1bmMgcmVzb2x2ZVByZWZpeChmb3JOYW1lc3BhY2VVUkkgbmFtZXNwYWNlVVJJOiBTdHJpbmcpIC0+IFN0cmluZz8ge30KICAgIG9wZW4gZnVuYyBzZXRBdHRyaWJ1dGVzV2l0aChfIGF0dHJpYnV0ZXM6IFtTdHJpbmc6IFN0cmluZ10pIHt9CiAgICBvcGVuIGZ1bmMgc2V0Q2hpbGRyZW4oXyBjaGlsZHJlbjogW1hNTE5vZGVdPykge30KfQpvcGVuIGNsYXNzIFhNTE5vZGUgOiBBbnlPYmplY3QsIEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU0NvcHlpbmcsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBfTlNYTUxOb2RlQ29sbGVjdGlvblR5cGUgewogICAgb3BlbiBjbGFzcyBmdW5jIGF0dHJpYnV0ZSh3aXRoTmFtZSBuYW1lOiBTdHJpbmcsIHN0cmluZ1ZhbHVlOiBTdHJpbmcpIC0+IEFueSB7fQogICAgb3BlbiBjbGFzcyBmdW5jIGF0dHJpYnV0ZSh3aXRoTmFtZSBuYW1lOiBTdHJpbmcsIHVyaTogU3RyaW5nLCBzdHJpbmdWYWx1ZTogU3RyaW5nKSAtPiBBbnkge30KICAgIG9wZW4gY2xhc3MgZnVuYyBjb21tZW50KHdpdGhTdHJpbmdWYWx1ZSBzdHJpbmdWYWx1ZTogU3RyaW5nKSAtPiBBbnkge30KICAgIG9wZW4gY2xhc3MgZnVuYyBkb2N1bWVudCgpIC0+IEFueSB7fQogICAgb3BlbiBjbGFzcyBmdW5jIGRvY3VtZW50KHdpdGhSb290RWxlbWVudCBlbGVtZW50OiBYTUxFbGVtZW50KSAtPiBBbnkge30KICAgIG9wZW4gY2xhc3MgZnVuYyBkdGROb2RlKHdpdGhYTUxTdHJpbmcgc3RyaW5nOiBTdHJpbmcpIC0+IEFueT8ge30KICAgIG9wZW4gY2xhc3MgZnVuYyBlbGVtZW50KHdpdGhOYW1lIG5hbWU6IFN0cmluZykgLT4gQW55IHt9CiAgICBvcGVuIGNsYXNzIGZ1bmMgZWxlbWVudCh3aXRoTmFtZSBuYW1lOiBTdHJpbmcsIGNoaWxkcmVuOiBbWE1MTm9kZV0/LCBhdHRyaWJ1dGVzOiBbWE1MTm9kZV0/KSAtPiBBbnkge30KICAgIG9wZW4gY2xhc3MgZnVuYyBlbGVtZW50KHdpdGhOYW1lIG5hbWU6IFN0cmluZywgc3RyaW5nVmFsdWUgc3RyaW5nOiBTdHJpbmcpIC0+IEFueSB7fQogICAgb3BlbiBjbGFzcyBmdW5jIGVsZW1lbnQod2l0aE5hbWUgbmFtZTogU3RyaW5nLCB1cmk6IFN0cmluZykgLT4gQW55IHt9CiAgICBvcGVuIGNsYXNzIGZ1bmMgbG9jYWxOYW1lKGZvck5hbWUgbmFtZTogU3RyaW5nKSAtPiBTdHJpbmcge30KICAgIG9wZW4gY2xhc3MgZnVuYyBuYW1lc3BhY2Uod2l0aE5hbWUgbmFtZTogU3RyaW5nLCBzdHJpbmdWYWx1ZTogU3RyaW5nKSAtPiBBbnkge30KICAgIG9wZW4gY2xhc3MgZnVuYyBwcmVkZWZpbmVkTmFtZXNwYWNlKGZvclByZWZpeCBuYW1lOiBTdHJpbmcpIC0+IFhNTE5vZGU/IHt9CiAgICBvcGVuIGNsYXNzIGZ1bmMgcHJlZml4KGZvck5hbWUgbmFtZTogU3RyaW5nKSAtPiBTdHJpbmc/IHt9CiAgICBwdWJsaWMgY2xhc3MgZnVuYyBwcm9jZXNzaW5nSW5zdHJ1Y3Rpb24od2l0aE5hbWUgbmFtZTogU3RyaW5nLCBzdHJpbmdWYWx1ZTogU3RyaW5nKSAtPiBBbnkge30KICAgIG9wZW4gY2xhc3MgZnVuYyB0ZXh0KHdpdGhTdHJpbmdWYWx1ZSBzdHJpbmdWYWx1ZTogU3RyaW5nKSAtPiBBbnkge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KGtpbmQ6IFhNTE5vZGUuS2luZCkge30KICAgIHB1YmxpYyBpbml0KGtpbmQ6IFhNTE5vZGUuS2luZCwgb3B0aW9uczogWE1MTm9kZS5PcHRpb25zID0geCkge30KICAgIG9wZW4gdmFyIGNoaWxkQ291bnQ6IEludCB7IGdldCB9CiAgICBvcGVuIHZhciBjaGlsZHJlbjogW1hNTE5vZGVdPyB7IGdldCB9CiAgICBwdWJsaWMgdmFyIGVuZEluZGV4OiBJbmRleCB7IGdldCB9CiAgICBvcGVuIHZhciBpbmRleDogSW50IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGtpbmQ6IFhNTE5vZGUuS2luZCB7IGdldCB9CiAgICBvcGVuIHZhciBsZXZlbDogSW50IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGxvY2FsTmFtZTogU3RyaW5nPyB7IGdldCB9CiAgICBvcGVuIHZhciBuYW1lOiBTdHJpbmc/IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBuZXh0OiBYTUxOb2RlPyB7IGdldCB9CiAgICBvcGVuIHZhciBuZXh0U2libGluZzogWE1MTm9kZT8geyBnZXQgfQogICAgb3BlbiB2YXIgb2JqZWN0VmFsdWU6IEFueT8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHBhcmVudDogWE1MTm9kZT8geyBnZXQgfQogICAgb3BlbiB2YXIgcHJlZml4OiBTdHJpbmc/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHByZXZpb3VzOiBYTUxOb2RlPyB7IGdldCB9CiAgICBvcGVuIHZhciBwcmV2aW91c1NpYmxpbmc6IFhNTE5vZGU/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHJvb3REb2N1bWVudDogWE1MRG9jdW1lbnQ/IHsgZ2V0IH0KICAgIHB1YmxpYyB2YXIgc3RhcnRJbmRleDogSW5kZXggeyBnZXQgfQogICAgb3BlbiB2YXIgc3RyaW5nVmFsdWU6IFN0cmluZz8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHVyaTogU3RyaW5nPyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgeFBhdGg6IFN0cmluZz8geyBnZXQgfQogICAgb3BlbiB2YXIgeG1sU3RyaW5nOiBTdHJpbmcgeyBnZXQgfQogICAgcHVibGljIHN1YnNjcmlwdChpbmRleDogSW5kZXgpIC0+IFhNTE5vZGUgeyBnZXQgfSB7fQogICAgb3BlbiBmdW5jIGNhbm9uaWNhbFhNTFN0cmluZ1ByZXNlcnZpbmdDb21tZW50cyhfIGNvbW1lbnRzOiBCb29sKSAtPiBTdHJpbmcge30KICAgIG9wZW4gZnVuYyBjaGlsZChhdCBpbmRleDogSW50KSAtPiBYTUxOb2RlPyB7fQogICAgb3BlbiBmdW5jIGRldGFjaCgpIHt9CiAgICBwdWJsaWMgZnVuYyBpbmRleChhZnRlciBpOiBJbmRleCkgLT4gSW5kZXgge30KICAgIG9wZW4gZnVuYyBub2Rlcyhmb3JYUGF0aCB4cGF0aDogU3RyaW5nKSB0aHJvd3MgLT4gW1hNTE5vZGVdIHt9CiAgICBvcGVuIGZ1bmMgc2V0U3RyaW5nVmFsdWUoXyBzdHJpbmc6IFN0cmluZywgcmVzb2x2aW5nRW50aXRpZXMgcmVzb2x2ZTogQm9vbCkge30KICAgIG9wZW4gZnVuYyB4bWxTdHJpbmcob3B0aW9uczogT3B0aW9ucykgLT4gU3RyaW5nIHt9Cn0Kb3BlbiBjbGFzcyBYTUxQYXJzZXIgOiBBbnlPYmplY3QsIEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCB7CiAgICBwdWJsaWMgc3RhdGljIHZhciBlcnJvckRvbWFpbjogU3RyaW5nIHsgZ2V0IH0KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0Pyhjb250ZW50c09mIHVybDogVVJMKSB7fQogICAgcHVibGljIGluaXQoZGF0YTogRGF0YSkge30KICAgIHB1YmxpYyBpbml0KHN0cmVhbTogSW5wdXRTdHJlYW0pIHt9CiAgICBvcGVuIHZhciBhbGxvd2VkRXh0ZXJuYWxFbnRpdHlVUkxzOiBTZXQ8VVJMPj8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGNvbHVtbk51bWJlcjogSW50IHsgZ2V0IH0KICAgIG9wZW4gd2VhayB2YXIgZGVsZWdhdGU6IFhNTFBhcnNlckRlbGVnYXRlPyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgZXh0ZXJuYWxFbnRpdHlSZXNvbHZpbmdQb2xpY3k6IEV4dGVybmFsRW50aXR5UmVzb2x2aW5nUG9saWN5IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBsaW5lTnVtYmVyOiBJbnQgeyBnZXQgfQogICAgb3BlbiB2YXIgcGFyc2VyRXJyb3I6IEVycm9yPyB7IGdldCB9CiAgICBvcGVuIHZhciBwdWJsaWNJRDogU3RyaW5nPyB7IGdldCB9CiAgICBvcGVuIHZhciBzaG91bGRQcm9jZXNzTmFtZXNwYWNlczogQm9vbCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgc2hvdWxkUmVwb3J0TmFtZXNwYWNlUHJlZml4ZXM6IEJvb2wgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHNob3VsZFJlc29sdmVFeHRlcm5hbEVudGl0aWVzOiBCb29sIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBzeXN0ZW1JRDogU3RyaW5nPyB7IGdldCB9CiAgICBvcGVuIGZ1bmMgYWJvcnRQYXJzaW5nKCkge30KICAgIG9wZW4gZnVuYyBwYXJzZSgpIC0+IEJvb2wge30KfQpwdWJsaWMgcHJvdG9jb2wgQ29udGlndW91c0J5dGVzIHsKICAgIGZ1bmMgd2l0aFVuc2FmZUJ5dGVzPFI+KF8gYm9keTogKFVuc2FmZVJhd0J1ZmZlclBvaW50ZXIpIHRocm93cyAtPiBSKSByZXRocm93cyAtPiBSCn0KcHVibGljIHByb3RvY29sIEN1c3RvbU5TRXJyb3IgOiBFcnJvciB7CiAgICBzdGF0aWMgdmFyIGVycm9yRG9tYWluOiBTdHJpbmcgeyBnZXQgfQogICAgdmFyIGVycm9yQ29kZTogSW50IHsgZ2V0IH0KICAgIHZhciBlcnJvclVzZXJJbmZvOiBbU3RyaW5nOiBBbnldIHsgZ2V0IH0KfQpwdWJsaWMgcHJvdG9jb2wgRGF0YVByb3RvY29sIDogUmFuZG9tQWNjZXNzQ29sbGVjdGlvbiB7CiAgICBhc3NvY2lhdGVkdHlwZSBSZWdpb25zIHdoZXJlIFJlZ2lvbnMuRWxlbWVudCA6IENvbnRpZ3VvdXNCeXRlcyAmIERhdGFQcm90b2NvbCwgUmVnaW9ucy5FbGVtZW50LlN1YlNlcXVlbmNlIDogQ29udGlndW91c0J5dGVzCiAgICB2YXIgcmVnaW9uczogUmVnaW9ucyB7IGdldCB9CiAgICBAZGlzY2FyZGFibGVSZXN1bHQgZnVuYyBjb3B5Qnl0ZXModG8gcHRyOiBVbnNhZmVNdXRhYmxlUmF3QnVmZmVyUG9pbnRlcikgLT4gSW50CiAgICBAZGlzY2FyZGFibGVSZXN1bHQgZnVuYyBjb3B5Qnl0ZXModG86IFVuc2FmZU11dGFibGVSYXdCdWZmZXJQb2ludGVyLCBjb3VudDogSW50KSAtPiBJbnQKICAgIEBkaXNjYXJkYWJsZVJlc3VsdCBmdW5jIGNvcHlCeXRlczxEZXN0aW5hdGlvblR5cGUsIFI+KHRvOiBVbnNhZmVNdXRhYmxlQnVmZmVyUG9pbnRlcjxEZXN0aW5hdGlvblR5cGU+LCBmcm9tOiBSKSAtPiBJbnQgd2hlcmUgUiA6IFJhbmdlRXhwcmVzc2lvbiwgSW5kZXggPT0gUi5Cb3VuZAogICAgZnVuYyBmaXJzdFJhbmdlPEQ+KG9mIGRhdGE6IEQpIC0+IFJhbmdlPEluZGV4Pj8gd2hlcmUgRCA6IERhdGFQcm90b2NvbAogICAgZnVuYyBmaXJzdFJhbmdlPEQsIFI+KG9mOiBELCBpbjogUikgLT4gUmFuZ2U8SW5kZXg+PyB3aGVyZSBEIDogRGF0YVByb3RvY29sLCBSIDogUmFuZ2VFeHByZXNzaW9uLCBJbmRleCA9PSBSLkJvdW5kCiAgICBmdW5jIGxhc3RSYW5nZTxEPihvZiBkYXRhOiBEKSAtPiBSYW5nZTxJbmRleD4/IHdoZXJlIEQgOiBEYXRhUHJvdG9jb2wKICAgIGZ1bmMgbGFzdFJhbmdlPEQsIFI+KG9mOiBELCBpbjogUikgLT4gUmFuZ2U8SW5kZXg+PyB3aGVyZSBEIDogRGF0YVByb3RvY29sLCBSIDogUmFuZ2VFeHByZXNzaW9uLCBJbmRleCA9PSBSLkJvdW5kCn0KcHVibGljIHByb3RvY29sIEZpbGVNYW5hZ2VyRGVsZWdhdGUgOiBBbnlPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wgewogICAgZnVuYyBmaWxlTWFuYWdlcihfIGZpbGVNYW5hZ2VyOiBGaWxlTWFuYWdlciwgc2hvdWxkQ29weUl0ZW1BdCBzcmNVUkw6IFVSTCwgdG8gZHN0VVJMOiBVUkwpIC0+IEJvb2wKICAgIGZ1bmMgZmlsZU1hbmFnZXIoXyBmaWxlTWFuYWdlcjogRmlsZU1hbmFnZXIsIHNob3VsZENvcHlJdGVtQXRQYXRoIHNyY1BhdGg6IFN0cmluZywgdG9QYXRoIGRzdFBhdGg6IFN0cmluZykgLT4gQm9vbAogICAgZnVuYyBmaWxlTWFuYWdlcihfIGZpbGVNYW5hZ2VyOiBGaWxlTWFuYWdlciwgc2hvdWxkTGlua0l0ZW1BdCBzcmNVUkw6IFVSTCwgdG8gZHN0VVJMOiBVUkwpIC0+IEJvb2wKICAgIGZ1bmMgZmlsZU1hbmFnZXIoXyBmaWxlTWFuYWdlcjogRmlsZU1hbmFnZXIsIHNob3VsZExpbmtJdGVtQXRQYXRoIHNyY1BhdGg6IFN0cmluZywgdG9QYXRoIGRzdFBhdGg6IFN0cmluZykgLT4gQm9vbAogICAgZnVuYyBmaWxlTWFuYWdlcihfIGZpbGVNYW5hZ2VyOiBGaWxlTWFuYWdlciwgc2hvdWxkTW92ZUl0ZW1BdCBzcmNVUkw6IFVSTCwgdG8gZHN0VVJMOiBVUkwpIC0+IEJvb2wKICAgIGZ1bmMgZmlsZU1hbmFnZXIoXyBmaWxlTWFuYWdlcjogRmlsZU1hbmFnZXIsIHNob3VsZE1vdmVJdGVtQXRQYXRoIHNyY1BhdGg6IFN0cmluZywgdG9QYXRoIGRzdFBhdGg6IFN0cmluZykgLT4gQm9vbAogICAgZnVuYyBmaWxlTWFuYWdlcihfIGZpbGVNYW5hZ2VyOiBGaWxlTWFuYWdlciwgc2hvdWxkUHJvY2VlZEFmdGVyRXJyb3IgZXJyb3I6IEVycm9yLCBjb3B5aW5nSXRlbUF0IHNyY1VSTDogVVJMLCB0byBkc3RVUkw6IFVSTCkgLT4gQm9vbAogICAgZnVuYyBmaWxlTWFuYWdlcihfIGZpbGVNYW5hZ2VyOiBGaWxlTWFuYWdlciwgc2hvdWxkUHJvY2VlZEFmdGVyRXJyb3IgZXJyb3I6IEVycm9yLCBjb3B5aW5nSXRlbUF0UGF0aCBzcmNQYXRoOiBTdHJpbmcsIHRvUGF0aCBkc3RQYXRoOiBTdHJpbmcpIC0+IEJvb2wKICAgIGZ1bmMgZmlsZU1hbmFnZXIoXyBmaWxlTWFuYWdlcjogRmlsZU1hbmFnZXIsIHNob3VsZFByb2NlZWRBZnRlckVycm9yIGVycm9yOiBFcnJvciwgbGlua2luZ0l0ZW1BdCBzcmNVUkw6IFVSTCwgdG8gZHN0VVJMOiBVUkwpIC0+IEJvb2wKICAgIGZ1bmMgZmlsZU1hbmFnZXIoXyBmaWxlTWFuYWdlcjogRmlsZU1hbmFnZXIsIHNob3VsZFByb2NlZWRBZnRlckVycm9yIGVycm9yOiBFcnJvciwgbGlua2luZ0l0ZW1BdFBhdGggc3JjUGF0aDogU3RyaW5nLCB0b1BhdGggZHN0UGF0aDogU3RyaW5nKSAtPiBCb29sCiAgICBmdW5jIGZpbGVNYW5hZ2VyKF8gZmlsZU1hbmFnZXI6IEZpbGVNYW5hZ2VyLCBzaG91bGRQcm9jZWVkQWZ0ZXJFcnJvciBlcnJvcjogRXJyb3IsIG1vdmluZ0l0ZW1BdCBzcmNVUkw6IFVSTCwgdG8gZHN0VVJMOiBVUkwpIC0+IEJvb2wKICAgIGZ1bmMgZmlsZU1hbmFnZXIoXyBmaWxlTWFuYWdlcjogRmlsZU1hbmFnZXIsIHNob3VsZFByb2NlZWRBZnRlckVycm9yIGVycm9yOiBFcnJvciwgbW92aW5nSXRlbUF0UGF0aCBzcmNQYXRoOiBTdHJpbmcsIHRvUGF0aCBkc3RQYXRoOiBTdHJpbmcpIC0+IEJvb2wKICAgIGZ1bmMgZmlsZU1hbmFnZXIoXyBmaWxlTWFuYWdlcjogRmlsZU1hbmFnZXIsIHNob3VsZFByb2NlZWRBZnRlckVycm9yIGVycm9yOiBFcnJvciwgcmVtb3ZpbmdJdGVtQXQgVVJMOiBVUkwpIC0+IEJvb2wKICAgIGZ1bmMgZmlsZU1hbmFnZXIoXyBmaWxlTWFuYWdlcjogRmlsZU1hbmFnZXIsIHNob3VsZFByb2NlZWRBZnRlckVycm9yIGVycm9yOiBFcnJvciwgcmVtb3ZpbmdJdGVtQXRQYXRoIHBhdGg6IFN0cmluZykgLT4gQm9vbAogICAgZnVuYyBmaWxlTWFuYWdlcihfIGZpbGVNYW5hZ2VyOiBGaWxlTWFuYWdlciwgc2hvdWxkUmVtb3ZlSXRlbUF0IFVSTDogVVJMKSAtPiBCb29sCiAgICBmdW5jIGZpbGVNYW5hZ2VyKF8gZmlsZU1hbmFnZXI6IEZpbGVNYW5hZ2VyLCBzaG91bGRSZW1vdmVJdGVtQXRQYXRoIHBhdGg6IFN0cmluZykgLT4gQm9vbAp9CnB1YmxpYyBwcm90b2NvbCBMb2NhbGl6ZWRFcnJvciA6IEVycm9yIHsKICAgIHZhciBlcnJvckRlc2NyaXB0aW9uOiBTdHJpbmc/IHsgZ2V0IH0KICAgIHZhciBmYWlsdXJlUmVhc29uOiBTdHJpbmc/IHsgZ2V0IH0KICAgIHZhciBoZWxwQW5jaG9yOiBTdHJpbmc/IHsgZ2V0IH0KICAgIHZhciByZWNvdmVyeVN1Z2dlc3Rpb246IFN0cmluZz8geyBnZXQgfQp9CnB1YmxpYyBwcm90b2NvbCBNdXRhYmxlRGF0YVByb3RvY29sIDogRGF0YVByb3RvY29sLCBNdXRhYmxlQ29sbGVjdGlvbiwgUmFuZG9tQWNjZXNzQ29sbGVjdGlvbiwgUmFuZ2VSZXBsYWNlYWJsZUNvbGxlY3Rpb24gewogICAgbXV0YXRpbmcgZnVuYyByZXNldEJ5dGVzPFI+KGluIHJhbmdlOiBSKSB3aGVyZSBSIDogUmFuZ2VFeHByZXNzaW9uLCBJbmRleCA9PSBSLkJvdW5kCn0KcHVibGljIHByb3RvY29sIE5TQ2FjaGVEZWxlZ2F0ZSA6IEFueU9iamVjdCwgTlNPYmplY3RQcm90b2NvbCB7CiAgICBmdW5jIGNhY2hlKF8gY2FjaGU6IE5TQ2FjaGU8QW55T2JqZWN0LCBBbnlPYmplY3Q+LCB3aWxsRXZpY3RPYmplY3Qgb2JqOiBBbnkpCn0KcHVibGljIHByb3RvY29sIE5TQ29kaW5nIHsKICAgIGluaXQ/KGNvZGVyIGFEZWNvZGVyOiBOU0NvZGVyKQogICAgZnVuYyBlbmNvZGUod2l0aCBhQ29kZXI6IE5TQ29kZXIpCn0KcHVibGljIHByb3RvY29sIE5TQ29weWluZyB7CiAgICBmdW5jIGNvcHkoKSAtPiBBbnkKICAgIGZ1bmMgY29weSh3aXRoIHpvbmU6IE5TWm9uZT8pIC0+IEFueQp9CnB1YmxpYyBwcm90b2NvbCBOU0RlY2ltYWxOdW1iZXJCZWhhdmlvcnMgewogICAgZnVuYyByb3VuZGluZ01vZGUoKSAtPiBOU0RlY2ltYWxOdW1iZXIuUm91bmRpbmdNb2RlCiAgICBmdW5jIHNjYWxlKCkgLT4gSW50MTYKfQpwdWJsaWMgcHJvdG9jb2wgTlNLZXllZEFyY2hpdmVyRGVsZWdhdGUgOiBBbnlPYmplY3QgewogICAgZnVuYyBhcmNoaXZlcihfIGFyY2hpdmVyOiBOU0tleWVkQXJjaGl2ZXIsIGRpZEVuY29kZSBvYmplY3Q6IEFueT8pCiAgICBmdW5jIGFyY2hpdmVyKF8gYXJjaGl2ZXI6IE5TS2V5ZWRBcmNoaXZlciwgd2lsbEVuY29kZSBvYmplY3Q6IEFueSkgLT4gQW55PwogICAgZnVuYyBhcmNoaXZlcihfIGFyY2hpdmVyOiBOU0tleWVkQXJjaGl2ZXIsIHdpbGxSZXBsYWNlIG9iamVjdDogQW55Pywgd2l0aE9iamVjdCBuZXdPYmplY3Q6IEFueT8pCiAgICBmdW5jIGFyY2hpdmVyRGlkRmluaXNoKF8gYXJjaGl2ZXI6IE5TS2V5ZWRBcmNoaXZlcikKICAgIGZ1bmMgYXJjaGl2ZXJXaWxsRmluaXNoKF8gYXJjaGl2ZXI6IE5TS2V5ZWRBcmNoaXZlcikKfQpwdWJsaWMgcHJvdG9jb2wgTlNLZXllZFVuYXJjaGl2ZXJEZWxlZ2F0ZSA6IEFueU9iamVjdCB7CiAgICBmdW5jIHVuYXJjaGl2ZXIoXyB1bmFyY2hpdmVyOiBOU0tleWVkVW5hcmNoaXZlciwgY2Fubm90RGVjb2RlT2JqZWN0T2ZDbGFzc05hbWUgbmFtZTogU3RyaW5nLCBvcmlnaW5hbENsYXNzZXMgY2xhc3NOYW1lczogW1N0cmluZ10pIC0+IEFueUNsYXNzPwogICAgZnVuYyB1bmFyY2hpdmVyKF8gdW5hcmNoaXZlcjogTlNLZXllZFVuYXJjaGl2ZXIsIGRpZERlY29kZSBvYmplY3Q6IEFueT8pIC0+IEFueT8KICAgIGZ1bmMgdW5hcmNoaXZlcihfIHVuYXJjaGl2ZXI6IE5TS2V5ZWRVbmFyY2hpdmVyLCB3aWxsUmVwbGFjZSBvYmplY3Q6IEFueSwgd2l0aCBuZXdPYmplY3Q6IEFueSkKICAgIGZ1bmMgdW5hcmNoaXZlckRpZEZpbmlzaChfIHVuYXJjaGl2ZXI6IE5TS2V5ZWRVbmFyY2hpdmVyKQogICAgZnVuYyB1bmFyY2hpdmVyV2lsbEZpbmlzaChfIHVuYXJjaGl2ZXI6IE5TS2V5ZWRVbmFyY2hpdmVyKQp9CnB1YmxpYyBwcm90b2NvbCBOU0xvY2tpbmcgewogICAgZnVuYyBsb2NrKCkKICAgIGZ1bmMgdW5sb2NrKCkKfQpwdWJsaWMgcHJvdG9jb2wgTlNNdXRhYmxlQ29weWluZyB7CiAgICBmdW5jIG11dGFibGVDb3B5KCkgLT4gQW55CiAgICBmdW5jIG11dGFibGVDb3B5KHdpdGggem9uZTogTlNab25lPykgLT4gQW55Cn0KcHVibGljIHByb3RvY29sIE5TT2JqZWN0UHJvdG9jb2wgOiBBbnlPYmplY3QgewogICAgdmFyIGRlYnVnRGVzY3JpcHRpb246IFN0cmluZyB7IGdldCB9CiAgICB2YXIgZGVzY3JpcHRpb246IFN0cmluZyB7IGdldCB9CiAgICB2YXIgaGFzaDogSW50IHsgZ2V0IH0KICAgIGZ1bmMgYHNlbGZgKCkgLT4gU2VsZgogICAgZnVuYyBpc0VxdWFsKF8gb2JqZWN0OiBBbnk/KSAtPiBCb29sCiAgICBmdW5jIGlzUHJveHkoKSAtPiBCb29sCn0KcHVibGljIHByb3RvY29sIE5TU2VjdXJlQ29kaW5nIDogTlNDb2RpbmcgewogICAgc3RhdGljIHZhciBzdXBwb3J0c1NlY3VyZUNvZGluZzogQm9vbCB7IGdldCB9Cn0KcHVibGljIHByb3RvY29sIFBvcnREZWxlZ2F0ZSA6IEFueU9iamVjdCB7CiAgICBmdW5jIGhhbmRsZShfIG1lc3NhZ2U6IFBvcnRNZXNzYWdlKQp9CnB1YmxpYyBwcm90b2NvbCBQcm9ncmVzc1JlcG9ydGluZyA6IEFueU9iamVjdCwgTlNPYmplY3RQcm90b2NvbCB7CiAgICB2YXIgcHJvZ3Jlc3M6IFByb2dyZXNzIHsgZ2V0IH0KfQpwdWJsaWMgcHJvdG9jb2wgUmVjb3ZlcmFibGVFcnJvciA6IEVycm9yIHsKICAgIHZhciByZWNvdmVyeU9wdGlvbnM6IFtTdHJpbmddIHsgZ2V0IH0KICAgIGZ1bmMgYXR0ZW1wdFJlY292ZXJ5KG9wdGlvbkluZGV4IHJlY292ZXJ5T3B0aW9uSW5kZXg6IEludCkgLT4gQm9vbAogICAgZnVuYyBhdHRlbXB0UmVjb3Zlcnkob3B0aW9uSW5kZXggcmVjb3ZlcnlPcHRpb25JbmRleDogSW50LCByZXN1bHRIYW5kbGVyIGhhbmRsZXI6IEBlc2NhcGluZyAoXyByZWNvdmVyZWQ6IEJvb2wpIC0+IFZvaWQpCn0KcHVibGljIHByb3RvY29sIFJlZmVyZW5jZUNvbnZlcnRpYmxlIDogQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEhhc2hhYmxlIHsKICAgIGFzc29jaWF0ZWR0eXBlIFJlZmVyZW5jZVR5cGUKfQpwdWJsaWMgcHJvdG9jb2wgU3RyZWFtRGVsZWdhdGUgOiBBbnlPYmplY3QgewogICAgZnVuYyBzdHJlYW0oXyBhU3RyZWFtOiBTdHJlYW0sIGhhbmRsZSBldmVudENvZGU6IFN0cmVhbS5FdmVudCkKfQpwdWJsaWMgcHJvdG9jb2wgVVJMQXV0aGVudGljYXRpb25DaGFsbGVuZ2VTZW5kZXIgOiBBbnlPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wgewogICAgZnVuYyBjYW5jZWwoXyBjaGFsbGVuZ2U6IFVSTEF1dGhlbnRpY2F0aW9uQ2hhbGxlbmdlKQogICAgZnVuYyBjb250aW51ZVdpdGhvdXRDcmVkZW50aWFsKGZvciBjaGFsbGVuZ2U6IFVSTEF1dGhlbnRpY2F0aW9uQ2hhbGxlbmdlKQogICAgZnVuYyBwZXJmb3JtRGVmYXVsdEhhbmRsaW5nKGZvciBjaGFsbGVuZ2U6IFVSTEF1dGhlbnRpY2F0aW9uQ2hhbGxlbmdlKQogICAgZnVuYyByZWplY3RQcm90ZWN0aW9uU3BhY2VBbmRDb250aW51ZSh3aXRoIGNoYWxsZW5nZTogVVJMQXV0aGVudGljYXRpb25DaGFsbGVuZ2UpCiAgICBmdW5jIHVzZShfIGNyZWRlbnRpYWw6IFVSTENyZWRlbnRpYWwsIGZvciBjaGFsbGVuZ2U6IFVSTEF1dGhlbnRpY2F0aW9uQ2hhbGxlbmdlKQp9CnB1YmxpYyBwcm90b2NvbCBVUkxQcm90b2NvbENsaWVudCA6IEFueU9iamVjdCwgTlNPYmplY3RQcm90b2NvbCB7CiAgICBmdW5jIHVybFByb3RvY29sKF8gcHJvdG9jb2w6IFVSTFByb3RvY29sLCBjYWNoZWRSZXNwb25zZUlzVmFsaWQgY2FjaGVkUmVzcG9uc2U6IENhY2hlZFVSTFJlc3BvbnNlKQogICAgZnVuYyB1cmxQcm90b2NvbChfIHByb3RvY29sOiBVUkxQcm90b2NvbCwgZGlkQ2FuY2VsIGNoYWxsZW5nZTogVVJMQXV0aGVudGljYXRpb25DaGFsbGVuZ2UpCiAgICBmdW5jIHVybFByb3RvY29sKF8gcHJvdG9jb2w6IFVSTFByb3RvY29sLCBkaWRGYWlsV2l0aEVycm9yIGVycm9yOiBFcnJvcikKICAgIGZ1bmMgdXJsUHJvdG9jb2woXyBwcm90b2NvbDogVVJMUHJvdG9jb2wsIGRpZExvYWQgZGF0YTogRGF0YSkKICAgIGZ1bmMgdXJsUHJvdG9jb2woXyBwcm90b2NvbDogVVJMUHJvdG9jb2wsIGRpZFJlY2VpdmUgY2hhbGxlbmdlOiBVUkxBdXRoZW50aWNhdGlvbkNoYWxsZW5nZSkKICAgIGZ1bmMgdXJsUHJvdG9jb2woXyBwcm90b2NvbDogVVJMUHJvdG9jb2wsIGRpZFJlY2VpdmUgcmVzcG9uc2U6IFVSTFJlc3BvbnNlLCBjYWNoZVN0b3JhZ2VQb2xpY3kgcG9saWN5OiBVUkxDYWNoZS5TdG9yYWdlUG9saWN5KQogICAgZnVuYyB1cmxQcm90b2NvbChfIHByb3RvY29sOiBVUkxQcm90b2NvbCwgd2FzUmVkaXJlY3RlZFRvIHJlcXVlc3Q6IFVSTFJlcXVlc3QsIHJlZGlyZWN0UmVzcG9uc2U6IFVSTFJlc3BvbnNlKQogICAgZnVuYyB1cmxQcm90b2NvbERpZEZpbmlzaExvYWRpbmcoXyBwcm90b2NvbDogVVJMUHJvdG9jb2wpCn0KcHVibGljIHByb3RvY29sIFVSTFNlc3Npb25EYXRhRGVsZWdhdGUgOiBBbnlPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wsIFVSTFNlc3Npb25EZWxlZ2F0ZSwgVVJMU2Vzc2lvblRhc2tEZWxlZ2F0ZSB7CiAgICBmdW5jIHVybFNlc3Npb24oXyBzZXNzaW9uOiBVUkxTZXNzaW9uLCBkYXRhVGFzazogVVJMU2Vzc2lvbkRhdGFUYXNrLCBkaWRCZWNvbWUgZG93bmxvYWRUYXNrOiBVUkxTZXNzaW9uRG93bmxvYWRUYXNrKQogICAgZnVuYyB1cmxTZXNzaW9uKF8gc2Vzc2lvbjogVVJMU2Vzc2lvbiwgZGF0YVRhc2s6IFVSTFNlc3Npb25EYXRhVGFzaywgZGlkUmVjZWl2ZSBkYXRhOiBEYXRhKQogICAgZnVuYyB1cmxTZXNzaW9uKF8gc2Vzc2lvbjogVVJMU2Vzc2lvbiwgZGF0YVRhc2s6IFVSTFNlc3Npb25EYXRhVGFzaywgZGlkUmVjZWl2ZSByZXNwb25zZTogVVJMUmVzcG9uc2UsIGNvbXBsZXRpb25IYW5kbGVyOiBAZXNjYXBpbmcgKFVSTFNlc3Npb24uUmVzcG9uc2VEaXNwb3NpdGlvbikgLT4gVm9pZCkKICAgIGZ1bmMgdXJsU2Vzc2lvbihfIHNlc3Npb246IFVSTFNlc3Npb24sIGRhdGFUYXNrOiBVUkxTZXNzaW9uRGF0YVRhc2ssIHdpbGxDYWNoZVJlc3BvbnNlIHByb3Bvc2VkUmVzcG9uc2U6IENhY2hlZFVSTFJlc3BvbnNlLCBjb21wbGV0aW9uSGFuZGxlcjogQGVzY2FwaW5nIChDYWNoZWRVUkxSZXNwb25zZT8pIC0+IFZvaWQpCn0KcHVibGljIHByb3RvY29sIFVSTFNlc3Npb25EZWxlZ2F0ZSA6IEFueU9iamVjdCwgTlNPYmplY3RQcm90b2NvbCB7CiAgICBmdW5jIHVybFNlc3Npb24oXyBzZXNzaW9uOiBVUkxTZXNzaW9uLCBkaWRCZWNvbWVJbnZhbGlkV2l0aEVycm9yIGVycm9yOiBFcnJvcj8pCiAgICBmdW5jIHVybFNlc3Npb24oXyBzZXNzaW9uOiBVUkxTZXNzaW9uLCBkaWRSZWNlaXZlIGNoYWxsZW5nZTogVVJMQXV0aGVudGljYXRpb25DaGFsbGVuZ2UsIGNvbXBsZXRpb25IYW5kbGVyOiBAZXNjYXBpbmcgKFVSTFNlc3Npb24uQXV0aENoYWxsZW5nZURpc3Bvc2l0aW9uLCBVUkxDcmVkZW50aWFsPykgLT4gVm9pZCkKfQpwdWJsaWMgcHJvdG9jb2wgVVJMU2Vzc2lvbkRvd25sb2FkRGVsZWdhdGUgOiBBbnlPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wsIFVSTFNlc3Npb25EZWxlZ2F0ZSwgVVJMU2Vzc2lvblRhc2tEZWxlZ2F0ZSB7CiAgICBmdW5jIHVybFNlc3Npb24oXyBzZXNzaW9uOiBVUkxTZXNzaW9uLCBkb3dubG9hZFRhc2s6IFVSTFNlc3Npb25Eb3dubG9hZFRhc2ssIGRpZEZpbmlzaERvd25sb2FkaW5nVG8gbG9jYXRpb246IFVSTCkKICAgIGZ1bmMgdXJsU2Vzc2lvbihfIHNlc3Npb246IFVSTFNlc3Npb24sIGRvd25sb2FkVGFzazogVVJMU2Vzc2lvbkRvd25sb2FkVGFzaywgZGlkUmVzdW1lQXRPZmZzZXQgZmlsZU9mZnNldDogSW50NjQsIGV4cGVjdGVkVG90YWxCeXRlczogSW50NjQpCiAgICBmdW5jIHVybFNlc3Npb24oXyBzZXNzaW9uOiBVUkxTZXNzaW9uLCBkb3dubG9hZFRhc2s6IFVSTFNlc3Npb25Eb3dubG9hZFRhc2ssIGRpZFdyaXRlRGF0YSBieXRlc1dyaXR0ZW46IEludDY0LCB0b3RhbEJ5dGVzV3JpdHRlbjogSW50NjQsIHRvdGFsQnl0ZXNFeHBlY3RlZFRvV3JpdGU6IEludDY0KQp9CnB1YmxpYyBwcm90b2NvbCBVUkxTZXNzaW9uU3RyZWFtRGVsZWdhdGUgOiBBbnlPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wsIFVSTFNlc3Npb25EZWxlZ2F0ZSwgVVJMU2Vzc2lvblRhc2tEZWxlZ2F0ZSB7CiAgICBmdW5jIHVybFNlc3Npb24oXyBzZXNzaW9uOiBVUkxTZXNzaW9uLCBiZXR0ZXJSb3V0ZURpc2NvdmVyZWRGb3Igc3RyZWFtVGFzazogVVJMU2Vzc2lvblN0cmVhbVRhc2spCiAgICBmdW5jIHVybFNlc3Npb24oXyBzZXNzaW9uOiBVUkxTZXNzaW9uLCByZWFkQ2xvc2VkRm9yIHN0cmVhbVRhc2s6IFVSTFNlc3Npb25TdHJlYW1UYXNrKQogICAgZnVuYyB1cmxTZXNzaW9uKF8gc2Vzc2lvbjogVVJMU2Vzc2lvbiwgc3RyZWFtVGFzazogVVJMU2Vzc2lvblN0cmVhbVRhc2ssIGRpZEJlY29tZSBpbnB1dFN0cmVhbTogSW5wdXRTdHJlYW0sIG91dHB1dFN0cmVhbTogT3V0cHV0U3RyZWFtKQogICAgZnVuYyB1cmxTZXNzaW9uKF8gc2Vzc2lvbjogVVJMU2Vzc2lvbiwgd3JpdGVDbG9zZWRGb3Igc3RyZWFtVGFzazogVVJMU2Vzc2lvblN0cmVhbVRhc2spCn0KcHVibGljIHByb3RvY29sIFVSTFNlc3Npb25UYXNrRGVsZWdhdGUgOiBBbnlPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wsIFVSTFNlc3Npb25EZWxlZ2F0ZSB7CiAgICBmdW5jIHVybFNlc3Npb24oXyBzZXNzaW9uOiBVUkxTZXNzaW9uLCB0YXNrOiBVUkxTZXNzaW9uVGFzaywgZGlkQ29tcGxldGVXaXRoRXJyb3IgZXJyb3I6IEVycm9yPykKICAgIGZ1bmMgdXJsU2Vzc2lvbihfIHNlc3Npb246IFVSTFNlc3Npb24sIHRhc2s6IFVSTFNlc3Npb25UYXNrLCBkaWRSZWNlaXZlIGNoYWxsZW5nZTogVVJMQXV0aGVudGljYXRpb25DaGFsbGVuZ2UsIGNvbXBsZXRpb25IYW5kbGVyOiBAZXNjYXBpbmcgKFVSTFNlc3Npb24uQXV0aENoYWxsZW5nZURpc3Bvc2l0aW9uLCBVUkxDcmVkZW50aWFsPykgLT4gVm9pZCkKICAgIGZ1bmMgdXJsU2Vzc2lvbihfIHNlc3Npb246IFVSTFNlc3Npb24sIHRhc2s6IFVSTFNlc3Npb25UYXNrLCBkaWRTZW5kQm9keURhdGEgYnl0ZXNTZW50OiBJbnQ2NCwgdG90YWxCeXRlc1NlbnQ6IEludDY0LCB0b3RhbEJ5dGVzRXhwZWN0ZWRUb1NlbmQ6IEludDY0KQogICAgZnVuYyB1cmxTZXNzaW9uKF8gc2Vzc2lvbjogVVJMU2Vzc2lvbiwgdGFzazogVVJMU2Vzc2lvblRhc2ssIG5lZWROZXdCb2R5U3RyZWFtIGNvbXBsZXRpb25IYW5kbGVyOiBAZXNjYXBpbmcgKElucHV0U3RyZWFtPykgLT4gVm9pZCkKICAgIGZ1bmMgdXJsU2Vzc2lvbihfIHNlc3Npb246IFVSTFNlc3Npb24sIHRhc2s6IFVSTFNlc3Npb25UYXNrLCB3aWxsQmVnaW5EZWxheWVkUmVxdWVzdCByZXF1ZXN0OiBVUkxSZXF1ZXN0LCBjb21wbGV0aW9uSGFuZGxlcjogQGVzY2FwaW5nIChVUkxTZXNzaW9uLkRlbGF5ZWRSZXF1ZXN0RGlzcG9zaXRpb24sIFVSTFJlcXVlc3Q/KSAtPiBWb2lkKQogICAgZnVuYyB1cmxTZXNzaW9uKF8gc2Vzc2lvbjogVVJMU2Vzc2lvbiwgdGFzazogVVJMU2Vzc2lvblRhc2ssIHdpbGxQZXJmb3JtSFRUUFJlZGlyZWN0aW9uIHJlc3BvbnNlOiBIVFRQVVJMUmVzcG9uc2UsIG5ld1JlcXVlc3QgcmVxdWVzdDogVVJMUmVxdWVzdCwgY29tcGxldGlvbkhhbmRsZXI6IEBlc2NhcGluZyAoVVJMUmVxdWVzdD8pIC0+IFZvaWQpCn0KcHVibGljIHByb3RvY29sIFhNTFBhcnNlckRlbGVnYXRlIDogQW55T2JqZWN0IHsKICAgIGZ1bmMgcGFyc2VyKF8gcGFyc2VyOiBYTUxQYXJzZXIsIGRpZEVuZEVsZW1lbnQgZWxlbWVudE5hbWU6IFN0cmluZywgbmFtZXNwYWNlVVJJOiBTdHJpbmc/LCBxdWFsaWZpZWROYW1lIHFOYW1lOiBTdHJpbmc/KQogICAgZnVuYyBwYXJzZXIoXyBwYXJzZXI6IFhNTFBhcnNlciwgZGlkRW5kTWFwcGluZ1ByZWZpeCBwcmVmaXg6IFN0cmluZykKICAgIGZ1bmMgcGFyc2VyKF8gcGFyc2VyOiBYTUxQYXJzZXIsIGRpZFN0YXJ0RWxlbWVudCBlbGVtZW50TmFtZTogU3RyaW5nLCBuYW1lc3BhY2VVUkk6IFN0cmluZz8sIHF1YWxpZmllZE5hbWUgcU5hbWU6IFN0cmluZz8sIGF0dHJpYnV0ZXMgYXR0cmlidXRlRGljdDogW1N0cmluZzogU3RyaW5nXSkKICAgIGZ1bmMgcGFyc2VyKF8gcGFyc2VyOiBYTUxQYXJzZXIsIGRpZFN0YXJ0TWFwcGluZ1ByZWZpeCBwcmVmaXg6IFN0cmluZywgdG9VUkkgbmFtZXNwYWNlVVJJOiBTdHJpbmcpCiAgICBmdW5jIHBhcnNlcihfIHBhcnNlcjogWE1MUGFyc2VyLCBmb3VuZEF0dHJpYnV0ZURlY2xhcmF0aW9uV2l0aE5hbWUgYXR0cmlidXRlTmFtZTogU3RyaW5nLCBmb3JFbGVtZW50IGVsZW1lbnROYW1lOiBTdHJpbmcsIHR5cGU6IFN0cmluZz8sIGRlZmF1bHRWYWx1ZTogU3RyaW5nPykKICAgIGZ1bmMgcGFyc2VyKF8gcGFyc2VyOiBYTUxQYXJzZXIsIGZvdW5kQ0RBVEEgQ0RBVEFCbG9jazogRGF0YSkKICAgIGZ1bmMgcGFyc2VyKF8gcGFyc2VyOiBYTUxQYXJzZXIsIGZvdW5kQ2hhcmFjdGVycyBzdHJpbmc6IFN0cmluZykKICAgIGZ1bmMgcGFyc2VyKF8gcGFyc2VyOiBYTUxQYXJzZXIsIGZvdW5kQ29tbWVudCBjb21tZW50OiBTdHJpbmcpCiAgICBmdW5jIHBhcnNlcihfIHBhcnNlcjogWE1MUGFyc2VyLCBmb3VuZEVsZW1lbnREZWNsYXJhdGlvbldpdGhOYW1lIGVsZW1lbnROYW1lOiBTdHJpbmcsIG1vZGVsOiBTdHJpbmcpCiAgICBmdW5jIHBhcnNlcihfIHBhcnNlcjogWE1MUGFyc2VyLCBmb3VuZEV4dGVybmFsRW50aXR5RGVjbGFyYXRpb25XaXRoTmFtZSBuYW1lOiBTdHJpbmcsIHB1YmxpY0lEOiBTdHJpbmc/LCBzeXN0ZW1JRDogU3RyaW5nPykKICAgIGZ1bmMgcGFyc2VyKF8gcGFyc2VyOiBYTUxQYXJzZXIsIGZvdW5kSWdub3JhYmxlV2hpdGVzcGFjZSB3aGl0ZXNwYWNlU3RyaW5nOiBTdHJpbmcpCiAgICBmdW5jIHBhcnNlcihfIHBhcnNlcjogWE1MUGFyc2VyLCBmb3VuZEludGVybmFsRW50aXR5RGVjbGFyYXRpb25XaXRoTmFtZSBuYW1lOiBTdHJpbmcsIHZhbHVlOiBTdHJpbmc/KQogICAgZnVuYyBwYXJzZXIoXyBwYXJzZXI6IFhNTFBhcnNlciwgZm91bmROb3RhdGlvbkRlY2xhcmF0aW9uV2l0aE5hbWUgbmFtZTogU3RyaW5nLCBwdWJsaWNJRDogU3RyaW5nPywgc3lzdGVtSUQ6IFN0cmluZz8pCiAgICBmdW5jIHBhcnNlcihfIHBhcnNlcjogWE1MUGFyc2VyLCBmb3VuZFByb2Nlc3NpbmdJbnN0cnVjdGlvbldpdGhUYXJnZXQgdGFyZ2V0OiBTdHJpbmcsIGRhdGE6IFN0cmluZz8pCiAgICBmdW5jIHBhcnNlcihfIHBhcnNlcjogWE1MUGFyc2VyLCBmb3VuZFVucGFyc2VkRW50aXR5RGVjbGFyYXRpb25XaXRoTmFtZSBuYW1lOiBTdHJpbmcsIHB1YmxpY0lEOiBTdHJpbmc/LCBzeXN0ZW1JRDogU3RyaW5nPywgbm90YXRpb25OYW1lOiBTdHJpbmc/KQogICAgZnVuYyBwYXJzZXIoXyBwYXJzZXI6IFhNTFBhcnNlciwgcGFyc2VFcnJvck9jY3VycmVkIHBhcnNlRXJyb3I6IEVycm9yKQogICAgZnVuYyBwYXJzZXIoXyBwYXJzZXI6IFhNTFBhcnNlciwgcmVzb2x2ZUV4dGVybmFsRW50aXR5TmFtZSBuYW1lOiBTdHJpbmcsIHN5c3RlbUlEOiBTdHJpbmc/KSAtPiBEYXRhPwogICAgZnVuYyBwYXJzZXIoXyBwYXJzZXI6IFhNTFBhcnNlciwgdmFsaWRhdGlvbkVycm9yT2NjdXJyZWQgdmFsaWRhdGlvbkVycm9yOiBFcnJvcikKICAgIGZ1bmMgcGFyc2VyRGlkRW5kRG9jdW1lbnQoXyBwYXJzZXI6IFhNTFBhcnNlcikKICAgIGZ1bmMgcGFyc2VyRGlkU3RhcnREb2N1bWVudChfIHBhcnNlcjogWE1MUGFyc2VyKQp9CmV4dGVuc2lvbiBBcnJheSB7Cn0KZXh0ZW5zaW9uIEFycmF5U2xpY2Ugewp9CmV4dGVuc2lvbiBCb29sIHsKICAgIHB1YmxpYyBpbml0PyhleGFjdGx5IG51bWJlcjogTlNOdW1iZXIpIHt9CiAgICBwdWJsaWMgaW5pdCh0cnVuY2F0aW5nIG51bWJlcjogTlNOdW1iZXIpIHt9Cn0KZXh0ZW5zaW9uIENGQXJyYXkgewp9CmV4dGVuc2lvbiBDRkNhbGVuZGFyIHsKfQpleHRlbnNpb24gQ0ZDaGFyYWN0ZXJTZXQgewp9CmV4dGVuc2lvbiBDRkRhdGEgewp9CmV4dGVuc2lvbiBDRkRhdGUgewp9CmV4dGVuc2lvbiBDRkRpY3Rpb25hcnkgewp9CmV4dGVuc2lvbiBDRkVycm9yIHsKfQpleHRlbnNpb24gQ0ZLZXllZEFyY2hpdmVyVUlEIHsKfQpleHRlbnNpb24gQ0ZMb2NhbGUgewp9CmV4dGVuc2lvbiBDRk51bWJlciB7Cn0KZXh0ZW5zaW9uIENGU2V0IHsKfQpleHRlbnNpb24gQ0ZTdHJpbmcgewp9CmV4dGVuc2lvbiBDRlRpbWVab25lIHsKfQpleHRlbnNpb24gQ0ZVUkwgewp9CmV4dGVuc2lvbiBDRlVSTFNlc3Npb25FYXN5Q29kZSB7CiAgICBwdWJsaWMgZnVuYyA9PShsaHM6IENGVVJMU2Vzc2lvbkVhc3lDb2RlLCByaHM6IENGVVJMU2Vzc2lvbkVhc3lDb2RlKSAtPiBCb29sIHt9Cn0KZXh0ZW5zaW9uIENGVVJMU2Vzc2lvbkluZm8gewogICAgcHVibGljIHZhciBkZWJ1Z0hlYWRlcjogU3RyaW5nIHsgZ2V0IH0KICAgIHB1YmxpYyBmdW5jID09KGxoczogQ0ZVUkxTZXNzaW9uSW5mbywgcmhzOiBDRlVSTFNlc3Npb25JbmZvKSAtPiBCb29sIHt9Cn0KZXh0ZW5zaW9uIENGVVJMU2Vzc2lvbk11bHRpQ29kZSB7CiAgICBwdWJsaWMgZnVuYyA9PShsaHM6IENGVVJMU2Vzc2lvbk11bHRpQ29kZSwgcmhzOiBDRlVSTFNlc3Npb25NdWx0aUNvZGUpIC0+IEJvb2wge30KfQpleHRlbnNpb24gQ0ZVUkxTZXNzaW9uUG9sbCB7CiAgICBwdWJsaWMgZnVuYyA9PShsaHM6IENGVVJMU2Vzc2lvblBvbGwsIHJoczogQ0ZVUkxTZXNzaW9uUG9sbCkgLT4gQm9vbCB7fQp9CmV4dGVuc2lvbiBDb2xsZWN0aW9uT2ZPbmUgewp9CmV4dGVuc2lvbiBDb250aWd1b3VzQXJyYXkgewp9CmV4dGVuc2lvbiBEZWNvZGluZ0Vycm9yIHsKfQpleHRlbnNpb24gRGljdGlvbmFyeSB7Cn0KZXh0ZW5zaW9uIERpc3BhdGNoRGF0YSB7Cn0KZXh0ZW5zaW9uIERvdWJsZSB7CiAgICBwdWJsaWMgaW5pdChfIHZhbHVlOiBDR0Zsb2F0KSB7fQogICAgcHVibGljIGluaXQ/KGV4YWN0bHkgbnVtYmVyOiBOU051bWJlcikge30KICAgIHB1YmxpYyBpbml0KHRydW5jYXRpbmcgbnVtYmVyOiBOU051bWJlcikge30KfQpleHRlbnNpb24gRW1wdHlDb2xsZWN0aW9uIHsKfQpleHRlbnNpb24gRW5jb2RpbmdFcnJvciB7Cn0KZXh0ZW5zaW9uIEZsb2F0IHsKICAgIHB1YmxpYyBpbml0KF8gdmFsdWU6IENHRmxvYXQpIHt9CiAgICBwdWJsaWMgaW5pdD8oZXhhY3RseSBudW1iZXI6IE5TTnVtYmVyKSB7fQogICAgcHVibGljIGluaXQodHJ1bmNhdGluZyBudW1iZXI6IE5TTnVtYmVyKSB7fQp9CmV4dGVuc2lvbiBJbnQgewogICAgcHVibGljIGluaXQoXyB2YWx1ZTogQ0dGbG9hdCkge30KICAgIHB1YmxpYyBpbml0PyhleGFjdGx5IG51bWJlcjogTlNOdW1iZXIpIHt9CiAgICBwdWJsaWMgaW5pdCh0cnVuY2F0aW5nIG51bWJlcjogTlNOdW1iZXIpIHt9Cn0KZXh0ZW5zaW9uIEludDE2IHsKICAgIHB1YmxpYyBpbml0KF8gdmFsdWU6IENHRmxvYXQpIHt9CiAgICBwdWJsaWMgaW5pdD8oZXhhY3RseSBudW1iZXI6IE5TTnVtYmVyKSB7fQogICAgcHVibGljIGluaXQodHJ1bmNhdGluZyBudW1iZXI6IE5TTnVtYmVyKSB7fQp9CmV4dGVuc2lvbiBJbnQzMiB7CiAgICBwdWJsaWMgaW5pdChfIHZhbHVlOiBDR0Zsb2F0KSB7fQogICAgcHVibGljIGluaXQ/KGV4YWN0bHkgbnVtYmVyOiBOU051bWJlcikge30KICAgIHB1YmxpYyBpbml0KHRydW5jYXRpbmcgbnVtYmVyOiBOU051bWJlcikge30KfQpleHRlbnNpb24gSW50NjQgewogICAgcHVibGljIGluaXQoXyB2YWx1ZTogQ0dGbG9hdCkge30KICAgIHB1YmxpYyBpbml0PyhleGFjdGx5IG51bWJlcjogTlNOdW1iZXIpIHt9CiAgICBwdWJsaWMgaW5pdCh0cnVuY2F0aW5nIG51bWJlcjogTlNOdW1iZXIpIHt9Cn0KZXh0ZW5zaW9uIEludDggewogICAgcHVibGljIGluaXQoXyB2YWx1ZTogQ0dGbG9hdCkge30KICAgIHB1YmxpYyBpbml0PyhleGFjdGx5IG51bWJlcjogTlNOdW1iZXIpIHt9CiAgICBwdWJsaWMgaW5pdCh0cnVuY2F0aW5nIG51bWJlcjogTlNOdW1iZXIpIHt9Cn0KZXh0ZW5zaW9uIE1lYXN1cmVtZW50IHsKICAgIHB1YmxpYyBpbml0KGZyb20gZGVjb2RlcjogRGVjb2RlcikgdGhyb3dzIHt9CiAgICBwdWJsaWMgdmFyIGN1c3RvbU1pcnJvcjogTWlycm9yIHsgZ2V0IH0KICAgIHB1YmxpYyB2YXIgZGVidWdEZXNjcmlwdGlvbjogU3RyaW5nIHsgZ2V0IH0KICAgIHB1YmxpYyB2YXIgZGVzY3JpcHRpb246IFN0cmluZyB7IGdldCB9CiAgICBwdWJsaWMgZnVuYyAqKGxoczogRG91YmxlLCByaHM6IE1lYXN1cmVtZW50PFVuaXRUeXBlPikgLT4gTWVhc3VyZW1lbnQ8VW5pdFR5cGU+IHt9CiAgICBwdWJsaWMgZnVuYyAqKGxoczogTWVhc3VyZW1lbnQ8VW5pdFR5cGU+LCByaHM6IERvdWJsZSkgLT4gTWVhc3VyZW1lbnQ8VW5pdFR5cGU+IHt9CiAgICBwdWJsaWMgZnVuYyArKGxoczogTWVhc3VyZW1lbnQ8VW5pdFR5cGU+LCByaHM6IE1lYXN1cmVtZW50PFVuaXRUeXBlPikgLT4gTWVhc3VyZW1lbnQ8VW5pdFR5cGU+IHt9CiAgICBwdWJsaWMgZnVuYyAtKGxoczogTWVhc3VyZW1lbnQ8VW5pdFR5cGU+LCByaHM6IE1lYXN1cmVtZW50PFVuaXRUeXBlPikgLT4gTWVhc3VyZW1lbnQ8VW5pdFR5cGU+IHt9CiAgICBwdWJsaWMgZnVuYyAvKGxoczogRG91YmxlLCByaHM6IE1lYXN1cmVtZW50PFVuaXRUeXBlPikgLT4gTWVhc3VyZW1lbnQ8VW5pdFR5cGU+IHt9CiAgICBwdWJsaWMgZnVuYyAvKGxoczogTWVhc3VyZW1lbnQ8VW5pdFR5cGU+LCByaHM6IERvdWJsZSkgLT4gTWVhc3VyZW1lbnQ8VW5pdFR5cGU+IHt9CiAgICBwdWJsaWMgZnVuYyA8PExlZnRIYW5kU2lkZVR5cGUsIFJpZ2h0SGFuZFNpZGVUeXBlPihsaHM6IE1lYXN1cmVtZW50PExlZnRIYW5kU2lkZVR5cGU+LCByaHM6IE1lYXN1cmVtZW50PFJpZ2h0SGFuZFNpZGVUeXBlPikgLT4gQm9vbCB7fQogICAgcHVibGljIGZ1bmMgPT08TGVmdEhhbmRTaWRlVHlwZSwgUmlnaHRIYW5kU2lkZVR5cGU+KGxoczogTWVhc3VyZW1lbnQ8TGVmdEhhbmRTaWRlVHlwZT4sIHJoczogTWVhc3VyZW1lbnQ8UmlnaHRIYW5kU2lkZVR5cGU+KSAtPiBCb29sIHt9CiAgICBwdWJsaWMgZnVuYyBlbmNvZGUodG8gZW5jb2RlcjogRW5jb2RlcikgdGhyb3dzIHt9Cn0KZXh0ZW5zaW9uIE5TRXhwcmVzc2lvbiB7Cn0KZXh0ZW5zaW9uIE9wdGlvbmFsIHsKfQpleHRlbnNpb24gUE9TSVhFcnJvckNvZGUgewp9CmV4dGVuc2lvbiBQZXJzb25OYW1lQ29tcG9uZW50c0Zvcm1hdHRlciB7Cn0KZXh0ZW5zaW9uIFJhbmdlIHsKfQpleHRlbnNpb24gUmVwZWF0ZWQgewp9CmV4dGVuc2lvbiBTZXQgewp9CmV4dGVuc2lvbiBTbGljZSB7Cn0KZXh0ZW5zaW9uIFN0cmluZyB7CiAgICBwdWJsaWMgc3RhdGljIHZhciBhdmFpbGFibGVTdHJpbmdFbmNvZGluZ3M6IFtFbmNvZGluZ10geyBnZXQgfQogICAgcHVibGljIHN0YXRpYyB2YXIgZGVmYXVsdENTdHJpbmdFbmNvZGluZzogRW5jb2RpbmcgeyBnZXQgfQogICAgcHVibGljIHN0YXRpYyBmdW5jIGxvY2FsaXplZE5hbWUob2YgZW5jb2Rpbmc6IEVuY29kaW5nKSAtPiBTdHJpbmcge30KICAgIHB1YmxpYyBzdGF0aWMgZnVuYyBsb2NhbGl6ZWRTdHJpbmdXaXRoRm9ybWF0KF8gZm9ybWF0OiBTdHJpbmcsIF8gYXJndW1lbnRzOiBDVmFyQXJnLi4uKSAtPiBTdHJpbmcge30KICAgIHB1YmxpYyBpbml0PzxTPihieXRlczogX19zaGFyZWQgUywgZW5jb2Rpbmc6IEVuY29kaW5nKSB3aGVyZSBTIDogU2VxdWVuY2UsIFMuSXRlcmF0b3IuRWxlbWVudCA9PSBVSW50OCB7fQogICAgcHVibGljIGluaXQ/KGJ5dGVzTm9Db3B5IGJ5dGVzOiBVbnNhZmVNdXRhYmxlUmF3UG9pbnRlciwgbGVuZ3RoOiBJbnQsIGVuY29kaW5nOiBFbmNvZGluZywgZnJlZVdoZW5Eb25lIGZsYWc6IEJvb2wpIHt9CiAgICBwdWJsaWMgaW5pdD8oY1N0cmluZzogVW5zYWZlUG9pbnRlcjxDQ2hhcj4sIGVuY29kaW5nIGVuYzogRW5jb2RpbmcpIHt9CiAgICBwdWJsaWMgaW5pdChjb250ZW50c09mIHVybDogX19zaGFyZWQgVVJMKSB0aHJvd3Mge30KICAgIHB1YmxpYyBpbml0KGNvbnRlbnRzT2YgdXJsOiBfX3NoYXJlZCBVUkwsIGVuY29kaW5nIGVuYzogRW5jb2RpbmcpIHRocm93cyB7fQogICAgcHVibGljIGluaXQoY29udGVudHNPZiB1cmw6IF9fc2hhcmVkIFVSTCwgdXNlZEVuY29kaW5nOiBpbm91dCBFbmNvZGluZykgdGhyb3dzIHt9CiAgICBwdWJsaWMgaW5pdChjb250ZW50c09mRmlsZSBwYXRoOiBfX3NoYXJlZCBTdHJpbmcpIHRocm93cyB7fQogICAgcHVibGljIGluaXQoY29udGVudHNPZkZpbGUgcGF0aDogX19zaGFyZWQgU3RyaW5nLCBlbmNvZGluZyBlbmM6IEVuY29kaW5nKSB0aHJvd3Mge30KICAgIHB1YmxpYyBpbml0KGNvbnRlbnRzT2ZGaWxlIHBhdGg6IF9fc2hhcmVkIFN0cmluZywgdXNlZEVuY29kaW5nOiBpbm91dCBFbmNvZGluZykgdGhyb3dzIHt9CiAgICBwdWJsaWMgaW5pdD8oZGF0YTogX19zaGFyZWQgRGF0YSwgZW5jb2Rpbmc6IEVuY29kaW5nKSB7fQogICAgcHVibGljIGluaXQoZm9ybWF0OiBfX3NoYXJlZCBTdHJpbmcsIF8gYXJndW1lbnRzOiBDVmFyQXJnLi4uKSB7fQogICAgcHVibGljIGluaXQoZm9ybWF0OiBfX3NoYXJlZCBTdHJpbmcsIGFyZ3VtZW50czogX19zaGFyZWQgW0NWYXJBcmddKSB7fQogICAgcHVibGljIGluaXQoZm9ybWF0OiBfX3NoYXJlZCBTdHJpbmcsIGxvY2FsZTogX19zaGFyZWQgTG9jYWxlPywgXyBhcmdzOiBDVmFyQXJnLi4uKSB7fQogICAgcHVibGljIGluaXQoZm9ybWF0OiBfX3NoYXJlZCBTdHJpbmcsIGxvY2FsZTogX19zaGFyZWQgTG9jYWxlPywgYXJndW1lbnRzOiBfX3NoYXJlZCBbQ1ZhckFyZ10pIHt9CiAgICBwdWJsaWMgaW5pdCh1dGYxNkNvZGVVbml0czogVW5zYWZlUG9pbnRlcjx1bmljaGFyPiwgY291bnQ6IEludCkge30KICAgIHB1YmxpYyBpbml0KHV0ZjE2Q29kZVVuaXRzTm9Db3B5OiBVbnNhZmVQb2ludGVyPHVuaWNoYXI+LCBjb3VudDogSW50LCBmcmVlV2hlbkRvbmUgZmxhZzogQm9vbCkge30KICAgIHB1YmxpYyBpbml0Pyh1dGY4U3RyaW5nIGJ5dGVzOiBVbnNhZmVQb2ludGVyPENDaGFyPikge30KfQpleHRlbnNpb24gU3RyaW5nLkVuY29kaW5nIHsKICAgIHB1YmxpYyB2YXIgZGVzY3JpcHRpb246IFN0cmluZyB7IGdldCB9Cn0KZXh0ZW5zaW9uIFN0cmluZ1Byb3RvY29sIHsKICAgIHB1YmxpYyBmdW5jIGFwcGVuZGluZzxUPihfIGFTdHJpbmc6IFQpIC0+IFN0cmluZyB3aGVyZSBUIDogU3RyaW5nUHJvdG9jb2wsIEluZGV4ID09IFN0cmluZy5JbmRleCB7fQogICAgcHVibGljIGZ1bmMgYXBwZW5kaW5nRm9ybWF0PFQ+KF8gZm9ybWF0OiBULCBfIGFyZ3VtZW50czogQ1ZhckFyZy4uLikgLT4gU3RyaW5nIHdoZXJlIFQgOiBTdHJpbmdQcm90b2NvbCwgSW5kZXggPT0gU3RyaW5nLkluZGV4IHt9CiAgICBwdWJsaWMgZnVuYyBjYXNlSW5zZW5zaXRpdmVDb21wYXJlPFQ+KF8gYVN0cmluZzogVCkgLT4gQ29tcGFyaXNvblJlc3VsdCB3aGVyZSBUIDogU3RyaW5nUHJvdG9jb2wsIEluZGV4ID09IFN0cmluZy5JbmRleCB7fQogICAgcHVibGljIGZ1bmMgY29tbW9uUHJlZml4PFQ+KHdpdGggYVN0cmluZzogVCwgb3B0aW9uczogU3RyaW5nLkNvbXBhcmVPcHRpb25zID0geCkgLT4gU3RyaW5nIHdoZXJlIFQgOiBTdHJpbmdQcm90b2NvbCwgSW5kZXggPT0gU3RyaW5nLkluZGV4IHt9CiAgICBwdWJsaWMgZnVuYyBjb21wYXJlPFQ+KF8gYVN0cmluZzogVCwgb3B0aW9ucyBtYXNrOiBTdHJpbmcuQ29tcGFyZU9wdGlvbnMgPSB4LCByYW5nZTogUmFuZ2U8SW5kZXg+PyA9IHgsIGxvY2FsZTogTG9jYWxlPyA9IHgpIC0+IENvbXBhcmlzb25SZXN1bHQgd2hlcmUgVCA6IFN0cmluZ1Byb3RvY29sLCBJbmRleCA9PSBTdHJpbmcuSW5kZXgge30KICAgIHB1YmxpYyBmdW5jIGNvbXBvbmVudHM8VD4oc2VwYXJhdGVkQnkgc2VwYXJhdG9yOiBUKSAtPiBbU3RyaW5nXSB3aGVyZSBUIDogU3RyaW5nUHJvdG9jb2wsIEluZGV4ID09IFN0cmluZy5JbmRleCB7fQogICAgcHVibGljIGZ1bmMgY29udGFpbnM8VD4oXyBvdGhlcjogVCkgLT4gQm9vbCB3aGVyZSBUIDogU3RyaW5nUHJvdG9jb2wsIEluZGV4ID09IFN0cmluZy5JbmRleCB7fQojaWYgIURFUExPWU1FTlRfUlVOVElNRV9TV0lGVAogICAgcHVibGljIGZ1bmMgZW51bWVyYXRlTGluZ3Vpc3RpY1RhZ3M8VCwgUj4oaW4gcmFuZ2U6IFIsIHNjaGVtZSB0YWdTY2hlbWU6IFQsIG9wdGlvbnMgb3B0czogTlNMaW5ndWlzdGljVGFnZ2VyLk9wdGlvbnMgPSB4LCBvcnRob2dyYXBoeTogTlNPcnRob2dyYXBoeT8gPSB4LCBpbnZva2luZyBib2R5OiAoU3RyaW5nLCBSYW5nZTxJbmRleD4sIFJhbmdlPEluZGV4PiwgaW5vdXQgQm9vbCkgLT4gVm9pZCkgd2hlcmUgUiA6IFJhbmdlRXhwcmVzc2lvbiwgVCA6IFN0cmluZ1Byb3RvY29sLCBJbmRleCA9PSBSLkJvdW5kLCBJbmRleCA9PSBTdHJpbmcuSW5kZXgge30KI2VuZGlmCiAgICBwdWJsaWMgZnVuYyBlbnVtZXJhdGVTdWJzdHJpbmdzPFI+KGluIHJhbmdlOiBSLCBvcHRpb25zIG9wdHM6IFN0cmluZy5FbnVtZXJhdGlvbk9wdGlvbnMgPSB4LCBfIGJvZHk6IEBlc2NhcGluZyAoXyBzdWJzdHJpbmc6IFN0cmluZz8sIF8gc3Vic3RyaW5nUmFuZ2U6IFJhbmdlPEluZGV4PiwgXyBlbmNsb3NpbmdSYW5nZTogUmFuZ2U8SW5kZXg+LCBpbm91dCBCb29sKSAtPiBWb2lkKSB3aGVyZSBSIDogUmFuZ2VFeHByZXNzaW9uLCBJbmRleCA9PSBSLkJvdW5kLCBJbmRleCA9PSBTdHJpbmcuSW5kZXgge30KICAgIHB1YmxpYyBmdW5jIGdldEJ5dGVzPFI+KF8gYnVmZmVyOiBpbm91dCBbVUludDhdLCBtYXhMZW5ndGggbWF4QnVmZmVyQ291bnQ6IEludCwgdXNlZExlbmd0aCB1c2VkQnVmZmVyQ291bnQ6IFVuc2FmZU11dGFibGVQb2ludGVyPEludD4sIGVuY29kaW5nOiBTdHJpbmcuRW5jb2RpbmcsIG9wdGlvbnM6IFN0cmluZy5FbmNvZGluZ0NvbnZlcnNpb25PcHRpb25zID0geCwgcmFuZ2U6IFIsIHJlbWFpbmluZyBsZWZ0b3ZlcjogVW5zYWZlTXV0YWJsZVBvaW50ZXI8UmFuZ2U8SW5kZXg+PikgLT4gQm9vbCB3aGVyZSBSIDogUmFuZ2VFeHByZXNzaW9uLCBJbmRleCA9PSBSLkJvdW5kLCBJbmRleCA9PSBTdHJpbmcuSW5kZXgge30KICAgIHB1YmxpYyBmdW5jIGdldExpbmVTdGFydDxSPihfIHN0YXJ0OiBVbnNhZmVNdXRhYmxlUG9pbnRlcjxJbmRleD4sIGVuZDogVW5zYWZlTXV0YWJsZVBvaW50ZXI8SW5kZXg+LCBjb250ZW50c0VuZDogVW5zYWZlTXV0YWJsZVBvaW50ZXI8SW5kZXg+LCBmb3IgcmFuZ2U6IFIpIHdoZXJlIFIgOiBSYW5nZUV4cHJlc3Npb24sIEluZGV4ID09IFIuQm91bmQsIEluZGV4ID09IFN0cmluZy5JbmRleCB7fQogICAgcHVibGljIGZ1bmMgZ2V0UGFyYWdyYXBoU3RhcnQ8Uj4oXyBzdGFydDogVW5zYWZlTXV0YWJsZVBvaW50ZXI8SW5kZXg+LCBlbmQ6IFVuc2FmZU11dGFibGVQb2ludGVyPEluZGV4PiwgY29udGVudHNFbmQ6IFVuc2FmZU11dGFibGVQb2ludGVyPEluZGV4PiwgZm9yIHJhbmdlOiBSKSB3aGVyZSBSIDogUmFuZ2VFeHByZXNzaW9uLCBJbmRleCA9PSBSLkJvdW5kLCBJbmRleCA9PSBTdHJpbmcuSW5kZXgge30KICAgIHB1YmxpYyBmdW5jIGxpbmVSYW5nZTxSPihmb3IgYVJhbmdlOiBSKSAtPiBSYW5nZTxJbmRleD4gd2hlcmUgUiA6IFJhbmdlRXhwcmVzc2lvbiwgSW5kZXggPT0gUi5Cb3VuZCwgSW5kZXggPT0gU3RyaW5nLkluZGV4IHt9CiNpZiAhREVQTE9ZTUVOVF9SVU5USU1FX1NXSUZUCiAgICBwdWJsaWMgZnVuYyBsaW5ndWlzdGljVGFnczxULCBSPihpbiByYW5nZTogUiwgc2NoZW1lIHRhZ1NjaGVtZTogVCwgb3B0aW9ucyBvcHRzOiBOU0xpbmd1aXN0aWNUYWdnZXIuT3B0aW9ucyA9IHgsIG9ydGhvZ3JhcGh5OiBOU09ydGhvZ3JhcGh5PyA9IHgsIHRva2VuUmFuZ2VzOiBVbnNhZmVNdXRhYmxlUG9pbnRlcjxbUmFuZ2U8SW5kZXg+XT4/ID0geCkgLT4gW1N0cmluZ10gd2hlcmUgUiA6IFJhbmdlRXhwcmVzc2lvbiwgVCA6IFN0cmluZ1Byb3RvY29sLCBJbmRleCA9PSBSLkJvdW5kLCBJbmRleCA9PSBTdHJpbmcuSW5kZXgge30KI2VuZGlmCiAgICBwdWJsaWMgZnVuYyBsb2NhbGl6ZWRDYXNlSW5zZW5zaXRpdmVDb21wYXJlPFQ+KF8gYVN0cmluZzogVCkgLT4gQ29tcGFyaXNvblJlc3VsdCB3aGVyZSBUIDogU3RyaW5nUHJvdG9jb2wsIEluZGV4ID09IFN0cmluZy5JbmRleCB7fQogICAgcHVibGljIGZ1bmMgbG9jYWxpemVkQ2FzZUluc2Vuc2l0aXZlQ29udGFpbnM8VD4oXyBvdGhlcjogVCkgLT4gQm9vbCB3aGVyZSBUIDogU3RyaW5nUHJvdG9jb2wsIEluZGV4ID09IFN0cmluZy5JbmRleCB7fQogICAgcHVibGljIGZ1bmMgbG9jYWxpemVkQ29tcGFyZTxUPihfIGFTdHJpbmc6IFQpIC0+IENvbXBhcmlzb25SZXN1bHQgd2hlcmUgVCA6IFN0cmluZ1Byb3RvY29sLCBJbmRleCA9PSBTdHJpbmcuSW5kZXgge30KICAgIHB1YmxpYyBmdW5jIGxvY2FsaXplZFN0YW5kYXJkQ29tcGFyZTxUPihfIHN0cmluZzogVCkgLT4gQ29tcGFyaXNvblJlc3VsdCB3aGVyZSBUIDogU3RyaW5nUHJvdG9jb2wsIEluZGV4ID09IFN0cmluZy5JbmRleCB7fQogICAgQGF2YWlsYWJsZShtYWNPUyAxMC4xMSwgaU9TIDkuMCwgKikgcHVibGljIGZ1bmMgbG9jYWxpemVkU3RhbmRhcmRDb250YWluczxUPihfIHN0cmluZzogVCkgLT4gQm9vbCB3aGVyZSBUIDogU3RyaW5nUHJvdG9jb2wsIEluZGV4ID09IFN0cmluZy5JbmRleCB7fQogICAgQGF2YWlsYWJsZShtYWNPUyAxMC4xMSwgaU9TIDkuMCwgKikgcHVibGljIGZ1bmMgbG9jYWxpemVkU3RhbmRhcmRSYW5nZTxUPihvZiBzdHJpbmc6IFQpIC0+IFJhbmdlPEluZGV4Pj8gd2hlcmUgVCA6IFN0cmluZ1Byb3RvY29sLCBJbmRleCA9PSBTdHJpbmcuSW5kZXgge30KICAgIHB1YmxpYyBmdW5jIHBhZGRpbmc8VD4odG9MZW5ndGggbmV3TGVuZ3RoOiBJbnQsIHdpdGhQYWQgcGFkU3RyaW5nOiBULCBzdGFydGluZ0F0IHBhZEluZGV4OiBJbnQpIC0+IFN0cmluZyB3aGVyZSBUIDogU3RyaW5nUHJvdG9jb2wsIEluZGV4ID09IFN0cmluZy5JbmRleCB7fQojaWYgIURFUExPWU1FTlRfUlVOVElNRV9TV0lGVAogICAgcHVibGljIGZ1bmMgcGFyYWdyYXBoUmFuZ2U8Uj4oZm9yIGFSYW5nZTogUikgLT4gUmFuZ2U8SW5kZXg+IHdoZXJlIFIgOiBSYW5nZUV4cHJlc3Npb24sIEluZGV4ID09IFIuQm91bmQsIEluZGV4ID09IFN0cmluZy5JbmRleCB7fQojZW5kaWYKICAgIHB1YmxpYyBmdW5jIHJhbmdlPFQ+KG9mIGFTdHJpbmc6IFQsIG9wdGlvbnMgbWFzazogU3RyaW5nLkNvbXBhcmVPcHRpb25zID0geCwgcmFuZ2Ugc2VhcmNoUmFuZ2U6IFJhbmdlPEluZGV4Pj8gPSB4LCBsb2NhbGU6IExvY2FsZT8gPSB4KSAtPiBSYW5nZTxJbmRleD4/IHdoZXJlIFQgOiBTdHJpbmdQcm90b2NvbCwgSW5kZXggPT0gU3RyaW5nLkluZGV4IHt9CiAgICBwdWJsaWMgZnVuYyByYW5nZU9mQ29tcG9zZWRDaGFyYWN0ZXJTZXF1ZW5jZXM8Uj4oZm9yIHJhbmdlOiBSKSAtPiBSYW5nZTxJbmRleD4gd2hlcmUgUiA6IFJhbmdlRXhwcmVzc2lvbiwgSW5kZXggPT0gUi5Cb3VuZCwgSW5kZXggPT0gU3RyaW5nLkluZGV4IHt9CiAgICBwdWJsaWMgZnVuYyByZXBsYWNpbmdDaGFyYWN0ZXJzPFQsIFI+KGluIHJhbmdlOiBSLCB3aXRoIHJlcGxhY2VtZW50OiBUKSAtPiBTdHJpbmcgd2hlcmUgUiA6IFJhbmdlRXhwcmVzc2lvbiwgVCA6IFN0cmluZ1Byb3RvY29sLCBJbmRleCA9PSBSLkJvdW5kLCBJbmRleCA9PSBTdHJpbmcuSW5kZXgge30KICAgIHB1YmxpYyBmdW5jIHJlcGxhY2luZ09jY3VycmVuY2VzPFRhcmdldCwgUmVwbGFjZW1lbnQ+KG9mIHRhcmdldDogVGFyZ2V0LCB3aXRoIHJlcGxhY2VtZW50OiBSZXBsYWNlbWVudCwgb3B0aW9uczogU3RyaW5nLkNvbXBhcmVPcHRpb25zID0geCwgcmFuZ2Ugc2VhcmNoUmFuZ2U6IFJhbmdlPEluZGV4Pj8gPSB4KSAtPiBTdHJpbmcgd2hlcmUgUmVwbGFjZW1lbnQgOiBTdHJpbmdQcm90b2NvbCwgVGFyZ2V0IDogU3RyaW5nUHJvdG9jb2wsIEluZGV4ID09IFN0cmluZy5JbmRleCB7fQogICAgcHVibGljIGZ1bmMgd3JpdGU8VD4odG9GaWxlIHBhdGg6IFQsIGF0b21pY2FsbHkgdXNlQXV4aWxpYXJ5RmlsZTogQm9vbCwgZW5jb2RpbmcgZW5jOiBTdHJpbmcuRW5jb2RpbmcpIHRocm93cyB3aGVyZSBUIDogU3RyaW5nUHJvdG9jb2wsIEluZGV4ID09IFN0cmluZy5JbmRleCB7fQp9CmV4dGVuc2lvbiBVSW50IHsKICAgIHB1YmxpYyBpbml0KF8gdmFsdWU6IENHRmxvYXQpIHt9CiAgICBwdWJsaWMgaW5pdD8oZXhhY3RseSBudW1iZXI6IE5TTnVtYmVyKSB7fQogICAgcHVibGljIGluaXQodHJ1bmNhdGluZyBudW1iZXI6IE5TTnVtYmVyKSB7fQp9CmV4dGVuc2lvbiBVSW50MTYgewogICAgcHVibGljIGluaXQoXyB2YWx1ZTogQ0dGbG9hdCkge30KICAgIHB1YmxpYyBpbml0PyhleGFjdGx5IG51bWJlcjogTlNOdW1iZXIpIHt9CiAgICBwdWJsaWMgaW5pdCh0cnVuY2F0aW5nIG51bWJlcjogTlNOdW1iZXIpIHt9Cn0KZXh0ZW5zaW9uIFVJbnQzMiB7CiAgICBwdWJsaWMgaW5pdChfIHZhbHVlOiBDR0Zsb2F0KSB7fQogICAgcHVibGljIGluaXQ/KGV4YWN0bHkgbnVtYmVyOiBOU051bWJlcikge30KICAgIHB1YmxpYyBpbml0KHRydW5jYXRpbmcgbnVtYmVyOiBOU051bWJlcikge30KfQpleHRlbnNpb24gVUludDY0IHsKICAgIHB1YmxpYyBpbml0KF8gdmFsdWU6IENHRmxvYXQpIHt9CiAgICBwdWJsaWMgaW5pdD8oZXhhY3RseSBudW1iZXI6IE5TTnVtYmVyKSB7fQogICAgcHVibGljIGluaXQodHJ1bmNhdGluZyBudW1iZXI6IE5TTnVtYmVyKSB7fQp9CmV4dGVuc2lvbiBVSW50OCB7CiAgICBwdWJsaWMgaW5pdChfIHZhbHVlOiBDR0Zsb2F0KSB7fQogICAgcHVibGljIGluaXQ/KGV4YWN0bHkgbnVtYmVyOiBOU051bWJlcikge30KICAgIHB1YmxpYyBpbml0KHRydW5jYXRpbmcgbnVtYmVyOiBOU051bWJlcikge30KfQpleHRlbnNpb24gVW5zYWZlQnVmZmVyUG9pbnRlciB7Cn0KZXh0ZW5zaW9uIFVuc2FmZU11dGFibGVCdWZmZXJQb2ludGVyIHsKfQpleHRlbnNpb24gVW5zYWZlTXV0YWJsZVJhd0J1ZmZlclBvaW50ZXIgewp9CmV4dGVuc2lvbiBVbnNhZmVSYXdCdWZmZXJQb2ludGVyIHsKfQ=="
      )!,
      encoding: String.Encoding.utf8
    )!
    static let swift = String(
      data: Data(
        base64Encoded:
          "b3BlbiBjbGFzcyBNYW5hZ2VkQnVmZmVyPEhlYWRlciwgRWxlbWVudD4gewogICAgcHVibGljIHZhciBoZWFkZXI6IEhlYWRlciB7IGdldCBzZXQgfQp9CnB1YmxpYyBwcm90b2NvbCBBZGRpdGl2ZUFyaXRobWV0aWMgOiBFcXVhdGFibGUgewogICAgc3RhdGljIHZhciB6ZXJvOiBTZWxmIHsgZ2V0IH0KICAgIHByZWZpeCBmdW5jICsoeDogU2VsZikgLT4gU2VsZgogICAgZnVuYyArKGxoczogU2VsZiwgcmhzOiBTZWxmKSAtPiBTZWxmCiAgICBmdW5jICs9KGxoczogaW5vdXQgU2VsZiwgcmhzOiBTZWxmKQogICAgZnVuYyAtKGxoczogU2VsZiwgcmhzOiBTZWxmKSAtPiBTZWxmCiAgICBmdW5jIC09KGxoczogaW5vdXQgU2VsZiwgcmhzOiBTZWxmKQp9CnB1YmxpYyBwcm90b2NvbCBCaWRpcmVjdGlvbmFsQ29sbGVjdGlvbiA6IENvbGxlY3Rpb24sIFNlcXVlbmNlIHsKICAgIHZhciBsYXN0OiBFbGVtZW50PyB7IGdldCB9CiAgICBAYXZhaWxhYmxlKG1hY09TIDEwLjE1LCBpT1MgMTMsIHR2T1MgMTMsIHdhdGNoT1MgNiwgKikgZnVuYyBkaWZmZXJlbmNlPEM+KGZyb20gb3RoZXI6IEMpIC0+IENvbGxlY3Rpb25EaWZmZXJlbmNlPEVsZW1lbnQ+IHdoZXJlIEMgOiBCaWRpcmVjdGlvbmFsQ29sbGVjdGlvbiwgRWxlbWVudCA6IEVxdWF0YWJsZSwgQy5FbGVtZW50ID09IEVsZW1lbnQKICAgIEBhdmFpbGFibGUobWFjT1MgMTAuMTUsIGlPUyAxMywgdHZPUyAxMywgd2F0Y2hPUyA2LCAqKSBmdW5jIGRpZmZlcmVuY2U8Qz4oZnJvbSBvdGhlcjogQywgYnkgYXJlRXF1aXZhbGVudDogKEMuRWxlbWVudCwgRWxlbWVudCkgLT4gQm9vbCkgLT4gQ29sbGVjdGlvbkRpZmZlcmVuY2U8RWxlbWVudD4gd2hlcmUgQyA6IEJpZGlyZWN0aW9uYWxDb2xsZWN0aW9uLCBDLkVsZW1lbnQgPT0gRWxlbWVudAogICAgZnVuYyBmb3JtSW5kZXgoYmVmb3JlIGk6IGlub3V0IEluZGV4KQogICAgZnVuYyBpbmRleChiZWZvcmUgaTogSW5kZXgpIC0+IEluZGV4CiAgICBmdW5jIGxhc3Qod2hlcmUgcHJlZGljYXRlOiAoRWxlbWVudCkgdGhyb3dzIC0+IEJvb2wpIHJldGhyb3dzIC0+IEVsZW1lbnQ/CiAgICBmdW5jIGxhc3RJbmRleCh3aGVyZSBwcmVkaWNhdGU6IChFbGVtZW50KSB0aHJvd3MgLT4gQm9vbCkgcmV0aHJvd3MgLT4gSW5kZXg/Cn0KcHVibGljIHByb3RvY29sIEJpbmFyeUZsb2F0aW5nUG9pbnQgOiBBZGRpdGl2ZUFyaXRobWV0aWMsIENvbXBhcmFibGUsIEVxdWF0YWJsZSwgRXhwcmVzc2libGVCeUZsb2F0TGl0ZXJhbCwgRXhwcmVzc2libGVCeUludGVnZXJMaXRlcmFsLCBGbG9hdGluZ1BvaW50LCBIYXNoYWJsZSwgTnVtZXJpYywgU2lnbmVkTnVtZXJpYywgU3RyaWRlYWJsZSB7CiAgICBhc3NvY2lhdGVkdHlwZSBSYXdFeHBvbmVudAogICAgYXNzb2NpYXRlZHR5cGUgUmF3U2lnbmlmaWNhbmQKICAgIHN0YXRpYyB2YXIgZXhwb25lbnRCaXRDb3VudDogSW50IHsgZ2V0IH0KICAgIHN0YXRpYyB2YXIgc2lnbmlmaWNhbmRCaXRDb3VudDogSW50IHsgZ2V0IH0KICAgIHN0YXRpYyBmdW5jIHJhbmRvbTxUPihpbiByYW5nZTogQ2xvc2VkUmFuZ2U8U2VsZj4sIHVzaW5nIGdlbmVyYXRvcjogaW5vdXQgVCkgLT4gU2VsZiB3aGVyZSBSYXdTaWduaWZpY2FuZCA6IEZpeGVkV2lkdGhJbnRlZ2VyLCBUIDogUmFuZG9tTnVtYmVyR2VuZXJhdG9yCiAgICBzdGF0aWMgZnVuYyByYW5kb208VD4oaW4gcmFuZ2U6IFJhbmdlPFNlbGY+LCB1c2luZyBnZW5lcmF0b3I6IGlub3V0IFQpIC0+IFNlbGYgd2hlcmUgUmF3U2lnbmlmaWNhbmQgOiBGaXhlZFdpZHRoSW50ZWdlciwgVCA6IFJhbmRvbU51bWJlckdlbmVyYXRvcgogICAgaW5pdChzaWduOiBGbG9hdGluZ1BvaW50U2lnbiwgZXhwb25lbnRCaXRQYXR0ZXJuOiBSYXdFeHBvbmVudCwgc2lnbmlmaWNhbmRCaXRQYXR0ZXJuOiBSYXdTaWduaWZpY2FuZCkKICAgIHZhciBiaW5hZGU6IFNlbGYgeyBnZXQgfQogICAgdmFyIGV4cG9uZW50Qml0UGF0dGVybjogUmF3RXhwb25lbnQgeyBnZXQgfQogICAgdmFyIHNpZ25pZmljYW5kQml0UGF0dGVybjogUmF3U2lnbmlmaWNhbmQgeyBnZXQgfQogICAgdmFyIHNpZ25pZmljYW5kV2lkdGg6IEludCB7IGdldCB9Cn0KcHVibGljIHByb3RvY29sIEJpbmFyeUludGVnZXIgOiBBZGRpdGl2ZUFyaXRobWV0aWMsIENvbXBhcmFibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEV4cHJlc3NpYmxlQnlJbnRlZ2VyTGl0ZXJhbCwgSGFzaGFibGUsIE51bWVyaWMsIFN0cmlkZWFibGUgewogICAgYXNzb2NpYXRlZHR5cGUgV29yZHMgd2hlcmUgSW50ID09IFdvcmRzLkluZGV4LCBVSW50ID09IFdvcmRzLkVsZW1lbnQKICAgIHN0YXRpYyB2YXIgaXNTaWduZWQ6IEJvb2wgeyBnZXQgfQogICAgaW5pdCgpCiAgICBpbml0PFQ+KF8gc291cmNlOiBUKSB3aGVyZSBUIDogQmluYXJ5RmxvYXRpbmdQb2ludAogICAgaW5pdDxUPihfIHNvdXJjZTogVCkgd2hlcmUgVCA6IEJpbmFyeUludGVnZXIKICAgIGluaXQ8VD4oY2xhbXBpbmcgc291cmNlOiBUKSB3aGVyZSBUIDogQmluYXJ5SW50ZWdlcgogICAgaW5pdDxUPih0cnVuY2F0aW5nSWZOZWVkZWQgc291cmNlOiBUKSB3aGVyZSBUIDogQmluYXJ5SW50ZWdlcgogICAgdmFyIGJpdFdpZHRoOiBJbnQgeyBnZXQgfQogICAgdmFyIHRyYWlsaW5nWmVyb0JpdENvdW50OiBJbnQgeyBnZXQgfQogICAgdmFyIHdvcmRzOiBXb3JkcyB7IGdldCB9CiAgICBmdW5jICUobGhzOiBTZWxmLCByaHM6IFNlbGYpIC0+IFNlbGYKICAgIGZ1bmMgJT0obGhzOiBpbm91dCBTZWxmLCByaHM6IFNlbGYpCiAgICBmdW5jICYobGhzOiBTZWxmLCByaHM6IFNlbGYpIC0+IFNlbGYKICAgIGZ1bmMgJj0obGhzOiBpbm91dCBTZWxmLCByaHM6IFNlbGYpCiAgICBmdW5jIC8obGhzOiBTZWxmLCByaHM6IFNlbGYpIC0+IFNlbGYKICAgIGZ1bmMgLz0obGhzOiBpbm91dCBTZWxmLCByaHM6IFNlbGYpCiAgICBmdW5jIDw8PFJIUz4obGhzOiBTZWxmLCByaHM6IFJIUykgLT4gU2VsZiB3aGVyZSBSSFMgOiBCaW5hcnlJbnRlZ2VyCiAgICBmdW5jIDw8PTxSSFM+KGxoczogaW5vdXQgU2VsZiwgcmhzOiBSSFMpIHdoZXJlIFJIUyA6IEJpbmFyeUludGVnZXIKICAgIGZ1bmMgPj48UkhTPihsaHM6IFNlbGYsIHJoczogUkhTKSAtPiBTZWxmIHdoZXJlIFJIUyA6IEJpbmFyeUludGVnZXIKICAgIGZ1bmMgPj49PFJIUz4obGhzOiBpbm91dCBTZWxmLCByaHM6IFJIUykgd2hlcmUgUkhTIDogQmluYXJ5SW50ZWdlcgogICAgZnVuYyBeKGxoczogU2VsZiwgcmhzOiBTZWxmKSAtPiBTZWxmCiAgICBmdW5jIF49KGxoczogaW5vdXQgU2VsZiwgcmhzOiBTZWxmKQogICAgZnVuYyBpc011bHRpcGxlKG9mIG90aGVyOiBTZWxmKSAtPiBCb29sCiAgICBmdW5jIHF1b3RpZW50QW5kUmVtYWluZGVyKGRpdmlkaW5nQnkgcmhzOiBTZWxmKSAtPiAocXVvdGllbnQ6IFNlbGYsIHJlbWFpbmRlcjogU2VsZikKICAgIGZ1bmMgcXVvdGllbnRBbmRSZW1haW5kZXIoZGl2aWRpbmdCeSByaHM6IFNlbGYpIC0+IChxdW90aWVudDogU2VsZiwgcmVtYWluZGVyOiBTZWxmKQogICAgZnVuYyBzaWdudW0oKSAtPiBTZWxmCiAgICBmdW5jIHwobGhzOiBTZWxmLCByaHM6IFNlbGYpIC0+IFNlbGYKICAgIGZ1bmMgfD0obGhzOiBpbm91dCBTZWxmLCByaHM6IFNlbGYpCiAgICBwcmVmaXggZnVuYyB+KHg6IFNlbGYpIC0+IFNlbGYKfQpwdWJsaWMgcHJvdG9jb2wgQ1ZhckFyZyB7Cn0KcHVibGljIHByb3RvY29sIENhc2VJdGVyYWJsZSB7CiAgICBhc3NvY2lhdGVkdHlwZSBBbGxDYXNlcyB3aGVyZSBBbGxDYXNlcy5FbGVtZW50ID09IFNlbGYKICAgIHN0YXRpYyB2YXIgYWxsQ2FzZXM6IEFsbENhc2VzIHsgZ2V0IH0KfQpwdWJsaWMgcHJvdG9jb2wgQ29kaW5nS2V5IDogQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUgewogICAgaW5pdD8oaW50VmFsdWU6IEludCkKICAgIGluaXQ/KHN0cmluZ1ZhbHVlOiBTdHJpbmcpCiAgICB2YXIgaW50VmFsdWU6IEludD8geyBnZXQgfQogICAgdmFyIHN0cmluZ1ZhbHVlOiBTdHJpbmcgeyBnZXQgfQp9CnB1YmxpYyBwcm90b2NvbCBDb2xsZWN0aW9uIDogU2VxdWVuY2UgewogICAgYXNzb2NpYXRlZHR5cGUgSW5kZXgKICAgIGFzc29jaWF0ZWR0eXBlIEluZGljZXMgd2hlcmUgSW5kZXggPT0gSW5kaWNlcy5FbGVtZW50LCBJbmRleCA9PSBJbmRpY2VzLkluZGV4LCBJbmRpY2VzID09IEluZGljZXMuU3ViU2VxdWVuY2UKICAgIGFzc29jaWF0ZWR0eXBlIFN1YlNlcXVlbmNlIHdoZXJlIEVsZW1lbnQgPT0gU3ViU2VxdWVuY2UuRWxlbWVudCwgSW5kZXggPT0gU3ViU2VxdWVuY2UuSW5kZXgsIFN1YlNlcXVlbmNlID09IFN1YlNlcXVlbmNlLlN1YlNlcXVlbmNlCiAgICB2YXIgY291bnQ6IEludCB7IGdldCB9CiAgICB2YXIgZW5kSW5kZXg6IEluZGV4IHsgZ2V0IH0KICAgIHZhciBmaXJzdDogRWxlbWVudD8geyBnZXQgfQogICAgdmFyIGluZGljZXM6IEluZGljZXMgeyBnZXQgfQogICAgdmFyIGlzRW1wdHk6IEJvb2wgeyBnZXQgfQogICAgdmFyIGlzRW1wdHk6IEJvb2wgeyBnZXQgfQogICAgdmFyIHN0YXJ0SW5kZXg6IEluZGV4IHsgZ2V0IH0KICAgIHN1YnNjcmlwdChib3VuZHM6IFJhbmdlPEluZGV4PikgLT4gU3ViU2VxdWVuY2UgeyBnZXQgfQogICAgc3Vic2NyaXB0KHBvc2l0aW9uOiBJbmRleCkgLT4gRWxlbWVudCB7IGdldCB9CiAgICBzdWJzY3JpcHQoeDogVW5ib3VuZGVkUmFuZ2UpIC0+IFN1YlNlcXVlbmNlIHsgZ2V0IH0KICAgIHN1YnNjcmlwdDxSPihyOiBSKSAtPiBTdWJTZXF1ZW5jZSB3aGVyZSBSIDogUmFuZ2VFeHByZXNzaW9uLCBJbmRleCA9PSBSLkJvdW5kIHsgZ2V0IH0KICAgIGZ1bmMgZGlzdGFuY2UoZnJvbSBzdGFydDogSW5kZXgsIHRvIGVuZDogSW5kZXgpIC0+IEludAogICAgZnVuYyBmaXJzdEluZGV4KHdoZXJlIHByZWRpY2F0ZTogKEVsZW1lbnQpIHRocm93cyAtPiBCb29sKSByZXRocm93cyAtPiBJbmRleD8KICAgIGZ1bmMgZm9ybUluZGV4KF8gaTogaW5vdXQgSW5kZXgsIG9mZnNldEJ5IGRpc3RhbmNlOiBJbnQpCiAgICBmdW5jIGZvcm1JbmRleChfIGk6IGlub3V0IEluZGV4LCBvZmZzZXRCeSBkaXN0YW5jZTogSW50LCBsaW1pdGVkQnkgbGltaXQ6IEluZGV4KSAtPiBCb29sCiAgICBmdW5jIGZvcm1JbmRleChhZnRlciBpOiBpbm91dCBJbmRleCkKICAgIGZ1bmMgaW5kZXgoXyBpOiBJbmRleCwgb2Zmc2V0QnkgZGlzdGFuY2U6IEludCkgLT4gSW5kZXgKICAgIGZ1bmMgaW5kZXgoXyBpOiBJbmRleCwgb2Zmc2V0QnkgZGlzdGFuY2U6IEludCwgbGltaXRlZEJ5IGxpbWl0OiBJbmRleCkgLT4gSW5kZXg/CiAgICBmdW5jIGluZGV4KGFmdGVyIGk6IEluZGV4KSAtPiBJbmRleAogICAgZnVuYyBwcmVmaXgodGhyb3VnaCBwb3NpdGlvbjogSW5kZXgpIC0+IFN1YlNlcXVlbmNlCiAgICBmdW5jIHByZWZpeCh1cFRvIGVuZDogSW5kZXgpIC0+IFN1YlNlcXVlbmNlCiAgICBmdW5jIHJhbmRvbUVsZW1lbnQoKSAtPiBFbGVtZW50PwogICAgZnVuYyByYW5kb21FbGVtZW50PFQ+KHVzaW5nIGdlbmVyYXRvcjogaW5vdXQgVCkgLT4gRWxlbWVudD8gd2hlcmUgVCA6IFJhbmRvbU51bWJlckdlbmVyYXRvcgogICAgZnVuYyBzdWZmaXgoZnJvbSBzdGFydDogSW5kZXgpIC0+IFN1YlNlcXVlbmNlCn0KcHVibGljIHByb3RvY29sIENvbXBhcmFibGUgOiBFcXVhdGFibGUgewogICAgcG9zdGZpeCBmdW5jIC4uLihtaW5pbXVtOiBTZWxmKSAtPiBQYXJ0aWFsUmFuZ2VGcm9tPFNlbGY+CiAgICBwcmVmaXggZnVuYyAuLi4obWF4aW11bTogU2VsZikgLT4gUGFydGlhbFJhbmdlVGhyb3VnaDxTZWxmPgogICAgZnVuYyAuLi4obWluaW11bTogU2VsZiwgbWF4aW11bTogU2VsZikgLT4gQ2xvc2VkUmFuZ2U8U2VsZj4KICAgIHByZWZpeCBmdW5jIC4uPChtYXhpbXVtOiBTZWxmKSAtPiBQYXJ0aWFsUmFuZ2VVcFRvPFNlbGY+CiAgICBmdW5jIC4uPChtaW5pbXVtOiBTZWxmLCBtYXhpbXVtOiBTZWxmKSAtPiBSYW5nZTxTZWxmPgogICAgZnVuYyA8KGxoczogU2VsZiwgcmhzOiBTZWxmKSAtPiBCb29sCiAgICBmdW5jIDw9KGxoczogU2VsZiwgcmhzOiBTZWxmKSAtPiBCb29sCiAgICBmdW5jIDw9KGxoczogU2VsZiwgcmhzOiBTZWxmKSAtPiBCb29sCiAgICBmdW5jID4obGhzOiBTZWxmLCByaHM6IFNlbGYpIC0+IEJvb2wKICAgIGZ1bmMgPihsaHM6IFNlbGYsIHJoczogU2VsZikgLT4gQm9vbAogICAgZnVuYyA+PShsaHM6IFNlbGYsIHJoczogU2VsZikgLT4gQm9vbAogICAgZnVuYyA+PShsaHM6IFNlbGYsIHJoczogU2VsZikgLT4gQm9vbAp9CnB1YmxpYyBwcm90b2NvbCBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlIHsKICAgIHZhciBkZWJ1Z0Rlc2NyaXB0aW9uOiBTdHJpbmcgeyBnZXQgfQp9CnB1YmxpYyBwcm90b2NvbCBDdXN0b21MZWFmUmVmbGVjdGFibGUgOiBDdXN0b21SZWZsZWN0YWJsZSB7Cn0KcHVibGljIHByb3RvY29sIEN1c3RvbVBsYXlncm91bmREaXNwbGF5Q29udmVydGlibGUgewogICAgdmFyIHBsYXlncm91bmREZXNjcmlwdGlvbjogQW55IHsgZ2V0IH0KfQpwdWJsaWMgcHJvdG9jb2wgQ3VzdG9tUmVmbGVjdGFibGUgewogICAgdmFyIGN1c3RvbU1pcnJvcjogTWlycm9yIHsgZ2V0IH0KfQpwdWJsaWMgcHJvdG9jb2wgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUgewogICAgdmFyIGRlc2NyaXB0aW9uOiBTdHJpbmcgeyBnZXQgfQp9CnB1YmxpYyBwcm90b2NvbCBEZWNvZGFibGUgewogICAgaW5pdChmcm9tIGRlY29kZXI6IERlY29kZXIpIHRocm93cwp9CnB1YmxpYyBwcm90b2NvbCBEZWNvZGVyIHsKICAgIHZhciBjb2RpbmdQYXRoOiBbQ29kaW5nS2V5XSB7IGdldCB9CiAgICB2YXIgdXNlckluZm86IFtDb2RpbmdVc2VySW5mb0tleTogQW55XSB7IGdldCB9CiAgICBmdW5jIGNvbnRhaW5lcjxLZXk+KGtleWVkQnkgdHlwZTogS2V5LlR5cGUpIHRocm93cyAtPiBLZXllZERlY29kaW5nQ29udGFpbmVyPEtleT4KICAgIGZ1bmMgc2luZ2xlVmFsdWVDb250YWluZXIoKSB0aHJvd3MgLT4gU2luZ2xlVmFsdWVEZWNvZGluZ0NvbnRhaW5lcgogICAgZnVuYyB1bmtleWVkQ29udGFpbmVyKCkgdGhyb3dzIC0+IFVua2V5ZWREZWNvZGluZ0NvbnRhaW5lcgp9CnB1YmxpYyBwcm90b2NvbCBFbmNvZGFibGUgewogICAgZnVuYyBlbmNvZGUodG8gZW5jb2RlcjogRW5jb2RlcikgdGhyb3dzCn0KcHVibGljIHByb3RvY29sIEVuY29kZXIgewogICAgdmFyIGNvZGluZ1BhdGg6IFtDb2RpbmdLZXldIHsgZ2V0IH0KICAgIHZhciB1c2VySW5mbzogW0NvZGluZ1VzZXJJbmZvS2V5OiBBbnldIHsgZ2V0IH0KICAgIGZ1bmMgY29udGFpbmVyPEtleT4oa2V5ZWRCeSB0eXBlOiBLZXkuVHlwZSkgLT4gS2V5ZWRFbmNvZGluZ0NvbnRhaW5lcjxLZXk+CiAgICBmdW5jIHNpbmdsZVZhbHVlQ29udGFpbmVyKCkgLT4gU2luZ2xlVmFsdWVFbmNvZGluZ0NvbnRhaW5lcgogICAgZnVuYyB1bmtleWVkQ29udGFpbmVyKCkgLT4gVW5rZXllZEVuY29kaW5nQ29udGFpbmVyCn0KcHVibGljIHByb3RvY29sIEVxdWF0YWJsZSB7CiAgICBmdW5jICE9KGxoczogU2VsZiwgcmhzOiBTZWxmKSAtPiBCb29sCiAgICBmdW5jID09KGxoczogU2VsZiwgcmhzOiBTZWxmKSAtPiBCb29sCn0KcHVibGljIHByb3RvY29sIEVycm9yIHsKfQpwdWJsaWMgcHJvdG9jb2wgRXhwcmVzc2libGVCeUFycmF5TGl0ZXJhbCB7CiAgICBhc3NvY2lhdGVkdHlwZSBBcnJheUxpdGVyYWxFbGVtZW50CiAgICBpbml0KGFycmF5TGl0ZXJhbCBlbGVtZW50czogQXJyYXlMaXRlcmFsRWxlbWVudC4uLikKfQpwdWJsaWMgcHJvdG9jb2wgRXhwcmVzc2libGVCeUJvb2xlYW5MaXRlcmFsIHsKICAgIGFzc29jaWF0ZWR0eXBlIEJvb2xlYW5MaXRlcmFsVHlwZQogICAgaW5pdChib29sZWFuTGl0ZXJhbCB2YWx1ZTogQm9vbGVhbkxpdGVyYWxUeXBlKQp9CnB1YmxpYyBwcm90b2NvbCBFeHByZXNzaWJsZUJ5RGljdGlvbmFyeUxpdGVyYWwgewogICAgYXNzb2NpYXRlZHR5cGUgS2V5CiAgICBhc3NvY2lhdGVkdHlwZSBWYWx1ZQogICAgaW5pdChkaWN0aW9uYXJ5TGl0ZXJhbCBlbGVtZW50czogKEtleSwgVmFsdWUpLi4uKQp9CnB1YmxpYyBwcm90b2NvbCBFeHByZXNzaWJsZUJ5RXh0ZW5kZWRHcmFwaGVtZUNsdXN0ZXJMaXRlcmFsIDogRXhwcmVzc2libGVCeVVuaWNvZGVTY2FsYXJMaXRlcmFsIHsKICAgIGFzc29jaWF0ZWR0eXBlIEV4dGVuZGVkR3JhcGhlbWVDbHVzdGVyTGl0ZXJhbFR5cGUKICAgIGluaXQoZXh0ZW5kZWRHcmFwaGVtZUNsdXN0ZXJMaXRlcmFsIHZhbHVlOiBFeHRlbmRlZEdyYXBoZW1lQ2x1c3RlckxpdGVyYWxUeXBlKQp9CnB1YmxpYyBwcm90b2NvbCBFeHByZXNzaWJsZUJ5RmxvYXRMaXRlcmFsIHsKICAgIGFzc29jaWF0ZWR0eXBlIEZsb2F0TGl0ZXJhbFR5cGUKICAgIGluaXQoZmxvYXRMaXRlcmFsIHZhbHVlOiBGbG9hdExpdGVyYWxUeXBlKQp9CnB1YmxpYyBwcm90b2NvbCBFeHByZXNzaWJsZUJ5SW50ZWdlckxpdGVyYWwgewogICAgYXNzb2NpYXRlZHR5cGUgSW50ZWdlckxpdGVyYWxUeXBlCiAgICBpbml0KGludGVnZXJMaXRlcmFsIHZhbHVlOiBJbnRlZ2VyTGl0ZXJhbFR5cGUpCn0KcHVibGljIHByb3RvY29sIEV4cHJlc3NpYmxlQnlOaWxMaXRlcmFsIHsKICAgIGluaXQobmlsTGl0ZXJhbDogVm9pZCkKfQpwdWJsaWMgcHJvdG9jb2wgRXhwcmVzc2libGVCeVN0cmluZ0ludGVycG9sYXRpb24gOiBFeHByZXNzaWJsZUJ5RXh0ZW5kZWRHcmFwaGVtZUNsdXN0ZXJMaXRlcmFsLCBFeHByZXNzaWJsZUJ5U3RyaW5nTGl0ZXJhbCwgRXhwcmVzc2libGVCeVVuaWNvZGVTY2FsYXJMaXRlcmFsIHsKICAgIGFzc29jaWF0ZWR0eXBlIFN0cmluZ0ludGVycG9sYXRpb24gd2hlcmUgU3RyaW5nSW50ZXJwb2xhdGlvbi5TdHJpbmdMaXRlcmFsVHlwZSA9PSBTdHJpbmdMaXRlcmFsVHlwZQogICAgaW5pdChzdHJpbmdJbnRlcnBvbGF0aW9uOiBTdHJpbmdJbnRlcnBvbGF0aW9uKQp9CnB1YmxpYyBwcm90b2NvbCBFeHByZXNzaWJsZUJ5U3RyaW5nTGl0ZXJhbCA6IEV4cHJlc3NpYmxlQnlFeHRlbmRlZEdyYXBoZW1lQ2x1c3RlckxpdGVyYWwsIEV4cHJlc3NpYmxlQnlVbmljb2RlU2NhbGFyTGl0ZXJhbCB7CiAgICBhc3NvY2lhdGVkdHlwZSBTdHJpbmdMaXRlcmFsVHlwZQogICAgaW5pdChzdHJpbmdMaXRlcmFsIHZhbHVlOiBTdHJpbmdMaXRlcmFsVHlwZSkKfQpwdWJsaWMgcHJvdG9jb2wgRXhwcmVzc2libGVCeVVuaWNvZGVTY2FsYXJMaXRlcmFsIHsKICAgIGFzc29jaWF0ZWR0eXBlIFVuaWNvZGVTY2FsYXJMaXRlcmFsVHlwZQogICAgaW5pdCh1bmljb2RlU2NhbGFyTGl0ZXJhbCB2YWx1ZTogVW5pY29kZVNjYWxhckxpdGVyYWxUeXBlKQp9CnB1YmxpYyBwcm90b2NvbCBGaXhlZFdpZHRoSW50ZWdlciA6IEFkZGl0aXZlQXJpdGhtZXRpYywgQmluYXJ5SW50ZWdlciwgQ29tcGFyYWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgRXhwcmVzc2libGVCeUludGVnZXJMaXRlcmFsLCBIYXNoYWJsZSwgTG9zc2xlc3NTdHJpbmdDb252ZXJ0aWJsZSwgTnVtZXJpYywgU3RyaWRlYWJsZSB7CiAgICBzdGF0aWMgdmFyIGJpdFdpZHRoOiBJbnQgeyBnZXQgfQogICAgc3RhdGljIHZhciBtYXg6IFNlbGYgeyBnZXQgfQogICAgc3RhdGljIHZhciBtaW46IFNlbGYgeyBnZXQgfQogICAgc3RhdGljIGZ1bmMgcmFuZG9tKGluIHJhbmdlOiBDbG9zZWRSYW5nZTxTZWxmPikgLT4gU2VsZgogICAgc3RhdGljIGZ1bmMgcmFuZG9tKGluIHJhbmdlOiBSYW5nZTxTZWxmPikgLT4gU2VsZgogICAgc3RhdGljIGZ1bmMgcmFuZG9tPFQ+KGluIHJhbmdlOiBDbG9zZWRSYW5nZTxTZWxmPiwgdXNpbmcgZ2VuZXJhdG9yOiBpbm91dCBUKSAtPiBTZWxmIHdoZXJlIFQgOiBSYW5kb21OdW1iZXJHZW5lcmF0b3IKICAgIHN0YXRpYyBmdW5jIHJhbmRvbTxUPihpbiByYW5nZTogUmFuZ2U8U2VsZj4sIHVzaW5nIGdlbmVyYXRvcjogaW5vdXQgVCkgLT4gU2VsZiB3aGVyZSBUIDogUmFuZG9tTnVtYmVyR2VuZXJhdG9yCiAgICBpbml0PzxTPihfIHRleHQ6IFMsIHJhZGl4OiBJbnQgPSB4KSB3aGVyZSBTIDogU3RyaW5nUHJvdG9jb2wKICAgIGluaXQoYmlnRW5kaWFuIHZhbHVlOiBTZWxmKQogICAgaW5pdChsaXR0bGVFbmRpYW4gdmFsdWU6IFNlbGYpCiAgICB2YXIgYmlnRW5kaWFuOiBTZWxmIHsgZ2V0IH0KICAgIHZhciBieXRlU3dhcHBlZDogU2VsZiB7IGdldCB9CiAgICB2YXIgbGVhZGluZ1plcm9CaXRDb3VudDogSW50IHsgZ2V0IH0KICAgIHZhciBsaXR0bGVFbmRpYW46IFNlbGYgeyBnZXQgfQogICAgdmFyIG5vbnplcm9CaXRDb3VudDogSW50IHsgZ2V0IH0KICAgIGZ1bmMgJioobGhzOiBTZWxmLCByaHM6IFNlbGYpIC0+IFNlbGYKICAgIGZ1bmMgJio9KGxoczogaW5vdXQgU2VsZiwgcmhzOiBTZWxmKQogICAgZnVuYyAmKyhsaHM6IFNlbGYsIHJoczogU2VsZikgLT4gU2VsZgogICAgZnVuYyAmKz0obGhzOiBpbm91dCBTZWxmLCByaHM6IFNlbGYpCiAgICBmdW5jICYtKGxoczogU2VsZiwgcmhzOiBTZWxmKSAtPiBTZWxmCiAgICBmdW5jICYtPShsaHM6IGlub3V0IFNlbGYsIHJoczogU2VsZikKICAgIGZ1bmMgJjw8KGxoczogU2VsZiwgcmhzOiBTZWxmKSAtPiBTZWxmCiAgICBmdW5jICY8PD0obGhzOiBpbm91dCBTZWxmLCByaHM6IFNlbGYpCiAgICBmdW5jICY+PihsaHM6IFNlbGYsIHJoczogU2VsZikgLT4gU2VsZgogICAgZnVuYyAmPj49KGxoczogaW5vdXQgU2VsZiwgcmhzOiBTZWxmKQogICAgZnVuYyBhZGRpbmdSZXBvcnRpbmdPdmVyZmxvdyhfIHJoczogU2VsZikgLT4gKHBhcnRpYWxWYWx1ZTogU2VsZiwgb3ZlcmZsb3c6IEJvb2wpCiAgICBmdW5jIGRpdmlkZWRSZXBvcnRpbmdPdmVyZmxvdyhieSByaHM6IFNlbGYpIC0+IChwYXJ0aWFsVmFsdWU6IFNlbGYsIG92ZXJmbG93OiBCb29sKQogICAgZnVuYyBkaXZpZGluZ0Z1bGxXaWR0aChfIGRpdmlkZW5kOiAoaGlnaDogU2VsZiwgbG93OiBNYWduaXR1ZGUpKSAtPiAocXVvdGllbnQ6IFNlbGYsIHJlbWFpbmRlcjogU2VsZikKICAgIGZ1bmMgbXVsdGlwbGllZEZ1bGxXaWR0aChieSBvdGhlcjogU2VsZikgLT4gKGhpZ2g6IFNlbGYsIGxvdzogTWFnbml0dWRlKQogICAgZnVuYyBtdWx0aXBsaWVkUmVwb3J0aW5nT3ZlcmZsb3coYnkgcmhzOiBTZWxmKSAtPiAocGFydGlhbFZhbHVlOiBTZWxmLCBvdmVyZmxvdzogQm9vbCkKICAgIGZ1bmMgcmVtYWluZGVyUmVwb3J0aW5nT3ZlcmZsb3coZGl2aWRpbmdCeSByaHM6IFNlbGYpIC0+IChwYXJ0aWFsVmFsdWU6IFNlbGYsIG92ZXJmbG93OiBCb29sKQogICAgZnVuYyBzdWJ0cmFjdGluZ1JlcG9ydGluZ092ZXJmbG93KF8gcmhzOiBTZWxmKSAtPiAocGFydGlhbFZhbHVlOiBTZWxmLCBvdmVyZmxvdzogQm9vbCkKfQpwdWJsaWMgcHJvdG9jb2wgRmxvYXRpbmdQb2ludCA6IEFkZGl0aXZlQXJpdGhtZXRpYywgQ29tcGFyYWJsZSwgRXF1YXRhYmxlLCBFeHByZXNzaWJsZUJ5SW50ZWdlckxpdGVyYWwsIEhhc2hhYmxlLCBOdW1lcmljLCBTaWduZWROdW1lcmljLCBTdHJpZGVhYmxlIHsKICAgIGFzc29jaWF0ZWR0eXBlIEV4cG9uZW50CiAgICBzdGF0aWMgdmFyIGdyZWF0ZXN0RmluaXRlTWFnbml0dWRlOiBTZWxmIHsgZ2V0IH0KICAgIHN0YXRpYyB2YXIgaW5maW5pdHk6IFNlbGYgeyBnZXQgfQogICAgc3RhdGljIHZhciBsZWFzdE5vbnplcm9NYWduaXR1ZGU6IFNlbGYgeyBnZXQgfQogICAgc3RhdGljIHZhciBsZWFzdE5vcm1hbE1hZ25pdHVkZTogU2VsZiB7IGdldCB9CiAgICBzdGF0aWMgdmFyIG5hbjogU2VsZiB7IGdldCB9CiAgICBzdGF0aWMgdmFyIHBpOiBTZWxmIHsgZ2V0IH0KICAgIHN0YXRpYyB2YXIgcmFkaXg6IEludCB7IGdldCB9CiAgICBzdGF0aWMgdmFyIHNpZ25hbGluZ05hTjogU2VsZiB7IGdldCB9CiAgICBzdGF0aWMgdmFyIHVscE9mT25lOiBTZWxmIHsgZ2V0IH0KICAgIHN0YXRpYyBmdW5jIG1heGltdW0oXyB4OiBTZWxmLCBfIHk6IFNlbGYpIC0+IFNlbGYKICAgIHN0YXRpYyBmdW5jIG1heGltdW1NYWduaXR1ZGUoXyB4OiBTZWxmLCBfIHk6IFNlbGYpIC0+IFNlbGYKICAgIHN0YXRpYyBmdW5jIG1pbmltdW0oXyB4OiBTZWxmLCBfIHk6IFNlbGYpIC0+IFNlbGYKICAgIHN0YXRpYyBmdW5jIG1pbmltdW1NYWduaXR1ZGUoXyB4OiBTZWxmLCBfIHk6IFNlbGYpIC0+IFNlbGYKICAgIGluaXQoXyB2YWx1ZTogSW50KQogICAgaW5pdChzaWduOiBGbG9hdGluZ1BvaW50U2lnbiwgZXhwb25lbnQ6IEV4cG9uZW50LCBzaWduaWZpY2FuZDogU2VsZikKICAgIGluaXQoc2lnbk9mOiBTZWxmLCBtYWduaXR1ZGVPZjogU2VsZikKICAgIHZhciBleHBvbmVudDogRXhwb25lbnQgeyBnZXQgfQogICAgdmFyIGZsb2F0aW5nUG9pbnRDbGFzczogRmxvYXRpbmdQb2ludENsYXNzaWZpY2F0aW9uIHsgZ2V0IH0KICAgIHZhciBpc0Nhbm9uaWNhbDogQm9vbCB7IGdldCB9CiAgICB2YXIgaXNGaW5pdGU6IEJvb2wgeyBnZXQgfQogICAgdmFyIGlzSW5maW5pdGU6IEJvb2wgeyBnZXQgfQogICAgdmFyIGlzTmFOOiBCb29sIHsgZ2V0IH0KICAgIHZhciBpc05vcm1hbDogQm9vbCB7IGdldCB9CiAgICB2YXIgaXNTaWduYWxpbmdOYU46IEJvb2wgeyBnZXQgfQogICAgdmFyIGlzU3Vibm9ybWFsOiBCb29sIHsgZ2V0IH0KICAgIHZhciBpc1plcm86IEJvb2wgeyBnZXQgfQogICAgdmFyIG5leHREb3duOiBTZWxmIHsgZ2V0IH0KICAgIHZhciBuZXh0VXA6IFNlbGYgeyBnZXQgfQogICAgdmFyIHNpZ246IEZsb2F0aW5nUG9pbnRTaWduIHsgZ2V0IH0KICAgIHZhciBzaWduaWZpY2FuZDogU2VsZiB7IGdldCB9CiAgICB2YXIgdWxwOiBTZWxmIHsgZ2V0IH0KICAgIGZ1bmMgLyhsaHM6IFNlbGYsIHJoczogU2VsZikgLT4gU2VsZgogICAgZnVuYyAvPShsaHM6IGlub3V0IFNlbGYsIHJoczogU2VsZikKICAgIG11dGF0aW5nIGZ1bmMgYWRkUHJvZHVjdChfIGxoczogU2VsZiwgXyByaHM6IFNlbGYpCiAgICBmdW5jIGFkZGluZ1Byb2R1Y3QoXyBsaHM6IFNlbGYsIF8gcmhzOiBTZWxmKSAtPiBTZWxmCiAgICBtdXRhdGluZyBmdW5jIGZvcm1SZW1haW5kZXIoZGl2aWRpbmdCeSBvdGhlcjogU2VsZikKICAgIG11dGF0aW5nIGZ1bmMgZm9ybVNxdWFyZVJvb3QoKQogICAgbXV0YXRpbmcgZnVuYyBmb3JtVHJ1bmNhdGluZ1JlbWFpbmRlcihkaXZpZGluZ0J5IG90aGVyOiBTZWxmKQogICAgZnVuYyBpc0VxdWFsKHRvIG90aGVyOiBTZWxmKSAtPiBCb29sCiAgICBmdW5jIGlzTGVzcyh0aGFuIG90aGVyOiBTZWxmKSAtPiBCb29sCiAgICBmdW5jIGlzTGVzc1RoYW5PckVxdWFsVG8oXyBvdGhlcjogU2VsZikgLT4gQm9vbAogICAgZnVuYyBpc1RvdGFsbHlPcmRlcmVkKGJlbG93T3JFcXVhbFRvIG90aGVyOiBTZWxmKSAtPiBCb29sCiAgICBmdW5jIHJlbWFpbmRlcihkaXZpZGluZ0J5IG90aGVyOiBTZWxmKSAtPiBTZWxmCiAgICBtdXRhdGluZyBmdW5jIHJvdW5kKCkKICAgIG11dGF0aW5nIGZ1bmMgcm91bmQoXyBydWxlOiBGbG9hdGluZ1BvaW50Um91bmRpbmdSdWxlKQogICAgZnVuYyByb3VuZGVkKCkgLT4gU2VsZgogICAgZnVuYyByb3VuZGVkKF8gcnVsZTogRmxvYXRpbmdQb2ludFJvdW5kaW5nUnVsZSkgLT4gU2VsZgogICAgZnVuYyBzcXVhcmVSb290KCkgLT4gU2VsZgogICAgZnVuYyB0cnVuY2F0aW5nUmVtYWluZGVyKGRpdmlkaW5nQnkgb3RoZXI6IFNlbGYpIC0+IFNlbGYKfQpwdWJsaWMgcHJvdG9jb2wgSGFzaGFibGUgOiBFcXVhdGFibGUgewogICAgdmFyIGhhc2hWYWx1ZTogSW50IHsgZ2V0IH0KICAgIGZ1bmMgaGFzaChpbnRvIGhhc2hlcjogaW5vdXQgSGFzaGVyKQp9CkBhdmFpbGFibGUobWFjT1MgMTAuMTUsIGlPUyAxMywgdHZPUyAxMywgd2F0Y2hPUyA2LCAqKSBwdWJsaWMgcHJvdG9jb2wgSWRlbnRpZmlhYmxlIHsKICAgIGFzc29jaWF0ZWR0eXBlIElECiAgICB2YXIgaWQ6IElEIHsgZ2V0IH0KfQpwdWJsaWMgcHJvdG9jb2wgSXRlcmF0b3JQcm90b2NvbCB7CiAgICBhc3NvY2lhdGVkdHlwZSBFbGVtZW50CiAgICBtdXRhdGluZyBmdW5jIG5leHQoKSAtPiBFbGVtZW50Pwp9CnB1YmxpYyBwcm90b2NvbCBLZXllZERlY29kaW5nQ29udGFpbmVyUHJvdG9jb2wgewogICAgYXNzb2NpYXRlZHR5cGUgS2V5CiAgICB2YXIgYWxsS2V5czogW0tleV0geyBnZXQgfQogICAgdmFyIGNvZGluZ1BhdGg6IFtDb2RpbmdLZXldIHsgZ2V0IH0KICAgIGZ1bmMgY29udGFpbnMoXyBrZXk6IEtleSkgLT4gQm9vbAogICAgZnVuYyBkZWNvZGUoXyB0eXBlOiBCb29sLlR5cGUsIGZvcktleSBrZXk6IEtleSkgdGhyb3dzIC0+IEJvb2wKICAgIGZ1bmMgZGVjb2RlSWZQcmVzZW50KF8gdHlwZTogQm9vbC5UeXBlLCBmb3JLZXkga2V5OiBLZXkpIHRocm93cyAtPiBCb29sPwogICAgZnVuYyBkZWNvZGVOaWwoZm9yS2V5IGtleTogS2V5KSB0aHJvd3MgLT4gQm9vbAogICAgZnVuYyBuZXN0ZWRDb250YWluZXI8TmVzdGVkS2V5PihrZXllZEJ5IHR5cGU6IE5lc3RlZEtleS5UeXBlLCBmb3JLZXkga2V5OiBLZXkpIHRocm93cyAtPiBLZXllZERlY29kaW5nQ29udGFpbmVyPE5lc3RlZEtleT4KICAgIGZ1bmMgbmVzdGVkVW5rZXllZENvbnRhaW5lcihmb3JLZXkga2V5OiBLZXkpIHRocm93cyAtPiBVbmtleWVkRGVjb2RpbmdDb250YWluZXIKICAgIGZ1bmMgc3VwZXJEZWNvZGVyKCkgdGhyb3dzIC0+IERlY29kZXIKICAgIGZ1bmMgc3VwZXJEZWNvZGVyKGZvcktleSBrZXk6IEtleSkgdGhyb3dzIC0+IERlY29kZXIKfQpwdWJsaWMgcHJvdG9jb2wgS2V5ZWRFbmNvZGluZ0NvbnRhaW5lclByb3RvY29sIHsKICAgIGFzc29jaWF0ZWR0eXBlIEtleQogICAgdmFyIGNvZGluZ1BhdGg6IFtDb2RpbmdLZXldIHsgZ2V0IH0KICAgIG11dGF0aW5nIGZ1bmMgZW5jb2RlKF8gdmFsdWU6IEJvb2wsIGZvcktleSBrZXk6IEtleSkgdGhyb3dzCiAgICBtdXRhdGluZyBmdW5jIGVuY29kZUNvbmRpdGlvbmFsPFQ+KF8gb2JqZWN0OiBULCBmb3JLZXkga2V5OiBLZXkpIHRocm93cyB3aGVyZSBUIDogQW55T2JqZWN0ICYgRW5jb2RhYmxlCiAgICBtdXRhdGluZyBmdW5jIGVuY29kZUlmUHJlc2VudChfIHZhbHVlOiBCb29sPywgZm9yS2V5IGtleTogS2V5KSB0aHJvd3MKICAgIG11dGF0aW5nIGZ1bmMgZW5jb2RlTmlsKGZvcktleSBrZXk6IEtleSkgdGhyb3dzCiAgICBtdXRhdGluZyBmdW5jIG5lc3RlZENvbnRhaW5lcjxOZXN0ZWRLZXk+KGtleWVkQnkga2V5VHlwZTogTmVzdGVkS2V5LlR5cGUsIGZvcktleSBrZXk6IEtleSkgLT4gS2V5ZWRFbmNvZGluZ0NvbnRhaW5lcjxOZXN0ZWRLZXk+CiAgICBtdXRhdGluZyBmdW5jIG5lc3RlZFVua2V5ZWRDb250YWluZXIoZm9yS2V5IGtleTogS2V5KSAtPiBVbmtleWVkRW5jb2RpbmdDb250YWluZXIKICAgIG11dGF0aW5nIGZ1bmMgc3VwZXJFbmNvZGVyKCkgLT4gRW5jb2RlcgogICAgbXV0YXRpbmcgZnVuYyBzdXBlckVuY29kZXIoZm9yS2V5IGtleTogS2V5KSAtPiBFbmNvZGVyCn0KcHVibGljIHByb3RvY29sIExhenlDb2xsZWN0aW9uUHJvdG9jb2wgOiBDb2xsZWN0aW9uLCBMYXp5U2VxdWVuY2VQcm90b2NvbCwgU2VxdWVuY2Ugewp9CnB1YmxpYyBwcm90b2NvbCBMYXp5U2VxdWVuY2VQcm90b2NvbCA6IFNlcXVlbmNlIHsKICAgIGFzc29jaWF0ZWR0eXBlIEVsZW1lbnRzIHdoZXJlIEVsZW1lbnQgPT0gRWxlbWVudHMuRWxlbWVudAogICAgdmFyIGVsZW1lbnRzOiBFbGVtZW50cyB7IGdldCB9Cn0KcHVibGljIHByb3RvY29sIExvc3NsZXNzU3RyaW5nQ29udmVydGlibGUgOiBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSB7CiAgICBpbml0PyhfIGRlc2NyaXB0aW9uOiBTdHJpbmcpCn0KcHVibGljIHByb3RvY29sIE1pcnJvclBhdGggewp9CnB1YmxpYyBwcm90b2NvbCBNdXRhYmxlQ29sbGVjdGlvbiA6IENvbGxlY3Rpb24sIFNlcXVlbmNlIHsKICAgIG11dGF0aW5nIGZ1bmMgcGFydGl0aW9uKGJ5IGJlbG9uZ3NJblNlY29uZFBhcnRpdGlvbjogKEVsZW1lbnQpIHRocm93cyAtPiBCb29sKSByZXRocm93cyAtPiBJbmRleAogICAgbXV0YXRpbmcgZnVuYyBzaHVmZmxlPFQ+KHVzaW5nIGdlbmVyYXRvcjogaW5vdXQgVCkgd2hlcmUgU2VsZiA6IFJhbmRvbUFjY2Vzc0NvbGxlY3Rpb24sIFQgOiBSYW5kb21OdW1iZXJHZW5lcmF0b3IKICAgIG11dGF0aW5nIGZ1bmMgc3dhcEF0KF8gaTogSW5kZXgsIF8gajogSW5kZXgpCiAgICBtdXRhdGluZyBmdW5jIHN3YXBBdChfIGk6IEluZGV4LCBfIGo6IEluZGV4KQogICAgbXV0YXRpbmcgZnVuYyB3aXRoQ29udGlndW91c011dGFibGVTdG9yYWdlSWZBdmFpbGFibGU8Uj4oXyBib2R5OiAoaW5vdXQgVW5zYWZlTXV0YWJsZUJ1ZmZlclBvaW50ZXI8RWxlbWVudD4pIHRocm93cyAtPiBSKSByZXRocm93cyAtPiBSPwp9CnB1YmxpYyBwcm90b2NvbCBOdW1lcmljIDogQWRkaXRpdmVBcml0aG1ldGljLCBFcXVhdGFibGUsIEV4cHJlc3NpYmxlQnlJbnRlZ2VyTGl0ZXJhbCB7CiAgICBhc3NvY2lhdGVkdHlwZSBNYWduaXR1ZGUKICAgIGluaXQ/PFQ+KGV4YWN0bHkgc291cmNlOiBUKSB3aGVyZSBUIDogQmluYXJ5SW50ZWdlcgogICAgdmFyIG1hZ25pdHVkZTogTWFnbml0dWRlIHsgZ2V0IH0KICAgIGZ1bmMgKihsaHM6IFNlbGYsIHJoczogU2VsZikgLT4gU2VsZgogICAgZnVuYyAqPShsaHM6IGlub3V0IFNlbGYsIHJoczogU2VsZikKfQpwdWJsaWMgcHJvdG9jb2wgT3B0aW9uU2V0IDogRXF1YXRhYmxlLCBFeHByZXNzaWJsZUJ5QXJyYXlMaXRlcmFsLCBSYXdSZXByZXNlbnRhYmxlLCBTZXRBbGdlYnJhIHsKfQpwdWJsaWMgcHJvdG9jb2wgUmFuZG9tQWNjZXNzQ29sbGVjdGlvbiA6IEJpZGlyZWN0aW9uYWxDb2xsZWN0aW9uLCBDb2xsZWN0aW9uLCBTZXF1ZW5jZSB7Cn0KcHVibGljIHByb3RvY29sIFJhbmRvbU51bWJlckdlbmVyYXRvciB7CiAgICBtdXRhdGluZyBmdW5jIG5leHQoKSAtPiBVSW50NjQKICAgIG11dGF0aW5nIGZ1bmMgbmV4dDxUPigpIC0+IFQgd2hlcmUgVCA6IEZpeGVkV2lkdGhJbnRlZ2VyICYgVW5zaWduZWRJbnRlZ2VyCiAgICBtdXRhdGluZyBmdW5jIG5leHQ8VD4odXBwZXJCb3VuZDogVCkgLT4gVCB3aGVyZSBUIDogRml4ZWRXaWR0aEludGVnZXIgJiBVbnNpZ25lZEludGVnZXIKfQpwdWJsaWMgcHJvdG9jb2wgUmFuZ2VFeHByZXNzaW9uIHsKICAgIGFzc29jaWF0ZWR0eXBlIEJvdW5kCiAgICBmdW5jIGNvbnRhaW5zKF8gZWxlbWVudDogQm91bmQpIC0+IEJvb2wKICAgIGZ1bmMgcmVsYXRpdmU8Qz4odG8gY29sbGVjdGlvbjogQykgLT4gUmFuZ2U8Qm91bmQ+IHdoZXJlIEMgOiBDb2xsZWN0aW9uLCBCb3VuZCA9PSBDLkluZGV4CiAgICBmdW5jIH49KHBhdHRlcm46IFNlbGYsIHZhbHVlOiBCb3VuZCkgLT4gQm9vbAp9CnB1YmxpYyBwcm90b2NvbCBSYW5nZVJlcGxhY2VhYmxlQ29sbGVjdGlvbiA6IENvbGxlY3Rpb24sIFNlcXVlbmNlIHsKICAgIGluaXQoKQogICAgaW5pdDxTPihfIGVsZW1lbnRzOiBTKSB3aGVyZSBTIDogU2VxdWVuY2UsIEVsZW1lbnQgPT0gUy5FbGVtZW50CiAgICBpbml0PFM+KF8gZWxlbWVudHM6IFMpIHdoZXJlIFMgOiBTZXF1ZW5jZSwgRWxlbWVudCA9PSBTLkVsZW1lbnQKICAgIGluaXQocmVwZWF0aW5nIHJlcGVhdGVkVmFsdWU6IEVsZW1lbnQsIGNvdW50OiBJbnQpCiAgICBpbml0KHJlcGVhdGluZyByZXBlYXRlZFZhbHVlOiBFbGVtZW50LCBjb3VudDogSW50KQogICAgZnVuYyArPE90aGVyPihsaHM6IE90aGVyLCByaHM6IFNlbGYpIC0+IFNlbGYgd2hlcmUgT3RoZXIgOiBTZXF1ZW5jZSwgRWxlbWVudCA9PSBPdGhlci5FbGVtZW50CiAgICBmdW5jICs8T3RoZXI+KGxoczogU2VsZiwgcmhzOiBPdGhlcikgLT4gU2VsZiB3aGVyZSBPdGhlciA6IFJhbmdlUmVwbGFjZWFibGVDb2xsZWN0aW9uLCBFbGVtZW50ID09IE90aGVyLkVsZW1lbnQKICAgIGZ1bmMgKzxPdGhlcj4obGhzOiBTZWxmLCByaHM6IE90aGVyKSAtPiBTZWxmIHdoZXJlIE90aGVyIDogU2VxdWVuY2UsIEVsZW1lbnQgPT0gT3RoZXIuRWxlbWVudAogICAgZnVuYyArPTxPdGhlcj4obGhzOiBpbm91dCBTZWxmLCByaHM6IE90aGVyKSB3aGVyZSBPdGhlciA6IFNlcXVlbmNlLCBFbGVtZW50ID09IE90aGVyLkVsZW1lbnQKICAgIG11dGF0aW5nIGZ1bmMgYXBwZW5kKF8gbmV3RWxlbWVudDogX19vd25lZCBFbGVtZW50KQogICAgbXV0YXRpbmcgZnVuYyBhcHBlbmQ8Uz4oY29udGVudHNPZiBuZXdFbGVtZW50czogX19vd25lZCBTKSB3aGVyZSBTIDogU2VxdWVuY2UsIEVsZW1lbnQgPT0gUy5FbGVtZW50CiAgICBAYXZhaWxhYmxlKG1hY09TIDEwLjE1LCBpT1MgMTMsIHR2T1MgMTMsIHdhdGNoT1MgNiwgKikgZnVuYyBhcHBseWluZyhfIGRpZmZlcmVuY2U6IENvbGxlY3Rpb25EaWZmZXJlbmNlPEVsZW1lbnQ+KSAtPiBTZWxmPwogICAgbXV0YXRpbmcgZnVuYyBpbnNlcnQoXyBuZXdFbGVtZW50OiBfX293bmVkIEVsZW1lbnQsIGF0IGk6IEluZGV4KQogICAgbXV0YXRpbmcgZnVuYyBpbnNlcnQ8Qz4oY29udGVudHNPZiBuZXdFbGVtZW50czogX19vd25lZCBDLCBhdCBpOiBJbmRleCkgd2hlcmUgQyA6IENvbGxlY3Rpb24sIEMuRWxlbWVudCA9PSBFbGVtZW50CiAgICBAZGlzY2FyZGFibGVSZXN1bHQgbXV0YXRpbmcgZnVuYyByZW1vdmUoYXQgaTogSW5kZXgpIC0+IEVsZW1lbnQKICAgIEBkaXNjYXJkYWJsZVJlc3VsdCBtdXRhdGluZyBmdW5jIHJlbW92ZShhdCBwb3NpdGlvbjogSW5kZXgpIC0+IEVsZW1lbnQKICAgIG11dGF0aW5nIGZ1bmMgcmVtb3ZlQWxsKGtlZXBpbmdDYXBhY2l0eSBrZWVwQ2FwYWNpdHk6IEJvb2wgPSB4KQogICAgbXV0YXRpbmcgZnVuYyByZW1vdmVBbGwod2hlcmUgc2hvdWxkQmVSZW1vdmVkOiAoRWxlbWVudCkgdGhyb3dzIC0+IEJvb2wpIHJldGhyb3dzCiAgICBtdXRhdGluZyBmdW5jIHJlbW92ZUFsbCh3aGVyZSBzaG91bGRCZVJlbW92ZWQ6IChFbGVtZW50KSB0aHJvd3MgLT4gQm9vbCkgcmV0aHJvd3MKICAgIG11dGF0aW5nIGZ1bmMgcmVtb3ZlU3VicmFuZ2UoXyBib3VuZHM6IFJhbmdlPEluZGV4PikKICAgIG11dGF0aW5nIGZ1bmMgcmVtb3ZlU3VicmFuZ2UoXyBib3VuZHM6IFJhbmdlPEluZGV4PikKICAgIG11dGF0aW5nIGZ1bmMgcmVwbGFjZVN1YnJhbmdlPEMsIFI+KF8gc3VicmFuZ2U6IFIsIHdpdGggbmV3RWxlbWVudHM6IF9fb3duZWQgQykgd2hlcmUgQyA6IENvbGxlY3Rpb24sIFIgOiBSYW5nZUV4cHJlc3Npb24sIEMuRWxlbWVudCA9PSBFbGVtZW50LCBJbmRleCA9PSBSLkJvdW5kCiAgICBtdXRhdGluZyBmdW5jIHJlcGxhY2VTdWJyYW5nZTxDPihfIHN1YnJhbmdlOiBSYW5nZTxJbmRleD4sIHdpdGggbmV3RWxlbWVudHM6IF9fb3duZWQgQykgd2hlcmUgQyA6IENvbGxlY3Rpb24sIEMuRWxlbWVudCA9PSBFbGVtZW50CiAgICBtdXRhdGluZyBmdW5jIHJlc2VydmVDYXBhY2l0eShfIG46IEludCkKICAgIG11dGF0aW5nIGZ1bmMgcmVzZXJ2ZUNhcGFjaXR5KF8gbjogSW50KQp9CnB1YmxpYyBwcm90b2NvbCBSYXdSZXByZXNlbnRhYmxlIHsKICAgIGFzc29jaWF0ZWR0eXBlIFJhd1ZhbHVlCiAgICBpbml0PyhyYXdWYWx1ZTogUmF3VmFsdWUpCiAgICB2YXIgcmF3VmFsdWU6IFJhd1ZhbHVlIHsgZ2V0IH0KfQpwdWJsaWMgcHJvdG9jb2wgU0lNRCA6IENvZGFibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEV4cHJlc3NpYmxlQnlBcnJheUxpdGVyYWwsIEhhc2hhYmxlLCBTSU1EU3RvcmFnZSB7CiAgICBhc3NvY2lhdGVkdHlwZSBNYXNrU3RvcmFnZSB3aGVyZSBNYXNrU3RvcmFnZS5TY2FsYXIgOiBGaXhlZFdpZHRoSW50ZWdlciAmIFNpZ25lZEludGVnZXIKICAgIHN0YXRpYyBmdW5jIHJhbmRvbTxUPihpbiByYW5nZTogQ2xvc2VkUmFuZ2U8U2NhbGFyPiwgdXNpbmcgZ2VuZXJhdG9yOiBpbm91dCBUKSAtPiBTZWxmIHdoZXJlIFNjYWxhciA6IEJpbmFyeUZsb2F0aW5nUG9pbnQsIFNjYWxhci5SYXdTaWduaWZpY2FuZCA6IEZpeGVkV2lkdGhJbnRlZ2VyLCBUIDogUmFuZG9tTnVtYmVyR2VuZXJhdG9yCiAgICBpbml0PFM+KF8gc2NhbGFyczogUykgd2hlcmUgUyA6IFNlcXVlbmNlLCBTLkVsZW1lbnQgPT0gU2NhbGFyCiAgICBpbml0KGZyb20gZGVjb2RlcjogRGVjb2RlcikgdGhyb3dzCiAgICBpbml0KHJlcGVhdGluZyB2YWx1ZTogU2NhbGFyKQogICAgdmFyIGluZGljZXM6IFJhbmdlPEludD4geyBnZXQgfQogICAgZnVuYyAuIT0obGhzOiBTY2FsYXIsIHJoczogU2VsZikgLT4gU0lNRE1hc2s8TWFza1N0b3JhZ2U+CiAgICBmdW5jIC4hPShsaHM6IFNlbGYsIHJoczogU2VsZikgLT4gU0lNRE1hc2s8TWFza1N0b3JhZ2U+CiAgICBmdW5jIC49PShsaHM6IFNjYWxhciwgcmhzOiBTZWxmKSAtPiBTSU1ETWFzazxNYXNrU3RvcmFnZT4KICAgIGZ1bmMgZW5jb2RlKHRvIGVuY29kZXI6IEVuY29kZXIpIHRocm93cwogICAgbXV0YXRpbmcgZnVuYyByZXBsYWNlKHdpdGggb3RoZXI6IFNjYWxhciwgd2hlcmUgbWFzazogU0lNRE1hc2s8TWFza1N0b3JhZ2U+KQogICAgbXV0YXRpbmcgZnVuYyByZXBsYWNlKHdpdGggb3RoZXI6IFNlbGYsIHdoZXJlIG1hc2s6IFNJTURNYXNrPE1hc2tTdG9yYWdlPikKICAgIGZ1bmMgcmVwbGFjaW5nKHdpdGggb3RoZXI6IFNjYWxhciwgd2hlcmUgbWFzazogU0lNRE1hc2s8TWFza1N0b3JhZ2U+KSAtPiBTZWxmCiAgICBmdW5jIHJlcGxhY2luZyh3aXRoIG90aGVyOiBTZWxmLCB3aGVyZSBtYXNrOiBTSU1ETWFzazxNYXNrU3RvcmFnZT4pIC0+IFNlbGYKfQpwdWJsaWMgcHJvdG9jb2wgU0lNRFNjYWxhciB7CiAgICBhc3NvY2lhdGVkdHlwZSBTSU1EMTZTdG9yYWdlIHdoZXJlIFNJTUQxNlN0b3JhZ2UuU2NhbGFyID09IFNlbGYKICAgIGFzc29jaWF0ZWR0eXBlIFNJTUQyU3RvcmFnZSB3aGVyZSBTSU1EMlN0b3JhZ2UuU2NhbGFyID09IFNlbGYKICAgIGFzc29jaWF0ZWR0eXBlIFNJTUQzMlN0b3JhZ2Ugd2hlcmUgU0lNRDMyU3RvcmFnZS5TY2FsYXIgPT0gU2VsZgogICAgYXNzb2NpYXRlZHR5cGUgU0lNRDRTdG9yYWdlIHdoZXJlIFNJTUQ0U3RvcmFnZS5TY2FsYXIgPT0gU2VsZgogICAgYXNzb2NpYXRlZHR5cGUgU0lNRDY0U3RvcmFnZSB3aGVyZSBTSU1ENjRTdG9yYWdlLlNjYWxhciA9PSBTZWxmCiAgICBhc3NvY2lhdGVkdHlwZSBTSU1EOFN0b3JhZ2Ugd2hlcmUgU0lNRDhTdG9yYWdlLlNjYWxhciA9PSBTZWxmCiAgICBhc3NvY2lhdGVkdHlwZSBTSU1ETWFza1NjYWxhcgp9CnB1YmxpYyBwcm90b2NvbCBTSU1EU3RvcmFnZSB7CiAgICBhc3NvY2lhdGVkdHlwZSBTY2FsYXIKICAgIHN0YXRpYyB2YXIgc2NhbGFyQ291bnQ6IEludCB7IGdldCB9CiAgICBpbml0KCkKICAgIHZhciBzY2FsYXJDb3VudDogSW50IHsgZ2V0IH0KICAgIHN1YnNjcmlwdChpbmRleDogSW50KSAtPiBTY2FsYXIgeyBnZXQgc2V0IH0KfQpwdWJsaWMgcHJvdG9jb2wgU2VxdWVuY2UgewogICAgYXNzb2NpYXRlZHR5cGUgRWxlbWVudAogICAgYXNzb2NpYXRlZHR5cGUgSXRlcmF0b3Igd2hlcmUgRWxlbWVudCA9PSBJdGVyYXRvci5FbGVtZW50CiAgICB2YXIgbGF6eTogTGF6eVNlcXVlbmNlPFNlbGY+IHsgZ2V0IH0KICAgIHZhciB1bmRlcmVzdGltYXRlZENvdW50OiBJbnQgeyBnZXQgfQogICAgZnVuYyBhbGxTYXRpc2Z5KF8gcHJlZGljYXRlOiAoRWxlbWVudCkgdGhyb3dzIC0+IEJvb2wpIHJldGhyb3dzIC0+IEJvb2wKICAgIGZ1bmMgY29tcGFjdE1hcDxFbGVtZW50T2ZSZXN1bHQ+KF8gdHJhbnNmb3JtOiAoRWxlbWVudCkgdGhyb3dzIC0+IEVsZW1lbnRPZlJlc3VsdD8pIHJldGhyb3dzIC0+IFtFbGVtZW50T2ZSZXN1bHRdCiAgICBmdW5jIGNvbnRhaW5zKHdoZXJlIHByZWRpY2F0ZTogKEVsZW1lbnQpIHRocm93cyAtPiBCb29sKSByZXRocm93cyAtPiBCb29sCiAgICBmdW5jIGRyb3Aod2hpbGUgcHJlZGljYXRlOiAoRWxlbWVudCkgdGhyb3dzIC0+IEJvb2wpIHJldGhyb3dzIC0+IERyb3BXaGlsZVNlcXVlbmNlPFNlbGY+CiAgICBmdW5jIGRyb3BGaXJzdChfIGs6IEludCA9IHgpIC0+IERyb3BGaXJzdFNlcXVlbmNlPFNlbGY+CiAgICBmdW5jIGRyb3BMYXN0KF8gazogSW50ID0geCkgLT4gW0VsZW1lbnRdCiAgICBmdW5jIGVsZW1lbnRzRXF1YWw8T3RoZXJTZXF1ZW5jZT4oXyBvdGhlcjogT3RoZXJTZXF1ZW5jZSkgLT4gQm9vbCB3aGVyZSBFbGVtZW50IDogRXF1YXRhYmxlLCBPdGhlclNlcXVlbmNlIDogU2VxdWVuY2UsIEVsZW1lbnQgPT0gT3RoZXJTZXF1ZW5jZS5FbGVtZW50CiAgICBmdW5jIGVsZW1lbnRzRXF1YWw8T3RoZXJTZXF1ZW5jZT4oXyBvdGhlcjogT3RoZXJTZXF1ZW5jZSwgYnkgYXJlRXF1aXZhbGVudDogKEVsZW1lbnQsIE90aGVyU2VxdWVuY2UuRWxlbWVudCkgdGhyb3dzIC0+IEJvb2wpIHJldGhyb3dzIC0+IEJvb2wgd2hlcmUgT3RoZXJTZXF1ZW5jZSA6IFNlcXVlbmNlCiAgICBmdW5jIGVudW1lcmF0ZWQoKSAtPiBFbnVtZXJhdGVkU2VxdWVuY2U8U2VsZj4KICAgIGZ1bmMgZmlsdGVyKF8gaXNJbmNsdWRlZDogKEVsZW1lbnQpIHRocm93cyAtPiBCb29sKSByZXRocm93cyAtPiBbRWxlbWVudF0KICAgIGZ1bmMgZmlyc3Qod2hlcmUgcHJlZGljYXRlOiAoRWxlbWVudCkgdGhyb3dzIC0+IEJvb2wpIHJldGhyb3dzIC0+IEVsZW1lbnQ/CiAgICBmdW5jIGZsYXRNYXA8U2VnbWVudE9mUmVzdWx0PihfIHRyYW5zZm9ybTogKEVsZW1lbnQpIHRocm93cyAtPiBTZWdtZW50T2ZSZXN1bHQpIHJldGhyb3dzIC0+IFtTZWdtZW50T2ZSZXN1bHQuRWxlbWVudF0gd2hlcmUgU2VnbWVudE9mUmVzdWx0IDogU2VxdWVuY2UKICAgIGZ1bmMgZm9yRWFjaChfIGJvZHk6IChFbGVtZW50KSB0aHJvd3MgLT4gVm9pZCkgcmV0aHJvd3MKICAgIGZ1bmMgam9pbmVkPFNlcGFyYXRvcj4oc2VwYXJhdG9yOiBTZXBhcmF0b3IpIC0+IEpvaW5lZFNlcXVlbmNlPFNlbGY+IHdoZXJlIEVsZW1lbnQgOiBTZXF1ZW5jZSwgU2VwYXJhdG9yIDogU2VxdWVuY2UsIEVsZW1lbnQuRWxlbWVudCA9PSBTZXBhcmF0b3IuRWxlbWVudAogICAgZnVuYyBsZXhpY29ncmFwaGljYWxseVByZWNlZGVzPE90aGVyU2VxdWVuY2U+KF8gb3RoZXI6IE90aGVyU2VxdWVuY2UpIC0+IEJvb2wgd2hlcmUgRWxlbWVudCA6IENvbXBhcmFibGUsIE90aGVyU2VxdWVuY2UgOiBTZXF1ZW5jZSwgRWxlbWVudCA9PSBPdGhlclNlcXVlbmNlLkVsZW1lbnQKICAgIGZ1bmMgbGV4aWNvZ3JhcGhpY2FsbHlQcmVjZWRlczxPdGhlclNlcXVlbmNlPihfIG90aGVyOiBPdGhlclNlcXVlbmNlLCBieSBhcmVJbkluY3JlYXNpbmdPcmRlcjogKEVsZW1lbnQsIEVsZW1lbnQpIHRocm93cyAtPiBCb29sKSByZXRocm93cyAtPiBCb29sIHdoZXJlIE90aGVyU2VxdWVuY2UgOiBTZXF1ZW5jZSwgRWxlbWVudCA9PSBPdGhlclNlcXVlbmNlLkVsZW1lbnQKICAgIGZ1bmMgbWFrZUl0ZXJhdG9yKCkgLT4gSXRlcmF0b3IKICAgIGZ1bmMgbWFwPFQ+KF8gdHJhbnNmb3JtOiAoRWxlbWVudCkgdGhyb3dzIC0+IFQpIHJldGhyb3dzIC0+IFtUXQogICAgZnVuYyBtYXgoYnkgYXJlSW5JbmNyZWFzaW5nT3JkZXI6IChFbGVtZW50LCBFbGVtZW50KSB0aHJvd3MgLT4gQm9vbCkgcmV0aHJvd3MgLT4gRWxlbWVudD8KICAgIGZ1bmMgbWluKGJ5IGFyZUluSW5jcmVhc2luZ09yZGVyOiAoRWxlbWVudCwgRWxlbWVudCkgdGhyb3dzIC0+IEJvb2wpIHJldGhyb3dzIC0+IEVsZW1lbnQ/CiAgICBmdW5jIHByZWZpeChfIG1heExlbmd0aDogSW50KSAtPiBQcmVmaXhTZXF1ZW5jZTxTZWxmPgogICAgZnVuYyBwcmVmaXgod2hpbGUgcHJlZGljYXRlOiAoRWxlbWVudCkgdGhyb3dzIC0+IEJvb2wpIHJldGhyb3dzIC0+IFtFbGVtZW50XQogICAgZnVuYyByZWR1Y2U8UmVzdWx0PihfIGluaXRpYWxSZXN1bHQ6IFJlc3VsdCwgXyBuZXh0UGFydGlhbFJlc3VsdDogKF8gcGFydGlhbFJlc3VsdDogUmVzdWx0LCBFbGVtZW50KSB0aHJvd3MgLT4gUmVzdWx0KSByZXRocm93cyAtPiBSZXN1bHQKICAgIGZ1bmMgcmVkdWNlPFJlc3VsdD4oaW50byBpbml0aWFsUmVzdWx0OiBfX293bmVkIFJlc3VsdCwgXyB1cGRhdGVBY2N1bXVsYXRpbmdSZXN1bHQ6IChfIHBhcnRpYWxSZXN1bHQ6IGlub3V0IFJlc3VsdCwgRWxlbWVudCkgdGhyb3dzIC0+IFZvaWQpIHJldGhyb3dzIC0+IFJlc3VsdAogICAgZnVuYyByZXZlcnNlZCgpIC0+IFtFbGVtZW50XQogICAgZnVuYyBzaHVmZmxlZCgpIC0+IFtFbGVtZW50XQogICAgZnVuYyBzaHVmZmxlZDxUPih1c2luZyBnZW5lcmF0b3I6IGlub3V0IFQpIC0+IFtFbGVtZW50XSB3aGVyZSBUIDogUmFuZG9tTnVtYmVyR2VuZXJhdG9yCiAgICBmdW5jIHNvcnRlZChieSBhcmVJbkluY3JlYXNpbmdPcmRlcjogKEVsZW1lbnQsIEVsZW1lbnQpIHRocm93cyAtPiBCb29sKSByZXRocm93cyAtPiBbRWxlbWVudF0KICAgIGZ1bmMgc3BsaXQobWF4U3BsaXRzOiBJbnQgPSB4LCBvbWl0dGluZ0VtcHR5U3Vic2VxdWVuY2VzOiBCb29sID0geCwgd2hlcmVTZXBhcmF0b3IgaXNTZXBhcmF0b3I6IChFbGVtZW50KSB0aHJvd3MgLT4gQm9vbCkgcmV0aHJvd3MgLT4gW0FycmF5U2xpY2U8RWxlbWVudD5dCiAgICBmdW5jIHN0YXJ0czxQb3NzaWJsZVByZWZpeD4od2l0aCBwb3NzaWJsZVByZWZpeDogUG9zc2libGVQcmVmaXgpIC0+IEJvb2wgd2hlcmUgRWxlbWVudCA6IEVxdWF0YWJsZSwgUG9zc2libGVQcmVmaXggOiBTZXF1ZW5jZSwgRWxlbWVudCA9PSBQb3NzaWJsZVByZWZpeC5FbGVtZW50CiAgICBmdW5jIHN0YXJ0czxQb3NzaWJsZVByZWZpeD4od2l0aCBwb3NzaWJsZVByZWZpeDogUG9zc2libGVQcmVmaXgsIGJ5IGFyZUVxdWl2YWxlbnQ6IChFbGVtZW50LCBQb3NzaWJsZVByZWZpeC5FbGVtZW50KSB0aHJvd3MgLT4gQm9vbCkgcmV0aHJvd3MgLT4gQm9vbCB3aGVyZSBQb3NzaWJsZVByZWZpeCA6IFNlcXVlbmNlCiAgICBmdW5jIHN1ZmZpeChfIG1heExlbmd0aDogSW50KSAtPiBbRWxlbWVudF0KICAgIGZ1bmMgd2l0aENvbnRpZ3VvdXNTdG9yYWdlSWZBdmFpbGFibGU8Uj4oXyBib2R5OiAoVW5zYWZlQnVmZmVyUG9pbnRlcjxFbGVtZW50PikgdGhyb3dzIC0+IFIpIHJldGhyb3dzIC0+IFI/Cn0KcHVibGljIHByb3RvY29sIFNldEFsZ2VicmEgOiBFcXVhdGFibGUsIEV4cHJlc3NpYmxlQnlBcnJheUxpdGVyYWwgewogICAgYXNzb2NpYXRlZHR5cGUgRWxlbWVudAogICAgaW5pdCgpCiAgICBpbml0PFM+KF8gc2VxdWVuY2U6IF9fb3duZWQgUykgd2hlcmUgUyA6IFNlcXVlbmNlLCBFbGVtZW50ID09IFMuRWxlbWVudAogICAgdmFyIGlzRW1wdHk6IEJvb2wgeyBnZXQgfQogICAgZnVuYyBjb250YWlucyhfIG1lbWJlcjogRWxlbWVudCkgLT4gQm9vbAogICAgbXV0YXRpbmcgZnVuYyBmb3JtSW50ZXJzZWN0aW9uKF8gb3RoZXI6IFNlbGYpCiAgICBtdXRhdGluZyBmdW5jIGZvcm1TeW1tZXRyaWNEaWZmZXJlbmNlKF8gb3RoZXI6IF9fb3duZWQgU2VsZikKICAgIG11dGF0aW5nIGZ1bmMgZm9ybVVuaW9uKF8gb3RoZXI6IF9fb3duZWQgU2VsZikKICAgIEBkaXNjYXJkYWJsZVJlc3VsdCBtdXRhdGluZyBmdW5jIGluc2VydChfIG5ld01lbWJlcjogX19vd25lZCBFbGVtZW50KSAtPiAoaW5zZXJ0ZWQ6IEJvb2wsIG1lbWJlckFmdGVySW5zZXJ0OiBFbGVtZW50KQogICAgZnVuYyBpbnRlcnNlY3Rpb24oXyBvdGhlcjogU2VsZikgLT4gU2VsZgogICAgZnVuYyBpc0Rpc2pvaW50KHdpdGggb3RoZXI6IFNlbGYpIC0+IEJvb2wKICAgIGZ1bmMgaXNTdHJpY3RTdWJzZXQob2Ygb3RoZXI6IFNlbGYpIC0+IEJvb2wKICAgIGZ1bmMgaXNTdHJpY3RTdXBlcnNldChvZiBvdGhlcjogU2VsZikgLT4gQm9vbAogICAgZnVuYyBpc1N1YnNldChvZiBvdGhlcjogU2VsZikgLT4gQm9vbAogICAgZnVuYyBpc1N1cGVyc2V0KG9mIG90aGVyOiBTZWxmKSAtPiBCb29sCiAgICBmdW5jIGlzU3VwZXJzZXQob2Ygb3RoZXI6IFNlbGYpIC0+IEJvb2wKICAgIEBkaXNjYXJkYWJsZVJlc3VsdCBtdXRhdGluZyBmdW5jIHJlbW92ZShfIG1lbWJlcjogRWxlbWVudCkgLT4gRWxlbWVudD8KICAgIG11dGF0aW5nIGZ1bmMgc3VidHJhY3QoXyBvdGhlcjogU2VsZikKICAgIGZ1bmMgc3VidHJhY3RpbmcoXyBvdGhlcjogU2VsZikgLT4gU2VsZgogICAgZnVuYyBzdWJ0cmFjdGluZyhfIG90aGVyOiBTZWxmKSAtPiBTZWxmCiAgICBmdW5jIHN5bW1ldHJpY0RpZmZlcmVuY2UoXyBvdGhlcjogX19vd25lZCBTZWxmKSAtPiBTZWxmCiAgICBmdW5jIHVuaW9uKF8gb3RoZXI6IF9fb3duZWQgU2VsZikgLT4gU2VsZgogICAgQGRpc2NhcmRhYmxlUmVzdWx0IG11dGF0aW5nIGZ1bmMgdXBkYXRlKHdpdGggbmV3TWVtYmVyOiBfX293bmVkIEVsZW1lbnQpIC0+IEVsZW1lbnQ/Cn0KcHVibGljIHByb3RvY29sIFNpZ25lZEludGVnZXIgOiBBZGRpdGl2ZUFyaXRobWV0aWMsIEJpbmFyeUludGVnZXIsIENvbXBhcmFibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEV4cHJlc3NpYmxlQnlJbnRlZ2VyTGl0ZXJhbCwgSGFzaGFibGUsIE51bWVyaWMsIFNpZ25lZE51bWVyaWMsIFN0cmlkZWFibGUgewp9CnB1YmxpYyBwcm90b2NvbCBTaWduZWROdW1lcmljIDogQWRkaXRpdmVBcml0aG1ldGljLCBFcXVhdGFibGUsIEV4cHJlc3NpYmxlQnlJbnRlZ2VyTGl0ZXJhbCwgTnVtZXJpYyB7CiAgICBwcmVmaXggZnVuYyAtKG9wZXJhbmQ6IFNlbGYpIC0+IFNlbGYKICAgIHByZWZpeCBmdW5jIC0ob3BlcmFuZDogU2VsZikgLT4gU2VsZgogICAgbXV0YXRpbmcgZnVuYyBuZWdhdGUoKQp9CnB1YmxpYyBwcm90b2NvbCBTaW5nbGVWYWx1ZURlY29kaW5nQ29udGFpbmVyIHsKICAgIHZhciBjb2RpbmdQYXRoOiBbQ29kaW5nS2V5XSB7IGdldCB9CiAgICBmdW5jIGRlY29kZShfIHR5cGU6IEJvb2wuVHlwZSkgdGhyb3dzIC0+IEJvb2wKICAgIGZ1bmMgZGVjb2RlTmlsKCkgLT4gQm9vbAp9CnB1YmxpYyBwcm90b2NvbCBTaW5nbGVWYWx1ZUVuY29kaW5nQ29udGFpbmVyIHsKICAgIHZhciBjb2RpbmdQYXRoOiBbQ29kaW5nS2V5XSB7IGdldCB9CiAgICBtdXRhdGluZyBmdW5jIGVuY29kZShfIHZhbHVlOiBCb29sKSB0aHJvd3MKICAgIG11dGF0aW5nIGZ1bmMgZW5jb2RlTmlsKCkgdGhyb3dzCn0KcHVibGljIHByb3RvY29sIFN0cmlkZWFibGUgOiBDb21wYXJhYmxlLCBFcXVhdGFibGUgewogICAgYXNzb2NpYXRlZHR5cGUgU3RyaWRlCiAgICBmdW5jIGFkdmFuY2VkKGJ5IG46IFN0cmlkZSkgLT4gU2VsZgogICAgZnVuYyBkaXN0YW5jZSh0byBvdGhlcjogU2VsZikgLT4gU3RyaWRlCn0KcHVibGljIHByb3RvY29sIFN0cmluZ0ludGVycG9sYXRpb25Qcm90b2NvbCB7CiAgICBhc3NvY2lhdGVkdHlwZSBTdHJpbmdMaXRlcmFsVHlwZQogICAgaW5pdChsaXRlcmFsQ2FwYWNpdHk6IEludCwgaW50ZXJwb2xhdGlvbkNvdW50OiBJbnQpCiAgICBtdXRhdGluZyBmdW5jIGFwcGVuZExpdGVyYWwoXyBsaXRlcmFsOiBTdHJpbmdMaXRlcmFsVHlwZSkKfQpwdWJsaWMgcHJvdG9jb2wgU3RyaW5nUHJvdG9jb2wgOiBCaWRpcmVjdGlvbmFsQ29sbGVjdGlvbiwgQ29sbGVjdGlvbiwgQ29tcGFyYWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgRXhwcmVzc2libGVCeUV4dGVuZGVkR3JhcGhlbWVDbHVzdGVyTGl0ZXJhbCwgRXhwcmVzc2libGVCeVN0cmluZ0ludGVycG9sYXRpb24sIEV4cHJlc3NpYmxlQnlTdHJpbmdMaXRlcmFsLCBFeHByZXNzaWJsZUJ5VW5pY29kZVNjYWxhckxpdGVyYWwsIEhhc2hhYmxlLCBMb3NzbGVzc1N0cmluZ0NvbnZlcnRpYmxlLCBTZXF1ZW5jZSwgVGV4dE91dHB1dFN0cmVhbSwgVGV4dE91dHB1dFN0cmVhbWFibGUgewogICAgYXNzb2NpYXRlZHR5cGUgVVRGMTZWaWV3IHdoZXJlIEluZGV4ID09IFVURjE2Vmlldy5JbmRleCwgVUludDE2ID09IFVURjE2Vmlldy5FbGVtZW50CiAgICBhc3NvY2lhdGVkdHlwZSBVVEY4VmlldyB3aGVyZSBJbmRleCA9PSBVVEY4Vmlldy5JbmRleCwgVUludDggPT0gVVRGOFZpZXcuRWxlbWVudAogICAgYXNzb2NpYXRlZHR5cGUgVW5pY29kZVNjYWxhclZpZXcgd2hlcmUgSW5kZXggPT0gVW5pY29kZVNjYWxhclZpZXcuSW5kZXgsIFVuaWNvZGUuU2NhbGFyID09IFVuaWNvZGVTY2FsYXJWaWV3LkVsZW1lbnQKICAgIGluaXQoY1N0cmluZyBudWxsVGVybWluYXRlZFVURjg6IFVuc2FmZVBvaW50ZXI8Q0NoYXI+KQogICAgaW5pdDxDLCBFbmNvZGluZz4oZGVjb2RpbmcgY29kZVVuaXRzOiBDLCBhcyBzb3VyY2VFbmNvZGluZzogRW5jb2RpbmcuVHlwZSkgd2hlcmUgQyA6IENvbGxlY3Rpb24sIEVuY29kaW5nIDogVW5pY29kZS5FbmNvZGluZywgQy5JdGVyYXRvci5FbGVtZW50ID09IEVuY29kaW5nLkNvZGVVbml0CiAgICBpbml0PEVuY29kaW5nPihkZWNvZGluZ0NTdHJpbmcgbnVsbFRlcm1pbmF0ZWRDb2RlVW5pdHM6IFVuc2FmZVBvaW50ZXI8RW5jb2RpbmcuQ29kZVVuaXQ+LCBhcyBzb3VyY2VFbmNvZGluZzogRW5jb2RpbmcuVHlwZSkgd2hlcmUgRW5jb2RpbmcgOiBVbmljb2RlLkVuY29kaW5nCiAgICB2YXIgdW5pY29kZVNjYWxhcnM6IFVuaWNvZGVTY2FsYXJWaWV3IHsgZ2V0IH0KICAgIHZhciB1dGYxNjogVVRGMTZWaWV3IHsgZ2V0IH0KICAgIHZhciB1dGY4OiBVVEY4VmlldyB7IGdldCB9CiAgICBmdW5jIGhhc1ByZWZpeDxQcmVmaXg+KF8gcHJlZml4OiBQcmVmaXgpIC0+IEJvb2wgd2hlcmUgUHJlZml4IDogU3RyaW5nUHJvdG9jb2wKICAgIGZ1bmMgaGFzU3VmZml4PFN1ZmZpeD4oXyBzdWZmaXg6IFN1ZmZpeCkgLT4gQm9vbCB3aGVyZSBTdWZmaXggOiBTdHJpbmdQcm90b2NvbAogICAgZnVuYyBsb3dlcmNhc2VkKCkgLT4gU3RyaW5nCiAgICBmdW5jIHVwcGVyY2FzZWQoKSAtPiBTdHJpbmcKICAgIGZ1bmMgd2l0aENTdHJpbmc8UmVzdWx0PihfIGJvZHk6IChVbnNhZmVQb2ludGVyPENDaGFyPikgdGhyb3dzIC0+IFJlc3VsdCkgcmV0aHJvd3MgLT4gUmVzdWx0CiAgICBmdW5jIHdpdGhDU3RyaW5nPFJlc3VsdCwgRW5jb2Rpbmc+KGVuY29kZWRBcyB0YXJnZXRFbmNvZGluZzogRW5jb2RpbmcuVHlwZSwgXyBib2R5OiAoVW5zYWZlUG9pbnRlcjxFbmNvZGluZy5Db2RlVW5pdD4pIHRocm93cyAtPiBSZXN1bHQpIHJldGhyb3dzIC0+IFJlc3VsdCB3aGVyZSBFbmNvZGluZyA6IFVuaWNvZGUuRW5jb2RpbmcKfQpwdWJsaWMgcHJvdG9jb2wgVGV4dE91dHB1dFN0cmVhbSB7CiAgICBtdXRhdGluZyBmdW5jIHdyaXRlKF8gc3RyaW5nOiBTdHJpbmcpCn0KcHVibGljIHByb3RvY29sIFRleHRPdXRwdXRTdHJlYW1hYmxlIHsKICAgIGZ1bmMgd3JpdGU8VGFyZ2V0Pih0byB0YXJnZXQ6IGlub3V0IFRhcmdldCkgd2hlcmUgVGFyZ2V0IDogVGV4dE91dHB1dFN0cmVhbQp9CnB1YmxpYyBwcm90b2NvbCBVbmljb2RlQ29kZWMgOiBVbmljb2RlLkVuY29kaW5nIHsKICAgIHN0YXRpYyBmdW5jIGVuY29kZShfIGlucHV0OiBVbmljb2RlLlNjYWxhciwgaW50byBwcm9jZXNzQ29kZVVuaXQ6IChDb2RlVW5pdCkgLT4gVm9pZCkKICAgIGluaXQoKQogICAgbXV0YXRpbmcgZnVuYyBkZWNvZGU8ST4oXyBpbnB1dDogaW5vdXQgSSkgLT4gVW5pY29kZURlY29kaW5nUmVzdWx0IHdoZXJlIEkgOiBJdGVyYXRvclByb3RvY29sLCBDb2RlVW5pdCA9PSBJLkVsZW1lbnQKfQpwdWJsaWMgcHJvdG9jb2wgVW5rZXllZERlY29kaW5nQ29udGFpbmVyIHsKICAgIHZhciBjb2RpbmdQYXRoOiBbQ29kaW5nS2V5XSB7IGdldCB9CiAgICB2YXIgY291bnQ6IEludD8geyBnZXQgfQogICAgdmFyIGN1cnJlbnRJbmRleDogSW50IHsgZ2V0IH0KICAgIHZhciBpc0F0RW5kOiBCb29sIHsgZ2V0IH0KICAgIG11dGF0aW5nIGZ1bmMgZGVjb2RlKF8gdHlwZTogQm9vbC5UeXBlKSB0aHJvd3MgLT4gQm9vbAogICAgbXV0YXRpbmcgZnVuYyBkZWNvZGVJZlByZXNlbnQoXyB0eXBlOiBCb29sLlR5cGUpIHRocm93cyAtPiBCb29sPwogICAgbXV0YXRpbmcgZnVuYyBkZWNvZGVOaWwoKSB0aHJvd3MgLT4gQm9vbAogICAgbXV0YXRpbmcgZnVuYyBuZXN0ZWRDb250YWluZXI8TmVzdGVkS2V5PihrZXllZEJ5IHR5cGU6IE5lc3RlZEtleS5UeXBlKSB0aHJvd3MgLT4gS2V5ZWREZWNvZGluZ0NvbnRhaW5lcjxOZXN0ZWRLZXk+CiAgICBtdXRhdGluZyBmdW5jIG5lc3RlZFVua2V5ZWRDb250YWluZXIoKSB0aHJvd3MgLT4gVW5rZXllZERlY29kaW5nQ29udGFpbmVyCiAgICBtdXRhdGluZyBmdW5jIHN1cGVyRGVjb2RlcigpIHRocm93cyAtPiBEZWNvZGVyCn0KcHVibGljIHByb3RvY29sIFVua2V5ZWRFbmNvZGluZ0NvbnRhaW5lciB7CiAgICB2YXIgY29kaW5nUGF0aDogW0NvZGluZ0tleV0geyBnZXQgfQogICAgdmFyIGNvdW50OiBJbnQgeyBnZXQgfQogICAgbXV0YXRpbmcgZnVuYyBlbmNvZGUoXyB2YWx1ZTogQm9vbCkgdGhyb3dzCiAgICBtdXRhdGluZyBmdW5jIGVuY29kZTxUPihjb250ZW50c09mIHNlcXVlbmNlOiBUKSB0aHJvd3Mgd2hlcmUgVCA6IFNlcXVlbmNlLCBCb29sID09IFQuRWxlbWVudAogICAgbXV0YXRpbmcgZnVuYyBlbmNvZGVDb25kaXRpb25hbDxUPihfIG9iamVjdDogVCkgdGhyb3dzIHdoZXJlIFQgOiBBbnlPYmplY3QgJiBFbmNvZGFibGUKICAgIG11dGF0aW5nIGZ1bmMgZW5jb2RlTmlsKCkgdGhyb3dzCiAgICBtdXRhdGluZyBmdW5jIG5lc3RlZENvbnRhaW5lcjxOZXN0ZWRLZXk+KGtleWVkQnkga2V5VHlwZTogTmVzdGVkS2V5LlR5cGUpIC0+IEtleWVkRW5jb2RpbmdDb250YWluZXI8TmVzdGVkS2V5PgogICAgbXV0YXRpbmcgZnVuYyBuZXN0ZWRVbmtleWVkQ29udGFpbmVyKCkgLT4gVW5rZXllZEVuY29kaW5nQ29udGFpbmVyCiAgICBtdXRhdGluZyBmdW5jIHN1cGVyRW5jb2RlcigpIC0+IEVuY29kZXIKfQpwdWJsaWMgcHJvdG9jb2wgVW5zaWduZWRJbnRlZ2VyIDogQWRkaXRpdmVBcml0aG1ldGljLCBCaW5hcnlJbnRlZ2VyLCBDb21wYXJhYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBFeHByZXNzaWJsZUJ5SW50ZWdlckxpdGVyYWwsIEhhc2hhYmxlLCBOdW1lcmljLCBTdHJpZGVhYmxlIHsKfQpleHRlbnNpb24gQW55QmlkaXJlY3Rpb25hbENvbGxlY3Rpb24gewogICAgcHVibGljIGluaXQoXyBvdGhlcjogQW55QmlkaXJlY3Rpb25hbENvbGxlY3Rpb248RWxlbWVudD4pIHt9CiAgICBwdWJsaWMgaW5pdDxDPihfIGJhc2U6IEMpIHdoZXJlIEMgOiBCaWRpcmVjdGlvbmFsQ29sbGVjdGlvbiwgQy5FbGVtZW50ID09IEVsZW1lbnQge30KICAgIHB1YmxpYyBpbml0PyhfIG90aGVyOiBBbnlDb2xsZWN0aW9uPEVsZW1lbnQ+KSB7fQp9CmV4dGVuc2lvbiBBbnlDb2xsZWN0aW9uIHsKICAgIHB1YmxpYyBpbml0KF8gb3RoZXI6IEFueUJpZGlyZWN0aW9uYWxDb2xsZWN0aW9uPEVsZW1lbnQ+KSB7fQogICAgcHVibGljIGluaXQ8Qz4oXyBiYXNlOiBDKSB3aGVyZSBDIDogQmlkaXJlY3Rpb25hbENvbGxlY3Rpb24sIEMuRWxlbWVudCA9PSBFbGVtZW50IHt9Cn0KZXh0ZW5zaW9uIEFueUl0ZXJhdG9yIHsKfQpleHRlbnNpb24gQW55UmFuZG9tQWNjZXNzQ29sbGVjdGlvbiB7CiAgICBwdWJsaWMgaW5pdChfIG90aGVyOiBBbnlSYW5kb21BY2Nlc3NDb2xsZWN0aW9uPEVsZW1lbnQ+KSB7fQogICAgcHVibGljIGluaXQ8Qz4oXyBiYXNlOiBDKSB3aGVyZSBDIDogUmFuZG9tQWNjZXNzQ29sbGVjdGlvbiwgQy5FbGVtZW50ID09IEVsZW1lbnQge30KICAgIHB1YmxpYyBpbml0PyhfIG90aGVyOiBBbnlCaWRpcmVjdGlvbmFsQ29sbGVjdGlvbjxFbGVtZW50Pikge30KfQpleHRlbnNpb24gQW55U2VxdWVuY2UgewogICAgcHVibGljIGluaXQ8Uz4oXyBiYXNlOiBTKSB3aGVyZSBTIDogU2VxdWVuY2UsIEVsZW1lbnQgPT0gUy5FbGVtZW50IHt9Cn0KZXh0ZW5zaW9uIEFycmF5IHsKICAgIHB1YmxpYyBpbml0KHVuc2FmZVVuaW5pdGlhbGl6ZWRDYXBhY2l0eTogSW50LCBpbml0aWFsaXppbmdXaXRoIGluaXRpYWxpemVyOiAoXyBidWZmZXI6IGlub3V0IFVuc2FmZU11dGFibGVCdWZmZXJQb2ludGVyPEVsZW1lbnQ+LCBfIGluaXRpYWxpemVkQ291bnQ6IGlub3V0IEludCkgdGhyb3dzIC0+IFZvaWQpIHJldGhyb3dzIHt9CiAgICBwdWJsaWMgdmFyIGNhcGFjaXR5OiBJbnQgeyBnZXQgfQogICAgcHVibGljIHN1YnNjcmlwdChpbmRleDogSW50KSAtPiBFbGVtZW50IHsgZ2V0IHNldCB9IHt9CiAgICBwdWJsaWMgZnVuYyB3aXRoVW5zYWZlQnVmZmVyUG9pbnRlcjxSPihfIGJvZHk6IChVbnNhZmVCdWZmZXJQb2ludGVyPEVsZW1lbnQ+KSB0aHJvd3MgLT4gUikgcmV0aHJvd3MgLT4gUiB7fQogICAgcHVibGljIGZ1bmMgd2l0aFVuc2FmZUJ5dGVzPFI+KF8gYm9keTogKFVuc2FmZVJhd0J1ZmZlclBvaW50ZXIpIHRocm93cyAtPiBSKSByZXRocm93cyAtPiBSIHt9CiAgICBwdWJsaWMgbXV0YXRpbmcgZnVuYyB3aXRoVW5zYWZlTXV0YWJsZUJ1ZmZlclBvaW50ZXI8Uj4oXyBib2R5OiAoaW5vdXQgVW5zYWZlTXV0YWJsZUJ1ZmZlclBvaW50ZXI8RWxlbWVudD4pIHRocm93cyAtPiBSKSByZXRocm93cyAtPiBSIHt9CiAgICBwdWJsaWMgbXV0YXRpbmcgZnVuYyB3aXRoVW5zYWZlTXV0YWJsZUJ5dGVzPFI+KF8gYm9keTogKFVuc2FmZU11dGFibGVSYXdCdWZmZXJQb2ludGVyKSB0aHJvd3MgLT4gUikgcmV0aHJvd3MgLT4gUiB7fQp9CmV4dGVuc2lvbiBBcnJheVNsaWNlIHsKICAgIHB1YmxpYyB2YXIgY2FwYWNpdHk6IEludCB7IGdldCB9CiAgICBwdWJsaWMgc3Vic2NyaXB0KGluZGV4OiBJbnQpIC0+IEVsZW1lbnQgeyBnZXQgc2V0IH0ge30KICAgIHB1YmxpYyBmdW5jIHdpdGhVbnNhZmVCdWZmZXJQb2ludGVyPFI+KF8gYm9keTogKFVuc2FmZUJ1ZmZlclBvaW50ZXI8RWxlbWVudD4pIHRocm93cyAtPiBSKSByZXRocm93cyAtPiBSIHt9CiAgICBwdWJsaWMgZnVuYyB3aXRoVW5zYWZlQnl0ZXM8Uj4oXyBib2R5OiAoVW5zYWZlUmF3QnVmZmVyUG9pbnRlcikgdGhyb3dzIC0+IFIpIHJldGhyb3dzIC0+IFIge30KICAgIHB1YmxpYyBtdXRhdGluZyBmdW5jIHdpdGhVbnNhZmVNdXRhYmxlQnVmZmVyUG9pbnRlcjxSPihfIGJvZHk6IChpbm91dCBVbnNhZmVNdXRhYmxlQnVmZmVyUG9pbnRlcjxFbGVtZW50PikgdGhyb3dzIC0+IFIpIHJldGhyb3dzIC0+IFIge30KICAgIHB1YmxpYyBtdXRhdGluZyBmdW5jIHdpdGhVbnNhZmVNdXRhYmxlQnl0ZXM8Uj4oXyBib2R5OiAoVW5zYWZlTXV0YWJsZVJhd0J1ZmZlclBvaW50ZXIpIHRocm93cyAtPiBSKSByZXRocm93cyAtPiBSIHt9Cn0KZXh0ZW5zaW9uIEF1dG9yZWxlYXNpbmdVbnNhZmVNdXRhYmxlUG9pbnRlciB7Cn0KZXh0ZW5zaW9uIENsb3NlZFJhbmdlIHsKICAgIHB1YmxpYyBmdW5jIGNsYW1wZWQodG8gbGltaXRzOiBDbG9zZWRSYW5nZSkgLT4gQ2xvc2VkUmFuZ2Uge30KICAgIHB1YmxpYyBmdW5jIG92ZXJsYXBzKF8gb3RoZXI6IENsb3NlZFJhbmdlPEJvdW5kPikgLT4gQm9vbCB7fQp9CmV4dGVuc2lvbiBDbG9zZWRSYW5nZS5JbmRleCB7Cn0KZXh0ZW5zaW9uIENvbGxlY3Rpb25EaWZmZXJlbmNlIHsKICAgIHB1YmxpYyBmdW5jIGluZGV4KGJlZm9yZSBpbmRleDogSW5kZXgpIC0+IEluZGV4IHt9Cn0KZXh0ZW5zaW9uIENvbGxlY3Rpb25EaWZmZXJlbmNlLkNoYW5nZSB7Cn0KZXh0ZW5zaW9uIENvbGxlY3Rpb25EaWZmZXJlbmNlLkluZGV4IHsKfQpleHRlbnNpb24gQ29sbGVjdGlvbk9mT25lIHsKfQpleHRlbnNpb24gQ29sbGVjdGlvbk9mT25lLkl0ZXJhdG9yIHsKfQpleHRlbnNpb24gQ29udGlndW91c0FycmF5IHsKICAgIHB1YmxpYyBpbml0KHVuc2FmZVVuaW5pdGlhbGl6ZWRDYXBhY2l0eTogSW50LCBpbml0aWFsaXppbmdXaXRoIGluaXRpYWxpemVyOiAoXyBidWZmZXI6IGlub3V0IFVuc2FmZU11dGFibGVCdWZmZXJQb2ludGVyPEVsZW1lbnQ+LCBfIGluaXRpYWxpemVkQ291bnQ6IGlub3V0IEludCkgdGhyb3dzIC0+IFZvaWQpIHJldGhyb3dzIHt9CiAgICBwdWJsaWMgdmFyIGNhcGFjaXR5OiBJbnQgeyBnZXQgfQogICAgcHVibGljIHN1YnNjcmlwdChpbmRleDogSW50KSAtPiBFbGVtZW50IHsgZ2V0IHNldCB9IHt9CiAgICBwdWJsaWMgZnVuYyB3aXRoVW5zYWZlQnVmZmVyUG9pbnRlcjxSPihfIGJvZHk6IChVbnNhZmVCdWZmZXJQb2ludGVyPEVsZW1lbnQ+KSB0aHJvd3MgLT4gUikgcmV0aHJvd3MgLT4gUiB7fQogICAgcHVibGljIGZ1bmMgd2l0aFVuc2FmZUJ5dGVzPFI+KF8gYm9keTogKFVuc2FmZVJhd0J1ZmZlclBvaW50ZXIpIHRocm93cyAtPiBSKSByZXRocm93cyAtPiBSIHt9CiAgICBwdWJsaWMgbXV0YXRpbmcgZnVuYyB3aXRoVW5zYWZlTXV0YWJsZUJ1ZmZlclBvaW50ZXI8Uj4oXyBib2R5OiAoaW5vdXQgVW5zYWZlTXV0YWJsZUJ1ZmZlclBvaW50ZXI8RWxlbWVudD4pIHRocm93cyAtPiBSKSByZXRocm93cyAtPiBSIHt9CiAgICBwdWJsaWMgbXV0YXRpbmcgZnVuYyB3aXRoVW5zYWZlTXV0YWJsZUJ5dGVzPFI+KF8gYm9keTogKFVuc2FmZU11dGFibGVSYXdCdWZmZXJQb2ludGVyKSB0aHJvd3MgLT4gUikgcmV0aHJvd3MgLT4gUiB7fQp9CmV4dGVuc2lvbiBEZWZhdWx0SW5kaWNlcyB7CiAgICBwdWJsaWMgc3Vic2NyaXB0KGk6IEluZGV4KSAtPiBFbGVtZW50cy5JbmRleCB7IGdldCB9IHt9Cn0KZXh0ZW5zaW9uIERpY3Rpb25hcnkgewogICAgcHVibGljIHZhciBjYXBhY2l0eTogSW50IHsgZ2V0IH0KICAgIEBhdmFpbGFibGUoc3dpZnQsIGludHJvZHVjZWQ6IDQuMCkgcHVibGljIHZhciBrZXlzOiBLZXlzIHsgZ2V0IH0KICAgIEBhdmFpbGFibGUoc3dpZnQsIGludHJvZHVjZWQ6IDQuMCkgcHVibGljIHZhciB2YWx1ZXM6IFZhbHVlcyB7IGdldCBzZXQgfQogICAgcHVibGljIHN1YnNjcmlwdChrZXk6IEtleSkgLT4gVmFsdWU/IHsgZ2V0IHNldCB9IHt9CiAgICBwdWJsaWMgc3Vic2NyaXB0KGtleTogS2V5LCBkZWZhdWx0IGRlZmF1bHRWYWx1ZTogQGF1dG9jbG9zdXJlICgpIC0+IFZhbHVlKSAtPiBWYWx1ZSB7IGdldCBzZXQgfSB7fQogICAgcHVibGljIGZ1bmMgY29tcGFjdE1hcFZhbHVlczxUPihfIHRyYW5zZm9ybTogKFZhbHVlKSB0aHJvd3MgLT4gVD8pIHJldGhyb3dzIC0+IFtLZXk6IFRdIHt9CiAgICBwdWJsaWMgZnVuYyBpbmRleChmb3JLZXkga2V5OiBLZXkpIC0+IEluZGV4PyB7fQogICAgcHVibGljIGZ1bmMgbWFwVmFsdWVzPFQ+KF8gdHJhbnNmb3JtOiAoVmFsdWUpIHRocm93cyAtPiBUKSByZXRocm93cyAtPiBbS2V5OiBUXSB7fQogICAgcHVibGljIG11dGF0aW5nIGZ1bmMgbWVyZ2UoXyBvdGhlcjogX19vd25lZCBbS2V5OiBWYWx1ZV0sIHVuaXF1aW5nS2V5c1dpdGggY29tYmluZTogKFZhbHVlLCBWYWx1ZSkgdGhyb3dzIC0+IFZhbHVlKSByZXRocm93cyB7fQogICAgcHVibGljIG11dGF0aW5nIGZ1bmMgbWVyZ2U8Uz4oXyBvdGhlcjogX19vd25lZCBTLCB1bmlxdWluZ0tleXNXaXRoIGNvbWJpbmU6IChWYWx1ZSwgVmFsdWUpIHRocm93cyAtPiBWYWx1ZSkgcmV0aHJvd3Mgd2hlcmUgUyA6IFNlcXVlbmNlLCAoS2V5LCBWYWx1ZSkgPT0gUy5FbGVtZW50IHt9CiAgICBwdWJsaWMgZnVuYyBtZXJnaW5nKF8gb3RoZXI6IF9fb3duZWQgW0tleTogVmFsdWVdLCB1bmlxdWluZ0tleXNXaXRoIGNvbWJpbmU6IChWYWx1ZSwgVmFsdWUpIHRocm93cyAtPiBWYWx1ZSkgcmV0aHJvd3MgLT4gW0tleTogVmFsdWVdIHt9CiAgICBwdWJsaWMgZnVuYyBtZXJnaW5nPFM+KF8gb3RoZXI6IF9fb3duZWQgUywgdW5pcXVpbmdLZXlzV2l0aCBjb21iaW5lOiAoVmFsdWUsIFZhbHVlKSB0aHJvd3MgLT4gVmFsdWUpIHJldGhyb3dzIC0+IFtLZXk6IFZhbHVlXSB3aGVyZSBTIDogU2VxdWVuY2UsIChLZXksIFZhbHVlKSA9PSBTLkVsZW1lbnQge30KICAgIEBkaXNjYXJkYWJsZVJlc3VsdCBwdWJsaWMgbXV0YXRpbmcgZnVuYyByZW1vdmUoYXQgaW5kZXg6IEluZGV4KSAtPiBFbGVtZW50IHt9CiAgICBwdWJsaWMgbXV0YXRpbmcgZnVuYyByZW1vdmVBbGwoa2VlcGluZ0NhcGFjaXR5IGtlZXBDYXBhY2l0eTogQm9vbCA9IHgpIHt9CiAgICBAZGlzY2FyZGFibGVSZXN1bHQgcHVibGljIG11dGF0aW5nIGZ1bmMgcmVtb3ZlVmFsdWUoZm9yS2V5IGtleTogS2V5KSAtPiBWYWx1ZT8ge30KICAgIHB1YmxpYyBtdXRhdGluZyBmdW5jIHJlc2VydmVDYXBhY2l0eShfIG1pbmltdW1DYXBhY2l0eTogSW50KSB7fQogICAgQGRpc2NhcmRhYmxlUmVzdWx0IHB1YmxpYyBtdXRhdGluZyBmdW5jIHVwZGF0ZVZhbHVlKF8gdmFsdWU6IF9fb3duZWQgVmFsdWUsIGZvcktleSBrZXk6IEtleSkgLT4gVmFsdWU/IHt9Cn0KZXh0ZW5zaW9uIERpY3Rpb25hcnkuSW5kZXggewp9CmV4dGVuc2lvbiBEaWN0aW9uYXJ5Lkl0ZXJhdG9yIHsKfQpleHRlbnNpb24gRGljdGlvbmFyeS5LZXlzIHsKICAgIHB1YmxpYyBmdW5jIG1ha2VJdGVyYXRvcigpIC0+IEl0ZXJhdG9yIHt9Cn0KZXh0ZW5zaW9uIERpY3Rpb25hcnkuVmFsdWVzIHsKICAgIHB1YmxpYyBmdW5jIG1ha2VJdGVyYXRvcigpIC0+IEl0ZXJhdG9yIHt9Cn0KZXh0ZW5zaW9uIERpY3Rpb25hcnkuX1ZhcmlhbnQgewp9CmV4dGVuc2lvbiBEcm9wRmlyc3RTZXF1ZW5jZSB7Cn0KZXh0ZW5zaW9uIERyb3BXaGlsZVNlcXVlbmNlIHsKfQpleHRlbnNpb24gRHJvcFdoaWxlU2VxdWVuY2UuSXRlcmF0b3Igewp9CmV4dGVuc2lvbiBFbXB0eUNvbGxlY3Rpb24gewp9CmV4dGVuc2lvbiBFbXB0eUNvbGxlY3Rpb24uSXRlcmF0b3Igewp9CmV4dGVuc2lvbiBFbnVtZXJhdGVkU2VxdWVuY2Ugewp9CmV4dGVuc2lvbiBFbnVtZXJhdGVkU2VxdWVuY2UuSXRlcmF0b3Igewp9CmV4dGVuc2lvbiBGbGF0dGVuQ29sbGVjdGlvbiB7Cn0KZXh0ZW5zaW9uIEZsYXR0ZW5TZXF1ZW5jZSB7Cn0KZXh0ZW5zaW9uIEZsYXR0ZW5TZXF1ZW5jZS5JbmRleCB7Cn0KZXh0ZW5zaW9uIEZsYXR0ZW5TZXF1ZW5jZS5JdGVyYXRvciB7Cn0KZXh0ZW5zaW9uIEluZGV4aW5nSXRlcmF0b3Igewp9CmV4dGVuc2lvbiBJdGVyYXRvclNlcXVlbmNlIHsKfQpleHRlbnNpb24gSm9pbmVkU2VxdWVuY2Ugewp9CmV4dGVuc2lvbiBKb2luZWRTZXF1ZW5jZS5JdGVyYXRvciB7Cn0KZXh0ZW5zaW9uIEtleVZhbHVlUGFpcnMgewp9CmV4dGVuc2lvbiBMYXp5Q29sbGVjdGlvbiB7Cn0KZXh0ZW5zaW9uIExhenlEcm9wV2hpbGVDb2xsZWN0aW9uIHsKfQpleHRlbnNpb24gTGF6eURyb3BXaGlsZVNlcXVlbmNlIHsKfQpleHRlbnNpb24gTGF6eURyb3BXaGlsZVNlcXVlbmNlLkl0ZXJhdG9yIHsKfQpleHRlbnNpb24gTGF6eUZpbHRlckNvbGxlY3Rpb24gewp9CmV4dGVuc2lvbiBMYXp5RmlsdGVyU2VxdWVuY2Ugewp9CmV4dGVuc2lvbiBMYXp5RmlsdGVyU2VxdWVuY2UuSXRlcmF0b3Igewp9CmV4dGVuc2lvbiBMYXp5TWFwQ29sbGVjdGlvbiB7Cn0KZXh0ZW5zaW9uIExhenlNYXBTZXF1ZW5jZSB7Cn0KZXh0ZW5zaW9uIExhenlNYXBTZXF1ZW5jZS5JdGVyYXRvciB7Cn0KZXh0ZW5zaW9uIExhenlQcmVmaXhXaGlsZUNvbGxlY3Rpb24gewp9CmV4dGVuc2lvbiBMYXp5UHJlZml4V2hpbGVTZXF1ZW5jZSB7Cn0KZXh0ZW5zaW9uIExhenlQcmVmaXhXaGlsZVNlcXVlbmNlLkluZGV4IHsKfQpleHRlbnNpb24gTGF6eVByZWZpeFdoaWxlU2VxdWVuY2UuSXRlcmF0b3Igewp9CmV4dGVuc2lvbiBMYXp5U2VxdWVuY2Ugewp9CmV4dGVuc2lvbiBNYW5hZ2VkQnVmZmVyIHsKICAgIHB1YmxpYyBjbGFzcyBmdW5jIGNyZWF0ZShtaW5pbXVtQ2FwYWNpdHk6IEludCwgbWFraW5nSGVhZGVyV2l0aCBmYWN0b3J5OiAoTWFuYWdlZEJ1ZmZlcjxIZWFkZXIsIEVsZW1lbnQ+KSB0aHJvd3MgLT4gSGVhZGVyKSByZXRocm93cyAtPiBNYW5hZ2VkQnVmZmVyPEhlYWRlciwgRWxlbWVudD4ge30KICAgIHB1YmxpYyB2YXIgY2FwYWNpdHk6IEludCB7IGdldCB9CiAgICBwdWJsaWMgZnVuYyB3aXRoVW5zYWZlTXV0YWJsZVBvaW50ZXJUb0VsZW1lbnRzPFI+KF8gYm9keTogKFVuc2FmZU11dGFibGVQb2ludGVyPEVsZW1lbnQ+KSB0aHJvd3MgLT4gUikgcmV0aHJvd3MgLT4gUiB7fQogICAgcHVibGljIGZ1bmMgd2l0aFVuc2FmZU11dGFibGVQb2ludGVyVG9IZWFkZXI8Uj4oXyBib2R5OiAoVW5zYWZlTXV0YWJsZVBvaW50ZXI8SGVhZGVyPikgdGhyb3dzIC0+IFIpIHJldGhyb3dzIC0+IFIge30KICAgIHB1YmxpYyBmdW5jIHdpdGhVbnNhZmVNdXRhYmxlUG9pbnRlcnM8Uj4oXyBib2R5OiAoVW5zYWZlTXV0YWJsZVBvaW50ZXI8SGVhZGVyPiwgVW5zYWZlTXV0YWJsZVBvaW50ZXI8RWxlbWVudD4pIHRocm93cyAtPiBSKSByZXRocm93cyAtPiBSIHt9Cn0KZXh0ZW5zaW9uIE1hbmFnZWRCdWZmZXJQb2ludGVyIHsKICAgIHB1YmxpYyB2YXIgYnVmZmVyOiBBbnlPYmplY3QgeyBnZXQgfQogICAgcHVibGljIHZhciBjYXBhY2l0eTogSW50IHsgZ2V0IH0KICAgIHB1YmxpYyB2YXIgaGVhZGVyOiBIZWFkZXIgeyBnZXQgc2V0IH0KICAgIHB1YmxpYyBtdXRhdGluZyBmdW5jIGlzVW5pcXVlUmVmZXJlbmNlKCkgLT4gQm9vbCB7fQogICAgcHVibGljIGZ1bmMgd2l0aFVuc2FmZU11dGFibGVQb2ludGVyVG9FbGVtZW50czxSPihfIGJvZHk6IChVbnNhZmVNdXRhYmxlUG9pbnRlcjxFbGVtZW50PikgdGhyb3dzIC0+IFIpIHJldGhyb3dzIC0+IFIge30KICAgIHB1YmxpYyBmdW5jIHdpdGhVbnNhZmVNdXRhYmxlUG9pbnRlclRvSGVhZGVyPFI+KF8gYm9keTogKFVuc2FmZU11dGFibGVQb2ludGVyPEhlYWRlcj4pIHRocm93cyAtPiBSKSByZXRocm93cyAtPiBSIHt9CiAgICBwdWJsaWMgZnVuYyB3aXRoVW5zYWZlTXV0YWJsZVBvaW50ZXJzPFI+KF8gYm9keTogKFVuc2FmZU11dGFibGVQb2ludGVyPEhlYWRlcj4sIFVuc2FmZU11dGFibGVQb2ludGVyPEVsZW1lbnQ+KSB0aHJvd3MgLT4gUikgcmV0aHJvd3MgLT4gUiB7fQp9CmV4dGVuc2lvbiBNZW1vcnlMYXlvdXQgewogICAgcHVibGljIHN0YXRpYyBmdW5jIGFsaWdubWVudChvZlZhbHVlIHZhbHVlOiBUKSAtPiBJbnQge30KICAgIHB1YmxpYyBzdGF0aWMgZnVuYyBvZmZzZXQob2Yga2V5OiBQYXJ0aWFsS2V5UGF0aDxUPikgLT4gSW50PyB7fQogICAgcHVibGljIHN0YXRpYyBmdW5jIHNpemUob2ZWYWx1ZSB2YWx1ZTogVCkgLT4gSW50IHt9CiAgICBwdWJsaWMgc3RhdGljIGZ1bmMgc3RyaWRlKG9mVmFsdWUgdmFsdWU6IFQpIC0+IEludCB7fQp9CmV4dGVuc2lvbiBPcHRpb25hbCB7CiAgICBwdWJsaWMgZnVuYyB+PShsaHM6IF9PcHRpb25hbE5pbENvbXBhcmlzb25UeXBlLCByaHM6IFdyYXBwZWQ/KSAtPiBCb29sIHt9Cn0KZXh0ZW5zaW9uIFBhcnRpYWxSYW5nZUZyb20gewp9CmV4dGVuc2lvbiBQYXJ0aWFsUmFuZ2VUaHJvdWdoIHsKfQpleHRlbnNpb24gUGFydGlhbFJhbmdlVXBUbyB7Cn0KZXh0ZW5zaW9uIFByZWZpeFNlcXVlbmNlIHsKfQpleHRlbnNpb24gUHJlZml4U2VxdWVuY2UuSXRlcmF0b3Igewp9CmV4dGVuc2lvbiBSYW5nZSB7CiAgICBwdWJsaWMgZnVuYyBjbGFtcGVkKHRvIGxpbWl0czogUmFuZ2UpIC0+IFJhbmdlIHt9CiAgICBwdWJsaWMgZnVuYyBvdmVybGFwcyhfIG90aGVyOiBSYW5nZTxCb3VuZD4pIC0+IEJvb2wge30KfQpleHRlbnNpb24gUmVwZWF0ZWQgewp9CmV4dGVuc2lvbiBSZXN1bHQgewp9CmV4dGVuc2lvbiBSZXZlcnNlZENvbGxlY3Rpb24gewp9CmV4dGVuc2lvbiBSZXZlcnNlZENvbGxlY3Rpb24uSW5kZXggewp9CmV4dGVuc2lvbiBSZXZlcnNlZENvbGxlY3Rpb24uSXRlcmF0b3Igewp9CmV4dGVuc2lvbiBTSU1EMTYgewogICAgcHVibGljIGluaXQ8T3RoZXI+KF8gb3RoZXI6IFNJTUQxNjxPdGhlcj4pIHdoZXJlIE90aGVyIDogQmluYXJ5RmxvYXRpbmdQb2ludCwgU2NhbGFyIDogQmluYXJ5RmxvYXRpbmdQb2ludCB7fQogICAgcHVibGljIGluaXQ8T3RoZXI+KF8gb3RoZXI6IFNJTUQxNjxPdGhlcj4pIHdoZXJlIE90aGVyIDogRml4ZWRXaWR0aEludGVnZXIsIFNjYWxhciA6IEJpbmFyeUZsb2F0aW5nUG9pbnQge30KICAgIHB1YmxpYyBpbml0PE90aGVyPihfIG90aGVyOiBTSU1EMTY8T3RoZXI+LCByb3VuZGluZyBydWxlOiBGbG9hdGluZ1BvaW50Um91bmRpbmdSdWxlID0geCkgd2hlcmUgT3RoZXIgOiBCaW5hcnlGbG9hdGluZ1BvaW50LCBTY2FsYXIgOiBGaXhlZFdpZHRoSW50ZWdlciB7fQogICAgcHVibGljIGluaXQ8T3RoZXI+KGNsYW1waW5nIG90aGVyOiBTSU1EMTY8T3RoZXI+KSB3aGVyZSBPdGhlciA6IEZpeGVkV2lkdGhJbnRlZ2VyLCBTY2FsYXIgOiBGaXhlZFdpZHRoSW50ZWdlciB7fQogICAgcHVibGljIGluaXQ8T3RoZXI+KHRydW5jYXRpbmdJZk5lZWRlZCBvdGhlcjogU0lNRDE2PE90aGVyPikgd2hlcmUgT3RoZXIgOiBGaXhlZFdpZHRoSW50ZWdlciwgU2NhbGFyIDogRml4ZWRXaWR0aEludGVnZXIge30KfQpleHRlbnNpb24gU0lNRDIgewogICAgcHVibGljIGluaXQ8T3RoZXI+KF8gb3RoZXI6IFNJTUQyPE90aGVyPikgd2hlcmUgT3RoZXIgOiBCaW5hcnlGbG9hdGluZ1BvaW50LCBTY2FsYXIgOiBCaW5hcnlGbG9hdGluZ1BvaW50IHt9CiAgICBwdWJsaWMgaW5pdDxPdGhlcj4oXyBvdGhlcjogU0lNRDI8T3RoZXI+KSB3aGVyZSBPdGhlciA6IEZpeGVkV2lkdGhJbnRlZ2VyLCBTY2FsYXIgOiBCaW5hcnlGbG9hdGluZ1BvaW50IHt9CiAgICBwdWJsaWMgaW5pdDxPdGhlcj4oXyBvdGhlcjogU0lNRDI8T3RoZXI+LCByb3VuZGluZyBydWxlOiBGbG9hdGluZ1BvaW50Um91bmRpbmdSdWxlID0geCkgd2hlcmUgT3RoZXIgOiBCaW5hcnlGbG9hdGluZ1BvaW50LCBTY2FsYXIgOiBGaXhlZFdpZHRoSW50ZWdlciB7fQogICAgcHVibGljIGluaXQ8T3RoZXI+KGNsYW1waW5nIG90aGVyOiBTSU1EMjxPdGhlcj4pIHdoZXJlIE90aGVyIDogRml4ZWRXaWR0aEludGVnZXIsIFNjYWxhciA6IEZpeGVkV2lkdGhJbnRlZ2VyIHt9CiAgICBwdWJsaWMgaW5pdDxPdGhlcj4odHJ1bmNhdGluZ0lmTmVlZGVkIG90aGVyOiBTSU1EMjxPdGhlcj4pIHdoZXJlIE90aGVyIDogRml4ZWRXaWR0aEludGVnZXIsIFNjYWxhciA6IEZpeGVkV2lkdGhJbnRlZ2VyIHt9Cn0KZXh0ZW5zaW9uIFNJTUQzIHsKICAgIHB1YmxpYyBpbml0PE90aGVyPihfIG90aGVyOiBTSU1EMzxPdGhlcj4pIHdoZXJlIE90aGVyIDogQmluYXJ5RmxvYXRpbmdQb2ludCwgU2NhbGFyIDogQmluYXJ5RmxvYXRpbmdQb2ludCB7fQogICAgcHVibGljIGluaXQ8T3RoZXI+KF8gb3RoZXI6IFNJTUQzPE90aGVyPikgd2hlcmUgT3RoZXIgOiBGaXhlZFdpZHRoSW50ZWdlciwgU2NhbGFyIDogQmluYXJ5RmxvYXRpbmdQb2ludCB7fQogICAgcHVibGljIGluaXQoXyB4eTogU0lNRDI8U2NhbGFyPiwgXyB6OiBTY2FsYXIpIHt9CiAgICBwdWJsaWMgaW5pdDxPdGhlcj4oXyBvdGhlcjogU0lNRDM8T3RoZXI+LCByb3VuZGluZyBydWxlOiBGbG9hdGluZ1BvaW50Um91bmRpbmdSdWxlID0geCkgd2hlcmUgT3RoZXIgOiBCaW5hcnlGbG9hdGluZ1BvaW50LCBTY2FsYXIgOiBGaXhlZFdpZHRoSW50ZWdlciB7fQogICAgcHVibGljIGluaXQ8T3RoZXI+KGNsYW1waW5nIG90aGVyOiBTSU1EMzxPdGhlcj4pIHdoZXJlIE90aGVyIDogRml4ZWRXaWR0aEludGVnZXIsIFNjYWxhciA6IEZpeGVkV2lkdGhJbnRlZ2VyIHt9CiAgICBwdWJsaWMgaW5pdDxPdGhlcj4odHJ1bmNhdGluZ0lmTmVlZGVkIG90aGVyOiBTSU1EMzxPdGhlcj4pIHdoZXJlIE90aGVyIDogRml4ZWRXaWR0aEludGVnZXIsIFNjYWxhciA6IEZpeGVkV2lkdGhJbnRlZ2VyIHt9Cn0KZXh0ZW5zaW9uIFNJTUQzMiB7CiAgICBwdWJsaWMgaW5pdDxPdGhlcj4oXyBvdGhlcjogU0lNRDMyPE90aGVyPikgd2hlcmUgT3RoZXIgOiBCaW5hcnlGbG9hdGluZ1BvaW50LCBTY2FsYXIgOiBCaW5hcnlGbG9hdGluZ1BvaW50IHt9CiAgICBwdWJsaWMgaW5pdDxPdGhlcj4oXyBvdGhlcjogU0lNRDMyPE90aGVyPikgd2hlcmUgT3RoZXIgOiBGaXhlZFdpZHRoSW50ZWdlciwgU2NhbGFyIDogQmluYXJ5RmxvYXRpbmdQb2ludCB7fQogICAgcHVibGljIGluaXQ8T3RoZXI+KF8gb3RoZXI6IFNJTUQzMjxPdGhlcj4sIHJvdW5kaW5nIHJ1bGU6IEZsb2F0aW5nUG9pbnRSb3VuZGluZ1J1bGUgPSB4KSB3aGVyZSBPdGhlciA6IEJpbmFyeUZsb2F0aW5nUG9pbnQsIFNjYWxhciA6IEZpeGVkV2lkdGhJbnRlZ2VyIHt9CiAgICBwdWJsaWMgaW5pdDxPdGhlcj4oY2xhbXBpbmcgb3RoZXI6IFNJTUQzMjxPdGhlcj4pIHdoZXJlIE90aGVyIDogRml4ZWRXaWR0aEludGVnZXIsIFNjYWxhciA6IEZpeGVkV2lkdGhJbnRlZ2VyIHt9CiAgICBwdWJsaWMgaW5pdDxPdGhlcj4odHJ1bmNhdGluZ0lmTmVlZGVkIG90aGVyOiBTSU1EMzI8T3RoZXI+KSB3aGVyZSBPdGhlciA6IEZpeGVkV2lkdGhJbnRlZ2VyLCBTY2FsYXIgOiBGaXhlZFdpZHRoSW50ZWdlciB7fQp9CmV4dGVuc2lvbiBTSU1ENCB7CiAgICBwdWJsaWMgaW5pdDxPdGhlcj4oXyBvdGhlcjogU0lNRDQ8T3RoZXI+KSB3aGVyZSBPdGhlciA6IEJpbmFyeUZsb2F0aW5nUG9pbnQsIFNjYWxhciA6IEJpbmFyeUZsb2F0aW5nUG9pbnQge30KICAgIHB1YmxpYyBpbml0PE90aGVyPihfIG90aGVyOiBTSU1ENDxPdGhlcj4pIHdoZXJlIE90aGVyIDogRml4ZWRXaWR0aEludGVnZXIsIFNjYWxhciA6IEJpbmFyeUZsb2F0aW5nUG9pbnQge30KICAgIHB1YmxpYyBpbml0KF8geHl6OiBTSU1EMzxTY2FsYXI+LCBfIHc6IFNjYWxhcikge30KICAgIHB1YmxpYyBpbml0PE90aGVyPihfIG90aGVyOiBTSU1ENDxPdGhlcj4sIHJvdW5kaW5nIHJ1bGU6IEZsb2F0aW5nUG9pbnRSb3VuZGluZ1J1bGUgPSB4KSB3aGVyZSBPdGhlciA6IEJpbmFyeUZsb2F0aW5nUG9pbnQsIFNjYWxhciA6IEZpeGVkV2lkdGhJbnRlZ2VyIHt9CiAgICBwdWJsaWMgaW5pdDxPdGhlcj4oY2xhbXBpbmcgb3RoZXI6IFNJTUQ0PE90aGVyPikgd2hlcmUgT3RoZXIgOiBGaXhlZFdpZHRoSW50ZWdlciwgU2NhbGFyIDogRml4ZWRXaWR0aEludGVnZXIge30KICAgIHB1YmxpYyBpbml0PE90aGVyPih0cnVuY2F0aW5nSWZOZWVkZWQgb3RoZXI6IFNJTUQ0PE90aGVyPikgd2hlcmUgT3RoZXIgOiBGaXhlZFdpZHRoSW50ZWdlciwgU2NhbGFyIDogRml4ZWRXaWR0aEludGVnZXIge30KfQpleHRlbnNpb24gU0lNRDY0IHsKICAgIHB1YmxpYyBpbml0PE90aGVyPihfIG90aGVyOiBTSU1ENjQ8T3RoZXI+KSB3aGVyZSBPdGhlciA6IEJpbmFyeUZsb2F0aW5nUG9pbnQsIFNjYWxhciA6IEJpbmFyeUZsb2F0aW5nUG9pbnQge30KICAgIHB1YmxpYyBpbml0PE90aGVyPihfIG90aGVyOiBTSU1ENjQ8T3RoZXI+KSB3aGVyZSBPdGhlciA6IEZpeGVkV2lkdGhJbnRlZ2VyLCBTY2FsYXIgOiBCaW5hcnlGbG9hdGluZ1BvaW50IHt9CiAgICBwdWJsaWMgaW5pdDxPdGhlcj4oXyBvdGhlcjogU0lNRDY0PE90aGVyPiwgcm91bmRpbmcgcnVsZTogRmxvYXRpbmdQb2ludFJvdW5kaW5nUnVsZSA9IHgpIHdoZXJlIE90aGVyIDogQmluYXJ5RmxvYXRpbmdQb2ludCwgU2NhbGFyIDogRml4ZWRXaWR0aEludGVnZXIge30KICAgIHB1YmxpYyBpbml0PE90aGVyPihjbGFtcGluZyBvdGhlcjogU0lNRDY0PE90aGVyPikgd2hlcmUgT3RoZXIgOiBGaXhlZFdpZHRoSW50ZWdlciwgU2NhbGFyIDogRml4ZWRXaWR0aEludGVnZXIge30KICAgIHB1YmxpYyBpbml0PE90aGVyPih0cnVuY2F0aW5nSWZOZWVkZWQgb3RoZXI6IFNJTUQ2NDxPdGhlcj4pIHdoZXJlIE90aGVyIDogRml4ZWRXaWR0aEludGVnZXIsIFNjYWxhciA6IEZpeGVkV2lkdGhJbnRlZ2VyIHt9Cn0KZXh0ZW5zaW9uIFNJTUQ4IHsKICAgIHB1YmxpYyBpbml0PE90aGVyPihfIG90aGVyOiBTSU1EODxPdGhlcj4pIHdoZXJlIE90aGVyIDogQmluYXJ5RmxvYXRpbmdQb2ludCwgU2NhbGFyIDogQmluYXJ5RmxvYXRpbmdQb2ludCB7fQogICAgcHVibGljIGluaXQ8T3RoZXI+KF8gb3RoZXI6IFNJTUQ4PE90aGVyPikgd2hlcmUgT3RoZXIgOiBGaXhlZFdpZHRoSW50ZWdlciwgU2NhbGFyIDogQmluYXJ5RmxvYXRpbmdQb2ludCB7fQogICAgcHVibGljIGluaXQ8T3RoZXI+KF8gb3RoZXI6IFNJTUQ4PE90aGVyPiwgcm91bmRpbmcgcnVsZTogRmxvYXRpbmdQb2ludFJvdW5kaW5nUnVsZSA9IHgpIHdoZXJlIE90aGVyIDogQmluYXJ5RmxvYXRpbmdQb2ludCwgU2NhbGFyIDogRml4ZWRXaWR0aEludGVnZXIge30KICAgIHB1YmxpYyBpbml0PE90aGVyPihjbGFtcGluZyBvdGhlcjogU0lNRDg8T3RoZXI+KSB3aGVyZSBPdGhlciA6IEZpeGVkV2lkdGhJbnRlZ2VyLCBTY2FsYXIgOiBGaXhlZFdpZHRoSW50ZWdlciB7fQogICAgcHVibGljIGluaXQ8T3RoZXI+KHRydW5jYXRpbmdJZk5lZWRlZCBvdGhlcjogU0lNRDg8T3RoZXI+KSB3aGVyZSBPdGhlciA6IEZpeGVkV2lkdGhJbnRlZ2VyLCBTY2FsYXIgOiBGaXhlZFdpZHRoSW50ZWdlciB7fQp9CmV4dGVuc2lvbiBTSU1ETWFzayB7CiAgICBwdWJsaWMgc3RhdGljIGZ1bmMgcmFuZG9tKCkgLT4gU0lNRE1hc2sge30KICAgIHB1YmxpYyBzdGF0aWMgZnVuYyByYW5kb208VD4odXNpbmcgZ2VuZXJhdG9yOiBpbm91dCBUKSAtPiBTSU1ETWFzayB3aGVyZSBUIDogUmFuZG9tTnVtYmVyR2VuZXJhdG9yIHt9CiAgICBwdWJsaWMgcHJlZml4IGZ1bmMgLiEocmhzOiBTSU1ETWFzaykgLT4gU0lNRE1hc2sge30KICAgIHB1YmxpYyBmdW5jIC4mKGxoczogQm9vbCwgcmhzOiBTSU1ETWFzaykgLT4gU0lNRE1hc2sge30KICAgIHB1YmxpYyBmdW5jIC4mPShsaHM6IGlub3V0IFNJTURNYXNrLCByaHM6IEJvb2wpIHt9CiAgICBwdWJsaWMgZnVuYyAuXihsaHM6IEJvb2wsIHJoczogU0lNRE1hc2spIC0+IFNJTURNYXNrIHt9CiAgICBwdWJsaWMgZnVuYyAuXj0obGhzOiBpbm91dCBTSU1ETWFzaywgcmhzOiBCb29sKSB7fQogICAgcHVibGljIGZ1bmMgLnwobGhzOiBCb29sLCByaHM6IFNJTURNYXNrKSAtPiBTSU1ETWFzayB7fQogICAgcHVibGljIGZ1bmMgLnw9KGxoczogaW5vdXQgU0lNRE1hc2ssIHJoczogQm9vbCkge30KfQpleHRlbnNpb24gU2V0IHsKICAgIHB1YmxpYyB2YXIgY2FwYWNpdHk6IEludCB7IGdldCB9CiAgICBAZGlzY2FyZGFibGVSZXN1bHQgcHVibGljIG11dGF0aW5nIGZ1bmMgcmVtb3ZlKGF0IHBvc2l0aW9uOiBJbmRleCkgLT4gRWxlbWVudCB7fQogICAgcHVibGljIG11dGF0aW5nIGZ1bmMgcmVtb3ZlQWxsKGtlZXBpbmdDYXBhY2l0eSBrZWVwQ2FwYWNpdHk6IEJvb2wgPSB4KSB7fQogICAgcHVibGljIG11dGF0aW5nIGZ1bmMgcmVzZXJ2ZUNhcGFjaXR5KF8gbWluaW11bUNhcGFjaXR5OiBJbnQpIHt9Cn0KZXh0ZW5zaW9uIFNldC5JbmRleCB7Cn0KZXh0ZW5zaW9uIFNldC5JdGVyYXRvciB7Cn0KZXh0ZW5zaW9uIFNldC5fVmFyaWFudCB7Cn0KZXh0ZW5zaW9uIFNsaWNlIHsKfQpleHRlbnNpb24gU3RyaWRlVGhyb3VnaCB7Cn0KZXh0ZW5zaW9uIFN0cmlkZVRocm91Z2hJdGVyYXRvciB7Cn0KZXh0ZW5zaW9uIFN0cmlkZVRvIHsKfQpleHRlbnNpb24gU3RyaWRlVG9JdGVyYXRvciB7Cn0KZXh0ZW5zaW9uIFN0cmluZy5VVEYxNlZpZXcgewp9CmV4dGVuc2lvbiBTdHJpbmcuVVRGOFZpZXcgewogICAgcHVibGljIHN1YnNjcmlwdChpOiBJbmRleCkgLT4gVVRGOC5Db2RlVW5pdCB7IGdldCB9IHt9Cn0KZXh0ZW5zaW9uIFN0cmluZy5VVEY4Vmlldy5JbmRleCB7CiAgICBwdWJsaWMgaW5pdD8oXyBpZHg6IFN0cmluZy5JbmRleCwgd2l0aGluIHRhcmdldDogU3RyaW5nLlVURjhWaWV3KSB7fQp9CmV4dGVuc2lvbiBTdHJpbmcuVW5pY29kZVNjYWxhclZpZXcgewp9CmV4dGVuc2lvbiBVVEYxNi5Db2RlVW5pdCB7Cn0KZXh0ZW5zaW9uIFVURjE2LlJldmVyc2VQYXJzZXIgewp9CmV4dGVuc2lvbiBVVEYzMi5QYXJzZXIgewogICAgcHVibGljIG11dGF0aW5nIGZ1bmMgcGFyc2VTY2FsYXI8ST4oZnJvbSBpbnB1dDogaW5vdXQgSSkgLT4gVW5pY29kZS5QYXJzZVJlc3VsdDxFbmNvZGluZy5FbmNvZGVkU2NhbGFyPiB3aGVyZSBJIDogSXRlcmF0b3JQcm90b2NvbCwgRW5jb2RpbmcuQ29kZVVuaXQgPT0gSS5FbGVtZW50IHt9Cn0KZXh0ZW5zaW9uIFVURjguQ29kZVVuaXQgewp9CmV4dGVuc2lvbiBVVEY4LlJldmVyc2VQYXJzZXIgewp9CmV4dGVuc2lvbiBVVEY4VmFsaWRhdGlvblJlc3VsdCB7Cn0KZXh0ZW5zaW9uIFVuaWNvZGUuQVNDSUkuUGFyc2VyIHsKICAgIHB1YmxpYyBtdXRhdGluZyBmdW5jIHBhcnNlU2NhbGFyPEk+KGZyb20gaW5wdXQ6IGlub3V0IEkpIC0+IFVuaWNvZGUuUGFyc2VSZXN1bHQ8RW5jb2RpbmcuRW5jb2RlZFNjYWxhcj4gd2hlcmUgSSA6IEl0ZXJhdG9yUHJvdG9jb2wsIEVuY29kaW5nLkNvZGVVbml0ID09IEkuRWxlbWVudCB7fQp9CmV4dGVuc2lvbiBVbmljb2RlLlNjYWxhciB7Cn0KZXh0ZW5zaW9uIFVuaWNvZGUuU2NhbGFyLlByb3BlcnRpZXMgewogICAgcHVibGljIHZhciBhZ2U6IFVuaWNvZGUuVmVyc2lvbj8geyBnZXQgfQogICAgcHVibGljIHZhciBjYW5vbmljYWxDb21iaW5pbmdDbGFzczogVW5pY29kZS5DYW5vbmljYWxDb21iaW5pbmdDbGFzcyB7IGdldCB9CiAgICBwdWJsaWMgdmFyIGNoYW5nZXNXaGVuQ2FzZUZvbGRlZDogQm9vbCB7IGdldCB9CiAgICBwdWJsaWMgdmFyIGNoYW5nZXNXaGVuQ2FzZU1hcHBlZDogQm9vbCB7IGdldCB9CiAgICBwdWJsaWMgdmFyIGNoYW5nZXNXaGVuTG93ZXJjYXNlZDogQm9vbCB7IGdldCB9CiAgICBwdWJsaWMgdmFyIGNoYW5nZXNXaGVuTkZLQ0Nhc2VGb2xkZWQ6IEJvb2wgeyBnZXQgfQogICAgcHVibGljIHZhciBjaGFuZ2VzV2hlblRpdGxlY2FzZWQ6IEJvb2wgeyBnZXQgfQogICAgcHVibGljIHZhciBjaGFuZ2VzV2hlblVwcGVyY2FzZWQ6IEJvb2wgeyBnZXQgfQogICAgcHVibGljIHZhciBnZW5lcmFsQ2F0ZWdvcnk6IFVuaWNvZGUuR2VuZXJhbENhdGVnb3J5IHsgZ2V0IH0KICAgIHB1YmxpYyB2YXIgaXNBU0NJSUhleERpZ2l0OiBCb29sIHsgZ2V0IH0KICAgIHB1YmxpYyB2YXIgaXNBbHBoYWJldGljOiBCb29sIHsgZ2V0IH0KICAgIHB1YmxpYyB2YXIgaXNCaWRpQ29udHJvbDogQm9vbCB7IGdldCB9CiAgICBwdWJsaWMgdmFyIGlzQmlkaU1pcnJvcmVkOiBCb29sIHsgZ2V0IH0KICAgIHB1YmxpYyB2YXIgaXNDYXNlSWdub3JhYmxlOiBCb29sIHsgZ2V0IH0KICAgIHB1YmxpYyB2YXIgaXNDYXNlZDogQm9vbCB7IGdldCB9CiAgICBwdWJsaWMgdmFyIGlzRGFzaDogQm9vbCB7IGdldCB9CiAgICBwdWJsaWMgdmFyIGlzRGVmYXVsdElnbm9yYWJsZUNvZGVQb2ludDogQm9vbCB7IGdldCB9CiAgICBwdWJsaWMgdmFyIGlzRGVwcmVjYXRlZDogQm9vbCB7IGdldCB9CiAgICBwdWJsaWMgdmFyIGlzRGlhY3JpdGljOiBCb29sIHsgZ2V0IH0KI2lmIG9zKG1hY09TKSB8fCBvcyhpT1MpIHx8IG9zKHdhdGNoT1MpIHx8IG9zKHR2T1MpCiAgICBAYXZhaWxhYmxlKG1hY09TIDEwLjEyLjIsIGlPUyAxMC4yLCB0dk9TIDEwLjEsIHdhdGNoT1MgMy4xLjEsICopIHB1YmxpYyB2YXIgaXNFbW9qaTogQm9vbCB7IGdldCB9CiNlbmRpZgojaWYgb3MobWFjT1MpIHx8IG9zKGlPUykgfHwgb3Mod2F0Y2hPUykgfHwgb3ModHZPUykKICAgIEBhdmFpbGFibGUobWFjT1MgMTAuMTIuMiwgaU9TIDEwLjIsIHR2T1MgMTAuMSwgd2F0Y2hPUyAzLjEuMSwgKikgcHVibGljIHZhciBpc0Vtb2ppTW9kaWZpZXI6IEJvb2wgeyBnZXQgfQojZW5kaWYKI2lmIG9zKG1hY09TKSB8fCBvcyhpT1MpIHx8IG9zKHdhdGNoT1MpIHx8IG9zKHR2T1MpCiAgICBAYXZhaWxhYmxlKG1hY09TIDEwLjEyLjIsIGlPUyAxMC4yLCB0dk9TIDEwLjEsIHdhdGNoT1MgMy4xLjEsICopIHB1YmxpYyB2YXIgaXNFbW9qaU1vZGlmaWVyQmFzZTogQm9vbCB7IGdldCB9CiNlbmRpZgojaWYgb3MobWFjT1MpIHx8IG9zKGlPUykgfHwgb3Mod2F0Y2hPUykgfHwgb3ModHZPUykKICAgIEBhdmFpbGFibGUobWFjT1MgMTAuMTIuMiwgaU9TIDEwLjIsIHR2T1MgMTAuMSwgd2F0Y2hPUyAzLjEuMSwgKikgcHVibGljIHZhciBpc0Vtb2ppUHJlc2VudGF0aW9uOiBCb29sIHsgZ2V0IH0KI2VuZGlmCiAgICBwdWJsaWMgdmFyIGlzRXh0ZW5kZXI6IEJvb2wgeyBnZXQgfQogICAgcHVibGljIHZhciBpc0Z1bGxDb21wb3NpdGlvbkV4Y2x1c2lvbjogQm9vbCB7IGdldCB9CiAgICBwdWJsaWMgdmFyIGlzR3JhcGhlbWVCYXNlOiBCb29sIHsgZ2V0IH0KICAgIHB1YmxpYyB2YXIgaXNHcmFwaGVtZUV4dGVuZDogQm9vbCB7IGdldCB9CiAgICBwdWJsaWMgdmFyIGlzSGV4RGlnaXQ6IEJvb2wgeyBnZXQgfQogICAgcHVibGljIHZhciBpc0lEQ29udGludWU6IEJvb2wgeyBnZXQgfQogICAgcHVibGljIHZhciBpc0lEU0JpbmFyeU9wZXJhdG9yOiBCb29sIHsgZ2V0IH0KICAgIHB1YmxpYyB2YXIgaXNJRFNUcmluYXJ5T3BlcmF0b3I6IEJvb2wgeyBnZXQgfQogICAgcHVibGljIHZhciBpc0lEU3RhcnQ6IEJvb2wgeyBnZXQgfQogICAgcHVibGljIHZhciBpc0lkZW9ncmFwaGljOiBCb29sIHsgZ2V0IH0KICAgIHB1YmxpYyB2YXIgaXNKb2luQ29udHJvbDogQm9vbCB7IGdldCB9CiAgICBwdWJsaWMgdmFyIGlzTG9naWNhbE9yZGVyRXhjZXB0aW9uOiBCb29sIHsgZ2V0IH0KICAgIHB1YmxpYyB2YXIgaXNMb3dlcmNhc2U6IEJvb2wgeyBnZXQgfQogICAgcHVibGljIHZhciBpc01hdGg6IEJvb2wgeyBnZXQgfQogICAgcHVibGljIHZhciBpc05vbmNoYXJhY3RlckNvZGVQb2ludDogQm9vbCB7IGdldCB9CiAgICBwdWJsaWMgdmFyIGlzUGF0dGVyblN5bnRheDogQm9vbCB7IGdldCB9CiAgICBwdWJsaWMgdmFyIGlzUGF0dGVybldoaXRlc3BhY2U6IEJvb2wgeyBnZXQgfQogICAgcHVibGljIHZhciBpc1F1b3RhdGlvbk1hcms6IEJvb2wgeyBnZXQgfQogICAgcHVibGljIHZhciBpc1JhZGljYWw6IEJvb2wgeyBnZXQgfQogICAgcHVibGljIHZhciBpc1NlbnRlbmNlVGVybWluYWw6IEJvb2wgeyBnZXQgfQogICAgcHVibGljIHZhciBpc1NvZnREb3R0ZWQ6IEJvb2wgeyBnZXQgfQogICAgcHVibGljIHZhciBpc1Rlcm1pbmFsUHVuY3R1YXRpb246IEJvb2wgeyBnZXQgfQogICAgcHVibGljIHZhciBpc1VuaWZpZWRJZGVvZ3JhcGg6IEJvb2wgeyBnZXQgfQogICAgcHVibGljIHZhciBpc1VwcGVyY2FzZTogQm9vbCB7IGdldCB9CiAgICBwdWJsaWMgdmFyIGlzVmFyaWF0aW9uU2VsZWN0b3I6IEJvb2wgeyBnZXQgfQogICAgcHVibGljIHZhciBpc1doaXRlc3BhY2U6IEJvb2wgeyBnZXQgfQogICAgcHVibGljIHZhciBpc1hJRENvbnRpbnVlOiBCb29sIHsgZ2V0IH0KICAgIHB1YmxpYyB2YXIgaXNYSURTdGFydDogQm9vbCB7IGdldCB9CiAgICBwdWJsaWMgdmFyIGxvd2VyY2FzZU1hcHBpbmc6IFN0cmluZyB7IGdldCB9CiAgICBwdWJsaWMgdmFyIG5hbWU6IFN0cmluZz8geyBnZXQgfQogICAgcHVibGljIHZhciBuYW1lQWxpYXM6IFN0cmluZz8geyBnZXQgfQogICAgcHVibGljIHZhciBudW1lcmljVHlwZTogVW5pY29kZS5OdW1lcmljVHlwZT8geyBnZXQgfQogICAgcHVibGljIHZhciBudW1lcmljVmFsdWU6IERvdWJsZT8geyBnZXQgfQogICAgcHVibGljIHZhciB0aXRsZWNhc2VNYXBwaW5nOiBTdHJpbmcgeyBnZXQgfQogICAgcHVibGljIHZhciB1cHBlcmNhc2VNYXBwaW5nOiBTdHJpbmcgeyBnZXQgfQp9CmV4dGVuc2lvbiBVbmljb2RlLlNjYWxhci5VVEYxNlZpZXcgewp9CmV4dGVuc2lvbiBVbmljb2RlLlNjYWxhci5VVEY4VmlldyB7Cn0KZXh0ZW5zaW9uIFVuaWNvZGUuVVRGMTYgewogICAgcHVibGljIHN0YXRpYyB2YXIgZW5jb2RlZFJlcGxhY2VtZW50Q2hhcmFjdGVyOiBFbmNvZGVkU2NhbGFyIHsgZ2V0IH0KICAgIHB1YmxpYyBzdGF0aWMgZnVuYyBkZWNvZGUoXyBzb3VyY2U6IEVuY29kZWRTY2FsYXIpIC0+IFVuaWNvZGUuU2NhbGFyIHt9CiAgICBwdWJsaWMgc3RhdGljIGZ1bmMgZW5jb2RlKF8gc291cmNlOiBVbmljb2RlLlNjYWxhcikgLT4gRW5jb2RlZFNjYWxhcj8ge30KICAgIHB1YmxpYyBzdGF0aWMgZnVuYyBpc0FTQ0lJKF8geDogQ29kZVVuaXQpIC0+IEJvb2wge30KICAgIHB1YmxpYyBzdGF0aWMgZnVuYyBpc0xlYWRTdXJyb2dhdGUoXyB4OiBDb2RlVW5pdCkgLT4gQm9vbCB7fQogICAgcHVibGljIHN0YXRpYyBmdW5jIGlzU3Vycm9nYXRlKF8geDogQ29kZVVuaXQpIC0+IEJvb2wge30KICAgIHB1YmxpYyBzdGF0aWMgZnVuYyBpc1RyYWlsU3Vycm9nYXRlKF8geDogQ29kZVVuaXQpIC0+IEJvb2wge30KICAgIHB1YmxpYyBzdGF0aWMgZnVuYyBsZWFkU3Vycm9nYXRlKF8geDogVW5pY29kZS5TY2FsYXIpIC0+IFVURjE2LkNvZGVVbml0IHt9CiAgICBwdWJsaWMgc3RhdGljIGZ1bmMgdHJhaWxTdXJyb2dhdGUoXyB4OiBVbmljb2RlLlNjYWxhcikgLT4gVVRGMTYuQ29kZVVuaXQge30KICAgIHB1YmxpYyBzdGF0aWMgZnVuYyB0cmFuc2NvZGU8RnJvbUVuY29kaW5nPihfIGNvbnRlbnQ6IEZyb21FbmNvZGluZy5FbmNvZGVkU2NhbGFyLCBmcm9tIF86IEZyb21FbmNvZGluZy5UeXBlKSAtPiBFbmNvZGVkU2NhbGFyPyB3aGVyZSBGcm9tRW5jb2RpbmcgOiBVbmljb2RlLkVuY29kaW5nIHt9CiAgICBwdWJsaWMgc3RhdGljIGZ1bmMgdHJhbnNjb2RlZExlbmd0aDxJbnB1dCwgRW5jb2Rpbmc+KG9mIGlucHV0OiBJbnB1dCwgZGVjb2RlZEFzIHNvdXJjZUVuY29kaW5nOiBFbmNvZGluZy5UeXBlLCByZXBhaXJpbmdJbGxGb3JtZWRTZXF1ZW5jZXM6IEJvb2wpIC0+IChjb3VudDogSW50LCBpc0FTQ0lJOiBCb29sKT8gd2hlcmUgRW5jb2RpbmcgOiBVbmljb2RlLkVuY29kaW5nLCBJbnB1dCA6IEl0ZXJhdG9yUHJvdG9jb2wsIEVuY29kaW5nLkNvZGVVbml0ID09IElucHV0LkVsZW1lbnQge30KICAgIHB1YmxpYyBzdGF0aWMgZnVuYyB3aWR0aChfIHg6IFVuaWNvZGUuU2NhbGFyKSAtPiBJbnQge30KfQpleHRlbnNpb24gVW5pY29kZS5VVEYxNi5Gb3J3YXJkUGFyc2VyIHsKfQpleHRlbnNpb24gVW5pY29kZS5VVEY4IHsKICAgIHB1YmxpYyBzdGF0aWMgdmFyIGVuY29kZWRSZXBsYWNlbWVudENoYXJhY3RlcjogRW5jb2RlZFNjYWxhciB7IGdldCB9CiAgICBwdWJsaWMgc3RhdGljIGZ1bmMgZGVjb2RlKF8gc291cmNlOiBFbmNvZGVkU2NhbGFyKSAtPiBVbmljb2RlLlNjYWxhciB7fQogICAgcHVibGljIHN0YXRpYyBmdW5jIGVuY29kZShfIHNvdXJjZTogVW5pY29kZS5TY2FsYXIpIC0+IEVuY29kZWRTY2FsYXI/IHt9CiAgICBwdWJsaWMgc3RhdGljIGZ1bmMgaXNBU0NJSShfIHg6IENvZGVVbml0KSAtPiBCb29sIHt9CiAgICBwdWJsaWMgc3RhdGljIGZ1bmMgdHJhbnNjb2RlPEZyb21FbmNvZGluZz4oXyBjb250ZW50OiBGcm9tRW5jb2RpbmcuRW5jb2RlZFNjYWxhciwgZnJvbSBfOiBGcm9tRW5jb2RpbmcuVHlwZSkgLT4gRW5jb2RlZFNjYWxhcj8gd2hlcmUgRnJvbUVuY29kaW5nIDogX1VuaWNvZGVFbmNvZGluZyB7fQogICAgcHVibGljIHN0YXRpYyBmdW5jIHdpZHRoKF8geDogVW5pY29kZS5TY2FsYXIpIC0+IEludCB7fQp9CmV4dGVuc2lvbiBVbmljb2RlLlVURjguRm9yd2FyZFBhcnNlciB7Cn0KZXh0ZW5zaW9uIFVuc2FmZUJ1ZmZlclBvaW50ZXIgewogICAgcHVibGljIGluaXQoXyBvdGhlcjogVW5zYWZlTXV0YWJsZUJ1ZmZlclBvaW50ZXI8RWxlbWVudD4pIHt9CiAgICBwdWJsaWMgaW5pdChyZWJhc2luZyBzbGljZTogU2xpY2U8VW5zYWZlQnVmZmVyUG9pbnRlcjxFbGVtZW50Pj4pIHt9CiAgICBwdWJsaWMgaW5pdChzdGFydDogVW5zYWZlUG9pbnRlcjxFbGVtZW50Pj8sIGNvdW50OiBJbnQpIHt9CiAgICBwdWJsaWMgdmFyIGJhc2VBZGRyZXNzOiBVbnNhZmVQb2ludGVyPEVsZW1lbnQ+PyB7IGdldCB9CiAgICBwdWJsaWMgc3Vic2NyaXB0KGk6IEludCkgLT4gRWxlbWVudCB7IGdldCB9IHt9CiAgICBwdWJsaWMgZnVuYyBkZWFsbG9jYXRlKCkge30KICAgIHB1YmxpYyBmdW5jIHdpdGhNZW1vcnlSZWJvdW5kPFQsIFJlc3VsdD4odG8gdHlwZTogVC5UeXBlLCBfIGJvZHk6IChVbnNhZmVCdWZmZXJQb2ludGVyPFQ+KSB0aHJvd3MgLT4gUmVzdWx0KSByZXRocm93cyAtPiBSZXN1bHQge30KfQpleHRlbnNpb24gVW5zYWZlQnVmZmVyUG9pbnRlci5JdGVyYXRvciB7Cn0KZXh0ZW5zaW9uIFVuc2FmZU11dGFibGVCdWZmZXJQb2ludGVyIHsKICAgIHB1YmxpYyBzdGF0aWMgZnVuYyBhbGxvY2F0ZShjYXBhY2l0eSBjb3VudDogSW50KSAtPiBVbnNhZmVNdXRhYmxlQnVmZmVyUG9pbnRlcjxFbGVtZW50PiB7fQogICAgcHVibGljIGluaXQobXV0YXRpbmcgb3RoZXI6IFVuc2FmZUJ1ZmZlclBvaW50ZXI8RWxlbWVudD4pIHt9CiAgICBwdWJsaWMgaW5pdChyZWJhc2luZyBzbGljZTogU2xpY2U8VW5zYWZlTXV0YWJsZUJ1ZmZlclBvaW50ZXI8RWxlbWVudD4+KSB7fQogICAgcHVibGljIGluaXQoc3RhcnQ6IFVuc2FmZU11dGFibGVQb2ludGVyPEVsZW1lbnQ+PywgY291bnQ6IEludCkge30KICAgIHB1YmxpYyB2YXIgYmFzZUFkZHJlc3M6IFVuc2FmZU11dGFibGVQb2ludGVyPEVsZW1lbnQ+PyB7IGdldCB9CiAgICBwdWJsaWMgc3Vic2NyaXB0KGk6IEludCkgLT4gRWxlbWVudCB7IGdldCBzZXQgfSB7fQogICAgcHVibGljIGZ1bmMgYXNzaWduKHJlcGVhdGluZyByZXBlYXRlZFZhbHVlOiBFbGVtZW50KSB7fQogICAgcHVibGljIGZ1bmMgZGVhbGxvY2F0ZSgpIHt9CiAgICBwdWJsaWMgZnVuYyBpbml0aWFsaXplPFM+KGZyb20gc291cmNlOiBTKSAtPiAoUy5JdGVyYXRvciwgSW5kZXgpIHdoZXJlIFMgOiBTZXF1ZW5jZSwgRWxlbWVudCA9PSBTLkVsZW1lbnQge30KICAgIHB1YmxpYyBmdW5jIGluaXRpYWxpemUocmVwZWF0aW5nIHJlcGVhdGVkVmFsdWU6IEVsZW1lbnQpIHt9CiAgICBwdWJsaWMgZnVuYyB3aXRoTWVtb3J5UmVib3VuZDxULCBSZXN1bHQ+KHRvIHR5cGU6IFQuVHlwZSwgXyBib2R5OiAoVW5zYWZlTXV0YWJsZUJ1ZmZlclBvaW50ZXI8VD4pIHRocm93cyAtPiBSZXN1bHQpIHJldGhyb3dzIC0+IFJlc3VsdCB7fQp9CmV4dGVuc2lvbiBVbnNhZmVNdXRhYmxlUG9pbnRlciB7Cn0KZXh0ZW5zaW9uIFVuc2FmZVBvaW50ZXIgewp9CmV4dGVuc2lvbiBaaXAyU2VxdWVuY2Ugewp9CmV4dGVuc2lvbiBaaXAyU2VxdWVuY2UuSXRlcmF0b3Igewp9"
      )!,
      encoding: String.Encoding.utf8
    )!
    static let xctest = String(
      data: Data(
        base64Encoded:
          "b3BlbiBjbGFzcyBYQ1ROU05vdGlmaWNhdGlvbkV4cGVjdGF0aW9uIDogQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIFhDVGVzdEV4cGVjdGF0aW9uIHsKICAgIHB1YmxpYyBpbml0KG5hbWUgbm90aWZpY2F0aW9uTmFtZTogTm90aWZpY2F0aW9uLk5hbWUsIG9iamVjdDogQW55PyA9IHgsIG5vdGlmaWNhdGlvbkNlbnRlcjogTm90aWZpY2F0aW9uQ2VudGVyID0geCwgZmlsZTogU3RhdGljU3RyaW5nID0geCwgbGluZTogSW50ID0geCkge30KICAgIG9wZW4gdmFyIGhhbmRsZXI6IEhhbmRsZXI/IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBub3RpZmljYXRpb25DZW50ZXI6IE5vdGlmaWNhdGlvbkNlbnRlciB7IGdldCB9CiAgICBvcGVuIHZhciBub3RpZmljYXRpb25OYW1lOiBOb3RpZmljYXRpb24uTmFtZSB7IGdldCB9CiAgICBvcGVuIHZhciBvYnNlcnZlZE9iamVjdDogQW55PyB7IGdldCB9Cn0Kb3BlbiBjbGFzcyBYQ1ROU1ByZWRpY2F0ZUV4cGVjdGF0aW9uIDogQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIFhDVGVzdEV4cGVjdGF0aW9uIHsKICAgIHB1YmxpYyBpbml0KHByZWRpY2F0ZTogTlNQcmVkaWNhdGUsIG9iamVjdDogQW55PyA9IHgsIGZpbGU6IFN0YXRpY1N0cmluZyA9IHgsIGxpbmU6IEludCA9IHgpIHt9CiAgICBvcGVuIHZhciBoYW5kbGVyOiBIYW5kbGVyPyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgb2JqZWN0OiBBbnk/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHByZWRpY2F0ZTogTlNQcmVkaWNhdGUgeyBnZXQgfQp9Cm9wZW4gY2xhc3MgWENUV2FpdGVyIDogQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgTWFuYWdlYWJsZVdhaXRlciB7CiAgICBvcGVuIGNsYXNzIGZ1bmMgd2FpdChmb3IgZXhwZWN0YXRpb25zOiBbWENUZXN0RXhwZWN0YXRpb25dLCB0aW1lb3V0OiBUaW1lSW50ZXJ2YWwsIGVuZm9yY2VPcmRlcjogQm9vbCA9IHgsIGZpbGU6IFN0YXRpY1N0cmluZyA9IHgsIGxpbmU6IEludCA9IHgpIC0+IFJlc3VsdCB7fQogICAgcHVibGljIGluaXQoZGVsZWdhdGU6IFhDVFdhaXRlckRlbGVnYXRlPyA9IHgpIHt9CiAgICBvcGVuIHZhciBkZWxlZ2F0ZTogWENUV2FpdGVyRGVsZWdhdGU/IHsgZ2V0IHNldCB9CiAgICBwdWJsaWMgdmFyIGRlc2NyaXB0aW9uOiBTdHJpbmcgeyBnZXQgfQogICAgb3BlbiB2YXIgZnVsZmlsbGVkRXhwZWN0YXRpb25zOiBbWENUZXN0RXhwZWN0YXRpb25dIHsgZ2V0IH0KICAgIHB1YmxpYyBmdW5jID09KGxoczogWENUV2FpdGVyLCByaHM6IFhDVFdhaXRlcikgLT4gQm9vbCB7fQogICAgQGRpc2NhcmRhYmxlUmVzdWx0IG9wZW4gZnVuYyB3YWl0KGZvciBleHBlY3RhdGlvbnM6IFtYQ1Rlc3RFeHBlY3RhdGlvbl0sIHRpbWVvdXQ6IFRpbWVJbnRlcnZhbCwgZW5mb3JjZU9yZGVyOiBCb29sID0geCwgZmlsZTogU3RhdGljU3RyaW5nID0geCwgbGluZTogSW50ID0geCkgLT4gUmVzdWx0IHt9Cn0Kb3BlbiBjbGFzcyBYQ1Rlc3QgewogICAgcHVibGljIGluaXQoKSB7fQogICAgb3BlbiB2YXIgbmFtZTogU3RyaW5nIHsgZ2V0IH0KICAgIG9wZW4gdmFyIHRlc3RDYXNlQ291bnQ6IEludCB7IGdldCB9CiAgICBvcGVuIHZhciB0ZXN0UnVuOiBYQ1Rlc3RSdW4/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHRlc3RSdW5DbGFzczogQW55Q2xhc3M/IHsgZ2V0IH0KICAgIG9wZW4gZnVuYyBwZXJmb3JtKF8gcnVuOiBYQ1Rlc3RSdW4pIHt9CiAgICBvcGVuIGZ1bmMgcnVuKCkge30KICAgIG9wZW4gZnVuYyBzZXRVcCgpIHt9CiAgICBvcGVuIGZ1bmMgc2V0VXBXaXRoRXJyb3IoKSB0aHJvd3Mge30KICAgIG9wZW4gZnVuYyB0ZWFyRG93bigpIHt9CiAgICBvcGVuIGZ1bmMgdGVhckRvd25XaXRoRXJyb3IoKSB0aHJvd3Mge30KfQpvcGVuIGNsYXNzIFhDVGVzdENhc2UgOiBBbnlPYmplY3QsIFBlcmZvcm1hbmNlTWV0ZXJEZWxlZ2F0ZSwgWENUV2FpdGVyRGVsZWdhdGUsIFhDVGVzdCB7CiAgICBvcGVuIGNsYXNzIGZ1bmMgc2V0VXAoKSB7fQogICAgb3BlbiBjbGFzcyBmdW5jIHRlYXJEb3duKCkge30KICAgIHB1YmxpYyByZXF1aXJlZCBpbml0KG5hbWU6IFN0cmluZywgdGVzdENsb3N1cmU6IEBlc2NhcGluZyBYQ1Rlc3RDYXNlQ2xvc3VyZSkge30KICAgIG9wZW4gdmFyIGNvbnRpbnVlQWZ0ZXJGYWlsdXJlOiBCb29sIHsgZ2V0IHNldCB9CiAgICBvcGVuIGZ1bmMgYWRkVGVhcmRvd25CbG9jayhfIGJsb2NrOiBAZXNjYXBpbmcgKCkgLT4gVm9pZCkge30KICAgIG9wZW4gZnVuYyBpbnZva2VUZXN0KCkge30KICAgIG9wZW4gZnVuYyByZWNvcmRGYWlsdXJlKHdpdGhEZXNjcmlwdGlvbiBkZXNjcmlwdGlvbjogU3RyaW5nLCBpbkZpbGUgZmlsZVBhdGg6IFN0cmluZywgYXRMaW5lIGxpbmVOdW1iZXI6IEludCwgZXhwZWN0ZWQ6IEJvb2wpIHt9Cn0Kb3BlbiBjbGFzcyBYQ1Rlc3RDYXNlUnVuIDogWENUZXN0UnVuIHsKfQpvcGVuIGNsYXNzIFhDVGVzdEV4cGVjdGF0aW9uIDogQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUgewogICAgcHVibGljIGluaXQoZGVzY3JpcHRpb246IFN0cmluZyA9IHgsIGZpbGU6IFN0YXRpY1N0cmluZyA9IHgsIGxpbmU6IEludCA9IHgpIHt9CiAgICBvcGVuIHZhciBhc3NlcnRGb3JPdmVyRnVsZmlsbDogQm9vbCB7IGdldCBzZXQgfQogICAgcHVibGljIHZhciBkZXNjcmlwdGlvbjogU3RyaW5nIHsgZ2V0IH0KICAgIG9wZW4gdmFyIGV4cGVjdGF0aW9uRGVzY3JpcHRpb246IFN0cmluZyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgZXhwZWN0ZWRGdWxmaWxsbWVudENvdW50OiBJbnQgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGlzSW52ZXJ0ZWQ6IEJvb2wgeyBnZXQgc2V0IH0KICAgIHB1YmxpYyBmdW5jID09KGxoczogWENUZXN0RXhwZWN0YXRpb24sIHJoczogWENUZXN0RXhwZWN0YXRpb24pIC0+IEJvb2wge30KICAgIG9wZW4gZnVuYyBmdWxmaWxsKF8gZmlsZTogU3RhdGljU3RyaW5nID0geCwgbGluZTogSW50ID0geCkge30KICAgIHB1YmxpYyBmdW5jIGhhc2goaW50byBoYXNoZXI6IGlub3V0IEhhc2hlcikge30KfQpvcGVuIGNsYXNzIFhDVGVzdFJ1biB7CiAgICBwdWJsaWMgcmVxdWlyZWQgaW5pdCh0ZXN0OiBYQ1Rlc3QpIHt9CiAgICBvcGVuIHZhciBleGVjdXRpb25Db3VudDogSW50IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGZhaWx1cmVDb3VudDogSW50IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGhhc0JlZW5Ta2lwcGVkIHsgZ2V0IH0KICAgIG9wZW4gdmFyIGhhc1N1Y2NlZWRlZDogQm9vbCB7IGdldCB9CiAgICBvcGVuIHZhciBza2lwQ291bnQ6IEludCB7IGdldCB9CiAgICBvcGVuIHZhciBzdGFydERhdGU6IERhdGU/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHN0b3BEYXRlOiBEYXRlPyB7IGdldCB9CiAgICBwdWJsaWMgdmFyIHRlc3Q6IFhDVGVzdCB7IGdldCB9CiAgICBvcGVuIHZhciB0ZXN0Q2FzZUNvdW50OiBJbnQgeyBnZXQgfQogICAgb3BlbiB2YXIgdGVzdER1cmF0aW9uOiBUaW1lSW50ZXJ2YWwgeyBnZXQgfQogICAgb3BlbiB2YXIgdG90YWxEdXJhdGlvbjogVGltZUludGVydmFsIHsgZ2V0IH0KICAgIG9wZW4gdmFyIHRvdGFsRmFpbHVyZUNvdW50OiBJbnQgeyBnZXQgfQogICAgb3BlbiB2YXIgdW5leHBlY3RlZEV4Y2VwdGlvbkNvdW50OiBJbnQgeyBnZXQgfQogICAgb3BlbiBmdW5jIHN0YXJ0KCkge30KICAgIG9wZW4gZnVuYyBzdG9wKCkge30KfQpvcGVuIGNsYXNzIFhDVGVzdFN1aXRlIDogWENUZXN0IHsKICAgIHB1YmxpYyBpbml0KG5hbWU6IFN0cmluZykge30KICAgIG9wZW4gdmFyIHRlc3RzIHsgZ2V0IH0KICAgIG9wZW4gZnVuYyBhZGRUZXN0KF8gdGVzdDogWENUZXN0KSB7fQp9Cm9wZW4gY2xhc3MgWENUZXN0U3VpdGVSdW4gOiBYQ1Rlc3RSdW4gewogICAgb3BlbiB2YXIgdGVzdFJ1bnMgeyBnZXQgfQogICAgb3BlbiBmdW5jIGFkZFRlc3RSdW4oXyB0ZXN0UnVuOiBYQ1Rlc3RSdW4pIHt9Cn0KcHVibGljIHByb3RvY29sIFhDVFdhaXRlckRlbGVnYXRlIDogQW55T2JqZWN0IHsKICAgIGZ1bmMgbmVzdGVkV2FpdGVyKF8gd2FpdGVyOiBYQ1RXYWl0ZXIsIHdhc0ludGVycnVwdGVkQnlUaW1lZE91dFdhaXRlciBvdXRlcldhaXRlcjogWENUV2FpdGVyKQogICAgZnVuYyB3YWl0ZXIoXyB3YWl0ZXI6IFhDVFdhaXRlciwgZGlkRnVsZmlsbEludmVydGVkRXhwZWN0YXRpb24gZXhwZWN0YXRpb246IFhDVGVzdEV4cGVjdGF0aW9uKQogICAgZnVuYyB3YWl0ZXIoXyB3YWl0ZXI6IFhDVFdhaXRlciwgZGlkVGltZW91dFdpdGhVbmZ1bGZpbGxlZEV4cGVjdGF0aW9ucyB1bmZ1bGZpbGxlZEV4cGVjdGF0aW9uczogW1hDVGVzdEV4cGVjdGF0aW9uXSkKICAgIGZ1bmMgd2FpdGVyKF8gd2FpdGVyOiBYQ1RXYWl0ZXIsIGZ1bGZpbGxtZW50RGlkVmlvbGF0ZU9yZGVyaW5nQ29uc3RyYWludHNGb3IgZXhwZWN0YXRpb246IFhDVGVzdEV4cGVjdGF0aW9uLCByZXF1aXJlZEV4cGVjdGF0aW9uOiBYQ1Rlc3RFeHBlY3RhdGlvbikKfQpwdWJsaWMgcHJvdG9jb2wgWENUZXN0T2JzZXJ2YXRpb24gOiBBbnlPYmplY3QgewogICAgZnVuYyB0ZXN0QnVuZGxlRGlkRmluaXNoKF8gdGVzdEJ1bmRsZTogQnVuZGxlKQogICAgZnVuYyB0ZXN0QnVuZGxlV2lsbFN0YXJ0KF8gdGVzdEJ1bmRsZTogQnVuZGxlKQogICAgZnVuYyB0ZXN0Q2FzZShfIHRlc3RDYXNlOiBYQ1Rlc3RDYXNlLCBkaWRGYWlsV2l0aERlc2NyaXB0aW9uIGRlc2NyaXB0aW9uOiBTdHJpbmcsIGluRmlsZSBmaWxlUGF0aDogU3RyaW5nPywgYXRMaW5lIGxpbmVOdW1iZXI6IEludCkKICAgIGZ1bmMgdGVzdENhc2VEaWRGaW5pc2goXyB0ZXN0Q2FzZTogWENUZXN0Q2FzZSkKICAgIGZ1bmMgdGVzdENhc2VXaWxsU3RhcnQoXyB0ZXN0Q2FzZTogWENUZXN0Q2FzZSkKICAgIGZ1bmMgdGVzdFN1aXRlRGlkRmluaXNoKF8gdGVzdFN1aXRlOiBYQ1Rlc3RTdWl0ZSkKICAgIGZ1bmMgdGVzdFN1aXRlV2lsbFN0YXJ0KF8gdGVzdFN1aXRlOiBYQ1Rlc3RTdWl0ZSkKfQ=="
      )!,
      encoding: String.Encoding.utf8
    )!
  }
  static let syntaxHighlighting = String(
    data: Data(
      base64Encoded:
        "LyoKIFN5bnRheCBIaWdobGlnaHRpbmcuY3NzCgogVGhpcyBzb3VyY2UgZmlsZSBpcyBwYXJ0IG9mIHRoZSBTREdTd2lmdCBvcGVuIHNvdXJjZSBwcm9qZWN0LgogaHR0cHM6Ly9zZGdnaWVzYnJlY2h0LmdpdGh1Yi5pby9TREdTd2lmdAoKIENvcHlyaWdodCDCqTIwMTjigJMyMDIwIEplcmVteSBEYXZpZCBHaWVzYnJlY2h0IGFuZCB0aGUgU0RHU3dpZnQgcHJvamVjdCBjb250cmlidXRvcnMuCgogU29saSBEZW8gZ2xvcmlhLgoKIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5jZSwgVmVyc2lvbiAyLjAuCiBTZWUgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wIGZvciBsaWNlbmNlIGluZm9ybWF0aW9uLgogKi8KCi8qIExheW91dCAqLwoKLnN3aWZ0IHsKICAgIGRpc3BsYXk6IGlubGluZTsKICAgIHdoaXRlLXNwYWNlOiBwcmUtd3JhcDsKfQouc3dpZnQuYmxvY2txdW90ZSB7CiAgICBkaXNwbGF5OiBibG9jazsKICAgIG1hcmdpbjogMS40ZW0gMDsKICAgIGJvcmRlcjogMXB4IHNvbGlkOwogICAgIGJvcmRlci1yYWRpdXM6IDAuMzUyOTRlbTsKICAgIHBhZGRpbmc6IDAuMzUyOTRlbSAwLjk0MTE4ZW07Cn0KCi8qIENvbG91ciAqLwoKLnN3aWZ0LmJsb2NrcXVvdGUgewogICAgYmFja2dyb3VuZC1jb2xvcjogI0Y5RkFGQTsKICAgIGJvcmRlci1jb2xvcjogICNFNkU2RTY7Cn0KLnN3aWZ0IHsKICAgIGNvbG9yOiAjMDAwMDAwOwp9Cgouc3dpZnQgLmtleXdvcmQgewogICAgY29sb3I6ICNBQTBEOTE7Cn0KCi5zd2lmdCAucHVuY3R1YXRpb24gewogICAgY29sb3I6ICMwMDAwMDA7Cn0KCi5zd2lmdCAuZXh0ZXJuYWwuaWRlbnRpZmllciB7CiAgICBjb2xvcjogIzVDMjY5OTsKfQouc3dpZnQgLmludGVybmFsLmlkZW50aWZpZXIgewogICAgY29sb3I6ICMzRjZFNzQ7Cn0KCi5zd2lmdCAubnVtYmVyIHsKICAgIGNvbG9yOiAjMUMwMENGOwp9Cgouc3dpZnQgLnN0cmluZyB7CiAgICBjb2xvcjogI0M0MUExNjsKfQouc3dpZnQgLnN0cmluZ+KAkHB1bmN0dWF0aW9uIHsKICAgIGNvbG9yOiAjNjIyNzBCOwp9Cgouc3dpZnQgLmNvbXBpbGF0aW9u4oCQY29uZGl0aW9uIHsKICAgIGNvbG9yOiAjNjQzODIwOwp9Cgouc3dpZnQgLmNvbW1lbnQgewogICAgY29sb3I6ICMwMDc0MDA7Cn0KLnN3aWZ0IC5jb21tZW504oCQcHVuY3R1YXRpb24gewogICAgY29sb3I6ICMwMDNBMDA7Cn0KLnN3aWZ0IC5zb3VyY2XigJBoZWFkaW5nIHsKICAgIGNvbG9yOiAjNEE1NTYwOwp9Ci5zd2lmdCAudXJsIHsKICAgIGNvbG9yOiAjMEUwRUZGOwp9Cgouc3dpZnQgLmNvZGUgewogICAgY29sb3I6ICMwMDAwMDA7Cn0KCi8qIEZvbnQgKi8KCi5zd2lmdCB7CiAgICBmb250LWZhbWlseTogIlNGIE1vbm8iLCBNZW5sbywgbW9ub3NwYWNlLCAiU0YgUHJvIEljb25zIjsKICAgIGxldHRlci1zcGFjaW5nOiAtMC4wMjdlbTsKICAgIGxpbmUtaGVpZ2h0OiAxLjI2NjY3Owp9Cgouc3dpZnQgLnRleHQsIC5zd2lmdCAuc291cmNl4oCQaGVhZGluZyB7CiAgICBmb250LWZhbWlseTogIlNGIFBybyBUZXh0IiwgIlNGIFBybyBJY29ucyIsICItYXBwbGUtc3lzdGVtIiwgIkJsaW5rTWFjU3lzdGVtRm9udCIsICJIZWx2ZXRpY2EgTmV1ZSIsICJIZWx2ZXRpY2EiLCAiQXJpYWwiLCBzYW5zLXNlcmlmOwogICAgbGV0dGVyLXNwYWNpbmc6IDA7Cn0KCi5zd2lmdCAuY29tbWVudOKAkGtleXdvcmQgewogICAgZm9udC13ZWlnaHQ6IGJvbGQ7Cn0KLnN3aWZ0IC5zb3VyY2XigJBoZWFkaW5nIHsKICAgIGZvbnQtd2VpZ2h0OiBib2xkOwp9Cgouc3dpZnQgLnVybDpsaW5rLCAuc3dpZnQgLnVybDp2aXNpdGVkIHsKICAgIHRleHQtZGVjb3JhdGlvbjogbm9uZTsKfQouc3dpZnQgLnVybDpob3ZlciB7CiAgICB0ZXh0LWRlY29yYXRpb246IHVuZGVybGluZTsKfQo="
    )!,
    encoding: String.Encoding.utf8
  )!

}
