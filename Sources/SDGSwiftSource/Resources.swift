/*
 Resources.swift

 This source file is part of the SDGSwift open source project.
 https://sdggiesbrecht.github.io/SDGSwift

 Copyright ©2018–2019 Jeremy David Giesbrecht and the SDGSwift project contributors.

 Soli Deo gloria.

 Licensed under the Apache Licence, Version 2.0.
 See http://www.apache.org/licenses/LICENSE-2.0 for licence information.
 */

import Foundation

internal enum Resources {}

extension Resources {
    static let dispatch = Data(base64Encoded: "cHVibGljIHByb3RvY29sIERpc3BhdGNoU291cmNlRmlsZVN5c3RlbU9iamVjdCB7CiNpZiAhb3MoTGludXgpICYmICFvcyhBbmRyb2lkKSAmJiAhb3MoV2luZG93cykKICAgIHZhciBkYXRhOiBEaXNwYXRjaFNvdXJjZS5GaWxlU3lzdGVtRXZlbnQgeyBnZXQgfQojZW5kaWYKI2lmICFvcyhMaW51eCkgJiYgIW9zKEFuZHJvaWQpICYmICFvcyhXaW5kb3dzKQogICAgdmFyIGhhbmRsZTogSW50MzIgeyBnZXQgfQojZW5kaWYKI2lmICFvcyhMaW51eCkgJiYgIW9zKEFuZHJvaWQpICYmICFvcyhXaW5kb3dzKQogICAgdmFyIG1hc2s6IERpc3BhdGNoU291cmNlLkZpbGVTeXN0ZW1FdmVudCB7IGdldCB9CiNlbmRpZgp9CnB1YmxpYyBwcm90b2NvbCBEaXNwYXRjaFNvdXJjZU1hY2hSZWNlaXZlIHsKI2lmIEhBVkVfTUFDSAogICAgdmFyIGhhbmRsZTogbWFjaF9wb3J0X3QgeyBnZXQgfQojZW5kaWYKfQpwdWJsaWMgcHJvdG9jb2wgRGlzcGF0Y2hTb3VyY2VNYWNoU2VuZCB7CiNpZiBIQVZFX01BQ0gKICAgIHZhciBkYXRhOiBEaXNwYXRjaFNvdXJjZS5NYWNoU2VuZEV2ZW50IHsgZ2V0IH0KI2VuZGlmCiNpZiBIQVZFX01BQ0gKICAgIHZhciBoYW5kbGU6IG1hY2hfcG9ydF90IHsgZ2V0IH0KI2VuZGlmCiNpZiBIQVZFX01BQ0gKICAgIHZhciBtYXNrOiBEaXNwYXRjaFNvdXJjZS5NYWNoU2VuZEV2ZW50IHsgZ2V0IH0KI2VuZGlmCn0KcHVibGljIHByb3RvY29sIERpc3BhdGNoU291cmNlTWVtb3J5UHJlc3N1cmUgewojaWYgSEFWRV9NQUNICiAgICB2YXIgZGF0YTogRGlzcGF0Y2hTb3VyY2UuTWVtb3J5UHJlc3N1cmVFdmVudCB7IGdldCB9CiNlbmRpZgojaWYgSEFWRV9NQUNICiAgICB2YXIgbWFzazogRGlzcGF0Y2hTb3VyY2UuTWVtb3J5UHJlc3N1cmVFdmVudCB7IGdldCB9CiNlbmRpZgp9CnB1YmxpYyBwcm90b2NvbCBEaXNwYXRjaFNvdXJjZVByb2Nlc3MgewojaWYgIW9zKExpbnV4KSAmJiAhb3MoQW5kcm9pZCkgJiYgIW9zKFdpbmRvd3MpCiAgICB2YXIgZGF0YTogRGlzcGF0Y2hTb3VyY2UuUHJvY2Vzc0V2ZW50IHsgZ2V0IH0KI2VuZGlmCiNpZiAhb3MoTGludXgpICYmICFvcyhBbmRyb2lkKSAmJiAhb3MoV2luZG93cykKICAgIHZhciBoYW5kbGU6IHBpZF90IHsgZ2V0IH0KI2VuZGlmCiNpZiAhb3MoTGludXgpICYmICFvcyhBbmRyb2lkKSAmJiAhb3MoV2luZG93cykKICAgIHZhciBtYXNrOiBEaXNwYXRjaFNvdXJjZS5Qcm9jZXNzRXZlbnQgeyBnZXQgfQojZW5kaWYKfQpwdWJsaWMgcHJvdG9jb2wgRGlzcGF0Y2hTb3VyY2VQcm90b2NvbCB7CiAgICB2YXIgZGF0YTogVUludCB7IGdldCB9CiAgICB2YXIgaGFuZGxlOiBVSW50IHsgZ2V0IH0KICAgIHZhciBpc0NhbmNlbGxlZDogQm9vbCB7IGdldCB9CiAgICB2YXIgbWFzazogVUludCB7IGdldCB9CiAgICBAYXZhaWxhYmxlKG1hY09TMTAuMTIsIGlPUzEwLjAsIHR2T1MxMC4wLCB3YXRjaE9TMy4wLCAqKSBmdW5jIGFjdGl2YXRlKCkKICAgIGZ1bmMgY2FuY2VsKCkKICAgIGZ1bmMgcmVzdW1lKCkKICAgIEBhdmFpbGFibGUobWFjT1MxMC4xMCwgaU9TOC4wLCAqKSBmdW5jIHNldENhbmNlbEhhbmRsZXIoaGFuZGxlcjogRGlzcGF0Y2hXb3JrSXRlbSkKICAgIGZ1bmMgc2V0Q2FuY2VsSGFuZGxlcihxb3M6IERpc3BhdGNoUW9TID0geCwgZmxhZ3M6IERpc3BhdGNoV29ya0l0ZW1GbGFncyA9IHgsIGhhbmRsZXI6IERpc3BhdGNoU291cmNlSGFuZGxlcj8pCiAgICBAYXZhaWxhYmxlKG1hY09TMTAuMTAsIGlPUzguMCwgKikgZnVuYyBzZXRFdmVudEhhbmRsZXIoaGFuZGxlcjogRGlzcGF0Y2hXb3JrSXRlbSkKICAgIGZ1bmMgc2V0RXZlbnRIYW5kbGVyKHFvczogRGlzcGF0Y2hRb1MgPSB4LCBmbGFnczogRGlzcGF0Y2hXb3JrSXRlbUZsYWdzID0geCwgaGFuZGxlcjogRGlzcGF0Y2hTb3VyY2VIYW5kbGVyPykKICAgIEBhdmFpbGFibGUobWFjT1MxMC4xMCwgaU9TOC4wLCAqKSBmdW5jIHNldFJlZ2lzdHJhdGlvbkhhbmRsZXIoaGFuZGxlcjogRGlzcGF0Y2hXb3JrSXRlbSkKICAgIGZ1bmMgc2V0UmVnaXN0cmF0aW9uSGFuZGxlcihxb3M6IERpc3BhdGNoUW9TID0geCwgZmxhZ3M6IERpc3BhdGNoV29ya0l0ZW1GbGFncyA9IHgsIGhhbmRsZXI6IERpc3BhdGNoU291cmNlSGFuZGxlcj8pCiAgICBmdW5jIHN1c3BlbmQoKQp9CnB1YmxpYyBwcm90b2NvbCBEaXNwYXRjaFNvdXJjZVJlYWQgewp9CnB1YmxpYyBwcm90b2NvbCBEaXNwYXRjaFNvdXJjZVNpZ25hbCB7Cn0KcHVibGljIHByb3RvY29sIERpc3BhdGNoU291cmNlVGltZXIgewogICAgQGF2YWlsYWJsZShzd2lmdCwgaW50cm9kdWNlZDogNCkgZnVuYyBzY2hlZHVsZShkZWFkbGluZTogRGlzcGF0Y2hUaW1lLCByZXBlYXRpbmcgaW50ZXJ2YWw6IERpc3BhdGNoVGltZUludGVydmFsID0geCwgbGVld2F5OiBEaXNwYXRjaFRpbWVJbnRlcnZhbCA9IHgpCiAgICBAYXZhaWxhYmxlKHN3aWZ0LCBpbnRyb2R1Y2VkOiA0KSBmdW5jIHNjaGVkdWxlKGRlYWRsaW5lOiBEaXNwYXRjaFRpbWUsIHJlcGVhdGluZyBpbnRlcnZhbDogRG91YmxlLCBsZWV3YXk6IERpc3BhdGNoVGltZUludGVydmFsID0geCkKICAgIEBhdmFpbGFibGUoc3dpZnQsIGludHJvZHVjZWQ6IDQpIGZ1bmMgc2NoZWR1bGUod2FsbERlYWRsaW5lOiBEaXNwYXRjaFdhbGxUaW1lLCByZXBlYXRpbmcgaW50ZXJ2YWw6IERpc3BhdGNoVGltZUludGVydmFsID0geCwgbGVld2F5OiBEaXNwYXRjaFRpbWVJbnRlcnZhbCA9IHgpCiAgICBAYXZhaWxhYmxlKHN3aWZ0LCBpbnRyb2R1Y2VkOiA0KSBmdW5jIHNjaGVkdWxlKHdhbGxEZWFkbGluZTogRGlzcGF0Y2hXYWxsVGltZSwgcmVwZWF0aW5nIGludGVydmFsOiBEb3VibGUsIGxlZXdheTogRGlzcGF0Y2hUaW1lSW50ZXJ2YWwgPSB4KQogICAgZnVuYyBzY2hlZHVsZU9uZXNob3QoZGVhZGxpbmU6IERpc3BhdGNoVGltZSwgbGVld2F5OiBEaXNwYXRjaFRpbWVJbnRlcnZhbCkKICAgIGZ1bmMgc2NoZWR1bGVPbmVzaG90KHdhbGxEZWFkbGluZTogRGlzcGF0Y2hXYWxsVGltZSwgbGVld2F5OiBEaXNwYXRjaFRpbWVJbnRlcnZhbCkKICAgIGZ1bmMgc2NoZWR1bGVSZXBlYXRpbmcoZGVhZGxpbmU6IERpc3BhdGNoVGltZSwgaW50ZXJ2YWw6IERpc3BhdGNoVGltZUludGVydmFsLCBsZWV3YXk6IERpc3BhdGNoVGltZUludGVydmFsKQogICAgZnVuYyBzY2hlZHVsZVJlcGVhdGluZyh3YWxsRGVhZGxpbmU6IERpc3BhdGNoV2FsbFRpbWUsIGludGVydmFsOiBEaXNwYXRjaFRpbWVJbnRlcnZhbCwgbGVld2F5OiBEaXNwYXRjaFRpbWVJbnRlcnZhbCkKfQpwdWJsaWMgcHJvdG9jb2wgRGlzcGF0Y2hTb3VyY2VVc2VyRGF0YUFkZCB7CiAgICBmdW5jIGFkZChkYXRhOiBVSW50KQp9CnB1YmxpYyBwcm90b2NvbCBEaXNwYXRjaFNvdXJjZVVzZXJEYXRhT3IgewogICAgZnVuYyBvcihkYXRhOiBVSW50KQp9CnB1YmxpYyBwcm90b2NvbCBEaXNwYXRjaFNvdXJjZVVzZXJEYXRhUmVwbGFjZSB7CiAgICBmdW5jIHJlcGxhY2UoZGF0YTogVUludCkKfQpwdWJsaWMgcHJvdG9jb2wgRGlzcGF0Y2hTb3VyY2VXcml0ZSB7Cn0=")!
    static let foundation = Data(base64Encoded: "b3BlbiBjbGFzcyBCbG9ja09wZXJhdGlvbiB7CiAgICBwdWJsaWMgaW5pdChibG9jazogQGVzY2FwaW5nICgpIC0+IFZvaWQpIHt9CiAgICBvcGVuIHZhciBleGVjdXRpb25CbG9ja3M6IFsoKSAtPiBWb2lkXSB7IGdldCB9CiAgICBvcGVuIGZ1bmMgYWRkRXhlY3V0aW9uQmxvY2soXyBibG9jazogQGVzY2FwaW5nICgpIC0+IFZvaWQpIHt9Cn0Kb3BlbiBjbGFzcyBCdW5kbGUgewogICAgb3BlbiBjbGFzcyB2YXIgYWxsQnVuZGxlczogW0J1bmRsZV0geyBnZXQgfQogICAgb3BlbiBjbGFzcyB2YXIgbWFpbjogQnVuZGxlIHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgZnVuYyBwYXRoKGZvclJlc291cmNlIG5hbWU6IFN0cmluZz8sIG9mVHlwZSBleHQ6IFN0cmluZz8sIGluRGlyZWN0b3J5IGJ1bmRsZVBhdGg6IFN0cmluZykgLT4gU3RyaW5nPyB7fQogICAgb3BlbiBjbGFzcyBmdW5jIHBhdGhzKGZvclJlc291cmNlc09mVHlwZSBleHQ6IFN0cmluZz8sIGluRGlyZWN0b3J5IGJ1bmRsZVBhdGg6IFN0cmluZykgLT4gW1N0cmluZ10ge30KICAgIG9wZW4gY2xhc3MgZnVuYyBwcmVmZXJyZWRMb2NhbGl6YXRpb25zKGZyb20gbG9jYWxpemF0aW9uc0FycmF5OiBbU3RyaW5nXSkgLT4gW1N0cmluZ10ge30KICAgIG9wZW4gY2xhc3MgZnVuYyBwcmVmZXJyZWRMb2NhbGl6YXRpb25zKGZyb20gbG9jYWxpemF0aW9uc0FycmF5OiBbU3RyaW5nXSwgZm9yUHJlZmVyZW5jZXMgcHJlZmVyZW5jZXNBcnJheTogW1N0cmluZ10/KSAtPiBbU3RyaW5nXSB7fQogICAgb3BlbiBjbGFzcyBmdW5jIHVybChmb3JSZXNvdXJjZSBuYW1lOiBTdHJpbmc/LCB3aXRoRXh0ZW5zaW9uIGV4dDogU3RyaW5nPywgc3ViZGlyZWN0b3J5IHN1YnBhdGg6IFN0cmluZz8sIGluIGJ1bmRsZVVSTDogVVJMKSAtPiBVUkw/IHt9CiAgICBvcGVuIGNsYXNzIGZ1bmMgdXJscyhmb3JSZXNvdXJjZXNXaXRoRXh0ZW5zaW9uIGV4dDogU3RyaW5nPywgc3ViZGlyZWN0b3J5IHN1YnBhdGg6IFN0cmluZz8sIGluIGJ1bmRsZVVSTDogTlNVUkwpIC0+IFtOU1VSTF0/IHt9CiAgICBwdWJsaWMgaW5pdChmb3IgYUNsYXNzOiBBbnlDbGFzcykge30KICAgIHB1YmxpYyBpbml0PyhpZGVudGlmaWVyOiBTdHJpbmcpIHt9CiAgICBwdWJsaWMgaW5pdD8ocGF0aDogU3RyaW5nKSB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQ/KHVybDogVVJMKSB7fQogICAgb3BlbiB2YXIgYXBwU3RvcmVSZWNlaXB0VVJMOiBVUkw/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGJ1aWx0SW5QbHVnSW5zUGF0aDogU3RyaW5nPyB7IGdldCB9CiAgICBvcGVuIHZhciBidWlsdEluUGx1Z0luc1VSTDogVVJMPyB7IGdldCB9CiAgICBvcGVuIHZhciBidW5kbGVJZGVudGlmaWVyOiBTdHJpbmc/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGJ1bmRsZVBhdGg6IFN0cmluZyB7IGdldCB9CiAgICBvcGVuIHZhciBidW5kbGVVUkw6IFVSTCB7IGdldCB9CiAgICBvcGVuIHZhciBkZXZlbG9wbWVudExvY2FsaXphdGlvbjogU3RyaW5nPyB7IGdldCB9CiAgICBvcGVuIHZhciBleGVjdXRhYmxlQXJjaGl0ZWN0dXJlczogW05TTnVtYmVyXT8geyBnZXQgfQogICAgb3BlbiB2YXIgZXhlY3V0YWJsZVBhdGg6IFN0cmluZz8geyBnZXQgfQogICAgb3BlbiB2YXIgZXhlY3V0YWJsZVVSTDogVVJMPyB7IGdldCB9CiAgICBvcGVuIHZhciBpbmZvRGljdGlvbmFyeTogW1N0cmluZzogQW55XT8geyBnZXQgfQogICAgb3BlbiB2YXIgaXNMb2FkZWQ6IEJvb2wgeyBnZXQgfQogICAgb3BlbiB2YXIgbG9jYWxpemF0aW9uczogW1N0cmluZ10geyBnZXQgfQogICAgb3BlbiB2YXIgbG9jYWxpemVkSW5mb0RpY3Rpb25hcnk6IFtTdHJpbmc6IEFueV0/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHByZWZlcnJlZExvY2FsaXphdGlvbnM6IFtTdHJpbmddIHsgZ2V0IH0KICAgIG9wZW4gdmFyIHByaW5jaXBhbENsYXNzOiBBbnlDbGFzcz8geyBnZXQgfQogICAgb3BlbiB2YXIgcHJpdmF0ZUZyYW1ld29ya3NQYXRoOiBTdHJpbmc/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHByaXZhdGVGcmFtZXdvcmtzVVJMOiBVUkw/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHJlc291cmNlUGF0aDogU3RyaW5nPyB7IGdldCB9CiAgICBvcGVuIHZhciByZXNvdXJjZVVSTDogVVJMPyB7IGdldCB9CiAgICBvcGVuIHZhciBzaGFyZWRGcmFtZXdvcmtzUGF0aDogU3RyaW5nPyB7IGdldCB9CiAgICBvcGVuIHZhciBzaGFyZWRGcmFtZXdvcmtzVVJMOiBVUkw/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHNoYXJlZFN1cHBvcnRQYXRoOiBTdHJpbmc/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHNoYXJlZFN1cHBvcnRVUkw6IFVSTD8geyBnZXQgfQogICAgb3BlbiBmdW5jIGNsYXNzTmFtZWQoXyBjbGFzc05hbWU6IFN0cmluZykgLT4gQW55Q2xhc3M/IHt9CiAgICBvcGVuIGZ1bmMgbG9hZCgpIC0+IEJvb2wge30KICAgIG9wZW4gZnVuYyBsb2FkQW5kUmV0dXJuRXJyb3IoKSB0aHJvd3Mge30KICAgIG9wZW4gZnVuYyBsb2NhbGl6ZWRTdHJpbmcoZm9yS2V5IGtleTogU3RyaW5nLCB2YWx1ZTogU3RyaW5nPywgdGFibGUgdGFibGVOYW1lOiBTdHJpbmc/KSAtPiBTdHJpbmcge30KICAgIG9wZW4gZnVuYyBvYmplY3QoZm9ySW5mb0RpY3Rpb25hcnlLZXkga2V5OiBTdHJpbmcpIC0+IEFueT8ge30KICAgIG9wZW4gZnVuYyBwYXRoKGZvckF1eGlsaWFyeUV4ZWN1dGFibGUgZXhlY3V0YWJsZU5hbWU6IFN0cmluZykgLT4gU3RyaW5nPyB7fQogICAgb3BlbiBmdW5jIHBhdGgoZm9yUmVzb3VyY2UgbmFtZTogU3RyaW5nPywgb2ZUeXBlIGV4dDogU3RyaW5nPykgLT4gU3RyaW5nPyB7fQogICAgb3BlbiBmdW5jIHBhdGgoZm9yUmVzb3VyY2UgbmFtZTogU3RyaW5nPywgb2ZUeXBlIGV4dDogU3RyaW5nPywgaW5EaXJlY3Rvcnkgc3VicGF0aDogU3RyaW5nPykgLT4gU3RyaW5nPyB7fQogICAgb3BlbiBmdW5jIHBhdGgoZm9yUmVzb3VyY2UgbmFtZTogU3RyaW5nPywgb2ZUeXBlIGV4dDogU3RyaW5nPywgaW5EaXJlY3Rvcnkgc3VicGF0aDogU3RyaW5nPywgZm9yTG9jYWxpemF0aW9uIGxvY2FsaXphdGlvbk5hbWU6IFN0cmluZz8pIC0+IFN0cmluZz8ge30KICAgIG9wZW4gZnVuYyBwYXRocyhmb3JSZXNvdXJjZXNPZlR5cGUgZXh0OiBTdHJpbmc/LCBpbkRpcmVjdG9yeSBzdWJwYXRoOiBTdHJpbmc/KSAtPiBbU3RyaW5nXSB7fQogICAgb3BlbiBmdW5jIHBhdGhzKGZvclJlc291cmNlc09mVHlwZSBleHQ6IFN0cmluZz8sIGluRGlyZWN0b3J5IHN1YnBhdGg6IFN0cmluZz8sIGZvckxvY2FsaXphdGlvbiBsb2NhbGl6YXRpb25OYW1lOiBTdHJpbmc/KSAtPiBbU3RyaW5nXSB7fQogICAgb3BlbiBmdW5jIHByZWZsaWdodCgpIHRocm93cyB7fQogICAgb3BlbiBmdW5jIHVybChmb3JBdXhpbGlhcnlFeGVjdXRhYmxlIGV4ZWN1dGFibGVOYW1lOiBTdHJpbmcpIC0+IFVSTD8ge30KICAgIG9wZW4gZnVuYyB1cmwoZm9yUmVzb3VyY2UgbmFtZTogU3RyaW5nPywgd2l0aEV4dGVuc2lvbiBleHQ6IFN0cmluZz8pIC0+IFVSTD8ge30KICAgIG9wZW4gZnVuYyB1cmwoZm9yUmVzb3VyY2UgbmFtZTogU3RyaW5nPywgd2l0aEV4dGVuc2lvbiBleHQ6IFN0cmluZz8sIHN1YmRpcmVjdG9yeSBzdWJwYXRoOiBTdHJpbmc/KSAtPiBVUkw/IHt9CiAgICBvcGVuIGZ1bmMgdXJsKGZvclJlc291cmNlIG5hbWU6IFN0cmluZz8sIHdpdGhFeHRlbnNpb24gZXh0OiBTdHJpbmc/LCBzdWJkaXJlY3Rvcnkgc3VicGF0aDogU3RyaW5nPywgbG9jYWxpemF0aW9uIGxvY2FsaXphdGlvbk5hbWU6IFN0cmluZz8pIC0+IFVSTD8ge30KICAgIG9wZW4gZnVuYyB1cmxzKGZvclJlc291cmNlc1dpdGhFeHRlbnNpb24gZXh0OiBTdHJpbmc/LCBzdWJkaXJlY3Rvcnkgc3VicGF0aDogU3RyaW5nPykgLT4gW05TVVJMXT8ge30KICAgIG9wZW4gZnVuYyB1cmxzKGZvclJlc291cmNlc1dpdGhFeHRlbnNpb24gZXh0OiBTdHJpbmc/LCBzdWJkaXJlY3Rvcnkgc3VicGF0aDogU3RyaW5nPywgbG9jYWxpemF0aW9uIGxvY2FsaXphdGlvbk5hbWU6IFN0cmluZz8pIC0+IFtOU1VSTF0/IHt9Cn0Kb3BlbiBjbGFzcyBCeXRlQ291bnRGb3JtYXR0ZXIgewogICAgb3BlbiBjbGFzcyBmdW5jIHN0cmluZyhmcm9tQnl0ZUNvdW50IGJ5dGVDb3VudDogSW50NjQsIGNvdW50U3R5bGU6IEJ5dGVDb3VudEZvcm1hdHRlci5Db3VudFN0eWxlKSAtPiBTdHJpbmcge30KICAgIG9wZW4gdmFyIGFsbG93ZWRVbml0czogVW5pdHMgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGFsbG93c05vbm51bWVyaWNGb3JtYXR0aW5nOiBCb29sIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBjb3VudFN0eWxlOiBDb3VudFN0eWxlIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBmb3JtYXR0aW5nQ29udGV4dDogQ29udGV4dCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgaW5jbHVkZXNBY3R1YWxCeXRlQ291bnQ6IEJvb2wgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGluY2x1ZGVzQ291bnQ6IEJvb2wgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGluY2x1ZGVzVW5pdDogQm9vbCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgaXNBZGFwdGl2ZTogQm9vbCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgemVyb1BhZHNGcmFjdGlvbkRpZ2l0czogQm9vbCB7IGdldCBzZXQgfQogICAgb3BlbiBmdW5jIHN0cmluZyhmcm9tQnl0ZUNvdW50IGJ5dGVDb3VudDogSW50NjQpIC0+IFN0cmluZyB7fQp9Cm9wZW4gY2xhc3MgQ2FjaGVkVVJMUmVzcG9uc2UgewogICAgcHVibGljIGluaXQocmVzcG9uc2U6IFVSTFJlc3BvbnNlLCBkYXRhOiBEYXRhKSB7fQogICAgcHVibGljIGluaXQocmVzcG9uc2U6IFVSTFJlc3BvbnNlLCBkYXRhOiBEYXRhLCB1c2VySW5mbzogW0FueUhhc2hhYmxlOiBBbnldPyA9IHgsIHN0b3JhZ2VQb2xpY3k6IFVSTENhY2hlLlN0b3JhZ2VQb2xpY3kpIHt9CiAgICBvcGVuIHZhciBkYXRhOiBEYXRhIHsgZ2V0IH0KICAgIG9wZW4gdmFyIHJlc3BvbnNlOiBVUkxSZXNwb25zZSB7IGdldCB9CiAgICBvcGVuIHZhciBzdG9yYWdlUG9saWN5OiBVUkxDYWNoZS5TdG9yYWdlUG9saWN5IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHVzZXJJbmZvOiBbQW55SGFzaGFibGU6IEFueV0/IHsgZ2V0IH0KfQpvcGVuIGNsYXNzIERhdGVDb21wb25lbnRzRm9ybWF0dGVyIHsKICAgIG9wZW4gY2xhc3MgZnVuYyBsb2NhbGl6ZWRTdHJpbmcoZnJvbSBjb21wb25lbnRzOiBEYXRlQ29tcG9uZW50cywgdW5pdHNTdHlsZTogVW5pdHNTdHlsZSkgLT4gU3RyaW5nPyB7fQogICAgb3BlbiB2YXIgYWxsb3dlZFVuaXRzOiBOU0NhbGVuZGFyLlVuaXQgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGFsbG93c0ZyYWN0aW9uYWxVbml0czogQm9vbCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgY2FsZW5kYXI6IENhbGVuZGFyPyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgY29sbGFwc2VzTGFyZ2VzdFVuaXQ6IEJvb2wgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGZvcm1hdHRpbmdDb250ZXh0OiBDb250ZXh0IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBpbmNsdWRlc0FwcHJveGltYXRpb25QaHJhc2U6IEJvb2wgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGluY2x1ZGVzVGltZVJlbWFpbmluZ1BocmFzZTogQm9vbCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgbWF4aW11bVVuaXRDb3VudDogSW50IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciB1bml0c1N0eWxlOiBVbml0c1N0eWxlIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciB6ZXJvRm9ybWF0dGluZ0JlaGF2aW9yOiBaZXJvRm9ybWF0dGluZ0JlaGF2aW9yIHsgZ2V0IHNldCB9CiAgICBvcGVuIGZ1bmMgc3RyaW5nKGZyb20gY29tcG9uZW50czogRGF0ZUNvbXBvbmVudHMpIC0+IFN0cmluZz8ge30KICAgIG9wZW4gZnVuYyBzdHJpbmcoZnJvbSBzdGFydERhdGU6IERhdGUsIHRvIGVuZERhdGU6IERhdGUpIC0+IFN0cmluZz8ge30KfQpvcGVuIGNsYXNzIERhdGVGb3JtYXR0ZXIgewogICAgb3BlbiBjbGFzcyBmdW5jIGRhdGVGb3JtYXQoZnJvbVRlbXBsYXRlIHRtcGxhdGU6IFN0cmluZywgb3B0aW9ucyBvcHRzOiBJbnQsIGxvY2FsZTogTG9jYWxlPykgLT4gU3RyaW5nPyB7fQogICAgb3BlbiBjbGFzcyBmdW5jIGxvY2FsaXplZFN0cmluZyhmcm9tIGRhdGU6IERhdGUsIGRhdGVTdHlsZSBkc3R5bGU6IFN0eWxlLCB0aW1lU3R5bGUgdHN0eWxlOiBTdHlsZSkgLT4gU3RyaW5nIHt9CiAgICBvcGVuIHZhciBhbVN5bWJvbDogU3RyaW5nISB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgY2FsZW5kYXI6IENhbGVuZGFyISB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgZGF0ZUZvcm1hdDogU3RyaW5nISB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgZGF0ZVN0eWxlOiBTdHlsZSB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgZGVmYXVsdERhdGU6IERhdGU/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGRvZXNSZWxhdGl2ZURhdGVGb3JtYXR0aW5nIHsgZ2V0IH0KICAgIG9wZW4gdmFyIGVyYVN5bWJvbHM6IFtTdHJpbmddISB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgZm9ybWF0dGluZ0NvbnRleHQ6IENvbnRleHQgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGdlbmVyYXRlc0NhbGVuZGFyRGF0ZXMgeyBnZXQgfQogICAgb3BlbiB2YXIgZ3JlZ29yaWFuU3RhcnREYXRlOiBEYXRlPyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgaXNMZW5pZW50IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGxvY2FsZTogTG9jYWxlISB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgbG9uZ0VyYVN5bWJvbHM6IFtTdHJpbmddISB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgbW9udGhTeW1ib2xzOiBbU3RyaW5nXSEgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHBtU3ltYm9sOiBTdHJpbmchIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBxdWFydGVyU3ltYm9sczogW1N0cmluZ10hIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBzaG9ydE1vbnRoU3ltYm9sczogW1N0cmluZ10hIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBzaG9ydFF1YXJ0ZXJTeW1ib2xzOiBbU3RyaW5nXSEgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHNob3J0U3RhbmRhbG9uZU1vbnRoU3ltYm9sczogW1N0cmluZ10hIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBzaG9ydFN0YW5kYWxvbmVRdWFydGVyU3ltYm9sczogW1N0cmluZ10hIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBzaG9ydFN0YW5kYWxvbmVXZWVrZGF5U3ltYm9sczogW1N0cmluZ10hIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBzaG9ydFdlZWtkYXlTeW1ib2xzOiBbU3RyaW5nXSEgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHN0YW5kYWxvbmVNb250aFN5bWJvbHM6IFtTdHJpbmddISB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgc3RhbmRhbG9uZVF1YXJ0ZXJTeW1ib2xzOiBbU3RyaW5nXSEgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHN0YW5kYWxvbmVXZWVrZGF5U3ltYm9sczogW1N0cmluZ10hIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciB0aW1lU3R5bGU6IFN0eWxlIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciB0aW1lWm9uZTogVGltZVpvbmUhIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciB0d29EaWdpdFN0YXJ0RGF0ZTogRGF0ZT8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHZlcnlTaG9ydE1vbnRoU3ltYm9sczogW1N0cmluZ10hIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciB2ZXJ5U2hvcnRTdGFuZGFsb25lTW9udGhTeW1ib2xzOiBbU3RyaW5nXSEgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHZlcnlTaG9ydFN0YW5kYWxvbmVXZWVrZGF5U3ltYm9sczogW1N0cmluZ10hIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciB2ZXJ5U2hvcnRXZWVrZGF5U3ltYm9sczogW1N0cmluZ10hIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciB3ZWVrZGF5U3ltYm9sczogW1N0cmluZ10hIHsgZ2V0IHNldCB9CiAgICBvcGVuIGZ1bmMgZGF0ZShmcm9tIHN0cmluZzogU3RyaW5nKSAtPiBEYXRlPyB7fQogICAgb3BlbiBmdW5jIG9iamVjdFZhbHVlKF8gc3RyaW5nOiBTdHJpbmcsIHJhbmdlIHJhbmdlcDogVW5zYWZlTXV0YWJsZVBvaW50ZXI8TlNSYW5nZT4pIHRocm93cyAtPiBBbnlPYmplY3Q/IHt9CiAgICBvcGVuIGZ1bmMgc2V0TG9jYWxpemVkRGF0ZUZvcm1hdEZyb21UZW1wbGF0ZShfIGRhdGVGb3JtYXRUZW1wbGF0ZTogU3RyaW5nKSB7fQogICAgb3BlbiBmdW5jIHN0cmluZyhmcm9tIGRhdGU6IERhdGUpIC0+IFN0cmluZyB7fQp9Cm9wZW4gY2xhc3MgRGF0ZUludGVydmFsRm9ybWF0dGVyIHsKICAgIG9wZW4gdmFyIGNhbGVuZGFyOiBDYWxlbmRhciEgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGRhdGVTdHlsZTogU3R5bGUgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGRhdGVUZW1wbGF0ZTogU3RyaW5nISB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgbG9jYWxlOiBMb2NhbGUhIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciB0aW1lU3R5bGU6IFN0eWxlIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciB0aW1lWm9uZTogVGltZVpvbmUhIHsgZ2V0IHNldCB9CiAgICBvcGVuIGZ1bmMgc3RyaW5nKGZyb20gZGF0ZUludGVydmFsOiBEYXRlSW50ZXJ2YWwpIC0+IFN0cmluZz8ge30KICAgIG9wZW4gZnVuYyBzdHJpbmcoZnJvbSBmcm9tRGF0ZTogRGF0ZSwgdG8gdG9EYXRlOiBEYXRlKSAtPiBTdHJpbmcge30KfQpvcGVuIGNsYXNzIERpbWVuc2lvbiB7CiAgICBvcGVuIGNsYXNzIGZ1bmMgYmFzZVVuaXQoKSAtPiBTZWxmIHt9CiAgICBwdWJsaWMgcmVxdWlyZWQgaW5pdChzeW1ib2w6IFN0cmluZywgY29udmVydGVyOiBVbml0Q29udmVydGVyKSB7fQogICAgb3BlbiB2YXIgY29udmVydGVyOiBVbml0Q29udmVydGVyIHsgZ2V0IH0KfQpvcGVuIGNsYXNzIEVuZXJneUZvcm1hdHRlciB7CiAgICBvcGVuIHZhciBpc0ZvckZvb2RFbmVyZ3lVc2U6IEJvb2wgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIG51bWJlckZvcm1hdHRlcjogTnVtYmVyRm9ybWF0dGVyISB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgdW5pdFN0eWxlOiBVbml0U3R5bGUgeyBnZXQgc2V0IH0KICAgIG9wZW4gZnVuYyBzdHJpbmcoZnJvbUpvdWxlcyBudW1iZXJJbkpvdWxlczogRG91YmxlKSAtPiBTdHJpbmcge30KICAgIG9wZW4gZnVuYyBzdHJpbmcoZnJvbVZhbHVlIHZhbHVlOiBEb3VibGUsIHVuaXQ6IFVuaXQpIC0+IFN0cmluZyB7fQogICAgb3BlbiBmdW5jIHVuaXRTdHJpbmcoZnJvbUpvdWxlcyBudW1iZXJJbkpvdWxlczogRG91YmxlLCB1c2VkVW5pdCB1bml0cDogVW5zYWZlTXV0YWJsZVBvaW50ZXI8VW5pdD4/KSAtPiBTdHJpbmcge30KICAgIG9wZW4gZnVuYyB1bml0U3RyaW5nKGZyb21WYWx1ZSB2YWx1ZTogRG91YmxlLCB1bml0OiBVbml0KSAtPiBTdHJpbmcge30KfQpvcGVuIGNsYXNzIEZpbGVIYW5kbGUgewogICAgb3BlbiBjbGFzcyB2YXIgbnVsbERldmljZTogRmlsZUhhbmRsZSB7IGdldCB9CiAgICBwdWJsaWMgc3RhdGljIHZhciByZWFkQ29tcGxldGlvbk5vdGlmaWNhdGlvbiB7IGdldCB9CiAgICBvcGVuIGNsYXNzIHZhciBzdGFuZGFyZEVycm9yOiBGaWxlSGFuZGxlIHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgdmFyIHN0YW5kYXJkSW5wdXQ6IEZpbGVIYW5kbGUgeyBnZXQgfQogICAgb3BlbiBjbGFzcyB2YXIgc3RhbmRhcmRPdXRwdXQ6IEZpbGVIYW5kbGUgeyBnZXQgfQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQoZmlsZURlc2NyaXB0b3IgZmQ6IEludDMyKSB7fQogICAgcHVibGljIGluaXQoZmlsZURlc2NyaXB0b3IgZmQ6IEludDMyLCBjbG9zZU9uRGVhbGxvYyBjbG9zZW9wdDogQm9vbCkge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0Pyhmb3JSZWFkaW5nQXRQYXRoIHBhdGg6IFN0cmluZykge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KGZvclJlYWRpbmdGcm9tIHVybDogVVJMKSB0aHJvd3Mge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KGZvclVwZGF0aW5nIHVybDogVVJMKSB0aHJvd3Mge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0Pyhmb3JVcGRhdGluZ0F0UGF0aCBwYXRoOiBTdHJpbmcpIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdD8oZm9yV3JpdGluZ0F0UGF0aCBwYXRoOiBTdHJpbmcpIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdChmb3JXcml0aW5nVG8gdXJsOiBVUkwpIHRocm93cyB7fQogICAgb3BlbiB2YXIgYXZhaWxhYmxlRGF0YTogRGF0YSB7IGdldCB9CiAgICBvcGVuIHZhciBmaWxlRGVzY3JpcHRvcjogSW50MzIgeyBnZXQgfQogICAgb3BlbiB2YXIgb2Zmc2V0SW5GaWxlOiBVSW50NjQgeyBnZXQgfQogICAgb3BlbiB2YXIgcmVhZGFiaWxpdHlIYW5kbGVyOiAoKEZpbGVIYW5kbGUpIC0+IFZvaWQpPyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgd3JpdGVhYmlsaXR5SGFuZGxlcjogKChGaWxlSGFuZGxlKSAtPiBWb2lkKT8geyBnZXQgc2V0IH0KICAgIG9wZW4gZnVuYyBhY2NlcHRDb25uZWN0aW9uSW5CYWNrZ3JvdW5kQW5kTm90aWZ5KCkge30KICAgIG9wZW4gZnVuYyBhY2NlcHRDb25uZWN0aW9uSW5CYWNrZ3JvdW5kQW5kTm90aWZ5KGZvck1vZGVzIG1vZGVzOiBbUnVuTG9vcE1vZGVdPykge30KICAgIG9wZW4gZnVuYyBjbG9zZUZpbGUoKSB7fQogICAgb3BlbiBmdW5jIHJlYWREYXRhKG9mTGVuZ3RoIGxlbmd0aDogSW50KSAtPiBEYXRhIHt9CiAgICBvcGVuIGZ1bmMgcmVhZERhdGFUb0VuZE9mRmlsZSgpIC0+IERhdGEge30KICAgIG9wZW4gZnVuYyByZWFkSW5CYWNrZ3JvdW5kQW5kTm90aWZ5KCkge30KICAgIG9wZW4gZnVuYyByZWFkSW5CYWNrZ3JvdW5kQW5kTm90aWZ5KGZvck1vZGVzIG1vZGVzOiBbUnVuTG9vcE1vZGVdPykge30KICAgIG9wZW4gZnVuYyByZWFkVG9FbmRPZkZpbGVJbkJhY2tncm91bmRBbmROb3RpZnkoKSB7fQogICAgb3BlbiBmdW5jIHJlYWRUb0VuZE9mRmlsZUluQmFja2dyb3VuZEFuZE5vdGlmeShmb3JNb2RlcyBtb2RlczogW1J1bkxvb3BNb2RlXT8pIHt9CiAgICBvcGVuIGZ1bmMgc2Vlayh0b0ZpbGVPZmZzZXQgb2Zmc2V0OiBVSW50NjQpIHt9CiAgICBAZGlzY2FyZGFibGVSZXN1bHQgb3BlbiBmdW5jIHNlZWtUb0VuZE9mRmlsZSgpIC0+IFVJbnQ2NCB7fQogICAgb3BlbiBmdW5jIHN5bmNocm9uaXplRmlsZSgpIHt9CiAgICBvcGVuIGZ1bmMgdHJ1bmNhdGVGaWxlKGF0T2Zmc2V0IG9mZnNldDogVUludDY0KSB7fQogICAgb3BlbiBmdW5jIHdhaXRGb3JEYXRhSW5CYWNrZ3JvdW5kQW5kTm90aWZ5KCkge30KICAgIG9wZW4gZnVuYyB3YWl0Rm9yRGF0YUluQmFja2dyb3VuZEFuZE5vdGlmeShmb3JNb2RlcyBtb2RlczogW1J1bkxvb3BNb2RlXT8pIHt9CiAgICBvcGVuIGZ1bmMgd3JpdGUoXyBkYXRhOiBEYXRhKSB7fQp9Cm9wZW4gY2xhc3MgRmlsZU1hbmFnZXIgewpvcGVuIGNsYXNzIERpcmVjdG9yeUVudW1lcmF0b3IgewogICAgb3BlbiB2YXIgZGlyZWN0b3J5QXR0cmlidXRlczogW0ZpbGVBdHRyaWJ1dGVLZXk6IEFueV0/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGZpbGVBdHRyaWJ1dGVzOiBbRmlsZUF0dHJpYnV0ZUtleTogQW55XT8geyBnZXQgfQogICAgb3BlbiB2YXIgbGV2ZWw6IEludCB7IGdldCB9CiAgICBvcGVuIGZ1bmMgc2tpcERlc2NlbmRhbnRzKCkge30KfQogICAgb3BlbiBjbGFzcyB2YXIgZGVmYXVsdDogRmlsZU1hbmFnZXIgeyBnZXQgfQogICAgb3BlbiB2YXIgY3VycmVudERpcmVjdG9yeVBhdGg6IFN0cmluZyB7IGdldCB9CiAgICBvcGVuIHdlYWsgdmFyIGRlbGVnYXRlOiBGaWxlTWFuYWdlckRlbGVnYXRlPyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgaG9tZURpcmVjdG9yeUZvckN1cnJlbnRVc2VyOiBVUkwgeyBnZXQgfQogICAgb3BlbiB2YXIgdGVtcG9yYXJ5RGlyZWN0b3J5OiBVUkwgeyBnZXQgfQojaWYgIShvcyhBbmRyb2lkKSkKICAgIG9wZW4gZnVuYyBhdHRyaWJ1dGVzT2ZGaWxlU3lzdGVtKGZvclBhdGggcGF0aDogU3RyaW5nKSB0aHJvd3MgLT4gW0ZpbGVBdHRyaWJ1dGVLZXk6IEFueV0ge30KI2VuZGlmCiAgICBvcGVuIGZ1bmMgYXR0cmlidXRlc09mSXRlbShhdFBhdGggcGF0aDogU3RyaW5nKSB0aHJvd3MgLT4gW0ZpbGVBdHRyaWJ1dGVLZXk6IEFueV0ge30KICAgIEBkaXNjYXJkYWJsZVJlc3VsdCBvcGVuIGZ1bmMgY2hhbmdlQ3VycmVudERpcmVjdG9yeVBhdGgoXyBwYXRoOiBTdHJpbmcpIC0+IEJvb2wge30KICAgIG9wZW4gZnVuYyBjb21wb25lbnRzVG9EaXNwbGF5KGZvclBhdGggcGF0aDogU3RyaW5nKSAtPiBbU3RyaW5nXT8ge30KICAgIG9wZW4gZnVuYyBjb250ZW50cyhhdFBhdGggcGF0aDogU3RyaW5nKSAtPiBEYXRhPyB7fQogICAgb3BlbiBmdW5jIGNvbnRlbnRzRXF1YWwoYXRQYXRoIHBhdGgxOiBTdHJpbmcsIGFuZFBhdGggcGF0aDI6IFN0cmluZykgLT4gQm9vbCB7fQogICAgb3BlbiBmdW5jIGNvbnRlbnRzT2ZEaXJlY3RvcnkoYXQgdXJsOiBVUkwsIGluY2x1ZGluZ1Byb3BlcnRpZXNGb3JLZXlzIGtleXM6IFtVUkxSZXNvdXJjZUtleV0/LCBvcHRpb25zIG1hc2s6IERpcmVjdG9yeUVudW1lcmF0aW9uT3B0aW9ucyA9IHgpIHRocm93cyAtPiBbVVJMXSB7fQogICAgb3BlbiBmdW5jIGNvbnRlbnRzT2ZEaXJlY3RvcnkoYXRQYXRoIHBhdGg6IFN0cmluZykgdGhyb3dzIC0+IFtTdHJpbmddIHt9CiAgICBvcGVuIGZ1bmMgY29weUl0ZW0oYXQgc3JjVVJMOiBVUkwsIHRvIGRzdFVSTDogVVJMKSB0aHJvd3Mge30KICAgIG9wZW4gZnVuYyBjb3B5SXRlbShhdFBhdGggc3JjUGF0aDogU3RyaW5nLCB0b1BhdGggZHN0UGF0aDogU3RyaW5nKSB0aHJvd3Mge30KICAgIG9wZW4gZnVuYyBjcmVhdGVEaXJlY3RvcnkoYXQgdXJsOiBVUkwsIHdpdGhJbnRlcm1lZGlhdGVEaXJlY3RvcmllcyBjcmVhdGVJbnRlcm1lZGlhdGVzOiBCb29sLCBhdHRyaWJ1dGVzOiBbRmlsZUF0dHJpYnV0ZUtleTogQW55XT8gPSB4KSB0aHJvd3Mge30KICAgIG9wZW4gZnVuYyBjcmVhdGVEaXJlY3RvcnkoYXRQYXRoIHBhdGg6IFN0cmluZywgd2l0aEludGVybWVkaWF0ZURpcmVjdG9yaWVzIGNyZWF0ZUludGVybWVkaWF0ZXM6IEJvb2wsIGF0dHJpYnV0ZXM6IFtGaWxlQXR0cmlidXRlS2V5OiBBbnldPyA9IHgpIHRocm93cyB7fQogICAgQGRpc2NhcmRhYmxlUmVzdWx0IG9wZW4gZnVuYyBjcmVhdGVGaWxlKGF0UGF0aCBwYXRoOiBTdHJpbmcsIGNvbnRlbnRzIGRhdGE6IERhdGE/LCBhdHRyaWJ1dGVzIGF0dHI6IFtGaWxlQXR0cmlidXRlS2V5OiBBbnldPyA9IHgpIC0+IEJvb2wge30KICAgIG9wZW4gZnVuYyBjcmVhdGVTeW1ib2xpY0xpbmsoYXQgdXJsOiBVUkwsIHdpdGhEZXN0aW5hdGlvblVSTCBkZXN0VVJMOiBVUkwpIHRocm93cyB7fQogICAgb3BlbiBmdW5jIGNyZWF0ZVN5bWJvbGljTGluayhhdFBhdGggcGF0aDogU3RyaW5nLCB3aXRoRGVzdGluYXRpb25QYXRoIGRlc3RQYXRoOiBTdHJpbmcpIHRocm93cyB7fQogICAgb3BlbiBmdW5jIGRlc3RpbmF0aW9uT2ZTeW1ib2xpY0xpbmsoYXRQYXRoIHBhdGg6IFN0cmluZykgdGhyb3dzIC0+IFN0cmluZyB7fQogICAgb3BlbiBmdW5jIGRpc3BsYXlOYW1lKGF0UGF0aCBwYXRoOiBTdHJpbmcpIC0+IFN0cmluZyB7fQogICAgb3BlbiBmdW5jIGVudW1lcmF0b3IoYXQgdXJsOiBVUkwsIGluY2x1ZGluZ1Byb3BlcnRpZXNGb3JLZXlzIGtleXM6IFtVUkxSZXNvdXJjZUtleV0/LCBvcHRpb25zIG1hc2s6IERpcmVjdG9yeUVudW1lcmF0aW9uT3B0aW9ucyA9IHgsIGVycm9ySGFuZGxlciBoYW5kbGVyOiAoKFVSTCwgRXJyb3IpIC0+IEJvb2wpPyA9IHgpIC0+IERpcmVjdG9yeUVudW1lcmF0b3I/IHt9CiAgICBvcGVuIGZ1bmMgZW51bWVyYXRvcihhdFBhdGggcGF0aDogU3RyaW5nKSAtPiBEaXJlY3RvcnlFbnVtZXJhdG9yPyB7fQogICAgb3BlbiBmdW5jIGZpbGVFeGlzdHMoYXRQYXRoIHBhdGg6IFN0cmluZykgLT4gQm9vbCB7fQogICAgb3BlbiBmdW5jIGZpbGVFeGlzdHMoYXRQYXRoIHBhdGg6IFN0cmluZywgaXNEaXJlY3Rvcnk6IFVuc2FmZU11dGFibGVQb2ludGVyPE9iakNCb29sPj8pIC0+IEJvb2wge30KICAgIG9wZW4gZnVuYyBmaWxlU3lzdGVtUmVwcmVzZW50YXRpb24od2l0aFBhdGggcGF0aDogU3RyaW5nKSAtPiBVbnNhZmVQb2ludGVyPEludDg+IHt9CiAgICBvcGVuIGZ1bmMgZ2V0UmVsYXRpb25zaGlwKF8gb3V0UmVsYXRpb25zaGlwOiBVbnNhZmVNdXRhYmxlUG9pbnRlcjxVUkxSZWxhdGlvbnNoaXA+LCBvZiBkaXJlY3Rvcnk6IFNlYXJjaFBhdGhEaXJlY3RvcnksIGluIGRvbWFpbk1hc2s6IFNlYXJjaFBhdGhEb21haW5NYXNrLCB0b0l0ZW1BdCB1cmw6IFVSTCkgdGhyb3dzIHt9CiAgICBvcGVuIGZ1bmMgZ2V0UmVsYXRpb25zaGlwKF8gb3V0UmVsYXRpb25zaGlwOiBVbnNhZmVNdXRhYmxlUG9pbnRlcjxVUkxSZWxhdGlvbnNoaXA+LCBvZkRpcmVjdG9yeUF0IGRpcmVjdG9yeVVSTDogVVJMLCB0b0l0ZW1BdCBvdGhlclVSTDogVVJMKSB0aHJvd3Mge30KICAgIG9wZW4gZnVuYyBob21lRGlyZWN0b3J5KGZvclVzZXIgdXNlck5hbWU6IFN0cmluZykgLT4gVVJMPyB7fQogICAgb3BlbiBmdW5jIGlzRGVsZXRhYmxlRmlsZShhdFBhdGggcGF0aDogU3RyaW5nKSAtPiBCb29sIHt9CiAgICBvcGVuIGZ1bmMgaXNFeGVjdXRhYmxlRmlsZShhdFBhdGggcGF0aDogU3RyaW5nKSAtPiBCb29sIHt9CiAgICBvcGVuIGZ1bmMgaXNSZWFkYWJsZUZpbGUoYXRQYXRoIHBhdGg6IFN0cmluZykgLT4gQm9vbCB7fQogICAgb3BlbiBmdW5jIGlzV3JpdGFibGVGaWxlKGF0UGF0aCBwYXRoOiBTdHJpbmcpIC0+IEJvb2wge30KICAgIG9wZW4gZnVuYyBsaW5rSXRlbShhdCBzcmNVUkw6IFVSTCwgdG8gZHN0VVJMOiBVUkwpIHRocm93cyB7fQogICAgb3BlbiBmdW5jIGxpbmtJdGVtKGF0UGF0aCBzcmNQYXRoOiBTdHJpbmcsIHRvUGF0aCBkc3RQYXRoOiBTdHJpbmcpIHRocm93cyB7fQogICAgb3BlbiBmdW5jIG1vdW50ZWRWb2x1bWVVUkxzKGluY2x1ZGluZ1Jlc291cmNlVmFsdWVzRm9yS2V5cyBwcm9wZXJ0eUtleXM6IFtVUkxSZXNvdXJjZUtleV0/LCBvcHRpb25zOiBWb2x1bWVFbnVtZXJhdGlvbk9wdGlvbnMgPSB4KSAtPiBbVVJMXT8ge30KICAgIG9wZW4gZnVuYyBtb3ZlSXRlbShhdCBzcmNVUkw6IFVSTCwgdG8gZHN0VVJMOiBVUkwpIHRocm93cyB7fQogICAgb3BlbiBmdW5jIG1vdmVJdGVtKGF0UGF0aCBzcmNQYXRoOiBTdHJpbmcsIHRvUGF0aCBkc3RQYXRoOiBTdHJpbmcpIHRocm93cyB7fQogICAgb3BlbiBmdW5jIHJlbW92ZUl0ZW0oYXQgdXJsOiBVUkwpIHRocm93cyB7fQogICAgb3BlbiBmdW5jIHJlbW92ZUl0ZW0oYXRQYXRoIHBhdGg6IFN0cmluZykgdGhyb3dzIHt9CiAgICBvcGVuIGZ1bmMgcmVwbGFjZUl0ZW0oYXQgb3JpZ2luYWxJdGVtVVJMOiBVUkwsIHdpdGhJdGVtQXQgbmV3SXRlbVVSTDogVVJMLCBiYWNrdXBJdGVtTmFtZTogU3RyaW5nPywgb3B0aW9uczogSXRlbVJlcGxhY2VtZW50T3B0aW9ucyA9IHgpIHRocm93cyB7fQogICAgcHVibGljIGZ1bmMgcmVwbGFjZUl0ZW1BdChfIG9yaWdpbmFsSXRlbVVSTDogVVJMLCB3aXRoSXRlbUF0IG5ld0l0ZW1VUkw6IFVSTCwgYmFja3VwSXRlbU5hbWU6IFN0cmluZz8gPSB4LCBvcHRpb25zOiBJdGVtUmVwbGFjZW1lbnRPcHRpb25zID0geCkgdGhyb3dzIC0+IE5TVVJMPyB7fQogICAgb3BlbiBmdW5jIHNldEF0dHJpYnV0ZXMoXyBhdHRyaWJ1dGVzOiBbRmlsZUF0dHJpYnV0ZUtleTogQW55XSwgb2ZJdGVtQXRQYXRoIHBhdGg6IFN0cmluZykgdGhyb3dzIHt9CiAgICBvcGVuIGZ1bmMgc3RyaW5nKHdpdGhGaWxlU3lzdGVtUmVwcmVzZW50YXRpb24gc3RyOiBVbnNhZmVQb2ludGVyPEludDg+LCBsZW5ndGggbGVuOiBJbnQpIC0+IFN0cmluZyB7fQogICAgb3BlbiBmdW5jIHN1YnBhdGhzKGF0UGF0aCBwYXRoOiBTdHJpbmcpIC0+IFtTdHJpbmddPyB7fQogICAgb3BlbiBmdW5jIHN1YnBhdGhzT2ZEaXJlY3RvcnkoYXRQYXRoIHBhdGg6IFN0cmluZykgdGhyb3dzIC0+IFtTdHJpbmddIHt9CiAgICBvcGVuIGZ1bmMgdXJsKGZvciBkaXJlY3Rvcnk6IFNlYXJjaFBhdGhEaXJlY3RvcnksIGluIGRvbWFpbjogU2VhcmNoUGF0aERvbWFpbk1hc2ssIGFwcHJvcHJpYXRlRm9yIHVybDogVVJMPywgY3JlYXRlIHNob3VsZENyZWF0ZTogQm9vbCkgdGhyb3dzIC0+IFVSTCB7fQojaWYgIShvcyhXaW5kb3dzKSApCiAgICBvcGVuIGZ1bmMgdXJscyhmb3IgZGlyZWN0b3J5OiBTZWFyY2hQYXRoRGlyZWN0b3J5LCBpbiBkb21haW5NYXNrOiBTZWFyY2hQYXRoRG9tYWluTWFzaykgLT4gW1VSTF0ge30KI2VuZGlmCn0Kb3BlbiBjbGFzcyBGb3JtYXR0ZXIgewogICAgb3BlbiBmdW5jIGVkaXRpbmdTdHJpbmcoZm9yIG9iajogQW55KSAtPiBTdHJpbmc/IHt9CiAgICBvcGVuIGZ1bmMgb2JqZWN0VmFsdWUoXyBzdHJpbmc6IFN0cmluZykgdGhyb3dzIC0+IEFueT8ge30KICAgIG9wZW4gZnVuYyBzdHJpbmcoZm9yIG9iajogQW55KSAtPiBTdHJpbmc/IHt9Cn0Kb3BlbiBjbGFzcyBIVFRQQ29va2llIHsKICAgIG9wZW4gY2xhc3MgZnVuYyBjb29raWVzKHdpdGhSZXNwb25zZUhlYWRlckZpZWxkcyBoZWFkZXJGaWVsZHM6IFtTdHJpbmc6IFN0cmluZ10sIGZvciBVUkw6IFVSTCkgLT4gW0hUVFBDb29raWVdIHt9CiAgICBvcGVuIGNsYXNzIGZ1bmMgcmVxdWVzdEhlYWRlckZpZWxkcyh3aXRoIGNvb2tpZXM6IFtIVFRQQ29va2llXSkgLT4gW1N0cmluZzogU3RyaW5nXSB7fQogICAgcHVibGljIGluaXQ/KHByb3BlcnRpZXM6IFtIVFRQQ29va2llUHJvcGVydHlLZXk6IEFueV0pIHt9CiAgICBvcGVuIHZhciBjb21tZW50OiBTdHJpbmc/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGNvbW1lbnRVUkw6IFVSTD8geyBnZXQgfQogICAgb3BlbiB2YXIgZG9tYWluOiBTdHJpbmcgeyBnZXQgfQogICAgb3BlbiB2YXIgZXhwaXJlc0RhdGU6IERhdGU/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGlzSFRUUE9ubHk6IEJvb2wgeyBnZXQgfQogICAgb3BlbiB2YXIgaXNTZWN1cmU6IEJvb2wgeyBnZXQgfQogICAgb3BlbiB2YXIgaXNTZXNzaW9uT25seTogQm9vbCB7IGdldCB9CiAgICBvcGVuIHZhciBuYW1lOiBTdHJpbmcgeyBnZXQgfQogICAgb3BlbiB2YXIgcGF0aDogU3RyaW5nIHsgZ2V0IH0KICAgIG9wZW4gdmFyIHBvcnRMaXN0OiBbTlNOdW1iZXJdPyB7IGdldCB9CiAgICBvcGVuIHZhciBwcm9wZXJ0aWVzOiBbSFRUUENvb2tpZVByb3BlcnR5S2V5OiBBbnldPyB7IGdldCB9CiAgICBvcGVuIHZhciB2YWx1ZTogU3RyaW5nIHsgZ2V0IH0KICAgIG9wZW4gdmFyIHZlcnNpb246IEludCB7IGdldCB9Cn0Kb3BlbiBjbGFzcyBIVFRQQ29va2llU3RvcmFnZSB7CiAgICBvcGVuIGNsYXNzIHZhciBzaGFyZWQ6IEhUVFBDb29raWVTdG9yYWdlIHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgZnVuYyBzaGFyZWRDb29raWVTdG9yYWdlKGZvckdyb3VwQ29udGFpbmVySWRlbnRpZmllciBpZGVudGlmaWVyOiBTdHJpbmcpIC0+IEhUVFBDb29raWVTdG9yYWdlIHt9CiAgICBvcGVuIHZhciBjb29raWVBY2NlcHRQb2xpY3k6IEhUVFBDb29raWUuQWNjZXB0UG9saWN5IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBjb29raWVzOiBbSFRUUENvb2tpZV0/IHsgZ2V0IH0KICAgIG9wZW4gZnVuYyBjb29raWVzKGZvciB1cmw6IFVSTCkgLT4gW0hUVFBDb29raWVdPyB7fQogICAgb3BlbiBmdW5jIGRlbGV0ZUNvb2tpZShfIGNvb2tpZTogSFRUUENvb2tpZSkge30KICAgIG9wZW4gZnVuYyByZW1vdmVDb29raWVzKHNpbmNlIGRhdGU6IERhdGUpIHt9CiAgICBvcGVuIGZ1bmMgc2V0Q29va2llKF8gY29va2llOiBIVFRQQ29va2llKSB7fQogICAgb3BlbiBmdW5jIHNldENvb2tpZXMoXyBjb29raWVzOiBbSFRUUENvb2tpZV0sIGZvciB1cmw6IFVSTD8sIG1haW5Eb2N1bWVudFVSTDogVVJMPykge30KICAgIG9wZW4gZnVuYyBzb3J0ZWRDb29raWVzKHVzaW5nIHNvcnRPcmRlcjogW05TU29ydERlc2NyaXB0b3JdKSAtPiBbSFRUUENvb2tpZV0ge30KfQpvcGVuIGNsYXNzIEhUVFBVUkxSZXNwb25zZSB7CiAgICBvcGVuIGNsYXNzIGZ1bmMgbG9jYWxpemVkU3RyaW5nKGZvclN0YXR1c0NvZGUgc3RhdHVzQ29kZTogSW50KSAtPiBTdHJpbmcge30KICAgIHB1YmxpYyBpbml0Pyh1cmw6IFVSTCwgc3RhdHVzQ29kZTogSW50LCBodHRwVmVyc2lvbjogU3RyaW5nPywgaGVhZGVyRmllbGRzOiBbU3RyaW5nOiBTdHJpbmddPykge30KICAgIHB1YmxpYyB2YXIgYWxsSGVhZGVyRmllbGRzOiBbQW55SGFzaGFibGU6IEFueV0geyBnZXQgfQogICAgcHVibGljIHZhciBzdGF0dXNDb2RlOiBJbnQgeyBnZXQgfQp9Cm9wZW4gY2xhc3MgSG9zdCB7CiAgICBvcGVuIGNsYXNzIGZ1bmMgY3VycmVudCgpIC0+IEhvc3Qge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KGFkZHJlc3M6IFN0cmluZykge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KG5hbWU6IFN0cmluZz8pIHt9CiAgICBvcGVuIHZhciBhZGRyZXNzOiBTdHJpbmc/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGFkZHJlc3NlczogW1N0cmluZ10geyBnZXQgfQogICAgb3BlbiB2YXIgbG9jYWxpemVkTmFtZTogU3RyaW5nPyB7IGdldCB9CiAgICBvcGVuIHZhciBuYW1lOiBTdHJpbmc/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIG5hbWVzOiBbU3RyaW5nXSB7IGdldCB9CiAgICBvcGVuIGZ1bmMgaXNFcXVhbCh0byBhSG9zdDogSG9zdCkgLT4gQm9vbCB7fQp9Cm9wZW4gY2xhc3MgSVNPODYwMURhdGVGb3JtYXR0ZXIgewogICAgb3BlbiBjbGFzcyBmdW5jIHN0cmluZyhmcm9tIGRhdGU6IERhdGUsIHRpbWVab25lOiBUaW1lWm9uZSwgZm9ybWF0T3B0aW9uczogSVNPODYwMURhdGVGb3JtYXR0ZXIuT3B0aW9ucyA9IHgpIC0+IFN0cmluZyB7fQogICAgb3BlbiB2YXIgZm9ybWF0T3B0aW9uczogSVNPODYwMURhdGVGb3JtYXR0ZXIuT3B0aW9ucyB7IGdldCB9CiAgICBvcGVuIHZhciB0aW1lWm9uZTogVGltZVpvbmUhIHsgZ2V0IH0KICAgIG9wZW4gZnVuYyBkYXRlKGZyb20gc3RyaW5nOiBTdHJpbmcpIC0+IERhdGU/IHt9CiAgICBvcGVuIGZ1bmMgc3RyaW5nKGZyb20gZGF0ZTogRGF0ZSkgLT4gU3RyaW5nIHt9Cn0Kb3BlbiBjbGFzcyBJbnB1dFN0cmVhbSB7CiAgICBwdWJsaWMgaW5pdChkYXRhOiBEYXRhKSB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQ/KGZpbGVBdFBhdGggcGF0aDogU3RyaW5nKSB7fQogICAgcHVibGljIGluaXQ/KHVybDogVVJMKSB7fQogICAgb3BlbiB2YXIgaGFzQnl0ZXNBdmFpbGFibGU6IEJvb2wgeyBnZXQgfQogICAgb3BlbiBmdW5jIGdldEJ1ZmZlcihfIGJ1ZmZlcjogVW5zYWZlTXV0YWJsZVBvaW50ZXI8VW5zYWZlTXV0YWJsZVBvaW50ZXI8VUludDg+Pz4sIGxlbmd0aCBsZW46IFVuc2FmZU11dGFibGVQb2ludGVyPEludD4pIC0+IEJvb2wge30KICAgIG9wZW4gZnVuYyByZWFkKF8gYnVmZmVyOiBVbnNhZmVNdXRhYmxlUG9pbnRlcjxVSW50OD4sIG1heExlbmd0aCBsZW46IEludCkgLT4gSW50IHt9Cn0Kb3BlbiBjbGFzcyBKU09ORGVjb2RlciB7CiAgICBwdWJsaWMgaW5pdCgpIHt9CiAgICBvcGVuIHZhciBkYXRhRGVjb2RpbmdTdHJhdGVneTogRGF0YURlY29kaW5nU3RyYXRlZ3kgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGRhdGVEZWNvZGluZ1N0cmF0ZWd5OiBEYXRlRGVjb2RpbmdTdHJhdGVneSB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIga2V5RGVjb2RpbmdTdHJhdGVneTogS2V5RGVjb2RpbmdTdHJhdGVneSB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgbm9uQ29uZm9ybWluZ0Zsb2F0RGVjb2RpbmdTdHJhdGVneTogTm9uQ29uZm9ybWluZ0Zsb2F0RGVjb2RpbmdTdHJhdGVneSB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgdXNlckluZm86IFtDb2RpbmdVc2VySW5mb0tleTogQW55XSB7IGdldCBzZXQgfQogICAgb3BlbiBmdW5jIGRlY29kZTxUPihfIHR5cGU6IFQuVHlwZSwgZnJvbSBkYXRhOiBEYXRhKSB0aHJvd3MgLT4gVCB3aGVyZSBUIDogRGVjb2RhYmxlIHt9Cn0Kb3BlbiBjbGFzcyBKU09ORW5jb2RlciB7CiAgICBwdWJsaWMgaW5pdCgpIHt9CiAgICBvcGVuIHZhciBkYXRhRW5jb2RpbmdTdHJhdGVneTogRGF0YUVuY29kaW5nU3RyYXRlZ3kgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGRhdGVFbmNvZGluZ1N0cmF0ZWd5OiBEYXRlRW5jb2RpbmdTdHJhdGVneSB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIga2V5RW5jb2RpbmdTdHJhdGVneTogS2V5RW5jb2RpbmdTdHJhdGVneSB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgbm9uQ29uZm9ybWluZ0Zsb2F0RW5jb2RpbmdTdHJhdGVneTogTm9uQ29uZm9ybWluZ0Zsb2F0RW5jb2RpbmdTdHJhdGVneSB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgb3V0cHV0Rm9ybWF0dGluZzogT3V0cHV0Rm9ybWF0dGluZyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgdXNlckluZm86IFtDb2RpbmdVc2VySW5mb0tleTogQW55XSB7IGdldCBzZXQgfQogICAgb3BlbiBmdW5jIGVuY29kZTxUPihfIHZhbHVlOiBUKSB0aHJvd3MgLT4gRGF0YSB3aGVyZSBUIDogRW5jb2RhYmxlIHt9Cn0Kb3BlbiBjbGFzcyBKU09OU2VyaWFsaXphdGlvbiB7CiAgICBvcGVuIGNsYXNzIGZ1bmMgZGF0YSh3aXRoSlNPTk9iamVjdCB2YWx1ZTogQW55LCBvcHRpb25zIG9wdDogV3JpdGluZ09wdGlvbnMgPSB4KSB0aHJvd3MgLT4gRGF0YSB7fQogICAgb3BlbiBjbGFzcyBmdW5jIGlzVmFsaWRKU09OT2JqZWN0KF8gb2JqOiBBbnkpIC0+IEJvb2wge30KICAgIG9wZW4gY2xhc3MgZnVuYyBqc29uT2JqZWN0KHdpdGggZGF0YTogRGF0YSwgb3B0aW9ucyBvcHQ6IFJlYWRpbmdPcHRpb25zID0geCkgdGhyb3dzIC0+IEFueSB7fQogICAgb3BlbiBjbGFzcyBmdW5jIHdyaXRlSlNPTk9iamVjdChfIG9iajogQW55LCB0b1N0cmVhbSBzdHJlYW06IE91dHB1dFN0cmVhbSwgb3B0aW9ucyBvcHQ6IFdyaXRpbmdPcHRpb25zKSB0aHJvd3MgLT4gSW50IHt9Cn0Kb3BlbiBjbGFzcyBMZW5ndGhGb3JtYXR0ZXIgewogICAgb3BlbiB2YXIgaXNGb3JQZXJzb25IZWlnaHRVc2U6IEJvb2wgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIG51bWJlckZvcm1hdHRlcjogTnVtYmVyRm9ybWF0dGVyISB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgdW5pdFN0eWxlOiBVbml0U3R5bGUgeyBnZXQgc2V0IH0KICAgIG9wZW4gZnVuYyBzdHJpbmcoZnJvbU1ldGVycyBudW1iZXJJbk1ldGVyczogRG91YmxlKSAtPiBTdHJpbmcge30KICAgIG9wZW4gZnVuYyBzdHJpbmcoZnJvbVZhbHVlIHZhbHVlOiBEb3VibGUsIHVuaXQ6IExlbmd0aEZvcm1hdHRlci5Vbml0KSAtPiBTdHJpbmcge30KICAgIG9wZW4gZnVuYyB1bml0U3RyaW5nKGZyb21NZXRlcnMgbnVtYmVySW5NZXRlcnM6IERvdWJsZSwgdXNlZFVuaXQgdW5pdHA6IFVuc2FmZU11dGFibGVQb2ludGVyPFVuaXQ+PykgLT4gU3RyaW5nIHt9CiAgICBvcGVuIGZ1bmMgdW5pdFN0cmluZyhmcm9tVmFsdWUgdmFsdWU6IERvdWJsZSwgdW5pdDogVW5pdCkgLT4gU3RyaW5nIHt9Cn0Kb3BlbiBjbGFzcyBNYXNzRm9ybWF0dGVyIHsKICAgIG9wZW4gdmFyIGlzRm9yUGVyc29uTWFzc1VzZTogQm9vbCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgbnVtYmVyRm9ybWF0dGVyOiBOdW1iZXJGb3JtYXR0ZXIhIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciB1bml0U3R5bGU6IFVuaXRTdHlsZSB7IGdldCBzZXQgfQogICAgb3BlbiBmdW5jIHN0cmluZyhmcm9tS2lsb2dyYW1zIG51bWJlckluS2lsb2dyYW1zOiBEb3VibGUpIC0+IFN0cmluZyB7fQogICAgb3BlbiBmdW5jIHN0cmluZyhmcm9tVmFsdWUgdmFsdWU6IERvdWJsZSwgdW5pdDogVW5pdCkgLT4gU3RyaW5nIHt9CiAgICBvcGVuIGZ1bmMgdW5pdFN0cmluZyhmcm9tS2lsb2dyYW1zIG51bWJlckluS2lsb2dyYW1zOiBEb3VibGUsIHVzZWRVbml0IHVuaXRwOiBVbnNhZmVNdXRhYmxlUG9pbnRlcjxVbml0Pj8pIC0+IFN0cmluZyB7fQogICAgb3BlbiBmdW5jIHVuaXRTdHJpbmcoZnJvbVZhbHVlIHZhbHVlOiBEb3VibGUsIHVuaXQ6IFVuaXQpIC0+IFN0cmluZyB7fQogICAgb3BlbiBmdW5jIHVuaXRTdHJpbmdEaXNwbGF5ZWRBZGphY2VudCh0b1ZhbHVlIHZhbHVlOiBEb3VibGUsIHVuaXQ6IFVuaXQpIC0+IFN0cmluZyB7fQp9Cm9wZW4gY2xhc3MgTWVhc3VyZW1lbnRGb3JtYXR0ZXIgewogICAgb3BlbiB2YXIgbG9jYWxlOiBMb2NhbGUhIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBudW1iZXJGb3JtYXR0ZXI6IE51bWJlckZvcm1hdHRlciEgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHVuaXRPcHRpb25zOiBNZWFzdXJlbWVudEZvcm1hdHRlci5Vbml0T3B0aW9ucyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgdW5pdFN0eWxlOiBGb3JtYXR0ZXIuVW5pdFN0eWxlIHsgZ2V0IHNldCB9CiAgICBwdWJsaWMgZnVuYyBzdHJpbmc8VW5pdFR5cGU+KGZyb20gbWVhc3VyZW1lbnQ6IE1lYXN1cmVtZW50PFVuaXRUeXBlPikgLT4gU3RyaW5nIHt9Cn0Kb3BlbiBjbGFzcyBNZXNzYWdlUG9ydCB7Cn0Kb3BlbiBjbGFzcyBOU0FmZmluZVRyYW5zZm9ybSB7CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdCh0cmFuc2Zvcm06IEFmZmluZVRyYW5zZm9ybSkge30KICAgIHB1YmxpYyB2YXIgdHJhbnNmb3JtU3RydWN0OiBOU0FmZmluZVRyYW5zZm9ybVN0cnVjdCB7IGdldCBzZXQgfQogICAgb3BlbiBmdW5jIGFwcGVuZChfIHRyYW5zZm9ybTogQWZmaW5lVHJhbnNmb3JtKSB7fQogICAgb3BlbiBmdW5jIGludmVydCgpIHt9CiAgICBvcGVuIGZ1bmMgcHJlcGVuZChfIHRyYW5zZm9ybTogQWZmaW5lVHJhbnNmb3JtKSB7fQogICAgb3BlbiBmdW5jIHJvdGF0ZShieURlZ3JlZXMgYW5nbGU6IENHRmxvYXQpIHt9CiAgICBvcGVuIGZ1bmMgcm90YXRlKGJ5UmFkaWFucyBhbmdsZTogQ0dGbG9hdCkge30KICAgIG9wZW4gZnVuYyBzY2FsZShieSBzY2FsZTogQ0dGbG9hdCkge30KICAgIG9wZW4gZnVuYyBzY2FsZVgoYnkgc2NhbGVYOiBDR0Zsb2F0LCB5Qnkgc2NhbGVZOiBDR0Zsb2F0KSB7fQogICAgb3BlbiBmdW5jIHRyYW5zZm9ybShfIGFQb2ludDogTlNQb2ludCkgLT4gTlNQb2ludCB7fQogICAgb3BlbiBmdW5jIHRyYW5zZm9ybShfIGFTaXplOiBOU1NpemUpIC0+IE5TU2l6ZSB7fQogICAgb3BlbiBmdW5jIHRyYW5zbGF0ZVgoYnkgZGVsdGFYOiBDR0Zsb2F0LCB5QnkgZGVsdGFZOiBDR0Zsb2F0KSB7fQp9Cm9wZW4gY2xhc3MgTlNBcnJheSB7CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdChhcnJheTogW0FueV0pIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdChhcnJheTogW0FueV0sIGNvcHlJdGVtczogQm9vbCkge30KICAgIHB1YmxpYyByZXF1aXJlZCBjb252ZW5pZW5jZSBpbml0KGFycmF5TGl0ZXJhbCBlbGVtZW50czogQW55Li4uKSB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQoY29udGVudHNPZiB1cmw6IFVSTCwgZXJyb3I6IFZvaWQpIHRocm93cyB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQob2JqZWN0IGFuT2JqZWN0OiBBbnkpIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdChvYmplY3RzIGVsZW1lbnRzOiBBbnlPYmplY3QuLi4pIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdChvYmplY3RzOiBVbnNhZmVQb2ludGVyPEFueU9iamVjdD4sIGNvdW50OiBJbnQpIHt9CiAgICBvcGVuIHZhciBjb3VudDogSW50IHsgZ2V0IH0KICAgIHB1YmxpYyB2YXIgY3VzdG9tTWlycm9yOiBNaXJyb3IgeyBnZXQgfQogICAgb3BlbiB2YXIgZmlyc3RPYmplY3Q6IEFueT8geyBnZXQgfQogICAgb3BlbiB2YXIgbGFzdE9iamVjdDogQW55PyB7IGdldCB9CiAgICBvcGVuIHZhciBzb3J0ZWRBcnJheUhpbnQ6IERhdGEgeyBnZXQgfQogICAgb3BlbiBzdWJzY3JpcHQoaWR4OiBJbnQpIC0+IEFueSB7IGdldCB9IHt9CiAgICBvcGVuIGZ1bmMgYWRkaW5nKF8gYW5PYmplY3Q6IEFueSkgLT4gW0FueV0ge30KICAgIG9wZW4gZnVuYyBhZGRpbmdPYmplY3RzKGZyb20gb3RoZXJBcnJheTogW0FueV0pIC0+IFtBbnldIHt9CiAgICBvcGVuIGZ1bmMgY29tcG9uZW50c0pvaW5lZChieSBzZXBhcmF0b3I6IFN0cmluZykgLT4gU3RyaW5nIHt9CiAgICBvcGVuIGZ1bmMgY29udGFpbnMoXyBhbk9iamVjdDogQW55KSAtPiBCb29sIHt9CiAgICBvcGVuIGZ1bmMgZGVzY3JpcHRpb24od2l0aExvY2FsZSBsb2NhbGU6IExvY2FsZT8pIC0+IFN0cmluZyB7fQogICAgb3BlbiBmdW5jIGRlc2NyaXB0aW9uKHdpdGhMb2NhbGUgbG9jYWxlOiBMb2NhbGU/LCBpbmRlbnQgbGV2ZWw6IEludCkgLT4gU3RyaW5nIHt9CiAgICBvcGVuIGZ1bmMgZW51bWVyYXRlT2JqZWN0cyhfIGJsb2NrOiAoQW55LCBJbnQsIFVuc2FmZU11dGFibGVQb2ludGVyPE9iakNCb29sPikgLT4gU3dpZnQuVm9pZCkge30KICAgIG9wZW4gZnVuYyBlbnVtZXJhdGVPYmplY3RzKGF0IHM6IEluZGV4U2V0LCBvcHRpb25zIG9wdHM6IE5TRW51bWVyYXRpb25PcHRpb25zID0geCwgdXNpbmcgYmxvY2s6IChBbnksIEludCwgVW5zYWZlTXV0YWJsZVBvaW50ZXI8T2JqQ0Jvb2w+KSAtPiBTd2lmdC5Wb2lkKSB7fQogICAgb3BlbiBmdW5jIGVudW1lcmF0ZU9iamVjdHMob3B0aW9ucyBvcHRzOiBOU0VudW1lcmF0aW9uT3B0aW9ucyA9IHgsIHVzaW5nIGJsb2NrOiAoQW55LCBJbnQsIFVuc2FmZU11dGFibGVQb2ludGVyPE9iakNCb29sPikgLT4gU3dpZnQuVm9pZCkge30KICAgIG9wZW4gZnVuYyBmaWx0ZXJlZCh1c2luZyBwcmVkaWNhdGU6IE5TUHJlZGljYXRlKSAtPiBbQW55XSB7fQogICAgb3BlbiBmdW5jIGZpcnN0T2JqZWN0Q29tbW9uKHdpdGggb3RoZXJBcnJheTogW0FueV0pIC0+IEFueT8ge30KICAgIG9wZW4gZnVuYyBpbmRleChvZiBhbk9iamVjdDogQW55KSAtPiBJbnQge30KICAgIG9wZW4gZnVuYyBpbmRleChvZiBhbk9iamVjdDogQW55LCBpbiByYW5nZTogTlNSYW5nZSkgLT4gSW50IHt9CiAgICBvcGVuIGZ1bmMgaW5kZXgob2Ygb2JqOiBBbnksIGluU29ydGVkUmFuZ2UgcjogTlNSYW5nZSwgb3B0aW9ucyBvcHRzOiBOU0JpbmFyeVNlYXJjaGluZ09wdGlvbnMgPSB4LCB1c2luZ0NvbXBhcmF0b3IgY21wOiAoQW55LCBBbnkpIC0+IENvbXBhcmlzb25SZXN1bHQpIC0+IEludCB7fQogICAgb3BlbiBmdW5jIGluZGV4T2ZPYmplY3QoYXQgczogSW5kZXhTZXQsIG9wdGlvbnMgb3B0czogTlNFbnVtZXJhdGlvbk9wdGlvbnMgPSB4LCBwYXNzaW5nVGVzdCBwcmVkaWNhdGU6IChBbnksIEludCwgVW5zYWZlTXV0YWJsZVBvaW50ZXI8T2JqQ0Jvb2w+KSAtPiBCb29sKSAtPiBJbnQge30KICAgIG9wZW4gZnVuYyBpbmRleE9mT2JqZWN0KG9wdGlvbnMgb3B0czogTlNFbnVtZXJhdGlvbk9wdGlvbnMgPSB4LCBwYXNzaW5nVGVzdCBwcmVkaWNhdGU6IChBbnksIEludCwgVW5zYWZlTXV0YWJsZVBvaW50ZXI8T2JqQ0Jvb2w+KSAtPiBCb29sKSAtPiBJbnQge30KICAgIG9wZW4gZnVuYyBpbmRleE9mT2JqZWN0KHBhc3NpbmdUZXN0IHByZWRpY2F0ZTogKEFueSwgSW50LCBVbnNhZmVNdXRhYmxlUG9pbnRlcjxPYmpDQm9vbD4pIC0+IEJvb2wpIC0+IEludCB7fQogICAgb3BlbiBmdW5jIGluZGV4T2ZPYmplY3RJZGVudGljYWwodG8gYW5PYmplY3Q6IEFueSkgLT4gSW50IHt9CiAgICBvcGVuIGZ1bmMgaW5kZXhPZk9iamVjdElkZW50aWNhbCh0byBhbk9iamVjdDogQW55LCBpbiByYW5nZTogTlNSYW5nZSkgLT4gSW50IHt9CiAgICBvcGVuIGZ1bmMgaW5kZXhlc09mT2JqZWN0cyhhdCBzOiBJbmRleFNldCwgb3B0aW9ucyBvcHRzOiBOU0VudW1lcmF0aW9uT3B0aW9ucyA9IHgsIHBhc3NpbmdUZXN0IHByZWRpY2F0ZTogKEFueSwgSW50LCBVbnNhZmVNdXRhYmxlUG9pbnRlcjxPYmpDQm9vbD4pIC0+IEJvb2wpIC0+IEluZGV4U2V0IHt9CiAgICBvcGVuIGZ1bmMgaW5kZXhlc09mT2JqZWN0cyhvcHRpb25zIG9wdHM6IE5TRW51bWVyYXRpb25PcHRpb25zID0geCwgcGFzc2luZ1Rlc3QgcHJlZGljYXRlOiAoQW55LCBJbnQsIFVuc2FmZU11dGFibGVQb2ludGVyPE9iakNCb29sPikgLT4gQm9vbCkgLT4gSW5kZXhTZXQge30KICAgIG9wZW4gZnVuYyBpbmRleGVzT2ZPYmplY3RzKHBhc3NpbmdUZXN0IHByZWRpY2F0ZTogKEFueSwgSW50LCBVbnNhZmVNdXRhYmxlUG9pbnRlcjxPYmpDQm9vbD4pIC0+IEJvb2wpIC0+IEluZGV4U2V0IHt9CiAgICBvcGVuIGZ1bmMgaXNFcXVhbCh0byBvdGhlckFycmF5OiBbQW55XSkgLT4gQm9vbCB7fQogICAgcHVibGljIGZ1bmMgbWFrZUl0ZXJhdG9yKCkgLT4gSXRlcmF0b3Ige30KICAgIG9wZW4gZnVuYyBvYmplY3QoYXQgaW5kZXg6IEludCkgLT4gQW55IHt9CiAgICBvcGVuIGZ1bmMgb2JqZWN0RW51bWVyYXRvcigpIC0+IE5TRW51bWVyYXRvciB7fQogICAgb3BlbiBmdW5jIG9iamVjdHMoYXQgaW5kZXhlczogSW5kZXhTZXQpIC0+IFtBbnldIHt9CiAgICBvcGVuIGZ1bmMgcGF0aHNNYXRjaGluZ0V4dGVuc2lvbnMoXyBmaWx0ZXJUeXBlczogW1N0cmluZ10pIC0+IFtTdHJpbmddIHt9CiAgICBvcGVuIGZ1bmMgcmV2ZXJzZU9iamVjdEVudW1lcmF0b3IoKSAtPiBOU0VudW1lcmF0b3Ige30KICAgIG9wZW4gZnVuYyBzb3J0ZWRBcnJheShfIGNvbXBhcmF0b3I6IChBbnksIEFueSwgVW5zYWZlTXV0YWJsZVJhd1BvaW50ZXI/KSAtPiBJbnQsIGNvbnRleHQ6IFVuc2FmZU11dGFibGVSYXdQb2ludGVyPykgLT4gW0FueV0ge30KICAgIG9wZW4gZnVuYyBzb3J0ZWRBcnJheShfIGNvbXBhcmF0b3I6IChBbnksIEFueSwgVW5zYWZlTXV0YWJsZVJhd1BvaW50ZXI/KSAtPiBJbnQsIGNvbnRleHQ6IFVuc2FmZU11dGFibGVSYXdQb2ludGVyPywgaGludDogRGF0YT8pIC0+IFtBbnldIHt9CiAgICBvcGVuIGZ1bmMgc29ydGVkQXJyYXkoY29tcGFyYXRvciBjbXB0cjogKEFueSwgQW55KSAtPiBDb21wYXJpc29uUmVzdWx0KSAtPiBbQW55XSB7fQogICAgb3BlbiBmdW5jIHNvcnRlZEFycmF5KG9wdGlvbnMgb3B0czogTlNTb3J0T3B0aW9ucyA9IHgsIHVzaW5nQ29tcGFyYXRvciBjbXB0cjogKEFueSwgQW55KSAtPiBDb21wYXJpc29uUmVzdWx0KSAtPiBbQW55XSB7fQogICAgcHVibGljIGZ1bmMgc29ydGVkQXJyYXkodXNpbmcgc29ydERlc2NyaXB0b3JzOiBbTlNTb3J0RGVzY3JpcHRvcl0pIC0+IFtBbnldIHt9CiAgICBvcGVuIGZ1bmMgc3ViYXJyYXkod2l0aCByYW5nZTogTlNSYW5nZSkgLT4gW0FueV0ge30KICAgIG9wZW4gZnVuYyB3cml0ZSh0byB1cmw6IFVSTCkgdGhyb3dzIHt9Cn0Kb3BlbiBjbGFzcyBOU0F0dHJpYnV0ZWRTdHJpbmcgewogICAgcHVibGljIGluaXQoYXR0cmlidXRlZFN0cmluZzogTlNBdHRyaWJ1dGVkU3RyaW5nKSB7fQogICAgcHVibGljIGluaXQoc3RyaW5nOiBTdHJpbmcpIHt9CiAgICBwdWJsaWMgaW5pdChzdHJpbmc6IFN0cmluZywgYXR0cmlidXRlcyBhdHRyczogW05TQXR0cmlidXRlZFN0cmluZ0tleTogQW55XT8gPSB4KSB7fQogICAgb3BlbiB2YXIgbGVuZ3RoOiBJbnQgeyBnZXQgfQogICAgb3BlbiB2YXIgc3RyaW5nOiBTdHJpbmcgeyBnZXQgfQogICAgb3BlbiBmdW5jIGF0dHJpYnV0ZShfIGF0dHJOYW1lOiBOU0F0dHJpYnV0ZWRTdHJpbmdLZXksIGF0IGxvY2F0aW9uOiBJbnQsIGVmZmVjdGl2ZVJhbmdlIHJhbmdlOiBOU1JhbmdlUG9pbnRlcj8pIC0+IEFueT8ge30KICAgIG9wZW4gZnVuYyBhdHRyaWJ1dGUoXyBhdHRyTmFtZTogTlNBdHRyaWJ1dGVkU3RyaW5nS2V5LCBhdCBsb2NhdGlvbjogSW50LCBsb25nZXN0RWZmZWN0aXZlUmFuZ2UgcmFuZ2U6IE5TUmFuZ2VQb2ludGVyPywgaW4gcmFuZ2VMaW1pdDogTlNSYW5nZSkgLT4gQW55PyB7fQogICAgb3BlbiBmdW5jIGF0dHJpYnV0ZWRTdWJzdHJpbmcoZnJvbSByYW5nZTogTlNSYW5nZSkgLT4gTlNBdHRyaWJ1dGVkU3RyaW5nIHt9CiAgICBvcGVuIGZ1bmMgYXR0cmlidXRlcyhhdCBsb2NhdGlvbjogSW50LCBlZmZlY3RpdmVSYW5nZSByYW5nZTogTlNSYW5nZVBvaW50ZXI/KSAtPiBbTlNBdHRyaWJ1dGVkU3RyaW5nS2V5OiBBbnldIHt9CiAgICBvcGVuIGZ1bmMgYXR0cmlidXRlcyhhdCBsb2NhdGlvbjogSW50LCBsb25nZXN0RWZmZWN0aXZlUmFuZ2UgcmFuZ2U6IE5TUmFuZ2VQb2ludGVyPywgaW4gcmFuZ2VMaW1pdDogTlNSYW5nZSkgLT4gW05TQXR0cmlidXRlZFN0cmluZ0tleTogQW55XSB7fQogICAgb3BlbiBmdW5jIGVudW1lcmF0ZUF0dHJpYnV0ZShfIGF0dHJOYW1lOiBOU0F0dHJpYnV0ZWRTdHJpbmdLZXksIGluIGVudW1lcmF0aW9uUmFuZ2U6IE5TUmFuZ2UsIG9wdGlvbnMgb3B0czogTlNBdHRyaWJ1dGVkU3RyaW5nLkVudW1lcmF0aW9uT3B0aW9ucyA9IHgsIHVzaW5nIGJsb2NrOiAoQW55PywgTlNSYW5nZSwgVW5zYWZlTXV0YWJsZVBvaW50ZXI8T2JqQ0Jvb2w+KSAtPiBTd2lmdC5Wb2lkKSB7fQogICAgb3BlbiBmdW5jIGVudW1lcmF0ZUF0dHJpYnV0ZXMoaW4gZW51bWVyYXRpb25SYW5nZTogTlNSYW5nZSwgb3B0aW9ucyBvcHRzOiBOU0F0dHJpYnV0ZWRTdHJpbmcuRW51bWVyYXRpb25PcHRpb25zID0geCwgdXNpbmcgYmxvY2s6IChbTlNBdHRyaWJ1dGVkU3RyaW5nS2V5OiBBbnldLCBOU1JhbmdlLCBVbnNhZmVNdXRhYmxlUG9pbnRlcjxPYmpDQm9vbD4pIC0+IFN3aWZ0LlZvaWQpIHt9CiAgICBvcGVuIGZ1bmMgaXNFcXVhbCh0byBvdGhlcjogTlNBdHRyaWJ1dGVkU3RyaW5nKSAtPiBCb29sIHt9Cn0Kb3BlbiBjbGFzcyBOU0NhY2hlPEtleVR5cGUsIE9iamVjdFR5cGU+IHsKICAgIG9wZW4gdmFyIGNvdW50TGltaXQ6IEludCB7IGdldCBzZXQgfQogICAgb3BlbiB3ZWFrIHZhciBkZWxlZ2F0ZTogTlNDYWNoZURlbGVnYXRlPyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgZXZpY3RzT2JqZWN0c1dpdGhEaXNjYXJkZWRDb250ZW50OiBCb29sIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBuYW1lOiBTdHJpbmcgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHRvdGFsQ29zdExpbWl0OiBJbnQgeyBnZXQgc2V0IH0KICAgIG9wZW4gZnVuYyBvYmplY3QoZm9yS2V5IGtleTogS2V5VHlwZSkgLT4gT2JqZWN0VHlwZT8ge30KICAgIG9wZW4gZnVuYyByZW1vdmVBbGxPYmplY3RzKCkge30KICAgIG9wZW4gZnVuYyByZW1vdmVPYmplY3QoZm9yS2V5IGtleTogS2V5VHlwZSkge30KICAgIG9wZW4gZnVuYyBzZXRPYmplY3QoXyBvYmo6IE9iamVjdFR5cGUsIGZvcktleSBrZXk6IEtleVR5cGUpIHt9CiAgICBvcGVuIGZ1bmMgc2V0T2JqZWN0KF8gb2JqOiBPYmplY3RUeXBlLCBmb3JLZXkga2V5OiBLZXlUeXBlLCBjb3N0IGc6IEludCkge30KfQpvcGVuIGNsYXNzIE5TQ2FsZW5kYXIgewogICAgb3BlbiBjbGFzcyB2YXIgYXV0b3VwZGF0aW5nQ3VycmVudDogQ2FsZW5kYXIgeyBnZXQgfQogICAgb3BlbiBjbGFzcyB2YXIgY3VycmVudDogQ2FsZW5kYXIgeyBnZXQgfQogICAgcHVibGljIGluaXQ/KGNhbGVuZGFySWRlbnRpZmllciBpZGVudDogSWRlbnRpZmllcikge30KICAgIHB1YmxpYyBpbml0PyhpZGVudGlmaWVyIGNhbGVuZGFySWRlbnRpZmllckNvbnN0YW50OiBJZGVudGlmaWVyKSB7fQogICAgb3BlbiB2YXIgYW1TeW1ib2w6IFN0cmluZyB7IGdldCB9CiAgICBvcGVuIHZhciBjYWxlbmRhcklkZW50aWZpZXI6IElkZW50aWZpZXIgeyBnZXQgfQogICAgb3BlbiB2YXIgZXJhU3ltYm9sczogW1N0cmluZ10geyBnZXQgfQogICAgb3BlbiB2YXIgZmlyc3RXZWVrZGF5OiBJbnQgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGxvY2FsZTogTG9jYWxlPyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgbG9uZ0VyYVN5bWJvbHM6IFtTdHJpbmddIHsgZ2V0IH0KICAgIG9wZW4gdmFyIG1pbmltdW1EYXlzSW5GaXJzdFdlZWs6IEludCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgbW9udGhTeW1ib2xzOiBbU3RyaW5nXSB7IGdldCB9CiAgICBvcGVuIHZhciBwbVN5bWJvbDogU3RyaW5nIHsgZ2V0IH0KICAgIG9wZW4gdmFyIHF1YXJ0ZXJTeW1ib2xzOiBbU3RyaW5nXSB7IGdldCB9CiAgICBvcGVuIHZhciBzaG9ydE1vbnRoU3ltYm9sczogW1N0cmluZ10geyBnZXQgfQogICAgb3BlbiB2YXIgc2hvcnRRdWFydGVyU3ltYm9sczogW1N0cmluZ10geyBnZXQgfQogICAgb3BlbiB2YXIgc2hvcnRTdGFuZGFsb25lTW9udGhTeW1ib2xzOiBbU3RyaW5nXSB7IGdldCB9CiAgICBvcGVuIHZhciBzaG9ydFN0YW5kYWxvbmVRdWFydGVyU3ltYm9sczogW1N0cmluZ10geyBnZXQgfQogICAgb3BlbiB2YXIgc2hvcnRTdGFuZGFsb25lV2Vla2RheVN5bWJvbHM6IFtTdHJpbmddIHsgZ2V0IH0KICAgIG9wZW4gdmFyIHNob3J0V2Vla2RheVN5bWJvbHM6IFtTdHJpbmddIHsgZ2V0IH0KICAgIG9wZW4gdmFyIHN0YW5kYWxvbmVNb250aFN5bWJvbHM6IFtTdHJpbmddIHsgZ2V0IH0KICAgIG9wZW4gdmFyIHN0YW5kYWxvbmVRdWFydGVyU3ltYm9sczogW1N0cmluZ10geyBnZXQgfQogICAgb3BlbiB2YXIgc3RhbmRhbG9uZVdlZWtkYXlTeW1ib2xzOiBbU3RyaW5nXSB7IGdldCB9CiAgICBvcGVuIHZhciB0aW1lWm9uZTogVGltZVpvbmUgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHZlcnlTaG9ydE1vbnRoU3ltYm9sczogW1N0cmluZ10geyBnZXQgfQogICAgb3BlbiB2YXIgdmVyeVNob3J0U3RhbmRhbG9uZU1vbnRoU3ltYm9sczogW1N0cmluZ10geyBnZXQgfQogICAgb3BlbiB2YXIgdmVyeVNob3J0U3RhbmRhbG9uZVdlZWtkYXlTeW1ib2xzOiBbU3RyaW5nXSB7IGdldCB9CiAgICBvcGVuIHZhciB2ZXJ5U2hvcnRXZWVrZGF5U3ltYm9sczogW1N0cmluZ10geyBnZXQgfQogICAgb3BlbiB2YXIgd2Vla2RheVN5bWJvbHM6IFtTdHJpbmddIHsgZ2V0IH0KICAgIG9wZW4gZnVuYyBjb21wYXJlKF8gZGF0ZTE6IERhdGUsIHRvIGRhdGUyOiBEYXRlLCB0b1VuaXRHcmFudWxhcml0eSB1bml0OiBVbml0KSAtPiBDb21wYXJpc29uUmVzdWx0IHt9CiAgICBvcGVuIGZ1bmMgY29tcG9uZW50KF8gdW5pdDogVW5pdCwgZnJvbSBkYXRlOiBEYXRlKSAtPiBJbnQge30KICAgIG9wZW4gZnVuYyBjb21wb25lbnRzKF8gdW5pdEZsYWdzOiBVbml0LCBmcm9tIGRhdGU6IERhdGUpIC0+IERhdGVDb21wb25lbnRzIHt9CiAgICBvcGVuIGZ1bmMgY29tcG9uZW50cyhfIHVuaXRGbGFnczogVW5pdCwgZnJvbSBzdGFydGluZ0RhdGU6IERhdGUsIHRvIHJlc3VsdERhdGU6IERhdGUsIG9wdGlvbnMgb3B0czogT3B0aW9ucyA9IHgpIC0+IERhdGVDb21wb25lbnRzIHt9CiAgICBvcGVuIGZ1bmMgY29tcG9uZW50cyhpbiB0aW1lem9uZTogVGltZVpvbmUsIGZyb20gZGF0ZTogRGF0ZSkgLT4gRGF0ZUNvbXBvbmVudHMge30KICAgIG9wZW4gZnVuYyBkYXRlKF8gZGF0ZTogRGF0ZSwgbWF0Y2hlc0NvbXBvbmVudHMgY29tcG9uZW50czogRGF0ZUNvbXBvbmVudHMpIC0+IEJvb2wge30KICAgIG9wZW4gZnVuYyBkYXRlKGJ5QWRkaW5nIGNvbXBzOiBEYXRlQ29tcG9uZW50cywgdG8gZGF0ZTogRGF0ZSwgb3B0aW9ucyBvcHRzOiBPcHRpb25zID0geCkgLT4gRGF0ZT8ge30KICAgIG9wZW4gZnVuYyBkYXRlKGJ5QWRkaW5nIHVuaXQ6IFVuaXQsIHZhbHVlOiBJbnQsIHRvIGRhdGU6IERhdGUsIG9wdGlvbnM6IE9wdGlvbnMgPSB4KSAtPiBEYXRlPyB7fQogICAgb3BlbiBmdW5jIGRhdGUoYnlTZXR0aW5nSG91ciBoOiBJbnQsIG1pbnV0ZSBtOiBJbnQsIHNlY29uZCBzOiBJbnQsIG9mIGRhdGU6IERhdGUsIG9wdGlvbnMgb3B0czogT3B0aW9ucyA9IHgpIC0+IERhdGU/IHt9CiAgICBvcGVuIGZ1bmMgZGF0ZShieVNldHRpbmdVbml0IHVuaXQ6IFVuaXQsIHZhbHVlIHY6IEludCwgb2YgZGF0ZTogRGF0ZSwgb3B0aW9ucyBvcHRzOiBPcHRpb25zID0geCkgLT4gRGF0ZT8ge30KICAgIG9wZW4gZnVuYyBkYXRlKGVyYSBlcmFWYWx1ZTogSW50LCB5ZWFyIHllYXJWYWx1ZTogSW50LCBtb250aCBtb250aFZhbHVlOiBJbnQsIGRheSBkYXlWYWx1ZTogSW50LCBob3VyIGhvdXJWYWx1ZTogSW50LCBtaW51dGUgbWludXRlVmFsdWU6IEludCwgc2Vjb25kIHNlY29uZFZhbHVlOiBJbnQsIG5hbm9zZWNvbmQgbmFub3NlY29uZFZhbHVlOiBJbnQpIC0+IERhdGU/IHt9CiAgICBvcGVuIGZ1bmMgZGF0ZShlcmEgZXJhVmFsdWU6IEludCwgeWVhckZvcldlZWtPZlllYXIgeWVhclZhbHVlOiBJbnQsIHdlZWtPZlllYXIgd2Vla1ZhbHVlOiBJbnQsIHdlZWtkYXkgd2Vla2RheVZhbHVlOiBJbnQsIGhvdXIgaG91clZhbHVlOiBJbnQsIG1pbnV0ZSBtaW51dGVWYWx1ZTogSW50LCBzZWNvbmQgc2Vjb25kVmFsdWU6IEludCwgbmFub3NlY29uZCBuYW5vc2Vjb25kVmFsdWU6IEludCkgLT4gRGF0ZT8ge30KICAgIG9wZW4gZnVuYyBkYXRlKGZyb20gY29tcHM6IERhdGVDb21wb25lbnRzKSAtPiBEYXRlPyB7fQogICAgb3BlbiBmdW5jIGVudW1lcmF0ZURhdGVzKHN0YXJ0aW5nQWZ0ZXIgc3RhcnQ6IERhdGUsIG1hdGNoaW5nIGNvbXBzOiBEYXRlQ29tcG9uZW50cywgb3B0aW9ucyBvcHRzOiBOU0NhbGVuZGFyLk9wdGlvbnMgPSB4LCB1c2luZyBibG9jazogKERhdGU/LCBCb29sLCBVbnNhZmVNdXRhYmxlUG9pbnRlcjxPYmpDQm9vbD4pIC0+IFN3aWZ0LlZvaWQpIHt9CiAgICBvcGVuIGZ1bmMgZ2V0RXJhKF8gZXJhVmFsdWVQb2ludGVyOiBVbnNhZmVNdXRhYmxlUG9pbnRlcjxJbnQ+PywgeWVhciB5ZWFyVmFsdWVQb2ludGVyOiBVbnNhZmVNdXRhYmxlUG9pbnRlcjxJbnQ+PywgbW9udGggbW9udGhWYWx1ZVBvaW50ZXI6IFVuc2FmZU11dGFibGVQb2ludGVyPEludD4/LCBkYXkgZGF5VmFsdWVQb2ludGVyOiBVbnNhZmVNdXRhYmxlUG9pbnRlcjxJbnQ+PywgZnJvbSBkYXRlOiBEYXRlKSB7fQogICAgb3BlbiBmdW5jIGdldEVyYShfIGVyYVZhbHVlUG9pbnRlcjogVW5zYWZlTXV0YWJsZVBvaW50ZXI8SW50Pj8sIHllYXJGb3JXZWVrT2ZZZWFyIHllYXJWYWx1ZVBvaW50ZXI6IFVuc2FmZU11dGFibGVQb2ludGVyPEludD4/LCB3ZWVrT2ZZZWFyIHdlZWtWYWx1ZVBvaW50ZXI6IFVuc2FmZU11dGFibGVQb2ludGVyPEludD4/LCB3ZWVrZGF5IHdlZWtkYXlWYWx1ZVBvaW50ZXI6IFVuc2FmZU11dGFibGVQb2ludGVyPEludD4/LCBmcm9tIGRhdGU6IERhdGUpIHt9CiAgICBvcGVuIGZ1bmMgZ2V0SG91cihfIGhvdXJWYWx1ZVBvaW50ZXI6IFVuc2FmZU11dGFibGVQb2ludGVyPEludD4/LCBtaW51dGUgbWludXRlVmFsdWVQb2ludGVyOiBVbnNhZmVNdXRhYmxlUG9pbnRlcjxJbnQ+Pywgc2Vjb25kIHNlY29uZFZhbHVlUG9pbnRlcjogVW5zYWZlTXV0YWJsZVBvaW50ZXI8SW50Pj8sIG5hbm9zZWNvbmQgbmFub3NlY29uZFZhbHVlUG9pbnRlcjogVW5zYWZlTXV0YWJsZVBvaW50ZXI8SW50Pj8sIGZyb20gZGF0ZTogRGF0ZSkge30KICAgIG9wZW4gZnVuYyBpc0RhdGUoXyBkYXRlMTogRGF0ZSwgZXF1YWxUbyBkYXRlMjogRGF0ZSwgdG9Vbml0R3JhbnVsYXJpdHkgdW5pdDogVW5pdCkgLT4gQm9vbCB7fQogICAgb3BlbiBmdW5jIGlzRGF0ZShfIGRhdGUxOiBEYXRlLCBpblNhbWVEYXlBcyBkYXRlMjogRGF0ZSkgLT4gQm9vbCB7fQogICAgb3BlbiBmdW5jIGlzRGF0ZUluVG9kYXkoXyBkYXRlOiBEYXRlKSAtPiBCb29sIHt9CiAgICBvcGVuIGZ1bmMgaXNEYXRlSW5Ub21vcnJvdyhfIGRhdGU6IERhdGUpIC0+IEJvb2wge30KICAgIG9wZW4gZnVuYyBpc0RhdGVJbldlZWtlbmQoXyBkYXRlOiBEYXRlKSAtPiBCb29sIHt9CiAgICBvcGVuIGZ1bmMgaXNEYXRlSW5ZZXN0ZXJkYXkoXyBkYXRlOiBEYXRlKSAtPiBCb29sIHt9CiAgICBvcGVuIGZ1bmMgbWF4aW11bVJhbmdlKG9mIHVuaXQ6IFVuaXQpIC0+IE5TUmFuZ2Uge30KICAgIG9wZW4gZnVuYyBtaW5pbXVtUmFuZ2Uob2YgdW5pdDogVW5pdCkgLT4gTlNSYW5nZSB7fQogICAgb3BlbiBmdW5jIG5leHREYXRlKGFmdGVyIGRhdGU6IERhdGUsIG1hdGNoaW5nIGNvbXBzOiBEYXRlQ29tcG9uZW50cywgb3B0aW9uczogT3B0aW9ucyA9IHgpIC0+IERhdGU/IHt9CiAgICBvcGVuIGZ1bmMgbmV4dERhdGUoYWZ0ZXIgZGF0ZTogRGF0ZSwgbWF0Y2hpbmcgdW5pdDogVW5pdCwgdmFsdWU6IEludCwgb3B0aW9uczogT3B0aW9ucyA9IHgpIC0+IERhdGU/IHt9CiAgICBvcGVuIGZ1bmMgbmV4dERhdGUoYWZ0ZXIgZGF0ZTogRGF0ZSwgbWF0Y2hpbmdIb3VyIGhvdXJWYWx1ZTogSW50LCBtaW51dGUgbWludXRlVmFsdWU6IEludCwgc2Vjb25kIHNlY29uZFZhbHVlOiBJbnQsIG9wdGlvbnM6IE9wdGlvbnMgPSB4KSAtPiBEYXRlPyB7fQogICAgb3BlbiBmdW5jIG5leHRXZWVrZW5kQWZ0ZXIoXyBkYXRlOiBEYXRlLCBvcHRpb25zOiBPcHRpb25zKSAtPiBEYXRlSW50ZXJ2YWw/IHt9CiAgICBvcGVuIGZ1bmMgb3JkaW5hbGl0eShvZiBzbWFsbGVyOiBVbml0LCBpbiBsYXJnZXI6IFVuaXQsIGZvciBkYXRlOiBEYXRlKSAtPiBJbnQge30KICAgIG9wZW4gZnVuYyByYW5nZShvZiB1bml0OiBVbml0LCBmb3IgZGF0ZTogRGF0ZSkgLT4gRGF0ZUludGVydmFsPyB7fQogICAgb3BlbiBmdW5jIHJhbmdlKG9mIHNtYWxsZXI6IFVuaXQsIGluIGxhcmdlcjogVW5pdCwgZm9yIGRhdGU6IERhdGUpIC0+IE5TUmFuZ2Uge30KICAgIG9wZW4gZnVuYyByYW5nZShvZldlZWtlbmRDb250YWluaW5nIGRhdGU6IERhdGUpIC0+IERhdGVJbnRlcnZhbD8ge30KICAgIG9wZW4gZnVuYyBzdGFydE9mRGF5KGZvciBkYXRlOiBEYXRlKSAtPiBEYXRlIHt9Cn0Kb3BlbiBjbGFzcyBOU0NoYXJhY3RlclNldCB7CiAgICBvcGVuIGNsYXNzIHZhciBhbHBoYW51bWVyaWNzOiBDaGFyYWN0ZXJTZXQgeyBnZXQgfQogICAgb3BlbiBjbGFzcyB2YXIgY2FwaXRhbGl6ZWRMZXR0ZXJzOiBDaGFyYWN0ZXJTZXQgeyBnZXQgfQogICAgb3BlbiBjbGFzcyB2YXIgY29udHJvbENoYXJhY3RlcnM6IENoYXJhY3RlclNldCB7IGdldCB9CiAgICBvcGVuIGNsYXNzIHZhciBkZWNpbWFsRGlnaXRzOiBDaGFyYWN0ZXJTZXQgeyBnZXQgfQogICAgb3BlbiBjbGFzcyB2YXIgZGVjb21wb3NhYmxlczogQ2hhcmFjdGVyU2V0IHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgdmFyIGlsbGVnYWxDaGFyYWN0ZXJzOiBDaGFyYWN0ZXJTZXQgeyBnZXQgfQogICAgcHVibGljIGNsYXNzIHZhciBsZXR0ZXJzOiBDaGFyYWN0ZXJTZXQgeyBnZXQgfQogICAgb3BlbiBjbGFzcyB2YXIgbG93ZXJjYXNlTGV0dGVyczogQ2hhcmFjdGVyU2V0IHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgdmFyIG5ld2xpbmVzOiBDaGFyYWN0ZXJTZXQgeyBnZXQgfQogICAgb3BlbiBjbGFzcyB2YXIgbm9uQmFzZUNoYXJhY3RlcnM6IENoYXJhY3RlclNldCB7IGdldCB9CiAgICBvcGVuIGNsYXNzIHZhciBwdW5jdHVhdGlvbkNoYXJhY3RlcnM6IENoYXJhY3RlclNldCB7IGdldCB9CiAgICBvcGVuIGNsYXNzIHZhciBzeW1ib2xzOiBDaGFyYWN0ZXJTZXQgeyBnZXQgfQogICAgb3BlbiBjbGFzcyB2YXIgdXBwZXJjYXNlTGV0dGVyczogQ2hhcmFjdGVyU2V0IHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgdmFyIHVybEZyYWdtZW50QWxsb3dlZDogQ2hhcmFjdGVyU2V0IHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgdmFyIHVybEhvc3RBbGxvd2VkOiBDaGFyYWN0ZXJTZXQgeyBnZXQgfQogICAgb3BlbiBjbGFzcyB2YXIgdXJsUGFzc3dvcmRBbGxvd2VkOiBDaGFyYWN0ZXJTZXQgeyBnZXQgfQogICAgb3BlbiBjbGFzcyB2YXIgdXJsUGF0aEFsbG93ZWQ6IENoYXJhY3RlclNldCB7IGdldCB9CiAgICBvcGVuIGNsYXNzIHZhciB1cmxRdWVyeUFsbG93ZWQ6IENoYXJhY3RlclNldCB7IGdldCB9CiAgICBvcGVuIGNsYXNzIHZhciB1cmxVc2VyQWxsb3dlZDogQ2hhcmFjdGVyU2V0IHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgdmFyIHdoaXRlc3BhY2VzOiBDaGFyYWN0ZXJTZXQgeyBnZXQgfQogICAgb3BlbiBjbGFzcyB2YXIgd2hpdGVzcGFjZXNBbmROZXdsaW5lczogQ2hhcmFjdGVyU2V0IHsgZ2V0IH0KICAgIHB1YmxpYyBpbml0KCkge30KICAgIHB1YmxpYyBpbml0KGJpdG1hcFJlcHJlc2VudGF0aW9uIGRhdGE6IERhdGEpIHt9CiAgICBwdWJsaWMgaW5pdChjaGFyYWN0ZXJzSW4gYVN0cmluZzogU3RyaW5nKSB7fQogICAgcHVibGljIHJlcXVpcmVkIGNvbnZlbmllbmNlIGluaXQoY29kZXIgYURlY29kZXI6IE5TQ29kZXIpIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdD8oY29udGVudHNPZkZpbGUgZk5hbWU6IFN0cmluZykge30KICAgIHB1YmxpYyBpbml0KHJhbmdlIGFSYW5nZTogTlNSYW5nZSkge30KICAgIG9wZW4gdmFyIGJpdG1hcFJlcHJlc2VudGF0aW9uOiBEYXRhIHsgZ2V0IH0KICAgIG9wZW4gdmFyIGRlc2NyaXB0aW9uOiBTdHJpbmcgeyBnZXQgfQogICAgb3BlbiB2YXIgaGFzaDogSW50IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGludmVydGVkOiBDaGFyYWN0ZXJTZXQgeyBnZXQgfQogICAgb3BlbiBmdW5jIGNoYXJhY3RlcklzTWVtYmVyKF8gYUNoYXJhY3RlcjogdW5pY2hhcikgLT4gQm9vbCB7fQogICAgb3BlbiBmdW5jIGNvcHkoKSAtPiBBbnkge30KICAgIG9wZW4gZnVuYyBjb3B5KHdpdGggem9uZTogTlNab25lPyA9IHgpIC0+IEFueSB7fQogICAgb3BlbiBmdW5jIGVuY29kZSh3aXRoIGFDb2RlcjogTlNDb2Rlcikge30KICAgIG9wZW4gZnVuYyBoYXNNZW1iZXJJblBsYW5lKF8gdGhlUGxhbmU6IFVJbnQ4KSAtPiBCb29sIHt9CiAgICBvcGVuIGZ1bmMgaXNFcXVhbChfIHZhbHVlOiBBbnk/KSAtPiBCb29sIHt9CiAgICBvcGVuIGZ1bmMgaXNTdXBlcnNldChvZiB0aGVPdGhlclNldDogQ2hhcmFjdGVyU2V0KSAtPiBCb29sIHt9CiAgICBvcGVuIGZ1bmMgbG9uZ0NoYXJhY3RlcklzTWVtYmVyKF8gdGhlTG9uZ0NoYXI6IFVJbnQzMikgLT4gQm9vbCB7fQogICAgb3BlbiBmdW5jIG11dGFibGVDb3B5KCkgLT4gQW55IHt9CiAgICBvcGVuIGZ1bmMgbXV0YWJsZUNvcHkod2l0aCB6b25lOiBOU1pvbmU/ID0geCkgLT4gQW55IHt9Cn0Kb3BlbiBjbGFzcyBOU0NvZGVyIHsKICAgIG9wZW4gdmFyIGFsbG93ZWRDbGFzc2VzOiBbQW55Q2xhc3NdPyB7IGdldCB9CiAgICBvcGVuIHZhciBhbGxvd3NLZXllZENvZGluZzogQm9vbCB7IGdldCB9CiAgICBvcGVuIHZhciBkZWNvZGluZ0ZhaWx1cmVQb2xpY3k6IE5TQ29kZXIuRGVjb2RpbmdGYWlsdXJlUG9saWN5IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGVycm9yOiBFcnJvcj8geyBnZXQgfQogICAgb3BlbiB2YXIgcmVxdWlyZXNTZWN1cmVDb2Rpbmc6IEJvb2wgeyBnZXQgfQogICAgb3BlbiB2YXIgc3lzdGVtVmVyc2lvbjogVUludDMyIHsgZ2V0IH0KICAgIG9wZW4gZnVuYyBjb250YWluc1ZhbHVlKGZvcktleSBrZXk6IFN0cmluZykgLT4gQm9vbCB7fQogICAgb3BlbiBmdW5jIGRlY29kZUFycmF5KG9mT2JqQ1R5cGUgaXRlbVR5cGU6IFVuc2FmZVBvaW50ZXI8SW50OD4sIGNvdW50OiBJbnQsIGF0IGFycmF5OiBVbnNhZmVNdXRhYmxlUmF3UG9pbnRlcikge30KICAgIG9wZW4gZnVuYyBkZWNvZGVCb29sKGZvcktleSBrZXk6IFN0cmluZykgLT4gQm9vbCB7fQogICAgb3BlbiBmdW5jIGRlY29kZUNJbnQoZm9yS2V5IGtleTogU3RyaW5nKSAtPiBJbnQzMiB7fQogICAgb3BlbiBmdW5jIGRlY29kZURhdGEoKSAtPiBEYXRhPyB7fQogICAgb3BlbiBmdW5jIGRlY29kZURvdWJsZShmb3JLZXkga2V5OiBTdHJpbmcpIC0+IERvdWJsZSB7fQogICAgb3BlbiBmdW5jIGRlY29kZUZsb2F0KGZvcktleSBrZXk6IFN0cmluZykgLT4gRmxvYXQge30KICAgIG9wZW4gZnVuYyBkZWNvZGVJbnQzMihmb3JLZXkga2V5OiBTdHJpbmcpIC0+IEludDMyIHt9CiAgICBvcGVuIGZ1bmMgZGVjb2RlSW50NjQoZm9yS2V5IGtleTogU3RyaW5nKSAtPiBJbnQ2NCB7fQogICAgb3BlbiBmdW5jIGRlY29kZUludGVnZXIoZm9yS2V5IGtleTogU3RyaW5nKSAtPiBJbnQge30KICAgIG9wZW4gZnVuYyBkZWNvZGVPYmplY3QoKSAtPiBBbnk/IHt9CiAgICBvcGVuIGZ1bmMgZGVjb2RlT2JqZWN0KGZvcktleSBrZXk6IFN0cmluZykgLT4gQW55PyB7fQogICAgb3BlbiBmdW5jIGRlY29kZU9iamVjdChvZiBjbGFzc2VzOiBbQW55Q2xhc3NdPywgZm9yS2V5IGtleTogU3RyaW5nKSAtPiBBbnk/IHt9CiAgICBwdWJsaWMgZnVuYyBkZWNvZGVQb2ludCgpIC0+IE5TUG9pbnQge30KICAgIHB1YmxpYyBmdW5jIGRlY29kZVBvaW50KGZvcktleSBrZXk6IFN0cmluZykgLT4gTlNQb2ludCB7fQogICAgb3BlbiBmdW5jIGRlY29kZVByb3BlcnR5TGlzdCgpIC0+IEFueT8ge30KICAgIG9wZW4gZnVuYyBkZWNvZGVQcm9wZXJ0eUxpc3QoZm9yS2V5IGtleTogU3RyaW5nKSAtPiBBbnk/IHt9CiAgICBwdWJsaWMgZnVuYyBkZWNvZGVSZWN0KCkgLT4gTlNSZWN0IHt9CiAgICBwdWJsaWMgZnVuYyBkZWNvZGVSZWN0KGZvcktleSBrZXk6IFN0cmluZykgLT4gTlNSZWN0IHt9CiAgICBwdWJsaWMgZnVuYyBkZWNvZGVTaXplKCkgLT4gTlNTaXplIHt9CiAgICBwdWJsaWMgZnVuYyBkZWNvZGVTaXplKGZvcktleSBrZXk6IFN0cmluZykgLT4gTlNTaXplIHt9CiAgICBvcGVuIGZ1bmMgZGVjb2RlVG9wTGV2ZWxPYmplY3QoKSB0aHJvd3MgLT4gQW55PyB7fQogICAgb3BlbiBmdW5jIGRlY29kZVRvcExldmVsT2JqZWN0KGZvcktleSBrZXk6IFN0cmluZykgdGhyb3dzIC0+IEFueT8ge30KICAgIG9wZW4gZnVuYyBkZWNvZGVUb3BMZXZlbE9iamVjdChvZiBjbGFzc2VzOiBbQW55Q2xhc3NdLCBmb3JLZXkga2V5OiBTdHJpbmcpIHRocm93cyAtPiBBbnk/IHt9CiAgICBvcGVuIGZ1bmMgZGVjb2RlVmFsdWUob2ZPYmpDVHlwZSB0eXBlOiBVbnNhZmVQb2ludGVyPEludDg+LCBhdCBkYXRhOiBVbnNhZmVNdXRhYmxlUmF3UG9pbnRlcikge30KICAgIG9wZW4gZnVuYyBlbmNvZGUoXyBkYXRhOiBEYXRhKSB7fQogICAgb3BlbiBmdW5jIGVuY29kZShfIG9iamVjdDogQW55Pykge30KICAgIG9wZW4gZnVuYyBlbmNvZGUoXyBib29sdjogQm9vbCwgZm9yS2V5IGtleTogU3RyaW5nKSB7fQogICAgb3BlbiBmdW5jIGVuY29kZShfIGludHY6IEludCwgZm9yS2V5IGtleTogU3RyaW5nKSB7fQogICAgb3BlbiBmdW5jIGVuY29kZShfIGludHY6IEludDMyLCBmb3JLZXkga2V5OiBTdHJpbmcpIHt9CiAgICBvcGVuIGZ1bmMgZW5jb2RlKF8gaW50djogSW50NjQsIGZvcktleSBrZXk6IFN0cmluZykge30KICAgIG9wZW4gZnVuYyBlbmNvZGUoXyBvYmp2OiBBbnk/LCBmb3JLZXkga2V5OiBTdHJpbmcpIHt9CiAgICBvcGVuIGZ1bmMgZW5jb2RlKF8gcmVhbHY6IERvdWJsZSwgZm9yS2V5IGtleTogU3RyaW5nKSB7fQogICAgb3BlbiBmdW5jIGVuY29kZUFycmF5KG9mT2JqQ1R5cGUgdHlwZTogVW5zYWZlUG9pbnRlcjxJbnQ4PiwgY291bnQ6IEludCwgYXQgYXJyYXk6IFVuc2FmZVJhd1BvaW50ZXIpIHt9CiAgICBvcGVuIGZ1bmMgZW5jb2RlQnljb3B5T2JqZWN0KF8gYW5PYmplY3Q6IEFueT8pIHt9CiAgICBvcGVuIGZ1bmMgZW5jb2RlQnlyZWZPYmplY3QoXyBhbk9iamVjdDogQW55Pykge30KICAgIG9wZW4gZnVuYyBlbmNvZGVCeXRlcyhfIGJ5dGVhZGRyOiBVbnNhZmVSYXdQb2ludGVyPywgbGVuZ3RoOiBJbnQpIHt9CiAgICBvcGVuIGZ1bmMgZW5jb2RlQnl0ZXMoXyBieXRlc3A6IFVuc2FmZVBvaW50ZXI8VUludDg+PywgbGVuZ3RoIGxlbnY6IEludCwgZm9yS2V5IGtleTogU3RyaW5nKSB7fQogICAgb3BlbiBmdW5jIGVuY29kZUNvbmRpdGlvbmFsT2JqZWN0KF8gb2JqZWN0OiBBbnk/KSB7fQogICAgb3BlbiBmdW5jIGVuY29kZUNvbmRpdGlvbmFsT2JqZWN0KF8gb2JqdjogQW55PywgZm9yS2V5IGtleTogU3RyaW5nKSB7fQogICAgb3BlbiBmdW5jIGVuY29kZVByb3BlcnR5TGlzdChfIGFQcm9wZXJ0eUxpc3Q6IEFueSkge30KICAgIG9wZW4gZnVuYyBlbmNvZGVSb290T2JqZWN0KF8gcm9vdE9iamVjdDogQW55KSB7fQogICAgb3BlbiBmdW5jIGVuY29kZVZhbHVlKG9mT2JqQ1R5cGUgdHlwZTogVW5zYWZlUG9pbnRlcjxJbnQ4PiwgYXQgYWRkcjogVW5zYWZlUmF3UG9pbnRlcikge30KICAgIG9wZW4gZnVuYyBmYWlsV2l0aEVycm9yKF8gZXJyb3I6IEVycm9yKSB7fQogICAgb3BlbiBmdW5jIHZlcnNpb24oZm9yQ2xhc3NOYW1lIGNsYXNzTmFtZTogU3RyaW5nKSAtPiBJbnQge30KICAgIG9wZW4gZnVuYyB3aXRoRGVjb2RlZFVuc2FmZUJ1ZmZlclBvaW50ZXI8UmVzdWx0VHlwZT4oZm9yS2V5IGtleTogU3RyaW5nLCBib2R5OiAoVW5zYWZlQnVmZmVyUG9pbnRlcjxVSW50OD4/KSB0aHJvd3MgLT4gUmVzdWx0VHlwZSkgcmV0aHJvd3MgLT4gUmVzdWx0VHlwZSB7fQp9Cm9wZW4gY2xhc3MgTlNDb21wYXJpc29uUHJlZGljYXRlIHsKICAgIHB1YmxpYyBpbml0KGxlZnRFeHByZXNzaW9uIGxoczogTlNFeHByZXNzaW9uLCByaWdodEV4cHJlc3Npb24gcmhzOiBOU0V4cHJlc3Npb24sIG1vZGlmaWVyOiBNb2RpZmllciwgdHlwZTogT3BlcmF0b3IsIG9wdGlvbnM6IE9wdGlvbnMpIHt9CiAgICBvcGVuIHZhciBjb21wYXJpc29uUHJlZGljYXRlTW9kaWZpZXI6IE1vZGlmaWVyIHsgZ2V0IH0KICAgIG9wZW4gdmFyIGxlZnRFeHByZXNzaW9uOiBOU0V4cHJlc3Npb24geyBnZXQgfQogICAgb3BlbiB2YXIgb3B0aW9uczogT3B0aW9ucyB7IGdldCB9CiAgICBvcGVuIHZhciBwcmVkaWNhdGVPcGVyYXRvclR5cGU6IE9wZXJhdG9yIHsgZ2V0IH0KICAgIG9wZW4gdmFyIHJpZ2h0RXhwcmVzc2lvbjogTlNFeHByZXNzaW9uIHsgZ2V0IH0KfQpvcGVuIGNsYXNzIE5TQ29tcG91bmRQcmVkaWNhdGUgewogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQoYW5kUHJlZGljYXRlV2l0aFN1YnByZWRpY2F0ZXMgc3VicHJlZGljYXRlczogW05TUHJlZGljYXRlXSkge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KG5vdFByZWRpY2F0ZVdpdGhTdWJwcmVkaWNhdGUgcHJlZGljYXRlOiBOU1ByZWRpY2F0ZSkge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KG9yUHJlZGljYXRlV2l0aFN1YnByZWRpY2F0ZXMgc3VicHJlZGljYXRlczogW05TUHJlZGljYXRlXSkge30KICAgIHB1YmxpYyBpbml0KHR5cGU6IExvZ2ljYWxUeXBlLCBzdWJwcmVkaWNhdGVzOiBbTlNQcmVkaWNhdGVdKSB7fQogICAgb3BlbiB2YXIgY29tcG91bmRQcmVkaWNhdGVUeXBlOiBMb2dpY2FsVHlwZSB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgc3VicHJlZGljYXRlczogW05TUHJlZGljYXRlXSB7IGdldCBzZXQgfQp9Cm9wZW4gY2xhc3MgTlNDb25kaXRpb24gewogICAgb3BlbiB2YXIgbmFtZTogU3RyaW5nPyB7IGdldCBzZXQgfQogICAgb3BlbiBmdW5jIGJyb2FkY2FzdCgpIHt9CiAgICBvcGVuIGZ1bmMgc2lnbmFsKCkge30KICAgIG9wZW4gZnVuYyB3YWl0KCkge30KICAgIG9wZW4gZnVuYyB3YWl0KHVudGlsIGxpbWl0OiBEYXRlKSAtPiBCb29sIHt9Cn0Kb3BlbiBjbGFzcyBOU0NvbmRpdGlvbkxvY2sgewogICAgcHVibGljIGluaXQoY29uZGl0aW9uOiBJbnQpIHt9CiAgICBvcGVuIHZhciBjb25kaXRpb246IEludCB7IGdldCB9CiAgICBvcGVuIHZhciBuYW1lOiBTdHJpbmc/IHsgZ2V0IHNldCB9CiAgICBvcGVuIGZ1bmMgbG9jayhiZWZvcmUgbGltaXQ6IERhdGUpIC0+IEJvb2wge30KICAgIG9wZW4gZnVuYyBsb2NrKHdoZW5Db25kaXRpb24gY29uZGl0aW9uOiBJbnQpIHt9CiAgICBvcGVuIGZ1bmMgbG9jayh3aGVuQ29uZGl0aW9uIGNvbmRpdGlvbjogSW50LCBiZWZvcmUgbGltaXQ6IERhdGUpIC0+IEJvb2wge30KICAgIG9wZW4gZnVuYyB0cnkoKSAtPiBCb29sIHt9CiAgICBvcGVuIGZ1bmMgdHJ5TG9jayh3aGVuQ29uZGl0aW9uIGNvbmRpdGlvbjogSW50KSAtPiBCb29sIHt9CiAgICBvcGVuIGZ1bmMgdW5sb2NrKHdpdGhDb25kaXRpb24gY29uZGl0aW9uOiBJbnQpIHt9Cn0Kb3BlbiBjbGFzcyBOU0NvdW50ZWRTZXQgewogICAgb3BlbiBmdW5jIGNvdW50KGZvciBvYmplY3Q6IEFueSkgLT4gSW50IHt9Cn0Kb3BlbiBjbGFzcyBOU0RhdGEgewogICAgcHVibGljIHN0YXRpYyB2YXIgc3VwcG9ydHNTZWN1cmVDb2Rpbmc6IEJvb2wgeyBnZXQgfQogICAgcHVibGljIGluaXQoKSB7fQogICAgcHVibGljIGluaXQ/KGJhc2U2NEVuY29kZWQgYmFzZTY0RGF0YTogRGF0YSwgb3B0aW9uczogQmFzZTY0RGVjb2RpbmdPcHRpb25zID0geCkge30KICAgIHB1YmxpYyBpbml0PyhiYXNlNjRFbmNvZGVkIGJhc2U2NFN0cmluZzogU3RyaW5nLCBvcHRpb25zOiBCYXNlNjREZWNvZGluZ09wdGlvbnMgPSB4KSB7fQogICAgcHVibGljIGluaXQoYnl0ZXM6IFVuc2FmZVJhd1BvaW50ZXI/LCBsZW5ndGg6IEludCkge30KICAgIHB1YmxpYyBpbml0KGJ5dGVzTm9Db3B5IGJ5dGVzOiBVbnNhZmVNdXRhYmxlUmF3UG9pbnRlciwgbGVuZ3RoOiBJbnQpIHt9CiAgICBwdWJsaWMgaW5pdChieXRlc05vQ29weSBieXRlczogVW5zYWZlTXV0YWJsZVJhd1BvaW50ZXIsIGxlbmd0aDogSW50LCBkZWFsbG9jYXRvcjogKChVbnNhZmVNdXRhYmxlUmF3UG9pbnRlciwgSW50KSAtPiBWb2lkKT8gPSB4KSB7fQogICAgcHVibGljIGluaXQoYnl0ZXNOb0NvcHkgYnl0ZXM6IFVuc2FmZU11dGFibGVSYXdQb2ludGVyLCBsZW5ndGg6IEludCwgZnJlZVdoZW5Eb25lOiBCb29sKSB7fQogICAgcHVibGljIHJlcXVpcmVkIGluaXQ/KGNvZGVyIGFEZWNvZGVyOiBOU0NvZGVyKSB7fQogICAgcHVibGljIGluaXQ/KGNvbnRlbnRzT2YgdXJsOiBVUkwpIHt9CiAgICBwdWJsaWMgaW5pdChjb250ZW50c09mIHVybDogVVJMLCBvcHRpb25zIHJlYWRPcHRpb25zTWFzazogUmVhZGluZ09wdGlvbnMgPSB4KSB0aHJvd3Mge30KICAgIHB1YmxpYyBpbml0Pyhjb250ZW50c09mRmlsZSBwYXRoOiBTdHJpbmcpIHt9CiAgICBwdWJsaWMgaW5pdChjb250ZW50c09mRmlsZSBwYXRoOiBTdHJpbmcsIG9wdGlvbnMgcmVhZE9wdGlvbnNNYXNrOiBSZWFkaW5nT3B0aW9ucyA9IHgpIHRocm93cyB7fQogICAgcHVibGljIGluaXQoZGF0YTogRGF0YSkge30KICAgIG9wZW4gdmFyIGJ5dGVzOiBVbnNhZmVSYXdQb2ludGVyIHsgZ2V0IH0KICAgIG9wZW4gdmFyIGRlYnVnRGVzY3JpcHRpb246IFN0cmluZyB7IGdldCB9CiAgICBvcGVuIHZhciBkZXNjcmlwdGlvbjogU3RyaW5nIHsgZ2V0IH0KICAgIG9wZW4gdmFyIGhhc2g6IEludCB7IGdldCB9CiAgICBvcGVuIHZhciBsZW5ndGg6IEludCB7IGdldCB9CiAgICBvcGVuIGZ1bmMgYmFzZTY0RW5jb2RlZERhdGEob3B0aW9uczogQmFzZTY0RW5jb2RpbmdPcHRpb25zID0geCkgLT4gRGF0YSB7fQogICAgb3BlbiBmdW5jIGJhc2U2NEVuY29kZWRTdHJpbmcob3B0aW9uczogQmFzZTY0RW5jb2RpbmdPcHRpb25zID0geCkgLT4gU3RyaW5nIHt9CiAgICBvcGVuIGZ1bmMgY29weSgpIC0+IEFueSB7fQogICAgb3BlbiBmdW5jIGNvcHkod2l0aCB6b25lOiBOU1pvbmU/ID0geCkgLT4gQW55IHt9CiAgICBvcGVuIGZ1bmMgZW5jb2RlKHdpdGggYUNvZGVyOiBOU0NvZGVyKSB7fQogICAgb3BlbiBmdW5jIGVudW1lcmF0ZUJ5dGVzKF8gYmxvY2s6IChVbnNhZmVSYXdQb2ludGVyLCBOU1JhbmdlLCBVbnNhZmVNdXRhYmxlUG9pbnRlcjxCb29sPikgLT4gVm9pZCkge30KICAgIG9wZW4gZnVuYyBnZXRCeXRlcyhfIGJ1ZmZlcjogVW5zYWZlTXV0YWJsZVJhd1BvaW50ZXIsIGxlbmd0aDogSW50KSB7fQogICAgb3BlbiBmdW5jIGdldEJ5dGVzKF8gYnVmZmVyOiBVbnNhZmVNdXRhYmxlUmF3UG9pbnRlciwgcmFuZ2U6IE5TUmFuZ2UpIHt9CiAgICBvcGVuIGZ1bmMgaXNFcXVhbChfIHZhbHVlOiBBbnk/KSAtPiBCb29sIHt9CiAgICBvcGVuIGZ1bmMgaXNFcXVhbCh0byBvdGhlcjogRGF0YSkgLT4gQm9vbCB7fQogICAgb3BlbiBmdW5jIG11dGFibGVDb3B5KCkgLT4gQW55IHt9CiAgICBvcGVuIGZ1bmMgbXV0YWJsZUNvcHkod2l0aCB6b25lOiBOU1pvbmU/ID0geCkgLT4gQW55IHt9CiAgICBvcGVuIGZ1bmMgcmFuZ2Uob2YgZGF0YVRvRmluZDogRGF0YSwgb3B0aW9ucyBtYXNrOiBTZWFyY2hPcHRpb25zID0geCwgaW4gc2VhcmNoUmFuZ2U6IE5TUmFuZ2UpIC0+IE5TUmFuZ2Uge30KICAgIG9wZW4gZnVuYyBzdWJkYXRhKHdpdGggcmFuZ2U6IE5TUmFuZ2UpIC0+IERhdGEge30KICAgIG9wZW4gZnVuYyB3cml0ZSh0byB1cmw6IFVSTCwgYXRvbWljYWxseTogQm9vbCkgLT4gQm9vbCB7fQogICAgb3BlbiBmdW5jIHdyaXRlKHRvIHVybDogVVJMLCBvcHRpb25zIHdyaXRlT3B0aW9uc01hc2s6IFdyaXRpbmdPcHRpb25zID0geCkgdGhyb3dzIHt9CiAgICBvcGVuIGZ1bmMgd3JpdGUodG9GaWxlIHBhdGg6IFN0cmluZywgYXRvbWljYWxseSB1c2VBdXhpbGlhcnlGaWxlOiBCb29sKSAtPiBCb29sIHt9CiAgICBvcGVuIGZ1bmMgd3JpdGUodG9GaWxlIHBhdGg6IFN0cmluZywgb3B0aW9ucyB3cml0ZU9wdGlvbnNNYXNrOiBXcml0aW5nT3B0aW9ucyA9IHgpIHRocm93cyB7fQp9Cm9wZW4gY2xhc3MgTlNEYXRlIHsKICAgIG9wZW4gY2xhc3MgdmFyIGRpc3RhbnRGdXR1cmU6IERhdGUgeyBnZXQgfQogICAgb3BlbiBjbGFzcyB2YXIgZGlzdGFudFBhc3Q6IERhdGUgeyBnZXQgfQogICAgb3BlbiBjbGFzcyB2YXIgdGltZUludGVydmFsU2luY2VSZWZlcmVuY2VEYXRlOiBUaW1lSW50ZXJ2YWwgeyBnZXQgfQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQodGltZUludGVydmFsIHNlY3NUb0JlQWRkZWQ6IFRpbWVJbnRlcnZhbCwgc2luY2UgZGF0ZTogRGF0ZSkge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KHRpbWVJbnRlcnZhbFNpbmNlMTk3MCBzZWNzOiBUaW1lSW50ZXJ2YWwpIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdCh0aW1lSW50ZXJ2YWxTaW5jZU5vdyBzZWNzOiBUaW1lSW50ZXJ2YWwpIHt9CiAgICBwdWJsaWMgcmVxdWlyZWQgaW5pdCh0aW1lSW50ZXJ2YWxTaW5jZVJlZmVyZW5jZURhdGUgdGk6IFRpbWVJbnRlcnZhbCkge30KICAgIG9wZW4gdmFyIHRpbWVJbnRlcnZhbFNpbmNlMTk3MDogVGltZUludGVydmFsIHsgZ2V0IH0KICAgIG9wZW4gdmFyIHRpbWVJbnRlcnZhbFNpbmNlTm93OiBUaW1lSW50ZXJ2YWwgeyBnZXQgfQogICAgb3BlbiB2YXIgdGltZUludGVydmFsU2luY2VSZWZlcmVuY2VEYXRlOiBUaW1lSW50ZXJ2YWwgeyBnZXQgfQogICAgb3BlbiBmdW5jIGFkZGluZ1RpbWVJbnRlcnZhbChfIHRpOiBUaW1lSW50ZXJ2YWwpIC0+IERhdGUge30KICAgIG9wZW4gZnVuYyBjb21wYXJlKF8gb3RoZXI6IERhdGUpIC0+IENvbXBhcmlzb25SZXN1bHQge30KICAgIG9wZW4gZnVuYyBkZXNjcmlwdGlvbih3aXRoIGxvY2FsZTogTG9jYWxlPykgLT4gU3RyaW5nIHt9CiAgICBvcGVuIGZ1bmMgZWFybGllckRhdGUoXyBhbm90aGVyRGF0ZTogRGF0ZSkgLT4gRGF0ZSB7fQogICAgb3BlbiBmdW5jIGlzRXF1YWwodG8gb3RoZXJEYXRlOiBEYXRlKSAtPiBCb29sIHt9CiAgICBvcGVuIGZ1bmMgbGF0ZXJEYXRlKF8gYW5vdGhlckRhdGU6IERhdGUpIC0+IERhdGUge30KICAgIG9wZW4gZnVuYyB0aW1lSW50ZXJ2YWxTaW5jZShfIGFub3RoZXJEYXRlOiBEYXRlKSAtPiBUaW1lSW50ZXJ2YWwge30KfQpvcGVuIGNsYXNzIE5TRGF0ZUNvbXBvbmVudHMgewogICAgb3BlbiB2YXIgY2FsZW5kYXI6IENhbGVuZGFyPyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgZGF0ZTogRGF0ZT8geyBnZXQgfQogICAgb3BlbiB2YXIgZGF5OiBJbnQgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGVyYTogSW50IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBob3VyOiBJbnQgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGlzTGVhcE1vbnRoOiBCb29sIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBpc1ZhbGlkRGF0ZTogQm9vbCB7IGdldCB9CiAgICBvcGVuIHZhciBtaW51dGU6IEludCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgbW9udGg6IEludCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgbmFub3NlY29uZDogSW50IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBxdWFydGVyOiBJbnQgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHNlY29uZDogSW50IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciB0aW1lWm9uZTogVGltZVpvbmU/IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciB3ZWVrT2ZNb250aDogSW50IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciB3ZWVrT2ZZZWFyOiBJbnQgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHdlZWtkYXk6IEludCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgd2Vla2RheU9yZGluYWw6IEludCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgeWVhcjogSW50IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciB5ZWFyRm9yV2Vla09mWWVhcjogSW50IHsgZ2V0IHNldCB9CiAgICBvcGVuIGZ1bmMgaXNWYWxpZERhdGUoaW4gY2FsZW5kYXI6IENhbGVuZGFyKSAtPiBCb29sIHt9CiAgICBvcGVuIGZ1bmMgc2V0VmFsdWUoXyB2YWx1ZTogSW50LCBmb3JDb21wb25lbnQgdW5pdDogTlNDYWxlbmRhci5Vbml0KSB7fQogICAgb3BlbiBmdW5jIHZhbHVlKGZvckNvbXBvbmVudCB1bml0OiBOU0NhbGVuZGFyLlVuaXQpIC0+IEludCB7fQp9Cm9wZW4gY2xhc3MgTlNEYXRlSW50ZXJ2YWwgewogICAgcHVibGljIGluaXQoc3RhcnQgc3RhcnREYXRlOiBEYXRlLCBkdXJhdGlvbjogVGltZUludGVydmFsKSB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQoc3RhcnQgc3RhcnREYXRlOiBEYXRlLCBlbmQgZW5kRGF0ZTogRGF0ZSkge30KICAgIG9wZW4gdmFyIGR1cmF0aW9uOiBUaW1lSW50ZXJ2YWwgeyBnZXQgfQogICAgb3BlbiB2YXIgZW5kRGF0ZTogRGF0ZSB7IGdldCB9CiAgICBvcGVuIHZhciBzdGFydERhdGU6IERhdGUgeyBnZXQgfQogICAgb3BlbiBmdW5jIGNvbXBhcmUoXyBkYXRlSW50ZXJ2YWw6IERhdGVJbnRlcnZhbCkgLT4gQ29tcGFyaXNvblJlc3VsdCB7fQogICAgb3BlbiBmdW5jIGNvbnRhaW5zKF8gZGF0ZTogRGF0ZSkgLT4gQm9vbCB7fQogICAgb3BlbiBmdW5jIGludGVyc2VjdGlvbih3aXRoIGRhdGVJbnRlcnZhbDogRGF0ZUludGVydmFsKSAtPiBEYXRlSW50ZXJ2YWw/IHt9CiAgICBvcGVuIGZ1bmMgaW50ZXJzZWN0cyhfIGRhdGVJbnRlcnZhbDogRGF0ZUludGVydmFsKSAtPiBCb29sIHt9CiAgICBvcGVuIGZ1bmMgaXNFcXVhbCh0byBkYXRlSW50ZXJ2YWw6IERhdGVJbnRlcnZhbCkgLT4gQm9vbCB7fQp9Cm9wZW4gY2xhc3MgTlNEZWNpbWFsTnVtYmVyIHsKICAgIG9wZW4gY2xhc3MgdmFyIGRlZmF1bHRCZWhhdmlvcjogTlNEZWNpbWFsTnVtYmVyQmVoYXZpb3JzIHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgdmFyIG1heGltdW06IE5TRGVjaW1hbE51bWJlciB7IGdldCB9CiAgICBvcGVuIGNsYXNzIHZhciBtaW5pbXVtOiBOU0RlY2ltYWxOdW1iZXIgeyBnZXQgfQogICAgb3BlbiBjbGFzcyB2YXIgbm90QU51bWJlcjogTlNEZWNpbWFsTnVtYmVyIHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgdmFyIG9uZTogTlNEZWNpbWFsTnVtYmVyIHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgdmFyIHplcm86IE5TRGVjaW1hbE51bWJlciB7IGdldCB9CiAgICBwdWJsaWMgaW5pdChkZWNpbWFsIGRjbTogRGVjaW1hbCkge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KG1hbnRpc3NhOiBVSW50NjQsIGV4cG9uZW50OiBJbnQxNiwgaXNOZWdhdGl2ZTogQm9vbCkge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KHN0cmluZyBudW1iZXJWYWx1ZTogU3RyaW5nPykge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KHN0cmluZyBudW1iZXJWYWx1ZTogU3RyaW5nPywgbG9jYWxlOiBBbnk/KSB7fQogICAgb3BlbiBmdW5jIGFkZGluZyhfIG90aGVyOiBOU0RlY2ltYWxOdW1iZXIpIC0+IE5TRGVjaW1hbE51bWJlciB7fQogICAgb3BlbiBmdW5jIGFkZGluZyhfIG90aGVyOiBOU0RlY2ltYWxOdW1iZXIsIHdpdGhCZWhhdmlvciBiOiBOU0RlY2ltYWxOdW1iZXJCZWhhdmlvcnM/KSAtPiBOU0RlY2ltYWxOdW1iZXIge30KICAgIG9wZW4gZnVuYyBkaXZpZGluZyhieSBvdGhlcjogTlNEZWNpbWFsTnVtYmVyKSAtPiBOU0RlY2ltYWxOdW1iZXIge30KICAgIG9wZW4gZnVuYyBkaXZpZGluZyhieSBvdGhlcjogTlNEZWNpbWFsTnVtYmVyLCB3aXRoQmVoYXZpb3IgYjogTlNEZWNpbWFsTnVtYmVyQmVoYXZpb3JzPykgLT4gTlNEZWNpbWFsTnVtYmVyIHt9CiAgICBvcGVuIGZ1bmMgbXVsdGlwbHlpbmcoYnkgb3RoZXI6IE5TRGVjaW1hbE51bWJlcikgLT4gTlNEZWNpbWFsTnVtYmVyIHt9CiAgICBvcGVuIGZ1bmMgbXVsdGlwbHlpbmcoYnkgb3RoZXI6IE5TRGVjaW1hbE51bWJlciwgd2l0aEJlaGF2aW9yIGI6IE5TRGVjaW1hbE51bWJlckJlaGF2aW9ycz8pIC0+IE5TRGVjaW1hbE51bWJlciB7fQogICAgb3BlbiBmdW5jIG11bHRpcGx5aW5nKGJ5UG93ZXJPZjEwIHBvd2VyOiBJbnQxNikgLT4gTlNEZWNpbWFsTnVtYmVyIHt9CiAgICBvcGVuIGZ1bmMgbXVsdGlwbHlpbmcoYnlQb3dlck9mMTAgcG93ZXI6IEludDE2LCB3aXRoQmVoYXZpb3IgYjogTlNEZWNpbWFsTnVtYmVyQmVoYXZpb3JzPykgLT4gTlNEZWNpbWFsTnVtYmVyIHt9CiAgICBvcGVuIGZ1bmMgcmFpc2luZyh0b1Bvd2VyIHBvd2VyOiBJbnQpIC0+IE5TRGVjaW1hbE51bWJlciB7fQogICAgb3BlbiBmdW5jIHJhaXNpbmcodG9Qb3dlciBwb3dlcjogSW50LCB3aXRoQmVoYXZpb3IgYjogTlNEZWNpbWFsTnVtYmVyQmVoYXZpb3JzPykgLT4gTlNEZWNpbWFsTnVtYmVyIHt9CiAgICBvcGVuIGZ1bmMgcm91bmRpbmcoYWNjb3JkaW5nVG9CZWhhdmlvciBiOiBOU0RlY2ltYWxOdW1iZXJCZWhhdmlvcnM/KSAtPiBOU0RlY2ltYWxOdW1iZXIge30KICAgIG9wZW4gZnVuYyBzdWJ0cmFjdGluZyhfIG90aGVyOiBOU0RlY2ltYWxOdW1iZXIpIC0+IE5TRGVjaW1hbE51bWJlciB7fQogICAgb3BlbiBmdW5jIHN1YnRyYWN0aW5nKF8gb3RoZXI6IE5TRGVjaW1hbE51bWJlciwgd2l0aEJlaGF2aW9yIGI6IE5TRGVjaW1hbE51bWJlckJlaGF2aW9ycz8pIC0+IE5TRGVjaW1hbE51bWJlciB7fQp9Cm9wZW4gY2xhc3MgTlNEZWNpbWFsTnVtYmVySGFuZGxlciB7CiAgICBvcGVuIGNsYXNzIHZhciBkZWZhdWx0OiBOU0RlY2ltYWxOdW1iZXJIYW5kbGVyIHsgZ2V0IH0KICAgIHB1YmxpYyBpbml0KHJvdW5kaW5nTW9kZTogTlNEZWNpbWFsTnVtYmVyLlJvdW5kaW5nTW9kZSwgc2NhbGU6IEludDE2LCByYWlzZU9uRXhhY3RuZXNzIGV4YWN0OiBCb29sLCByYWlzZU9uT3ZlcmZsb3cgb3ZlcmZsb3c6IEJvb2wsIHJhaXNlT25VbmRlcmZsb3cgdW5kZXJmbG93OiBCb29sLCByYWlzZU9uRGl2aWRlQnlaZXJvIGRpdmlkZUJ5WmVybzogQm9vbCkge30KfQpvcGVuIGNsYXNzIE5TRGljdGlvbmFyeSB7CiAgICBvcGVuIGNsYXNzIGZ1bmMgc2hhcmVkS2V5U2V0KGZvcktleXMga2V5czogW05TQ29weWluZ10pIC0+IEFueSB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQoZGljdGlvbmFyeSBvdGhlckRpY3Rpb25hcnk6IFtBbnlIYXNoYWJsZTogQW55XSkge30KICAgIHB1YmxpYyByZXF1aXJlZCBjb252ZW5pZW5jZSBpbml0KGRpY3Rpb25hcnlMaXRlcmFsIGVsZW1lbnRzOiAoQW55LCBBbnkpLi4uKSB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQob2JqZWN0OiBBbnksIGZvcktleSBrZXk6IE5TQ29weWluZykge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KG9iamVjdHM6IFtBbnldLCBmb3JLZXlzIGtleXM6IFtOU09iamVjdF0pIHt9CiAgICBwdWJsaWMgcmVxdWlyZWQgaW5pdChvYmplY3RzOiBVbnNhZmVQb2ludGVyPEFueU9iamVjdD4hLCBmb3JLZXlzIGtleXM6IFVuc2FmZVBvaW50ZXI8TlNPYmplY3Q+ISwgY291bnQgY250OiBJbnQpIHt9CiAgICBvcGVuIHZhciBhbGxLZXlzOiBbQW55XSB7IGdldCB9CiAgICBvcGVuIHZhciBhbGxWYWx1ZXM6IFtBbnldIHsgZ2V0IH0KICAgIG9wZW4gdmFyIGNvdW50OiBJbnQgeyBnZXQgfQogICAgcHVibGljIHZhciBjdXN0b21NaXJyb3I6IE1pcnJvciB7IGdldCB9CiAgICBvcGVuIHZhciBkZXNjcmlwdGlvbkluU3RyaW5nc0ZpbGVGb3JtYXQ6IFN0cmluZyB7IGdldCB9CiAgICBvcGVuIHN1YnNjcmlwdChrZXk6IEFueSkgLT4gQW55PyB7IGdldCB9IHt9CiAgICBvcGVuIGZ1bmMgYWxsS2V5cyhmb3IgYW5PYmplY3Q6IEFueSkgLT4gW0FueV0ge30KICAgIG9wZW4gZnVuYyBkZXNjcmlwdGlvbih3aXRoTG9jYWxlIGxvY2FsZTogTG9jYWxlPykgLT4gU3RyaW5nIHt9CiAgICBvcGVuIGZ1bmMgZGVzY3JpcHRpb24od2l0aExvY2FsZSBsb2NhbGU6IExvY2FsZT8sIGluZGVudCBsZXZlbDogSW50KSAtPiBTdHJpbmcge30KICAgIG9wZW4gZnVuYyBlbnVtZXJhdGVLZXlzQW5kT2JqZWN0cyhfIGJsb2NrOiAoQW55LCBBbnksIFVuc2FmZU11dGFibGVQb2ludGVyPE9iakNCb29sPikgLT4gU3dpZnQuVm9pZCkge30KICAgIG9wZW4gZnVuYyBlbnVtZXJhdGVLZXlzQW5kT2JqZWN0cyhvcHRpb25zIG9wdHM6IE5TRW51bWVyYXRpb25PcHRpb25zID0geCwgdXNpbmcgYmxvY2s6IChBbnksIEFueSwgVW5zYWZlTXV0YWJsZVBvaW50ZXI8T2JqQ0Jvb2w+KSAtPiBWb2lkKSB7fQogICAgb3BlbiBmdW5jIGdldE9iamVjdHMoXyBvYmplY3RzOiBpbm91dCBbQW55XSwgYW5kS2V5cyBrZXlzOiBpbm91dCBbQW55XSwgY291bnQ6IEludCkge30KICAgIG9wZW4gZnVuYyBpc0VxdWFsKHRvIG90aGVyRGljdGlvbmFyeTogW0FueUhhc2hhYmxlOiBBbnldKSAtPiBCb29sIHt9CiAgICBvcGVuIGZ1bmMga2V5RW51bWVyYXRvcigpIC0+IE5TRW51bWVyYXRvciB7fQogICAgb3BlbiBmdW5jIGtleXNPZkVudHJpZXMob3B0aW9ucyBvcHRzOiBOU0VudW1lcmF0aW9uT3B0aW9ucyA9IHgsIHBhc3NpbmdUZXN0IHByZWRpY2F0ZTogKEFueSwgQW55LCBVbnNhZmVNdXRhYmxlUG9pbnRlcjxPYmpDQm9vbD4pIC0+IEJvb2wpIC0+IFNldDxBbnlIYXNoYWJsZT4ge30KICAgIG9wZW4gZnVuYyBrZXlzT2ZFbnRyaWVzKHBhc3NpbmdUZXN0IHByZWRpY2F0ZTogKEFueSwgQW55LCBVbnNhZmVNdXRhYmxlUG9pbnRlcjxPYmpDQm9vbD4pIC0+IEJvb2wpIC0+IFNldDxBbnlIYXNoYWJsZT4ge30KICAgIG9wZW4gZnVuYyBrZXlzU29ydGVkQnlWYWx1ZShjb21wYXJhdG9yIGNtcHRyOiAoQW55LCBBbnkpIC0+IENvbXBhcmlzb25SZXN1bHQpIC0+IFtBbnldIHt9CiAgICBvcGVuIGZ1bmMga2V5c1NvcnRlZEJ5VmFsdWUob3B0aW9ucyBvcHRzOiBOU1NvcnRPcHRpb25zID0geCwgdXNpbmdDb21wYXJhdG9yIGNtcHRyOiAoQW55LCBBbnkpIC0+IENvbXBhcmlzb25SZXN1bHQpIC0+IFtBbnldIHt9CiAgICBwdWJsaWMgZnVuYyBtYWtlSXRlcmF0b3IoKSAtPiBJdGVyYXRvciB7fQogICAgb3BlbiBmdW5jIG9iamVjdChmb3JLZXkgYUtleTogQW55KSAtPiBBbnk/IHt9CiAgICBvcGVuIGZ1bmMgb2JqZWN0RW51bWVyYXRvcigpIC0+IE5TRW51bWVyYXRvciB7fQogICAgb3BlbiBmdW5jIG9iamVjdHMoZm9yS2V5cyBrZXlzOiBbQW55XSwgbm90Rm91bmRNYXJrZXIgbWFya2VyOiBBbnkpIC0+IFtBbnldIHt9CiAgICBvcGVuIGZ1bmMgdmFsdWUoZm9yS2V5IGtleTogU3RyaW5nKSAtPiBBbnk/IHt9CiAgICBvcGVuIGZ1bmMgd3JpdGUodG8gdXJsOiBVUkwsIGF0b21pY2FsbHk6IEJvb2wpIC0+IEJvb2wge30KICAgIG9wZW4gZnVuYyB3cml0ZSh0b0ZpbGUgcGF0aDogU3RyaW5nLCBhdG9taWNhbGx5IHVzZUF1eGlsaWFyeUZpbGU6IEJvb2wpIC0+IEJvb2wge30KfQpvcGVuIGNsYXNzIE5TRW51bWVyYXRvciB7CiAgICBwdWJsaWMgdmFyIGFsbE9iamVjdHM6IFtBbnldIHsgZ2V0IH0KICAgIHB1YmxpYyBmdW5jIG1ha2VJdGVyYXRvcigpIC0+IEl0ZXJhdG9yIHt9CiAgICBvcGVuIGZ1bmMgbmV4dE9iamVjdCgpIC0+IEFueT8ge30KfQpvcGVuIGNsYXNzIE5TRXJyb3IgewogICAgb3BlbiBjbGFzcyBmdW5jIHNldFVzZXJJbmZvVmFsdWVQcm92aWRlcihmb3JEb21haW4gZXJyb3JEb21haW46IFN0cmluZywgcHJvdmlkZXI6ICgoRXJyb3IsIFN0cmluZykgLT4gQW55Pyk/KSB7fQogICAgb3BlbiBjbGFzcyBmdW5jIHVzZXJJbmZvVmFsdWVQcm92aWRlcihmb3JEb21haW4gZXJyb3JEb21haW46IFN0cmluZykgLT4gKChFcnJvciwgU3RyaW5nKSAtPiBBbnk/KT8ge30KICAgIHB1YmxpYyBpbml0KGRvbWFpbjogU3RyaW5nLCBjb2RlOiBJbnQsIHVzZXJJbmZvIGRpY3Q6IFtTdHJpbmc6IEFueV0/ID0geCkge30KICAgIG9wZW4gdmFyIGNvZGU6IEludCB7IGdldCB9CiAgICBvcGVuIHZhciBkb21haW46IFN0cmluZyB7IGdldCB9CiAgICBvcGVuIHZhciBoZWxwQW5jaG9yOiBTdHJpbmc/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGxvY2FsaXplZERlc2NyaXB0aW9uOiBTdHJpbmcgeyBnZXQgfQogICAgb3BlbiB2YXIgbG9jYWxpemVkRmFpbHVyZVJlYXNvbjogU3RyaW5nPyB7IGdldCB9CiAgICBvcGVuIHZhciBsb2NhbGl6ZWRSZWNvdmVyeU9wdGlvbnM6IFtTdHJpbmddPyB7IGdldCB9CiAgICBvcGVuIHZhciBsb2NhbGl6ZWRSZWNvdmVyeVN1Z2dlc3Rpb246IFN0cmluZz8geyBnZXQgfQogICAgb3BlbiB2YXIgcmVjb3ZlcnlBdHRlbXB0ZXI6IEFueT8geyBnZXQgfQogICAgb3BlbiB2YXIgdXNlckluZm86IFtTdHJpbmc6IEFueV0geyBnZXQgfQp9Cm9wZW4gY2xhc3MgTlNFeHByZXNzaW9uIHsKICAgIG9wZW4gY2xhc3MgZnVuYyBleHByZXNzaW9uRm9yQW55S2V5KCkgLT4gTlNFeHByZXNzaW9uIHt9CiAgICBvcGVuIGNsYXNzIGZ1bmMgZXhwcmVzc2lvbkZvckV2YWx1YXRlZE9iamVjdCgpIC0+IE5TRXhwcmVzc2lvbiB7fQogICAgcHVibGljIGluaXQoYmxvY2s6IEBlc2NhcGluZyAoQW55PywgW0FueV0sIE5TTXV0YWJsZURpY3Rpb25hcnk/KSAtPiBBbnksIGFyZ3VtZW50czogW05TRXhwcmVzc2lvbl0/KSB7fQogICAgcHVibGljIGluaXQoZXhwcmVzc2lvblR5cGUgdHlwZTogRXhwcmVzc2lvblR5cGUpIHt9CiAgICBwdWJsaWMgaW5pdChmb3JBZ2dyZWdhdGUgc3ViZXhwcmVzc2lvbnM6IFtBbnldKSB7fQogICAgcHVibGljIGluaXQoZm9yQ29uZGl0aW9uYWwgcHJlZGljYXRlOiBBbnksIHRydWVFeHByZXNzaW9uOiBOU0V4cHJlc3Npb24sIGZhbHNlRXhwcmVzc2lvbjogTlNFeHByZXNzaW9uKSB7fQogICAgcHVibGljIGluaXQoZm9yQ29uc3RhbnRWYWx1ZSBvYmo6IEFueT8pIHt9CiAgICBwdWJsaWMgaW5pdChmb3JGdW5jdGlvbiBuYW1lOiBTdHJpbmcsIGFyZ3VtZW50cyBwYXJhbWV0ZXJzOiBbQW55XSkge30KICAgIHB1YmxpYyBpbml0KGZvckZ1bmN0aW9uIHRhcmdldDogTlNFeHByZXNzaW9uLCBzZWxlY3Rvck5hbWUgbmFtZTogU3RyaW5nLCBhcmd1bWVudHMgcGFyYW1ldGVyczogW0FueV0/KSB7fQogICAgcHVibGljIGluaXQoZm9ySW50ZXJzZWN0U2V0IGxlZnQ6IE5TRXhwcmVzc2lvbiwgd2l0aCByaWdodDogTlNFeHByZXNzaW9uKSB7fQogICAgcHVibGljIGluaXQoZm9yS2V5UGF0aCBrZXlQYXRoOiBTdHJpbmcpIHt9CiAgICBwdWJsaWMgaW5pdChmb3JNaW51c1NldCBsZWZ0OiBOU0V4cHJlc3Npb24sIHdpdGggcmlnaHQ6IE5TRXhwcmVzc2lvbikge30KICAgIHB1YmxpYyBpbml0KGZvclN1YnF1ZXJ5IGV4cHJlc3Npb246IE5TRXhwcmVzc2lvbiwgdXNpbmdJdGVyYXRvclZhcmlhYmxlIHZhcmlhYmxlOiBTdHJpbmcsIHByZWRpY2F0ZTogQW55KSB7fQogICAgcHVibGljIGluaXQoZm9yVW5pb25TZXQgbGVmdDogTlNFeHByZXNzaW9uLCB3aXRoIHJpZ2h0OiBOU0V4cHJlc3Npb24pIHt9CiAgICBwdWJsaWMgaW5pdChmb3JWYXJpYWJsZSBzdHJpbmc6IFN0cmluZykge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KGZvcm1hdCBleHByZXNzaW9uRm9ybWF0OiBTdHJpbmcsIF8gYXJnczogQ1ZhckFyZy4uLikge30KICAgIHB1YmxpYyBpbml0KGZvcm1hdCBleHByZXNzaW9uRm9ybWF0OiBTdHJpbmcsIGFyZ3VtZW50QXJyYXkgYXJndW1lbnRzOiBbQW55XSkge30KICAgIHB1YmxpYyBpbml0KGZvcm1hdCBleHByZXNzaW9uRm9ybWF0OiBTdHJpbmcsIGFyZ3VtZW50cyBhcmdMaXN0OiBDVmFMaXN0UG9pbnRlcikge30KICAgIG9wZW4gdmFyIGFyZ3VtZW50czogW05TRXhwcmVzc2lvbl0/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGNvbGxlY3Rpb246IEFueSB7IGdldCB9CiAgICBvcGVuIHZhciBjb25zdGFudFZhbHVlOiBBbnkgeyBnZXQgfQogICAgb3BlbiB2YXIgZXhwcmVzc2lvbkJsb2NrOiAoQW55PywgW0FueV0sIE5TTXV0YWJsZURpY3Rpb25hcnk/KSAtPiBBbnkgeyBnZXQgfQogICAgb3BlbiB2YXIgZXhwcmVzc2lvblR5cGU6IEV4cHJlc3Npb25UeXBlIHsgZ2V0IH0KICAgIG9wZW4gdmFyIGZhbHNlOiBOU0V4cHJlc3Npb24geyBnZXQgfQogICAgb3BlbiB2YXIgZnVuY3Rpb246IFN0cmluZyB7IGdldCB9CiAgICBvcGVuIHZhciBrZXlQYXRoOiBTdHJpbmcgeyBnZXQgfQogICAgb3BlbiB2YXIgbGVmdDogTlNFeHByZXNzaW9uIHsgZ2V0IH0KICAgIG9wZW4gdmFyIG9wZXJhbmQ6IE5TRXhwcmVzc2lvbiB7IGdldCB9CiAgICBvcGVuIHZhciBwcmVkaWNhdGU6IE5TUHJlZGljYXRlIHsgZ2V0IH0KICAgIG9wZW4gdmFyIHJpZ2h0OiBOU0V4cHJlc3Npb24geyBnZXQgfQogICAgb3BlbiB2YXIgdHJ1ZTogTlNFeHByZXNzaW9uIHsgZ2V0IH0KICAgIG9wZW4gdmFyIHZhcmlhYmxlOiBTdHJpbmcgeyBnZXQgfQogICAgb3BlbiBmdW5jIGFsbG93RXZhbHVhdGlvbigpIHt9CiAgICBvcGVuIGZ1bmMgZXhwcmVzc2lvblZhbHVlKHdpdGggb2JqZWN0OiBBbnk/LCBjb250ZXh0OiBOU011dGFibGVEaWN0aW9uYXJ5PykgLT4gQW55PyB7fQp9Cm9wZW4gY2xhc3MgTlNJbmRleFBhdGggewogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQoaW5kZXg6IEludCkge30KICAgIHB1YmxpYyBpbml0KGluZGV4ZXM6IFVuc2FmZVBvaW50ZXI8SW50Pj8sIGxlbmd0aDogSW50KSB7fQogICAgb3BlbiB2YXIgbGVuZ3RoOiBJbnQgeyBnZXQgfQogICAgb3BlbiBmdW5jIGFkZGluZyhfIGluZGV4OiBJbnQpIC0+IEluZGV4UGF0aCB7fQogICAgb3BlbiBmdW5jIGNvbXBhcmUoXyBvdGhlck9iamVjdDogSW5kZXhQYXRoKSAtPiBDb21wYXJpc29uUmVzdWx0IHt9CiAgICBvcGVuIGZ1bmMgZ2V0SW5kZXhlcyhfIGluZGV4ZXM6IFVuc2FmZU11dGFibGVQb2ludGVyPEludD4sIHJhbmdlIHBvc2l0aW9uUmFuZ2U6IE5TUmFuZ2UpIHt9CiAgICBvcGVuIGZ1bmMgaW5kZXgoYXRQb3NpdGlvbiBwb3NpdGlvbjogSW50KSAtPiBJbnQge30KICAgIG9wZW4gZnVuYyByZW1vdmluZ0xhc3RJbmRleCgpIC0+IEluZGV4UGF0aCB7fQp9Cm9wZW4gY2xhc3MgTlNJbmRleFNldCB7CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdChpbmRleCB2YWx1ZTogSW50KSB7fQogICAgcHVibGljIGluaXQoaW5kZXhTZXQ6IEluZGV4U2V0KSB7fQogICAgcHVibGljIGluaXQoaW5kZXhlc0luIHJhbmdlOiBOU1JhbmdlKSB7fQogICAgb3BlbiB2YXIgY291bnQ6IEludCB7IGdldCB9CiAgICBvcGVuIHZhciBmaXJzdEluZGV4OiBJbnQgeyBnZXQgfQogICAgb3BlbiB2YXIgbGFzdEluZGV4OiBJbnQgeyBnZXQgfQogICAgb3BlbiBmdW5jIGNvbnRhaW5zKF8gaW5kZXhTZXQ6IEluZGV4U2V0KSAtPiBCb29sIHt9CiAgICBvcGVuIGZ1bmMgY29udGFpbnMoaW4gcmFuZ2U6IE5TUmFuZ2UpIC0+IEJvb2wge30KICAgIG9wZW4gZnVuYyBjb3VudE9mSW5kZXhlcyhpbiByYW5nZTogTlNSYW5nZSkgLT4gSW50IHt9CiAgICBvcGVuIGZ1bmMgZW51bWVyYXRlKF8gYmxvY2s6IChJbnQsIFVuc2FmZU11dGFibGVQb2ludGVyPE9iakNCb29sPikgLT4gVm9pZCkge30KICAgIG9wZW4gZnVuYyBlbnVtZXJhdGUoaW4gcmFuZ2U6IE5TUmFuZ2UsIG9wdGlvbnMgb3B0czogTlNFbnVtZXJhdGlvbk9wdGlvbnMgPSB4LCB1c2luZyBibG9jazogKEludCwgVW5zYWZlTXV0YWJsZVBvaW50ZXI8T2JqQ0Jvb2w+KSAtPiBWb2lkKSB7fQogICAgb3BlbiBmdW5jIGVudW1lcmF0ZShvcHRpb25zIG9wdHM6IE5TRW51bWVyYXRpb25PcHRpb25zID0geCwgdXNpbmcgYmxvY2s6IChJbnQsIFVuc2FmZU11dGFibGVQb2ludGVyPE9iakNCb29sPikgLT4gVm9pZCkge30KICAgIG9wZW4gZnVuYyBlbnVtZXJhdGVSYW5nZXMoXyBibG9jazogKE5TUmFuZ2UsIFVuc2FmZU11dGFibGVQb2ludGVyPE9iakNCb29sPikgLT4gVm9pZCkge30KICAgIG9wZW4gZnVuYyBlbnVtZXJhdGVSYW5nZXMoaW4gcmFuZ2U6IE5TUmFuZ2UsIG9wdGlvbnMgb3B0czogTlNFbnVtZXJhdGlvbk9wdGlvbnMgPSB4LCB1c2luZyBibG9jazogKE5TUmFuZ2UsIFVuc2FmZU11dGFibGVQb2ludGVyPE9iakNCb29sPikgLT4gVm9pZCkge30KICAgIG9wZW4gZnVuYyBlbnVtZXJhdGVSYW5nZXMob3B0aW9ucyBvcHRzOiBOU0VudW1lcmF0aW9uT3B0aW9ucyA9IHgsIHVzaW5nIGJsb2NrOiAoTlNSYW5nZSwgVW5zYWZlTXV0YWJsZVBvaW50ZXI8T2JqQ0Jvb2w+KSAtPiBWb2lkKSB7fQogICAgb3BlbiBmdW5jIGdldEluZGV4ZXMoXyBpbmRleEJ1ZmZlcjogVW5zYWZlTXV0YWJsZVBvaW50ZXI8SW50PiwgbWF4Q291bnQgYnVmZmVyU2l6ZTogSW50LCBpbkluZGV4UmFuZ2UgcmFuZ2U6IE5TUmFuZ2VQb2ludGVyPykgLT4gSW50IHt9CiAgICBvcGVuIGZ1bmMgaW5kZXgoaW4gcmFuZ2U6IE5TUmFuZ2UsIG9wdGlvbnMgb3B0czogTlNFbnVtZXJhdGlvbk9wdGlvbnMgPSB4LCBwYXNzaW5nVGVzdCBwcmVkaWNhdGU6IChJbnQsIFVuc2FmZU11dGFibGVQb2ludGVyPE9iakNCb29sPikgLT4gQm9vbCkgLT4gSW50IHt9CiAgICBvcGVuIGZ1bmMgaW5kZXgob3B0aW9ucyBvcHRzOiBOU0VudW1lcmF0aW9uT3B0aW9ucyA9IHgsIHBhc3NpbmdUZXN0IHByZWRpY2F0ZTogKEludCwgVW5zYWZlTXV0YWJsZVBvaW50ZXI8T2JqQ0Jvb2w+KSAtPiBCb29sKSAtPiBJbnQge30KICAgIG9wZW4gZnVuYyBpbmRleChwYXNzaW5nVGVzdCBwcmVkaWNhdGU6IChJbnQsIFVuc2FmZU11dGFibGVQb2ludGVyPE9iakNCb29sPikgLT4gQm9vbCkgLT4gSW50IHt9CiAgICBvcGVuIGZ1bmMgaW5kZXhHcmVhdGVyVGhhbkluZGV4KF8gdmFsdWU6IEludCkgLT4gSW50IHt9CiAgICBvcGVuIGZ1bmMgaW5kZXhHcmVhdGVyVGhhbk9yRXF1YWwodG8gdmFsdWU6IEludCkgLT4gSW50IHt9CiAgICBvcGVuIGZ1bmMgaW5kZXhMZXNzVGhhbkluZGV4KF8gdmFsdWU6IEludCkgLT4gSW50IHt9CiAgICBvcGVuIGZ1bmMgaW5kZXhMZXNzVGhhbk9yRXF1YWwodG8gdmFsdWU6IEludCkgLT4gSW50IHt9CiAgICBvcGVuIGZ1bmMgaW5kZXhlcyhpbiByYW5nZTogTlNSYW5nZSwgb3B0aW9ucyBvcHRzOiBOU0VudW1lcmF0aW9uT3B0aW9ucyA9IHgsIHBhc3NpbmdUZXN0IHByZWRpY2F0ZTogKEludCwgVW5zYWZlTXV0YWJsZVBvaW50ZXI8T2JqQ0Jvb2w+KSAtPiBCb29sKSAtPiBJbmRleFNldCB7fQogICAgb3BlbiBmdW5jIGluZGV4ZXMob3B0aW9ucyBvcHRzOiBOU0VudW1lcmF0aW9uT3B0aW9ucyA9IHgsIHBhc3NpbmdUZXN0IHByZWRpY2F0ZTogKEludCwgVW5zYWZlTXV0YWJsZVBvaW50ZXI8T2JqQ0Jvb2w+KSAtPiBCb29sKSAtPiBJbmRleFNldCB7fQogICAgb3BlbiBmdW5jIGluZGV4ZXMocGFzc2luZ1Rlc3QgcHJlZGljYXRlOiAoSW50LCBVbnNhZmVNdXRhYmxlUG9pbnRlcjxPYmpDQm9vbD4pIC0+IEJvb2wpIC0+IEluZGV4U2V0IHt9CiAgICBvcGVuIGZ1bmMgaW50ZXJzZWN0cyhpbiByYW5nZTogTlNSYW5nZSkgLT4gQm9vbCB7fQogICAgb3BlbiBmdW5jIGlzRXF1YWwodG8gaW5kZXhTZXQ6IEluZGV4U2V0KSAtPiBCb29sIHt9CiAgICBwdWJsaWMgZnVuYyBtYWtlSXRlcmF0b3IoKSAtPiBOU0luZGV4U2V0SXRlcmF0b3Ige30KfQpvcGVuIGNsYXNzIE5TS2V5ZWRBcmNoaXZlciB7CiAgICBvcGVuIGNsYXNzIGZ1bmMgYXJjaGl2ZVJvb3RPYmplY3QoXyByb290T2JqZWN0OiBBbnksIHRvRmlsZSBwYXRoOiBTdHJpbmcpIC0+IEJvb2wge30KICAgIG9wZW4gY2xhc3MgZnVuYyBhcmNoaXZlZERhdGEod2l0aFJvb3RPYmplY3Qgcm9vdE9iamVjdDogQW55KSAtPiBEYXRhIHt9CiAgICBvcGVuIGNsYXNzIGZ1bmMgY2xhc3NOYW1lRm9yQ2xhc3MoXyBjbHM6IEFueUNsYXNzKSAtPiBTdHJpbmc/IHt9CiAgICBvcGVuIGNsYXNzIGZ1bmMgc2V0Q2xhc3NOYW1lKF8gY29kZWROYW1lOiBTdHJpbmc/LCBmb3IgY2xzOiBBbnlDbGFzcykge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KGZvcldyaXRpbmdXaXRoIGRhdGE6IE5TTXV0YWJsZURhdGEpIHt9CiAgICBvcGVuIHdlYWsgdmFyIGRlbGVnYXRlOiBOU0tleWVkQXJjaGl2ZXJEZWxlZ2F0ZT8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGVuY29kZWREYXRhOiBEYXRhIHsgZ2V0IH0KICAgIG9wZW4gdmFyIG91dHB1dEZvcm1hdCB7IGdldCB9CiAgICBvcGVuIGZ1bmMgY2xhc3NOYW1lRm9yQ2xhc3MoXyBjbHM6IEFueUNsYXNzKSAtPiBTdHJpbmc/IHt9CiAgICBvcGVuIGZ1bmMgZW5jb2RlUHJvcGVydHlMaXN0KF8gYVByb3BlcnR5TGlzdDogQW55LCBmb3JLZXkga2V5OiBTdHJpbmcpIHt9CiAgICBvcGVuIGZ1bmMgZmluaXNoRW5jb2RpbmcoKSB7fQogICAgb3BlbiBmdW5jIHNldENsYXNzTmFtZShfIGNvZGVkTmFtZTogU3RyaW5nPywgZm9yIGNsczogQW55Q2xhc3MpIHt9Cn0Kb3BlbiBjbGFzcyBOU0tleWVkVW5hcmNoaXZlciB7CiAgICBvcGVuIGNsYXNzIGZ1bmMgY2xhc3MoZm9yQ2xhc3NOYW1lIGNvZGVkTmFtZTogU3RyaW5nKSAtPiBBbnlDbGFzcz8ge30KICAgIG9wZW4gY2xhc3MgZnVuYyBzZXRDbGFzcyhfIGNsczogQW55Q2xhc3M/LCBmb3JDbGFzc05hbWUgY29kZWROYW1lOiBTdHJpbmcpIHt9CiAgICBvcGVuIGNsYXNzIGZ1bmMgdW5hcmNoaXZlT2JqZWN0KHdpdGggZGF0YTogRGF0YSkgLT4gQW55PyB7fQogICAgb3BlbiBjbGFzcyBmdW5jIHVuYXJjaGl2ZU9iamVjdCh3aXRoRmlsZSBwYXRoOiBTdHJpbmcpIC0+IEFueT8ge30KICAgIG9wZW4gY2xhc3MgZnVuYyB1bmFyY2hpdmVUb3BMZXZlbE9iamVjdFdpdGhEYXRhKF8gZGF0YTogRGF0YSkgdGhyb3dzIC0+IEFueT8ge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KGZvclJlYWRpbmdXaXRoIGRhdGE6IERhdGEpIHt9CiAgICBvcGVuIHdlYWsgdmFyIGRlbGVnYXRlOiBOU0tleWVkVW5hcmNoaXZlckRlbGVnYXRlPyB7IGdldCBzZXQgfQogICAgb3BlbiBmdW5jIGNsYXNzKGZvckNsYXNzTmFtZSBjb2RlZE5hbWU6IFN0cmluZykgLT4gQW55Q2xhc3M/IHt9CiAgICBvcGVuIGZ1bmMgZmluaXNoRGVjb2RpbmcoKSB7fQogICAgb3BlbiBmdW5jIHNldENsYXNzKF8gY2xzOiBBbnlDbGFzcz8sIGZvckNsYXNzTmFtZSBjb2RlZE5hbWU6IFN0cmluZykge30KfQpvcGVuIGNsYXNzIE5TTG9jYWxlIHsKICAgIG9wZW4gY2xhc3MgdmFyIGF2YWlsYWJsZUxvY2FsZUlkZW50aWZpZXJzOiBbU3RyaW5nXSB7IGdldCB9CiAgICBvcGVuIGNsYXNzIHZhciBjb21tb25JU09DdXJyZW5jeUNvZGVzOiBbU3RyaW5nXSB7IGdldCB9CiAgICBvcGVuIGNsYXNzIHZhciBjdXJyZW50OiBMb2NhbGUgeyBnZXQgfQogICAgcHVibGljIHN0YXRpYyB2YXIgY3VycmVudExvY2FsZURpZENoYW5nZU5vdGlmaWNhdGlvbiB7IGdldCB9CiAgICBvcGVuIGNsYXNzIHZhciBpc29Db3VudHJ5Q29kZXM6IFtTdHJpbmddIHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgdmFyIGlzb0N1cnJlbmN5Q29kZXM6IFtTdHJpbmddIHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgdmFyIGlzb0xhbmd1YWdlQ29kZXM6IFtTdHJpbmddIHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgdmFyIHByZWZlcnJlZExhbmd1YWdlczogW1N0cmluZ10geyBnZXQgfQogICAgb3BlbiBjbGFzcyB2YXIgc3lzdGVtOiBMb2NhbGUgeyBnZXQgfQogICAgb3BlbiBjbGFzcyBmdW5jIGNhbm9uaWNhbExhbmd1YWdlSWRlbnRpZmllcihmcm9tIHN0cmluZzogU3RyaW5nKSAtPiBTdHJpbmcge30KICAgIG9wZW4gY2xhc3MgZnVuYyBjYW5vbmljYWxMb2NhbGVJZGVudGlmaWVyKGZyb20gc3RyaW5nOiBTdHJpbmcpIC0+IFN0cmluZyB7fQogICAgb3BlbiBjbGFzcyBmdW5jIGNoYXJhY3RlckRpcmVjdGlvbihmb3JMYW5ndWFnZSBpc29MYW5nQ29kZTogU3RyaW5nKSAtPiBOU0xvY2FsZS5MYW5ndWFnZURpcmVjdGlvbiB7fQogICAgb3BlbiBjbGFzcyBmdW5jIGNvbXBvbmVudHMoZnJvbUxvY2FsZUlkZW50aWZpZXIgc3RyaW5nOiBTdHJpbmcpIC0+IFtTdHJpbmc6IFN0cmluZ10ge30KICAgIG9wZW4gY2xhc3MgZnVuYyBsaW5lRGlyZWN0aW9uKGZvckxhbmd1YWdlIGlzb0xhbmdDb2RlOiBTdHJpbmcpIC0+IE5TTG9jYWxlLkxhbmd1YWdlRGlyZWN0aW9uIHt9CiAgICBvcGVuIGNsYXNzIGZ1bmMgbG9jYWxlSWRlbnRpZmllcihmcm9tQ29tcG9uZW50cyBkaWN0OiBbU3RyaW5nOiBTdHJpbmddKSAtPiBTdHJpbmcge30KICAgIG9wZW4gY2xhc3MgZnVuYyBsb2NhbGVJZGVudGlmaWVyKGZyb21XaW5kb3dzTG9jYWxlQ29kZSBsY2lkOiBVSW50MzIpIC0+IFN0cmluZz8ge30KICAgIG9wZW4gY2xhc3MgZnVuYyB3aW5kb3dzTG9jYWxlQ29kZShmcm9tTG9jYWxlSWRlbnRpZmllciBsb2NhbGVJZGVudGlmaWVyOiBTdHJpbmcpIC0+IFVJbnQzMiB7fQogICAgcHVibGljIGluaXQobG9jYWxlSWRlbnRpZmllciBzdHJpbmc6IFN0cmluZykge30KICAgIHB1YmxpYyB2YXIgbG9jYWxlSWRlbnRpZmllcjogU3RyaW5nIHsgZ2V0IH0KICAgIG9wZW4gZnVuYyBkaXNwbGF5TmFtZShmb3JLZXkga2V5OiBLZXksIHZhbHVlOiBTdHJpbmcpIC0+IFN0cmluZz8ge30KICAgIG9wZW4gZnVuYyBvYmplY3QoZm9yS2V5IGtleTogTlNMb2NhbGUuS2V5KSAtPiBBbnk/IHt9Cn0Kb3BlbiBjbGFzcyBOU0xvY2sgewogICAgb3BlbiB2YXIgbmFtZTogU3RyaW5nPyB7IGdldCBzZXQgfQogICAgb3BlbiBmdW5jIGxvY2soYmVmb3JlIGxpbWl0OiBEYXRlKSAtPiBCb29sIHt9CiAgICBvcGVuIGZ1bmMgdHJ5KCkgLT4gQm9vbCB7fQp9Cm9wZW4gY2xhc3MgTlNNZWFzdXJlbWVudCB7CiAgICBwdWJsaWMgaW5pdChkb3VibGVWYWx1ZTogRG91YmxlLCB1bml0OiBVbml0KSB7fQogICAgb3BlbiB2YXIgZG91YmxlVmFsdWU6IERvdWJsZSB7IGdldCB9CiAgICBvcGVuIHZhciB1bml0OiBVbml0IHsgZ2V0IH0KICAgIG9wZW4gZnVuYyBhZGRpbmcoXyBtZWFzdXJlbWVudDogTWVhc3VyZW1lbnQ8VW5pdD4pIC0+IE1lYXN1cmVtZW50PFVuaXQ+IHt9CiAgICBvcGVuIGZ1bmMgY2FuQmVDb252ZXJ0ZWQodG8gdW5pdDogVW5pdCkgLT4gQm9vbCB7fQogICAgb3BlbiBmdW5jIGNvbnZlcnRpbmcodG8gdW5pdDogVW5pdCkgLT4gTWVhc3VyZW1lbnQ8VW5pdD4ge30KICAgIG9wZW4gZnVuYyBzdWJ0cmFjdGluZyhfIG1lYXN1cmVtZW50OiBNZWFzdXJlbWVudDxVbml0PikgLT4gTWVhc3VyZW1lbnQ8VW5pdD4ge30KfQpvcGVuIGNsYXNzIE5TTXV0YWJsZUFycmF5IHsKICAgIHB1YmxpYyBpbml0KGNhcGFjaXR5IG51bUl0ZW1zOiBJbnQpIHt9CiAgICBvcGVuIGZ1bmMgYWRkKF8gYW5PYmplY3Q6IEFueSkge30KICAgIG9wZW4gZnVuYyBhZGRPYmplY3RzKGZyb20gb3RoZXJBcnJheTogW0FueV0pIHt9CiAgICBvcGVuIGZ1bmMgZXhjaGFuZ2VPYmplY3QoYXQgaWR4MTogSW50LCB3aXRoT2JqZWN0QXQgaWR4MjogSW50KSB7fQogICAgb3BlbiBmdW5jIGZpbHRlcih1c2luZyBwcmVkaWNhdGU6IE5TUHJlZGljYXRlKSB7fQogICAgb3BlbiBmdW5jIGluc2VydChfIGFuT2JqZWN0OiBBbnksIGF0IGluZGV4OiBJbnQpIHt9CiAgICBvcGVuIGZ1bmMgcmVtb3ZlKF8gYW5PYmplY3Q6IEFueSkge30KICAgIG9wZW4gZnVuYyByZW1vdmUoXyBhbk9iamVjdDogQW55LCBpbiByYW5nZTogTlNSYW5nZSkge30KICAgIG9wZW4gZnVuYyByZW1vdmVBbGxPYmplY3RzKCkge30KICAgIG9wZW4gZnVuYyByZW1vdmVMYXN0T2JqZWN0KCkge30KICAgIG9wZW4gZnVuYyByZW1vdmVPYmplY3QoYXQgaW5kZXg6IEludCkge30KICAgIG9wZW4gZnVuYyByZW1vdmVPYmplY3QoaWRlbnRpY2FsVG8gYW5PYmplY3Q6IEFueSkge30KICAgIG9wZW4gZnVuYyByZW1vdmVPYmplY3QoaWRlbnRpY2FsVG8gYW5PYmplY3Q6IEFueSwgaW4gcmFuZ2U6IE5TUmFuZ2UpIHt9CiAgICBvcGVuIGZ1bmMgcmVtb3ZlT2JqZWN0cyhhdCBpbmRleGVzOiBJbmRleFNldCkge30KICAgIG9wZW4gZnVuYyByZW1vdmVPYmplY3RzKGluIG90aGVyQXJyYXk6IFtBbnldKSB7fQogICAgb3BlbiBmdW5jIHJlcGxhY2VPYmplY3QoYXQgaW5kZXg6IEludCwgd2l0aCBhbk9iamVjdDogQW55KSB7fQogICAgb3BlbiBmdW5jIHJlcGxhY2VPYmplY3RzKGF0IGluZGV4ZXM6IEluZGV4U2V0LCB3aXRoIG9iamVjdHM6IFtBbnldKSB7fQogICAgb3BlbiBmdW5jIHJlcGxhY2VPYmplY3RzKGluIHJhbmdlOiBOU1JhbmdlLCB3aXRoT2JqZWN0c0Zyb20gb3RoZXJBcnJheTogW0FueV0pIHt9CiAgICBvcGVuIGZ1bmMgcmVwbGFjZU9iamVjdHMoaW4gcmFuZ2U6IE5TUmFuZ2UsIHdpdGhPYmplY3RzRnJvbSBvdGhlckFycmF5OiBbQW55XSwgcmFuZ2Ugb3RoZXJSYW5nZTogTlNSYW5nZSkge30KICAgIG9wZW4gZnVuYyBzZXRBcnJheShfIG90aGVyQXJyYXk6IFtBbnldKSB7fQogICAgb3BlbiBmdW5jIHNvcnQoXyBjb21wYXJlOiAoQW55LCBBbnksIFVuc2FmZU11dGFibGVSYXdQb2ludGVyPykgLT4gSW50LCBjb250ZXh0OiBVbnNhZmVNdXRhYmxlUmF3UG9pbnRlcj8pIHt9CiAgICBvcGVuIGZ1bmMgc29ydChjb21wYXJhdG9yOiBDb21wYXJhdG9yKSB7fQogICAgb3BlbiBmdW5jIHNvcnQob3B0aW9ucyBvcHRzOiBOU1NvcnRPcHRpb25zID0geCwgdXNpbmdDb21wYXJhdG9yIGNtcHRyOiBDb21wYXJhdG9yKSB7fQogICAgcHVibGljIGZ1bmMgc29ydCh1c2luZyBzb3J0RGVzY3JpcHRvcnM6IFtOU1NvcnREZXNjcmlwdG9yXSkge30KfQpvcGVuIGNsYXNzIE5TTXV0YWJsZUF0dHJpYnV0ZWRTdHJpbmcgewogICAgb3BlbiB2YXIgbXV0YWJsZVN0cmluZzogTlNNdXRhYmxlU3RyaW5nIHsgZ2V0IH0KICAgIG9wZW4gZnVuYyBhZGRBdHRyaWJ1dGUoXyBuYW1lOiBOU0F0dHJpYnV0ZWRTdHJpbmdLZXksIHZhbHVlOiBBbnksIHJhbmdlOiBOU1JhbmdlKSB7fQogICAgb3BlbiBmdW5jIGFkZEF0dHJpYnV0ZXMoXyBhdHRyczogW05TQXR0cmlidXRlZFN0cmluZ0tleTogQW55XSwgcmFuZ2U6IE5TUmFuZ2UpIHt9CiAgICBvcGVuIGZ1bmMgYXBwZW5kKF8gYXR0clN0cmluZzogTlNBdHRyaWJ1dGVkU3RyaW5nKSB7fQogICAgb3BlbiBmdW5jIGJlZ2luRWRpdGluZygpIHt9CiAgICBvcGVuIGZ1bmMgZGVsZXRlQ2hhcmFjdGVycyhpbiByYW5nZTogTlNSYW5nZSkge30KICAgIG9wZW4gZnVuYyBlbmRFZGl0aW5nKCkge30KICAgIG9wZW4gZnVuYyBpbnNlcnQoXyBhdHRyU3RyaW5nOiBOU0F0dHJpYnV0ZWRTdHJpbmcsIGF0IGxvYzogSW50KSB7fQogICAgb3BlbiBmdW5jIHJlbW92ZUF0dHJpYnV0ZShfIG5hbWU6IE5TQXR0cmlidXRlZFN0cmluZ0tleSwgcmFuZ2U6IE5TUmFuZ2UpIHt9CiAgICBvcGVuIGZ1bmMgcmVwbGFjZUNoYXJhY3RlcnMoaW4gcmFuZ2U6IE5TUmFuZ2UsIHdpdGggYXR0clN0cmluZzogTlNBdHRyaWJ1dGVkU3RyaW5nKSB7fQogICAgb3BlbiBmdW5jIHNldEF0dHJpYnV0ZWRTdHJpbmcoXyBhdHRyU3RyaW5nOiBOU0F0dHJpYnV0ZWRTdHJpbmcpIHt9CiAgICBvcGVuIGZ1bmMgc2V0QXR0cmlidXRlcyhfIGF0dHJzOiBbTlNBdHRyaWJ1dGVkU3RyaW5nS2V5OiBBbnldPywgcmFuZ2U6IE5TUmFuZ2UpIHt9Cn0Kb3BlbiBjbGFzcyBOU011dGFibGVDaGFyYWN0ZXJTZXQgewogICAgb3BlbiBjbGFzcyBmdW5jIGFscGhhbnVtZXJpYygpIC0+IE5TTXV0YWJsZUNoYXJhY3RlclNldCB7fQogICAgb3BlbiBjbGFzcyBmdW5jIGNhcGl0YWxpemVkTGV0dGVyKCkgLT4gTlNNdXRhYmxlQ2hhcmFjdGVyU2V0IHt9CiAgICBvcGVuIGNsYXNzIGZ1bmMgY29udHJvbCgpIC0+IE5TTXV0YWJsZUNoYXJhY3RlclNldCB7fQogICAgb3BlbiBjbGFzcyBmdW5jIGRlY2ltYWxEaWdpdCgpIC0+IE5TTXV0YWJsZUNoYXJhY3RlclNldCB7fQogICAgb3BlbiBjbGFzcyBmdW5jIGRlY29tcG9zYWJsZSgpIC0+IE5TTXV0YWJsZUNoYXJhY3RlclNldCB7fQogICAgb3BlbiBjbGFzcyBmdW5jIGlsbGVnYWwoKSAtPiBOU011dGFibGVDaGFyYWN0ZXJTZXQge30KICAgIHB1YmxpYyBjbGFzcyBmdW5jIGxldHRlcigpIC0+IE5TTXV0YWJsZUNoYXJhY3RlclNldCB7fQogICAgb3BlbiBjbGFzcyBmdW5jIGxvd2VyY2FzZUxldHRlcigpIC0+IE5TTXV0YWJsZUNoYXJhY3RlclNldCB7fQogICAgb3BlbiBjbGFzcyBmdW5jIG5ld2xpbmUoKSAtPiBOU011dGFibGVDaGFyYWN0ZXJTZXQge30KICAgIG9wZW4gY2xhc3MgZnVuYyBub25CYXNlKCkgLT4gTlNNdXRhYmxlQ2hhcmFjdGVyU2V0IHt9CiAgICBvcGVuIGNsYXNzIGZ1bmMgcHVuY3R1YXRpb24oKSAtPiBOU011dGFibGVDaGFyYWN0ZXJTZXQge30KICAgIG9wZW4gY2xhc3MgZnVuYyBzeW1ib2woKSAtPiBOU011dGFibGVDaGFyYWN0ZXJTZXQge30KICAgIG9wZW4gY2xhc3MgZnVuYyB1cHBlcmNhc2VMZXR0ZXIoKSAtPiBOU011dGFibGVDaGFyYWN0ZXJTZXQge30KICAgIG9wZW4gY2xhc3MgZnVuYyB3aGl0ZXNwYWNlKCkgLT4gTlNNdXRhYmxlQ2hhcmFjdGVyU2V0IHt9CiAgICBvcGVuIGNsYXNzIGZ1bmMgd2hpdGVzcGFjZUFuZE5ld2xpbmUoKSAtPiBOU011dGFibGVDaGFyYWN0ZXJTZXQge30KICAgIG9wZW4gZnVuYyBhZGRDaGFyYWN0ZXJzKGluIGFSYW5nZTogTlNSYW5nZSkge30KICAgIG9wZW4gZnVuYyBmb3JtSW50ZXJzZWN0aW9uKHdpdGggb3RoZXJTZXQ6IENoYXJhY3RlclNldCkge30KICAgIG9wZW4gZnVuYyBmb3JtVW5pb24od2l0aCBvdGhlclNldDogQ2hhcmFjdGVyU2V0KSB7fQogICAgb3BlbiBmdW5jIGludmVydCgpIHt9CiAgICBvcGVuIGZ1bmMgcmVtb3ZlQ2hhcmFjdGVycyhpbiBhUmFuZ2U6IE5TUmFuZ2UpIHt9Cn0Kb3BlbiBjbGFzcyBOU011dGFibGVEYXRhIHsKICAgIHB1YmxpYyBpbml0PyhjYXBhY2l0eTogSW50KSB7fQogICAgcHVibGljIGluaXQ/KGxlbmd0aDogSW50KSB7fQogICAgb3BlbiB2YXIgbXV0YWJsZUJ5dGVzOiBVbnNhZmVNdXRhYmxlUmF3UG9pbnRlciB7IGdldCB9CiAgICBvcGVuIGZ1bmMgYXBwZW5kKF8gb3RoZXI6IERhdGEpIHt9CiAgICBvcGVuIGZ1bmMgYXBwZW5kKF8gYnl0ZXM6IFVuc2FmZVJhd1BvaW50ZXIsIGxlbmd0aDogSW50KSB7fQogICAgb3BlbiBmdW5jIGluY3JlYXNlTGVuZ3RoKGJ5IGV4dHJhTGVuZ3RoOiBJbnQpIHt9CiAgICBvcGVuIGZ1bmMgcmVwbGFjZUJ5dGVzKGluIHJhbmdlOiBOU1JhbmdlLCB3aXRoQnl0ZXMgYnl0ZXM6IFVuc2FmZVJhd1BvaW50ZXIpIHt9CiAgICBvcGVuIGZ1bmMgcmVwbGFjZUJ5dGVzKGluIHJhbmdlOiBOU1JhbmdlLCB3aXRoQnl0ZXMgcmVwbGFjZW1lbnRCeXRlczogVW5zYWZlUmF3UG9pbnRlcj8sIGxlbmd0aCByZXBsYWNlbWVudExlbmd0aDogSW50KSB7fQogICAgb3BlbiBmdW5jIHJlc2V0Qnl0ZXMoaW4gcmFuZ2U6IE5TUmFuZ2UpIHt9CiAgICBvcGVuIGZ1bmMgc2V0RGF0YShfIGRhdGE6IERhdGEpIHt9Cn0Kb3BlbiBjbGFzcyBOU011dGFibGVEaWN0aW9uYXJ5IHsKICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KGNhcGFjaXR5IG51bUl0ZW1zOiBJbnQpIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdChzaGFyZWRLZXlTZXQga2V5c2V0OiBBbnkpIHt9CiAgICBvcGVuIGZ1bmMgYWRkRW50cmllcyhmcm9tIG90aGVyRGljdGlvbmFyeTogW0FueUhhc2hhYmxlOiBBbnldKSB7fQogICAgb3BlbiBmdW5jIHJlbW92ZUFsbE9iamVjdHMoKSB7fQogICAgb3BlbiBmdW5jIHJlbW92ZU9iamVjdChmb3JLZXkgYUtleTogQW55KSB7fQogICAgb3BlbiBmdW5jIHJlbW92ZU9iamVjdHMoZm9yS2V5cyBrZXlBcnJheTogW0FueV0pIHt9CiAgICBvcGVuIGZ1bmMgc2V0RGljdGlvbmFyeShfIG90aGVyRGljdGlvbmFyeTogW0FueUhhc2hhYmxlOiBBbnldKSB7fQogICAgb3BlbiBmdW5jIHNldE9iamVjdChfIGFuT2JqZWN0OiBBbnksIGZvcktleSBhS2V5OiBBbnlIYXNoYWJsZSkge30KfQpvcGVuIGNsYXNzIE5TTXV0YWJsZUluZGV4U2V0IHsKICAgIG9wZW4gZnVuYyBhZGQoXyBpbmRleFNldDogSW5kZXhTZXQpIHt9CiAgICBvcGVuIGZ1bmMgYWRkKGluIHI6IE5TUmFuZ2UpIHt9CiAgICBvcGVuIGZ1bmMgcmVtb3ZlKF8gaW5kZXhTZXQ6IEluZGV4U2V0KSB7fQogICAgb3BlbiBmdW5jIHJlbW92ZShpbiByYW5nZTogTlNSYW5nZSkge30KICAgIG9wZW4gZnVuYyByZW1vdmVBbGxJbmRleGVzKCkge30KICAgIG9wZW4gZnVuYyBzaGlmdEluZGV4ZXNTdGFydGluZyhhdCBpbmRleDogSW50LCBieSBkZWx0YTogSW50KSB7fQp9Cm9wZW4gY2xhc3MgTlNNdXRhYmxlT3JkZXJlZFNldCB7CiAgICBwdWJsaWMgaW5pdChjYXBhY2l0eSBudW1JdGVtczogSW50KSB7fQogICAgb3BlbiBmdW5jIGFkZChfIG9iamVjdDogQW55KSB7fQogICAgb3BlbiBmdW5jIGFkZChfIG9iamVjdHM6IFVuc2FmZVBvaW50ZXI8QW55T2JqZWN0PiEsIGNvdW50OiBJbnQpIHt9CiAgICBvcGVuIGZ1bmMgYWRkT2JqZWN0cyhmcm9tIGFycmF5OiBbQW55XSkge30KICAgIG9wZW4gZnVuYyBleGNoYW5nZU9iamVjdChhdCBpZHgxOiBJbnQsIHdpdGhPYmplY3RBdCBpZHgyOiBJbnQpIHt9CiAgICBvcGVuIGZ1bmMgZmlsdGVyKHVzaW5nIHByZWRpY2F0ZTogTlNQcmVkaWNhdGUpIHt9CiAgICBvcGVuIGZ1bmMgaW5zZXJ0KF8gb2JqZWN0OiBBbnksIGF0IGlkeDogSW50KSB7fQogICAgb3BlbiBmdW5jIGludGVyc2VjdChfIG90aGVyOiBOU09yZGVyZWRTZXQpIHt9CiAgICBvcGVuIGZ1bmMgaW50ZXJzZWN0U2V0KF8gb3RoZXI6IFNldDxBbnlIYXNoYWJsZT4pIHt9CiAgICBvcGVuIGZ1bmMgbWludXMoXyBvdGhlcjogTlNPcmRlcmVkU2V0KSB7fQogICAgb3BlbiBmdW5jIG1pbnVzU2V0KF8gb3RoZXI6IFNldDxBbnlIYXNoYWJsZT4pIHt9CiAgICBvcGVuIGZ1bmMgbW92ZU9iamVjdHMoYXQgaW5kZXhlczogSW5kZXhTZXQsIHRvIGlkeDogSW50KSB7fQogICAgb3BlbiBmdW5jIHJlbW92ZShfIHZhbDogQW55KSB7fQogICAgcHVibGljIGZ1bmMgcmVtb3ZlQWxsT2JqZWN0cygpIHt9CiAgICBvcGVuIGZ1bmMgcmVtb3ZlT2JqZWN0KGF0IGlkeDogSW50KSB7fQogICAgb3BlbiBmdW5jIHJlbW92ZU9iamVjdHMoYXQgaW5kZXhlczogSW5kZXhTZXQpIHt9CiAgICBvcGVuIGZ1bmMgcmVtb3ZlT2JqZWN0cyhpbiBhcnJheTogW0FueV0pIHt9CiAgICBvcGVuIGZ1bmMgcmVwbGFjZU9iamVjdChhdCBpZHg6IEludCwgd2l0aCBvYmo6IEFueSkge30KICAgIG9wZW4gZnVuYyByZXBsYWNlT2JqZWN0cyhhdCBpbmRleGVzOiBJbmRleFNldCwgd2l0aCBvYmplY3RzOiBbQW55XSkge30KICAgIG9wZW4gZnVuYyByZXBsYWNlT2JqZWN0cyhpbiByYW5nZTogTlNSYW5nZSwgd2l0aCBvYmplY3RzOiBVbnNhZmVQb2ludGVyPEFueU9iamVjdD4hLCBjb3VudDogSW50KSB7fQogICAgb3BlbiBmdW5jIHNldE9iamVjdChfIG9iajogQW55LCBhdCBpZHg6IEludCkge30KICAgIG9wZW4gZnVuYyBzb3J0KGNvbXBhcmF0b3IgY21wdHI6IChBbnksIEFueSkgLT4gQ29tcGFyaXNvblJlc3VsdCkge30KICAgIG9wZW4gZnVuYyBzb3J0KG9wdGlvbnMgb3B0czogTlNTb3J0T3B0aW9ucyA9IHgsIHVzaW5nQ29tcGFyYXRvciBjbXB0cjogKEFueSwgQW55KSAtPiBDb21wYXJpc29uUmVzdWx0KSB7fQogICAgcHVibGljIGZ1bmMgc29ydCh1c2luZyBzb3J0RGVzY3JpcHRvcnM6IFtOU1NvcnREZXNjcmlwdG9yXSkge30KICAgIG9wZW4gZnVuYyBzb3J0UmFuZ2UoXyByYW5nZTogTlNSYW5nZSwgb3B0aW9ucyBvcHRzOiBOU1NvcnRPcHRpb25zID0geCwgdXNpbmdDb21wYXJhdG9yIGNtcHRyOiAoQW55LCBBbnkpIC0+IENvbXBhcmlzb25SZXN1bHQpIHt9CiAgICBvcGVuIGZ1bmMgdW5pb24oXyBvdGhlcjogTlNPcmRlcmVkU2V0KSB7fQogICAgb3BlbiBmdW5jIHVuaW9uU2V0KF8gb3RoZXI6IFNldDxBbnlIYXNoYWJsZT4pIHt9Cn0Kb3BlbiBjbGFzcyBOU011dGFibGVTZXQgewogICAgcHVibGljIHJlcXVpcmVkIGluaXQoY2FwYWNpdHkgbnVtSXRlbXM6IEludCkge30KICAgIG9wZW4gZnVuYyBhZGQoXyBvYmplY3Q6IEFueSkge30KICAgIG9wZW4gZnVuYyBhZGRPYmplY3RzKGZyb20gYXJyYXk6IFtBbnldKSB7fQogICAgb3BlbiBmdW5jIGZpbHRlcih1c2luZyBwcmVkaWNhdGU6IE5TUHJlZGljYXRlKSB7fQogICAgb3BlbiBmdW5jIGludGVyc2VjdChfIG90aGVyU2V0OiBTZXQ8QW55SGFzaGFibGU+KSB7fQogICAgb3BlbiBmdW5jIG1pbnVzKF8gb3RoZXJTZXQ6IFNldDxBbnlIYXNoYWJsZT4pIHt9CiAgICBvcGVuIGZ1bmMgcmVtb3ZlKF8gb2JqZWN0OiBBbnkpIHt9CiAgICBvcGVuIGZ1bmMgcmVtb3ZlQWxsT2JqZWN0cygpIHt9CiAgICBvcGVuIGZ1bmMgc2V0U2V0KF8gb3RoZXJTZXQ6IFNldDxBbnlIYXNoYWJsZT4pIHt9CiAgICBvcGVuIGZ1bmMgdW5pb24oXyBvdGhlclNldDogU2V0PEFueUhhc2hhYmxlPikge30KfQpvcGVuIGNsYXNzIE5TTXV0YWJsZVN0cmluZyB7CiAgICBwdWJsaWMgcmVxdWlyZWQgaW5pdChjYXBhY2l0eTogSW50KSB7fQogICAgcHVibGljIGZ1bmMgYXBwZW5kKF8gYVN0cmluZzogU3RyaW5nKSB7fQogICAgcHVibGljIGZ1bmMgYXBwbHlUcmFuc2Zvcm0oXyB0cmFuc2Zvcm06IFN0cmluZywgcmV2ZXJzZTogQm9vbCwgcmFuZ2U6IE5TUmFuZ2UsIHVwZGF0ZWRSYW5nZSByZXN1bHRpbmdSYW5nZTogTlNSYW5nZVBvaW50ZXI/KSAtPiBCb29sIHt9CiAgICBwdWJsaWMgZnVuYyBkZWxldGVDaGFyYWN0ZXJzKGluIHJhbmdlOiBOU1JhbmdlKSB7fQogICAgcHVibGljIGZ1bmMgaW5zZXJ0KF8gYVN0cmluZzogU3RyaW5nLCBhdCBsb2M6IEludCkge30KICAgIG9wZW4gZnVuYyByZXBsYWNlQ2hhcmFjdGVycyhpbiByYW5nZTogTlNSYW5nZSwgd2l0aCBhU3RyaW5nOiBTdHJpbmcpIHt9CiAgICBwdWJsaWMgZnVuYyByZXBsYWNlT2NjdXJyZW5jZXMob2YgdGFyZ2V0OiBTdHJpbmcsIHdpdGggcmVwbGFjZW1lbnQ6IFN0cmluZywgb3B0aW9uczogQ29tcGFyZU9wdGlvbnMgPSB4LCByYW5nZSBzZWFyY2hSYW5nZTogTlNSYW5nZSkgLT4gSW50IHt9CiAgICBwdWJsaWMgZnVuYyBzZXRTdHJpbmcoXyBhU3RyaW5nOiBTdHJpbmcpIHt9Cn0Kb3BlbiBjbGFzcyBOU011dGFibGVVUkxSZXF1ZXN0IHsKICAgIG9wZW4gZnVuYyBhZGRWYWx1ZShfIHZhbHVlOiBTdHJpbmcsIGZvckhUVFBIZWFkZXJGaWVsZCBmaWVsZDogU3RyaW5nKSB7fQogICAgb3BlbiBmdW5jIHNldFZhbHVlKF8gdmFsdWU6IFN0cmluZz8sIGZvckhUVFBIZWFkZXJGaWVsZCBmaWVsZDogU3RyaW5nKSB7fQp9Cm9wZW4gY2xhc3MgTlNOb3RpZmljYXRpb24gewogICAgcHVibGljIGluaXQobmFtZTogTmFtZSwgb2JqZWN0OiBBbnk/LCB1c2VySW5mbzogW0FueUhhc2hhYmxlOiBBbnldPyA9IHgpIHt9CiAgICBvcGVuIHZhciBuYW1lOiBOYW1lIHsgZ2V0IH0KICAgIG9wZW4gdmFyIG9iamVjdDogQW55PyB7IGdldCB9CiAgICBvcGVuIHZhciB1c2VySW5mbzogW0FueUhhc2hhYmxlOiBBbnldPyB7IGdldCB9Cn0Kb3BlbiBjbGFzcyBOU051bGwgewp9Cm9wZW4gY2xhc3MgTlNOdW1iZXIgewogICAgcHVibGljIHJlcXVpcmVkIGNvbnZlbmllbmNlIGluaXQoYm9vbGVhbkxpdGVyYWwgdmFsdWU6IEJvb2wpIHt9CiAgICBwdWJsaWMgcmVxdWlyZWQgY29udmVuaWVuY2UgaW5pdChmbG9hdExpdGVyYWwgdmFsdWU6IERvdWJsZSkge30KICAgIHB1YmxpYyByZXF1aXJlZCBjb252ZW5pZW5jZSBpbml0KGludGVnZXJMaXRlcmFsIHZhbHVlOiBJbnQpIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdCh2YWx1ZTogQm9vbCkge30KICAgIG9wZW4gdmFyIGJvb2xWYWx1ZTogQm9vbCB7IGdldCB9CiAgICBwdWJsaWMgdmFyIGRlY2ltYWxWYWx1ZTogRGVjaW1hbCB7IGdldCB9CiAgICBvcGVuIHZhciBkb3VibGVWYWx1ZTogRG91YmxlIHsgZ2V0IH0KICAgIG9wZW4gdmFyIGZsb2F0VmFsdWU6IEZsb2F0IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGludDE2VmFsdWU6IEludDE2IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGludDMyVmFsdWU6IEludDMyIHsgZ2V0IH0KICAgIG9wZW4gdmFyIGludDY0VmFsdWU6IEludDY0IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGludDhWYWx1ZTogSW50OCB7IGdldCB9CiAgICBvcGVuIHZhciBpbnRWYWx1ZTogSW50IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHN0cmluZ1ZhbHVlOiBTdHJpbmcgeyBnZXQgfQogICAgb3BlbiB2YXIgdWludDE2VmFsdWU6IFVJbnQxNiB7IGdldCB9CiAgICBvcGVuIHZhciB1aW50MzJWYWx1ZTogVUludDMyIHsgZ2V0IH0KICAgIG9wZW4gdmFyIHVpbnQ2NFZhbHVlOiBVSW50NjQgeyBnZXQgfQogICAgb3BlbiB2YXIgdWludDhWYWx1ZTogVUludDggeyBnZXQgfQogICAgb3BlbiB2YXIgdWludFZhbHVlOiBVSW50IHsgZ2V0IH0KICAgIG9wZW4gZnVuYyBjb21wYXJlKF8gb3RoZXJOdW1iZXI6IE5TTnVtYmVyKSAtPiBDb21wYXJpc29uUmVzdWx0IHt9CiAgICBvcGVuIGZ1bmMgZGVzY3JpcHRpb24od2l0aExvY2FsZSBsb2NhbGU6IExvY2FsZT8pIC0+IFN0cmluZyB7fQp9Cm9wZW4gY2xhc3MgTlNPYmplY3QgewogICAgb3BlbiBjbGFzcyBmdW5jIGNsYXNzRmFsbGJhY2tzRm9yS2V5ZWRBcmNoaXZlcigpIC0+IFtTdHJpbmddIHt9CiAgICBvcGVuIGNsYXNzIGZ1bmMgY2xhc3NGb3JLZXllZFVuYXJjaGl2ZXIoKSAtPiBBbnlDbGFzcyB7fQogICAgcHVibGljIGluaXQoKSB7fQogICAgb3BlbiB2YXIgY2xhc3NGb3JDb2RlcjogQW55Q2xhc3MgeyBnZXQgfQogICAgb3BlbiB2YXIgY2xhc3NGb3JLZXllZEFyY2hpdmVyOiBBbnlDbGFzcz8geyBnZXQgfQogICAgb3BlbiB2YXIgaGFzaFZhbHVlOiBJbnQgeyBnZXQgfQogICAgcHVibGljIGZ1bmMgPT0obGhzOiBOU09iamVjdCwgcmhzOiBOU09iamVjdCkgLT4gQm9vbCB7fQogICAgb3BlbiBmdW5jIGNvcHkoKSAtPiBBbnkge30KICAgIG9wZW4gZnVuYyBtdXRhYmxlQ29weSgpIC0+IEFueSB7fQogICAgb3BlbiBmdW5jIHJlcGxhY2VtZW50T2JqZWN0KGZvciBhQ29kZXI6IE5TQ29kZXIpIC0+IEFueT8ge30KICAgIG9wZW4gZnVuYyByZXBsYWNlbWVudE9iamVjdChmb3IgYXJjaGl2ZXI6IE5TS2V5ZWRBcmNoaXZlcikgLT4gQW55PyB7fQp9Cm9wZW4gY2xhc3MgTlNPcmRlcmVkU2V0IHsKICAgIHB1YmxpYyBzdGF0aWMgdmFyIHN1cHBvcnRzU2VjdXJlQ29kaW5nOiBCb29sIHsgZ2V0IH0KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KCkge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KGFycmF5OiBbQW55XSkge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KGFycmF5IHNldDogW0FueV0sIGNvcHlJdGVtcyBmbGFnOiBCb29sKSB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQoYXJyYXkgc2V0OiBbQW55XSwgcmFuZ2U6IE5TUmFuZ2UsIGNvcHlJdGVtcyBmbGFnOiBCb29sKSB7fQogICAgcHVibGljIHJlcXVpcmVkIGNvbnZlbmllbmNlIGluaXQoYXJyYXlMaXRlcmFsIGVsZW1lbnRzOiBBbnkuLi4pIHt9CiAgICBwdWJsaWMgcmVxdWlyZWQgY29udmVuaWVuY2UgaW5pdD8oY29kZXIgYURlY29kZXI6IE5TQ29kZXIpIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdChvYmplY3Q6IEFueSkge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KG9iamVjdHMgZWxlbWVudHM6IEFueS4uLikge30KICAgIHB1YmxpYyBpbml0KG9iamVjdHM6IFVuc2FmZVBvaW50ZXI8QW55T2JqZWN0PiEsIGNvdW50IGNudDogSW50KSB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQob3JkZXJlZFNldCBzZXQ6IE5TT3JkZXJlZFNldCkge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KG9yZGVyZWRTZXQgc2V0OiBOU09yZGVyZWRTZXQsIGNvcHlJdGVtcyBmbGFnOiBCb29sKSB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQob3JkZXJlZFNldCBzZXQ6IE5TT3JkZXJlZFNldCwgcmFuZ2U6IE5TUmFuZ2UsIGNvcHlJdGVtcyBmbGFnOiBCb29sKSB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQoc2V0OiBTZXQ8QW55SGFzaGFibGU+KSB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQoc2V0OiBTZXQ8QW55SGFzaGFibGU+LCBjb3B5SXRlbXMgZmxhZzogQm9vbCkge30KICAgIHB1YmxpYyB2YXIgYXJyYXk6IFtBbnldIHsgZ2V0IH0KICAgIG9wZW4gdmFyIGNvdW50OiBJbnQgeyBnZXQgfQogICAgcHVibGljIHZhciBmaXJzdE9iamVjdDogQW55PyB7IGdldCB9CiAgICBwdWJsaWMgdmFyIGxhc3RPYmplY3Q6IEFueT8geyBnZXQgfQogICAgcHVibGljIHZhciByZXZlcnNlZDogTlNPcmRlcmVkU2V0IHsgZ2V0IH0KICAgIHB1YmxpYyB2YXIgc2V0OiBTZXQ8QW55SGFzaGFibGU+IHsgZ2V0IH0KICAgIG9wZW4gc3Vic2NyaXB0KGlkeDogSW50KSAtPiBBbnkgeyBnZXQgfSB7fQogICAgb3BlbiBmdW5jIGNvbnRhaW5zKF8gb2JqZWN0OiBBbnkpIC0+IEJvb2wge30KICAgIG9wZW4gZnVuYyBjb3B5KCkgLT4gQW55IHt9CiAgICBvcGVuIGZ1bmMgY29weSh3aXRoIHpvbmU6IE5TWm9uZT8gPSB4KSAtPiBBbnkge30KICAgIHB1YmxpYyBmdW5jIGRlc2NyaXB0aW9uKHdpdGhMb2NhbGUgbG9jYWxlOiBMb2NhbGU/KSAtPiBTdHJpbmcge30KICAgIHB1YmxpYyBmdW5jIGRlc2NyaXB0aW9uKHdpdGhMb2NhbGUgbG9jYWxlOiBMb2NhbGU/LCBpbmRlbnQgbGV2ZWw6IEludCkgLT4gU3RyaW5nIHt9CiAgICBvcGVuIGZ1bmMgZW5jb2RlKHdpdGggYUNvZGVyOiBOU0NvZGVyKSB7fQogICAgb3BlbiBmdW5jIGVudW1lcmF0ZU9iamVjdHMoXyBibG9jazogKEFueSwgSW50LCBVbnNhZmVNdXRhYmxlUG9pbnRlcjxPYmpDQm9vbD4pIC0+IFN3aWZ0LlZvaWQpIHt9CiAgICBvcGVuIGZ1bmMgZW51bWVyYXRlT2JqZWN0cyhhdCBzOiBJbmRleFNldCwgb3B0aW9ucyBvcHRzOiBOU0VudW1lcmF0aW9uT3B0aW9ucyA9IHgsIHVzaW5nIGJsb2NrOiAoQW55LCBJbnQsIFVuc2FmZU11dGFibGVQb2ludGVyPE9iakNCb29sPikgLT4gU3dpZnQuVm9pZCkge30KICAgIG9wZW4gZnVuYyBlbnVtZXJhdGVPYmplY3RzKG9wdGlvbnMgb3B0czogTlNFbnVtZXJhdGlvbk9wdGlvbnMgPSB4LCB1c2luZyBibG9jazogKEFueSwgSW50LCBVbnNhZmVNdXRhYmxlUG9pbnRlcjxPYmpDQm9vbD4pIC0+IFN3aWZ0LlZvaWQpIHt9CiAgICBvcGVuIGZ1bmMgZmlsdGVyZWQodXNpbmcgcHJlZGljYXRlOiBOU1ByZWRpY2F0ZSkgLT4gTlNPcmRlcmVkU2V0IHt9CiAgICBwdWJsaWMgZnVuYyBnZXRPYmplY3RzKF8gb2JqZWN0czogaW5vdXQgW0FueU9iamVjdF0sIHJhbmdlOiBOU1JhbmdlKSB7fQogICAgb3BlbiBmdW5jIGluZGV4KF8gb3B0czogTlNFbnVtZXJhdGlvbk9wdGlvbnMgPSB4LCBvZk9iamVjdFBhc3NpbmdUZXN0IHByZWRpY2F0ZTogKEFueSwgSW50LCBVbnNhZmVNdXRhYmxlUG9pbnRlcjxPYmpDQm9vbD4pIC0+IEJvb2wpIC0+IEludCB7fQogICAgb3BlbiBmdW5jIGluZGV4KG9mIG9iamVjdDogQW55KSAtPiBJbnQge30KICAgIG9wZW4gZnVuYyBpbmRleChvZiBvYmplY3Q6IEFueSwgaW5Tb3J0ZWRSYW5nZSByYW5nZTogTlNSYW5nZSwgb3B0aW9ucyBvcHRzOiBOU0JpbmFyeVNlYXJjaGluZ09wdGlvbnMgPSB4LCB1c2luZ0NvbXBhcmF0b3IgY21wOiAoQW55LCBBbnkpIC0+IENvbXBhcmlzb25SZXN1bHQpIC0+IEludCB7fQogICAgb3BlbiBmdW5jIGluZGV4KG9mT2JqZWN0QXQgczogSW5kZXhTZXQsIG9wdGlvbnMgb3B0czogTlNFbnVtZXJhdGlvbk9wdGlvbnMgPSB4LCBwYXNzaW5nVGVzdCBwcmVkaWNhdGU6IChBbnksIEludCwgVW5zYWZlTXV0YWJsZVBvaW50ZXI8T2JqQ0Jvb2w+KSAtPiBCb29sKSAtPiBJbnQge30KICAgIG9wZW4gZnVuYyBpbmRleChvZk9iamVjdFBhc3NpbmdUZXN0IHByZWRpY2F0ZTogKEFueSwgSW50LCBVbnNhZmVNdXRhYmxlUG9pbnRlcjxPYmpDQm9vbD4pIC0+IEJvb2wpIC0+IEludCB7fQogICAgb3BlbiBmdW5jIGluZGV4ZXMob2ZPYmplY3RzQXQgczogSW5kZXhTZXQsIG9wdGlvbnMgb3B0czogTlNFbnVtZXJhdGlvbk9wdGlvbnMgPSB4LCBwYXNzaW5nVGVzdCBwcmVkaWNhdGU6IChBbnksIEludCwgVW5zYWZlTXV0YWJsZVBvaW50ZXI8T2JqQ0Jvb2w+KSAtPiBCb29sKSAtPiBJbmRleFNldCB7fQogICAgb3BlbiBmdW5jIGluZGV4ZXMob2ZPYmplY3RzUGFzc2luZ1Rlc3QgcHJlZGljYXRlOiAoQW55LCBJbnQsIFVuc2FmZU11dGFibGVQb2ludGVyPE9iakNCb29sPikgLT4gQm9vbCkgLT4gSW5kZXhTZXQge30KICAgIG9wZW4gZnVuYyBpbmRleGVzKG9wdGlvbnMgb3B0czogTlNFbnVtZXJhdGlvbk9wdGlvbnMgPSB4LCBvZk9iamVjdHNQYXNzaW5nVGVzdCBwcmVkaWNhdGU6IChBbnksIEludCwgVW5zYWZlTXV0YWJsZVBvaW50ZXI8T2JqQ0Jvb2w+KSAtPiBCb29sKSAtPiBJbmRleFNldCB7fQogICAgb3BlbiBmdW5jIGludGVyc2VjdHMoXyBvdGhlcjogTlNPcmRlcmVkU2V0KSAtPiBCb29sIHt9CiAgICBvcGVuIGZ1bmMgaW50ZXJzZWN0c1NldChfIHNldDogU2V0PEFueUhhc2hhYmxlPikgLT4gQm9vbCB7fQogICAgb3BlbiBmdW5jIGlzRXF1YWwoXyBvYmplY3Q6IEFueT8pIC0+IEJvb2wge30KICAgIG9wZW4gZnVuYyBpc0VxdWFsKHRvIG90aGVyOiBOU09yZGVyZWRTZXQpIC0+IEJvb2wge30KICAgIG9wZW4gZnVuYyBpc1N1YnNldChvZiBvdGhlcjogTlNPcmRlcmVkU2V0KSAtPiBCb29sIHt9CiAgICBwdWJsaWMgZnVuYyBtYWtlSXRlcmF0b3IoKSAtPiBJdGVyYXRvciB7fQogICAgb3BlbiBmdW5jIG11dGFibGVDb3B5KCkgLT4gQW55IHt9CiAgICBvcGVuIGZ1bmMgbXV0YWJsZUNvcHkod2l0aCB6b25lOiBOU1pvbmU/ID0geCkgLT4gQW55IHt9CiAgICBvcGVuIGZ1bmMgb2JqZWN0KGF0IGlkeDogSW50KSAtPiBBbnkge30KICAgIHB1YmxpYyBmdW5jIG9iamVjdEVudW1lcmF0b3IoKSAtPiBOU0VudW1lcmF0b3Ige30KICAgIG9wZW4gZnVuYyBvYmplY3RzKGF0IGluZGV4ZXM6IEluZGV4U2V0KSAtPiBbQW55XSB7fQogICAgcHVibGljIGZ1bmMgcmV2ZXJzZU9iamVjdEVudW1lcmF0b3IoKSAtPiBOU0VudW1lcmF0b3Ige30KICAgIG9wZW4gZnVuYyBzb3J0ZWRBcnJheShjb21wYXJhdG9yIGNtcHRyOiAoQW55LCBBbnkpIC0+IENvbXBhcmlzb25SZXN1bHQpIC0+IFtBbnldIHt9CiAgICBvcGVuIGZ1bmMgc29ydGVkQXJyYXkob3B0aW9ucyBvcHRzOiBOU1NvcnRPcHRpb25zID0geCwgdXNpbmdDb21wYXJhdG9yIGNtcHRyOiAoQW55LCBBbnkpIC0+IENvbXBhcmlzb25SZXN1bHQpIC0+IFtBbnldIHt9CiAgICBwdWJsaWMgZnVuYyBzb3J0ZWRBcnJheSh1c2luZyBzb3J0RGVzY3JpcHRvcnM6IFtOU1NvcnREZXNjcmlwdG9yXSkgLT4gW0FueV0ge30KfQpvcGVuIGNsYXNzIE5TUGVyc29uTmFtZUNvbXBvbmVudHMgewogICAgb3BlbiB2YXIgZmFtaWx5TmFtZTogU3RyaW5nPyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgZ2l2ZW5OYW1lOiBTdHJpbmc/IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBtaWRkbGVOYW1lOiBTdHJpbmc/IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBuYW1lUHJlZml4OiBTdHJpbmc/IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBuYW1lU3VmZml4OiBTdHJpbmc/IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBuaWNrbmFtZTogU3RyaW5nPyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgcGhvbmV0aWNSZXByZXNlbnRhdGlvbjogUGVyc29uTmFtZUNvbXBvbmVudHM/IHsgZ2V0IHNldCB9Cn0Kb3BlbiBjbGFzcyBOU1ByZWRpY2F0ZSB7CiAgICBwdWJsaWMgaW5pdChibG9jazogQGVzY2FwaW5nIChBbnk/LCBbU3RyaW5nOiBBbnldPykgLT4gQm9vbCkge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KGZvcm1hdCBwcmVkaWNhdGVGb3JtYXQ6IFN0cmluZywgXyBhcmdzOiBDVmFyQXJnLi4uKSB7fQogICAgcHVibGljIGluaXQoZm9ybWF0IHByZWRpY2F0ZUZvcm1hdDogU3RyaW5nLCBhcmd1bWVudEFycmF5IGFyZ3VtZW50czogW0FueV0/KSB7fQogICAgcHVibGljIGluaXQoZm9ybWF0IHByZWRpY2F0ZUZvcm1hdDogU3RyaW5nLCBhcmd1bWVudHMgYXJnTGlzdDogQ1ZhTGlzdFBvaW50ZXIpIHt9CiAgICBwdWJsaWMgaW5pdD8oZnJvbU1ldGFkYXRhUXVlcnlTdHJpbmcgcXVlcnlTdHJpbmc6IFN0cmluZykge30KICAgIHB1YmxpYyBpbml0KHZhbHVlOiBCb29sKSB7fQogICAgb3BlbiB2YXIgcHJlZGljYXRlRm9ybWF0OiBTdHJpbmcgeyBnZXQgfQogICAgb3BlbiBmdW5jIGFsbG93RXZhbHVhdGlvbigpIHt9CiAgICBvcGVuIGZ1bmMgZXZhbHVhdGUod2l0aCBvYmplY3Q6IEFueT8pIC0+IEJvb2wge30KICAgIG9wZW4gZnVuYyBldmFsdWF0ZSh3aXRoIG9iamVjdDogQW55Pywgc3Vic3RpdHV0aW9uVmFyaWFibGVzIGJpbmRpbmdzOiBbU3RyaW5nOiBBbnldPykgLT4gQm9vbCB7fQogICAgb3BlbiBmdW5jIHdpdGhTdWJzdGl0dXRpb25WYXJpYWJsZXMoXyB2YXJpYWJsZXM6IFtTdHJpbmc6IEFueV0pIC0+IFNlbGYge30KfQpvcGVuIGNsYXNzIE5TUmVjdXJzaXZlTG9jayB7CiAgICBvcGVuIHZhciBuYW1lOiBTdHJpbmc/IHsgZ2V0IHNldCB9CiAgICBvcGVuIGZ1bmMgbG9jayhiZWZvcmUgbGltaXQ6IERhdGUpIC0+IEJvb2wge30KICAgIG9wZW4gZnVuYyB0cnkoKSAtPiBCb29sIHt9Cn0Kb3BlbiBjbGFzcyBOU1JlZ3VsYXJFeHByZXNzaW9uIHsKICAgIG9wZW4gY2xhc3MgZnVuYyBlc2NhcGVkUGF0dGVybihmb3Igc3RyaW5nOiBTdHJpbmcpIC0+IFN0cmluZyB7fQogICAgb3BlbiBjbGFzcyBmdW5jIGVzY2FwZWRUZW1wbGF0ZShmb3Igc3RyaW5nOiBTdHJpbmcpIC0+IFN0cmluZyB7fQogICAgcHVibGljIGluaXQocGF0dGVybjogU3RyaW5nLCBvcHRpb25zOiBPcHRpb25zID0geCkgdGhyb3dzIHt9CiAgICBvcGVuIHZhciBudW1iZXJPZkNhcHR1cmVHcm91cHM6IEludCB7IGdldCB9CiAgICBvcGVuIHZhciBvcHRpb25zOiBPcHRpb25zIHsgZ2V0IH0KICAgIG9wZW4gdmFyIHBhdHRlcm46IFN0cmluZyB7IGdldCB9CiAgICBwdWJsaWMgZnVuYyBlbnVtZXJhdGVNYXRjaGVzKGluIHN0cmluZzogU3RyaW5nLCBvcHRpb25zOiBOU1JlZ3VsYXJFeHByZXNzaW9uLk1hdGNoaW5nT3B0aW9ucyA9IHgsIHJhbmdlOiBOU1JhbmdlLCB1c2luZyBibG9jazogQGVzY2FwaW5nIChOU1RleHRDaGVja2luZ1Jlc3VsdD8sIE5TUmVndWxhckV4cHJlc3Npb24uTWF0Y2hpbmdGbGFncywgVW5zYWZlTXV0YWJsZVBvaW50ZXI8T2JqQ0Jvb2w+KSAtPiBTd2lmdC5Wb2lkKSB7fQogICAgcHVibGljIGZ1bmMgZmlyc3RNYXRjaChpbiBzdHJpbmc6IFN0cmluZywgb3B0aW9uczogTlNSZWd1bGFyRXhwcmVzc2lvbi5NYXRjaGluZ09wdGlvbnMgPSB4LCByYW5nZTogTlNSYW5nZSkgLT4gTlNUZXh0Q2hlY2tpbmdSZXN1bHQ/IHt9CiAgICBwdWJsaWMgZnVuYyBtYXRjaGVzKGluIHN0cmluZzogU3RyaW5nLCBvcHRpb25zOiBOU1JlZ3VsYXJFeHByZXNzaW9uLk1hdGNoaW5nT3B0aW9ucyA9IHgsIHJhbmdlOiBOU1JhbmdlKSAtPiBbTlNUZXh0Q2hlY2tpbmdSZXN1bHRdIHt9CiAgICBwdWJsaWMgZnVuYyBudW1iZXJPZk1hdGNoZXMoaW4gc3RyaW5nOiBTdHJpbmcsIG9wdGlvbnM6IE5TUmVndWxhckV4cHJlc3Npb24uTWF0Y2hpbmdPcHRpb25zID0geCwgcmFuZ2U6IE5TUmFuZ2UpIC0+IEludCB7fQogICAgcHVibGljIGZ1bmMgcmFuZ2VPZkZpcnN0TWF0Y2goaW4gc3RyaW5nOiBTdHJpbmcsIG9wdGlvbnM6IE5TUmVndWxhckV4cHJlc3Npb24uTWF0Y2hpbmdPcHRpb25zID0geCwgcmFuZ2U6IE5TUmFuZ2UpIC0+IE5TUmFuZ2Uge30KICAgIHB1YmxpYyBmdW5jIHJlcGxhY2VNYXRjaGVzKGluIHN0cmluZzogTlNNdXRhYmxlU3RyaW5nLCBvcHRpb25zOiBOU1JlZ3VsYXJFeHByZXNzaW9uLk1hdGNoaW5nT3B0aW9ucyA9IHgsIHJhbmdlOiBOU1JhbmdlLCB3aXRoVGVtcGxhdGUgdGVtcGw6IFN0cmluZykgLT4gSW50IHt9CiAgICBwdWJsaWMgZnVuYyByZXBsYWNlbWVudFN0cmluZyhmb3IgcmVzdWx0OiBOU1RleHRDaGVja2luZ1Jlc3VsdCwgaW4gc3RyaW5nOiBTdHJpbmcsIG9mZnNldDogSW50LCB0ZW1wbGF0ZSB0ZW1wbDogU3RyaW5nKSAtPiBTdHJpbmcge30KICAgIHB1YmxpYyBmdW5jIHN0cmluZ0J5UmVwbGFjaW5nTWF0Y2hlcyhpbiBzdHJpbmc6IFN0cmluZywgb3B0aW9uczogTlNSZWd1bGFyRXhwcmVzc2lvbi5NYXRjaGluZ09wdGlvbnMgPSB4LCByYW5nZTogTlNSYW5nZSwgd2l0aFRlbXBsYXRlIHRlbXBsOiBTdHJpbmcpIC0+IFN0cmluZyB7fQp9Cm9wZW4gY2xhc3MgTlNTZXQgewogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQoYXJyYXk6IFtBbnldKSB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQob2JqZWN0OiBBbnkpIHt9CiAgICBwdWJsaWMgaW5pdChvYmplY3RzOiBVbnNhZmVQb2ludGVyPEFueU9iamVjdD4hLCBjb3VudCBjbnQ6IEludCkge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KHNldDogU2V0PEFueUhhc2hhYmxlPikge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KHNldDogU2V0PEFueUhhc2hhYmxlPiwgY29weUl0ZW1zIGZsYWc6IEJvb2wpIHt9CiAgICBvcGVuIHZhciBhbGxPYmplY3RzOiBbQW55XSB7IGdldCB9CiAgICBvcGVuIHZhciBjb3VudDogSW50IHsgZ2V0IH0KICAgIHB1YmxpYyB2YXIgY3VzdG9tTWlycm9yOiBNaXJyb3IgeyBnZXQgfQogICAgb3BlbiBmdW5jIGFkZGluZyhfIGFuT2JqZWN0OiBBbnkpIC0+IFNldDxBbnlIYXNoYWJsZT4ge30KICAgIG9wZW4gZnVuYyBhZGRpbmdPYmplY3RzKGZyb20gb3RoZXI6IFNldDxBbnlIYXNoYWJsZT4pIC0+IFNldDxBbnlIYXNoYWJsZT4ge30KICAgIG9wZW4gZnVuYyBhbnlPYmplY3QoKSAtPiBBbnk/IHt9CiAgICBvcGVuIGZ1bmMgY29udGFpbnMoXyBhbk9iamVjdDogQW55KSAtPiBCb29sIHt9CiAgICBvcGVuIGZ1bmMgZGVzY3JpcHRpb24od2l0aExvY2FsZSBsb2NhbGU6IExvY2FsZT8pIC0+IFN0cmluZyB7fQogICAgb3BlbiBmdW5jIGVudW1lcmF0ZU9iamVjdHMoXyBibG9jazogKEFueSwgVW5zYWZlTXV0YWJsZVBvaW50ZXI8T2JqQ0Jvb2w+KSAtPiBTd2lmdC5Wb2lkKSB7fQogICAgb3BlbiBmdW5jIGVudW1lcmF0ZU9iamVjdHMob3B0aW9ucyBvcHRzOiBOU0VudW1lcmF0aW9uT3B0aW9ucyA9IHgsIHVzaW5nIGJsb2NrOiAoQW55LCBVbnNhZmVNdXRhYmxlUG9pbnRlcjxPYmpDQm9vbD4pIC0+IFN3aWZ0LlZvaWQpIHt9CiAgICBvcGVuIGZ1bmMgZmlsdGVyZWQodXNpbmcgcHJlZGljYXRlOiBOU1ByZWRpY2F0ZSkgLT4gU2V0PEFueUhhc2hhYmxlPiB7fQogICAgb3BlbiBmdW5jIGludGVyc2VjdHMoXyBvdGhlclNldDogU2V0PEFueUhhc2hhYmxlPikgLT4gQm9vbCB7fQogICAgb3BlbiBmdW5jIGlzRXF1YWwodG8gb3RoZXJTZXQ6IFNldDxBbnlIYXNoYWJsZT4pIC0+IEJvb2wge30KICAgIG9wZW4gZnVuYyBpc1N1YnNldChvZiBvdGhlclNldDogU2V0PEFueUhhc2hhYmxlPikgLT4gQm9vbCB7fQogICAgcHVibGljIGZ1bmMgbWFrZUl0ZXJhdG9yKCkgLT4gSXRlcmF0b3Ige30KICAgIG9wZW4gZnVuYyBtZW1iZXIoXyBvYmplY3Q6IEFueSkgLT4gQW55PyB7fQogICAgb3BlbiBmdW5jIG9iamVjdEVudW1lcmF0b3IoKSAtPiBOU0VudW1lcmF0b3Ige30KICAgIG9wZW4gZnVuYyBvYmplY3RzKG9wdGlvbnMgb3B0czogTlNFbnVtZXJhdGlvbk9wdGlvbnMgPSB4LCBwYXNzaW5nVGVzdCBwcmVkaWNhdGU6IChBbnksIFVuc2FmZU11dGFibGVQb2ludGVyPE9iakNCb29sPikgLT4gQm9vbCkgLT4gU2V0PEFueUhhc2hhYmxlPiB7fQogICAgb3BlbiBmdW5jIG9iamVjdHMocGFzc2luZ1Rlc3QgcHJlZGljYXRlOiAoQW55LCBVbnNhZmVNdXRhYmxlUG9pbnRlcjxPYmpDQm9vbD4pIC0+IEJvb2wpIC0+IFNldDxBbnlIYXNoYWJsZT4ge30KICAgIHB1YmxpYyBmdW5jIHNvcnRlZEFycmF5KHVzaW5nIHNvcnREZXNjcmlwdG9yczogW05TU29ydERlc2NyaXB0b3JdKSAtPiBbQW55XSB7fQp9Cm9wZW4gY2xhc3MgTlNTb3J0RGVzY3JpcHRvciB7CiAgICBwdWJsaWMgaW5pdChrZXk6IFN0cmluZz8sIGFzY2VuZGluZzogQm9vbCkge30KICAgIHB1YmxpYyBpbml0KGtleTogU3RyaW5nPywgYXNjZW5kaW5nOiBCb29sLCBjb21wYXJhdG9yIGNtcHRyOiBDb21wYXJhdG9yKSB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQ8Um9vdCwgVmFsdWU+KGtleVBhdGg6IEtleVBhdGg8Um9vdCwgVmFsdWU+LCBhc2NlbmRpbmc6IEJvb2wpIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdDxSb290LCBWYWx1ZT4oa2V5UGF0aDogS2V5UGF0aDxSb290LCBWYWx1ZT4sIGFzY2VuZGluZzogQm9vbCwgY29tcGFyYXRvciBjbXB0cjogQGVzY2FwaW5nIENvbXBhcmF0b3IpIHt9CiAgICBvcGVuIHZhciBhc2NlbmRpbmc6IEJvb2wgeyBnZXQgfQogICAgb3BlbiB2YXIgY29tcGFyYXRvcjogQ29tcGFyYXRvciB7IGdldCB9CiAgICBvcGVuIHZhciBrZXk6IFN0cmluZz8geyBnZXQgfQogICAgcHVibGljIHZhciBrZXlQYXRoOiBBbnlLZXlQYXRoPyB7IGdldCB9CiAgICBvcGVuIHZhciByZXZlcnNlZFNvcnREZXNjcmlwdG9yOiBBbnkgeyBnZXQgfQogICAgb3BlbiBmdW5jIGFsbG93RXZhbHVhdGlvbigpIHt9CiAgICBvcGVuIGZ1bmMgY29tcGFyZShfIG9iamVjdDE6IEFueSwgdG8gb2JqZWN0MjogQW55KSAtPiBDb21wYXJpc29uUmVzdWx0IHt9Cn0Kb3BlbiBjbGFzcyBOU1N0cmluZyB7CiAgICBvcGVuIGNsYXNzIHZhciBhdmFpbGFibGVTdHJpbmdFbmNvZGluZ3M6IFVuc2FmZVBvaW50ZXI8VUludD4geyBnZXQgfQogICAgb3BlbiBjbGFzcyB2YXIgZGVmYXVsdENTdHJpbmdFbmNvZGluZzogVUludCB7IGdldCB9CiAgICBvcGVuIGNsYXNzIGZ1bmMgbG9jYWxpemVkTmFtZShvZiBlbmNvZGluZzogVUludCkgLT4gU3RyaW5nIHt9CiAgICBwdWJsaWMgc3RhdGljIGZ1bmMgcGF0aFdpdGhDb21wb25lbnRzKF8gY29tcG9uZW50czogW1N0cmluZ10pIC0+IFN0cmluZyB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQ/KGJ5dGVzOiBVbnNhZmVSYXdQb2ludGVyLCBsZW5ndGggbGVuOiBJbnQsIGVuY29kaW5nOiBVSW50KSB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQ/KGJ5dGVzTm9Db3B5IGJ5dGVzOiBVbnNhZmVNdXRhYmxlUmF3UG9pbnRlciwgbGVuZ3RoIGxlbjogSW50LCBlbmNvZGluZzogVUludCwgZnJlZVdoZW5Eb25lIGZyZWVCdWZmZXI6IEJvb2wpIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdD8oY1N0cmluZyBudWxsVGVybWluYXRlZENTdHJpbmc6IFVuc2FmZVBvaW50ZXI8SW50OD4sIGVuY29kaW5nOiBVSW50KSB7fQogICAgcHVibGljIGluaXQoY2hhcmFjdGVyczogVW5zYWZlUG9pbnRlcjx1bmljaGFyPiwgbGVuZ3RoOiBJbnQpIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdChjaGFyYWN0ZXJzTm9Db3B5IGNoYXJhY3RlcnM6IFVuc2FmZU11dGFibGVQb2ludGVyPHVuaWNoYXI+LCBsZW5ndGg6IEludCwgZnJlZVdoZW5Eb25lIGZyZWVCdWZmZXI6IEJvb2wpIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdChjb250ZW50c09mIHVybDogVVJMLCBlbmNvZGluZyBlbmM6IFVJbnQpIHRocm93cyB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQoY29udGVudHNPZiB1cmw6IFVSTCwgdXNlZEVuY29kaW5nIGVuYzogVW5zYWZlTXV0YWJsZVBvaW50ZXI8VUludD4/KSB0aHJvd3Mge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KGNvbnRlbnRzT2ZGaWxlIHBhdGg6IFN0cmluZywgZW5jb2RpbmcgZW5jOiBVSW50KSB0aHJvd3Mge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KGNvbnRlbnRzT2ZGaWxlIHBhdGg6IFN0cmluZywgdXNlZEVuY29kaW5nIGVuYzogVW5zYWZlTXV0YWJsZVBvaW50ZXI8VUludD4/KSB0aHJvd3Mge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0PyhkYXRhOiBEYXRhLCBlbmNvZGluZzogVUludCkge30KICAgIHB1YmxpYyByZXF1aXJlZCBjb252ZW5pZW5jZSBpbml0KGV4dGVuZGVkR3JhcGhlbWVDbHVzdGVyTGl0ZXJhbCB2YWx1ZTogU3RhdGljU3RyaW5nKSB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQoZm9ybWF0OiBOU1N0cmluZywgXyBhcmdzOiBDVmFyQXJnLi4uKSB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQoZm9ybWF0OiBTdHJpbmcsIGFyZ3VtZW50cyBhcmdMaXN0OiBDVmFMaXN0UG9pbnRlcikge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KGZvcm1hdDogU3RyaW5nLCBsb2NhbGU6IEFueU9iamVjdD8sIGFyZ3VtZW50cyBhcmdMaXN0OiBDVmFMaXN0UG9pbnRlcikge30KICAgIHB1YmxpYyByZXF1aXJlZCBjb252ZW5pZW5jZSBpbml0KHN0cmluZyBhU3RyaW5nOiBTdHJpbmcpIHt9CiAgICBwdWJsaWMgcmVxdWlyZWQgaW5pdChzdHJpbmdMaXRlcmFsIHZhbHVlOiBTdGF0aWNTdHJpbmcpIHt9CiAgICBwdWJsaWMgcmVxdWlyZWQgY29udmVuaWVuY2UgaW5pdCh1bmljb2RlU2NhbGFyTGl0ZXJhbCB2YWx1ZTogU3RhdGljU3RyaW5nKSB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQ/KHV0ZjhTdHJpbmcgbnVsbFRlcm1pbmF0ZWRDU3RyaW5nOiBVbnNhZmVQb2ludGVyPEludDg+KSB7fQogICAgcHVibGljIHZhciBib29sVmFsdWU6IEJvb2wgeyBnZXQgfQogICAgcHVibGljIHZhciBjYXBpdGFsaXplZDogU3RyaW5nIHsgZ2V0IH0KICAgIG9wZW4gdmFyIGRlY29tcG9zZWRTdHJpbmdXaXRoQ2Fub25pY2FsTWFwcGluZzogU3RyaW5nIHsgZ2V0IH0KICAgIG9wZW4gdmFyIGRlY29tcG9zZWRTdHJpbmdXaXRoQ29tcGF0aWJpbGl0eU1hcHBpbmc6IFN0cmluZyB7IGdldCB9CiAgICBwdWJsaWMgdmFyIGRlbGV0aW5nTGFzdFBhdGhDb21wb25lbnQ6IFN0cmluZyB7IGdldCB9CiAgICBwdWJsaWMgdmFyIGRlbGV0aW5nUGF0aEV4dGVuc2lvbjogU3RyaW5nIHsgZ2V0IH0KICAgIHB1YmxpYyB2YXIgZG91YmxlVmFsdWU6IERvdWJsZSB7IGdldCB9CiAgICBwdWJsaWMgdmFyIGV4cGFuZGluZ1RpbGRlSW5QYXRoOiBTdHJpbmcgeyBnZXQgfQogICAgcHVibGljIHZhciBmYXN0ZXN0RW5jb2Rpbmc6IFVJbnQgeyBnZXQgfQogICAgcHVibGljIHZhciBmaWxlU3lzdGVtUmVwcmVzZW50YXRpb246IFVuc2FmZVBvaW50ZXI8SW50OD4geyBnZXQgfQogICAgcHVibGljIHZhciBmbG9hdFZhbHVlOiBGbG9hdCB7IGdldCB9CiAgICBwdWJsaWMgdmFyIGludFZhbHVlOiBJbnQzMiB7IGdldCB9CiAgICBwdWJsaWMgdmFyIGludGVnZXJWYWx1ZTogSW50IHsgZ2V0IH0KICAgIHB1YmxpYyB2YXIgaXNBYnNvbHV0ZVBhdGg6IEJvb2wgeyBnZXQgfQogICAgcHVibGljIHZhciBsYXN0UGF0aENvbXBvbmVudDogU3RyaW5nIHsgZ2V0IH0KICAgIG9wZW4gdmFyIGxlbmd0aDogSW50IHsgZ2V0IH0KICAgIHB1YmxpYyB2YXIgbG9jYWxpemVkQ2FwaXRhbGl6ZWQ6IFN0cmluZyB7IGdldCB9CiAgICBwdWJsaWMgdmFyIGxvY2FsaXplZExvd2VyY2FzZTogU3RyaW5nIHsgZ2V0IH0KICAgIHB1YmxpYyB2YXIgbG9jYWxpemVkVXBwZXJjYXNlOiBTdHJpbmcgeyBnZXQgfQogICAgcHVibGljIHZhciBsb25nTG9uZ1ZhbHVlOiBJbnQ2NCB7IGdldCB9CiAgICBwdWJsaWMgdmFyIGxvd2VyY2FzZWQ6IFN0cmluZyB7IGdldCB9CiAgICBwdWJsaWMgdmFyIHBhdGhDb21wb25lbnRzOiBbU3RyaW5nXSB7IGdldCB9CiAgICBwdWJsaWMgdmFyIHBhdGhFeHRlbnNpb246IFN0cmluZyB7IGdldCB9CiAgICBvcGVuIHZhciBwcmVjb21wb3NlZFN0cmluZ1dpdGhDYW5vbmljYWxNYXBwaW5nOiBTdHJpbmcgeyBnZXQgfQogICAgb3BlbiB2YXIgcHJlY29tcG9zZWRTdHJpbmdXaXRoQ29tcGF0aWJpbGl0eU1hcHBpbmc6IFN0cmluZyB7IGdldCB9CiAgICBvcGVuIHZhciByZW1vdmluZ1BlcmNlbnRFbmNvZGluZzogU3RyaW5nPyB7IGdldCB9CiAgICBwdWJsaWMgdmFyIHJlc29sdmluZ1N5bWxpbmtzSW5QYXRoOiBTdHJpbmcgeyBnZXQgfQogICAgcHVibGljIHZhciBzbWFsbGVzdEVuY29kaW5nOiBVSW50IHsgZ2V0IH0KICAgIHB1YmxpYyB2YXIgc3RhbmRhcmRpemluZ1BhdGg6IFN0cmluZyB7IGdldCB9CiAgICBwdWJsaWMgdmFyIHVwcGVyY2FzZWQ6IFN0cmluZyB7IGdldCB9CiAgICBwdWJsaWMgdmFyIHV0ZjhTdHJpbmc6IFVuc2FmZVBvaW50ZXI8SW50OD4/IHsgZ2V0IH0KICAgIG9wZW4gZnVuYyBhZGRpbmdQZXJjZW50RW5jb2Rpbmcod2l0aEFsbG93ZWRDaGFyYWN0ZXJzIGFsbG93ZWRDaGFyYWN0ZXJzOiBDaGFyYWN0ZXJTZXQpIC0+IFN0cmluZz8ge30KICAgIHB1YmxpYyBmdW5jIGFwcGVuZGluZyhfIGFTdHJpbmc6IFN0cmluZykgLT4gU3RyaW5nIHt9CiAgICBwdWJsaWMgZnVuYyBhcHBlbmRpbmdQYXRoQ29tcG9uZW50KF8gc3RyOiBTdHJpbmcpIC0+IFN0cmluZyB7fQogICAgcHVibGljIGZ1bmMgYXBwZW5kaW5nUGF0aEV4dGVuc2lvbihfIHN0cjogU3RyaW5nKSAtPiBTdHJpbmc/IHt9CiAgICBvcGVuIGZ1bmMgYXBwbHlpbmdUcmFuc2Zvcm0oXyB0cmFuc2Zvcm06IFN0cmluZywgcmV2ZXJzZTogQm9vbCkgLT4gU3RyaW5nPyB7fQogICAgcHVibGljIGZ1bmMgY1N0cmluZyh1c2luZyBlbmNvZGluZzogVUludCkgLT4gVW5zYWZlUG9pbnRlcjxJbnQ4Pj8ge30KICAgIHB1YmxpYyBmdW5jIGNhbkJlQ29udmVydGVkKHRvIGVuY29kaW5nOiBVSW50KSAtPiBCb29sIHt9CiAgICBwdWJsaWMgZnVuYyBjYXBpdGFsaXplZCh3aXRoIGxvY2FsZTogTG9jYWxlPykgLT4gU3RyaW5nIHt9CiAgICBwdWJsaWMgZnVuYyBjYXNlSW5zZW5zaXRpdmVDb21wYXJlKF8gc3RyaW5nOiBTdHJpbmcpIC0+IENvbXBhcmlzb25SZXN1bHQge30KICAgIG9wZW4gZnVuYyBjaGFyYWN0ZXIoYXQgaW5kZXg6IEludCkgLT4gdW5pY2hhciB7fQogICAgcHVibGljIGZ1bmMgY29tbW9uUHJlZml4KHdpdGggc3RyOiBTdHJpbmcsIG9wdGlvbnMgbWFzazogQ29tcGFyZU9wdGlvbnMgPSB4KSAtPiBTdHJpbmcge30KICAgIHB1YmxpYyBmdW5jIGNvbXBhcmUoXyBzdHJpbmc6IFN0cmluZykgLT4gQ29tcGFyaXNvblJlc3VsdCB7fQogICAgcHVibGljIGZ1bmMgY29tcGFyZShfIHN0cmluZzogU3RyaW5nLCBvcHRpb25zIG1hc2s6IENvbXBhcmVPcHRpb25zKSAtPiBDb21wYXJpc29uUmVzdWx0IHt9CiAgICBwdWJsaWMgZnVuYyBjb21wYXJlKF8gc3RyaW5nOiBTdHJpbmcsIG9wdGlvbnMgbWFzazogQ29tcGFyZU9wdGlvbnMsIHJhbmdlIGNvbXBhcmVSYW5nZTogTlNSYW5nZSkgLT4gQ29tcGFyaXNvblJlc3VsdCB7fQogICAgcHVibGljIGZ1bmMgY29tcGFyZShfIHN0cmluZzogU3RyaW5nLCBvcHRpb25zIG1hc2s6IENvbXBhcmVPcHRpb25zLCByYW5nZSBjb21wYXJlUmFuZ2U6IE5TUmFuZ2UsIGxvY2FsZTogQW55PykgLT4gQ29tcGFyaXNvblJlc3VsdCB7fQogICAgcHVibGljIGZ1bmMgY29tcGxldGVQYXRoKGludG8gb3V0cHV0TmFtZTogaW5vdXQgU3RyaW5nPywgY2FzZVNlbnNpdGl2ZSBmbGFnOiBCb29sLCBtYXRjaGVzSW50byBvdXRwdXRBcnJheTogaW5vdXQgW1N0cmluZ10sIGZpbHRlclR5cGVzOiBbU3RyaW5nXT8pIC0+IEludCB7fQogICAgb3BlbiBmdW5jIGNvbXBvbmVudHMoc2VwYXJhdGVkQnkgc2VwYXJhdG9yOiBDaGFyYWN0ZXJTZXQpIC0+IFtTdHJpbmddIHt9CiAgICBwdWJsaWMgZnVuYyBjb250YWlucyhfIHN0cjogU3RyaW5nKSAtPiBCb29sIHt9CiAgICBwdWJsaWMgZnVuYyBkYXRhKHVzaW5nIGVuY29kaW5nOiBVSW50KSAtPiBEYXRhPyB7fQogICAgcHVibGljIGZ1bmMgZGF0YSh1c2luZyBlbmNvZGluZzogVUludCwgYWxsb3dMb3NzeUNvbnZlcnNpb24gbG9zc3k6IEJvb2wgPSB4KSAtPiBEYXRhPyB7fQogICAgcHVibGljIGZ1bmMgZW51bWVyYXRlTGluZXMoXyBibG9jazogKFN0cmluZywgVW5zYWZlTXV0YWJsZVBvaW50ZXI8T2JqQ0Jvb2w+KSAtPiBWb2lkKSB7fQogICAgcHVibGljIGZ1bmMgZW51bWVyYXRlU3Vic3RyaW5ncyhpbiByYW5nZTogTlNSYW5nZSwgb3B0aW9ucyBvcHRzOiBFbnVtZXJhdGlvbk9wdGlvbnMgPSB4LCB1c2luZyBibG9jazogKFN0cmluZz8sIE5TUmFuZ2UsIE5TUmFuZ2UsIFVuc2FmZU11dGFibGVQb2ludGVyPE9iakNCb29sPikgLT4gVm9pZCkge30KICAgIG9wZW4gZnVuYyBmb2xkaW5nKG9wdGlvbnM6IENvbXBhcmVPcHRpb25zID0geCwgbG9jYWxlOiBMb2NhbGU/KSAtPiBTdHJpbmcge30KICAgIHB1YmxpYyBmdW5jIGdldEJ5dGVzKF8gYnVmZmVyOiBVbnNhZmVNdXRhYmxlUmF3UG9pbnRlcj8sIG1heExlbmd0aCBtYXhCdWZmZXJDb3VudDogSW50LCB1c2VkTGVuZ3RoIHVzZWRCdWZmZXJDb3VudDogVW5zYWZlTXV0YWJsZVBvaW50ZXI8SW50Pj8sIGVuY29kaW5nOiBVSW50LCBvcHRpb25zOiBFbmNvZGluZ0NvbnZlcnNpb25PcHRpb25zID0geCwgcmFuZ2U6IE5TUmFuZ2UsIHJlbWFpbmluZyBsZWZ0b3ZlcjogTlNSYW5nZVBvaW50ZXI/KSAtPiBCb29sIHt9CiAgICBwdWJsaWMgZnVuYyBnZXRDU3RyaW5nKF8gYnVmZmVyOiBVbnNhZmVNdXRhYmxlUG9pbnRlcjxJbnQ4PiwgbWF4TGVuZ3RoIG1heEJ1ZmZlckNvdW50OiBJbnQsIGVuY29kaW5nOiBVSW50KSAtPiBCb29sIHt9CiAgICBwdWJsaWMgZnVuYyBnZXRDaGFyYWN0ZXJzKF8gYnVmZmVyOiBVbnNhZmVNdXRhYmxlUG9pbnRlcjx1bmljaGFyPiwgcmFuZ2U6IE5TUmFuZ2UpIHt9CiAgICBwdWJsaWMgZnVuYyBnZXRGaWxlU3lzdGVtUmVwcmVzZW50YXRpb24oXyBjbmFtZTogVW5zYWZlTXV0YWJsZVBvaW50ZXI8SW50OD4sIG1heExlbmd0aCBtYXg6IEludCkgLT4gQm9vbCB7fQogICAgcHVibGljIGZ1bmMgZ2V0TGluZVN0YXJ0KF8gc3RhcnRQdHI6IFVuc2FmZU11dGFibGVQb2ludGVyPEludD4/LCBlbmQgbGluZUVuZFB0cjogVW5zYWZlTXV0YWJsZVBvaW50ZXI8SW50Pj8sIGNvbnRlbnRzRW5kIGNvbnRlbnRzRW5kUHRyOiBVbnNhZmVNdXRhYmxlUG9pbnRlcjxJbnQ+PywgZm9yIHJhbmdlOiBOU1JhbmdlKSB7fQogICAgcHVibGljIGZ1bmMgZ2V0UGFyYWdyYXBoU3RhcnQoXyBzdGFydFB0cjogVW5zYWZlTXV0YWJsZVBvaW50ZXI8SW50Pj8sIGVuZCBwYXJFbmRQdHI6IFVuc2FmZU11dGFibGVQb2ludGVyPEludD4/LCBjb250ZW50c0VuZCBjb250ZW50c0VuZFB0cjogVW5zYWZlTXV0YWJsZVBvaW50ZXI8SW50Pj8sIGZvciByYW5nZTogTlNSYW5nZSkge30KICAgIHB1YmxpYyBmdW5jIGhhc1ByZWZpeChfIHN0cjogU3RyaW5nKSAtPiBCb29sIHt9CiAgICBwdWJsaWMgZnVuYyBoYXNTdWZmaXgoXyBzdHI6IFN0cmluZykgLT4gQm9vbCB7fQogICAgcHVibGljIGZ1bmMgaXNFcXVhbCh0byBhU3RyaW5nOiBTdHJpbmcpIC0+IEJvb2wge30KICAgIHB1YmxpYyBmdW5jIGxlbmd0aE9mQnl0ZXModXNpbmcgZW5jOiBVSW50KSAtPiBJbnQge30KICAgIHB1YmxpYyBmdW5jIGxpbmVSYW5nZShmb3IgcmFuZ2U6IE5TUmFuZ2UpIC0+IE5TUmFuZ2Uge30KICAgIHB1YmxpYyBmdW5jIGxvY2FsaXplZENhc2VJbnNlbnNpdGl2ZUNvbXBhcmUoXyBzdHJpbmc6IFN0cmluZykgLT4gQ29tcGFyaXNvblJlc3VsdCB7fQogICAgcHVibGljIGZ1bmMgbG9jYWxpemVkQ2FzZUluc2Vuc2l0aXZlQ29udGFpbnMoXyBzdHI6IFN0cmluZykgLT4gQm9vbCB7fQogICAgcHVibGljIGZ1bmMgbG9jYWxpemVkQ29tcGFyZShfIHN0cmluZzogU3RyaW5nKSAtPiBDb21wYXJpc29uUmVzdWx0IHt9CiAgICBwdWJsaWMgZnVuYyBsb2NhbGl6ZWRTdGFuZGFyZENvbXBhcmUoXyBzdHJpbmc6IFN0cmluZykgLT4gQ29tcGFyaXNvblJlc3VsdCB7fQogICAgcHVibGljIGZ1bmMgbG9jYWxpemVkU3RhbmRhcmRDb250YWlucyhfIHN0cjogU3RyaW5nKSAtPiBCb29sIHt9CiAgICBwdWJsaWMgZnVuYyBsb2NhbGl6ZWRTdGFuZGFyZFJhbmdlKG9mIHN0cjogU3RyaW5nKSAtPiBOU1JhbmdlIHt9CiAgICBwdWJsaWMgZnVuYyBsb3dlcmNhc2VkKHdpdGggbG9jYWxlOiBMb2NhbGU/KSAtPiBTdHJpbmcge30KICAgIHB1YmxpYyBmdW5jIG1heGltdW1MZW5ndGhPZkJ5dGVzKHVzaW5nIGVuYzogVUludCkgLT4gSW50IHt9CiAgICBvcGVuIGZ1bmMgcGFkZGluZyh0b0xlbmd0aCBuZXdMZW5ndGg6IEludCwgd2l0aFBhZCBwYWRTdHJpbmc6IFN0cmluZywgc3RhcnRpbmdBdCBwYWRJbmRleDogSW50KSAtPiBTdHJpbmcge30KICAgIHB1YmxpYyBmdW5jIHBhcmFncmFwaFJhbmdlKGZvciByYW5nZTogTlNSYW5nZSkgLT4gTlNSYW5nZSB7fQogICAgcHVibGljIGZ1bmMgcmFuZ2Uob2Ygc2VhcmNoU3RyaW5nOiBTdHJpbmcpIC0+IE5TUmFuZ2Uge30KICAgIHB1YmxpYyBmdW5jIHJhbmdlKG9mIHNlYXJjaFN0cmluZzogU3RyaW5nLCBvcHRpb25zIG1hc2s6IENvbXBhcmVPcHRpb25zID0geCkgLT4gTlNSYW5nZSB7fQogICAgcHVibGljIGZ1bmMgcmFuZ2Uob2Ygc2VhcmNoU3RyaW5nOiBTdHJpbmcsIG9wdGlvbnMgbWFzazogQ29tcGFyZU9wdGlvbnMgPSB4LCByYW5nZSBzZWFyY2hSYW5nZTogTlNSYW5nZSkgLT4gTlNSYW5nZSB7fQogICAgcHVibGljIGZ1bmMgcmFuZ2Uob2Ygc2VhcmNoU3RyaW5nOiBTdHJpbmcsIG9wdGlvbnMgbWFzazogQ29tcGFyZU9wdGlvbnMgPSB4LCByYW5nZSBzZWFyY2hSYW5nZTogTlNSYW5nZSwgbG9jYWxlOiBMb2NhbGU/KSAtPiBOU1JhbmdlIHt9CiAgICBwdWJsaWMgZnVuYyByYW5nZU9mQ2hhcmFjdGVyKGZyb20gc2VhcmNoU2V0OiBDaGFyYWN0ZXJTZXQpIC0+IE5TUmFuZ2Uge30KICAgIHB1YmxpYyBmdW5jIHJhbmdlT2ZDaGFyYWN0ZXIoZnJvbSBzZWFyY2hTZXQ6IENoYXJhY3RlclNldCwgb3B0aW9ucyBtYXNrOiBDb21wYXJlT3B0aW9ucyA9IHgpIC0+IE5TUmFuZ2Uge30KICAgIHB1YmxpYyBmdW5jIHJhbmdlT2ZDaGFyYWN0ZXIoZnJvbSBzZWFyY2hTZXQ6IENoYXJhY3RlclNldCwgb3B0aW9ucyBtYXNrOiBDb21wYXJlT3B0aW9ucyA9IHgsIHJhbmdlIHNlYXJjaFJhbmdlOiBOU1JhbmdlKSAtPiBOU1JhbmdlIHt9CiAgICBwdWJsaWMgZnVuYyByYW5nZU9mQ29tcG9zZWRDaGFyYWN0ZXJTZXF1ZW5jZShhdCBpbmRleDogSW50KSAtPiBOU1JhbmdlIHt9CiAgICBwdWJsaWMgZnVuYyByYW5nZU9mQ29tcG9zZWRDaGFyYWN0ZXJTZXF1ZW5jZXMoZm9yIHJhbmdlOiBOU1JhbmdlKSAtPiBOU1JhbmdlIHt9CiAgICBvcGVuIGZ1bmMgcmVwbGFjaW5nQ2hhcmFjdGVycyhpbiByYW5nZTogTlNSYW5nZSwgd2l0aCByZXBsYWNlbWVudDogU3RyaW5nKSAtPiBTdHJpbmcge30KICAgIG9wZW4gZnVuYyByZXBsYWNpbmdPY2N1cnJlbmNlcyhvZiB0YXJnZXQ6IFN0cmluZywgd2l0aCByZXBsYWNlbWVudDogU3RyaW5nKSAtPiBTdHJpbmcge30KICAgIG9wZW4gZnVuYyByZXBsYWNpbmdPY2N1cnJlbmNlcyhvZiB0YXJnZXQ6IFN0cmluZywgd2l0aCByZXBsYWNlbWVudDogU3RyaW5nLCBvcHRpb25zOiBDb21wYXJlT3B0aW9ucyA9IHgsIHJhbmdlIHNlYXJjaFJhbmdlOiBOU1JhbmdlKSAtPiBTdHJpbmcge30KICAgIHB1YmxpYyBmdW5jIHN0cmluZ3NCeUFwcGVuZGluZ1BhdGhzKF8gcGF0aHM6IFtTdHJpbmddKSAtPiBbU3RyaW5nXSB7fQogICAgcHVibGljIGZ1bmMgc3Vic3RyaW5nKGZyb206IEludCkgLT4gU3RyaW5nIHt9CiAgICBwdWJsaWMgZnVuYyBzdWJzdHJpbmcodG86IEludCkgLT4gU3RyaW5nIHt9CiAgICBwdWJsaWMgZnVuYyBzdWJzdHJpbmcod2l0aCByYW5nZTogTlNSYW5nZSkgLT4gU3RyaW5nIHt9CiAgICBvcGVuIGZ1bmMgdHJpbW1pbmdDaGFyYWN0ZXJzKGluIHNldDogQ2hhcmFjdGVyU2V0KSAtPiBTdHJpbmcge30KICAgIHB1YmxpYyBmdW5jIHVwcGVyY2FzZWQod2l0aCBsb2NhbGU6IExvY2FsZT8pIC0+IFN0cmluZyB7fQogICAgb3BlbiBmdW5jIHdyaXRlKHRvIHVybDogVVJMLCBhdG9taWNhbGx5IHVzZUF1eGlsaWFyeUZpbGU6IEJvb2wsIGVuY29kaW5nIGVuYzogVUludCkgdGhyb3dzIHt9CiAgICBvcGVuIGZ1bmMgd3JpdGUodG9GaWxlIHBhdGg6IFN0cmluZywgYXRvbWljYWxseSB1c2VBdXhpbGlhcnlGaWxlOiBCb29sLCBlbmNvZGluZyBlbmM6IFVJbnQpIHRocm93cyB7fQp9Cm9wZW4gY2xhc3MgTlNUZXh0Q2hlY2tpbmdSZXN1bHQgewogICAgb3BlbiBjbGFzcyBmdW5jIHJlZ3VsYXJFeHByZXNzaW9uQ2hlY2tpbmdSZXN1bHRXaXRoUmFuZ2VzKF8gcmFuZ2VzOiBOU1JhbmdlUG9pbnRlciwgY291bnQ6IEludCwgcmVndWxhckV4cHJlc3Npb246IE5TUmVndWxhckV4cHJlc3Npb24pIC0+IE5TVGV4dENoZWNraW5nUmVzdWx0IHt9CiAgICBvcGVuIHZhciBudW1iZXJPZlJhbmdlczogSW50IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHJhbmdlOiBOU1JhbmdlIHsgZ2V0IH0KICAgIG9wZW4gdmFyIHJlZ3VsYXJFeHByZXNzaW9uOiBOU1JlZ3VsYXJFeHByZXNzaW9uPyB7IGdldCB9CiAgICBvcGVuIHZhciByZXN1bHRUeXBlOiBDaGVja2luZ1R5cGUgeyBnZXQgfQogICAgcHVibGljIGZ1bmMgYWRqdXN0aW5nUmFuZ2VzKG9mZnNldDogSW50KSAtPiBOU1RleHRDaGVja2luZ1Jlc3VsdCB7fQogICAgb3BlbiBmdW5jIHJhbmdlKGF0IGlkeDogSW50KSAtPiBOU1JhbmdlIHt9Cn0Kb3BlbiBjbGFzcyBOU1RpbWVab25lIHsKICAgIG9wZW4gY2xhc3MgdmFyIGFiYnJldmlhdGlvbkRpY3Rpb25hcnk6IFtTdHJpbmc6IFN0cmluZ10geyBnZXQgc2V0IH0KICAgIG9wZW4gY2xhc3MgdmFyIGRlZmF1bHQ6IFRpbWVab25lIHsgZ2V0IHNldCB9CiAgICBvcGVuIGNsYXNzIHZhciBrbm93blRpbWVab25lTmFtZXM6IFtTdHJpbmddIHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgdmFyIGxvY2FsOiBUaW1lWm9uZSB7IGdldCB9CiAgICBvcGVuIGNsYXNzIHZhciBzeXN0ZW06IFRpbWVab25lIHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgdmFyIHRpbWVab25lRGF0YVZlcnNpb246IFN0cmluZyB7IGdldCB9CiAgICBvcGVuIGNsYXNzIGZ1bmMgcmVzZXRTeXN0ZW1UaW1lWm9uZSgpIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdD8oYWJicmV2aWF0aW9uOiBTdHJpbmcpIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdChmb3JTZWNvbmRzRnJvbUdNVCBzZWNvbmRzOiBJbnQpIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdD8obmFtZSB0ek5hbWU6IFN0cmluZykge30KICAgIHB1YmxpYyBpbml0PyhuYW1lIHR6TmFtZTogU3RyaW5nLCBkYXRhIGFEYXRhOiBEYXRhPykge30KICAgIG9wZW4gdmFyIGFiYnJldmlhdGlvbjogU3RyaW5nPyB7IGdldCB9CiAgICBvcGVuIHZhciBkYXRhOiBEYXRhIHsgZ2V0IH0KICAgIG9wZW4gdmFyIGRheWxpZ2h0U2F2aW5nVGltZU9mZnNldDogVGltZUludGVydmFsIHsgZ2V0IH0KICAgIG9wZW4gdmFyIGlzRGF5bGlnaHRTYXZpbmdUaW1lOiBCb29sIHsgZ2V0IH0KICAgIG9wZW4gdmFyIG5hbWU6IFN0cmluZyB7IGdldCB9CiAgICBvcGVuIHZhciBuZXh0RGF5bGlnaHRTYXZpbmdUaW1lVHJhbnNpdGlvbjogRGF0ZT8geyBnZXQgfQogICAgb3BlbiB2YXIgc2Vjb25kc0Zyb21HTVQ6IEludCB7IGdldCB9CiAgICBvcGVuIGZ1bmMgYWJicmV2aWF0aW9uKGZvciBhRGF0ZTogRGF0ZSkgLT4gU3RyaW5nPyB7fQogICAgb3BlbiBmdW5jIGRheWxpZ2h0U2F2aW5nVGltZU9mZnNldChmb3IgYURhdGU6IERhdGUpIC0+IFRpbWVJbnRlcnZhbCB7fQogICAgb3BlbiBmdW5jIGlzRGF5bGlnaHRTYXZpbmdUaW1lKGZvciBhRGF0ZTogRGF0ZSkgLT4gQm9vbCB7fQogICAgb3BlbiBmdW5jIGlzRXF1YWwodG8gYVRpbWVab25lOiBUaW1lWm9uZSkgLT4gQm9vbCB7fQogICAgb3BlbiBmdW5jIGxvY2FsaXplZE5hbWUoXyBzdHlsZTogTmFtZVN0eWxlLCBsb2NhbGU6IExvY2FsZT8pIC0+IFN0cmluZz8ge30KICAgIG9wZW4gZnVuYyBuZXh0RGF5bGlnaHRTYXZpbmdUaW1lVHJhbnNpdGlvbihhZnRlciBhRGF0ZTogRGF0ZSkgLT4gRGF0ZT8ge30KICAgIG9wZW4gZnVuYyBzZWNvbmRzRnJvbUdNVChmb3IgYURhdGU6IERhdGUpIC0+IEludCB7fQp9Cm9wZW4gY2xhc3MgTlNVUkwgewogICAgb3BlbiBjbGFzcyBmdW5jIGZpbGVVUkwod2l0aFBhdGhDb21wb25lbnRzIGNvbXBvbmVudHM6IFtTdHJpbmddKSAtPiBVUkw/IHt9CiAgICBwdWJsaWMgaW5pdChhYnNvbHV0ZVVSTFdpdGhEYXRhUmVwcmVzZW50YXRpb24gZGF0YTogRGF0YSwgcmVsYXRpdmVUbyBiYXNlVVJMOiBVUkw/KSB7fQogICAgcHVibGljIGluaXQoZGF0YVJlcHJlc2VudGF0aW9uIGRhdGE6IERhdGEsIHJlbGF0aXZlVG8gYmFzZVVSTDogVVJMPykge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KGZpbGVVUkxXaXRoRmlsZVN5c3RlbVJlcHJlc2VudGF0aW9uIHBhdGg6IFVuc2FmZVBvaW50ZXI8SW50OD4sIGlzRGlyZWN0b3J5IGlzRGlyOiBCb29sLCByZWxhdGl2ZVRvIGJhc2VVUkw6IFVSTD8pIHt9CiAgICBwdWJsaWMgaW5pdChmaWxlVVJMV2l0aFBhdGggcGF0aDogU3RyaW5nKSB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQoZmlsZVVSTFdpdGhQYXRoIHBhdGg6IFN0cmluZywgaXNEaXJlY3RvcnkgaXNEaXI6IEJvb2wpIHt9CiAgICBwdWJsaWMgaW5pdChmaWxlVVJMV2l0aFBhdGggcGF0aDogU3RyaW5nLCBpc0RpcmVjdG9yeSBpc0RpcjogQm9vbCwgcmVsYXRpdmVUbyBiYXNlVVJMOiBVUkw/KSB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQoZmlsZVVSTFdpdGhQYXRoIHBhdGg6IFN0cmluZywgcmVsYXRpdmVUbyBiYXNlVVJMOiBVUkw/KSB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQ/KHN0cmluZyBVUkxTdHJpbmc6IFN0cmluZykge30KICAgIHB1YmxpYyBpbml0PyhzdHJpbmcgVVJMU3RyaW5nOiBTdHJpbmcsIHJlbGF0aXZlVG8gYmFzZVVSTDogVVJMPykge30KICAgIG9wZW4gdmFyIGFic29sdXRlU3RyaW5nOiBTdHJpbmcgeyBnZXQgfQogICAgb3BlbiB2YXIgYWJzb2x1dGVVUkw6IFVSTD8geyBnZXQgfQogICAgb3BlbiB2YXIgYmFzZVVSTDogVVJMPyB7IGdldCB9CiAgICBvcGVuIHZhciBkYXRhUmVwcmVzZW50YXRpb246IERhdGEgeyBnZXQgfQogICAgb3BlbiB2YXIgZGVsZXRpbmdMYXN0UGF0aENvbXBvbmVudDogVVJMPyB7IGdldCB9CiAgICBvcGVuIHZhciBkZWxldGluZ1BhdGhFeHRlbnNpb246IFVSTD8geyBnZXQgfQogICAgb3BlbiB2YXIgZmlsZVBhdGhVUkw6IFVSTD8geyBnZXQgfQogICAgb3BlbiB2YXIgZmlsZVN5c3RlbVJlcHJlc2VudGF0aW9uOiBVbnNhZmVQb2ludGVyPEludDg+IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGZyYWdtZW50OiBTdHJpbmc/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGhhc0RpcmVjdG9yeVBhdGg6IEJvb2wgeyBnZXQgfQogICAgb3BlbiB2YXIgaG9zdDogU3RyaW5nPyB7IGdldCB9CiAgICBvcGVuIHZhciBpc0ZpbGVVUkw6IEJvb2wgeyBnZXQgfQogICAgb3BlbiB2YXIgbGFzdFBhdGhDb21wb25lbnQ6IFN0cmluZz8geyBnZXQgfQogICAgb3BlbiB2YXIgcGFyYW1ldGVyU3RyaW5nOiBTdHJpbmc/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHBhc3N3b3JkOiBTdHJpbmc/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHBhdGg6IFN0cmluZz8geyBnZXQgfQogICAgb3BlbiB2YXIgcGF0aENvbXBvbmVudHM6IFtTdHJpbmddPyB7IGdldCB9CiAgICBvcGVuIHZhciBwYXRoRXh0ZW5zaW9uOiBTdHJpbmc/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHBvcnQ6IE5TTnVtYmVyPyB7IGdldCB9CiAgICBvcGVuIHZhciBxdWVyeTogU3RyaW5nPyB7IGdldCB9CiAgICBvcGVuIHZhciByZWxhdGl2ZVBhdGg6IFN0cmluZz8geyBnZXQgfQogICAgb3BlbiB2YXIgcmVsYXRpdmVTdHJpbmc6IFN0cmluZyB7IGdldCB9CiAgICBvcGVuIHZhciByZXNvbHZpbmdTeW1saW5rc0luUGF0aDogVVJMPyB7IGdldCB9CiAgICBvcGVuIHZhciByZXNvdXJjZVNwZWNpZmllcjogU3RyaW5nPyB7IGdldCB9CiAgICBvcGVuIHZhciBzY2hlbWU6IFN0cmluZz8geyBnZXQgfQogICAgb3BlbiB2YXIgc3RhbmRhcmRpemVkOiBVUkw/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHN0YW5kYXJkaXppbmdQYXRoOiBVUkw/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHVzZXI6IFN0cmluZz8geyBnZXQgfQogICAgb3BlbiBmdW5jIGFwcGVuZGluZ1BhdGhDb21wb25lbnQoXyBwYXRoQ29tcG9uZW50OiBTdHJpbmcpIC0+IFVSTD8ge30KICAgIG9wZW4gZnVuYyBhcHBlbmRpbmdQYXRoQ29tcG9uZW50KF8gcGF0aENvbXBvbmVudDogU3RyaW5nLCBpc0RpcmVjdG9yeTogQm9vbCkgLT4gVVJMPyB7fQogICAgb3BlbiBmdW5jIGFwcGVuZGluZ1BhdGhFeHRlbnNpb24oXyBwYXRoRXh0ZW5zaW9uOiBTdHJpbmcpIC0+IFVSTD8ge30KICAgIG9wZW4gZnVuYyBjaGVja1Jlc291cmNlSXNSZWFjaGFibGUoKSB0aHJvd3MgLT4gQm9vbCB7fQogICAgb3BlbiBmdW5jIGdldEZpbGVTeXN0ZW1SZXByZXNlbnRhdGlvbihfIGJ1ZmZlcjogVW5zYWZlTXV0YWJsZVBvaW50ZXI8SW50OD4sIG1heExlbmd0aCBtYXhCdWZmZXJMZW5ndGg6IEludCkgLT4gQm9vbCB7fQogICAgb3BlbiBmdW5jIHJlbW92ZUFsbENhY2hlZFJlc291cmNlVmFsdWVzKCkge30KICAgIG9wZW4gZnVuYyByZW1vdmVDYWNoZWRSZXNvdXJjZVZhbHVlKGZvcktleSBrZXk6IFVSTFJlc291cmNlS2V5KSB7fQogICAgb3BlbiBmdW5jIHJlc291cmNlVmFsdWVzKGZvcktleXMga2V5czogW1VSTFJlc291cmNlS2V5XSkgdGhyb3dzIC0+IFtVUkxSZXNvdXJjZUtleTogQW55XSB7fQogICAgb3BlbiBmdW5jIHNldFJlc291cmNlVmFsdWUoXyB2YWx1ZTogQW55PywgZm9yS2V5IGtleTogVVJMUmVzb3VyY2VLZXkpIHRocm93cyB7fQogICAgb3BlbiBmdW5jIHNldFJlc291cmNlVmFsdWVzKF8ga2V5ZWRWYWx1ZXM6IFtVUkxSZXNvdXJjZUtleTogQW55XSkgdGhyb3dzIHt9CiAgICBvcGVuIGZ1bmMgc2V0VGVtcG9yYXJ5UmVzb3VyY2VWYWx1ZShfIHZhbHVlOiBBbnk/LCBmb3JLZXkga2V5OiBVUkxSZXNvdXJjZUtleSkge30KfQpvcGVuIGNsYXNzIE5TVVJMQ29tcG9uZW50cyB7CiAgICBwdWJsaWMgaW5pdD8oc3RyaW5nIFVSTFN0cmluZzogU3RyaW5nKSB7fQogICAgcHVibGljIGluaXQ/KHVybDogVVJMLCByZXNvbHZpbmdBZ2FpbnN0QmFzZVVSTCByZXNvbHZlOiBCb29sKSB7fQogICAgb3BlbiB2YXIgZnJhZ21lbnQ6IFN0cmluZz8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGhvc3Q6IFN0cmluZz8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHBhc3N3b3JkOiBTdHJpbmc/IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBwYXRoOiBTdHJpbmc/IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBwZXJjZW50RW5jb2RlZEZyYWdtZW50OiBTdHJpbmc/IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBwZXJjZW50RW5jb2RlZEhvc3Q6IFN0cmluZz8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHBlcmNlbnRFbmNvZGVkUGFzc3dvcmQ6IFN0cmluZz8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHBlcmNlbnRFbmNvZGVkUGF0aDogU3RyaW5nPyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgcGVyY2VudEVuY29kZWRRdWVyeTogU3RyaW5nPyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgcGVyY2VudEVuY29kZWRVc2VyOiBTdHJpbmc/IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBwb3J0OiBOU051bWJlcj8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHF1ZXJ5OiBTdHJpbmc/IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBxdWVyeUl0ZW1zOiBbVVJMUXVlcnlJdGVtXT8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHJhbmdlT2ZGcmFnbWVudDogTlNSYW5nZSB7IGdldCB9CiAgICBvcGVuIHZhciByYW5nZU9mSG9zdDogTlNSYW5nZSB7IGdldCB9CiAgICBvcGVuIHZhciByYW5nZU9mUGFzc3dvcmQ6IE5TUmFuZ2UgeyBnZXQgfQogICAgb3BlbiB2YXIgcmFuZ2VPZlBhdGg6IE5TUmFuZ2UgeyBnZXQgfQogICAgb3BlbiB2YXIgcmFuZ2VPZlBvcnQ6IE5TUmFuZ2UgeyBnZXQgfQogICAgb3BlbiB2YXIgcmFuZ2VPZlF1ZXJ5OiBOU1JhbmdlIHsgZ2V0IH0KICAgIG9wZW4gdmFyIHJhbmdlT2ZTY2hlbWU6IE5TUmFuZ2UgeyBnZXQgfQogICAgb3BlbiB2YXIgcmFuZ2VPZlVzZXI6IE5TUmFuZ2UgeyBnZXQgfQogICAgb3BlbiB2YXIgc2NoZW1lOiBTdHJpbmc/IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBzdHJpbmc6IFN0cmluZz8geyBnZXQgfQogICAgb3BlbiB2YXIgdXJsOiBVUkw/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHVzZXI6IFN0cmluZz8geyBnZXQgc2V0IH0KICAgIG9wZW4gZnVuYyB1cmwocmVsYXRpdmVUbyBiYXNlVVJMOiBVUkw/KSAtPiBVUkw/IHt9Cn0Kb3BlbiBjbGFzcyBOU1VSTFF1ZXJ5SXRlbSB7CiAgICBwdWJsaWMgaW5pdChuYW1lOiBTdHJpbmcsIHZhbHVlOiBTdHJpbmc/KSB7fQogICAgb3BlbiB2YXIgbmFtZTogU3RyaW5nIHsgZ2V0IH0KICAgIG9wZW4gdmFyIHZhbHVlOiBTdHJpbmc/IHsgZ2V0IH0KfQpvcGVuIGNsYXNzIE5TVVJMUmVxdWVzdCB7CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdCh1cmw6IFVSTCkge30KICAgIHB1YmxpYyBpbml0KHVybDogVVJMLCBjYWNoZVBvbGljeTogTlNVUkxSZXF1ZXN0LkNhY2hlUG9saWN5LCB0aW1lb3V0SW50ZXJ2YWw6IFRpbWVJbnRlcnZhbCkge30KICAgIG9wZW4gdmFyIGFsbEhUVFBIZWFkZXJGaWVsZHM6IFtTdHJpbmc6IFN0cmluZ10/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGFsbG93c0NlbGx1bGFyQWNjZXNzOiBCb29sIHsgZ2V0IH0KICAgIG9wZW4gdmFyIGNhY2hlUG9saWN5OiBDYWNoZVBvbGljeSB7IGdldCB9CiAgICBvcGVuIHZhciBodHRwQm9keTogRGF0YT8geyBnZXQgfQogICAgb3BlbiB2YXIgaHR0cEJvZHlTdHJlYW06IElucHV0U3RyZWFtPyB7IGdldCB9CiAgICBvcGVuIHZhciBodHRwTWV0aG9kOiBTdHJpbmc/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGh0dHBTaG91bGRIYW5kbGVDb29raWVzOiBCb29sIHsgZ2V0IH0KICAgIG9wZW4gdmFyIGh0dHBTaG91bGRVc2VQaXBlbGluaW5nOiBCb29sIHsgZ2V0IH0KICAgIG9wZW4gdmFyIG1haW5Eb2N1bWVudFVSTDogVVJMPyB7IGdldCB9CiAgICBvcGVuIHZhciBuZXR3b3JrU2VydmljZVR5cGU6IE5ldHdvcmtTZXJ2aWNlVHlwZSB7IGdldCB9CiAgICBvcGVuIHZhciB0aW1lb3V0SW50ZXJ2YWw6IFRpbWVJbnRlcnZhbCB7IGdldCB9CiAgICBvcGVuIHZhciB1cmw6IFVSTD8geyBnZXQgfQogICAgb3BlbiBmdW5jIHZhbHVlKGZvckhUVFBIZWFkZXJGaWVsZCBmaWVsZDogU3RyaW5nKSAtPiBTdHJpbmc/IHt9Cn0Kb3BlbiBjbGFzcyBOU1VVSUQgewogICAgcHVibGljIGluaXQodXVpZEJ5dGVzIGJ5dGVzOiBVbnNhZmVQb2ludGVyPFVJbnQ4Pikge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0Pyh1dWlkU3RyaW5nIHN0cmluZzogU3RyaW5nKSB7fQogICAgb3BlbiB2YXIgdXVpZFN0cmluZzogU3RyaW5nIHsgZ2V0IH0KICAgIG9wZW4gZnVuYyBnZXRCeXRlcyhfIHV1aWQ6IFVuc2FmZU11dGFibGVQb2ludGVyPFVJbnQ4Pikge30KfQpvcGVuIGNsYXNzIE5TVmFsdWUgewogICAgcHVibGljIHJlcXVpcmVkIGNvbnZlbmllbmNlIGluaXQoYnl0ZXMgdmFsdWU6IFVuc2FmZVJhd1BvaW50ZXIsIG9iakNUeXBlIHR5cGU6IFVuc2FmZVBvaW50ZXI8SW50OD4pIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdChlZGdlSW5zZXRzIGluc2V0czogTlNFZGdlSW5zZXRzKSB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQocG9pbnQ6IE5TUG9pbnQpIHt9CiNpZiBERVBMT1lNRU5UX1JVTlRJTUVfU1dJRlQKICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KHJhbmdlOiBOU1JhbmdlKSB7fQojZW5kaWYKICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KHJlY3Q6IE5TUmVjdCkge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KHNpemU6IE5TU2l6ZSkge30KICAgIHB1YmxpYyB2YXIgZWRnZUluc2V0c1ZhbHVlOiBOU0VkZ2VJbnNldHMgeyBnZXQgfQogICAgb3BlbiB2YXIgb2JqQ1R5cGU6IFVuc2FmZVBvaW50ZXI8SW50OD4geyBnZXQgfQogICAgcHVibGljIHZhciBwb2ludFZhbHVlOiBOU1BvaW50IHsgZ2V0IH0KI2lmIERFUExPWU1FTlRfUlVOVElNRV9TV0lGVAogICAgcHVibGljIHZhciByYW5nZVZhbHVlOiBOU1JhbmdlIHsgZ2V0IH0KI2VuZGlmCiAgICBwdWJsaWMgdmFyIHJlY3RWYWx1ZTogTlNSZWN0IHsgZ2V0IH0KICAgIHB1YmxpYyB2YXIgc2l6ZVZhbHVlOiBOU1NpemUgeyBnZXQgfQogICAgb3BlbiBmdW5jIGdldFZhbHVlKF8gdmFsdWU6IFVuc2FmZU11dGFibGVSYXdQb2ludGVyKSB7fQp9Cm9wZW4gY2xhc3MgTm90aWZpY2F0aW9uQ2VudGVyIHsKICAgIG9wZW4gY2xhc3MgdmFyIGRlZmF1bHQ6IE5vdGlmaWNhdGlvbkNlbnRlciB7IGdldCB9CiAgICBvcGVuIGZ1bmMgYWRkT2JzZXJ2ZXIoZm9yTmFtZSBuYW1lOiBOU05vdGlmaWNhdGlvbi5OYW1lPywgb2JqZWN0IG9iajogQW55PywgcXVldWU6IE9wZXJhdGlvblF1ZXVlPywgdXNpbmcgYmxvY2s6IEBlc2NhcGluZyAoTm90aWZpY2F0aW9uKSAtPiBWb2lkKSAtPiBOU09iamVjdFByb3RvY29sIHt9CiAgICBvcGVuIGZ1bmMgcG9zdChfIG5vdGlmaWNhdGlvbjogTm90aWZpY2F0aW9uKSB7fQogICAgb3BlbiBmdW5jIHBvc3QobmFtZSBhTmFtZTogTlNOb3RpZmljYXRpb24uTmFtZSwgb2JqZWN0IGFuT2JqZWN0OiBBbnk/LCB1c2VySW5mbyBhVXNlckluZm86IFtBbnlIYXNoYWJsZTogQW55XT8gPSB4KSB7fQogICAgb3BlbiBmdW5jIHJlbW92ZU9ic2VydmVyKF8gb2JzZXJ2ZXI6IEFueSkge30KICAgIG9wZW4gZnVuYyByZW1vdmVPYnNlcnZlcihfIG9ic2VydmVyOiBBbnksIG5hbWUgYU5hbWU6IE5TTm90aWZpY2F0aW9uLk5hbWU/LCBvYmplY3Q6IEFueT8pIHt9Cn0Kb3BlbiBjbGFzcyBOb3RpZmljYXRpb25RdWV1ZSB7CiAgICBvcGVuIGNsYXNzIHZhciBkZWZhdWx0OiBOb3RpZmljYXRpb25RdWV1ZSB7IGdldCB9CiAgICBwdWJsaWMgaW5pdChub3RpZmljYXRpb25DZW50ZXI6IE5vdGlmaWNhdGlvbkNlbnRlcikge30KICAgIG9wZW4gZnVuYyBkZXF1ZXVlTm90aWZpY2F0aW9ucyhtYXRjaGluZyBub3RpZmljYXRpb246IE5vdGlmaWNhdGlvbiwgY29hbGVzY2VNYXNrOiBOb3RpZmljYXRpb25Db2FsZXNjaW5nKSB7fQogICAgb3BlbiBmdW5jIGVucXVldWUoXyBub3RpZmljYXRpb246IE5vdGlmaWNhdGlvbiwgcG9zdGluZ1N0eWxlOiBQb3N0aW5nU3R5bGUpIHt9CiAgICBvcGVuIGZ1bmMgZW5xdWV1ZShfIG5vdGlmaWNhdGlvbjogTm90aWZpY2F0aW9uLCBwb3N0aW5nU3R5bGU6IFBvc3RpbmdTdHlsZSwgY29hbGVzY2VNYXNrOiBOb3RpZmljYXRpb25Db2FsZXNjaW5nLCBmb3JNb2RlcyBtb2RlczogW1J1bkxvb3BNb2RlXT8pIHt9Cn0Kb3BlbiBjbGFzcyBOdW1iZXJGb3JtYXR0ZXIgewogICAgb3BlbiBjbGFzcyBmdW5jIGxvY2FsaXplZFN0cmluZyhmcm9tIG51bTogTlNOdW1iZXIsIG51bWJlciBuc3R5bGU6IFN0eWxlKSAtPiBTdHJpbmcge30KICAgIG9wZW4gdmFyIGFsbG93c0Zsb2F0czogQm9vbCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgYWx3YXlzU2hvd3NEZWNpbWFsU2VwYXJhdG9yOiBCb29sIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBhdHRyaWJ1dGVkU3RyaW5nRm9yTmlsOiBOU0F0dHJpYnV0ZWRTdHJpbmcgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGF0dHJpYnV0ZWRTdHJpbmdGb3JOb3RBTnVtYmVyOiBOU0F0dHJpYnV0ZWRTdHJpbmcgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGF0dHJpYnV0ZWRTdHJpbmdGb3JaZXJvOiBOU0F0dHJpYnV0ZWRTdHJpbmcgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGN1cnJlbmN5Q29kZTogU3RyaW5nISB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgY3VycmVuY3lEZWNpbWFsU2VwYXJhdG9yOiBTdHJpbmchIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBjdXJyZW5jeUdyb3VwaW5nU2VwYXJhdG9yOiBTdHJpbmchIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBjdXJyZW5jeVN5bWJvbDogU3RyaW5nISB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgZGVjaW1hbFNlcGFyYXRvcjogU3RyaW5nISB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgZXhwb25lbnRTeW1ib2w6IFN0cmluZyEgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGZvcm1hdDogU3RyaW5nIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBmb3JtYXRXaWR0aDogSW50IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBmb3JtYXR0aW5nQ29udGV4dDogQ29udGV4dCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgZ2VuZXJhdGVzRGVjaW1hbE51bWJlcnM6IEJvb2wgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGdyb3VwaW5nU2VwYXJhdG9yOiBTdHJpbmchIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBncm91cGluZ1NpemU6IEludCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgaGFzVGhvdXNhbmRTZXBhcmF0b3JzOiBCb29sIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBpbnRlcm5hdGlvbmFsQ3VycmVuY3lTeW1ib2w6IFN0cmluZyEgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGlzTGVuaWVudDogQm9vbCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgaXNQYXJ0aWFsU3RyaW5nVmFsaWRhdGlvbkVuYWJsZWQ6IEJvb2wgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGxvY2FsZTogTG9jYWxlISB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgbG9jYWxpemVzRm9ybWF0OiBCb29sIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBtYXhpbXVtOiBOU051bWJlcj8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIG1heGltdW1GcmFjdGlvbkRpZ2l0czogSW50IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBtYXhpbXVtSW50ZWdlckRpZ2l0czogSW50IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBtYXhpbXVtU2lnbmlmaWNhbnREaWdpdHM6IEludCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgbWluaW11bTogTlNOdW1iZXI/IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBtaW5pbXVtRnJhY3Rpb25EaWdpdHM6IEludCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgbWluaW11bUludGVnZXJEaWdpdHM6IEludCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgbWluaW11bVNpZ25pZmljYW50RGlnaXRzOiBJbnQgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIG1pbnVzU2lnbjogU3RyaW5nISB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgbXVsdGlwbGllcjogTlNOdW1iZXI/IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBuZWdhdGl2ZUZvcm1hdDogU3RyaW5nISB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgbmVnYXRpdmVJbmZpbml0eVN5bWJvbDogU3RyaW5nIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBuZWdhdGl2ZVByZWZpeDogU3RyaW5nISB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgbmVnYXRpdmVTdWZmaXg6IFN0cmluZyEgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIG5pbFN5bWJvbDogU3RyaW5nIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBub3RBTnVtYmVyU3ltYm9sOiBTdHJpbmchIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBudW1iZXJTdHlsZTogU3R5bGUgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHBhZGRpbmdDaGFyYWN0ZXI6IFN0cmluZyEgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHBhZGRpbmdQb3NpdGlvbjogUGFkUG9zaXRpb24geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHBlck1pbGxTeW1ib2w6IFN0cmluZyEgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHBlcmNlbnRTeW1ib2w6IFN0cmluZyEgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHBsdXNTaWduOiBTdHJpbmchIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBwb3NpdGl2ZUZvcm1hdDogU3RyaW5nISB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgcG9zaXRpdmVJbmZpbml0eVN5bWJvbDogU3RyaW5nIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBwb3NpdGl2ZVByZWZpeDogU3RyaW5nISB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgcG9zaXRpdmVTdWZmaXg6IFN0cmluZyEgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHJvdW5kaW5nQmVoYXZpb3I6IE5TRGVjaW1hbE51bWJlckhhbmRsZXIgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHJvdW5kaW5nSW5jcmVtZW50OiBOU051bWJlciEgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHJvdW5kaW5nTW9kZTogUm91bmRpbmdNb2RlIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBzZWNvbmRhcnlHcm91cGluZ1NpemU6IEludCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgdGV4dEF0dHJpYnV0ZXNGb3JOZWdhdGl2ZUluZmluaXR5OiBbU3RyaW5nOiBBbnldPyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgdGV4dEF0dHJpYnV0ZXNGb3JOZWdhdGl2ZVZhbHVlczogW1N0cmluZzogQW55XT8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHRleHRBdHRyaWJ1dGVzRm9yTmlsOiBbU3RyaW5nOiBBbnldPyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgdGV4dEF0dHJpYnV0ZXNGb3JOb3RBTnVtYmVyOiBbU3RyaW5nOiBBbnldPyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgdGV4dEF0dHJpYnV0ZXNGb3JQb3NpdGl2ZUluZmluaXR5OiBbU3RyaW5nOiBBbnldPyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgdGV4dEF0dHJpYnV0ZXNGb3JQb3NpdGl2ZVZhbHVlczogW1N0cmluZzogQW55XT8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHRleHRBdHRyaWJ1dGVzRm9yWmVybzogW1N0cmluZzogQW55XT8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHRob3VzYW5kU2VwYXJhdG9yOiBTdHJpbmchIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciB1c2VzR3JvdXBpbmdTZXBhcmF0b3I6IEJvb2wgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHVzZXNTaWduaWZpY2FudERpZ2l0czogQm9vbCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgemVyb1N5bWJvbDogU3RyaW5nPyB7IGdldCBzZXQgfQogICAgb3BlbiBmdW5jIG51bWJlcihmcm9tIHN0cmluZzogU3RyaW5nKSAtPiBOU051bWJlcj8ge30KICAgIG9wZW4gZnVuYyBvYmplY3RWYWx1ZShfIHN0cmluZzogU3RyaW5nLCByYW5nZTogaW5vdXQgTlNSYW5nZSkgdGhyb3dzIC0+IEFueT8ge30KICAgIG9wZW4gZnVuYyBzdHJpbmcoZnJvbSBudW1iZXI6IE5TTnVtYmVyKSAtPiBTdHJpbmc/IHt9Cn0Kb3BlbiBjbGFzcyBPcGVyYXRpb24gewogICAgcHVibGljIGluaXQoKSB7fQogICAgcHVibGljIHZhciBjb21wbGV0aW9uQmxvY2s6ICgoKSAtPiBWb2lkKT8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGRlcGVuZGVuY2llczogW09wZXJhdGlvbl0geyBnZXQgfQogICAgb3BlbiB2YXIgaXNBc3luY2hyb25vdXM6IEJvb2wgeyBnZXQgfQogICAgb3BlbiB2YXIgaXNDYW5jZWxsZWQ6IEJvb2wgeyBnZXQgfQogICAgb3BlbiB2YXIgaXNFeGVjdXRpbmc6IEJvb2wgeyBnZXQgfQogICAgb3BlbiB2YXIgaXNGaW5pc2hlZDogQm9vbCB7IGdldCB9CiAgICBvcGVuIHZhciBpc1JlYWR5OiBCb29sIHsgZ2V0IH0KICAgIG9wZW4gdmFyIG5hbWU6IFN0cmluZz8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHF1YWxpdHlPZlNlcnZpY2U6IFF1YWxpdHlPZlNlcnZpY2UgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHF1ZXVlUHJpb3JpdHk6IFF1ZXVlUHJpb3JpdHkgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHRocmVhZFByaW9yaXR5OiBEb3VibGUgeyBnZXQgc2V0IH0KICAgIG9wZW4gZnVuYyBhZGREZXBlbmRlbmN5KF8gb3A6IE9wZXJhdGlvbikge30KICAgIG9wZW4gZnVuYyBjYW5jZWwoKSB7fQogICAgcHVibGljIGZ1bmMgZGlkQ2hhbmdlVmFsdWUoZm9yS2V5IGtleTogU3RyaW5nKSB7fQogICAgb3BlbiBmdW5jIG1haW4oKSB7fQogICAgb3BlbiBmdW5jIHJlbW92ZURlcGVuZGVuY3koXyBvcDogT3BlcmF0aW9uKSB7fQogICAgb3BlbiBmdW5jIHN0YXJ0KCkge30KICAgIG9wZW4gZnVuYyB3YWl0VW50aWxGaW5pc2hlZCgpIHt9CiAgICBwdWJsaWMgZnVuYyB3aWxsQ2hhbmdlVmFsdWUoZm9yS2V5IGtleTogU3RyaW5nKSB7fQp9Cm9wZW4gY2xhc3MgT3BlcmF0aW9uUXVldWUgewogICAgb3BlbiBjbGFzcyB2YXIgY3VycmVudDogT3BlcmF0aW9uUXVldWU/IHsgZ2V0IH0KICAgIHB1YmxpYyBzdGF0aWMgdmFyIGRlZmF1bHRNYXhDb25jdXJyZW50T3BlcmF0aW9uQ291bnQ6IEludCB7IGdldCB9CiAgICBvcGVuIGNsYXNzIHZhciBtYWluOiBPcGVyYXRpb25RdWV1ZSB7IGdldCB9CiAgICBvcGVuIHZhciBpc1N1c3BlbmRlZDogQm9vbCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgbWF4Q29uY3VycmVudE9wZXJhdGlvbkNvdW50OiBJbnQgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIG5hbWU6IFN0cmluZz8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIG9wZXJhdGlvbkNvdW50OiBJbnQgeyBnZXQgfQogICAgb3BlbiB2YXIgb3BlcmF0aW9uczogW09wZXJhdGlvbl0geyBnZXQgfQogICAgb3BlbiB2YXIgcXVhbGl0eU9mU2VydmljZTogUXVhbGl0eU9mU2VydmljZSB7IGdldCBzZXQgfQojaWYgREVQTE9ZTUVOVF9FTkFCTEVfTElCRElTUEFUQ0gKICAgIG9wZW4gdmFyIHVuZGVybHlpbmdRdWV1ZTogRGlzcGF0Y2hRdWV1ZT8geyBnZXQgc2V0IH0KI2VuZGlmCiAgICBvcGVuIGZ1bmMgYWRkT3BlcmF0aW9uKF8gYmxvY2s6IEBlc2NhcGluZyAoKSAtPiBTd2lmdC5Wb2lkKSB7fQogICAgb3BlbiBmdW5jIGFkZE9wZXJhdGlvbnMoXyBvcHM6IFtPcGVyYXRpb25dLCB3YWl0VW50aWxGaW5pc2hlZCB3YWl0OiBCb29sKSB7fQogICAgb3BlbiBmdW5jIGNhbmNlbEFsbE9wZXJhdGlvbnMoKSB7fQogICAgb3BlbiBmdW5jIHdhaXRVbnRpbEFsbE9wZXJhdGlvbnNBcmVGaW5pc2hlZCgpIHt9Cn0Kb3BlbiBjbGFzcyBPdXRwdXRTdHJlYW0gewogICAgb3BlbiBjbGFzcyBmdW5jIHRvTWVtb3J5KCkgLT4gU2VsZiB7fQogICAgcHVibGljIGluaXQodG9CdWZmZXIgYnVmZmVyOiBVbnNhZmVNdXRhYmxlUG9pbnRlcjxVSW50OD4sIGNhcGFjaXR5OiBJbnQpIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdD8odG9GaWxlQXRQYXRoIHBhdGg6IFN0cmluZywgYXBwZW5kIHNob3VsZEFwcGVuZDogQm9vbCkge30KICAgIHB1YmxpYyByZXF1aXJlZCBpbml0KHRvTWVtb3J5OiBWb2lkKSB7fQogICAgcHVibGljIGluaXQ/KHVybDogVVJMLCBhcHBlbmQgc2hvdWxkQXBwZW5kOiBCb29sKSB7fQogICAgb3BlbiB2YXIgaGFzU3BhY2VBdmFpbGFibGU6IEJvb2wgeyBnZXQgfQogICAgb3BlbiBmdW5jIHdyaXRlKF8gYnVmZmVyOiBVbnNhZmVQb2ludGVyPFVJbnQ4PiwgbWF4TGVuZ3RoIGxlbjogSW50KSAtPiBJbnQge30KfQpvcGVuIGNsYXNzIFBlcnNvbk5hbWVDb21wb25lbnRzRm9ybWF0dGVyIHsKICAgIG9wZW4gY2xhc3MgZnVuYyBsb2NhbGl6ZWRTdHJpbmcoZnJvbSBjb21wb25lbnRzOiBQZXJzb25OYW1lQ29tcG9uZW50cywgc3R5bGUgbmFtZUZvcm1hdFN0eWxlOiBTdHlsZSwgb3B0aW9ucyBuYW1lT3B0aW9uczogT3B0aW9ucyA9IHgpIC0+IFN0cmluZyB7fQogICAgb3BlbiB2YXIgaXNQaG9uZXRpYzogQm9vbCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgc3R5bGU6IFN0eWxlIHsgZ2V0IHNldCB9CiAgICBvcGVuIGZ1bmMgYW5ub3RhdGVkU3RyaW5nKGZyb20gY29tcG9uZW50czogUGVyc29uTmFtZUNvbXBvbmVudHMpIC0+IE5TQXR0cmlidXRlZFN0cmluZyB7fQogICAgb3BlbiBmdW5jIHBlcnNvbk5hbWVDb21wb25lbnRzKGZyb20gc3RyaW5nOiBTdHJpbmcpIC0+IFBlcnNvbk5hbWVDb21wb25lbnRzPyB7fQogICAgb3BlbiBmdW5jIHN0cmluZyhmcm9tIGNvbXBvbmVudHM6IFBlcnNvbk5hbWVDb21wb25lbnRzKSAtPiBTdHJpbmcge30KfQpvcGVuIGNsYXNzIFBpcGUgewogICAgcHVibGljIHZhciBmaWxlSGFuZGxlRm9yUmVhZGluZzogRmlsZUhhbmRsZSB7IGdldCB9CiAgICBwdWJsaWMgdmFyIGZpbGVIYW5kbGVGb3JXcml0aW5nOiBGaWxlSGFuZGxlIHsgZ2V0IH0KfQpvcGVuIGNsYXNzIFBvcnQgewogICAgcHVibGljIHN0YXRpYyB2YXIgZGlkQmVjb21lSW52YWxpZE5vdGlmaWNhdGlvbiB7IGdldCB9CiAgICBwdWJsaWMgaW5pdCgpIHt9CiAgICBwdWJsaWMgcmVxdWlyZWQgaW5pdD8oY29kZXIgYURlY29kZXI6IE5TQ29kZXIpIHt9CiAgICBvcGVuIHZhciBpc1ZhbGlkOiBCb29sIHsgZ2V0IH0KICAgIG9wZW4gdmFyIHJlc2VydmVkU3BhY2VMZW5ndGg6IEludCB7IGdldCB9CiAgICBvcGVuIGZ1bmMgY29weSh3aXRoIHpvbmU6IE5TWm9uZT8gPSB4KSAtPiBBbnkge30KICAgIG9wZW4gZnVuYyBlbmNvZGUod2l0aCBhQ29kZXI6IE5TQ29kZXIpIHt9CiAgICBvcGVuIGZ1bmMgaW52YWxpZGF0ZSgpIHt9CiAgICBvcGVuIGZ1bmMgcmVtb3ZlKGZyb20gcnVuTG9vcDogUnVuTG9vcCwgZm9yTW9kZSBtb2RlOiBSdW5Mb29wTW9kZSkge30KICAgIG9wZW4gZnVuYyBzY2hlZHVsZShpbiBydW5Mb29wOiBSdW5Mb29wLCBmb3JNb2RlIG1vZGU6IFJ1bkxvb3BNb2RlKSB7fQogICAgb3BlbiBmdW5jIHNlbmRCZWZvcmVEYXRlKF8gbGltaXREYXRlOiBEYXRlLCBjb21wb25lbnRzOiBOU011dGFibGVBcnJheT8sIGZyb20gcmVjZWl2ZVBvcnQ6IFBvcnQ/LCByZXNlcnZlZCBoZWFkZXJTcGFjZVJlc2VydmVkOiBJbnQpIC0+IEJvb2wge30KICAgIG9wZW4gZnVuYyBzZW5kQmVmb3JlRGF0ZShfIGxpbWl0RGF0ZTogRGF0ZSwgbXNnaWQgbXNnSUQ6IEludCwgY29tcG9uZW50czogTlNNdXRhYmxlQXJyYXk/LCBmcm9tIHJlY2VpdmVQb3J0OiBQb3J0PywgcmVzZXJ2ZWQgaGVhZGVyU3BhY2VSZXNlcnZlZDogSW50KSAtPiBCb29sIHt9Cn0Kb3BlbiBjbGFzcyBQb3J0TWVzc2FnZSB7CiAgICBwdWJsaWMgaW5pdChzZW5kUG9ydDogUG9ydD8sIHJlY2VpdmVQb3J0IHJlcGx5UG9ydDogUG9ydD8sIGNvbXBvbmVudHM6IFtBbnlPYmplY3RdPykge30KICAgIG9wZW4gdmFyIGNvbXBvbmVudHM6IFtBbnlPYmplY3RdPyB7IGdldCB9CiAgICBvcGVuIHZhciBtc2dpZDogVUludDMyIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciByZWNlaXZlUG9ydDogUG9ydD8geyBnZXQgfQogICAgb3BlbiB2YXIgc2VuZFBvcnQ6IFBvcnQ/IHsgZ2V0IH0KICAgIG9wZW4gZnVuYyBzZW5kQmVmb3JlRGF0ZShfIGRhdGU6IERhdGUpIC0+IEJvb2wge30KfQpvcGVuIGNsYXNzIFByb2Nlc3MgewogICAgcHVibGljIHN0YXRpYyB2YXIgZGlkVGVybWluYXRlTm90aWZpY2F0aW9uIHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgZnVuYyBydW4oXyB1cmw6IFVSTCwgYXJndW1lbnRzOiBbU3RyaW5nXSwgdGVybWluYXRpb25IYW5kbGVyOiAoKFByb2Nlc3MpIC0+IFZvaWQpPyA9IHgpIHRocm93cyAtPiBQcm9jZXNzIHt9CiAgICBvcGVuIHZhciBhcmd1bWVudHM6IFtTdHJpbmddPyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgY3VycmVudERpcmVjdG9yeVVSTCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgZW52aXJvbm1lbnQ6IFtTdHJpbmc6IFN0cmluZ10/IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBleGVjdXRhYmxlVVJMOiBVUkw/IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBpc1J1bm5pbmc6IEJvb2wgeyBnZXQgfQogICAgb3BlbiB2YXIgcHJvY2Vzc0lkZW50aWZpZXI6IEludDMyIHsgZ2V0IH0KICAgIG9wZW4gdmFyIHF1YWxpdHlPZlNlcnZpY2U6IFF1YWxpdHlPZlNlcnZpY2UgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHN0YW5kYXJkRXJyb3I6IEFueT8geyBnZXQgfQogICAgb3BlbiB2YXIgc3RhbmRhcmRJbnB1dDogQW55PyB7IGdldCB9CiAgICBvcGVuIHZhciBzdGFuZGFyZE91dHB1dDogQW55PyB7IGdldCB9CiAgICBvcGVuIHZhciB0ZXJtaW5hdGlvbkhhbmRsZXI6ICgoUHJvY2VzcykgLT4gVm9pZCk/IHsgZ2V0IHNldCB9CiAgICBwdWJsaWMgdmFyIHRlcm1pbmF0aW9uUmVhc29uOiBUZXJtaW5hdGlvblJlYXNvbiB7IGdldCB9CiAgICBwdWJsaWMgdmFyIHRlcm1pbmF0aW9uU3RhdHVzOiBJbnQzMiB7IGdldCB9CiAgICBvcGVuIGZ1bmMgaW50ZXJydXB0KCkge30KICAgIG9wZW4gZnVuYyByZXN1bWUoKSAtPiBCb29sIHt9CiAgICBvcGVuIGZ1bmMgcnVuKCkgdGhyb3dzIHt9CiAgICBvcGVuIGZ1bmMgc3VzcGVuZCgpIC0+IEJvb2wge30KICAgIG9wZW4gZnVuYyB0ZXJtaW5hdGUoKSB7fQogICAgb3BlbiBmdW5jIHdhaXRVbnRpbEV4aXQoKSB7fQp9Cm9wZW4gY2xhc3MgUHJvY2Vzc0luZm8gewogICAgcHVibGljIHN0YXRpYyB2YXIgcHJvY2Vzc0luZm8geyBnZXQgfQogICAgb3BlbiB2YXIgYWN0aXZlUHJvY2Vzc29yQ291bnQ6IEludCB7IGdldCB9CiAgICBvcGVuIHZhciBhcmd1bWVudHM6IFtTdHJpbmddIHsgZ2V0IH0KICAgIG9wZW4gdmFyIGVudmlyb25tZW50OiBbU3RyaW5nOiBTdHJpbmddIHsgZ2V0IH0KICAgIG9wZW4gdmFyIGZ1bGxVc2VyTmFtZTogU3RyaW5nIHsgZ2V0IH0KICAgIG9wZW4gdmFyIGdsb2JhbGx5VW5pcXVlU3RyaW5nOiBTdHJpbmcgeyBnZXQgfQogICAgb3BlbiB2YXIgaG9zdE5hbWU6IFN0cmluZyB7IGdldCB9CiAgICBvcGVuIHZhciBvcGVyYXRpbmdTeXN0ZW1WZXJzaW9uOiBPcGVyYXRpbmdTeXN0ZW1WZXJzaW9uIHsgZ2V0IH0KICAgIG9wZW4gdmFyIG9wZXJhdGluZ1N5c3RlbVZlcnNpb25TdHJpbmc6IFN0cmluZyB7IGdldCB9CiAgICBvcGVuIHZhciBwaHlzaWNhbE1lbW9yeTogVUludDY0IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHByb2Nlc3NJZGVudGlmaWVyOiBJbnQzMiB7IGdldCB9CiAgICBvcGVuIHZhciBwcm9jZXNzTmFtZTogU3RyaW5nIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBwcm9jZXNzb3JDb3VudDogSW50IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHN5c3RlbVVwdGltZTogVGltZUludGVydmFsIHsgZ2V0IH0KICAgIG9wZW4gdmFyIHVzZXJOYW1lOiBTdHJpbmcgeyBnZXQgfQogICAgb3BlbiBmdW5jIGlzT3BlcmF0aW5nU3lzdGVtQXRMZWFzdChfIHZlcnNpb246IE9wZXJhdGluZ1N5c3RlbVZlcnNpb24pIC0+IEJvb2wge30KfQpvcGVuIGNsYXNzIFByb2dyZXNzIHsKICAgIG9wZW4gY2xhc3MgZnVuYyBjdXJyZW50KCkgLT4gUHJvZ3Jlc3M/IHt9CiAgICBvcGVuIGNsYXNzIGZ1bmMgZGlzY3JldGVQcm9ncmVzcyh0b3RhbFVuaXRDb3VudCB1bml0Q291bnQ6IEludDY0KSAtPiBQcm9ncmVzcyB7fQogICAgcHVibGljIGluaXQocGFyZW50IHBhcmVudFByb2dyZXNzOiBQcm9ncmVzcz8sIHVzZXJJbmZvIHVzZXJJbmZvT3JOaWw6IFtQcm9ncmVzc1VzZXJJbmZvS2V5OiBBbnldPyA9IHgpIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdCh0b3RhbFVuaXRDb3VudCB1bml0Q291bnQ6IEludDY0KSB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQodG90YWxVbml0Q291bnQgdW5pdENvdW50OiBJbnQ2NCwgcGFyZW50OiBQcm9ncmVzcywgcGVuZGluZ1VuaXRDb3VudCBwb3J0aW9uT2ZQYXJlbnRUb3RhbFVuaXRDb3VudDogSW50NjQpIHt9CiAgICBvcGVuIHZhciBjYW5jZWxsYXRpb25IYW5kbGVyOiAoKCkgLT4gVm9pZCk/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGNvbXBsZXRlZFVuaXRDb3VudDogSW50NjQgeyBnZXQgc2V0IH0KICAgIHB1YmxpYyB2YXIgZnJhY3Rpb25Db21wbGV0ZWQ6IERvdWJsZSB7IGdldCB9CiAgICBvcGVuIHZhciBpc0NhbmNlbGxhYmxlOiBCb29sIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBpc0NhbmNlbGxlZDogQm9vbCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgaXNGaW5pc2hlZDogQm9vbCB7IGdldCB9CiAgICBvcGVuIHZhciBpc0luZGV0ZXJtaW5hdGU6IEJvb2wgeyBnZXQgfQogICAgb3BlbiB2YXIgaXNQYXVzYWJsZTogQm9vbCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgaXNQYXVzZWQ6IEJvb2wgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGtpbmQ6IFByb2dyZXNzS2luZD8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGxvY2FsaXplZEFkZGl0aW9uYWxEZXNjcmlwdGlvbjogU3RyaW5nISB7IGdldCB9CiAgICBvcGVuIHZhciBsb2NhbGl6ZWREZXNjcmlwdGlvbjogU3RyaW5nISB7IGdldCB9CiAgICBvcGVuIHZhciBwYXVzaW5nSGFuZGxlcjogKCgpIC0+IFZvaWQpPyB7IGdldCB9CiAgICBvcGVuIHZhciByZXN1bWluZ0hhbmRsZXI6ICgoKSAtPiBWb2lkKT8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHRvdGFsVW5pdENvdW50OiBJbnQ2NCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgdXNlckluZm86IFtQcm9ncmVzc1VzZXJJbmZvS2V5OiBBbnldIHsgZ2V0IH0KICAgIG9wZW4gZnVuYyBhZGRDaGlsZChfIGNoaWxkOiBQcm9ncmVzcywgd2l0aFBlbmRpbmdVbml0Q291bnQgaW5Vbml0Q291bnQ6IEludDY0KSB7fQogICAgb3BlbiBmdW5jIGJlY29tZUN1cnJlbnQod2l0aFBlbmRpbmdVbml0Q291bnQgdW5pdENvdW50OiBJbnQ2NCkge30KICAgIG9wZW4gZnVuYyBjYW5jZWwoKSB7fQogICAgb3BlbiBmdW5jIHBhdXNlKCkge30KICAgIG9wZW4gZnVuYyByZXNpZ25DdXJyZW50KCkge30KICAgIG9wZW4gZnVuYyByZXN1bWUoKSB7fQogICAgb3BlbiBmdW5jIHNldFVzZXJJbmZvT2JqZWN0KF8gb2JqZWN0T3JOaWw6IEFueT8sIGZvcktleSBrZXk6IFByb2dyZXNzVXNlckluZm9LZXkpIHt9Cn0Kb3BlbiBjbGFzcyBQcm9wZXJ0eUxpc3RTZXJpYWxpemF0aW9uIHsKICAgIG9wZW4gY2xhc3MgZnVuYyBkYXRhKGZyb21Qcm9wZXJ0eUxpc3QgcGxpc3Q6IEFueSwgZm9ybWF0OiBQcm9wZXJ0eUxpc3RGb3JtYXQsIG9wdGlvbnMgb3B0OiBXcml0ZU9wdGlvbnMpIHRocm93cyAtPiBEYXRhIHt9CiAgICBvcGVuIGNsYXNzIGZ1bmMgcHJvcGVydHlMaXN0KF8gcGxpc3Q6IEFueSwgaXNWYWxpZEZvciBmb3JtYXQ6IFByb3BlcnR5TGlzdEZvcm1hdCkgLT4gQm9vbCB7fQogICAgb3BlbiBjbGFzcyBmdW5jIHByb3BlcnR5TGlzdChmcm9tIGRhdGE6IERhdGEsIG9wdGlvbnMgb3B0OiBSZWFkT3B0aW9ucyA9IHgsIGZvcm1hdDogVW5zYWZlTXV0YWJsZVBvaW50ZXI8UHJvcGVydHlMaXN0Rm9ybWF0Pj8pIHRocm93cyAtPiBBbnkge30KICAgIG9wZW4gY2xhc3MgZnVuYyBwcm9wZXJ0eUxpc3Qod2l0aCBzdHJlYW06IElucHV0U3RyZWFtLCBvcHRpb25zIG9wdDogUmVhZE9wdGlvbnMgPSB4LCBmb3JtYXQ6IFVuc2FmZU11dGFibGVQb2ludGVyPFByb3BlcnR5TGlzdEZvcm1hdD4/KSB0aHJvd3MgLT4gQW55IHt9Cn0Kb3BlbiBjbGFzcyBSdW5Mb29wIHsKICAgIG9wZW4gY2xhc3MgdmFyIGN1cnJlbnQ6IFJ1bkxvb3AgeyBnZXQgfQogICAgb3BlbiBjbGFzcyB2YXIgbWFpbjogUnVuTG9vcCB7IGdldCB9CiAgICBvcGVuIHZhciBjdXJyZW50TW9kZTogUnVuTG9vcE1vZGU/IHsgZ2V0IH0KICAgIG9wZW4gZnVuYyBhY2NlcHRJbnB1dChmb3JNb2RlIG1vZGU6IFN0cmluZywgYmVmb3JlIGxpbWl0RGF0ZTogRGF0ZSkge30KICAgIG9wZW4gZnVuYyBhZGQoXyBhUG9ydDogUG9ydCwgZm9yTW9kZSBtb2RlOiBSdW5Mb29wTW9kZSkge30KICAgIG9wZW4gZnVuYyBnZXRDRlJ1bkxvb3AoKSAtPiBDRlJ1bkxvb3Age30KICAgIG9wZW4gZnVuYyBsaW1pdERhdGUoZm9yTW9kZSBtb2RlOiBSdW5Mb29wTW9kZSkgLT4gRGF0ZT8ge30KICAgIHB1YmxpYyBmdW5jIHBlcmZvcm0oXyBibG9jazogQGVzY2FwaW5nICgpIC0+IFZvaWQpIHt9CiAgICBwdWJsaWMgZnVuYyBwZXJmb3JtKGluTW9kZXMgbW9kZXM6IFtSdW5Mb29wTW9kZV0sIGJsb2NrOiBAZXNjYXBpbmcgKCkgLT4gVm9pZCkge30KICAgIG9wZW4gZnVuYyByZW1vdmUoXyBhUG9ydDogUG9ydCwgZm9yTW9kZSBtb2RlOiBSdW5Mb29wTW9kZSkge30KICAgIHB1YmxpYyBmdW5jIHJ1bigpIHt9CiAgICBwdWJsaWMgZnVuYyBydW4obW9kZTogUnVuTG9vcE1vZGUsIGJlZm9yZSBsaW1pdERhdGU6IERhdGUpIC0+IEJvb2wge30KICAgIHB1YmxpYyBmdW5jIHJ1bih1bnRpbCBsaW1pdERhdGU6IERhdGUpIHt9Cn0Kb3BlbiBjbGFzcyBTY2FubmVyIHsKICAgIG9wZW4gY2xhc3MgZnVuYyBsb2NhbGl6ZWRTY2FubmVyV2l0aFN0cmluZyhfIHN0cmluZzogU3RyaW5nKSAtPiBBbnlPYmplY3Qge30KICAgIHB1YmxpYyBpbml0KHN0cmluZzogU3RyaW5nKSB7fQogICAgb3BlbiB2YXIgY2FzZVNlbnNpdGl2ZTogQm9vbCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgY2hhcmFjdGVyc1RvQmVTa2lwcGVkOiBDaGFyYWN0ZXJTZXQ/IHsgZ2V0IHNldCB9CiAgICBwdWJsaWMgdmFyIGlzQXRFbmQ6IEJvb2wgeyBnZXQgfQogICAgb3BlbiB2YXIgbG9jYWxlOiBMb2NhbGU/IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBzY2FuTG9jYXRpb246IEludCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgc3RyaW5nOiBTdHJpbmcgeyBnZXQgfQogICAgcHVibGljIGZ1bmMgc2NhbkNoYXJhY3RlcnNGcm9tU2V0KF8gc2V0OiBDaGFyYWN0ZXJTZXQpIC0+IFN0cmluZz8ge30KICAgIHB1YmxpYyBmdW5jIHNjYW5EZWNpbWFsKCkgLT4gRGVjaW1hbD8ge30KICAgIHB1YmxpYyBmdW5jIHNjYW5EZWNpbWFsKF8gZGNtOiBpbm91dCBEZWNpbWFsKSAtPiBCb29sIHt9CiAgICBwdWJsaWMgZnVuYyBzY2FuRG91YmxlKCkgLT4gRG91YmxlPyB7fQogICAgQGRpc2NhcmRhYmxlUmVzdWx0IHB1YmxpYyBmdW5jIHNjYW5Eb3VibGUoXyByZXN1bHQ6IFVuc2FmZU11dGFibGVQb2ludGVyPERvdWJsZT4pIC0+IEJvb2wge30KICAgIHB1YmxpYyBmdW5jIHNjYW5GbG9hdCgpIC0+IEZsb2F0PyB7fQogICAgQGRpc2NhcmRhYmxlUmVzdWx0IHB1YmxpYyBmdW5jIHNjYW5GbG9hdChfIHJlc3VsdDogVW5zYWZlTXV0YWJsZVBvaW50ZXI8RmxvYXQ+KSAtPiBCb29sIHt9CiAgICBwdWJsaWMgZnVuYyBzY2FuSGV4RG91YmxlKCkgLT4gRG91YmxlPyB7fQogICAgQGRpc2NhcmRhYmxlUmVzdWx0IHB1YmxpYyBmdW5jIHNjYW5IZXhEb3VibGUoXyByZXN1bHQ6IFVuc2FmZU11dGFibGVQb2ludGVyPERvdWJsZT4pIC0+IEJvb2wge30KICAgIHB1YmxpYyBmdW5jIHNjYW5IZXhGbG9hdCgpIC0+IEZsb2F0PyB7fQogICAgQGRpc2NhcmRhYmxlUmVzdWx0IHB1YmxpYyBmdW5jIHNjYW5IZXhGbG9hdChfIHJlc3VsdDogVW5zYWZlTXV0YWJsZVBvaW50ZXI8RmxvYXQ+KSAtPiBCb29sIHt9CiAgICBwdWJsaWMgZnVuYyBzY2FuSGV4SW50MzIoKSAtPiBVSW50MzI/IHt9CiAgICBAZGlzY2FyZGFibGVSZXN1bHQgcHVibGljIGZ1bmMgc2NhbkhleEludDMyKF8gcmVzdWx0OiBVbnNhZmVNdXRhYmxlUG9pbnRlcjxVSW50MzI+KSAtPiBCb29sIHt9CiAgICBwdWJsaWMgZnVuYyBzY2FuSGV4SW50NjQoKSAtPiBVSW50NjQ/IHt9CiAgICBAZGlzY2FyZGFibGVSZXN1bHQgcHVibGljIGZ1bmMgc2NhbkhleEludDY0KF8gcmVzdWx0OiBVbnNhZmVNdXRhYmxlUG9pbnRlcjxVSW50NjQ+KSAtPiBCb29sIHt9CiAgICBwdWJsaWMgZnVuYyBzY2FuSW50KCkgLT4gSW50PyB7fQogICAgQGRpc2NhcmRhYmxlUmVzdWx0IHB1YmxpYyBmdW5jIHNjYW5JbnQoXyByZXN1bHQ6IFVuc2FmZU11dGFibGVQb2ludGVyPEludD4pIC0+IEJvb2wge30KICAgIHB1YmxpYyBmdW5jIHNjYW5JbnQzMigpIC0+IEludDMyPyB7fQogICAgQGRpc2NhcmRhYmxlUmVzdWx0IHB1YmxpYyBmdW5jIHNjYW5JbnQzMihfIHJlc3VsdDogVW5zYWZlTXV0YWJsZVBvaW50ZXI8SW50MzI+KSAtPiBCb29sIHt9CiAgICBwdWJsaWMgZnVuYyBzY2FuSW50NjQoKSAtPiBJbnQ2ND8ge30KICAgIEBkaXNjYXJkYWJsZVJlc3VsdCBwdWJsaWMgZnVuYyBzY2FuSW50NjQoXyByZXN1bHQ6IFVuc2FmZU11dGFibGVQb2ludGVyPEludDY0PikgLT4gQm9vbCB7fQogICAgcHVibGljIGZ1bmMgc2NhblN0cmluZyhfIHNlYXJjaFN0cmluZzogU3RyaW5nKSAtPiBTdHJpbmc/IHt9CiAgICBAZGlzY2FyZGFibGVSZXN1bHQgcHVibGljIGZ1bmMgc2NhblN0cmluZyhfIHN0cmluZzogU3RyaW5nLCBpbnRvIHB0cjogVW5zYWZlTXV0YWJsZVBvaW50ZXI8U3RyaW5nPz4/KSAtPiBCb29sIHt9CiAgICBwdWJsaWMgZnVuYyBzY2FuVW5zaWduZWRMb25nTG9uZygpIC0+IFVJbnQ2ND8ge30KICAgIEBkaXNjYXJkYWJsZVJlc3VsdCBwdWJsaWMgZnVuYyBzY2FuVW5zaWduZWRMb25nTG9uZyhfIHJlc3VsdDogVW5zYWZlTXV0YWJsZVBvaW50ZXI8VUludDY0PikgLT4gQm9vbCB7fQogICAgQGRpc2NhcmRhYmxlUmVzdWx0IHB1YmxpYyBmdW5jIHNjYW5VcFRvQ2hhcmFjdGVycyhmcm9tIHNldDogQ2hhcmFjdGVyU2V0LCBpbnRvIHB0cjogVW5zYWZlTXV0YWJsZVBvaW50ZXI8U3RyaW5nPz4/KSAtPiBCb29sIHt9CiAgICBwdWJsaWMgZnVuYyBzY2FuVXBUb0NoYXJhY3RlcnNGcm9tU2V0KF8gc2V0OiBDaGFyYWN0ZXJTZXQpIC0+IFN0cmluZz8ge30KICAgIHB1YmxpYyBmdW5jIHNjYW5VcFRvU3RyaW5nKF8gc3RyaW5nOiBTdHJpbmcpIC0+IFN0cmluZz8ge30KfQpvcGVuIGNsYXNzIFNvY2tldFBvcnQgewogICAgcHVibGljIGluaXQ/KHByb3RvY29sRmFtaWx5IGZhbWlseTogSW50MzIsIHNvY2tldFR5cGUgdHlwZTogSW50MzIsIHByb3RvY29sOiBJbnQzMiwgYWRkcmVzczogRGF0YSkge30KICAgIHB1YmxpYyBpbml0Pyhwcm90b2NvbEZhbWlseSBmYW1pbHk6IEludDMyLCBzb2NrZXRUeXBlIHR5cGU6IEludDMyLCBwcm90b2NvbDogSW50MzIsIHNvY2tldCBzb2NrOiBTb2NrZXROYXRpdmVIYW5kbGUpIHt9CiAgICBwdWJsaWMgaW5pdChyZW1vdGVXaXRoUHJvdG9jb2xGYW1pbHkgZmFtaWx5OiBJbnQzMiwgc29ja2V0VHlwZSB0eXBlOiBJbnQzMiwgcHJvdG9jb2w6IEludDMyLCBhZGRyZXNzOiBEYXRhKSB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQ/KHJlbW90ZVdpdGhUQ1BQb3J0IHBvcnQ6IFVJbnQxNiwgaG9zdCBob3N0TmFtZTogU3RyaW5nPykge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0Pyh0Y3BQb3J0IHBvcnQ6IFVJbnQxNikge30KICAgIG9wZW4gdmFyIGFkZHJlc3M6IERhdGEgeyBnZXQgfQogICAgb3BlbiB2YXIgcHJvdG9jb2w6IEludDMyIHsgZ2V0IH0KICAgIG9wZW4gdmFyIHByb3RvY29sRmFtaWx5OiBJbnQzMiB7IGdldCB9CiAgICBvcGVuIHZhciBzb2NrZXQ6IFNvY2tldE5hdGl2ZUhhbmRsZSB7IGdldCB9CiAgICBvcGVuIHZhciBzb2NrZXRUeXBlOiBJbnQzMiB7IGdldCB9Cn0Kb3BlbiBjbGFzcyBTdHJlYW0gewojaWYgZmFsc2UKICAgIG9wZW4gY2xhc3MgZnVuYyBnZXRCb3VuZFN0cmVhbXMod2l0aEJ1ZmZlclNpemUgYnVmZmVyU2l6ZTogSW50LCBpbnB1dFN0cmVhbTogQXV0b3JlbGVhc2luZ1Vuc2FmZU11dGFibGVQb2ludGVyPElucHV0U3RyZWFtPz4/LCBvdXRwdXRTdHJlYW06IEF1dG9yZWxlYXNpbmdVbnNhZmVNdXRhYmxlUG9pbnRlcjxPdXRwdXRTdHJlYW0/Pj8pIHt9CiNlbmRpZgojaWYgZmFsc2UKICAgIG9wZW4gY2xhc3MgZnVuYyBnZXRTdHJlYW1zVG9Ib3N0KHdpdGhOYW1lIGhvc3RuYW1lOiBTdHJpbmcsIHBvcnQ6IEludCwgaW5wdXRTdHJlYW06IEF1dG9yZWxlYXNpbmdVbnNhZmVNdXRhYmxlUG9pbnRlcjxJbnB1dFN0cmVhbT8+Pywgb3V0cHV0U3RyZWFtOiBBdXRvcmVsZWFzaW5nVW5zYWZlTXV0YWJsZVBvaW50ZXI8T3V0cHV0U3RyZWFtPz4/KSB7fQojZW5kaWYKICAgIG9wZW4gd2VhayB2YXIgZGVsZWdhdGU6IFN0cmVhbURlbGVnYXRlPyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgc3RyZWFtRXJyb3I6IEVycm9yPyB7IGdldCB9CiAgICBvcGVuIHZhciBzdHJlYW1TdGF0dXM6IFN0YXR1cyB7IGdldCB9CiAgICBvcGVuIGZ1bmMgY2xvc2UoKSB7fQogICAgb3BlbiBmdW5jIG9wZW4oKSB7fQogICAgb3BlbiBmdW5jIHByb3BlcnR5KGZvcktleSBrZXk6IFByb3BlcnR5S2V5KSAtPiBBbnlPYmplY3Q/IHt9CiAgICBvcGVuIGZ1bmMgcmVtb3ZlKGZyb20gYVJ1bkxvb3A6IFJ1bkxvb3AsIGZvck1vZGUgbW9kZTogUnVuTG9vcE1vZGUpIHt9CiAgICBvcGVuIGZ1bmMgc2NoZWR1bGUoaW4gYVJ1bkxvb3A6IFJ1bkxvb3AsIGZvck1vZGUgbW9kZTogUnVuTG9vcE1vZGUpIHt9CiAgICBvcGVuIGZ1bmMgc2V0UHJvcGVydHkoXyBwcm9wZXJ0eTogQW55T2JqZWN0PywgZm9yS2V5IGtleTogUHJvcGVydHlLZXkpIC0+IEJvb2wge30KfQpvcGVuIGNsYXNzIFRocmVhZCB7CiAgICBvcGVuIGNsYXNzIHZhciBjYWxsU3RhY2tSZXR1cm5BZGRyZXNzZXM6IFtOU051bWJlcl0geyBnZXQgfQogICAgb3BlbiBjbGFzcyB2YXIgY2FsbFN0YWNrU3ltYm9sczogW1N0cmluZ10geyBnZXQgfQogICAgb3BlbiBjbGFzcyB2YXIgY3VycmVudDogVGhyZWFkIHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgdmFyIGlzTWFpblRocmVhZDogQm9vbCB7IGdldCB9CiAgICBvcGVuIGNsYXNzIHZhciBtYWluVGhyZWFkOiBUaHJlYWQgeyBnZXQgfQogICAgb3BlbiBjbGFzcyBmdW5jIGRldGFjaE5ld1RocmVhZChfIGJsb2NrOiBAZXNjYXBpbmcgKCkgLT4gU3dpZnQuVm9pZCkge30KICAgIG9wZW4gY2xhc3MgZnVuYyBleGl0KCkge30KICAgIG9wZW4gY2xhc3MgZnVuYyBpc011bHRpVGhyZWFkZWQoKSAtPiBCb29sIHt9CiAgICBvcGVuIGNsYXNzIGZ1bmMgc2xlZXAoZm9yVGltZUludGVydmFsIGludGVydmFsOiBUaW1lSW50ZXJ2YWwpIHt9CiAgICBvcGVuIGNsYXNzIGZ1bmMgc2xlZXAodW50aWwgZGF0ZTogRGF0ZSkge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KGJsb2NrOiBAZXNjYXBpbmcgKCkgLT4gU3dpZnQuVm9pZCkge30KICAgIG9wZW4gdmFyIGlzQ2FuY2VsbGVkOiBCb29sIHsgZ2V0IH0KICAgIG9wZW4gdmFyIGlzRXhlY3V0aW5nOiBCb29sIHsgZ2V0IH0KICAgIG9wZW4gdmFyIGlzRmluaXNoZWQ6IEJvb2wgeyBnZXQgfQogICAgb3BlbiB2YXIgaXNNYWluVGhyZWFkOiBCb29sIHsgZ2V0IH0KICAgIG9wZW4gdmFyIG5hbWU6IFN0cmluZz8geyBnZXQgfQogICAgb3BlbiB2YXIgc3RhY2tTaXplOiBJbnQgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHRocmVhZERpY3Rpb25hcnk6IE5TTXV0YWJsZURpY3Rpb25hcnkgeyBnZXQgfQogICAgb3BlbiBmdW5jIGNhbmNlbCgpIHt9CiAgICBvcGVuIGZ1bmMgbWFpbigpIHt9CiAgICBvcGVuIGZ1bmMgc3RhcnQoKSB7fQp9Cm9wZW4gY2xhc3MgVGltZXIgewogICAgb3BlbiBjbGFzcyBmdW5jIHNjaGVkdWxlZFRpbWVyKHdpdGhUaW1lSW50ZXJ2YWwgaW50ZXJ2YWw6IFRpbWVJbnRlcnZhbCwgcmVwZWF0czogQm9vbCwgYmxvY2s6IEBlc2NhcGluZyAoVGltZXIpIC0+IFZvaWQpIC0+IFRpbWVyIHt9CiAgICBwdWJsaWMgaW5pdChmaXJlIGRhdGU6IERhdGUsIGludGVydmFsOiBUaW1lSW50ZXJ2YWwsIHJlcGVhdHM6IEJvb2wsIGJsb2NrOiBAZXNjYXBpbmcgKFRpbWVyKSAtPiBTd2lmdC5Wb2lkKSB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQodGltZUludGVydmFsIGludGVydmFsOiBUaW1lSW50ZXJ2YWwsIHJlcGVhdHM6IEJvb2wsIGJsb2NrOiBAZXNjYXBpbmcgKFRpbWVyKSAtPiBTd2lmdC5Wb2lkKSB7fQogICAgb3BlbiB2YXIgZmlyZURhdGU6IERhdGUgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGlzVmFsaWQ6IEJvb2wgeyBnZXQgfQogICAgb3BlbiB2YXIgdGltZUludGVydmFsOiBUaW1lSW50ZXJ2YWwgeyBnZXQgfQogICAgb3BlbiB2YXIgdG9sZXJhbmNlOiBUaW1lSW50ZXJ2YWwgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHVzZXJJbmZvOiBBbnk/IHsgZ2V0IH0KICAgIG9wZW4gZnVuYyBmaXJlKCkge30KICAgIG9wZW4gZnVuYyBpbnZhbGlkYXRlKCkge30KfQpvcGVuIGNsYXNzIFVSTEF1dGhlbnRpY2F0aW9uQ2hhbGxlbmdlIHsKICAgIHB1YmxpYyBpbml0KGF1dGhlbnRpY2F0aW9uQ2hhbGxlbmdlIGNoYWxsZW5nZTogVVJMQXV0aGVudGljYXRpb25DaGFsbGVuZ2UsIHNlbmRlcjogVVJMQXV0aGVudGljYXRpb25DaGFsbGVuZ2VTZW5kZXIpIHt9CiAgICBwdWJsaWMgaW5pdChwcm90ZWN0aW9uU3BhY2Ugc3BhY2U6IFVSTFByb3RlY3Rpb25TcGFjZSwgcHJvcG9zZWRDcmVkZW50aWFsIGNyZWRlbnRpYWw6IFVSTENyZWRlbnRpYWw/LCBwcmV2aW91c0ZhaWx1cmVDb3VudDogSW50LCBmYWlsdXJlUmVzcG9uc2UgcmVzcG9uc2U6IFVSTFJlc3BvbnNlPywgZXJyb3I6IEVycm9yPywgc2VuZGVyOiBVUkxBdXRoZW50aWNhdGlvbkNoYWxsZW5nZVNlbmRlcikge30KICAgIG9wZW4gdmFyIGVycm9yOiBFcnJvcj8geyBnZXQgfQogICAgb3BlbiB2YXIgZmFpbHVyZVJlc3BvbnNlOiBVUkxSZXNwb25zZT8geyBnZXQgfQogICAgb3BlbiB2YXIgcHJldmlvdXNGYWlsdXJlQ291bnQ6IEludCB7IGdldCB9CiAgICBvcGVuIHZhciBwcm9wb3NlZENyZWRlbnRpYWw6IFVSTENyZWRlbnRpYWw/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHByb3RlY3Rpb25TcGFjZTogVVJMUHJvdGVjdGlvblNwYWNlIHsgZ2V0IH0KICAgIG9wZW4gdmFyIHNlbmRlcjogVVJMQXV0aGVudGljYXRpb25DaGFsbGVuZ2VTZW5kZXI/IHsgZ2V0IH0KfQpvcGVuIGNsYXNzIFVSTENhY2hlIHsKICAgIG9wZW4gY2xhc3MgdmFyIHNoYXJlZDogVVJMQ2FjaGUgeyBnZXQgc2V0IH0KICAgIHB1YmxpYyBpbml0KG1lbW9yeUNhcGFjaXR5OiBJbnQsIGRpc2tDYXBhY2l0eTogSW50LCBkaXNrUGF0aCBwYXRoOiBTdHJpbmc/KSB7fQogICAgb3BlbiB2YXIgY3VycmVudERpc2tVc2FnZTogSW50IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGN1cnJlbnRNZW1vcnlVc2FnZTogSW50IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGRpc2tDYXBhY2l0eTogSW50IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBtZW1vcnlDYXBhY2l0eTogSW50IHsgZ2V0IHNldCB9CiAgICBvcGVuIGZ1bmMgY2FjaGVkUmVzcG9uc2UoZm9yIHJlcXVlc3Q6IFVSTFJlcXVlc3QpIC0+IENhY2hlZFVSTFJlc3BvbnNlPyB7fQogICAgcHVibGljIGZ1bmMgZ2V0Q2FjaGVkUmVzcG9uc2UoZm9yIGRhdGFUYXNrOiBVUkxTZXNzaW9uRGF0YVRhc2ssIGNvbXBsZXRpb25IYW5kbGVyOiAoQ2FjaGVkVVJMUmVzcG9uc2U/KSAtPiBWb2lkKSB7fQogICAgb3BlbiBmdW5jIHJlbW92ZUFsbENhY2hlZFJlc3BvbnNlcygpIHt9CiAgICBwdWJsaWMgZnVuYyByZW1vdmVDYWNoZWRSZXNwb25zZShmb3IgZGF0YVRhc2s6IFVSTFNlc3Npb25EYXRhVGFzaykge30KICAgIG9wZW4gZnVuYyByZW1vdmVDYWNoZWRSZXNwb25zZXMoc2luY2UgZGF0ZTogRGF0ZSkge30KICAgIHB1YmxpYyBmdW5jIHN0b3JlQ2FjaGVkUmVzcG9uc2UoXyBjYWNoZWRSZXNwb25zZTogQ2FjaGVkVVJMUmVzcG9uc2UsIGZvciBkYXRhVGFzazogVVJMU2Vzc2lvbkRhdGFUYXNrKSB7fQp9Cm9wZW4gY2xhc3MgVVJMQ3JlZGVudGlhbCB7CiAgICBwdWJsaWMgaW5pdCh1c2VyOiBTdHJpbmcsIHBhc3N3b3JkOiBTdHJpbmcsIHBlcnNpc3RlbmNlOiBQZXJzaXN0ZW5jZSkge30KICAgIG9wZW4gdmFyIGhhc1Bhc3N3b3JkOiBCb29sIHsgZ2V0IH0KICAgIG9wZW4gdmFyIHBhc3N3b3JkOiBTdHJpbmc/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHBlcnNpc3RlbmNlOiBQZXJzaXN0ZW5jZSB7IGdldCB9CiAgICBvcGVuIHZhciB1c2VyOiBTdHJpbmc/IHsgZ2V0IH0KfQpvcGVuIGNsYXNzIFVSTENyZWRlbnRpYWxTdG9yYWdlIHsKICAgIG9wZW4gY2xhc3MgdmFyIHNoYXJlZDogVVJMQ3JlZGVudGlhbFN0b3JhZ2UgeyBnZXQgfQogICAgb3BlbiB2YXIgYWxsQ3JlZGVudGlhbHM6IFtVUkxQcm90ZWN0aW9uU3BhY2U6IFtTdHJpbmc6IFVSTENyZWRlbnRpYWxdXSB7IGdldCB9CiAgICBvcGVuIGZ1bmMgY3JlZGVudGlhbHMoZm9yIHNwYWNlOiBVUkxQcm90ZWN0aW9uU3BhY2UpIC0+IFtTdHJpbmc6IFVSTENyZWRlbnRpYWxdPyB7fQogICAgb3BlbiBmdW5jIGRlZmF1bHRDcmVkZW50aWFsKGZvciBzcGFjZTogVVJMUHJvdGVjdGlvblNwYWNlKSAtPiBVUkxDcmVkZW50aWFsPyB7fQogICAgcHVibGljIGZ1bmMgZ2V0Q3JlZGVudGlhbHMoZm9yIHByb3RlY3Rpb25TcGFjZTogVVJMUHJvdGVjdGlvblNwYWNlLCB0YXNrOiBVUkxTZXNzaW9uVGFzaywgY29tcGxldGlvbkhhbmRsZXI6IChbU3RyaW5nOiBVUkxDcmVkZW50aWFsXT8pIC0+IFZvaWQpIHt9CiAgICBwdWJsaWMgZnVuYyBnZXREZWZhdWx0Q3JlZGVudGlhbChmb3Igc3BhY2U6IFVSTFByb3RlY3Rpb25TcGFjZSwgdGFzazogVVJMU2Vzc2lvblRhc2ssIGNvbXBsZXRpb25IYW5kbGVyOiAoVVJMQ3JlZGVudGlhbD8pIC0+IFZvaWQpIHt9CiAgICBvcGVuIGZ1bmMgcmVtb3ZlKF8gY3JlZGVudGlhbDogVVJMQ3JlZGVudGlhbCwgZm9yIHNwYWNlOiBVUkxQcm90ZWN0aW9uU3BhY2UpIHt9CiAgICBvcGVuIGZ1bmMgcmVtb3ZlKF8gY3JlZGVudGlhbDogVVJMQ3JlZGVudGlhbCwgZm9yIHNwYWNlOiBVUkxQcm90ZWN0aW9uU3BhY2UsIG9wdGlvbnM6IFtTdHJpbmc6IEFueU9iamVjdF0/ID0geCkge30KICAgIHB1YmxpYyBmdW5jIHJlbW92ZShfIGNyZWRlbnRpYWw6IFVSTENyZWRlbnRpYWwsIGZvciBwcm90ZWN0aW9uU3BhY2U6IFVSTFByb3RlY3Rpb25TcGFjZSwgb3B0aW9uczogW1N0cmluZzogQW55T2JqZWN0XT8gPSB4LCB0YXNrOiBVUkxTZXNzaW9uVGFzaykge30KICAgIG9wZW4gZnVuYyBzZXQoXyBjcmVkZW50aWFsOiBVUkxDcmVkZW50aWFsLCBmb3Igc3BhY2U6IFVSTFByb3RlY3Rpb25TcGFjZSkge30KICAgIHB1YmxpYyBmdW5jIHNldChfIGNyZWRlbnRpYWw6IFVSTENyZWRlbnRpYWwsIGZvciBwcm90ZWN0aW9uU3BhY2U6IFVSTFByb3RlY3Rpb25TcGFjZSwgdGFzazogVVJMU2Vzc2lvblRhc2spIHt9CiAgICBvcGVuIGZ1bmMgc2V0RGVmYXVsdENyZWRlbnRpYWwoXyBjcmVkZW50aWFsOiBVUkxDcmVkZW50aWFsLCBmb3Igc3BhY2U6IFVSTFByb3RlY3Rpb25TcGFjZSkge30KICAgIHB1YmxpYyBmdW5jIHNldERlZmF1bHRDcmVkZW50aWFsKF8gY3JlZGVudGlhbDogVVJMQ3JlZGVudGlhbCwgZm9yIHByb3RlY3Rpb25TcGFjZTogVVJMUHJvdGVjdGlvblNwYWNlLCB0YXNrOiBVUkxTZXNzaW9uVGFzaykge30KfQpvcGVuIGNsYXNzIFVSTFByb3RlY3Rpb25TcGFjZSB7CiAgICBwdWJsaWMgaW5pdChob3N0OiBTdHJpbmcsIHBvcnQ6IEludCwgcHJvdG9jb2w6IFN0cmluZz8sIHJlYWxtOiBTdHJpbmc/LCBhdXRoZW50aWNhdGlvbk1ldGhvZDogU3RyaW5nPykge30KICAgIHB1YmxpYyBpbml0KHByb3h5SG9zdCBob3N0OiBTdHJpbmcsIHBvcnQ6IEludCwgdHlwZTogU3RyaW5nPywgcmVhbG06IFN0cmluZz8sIGF1dGhlbnRpY2F0aW9uTWV0aG9kOiBTdHJpbmc/KSB7fQogICAgb3BlbiB2YXIgYXV0aGVudGljYXRpb25NZXRob2Q6IFN0cmluZyB7IGdldCB9CiAgICBwdWJsaWMgdmFyIGRpc3Rpbmd1aXNoZWROYW1lczogW0RhdGFdPyB7IGdldCB9CiAgICBvcGVuIHZhciBob3N0OiBTdHJpbmcgeyBnZXQgfQogICAgb3BlbiB2YXIgcG9ydDogSW50IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHByb3RvY29sOiBTdHJpbmc/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHByb3h5VHlwZTogU3RyaW5nPyB7IGdldCB9CiAgICBvcGVuIHZhciByZWFsbTogU3RyaW5nPyB7IGdldCB9CiAgICBvcGVuIHZhciByZWNlaXZlc0NyZWRlbnRpYWxTZWN1cmVseTogQm9vbCB7IGdldCB9Cn0Kb3BlbiBjbGFzcyBVUkxQcm90b2NvbCB7CiAgICBvcGVuIGNsYXNzIGZ1bmMgY2FuSW5pdCh3aXRoIHJlcXVlc3Q6IFVSTFJlcXVlc3QpIC0+IEJvb2wge30KICAgIG9wZW4gY2xhc3MgZnVuYyBjYW5vbmljYWxSZXF1ZXN0KGZvciByZXF1ZXN0OiBVUkxSZXF1ZXN0KSAtPiBVUkxSZXF1ZXN0IHt9CiAgICBvcGVuIGNsYXNzIGZ1bmMgcHJvcGVydHkoZm9yS2V5IGtleTogU3RyaW5nLCBpbiByZXF1ZXN0OiBVUkxSZXF1ZXN0KSAtPiBBbnk/IHt9CiAgICBvcGVuIGNsYXNzIGZ1bmMgcmVnaXN0ZXJDbGFzcyhfIHByb3RvY29sQ2xhc3M6IEFueUNsYXNzKSAtPiBCb29sIHt9CiAgICBvcGVuIGNsYXNzIGZ1bmMgcmVtb3ZlUHJvcGVydHkoZm9yS2V5IGtleTogU3RyaW5nLCBpbiByZXF1ZXN0OiBOU011dGFibGVVUkxSZXF1ZXN0KSB7fQogICAgb3BlbiBjbGFzcyBmdW5jIHJlcXVlc3RJc0NhY2hlRXF1aXZhbGVudChfIGE6IFVSTFJlcXVlc3QsIHRvIGI6IFVSTFJlcXVlc3QpIC0+IEJvb2wge30KICAgIG9wZW4gY2xhc3MgZnVuYyBzZXRQcm9wZXJ0eShfIHZhbHVlOiBBbnksIGZvcktleSBrZXk6IFN0cmluZywgaW4gcmVxdWVzdDogTlNNdXRhYmxlVVJMUmVxdWVzdCkge30KICAgIG9wZW4gY2xhc3MgZnVuYyB1bnJlZ2lzdGVyQ2xhc3MoXyBwcm90b2NvbENsYXNzOiBBbnlDbGFzcykge30KICAgIHB1YmxpYyByZXF1aXJlZCBpbml0KHJlcXVlc3Q6IFVSTFJlcXVlc3QsIGNhY2hlZFJlc3BvbnNlOiBDYWNoZWRVUkxSZXNwb25zZT8sIGNsaWVudDogVVJMUHJvdG9jb2xDbGllbnQ/KSB7fQogICAgcHVibGljIHJlcXVpcmVkIGNvbnZlbmllbmNlIGluaXQodGFzazogVVJMU2Vzc2lvblRhc2ssIGNhY2hlZFJlc3BvbnNlOiBDYWNoZWRVUkxSZXNwb25zZT8sIGNsaWVudDogVVJMUHJvdG9jb2xDbGllbnQ/KSB7fQogICAgb3BlbiB2YXIgY2FjaGVkUmVzcG9uc2U6IENhY2hlZFVSTFJlc3BvbnNlPyB7IGdldCB9CiAgICBvcGVuIHZhciBjbGllbnQ6IFVSTFByb3RvY29sQ2xpZW50PyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgcmVxdWVzdDogVVJMUmVxdWVzdCB7IGdldCB9CiAgICBvcGVuIHZhciB0YXNrOiBVUkxTZXNzaW9uVGFzaz8geyBnZXQgc2V0IH0KICAgIG9wZW4gZnVuYyBzdGFydExvYWRpbmcoKSB7fQogICAgb3BlbiBmdW5jIHN0b3BMb2FkaW5nKCkge30KfQpvcGVuIGNsYXNzIFVSTFJlc3BvbnNlIHsKICAgIHB1YmxpYyBzdGF0aWMgdmFyIHN1cHBvcnRzU2VjdXJlQ29kaW5nOiBCb29sIHsgZ2V0IH0KICAgIHB1YmxpYyByZXF1aXJlZCBpbml0Pyhjb2RlciBhRGVjb2RlcjogTlNDb2Rlcikge30KICAgIHB1YmxpYyBpbml0KHVybDogVVJMLCBtaW1lVHlwZTogU3RyaW5nPywgZXhwZWN0ZWRDb250ZW50TGVuZ3RoIGxlbmd0aDogSW50LCB0ZXh0RW5jb2RpbmdOYW1lIG5hbWU6IFN0cmluZz8pIHt9CiAgICBvcGVuIHZhciBleHBlY3RlZENvbnRlbnRMZW5ndGg6IEludDY0IHsgZ2V0IH0KICAgIG9wZW4gdmFyIG1pbWVUeXBlOiBTdHJpbmc/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHN1Z2dlc3RlZEZpbGVuYW1lOiBTdHJpbmc/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHRleHRFbmNvZGluZ05hbWU6IFN0cmluZz8geyBnZXQgfQogICAgb3BlbiB2YXIgdXJsOiBVUkw/IHsgZ2V0IH0KICAgIG9wZW4gZnVuYyBjb3B5KCkgLT4gQW55IHt9CiAgICBvcGVuIGZ1bmMgY29weSh3aXRoIHpvbmU6IE5TWm9uZT8gPSB4KSAtPiBBbnkge30KICAgIG9wZW4gZnVuYyBlbmNvZGUod2l0aCBhQ29kZXI6IE5TQ29kZXIpIHt9Cn0Kb3BlbiBjbGFzcyBVUkxTZXNzaW9uIHsKICAgIG9wZW4gY2xhc3MgdmFyIHNoYXJlZDogVVJMU2Vzc2lvbiB7IGdldCB9CiAgICBwdWJsaWMgaW5pdChjb25maWd1cmF0aW9uOiBVUkxTZXNzaW9uQ29uZmlndXJhdGlvbikge30KICAgIHB1YmxpYyBpbml0KGNvbmZpZ3VyYXRpb246IFVSTFNlc3Npb25Db25maWd1cmF0aW9uLCBkZWxlZ2F0ZTogVVJMU2Vzc2lvbkRlbGVnYXRlPywgZGVsZWdhdGVRdWV1ZSBxdWV1ZTogT3BlcmF0aW9uUXVldWU/KSB7fQogICAgb3BlbiB2YXIgY29uZmlndXJhdGlvbjogVVJMU2Vzc2lvbkNvbmZpZ3VyYXRpb24geyBnZXQgfQogICAgb3BlbiB2YXIgZGVsZWdhdGU6IFVSTFNlc3Npb25EZWxlZ2F0ZT8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGRlbGVnYXRlUXVldWU6IE9wZXJhdGlvblF1ZXVlIHsgZ2V0IH0KICAgIG9wZW4gdmFyIHNlc3Npb25EZXNjcmlwdGlvbjogU3RyaW5nPyB7IGdldCBzZXQgfQogICAgb3BlbiBmdW5jIGRhdGFUYXNrKHdpdGggcmVxdWVzdDogVVJMUmVxdWVzdCkgLT4gVVJMU2Vzc2lvbkRhdGFUYXNrIHt9CiAgICBvcGVuIGZ1bmMgZGF0YVRhc2sod2l0aCByZXF1ZXN0OiBVUkxSZXF1ZXN0LCBjb21wbGV0aW9uSGFuZGxlcjogQGVzY2FwaW5nIChEYXRhPywgVVJMUmVzcG9uc2U/LCBFcnJvcj8pIC0+IFZvaWQpIC0+IFVSTFNlc3Npb25EYXRhVGFzayB7fQogICAgb3BlbiBmdW5jIGRvd25sb2FkVGFzayh3aXRoIHJlcXVlc3Q6IFVSTFJlcXVlc3QpIC0+IFVSTFNlc3Npb25Eb3dubG9hZFRhc2sge30KICAgIG9wZW4gZnVuYyBkb3dubG9hZFRhc2sod2l0aCByZXF1ZXN0OiBVUkxSZXF1ZXN0LCBjb21wbGV0aW9uSGFuZGxlcjogQGVzY2FwaW5nIChVUkw/LCBVUkxSZXNwb25zZT8sIEVycm9yPykgLT4gVm9pZCkgLT4gVVJMU2Vzc2lvbkRvd25sb2FkVGFzayB7fQogICAgb3BlbiBmdW5jIGRvd25sb2FkVGFzayh3aXRoUmVzdW1lRGF0YSByZXN1bWVEYXRhOiBEYXRhKSAtPiBVUkxTZXNzaW9uRG93bmxvYWRUYXNrIHt9CiAgICBvcGVuIGZ1bmMgZG93bmxvYWRUYXNrKHdpdGhSZXN1bWVEYXRhIHJlc3VtZURhdGE6IERhdGEsIGNvbXBsZXRpb25IYW5kbGVyOiBAZXNjYXBpbmcgKFVSTD8sIFVSTFJlc3BvbnNlPywgRXJyb3I/KSAtPiBWb2lkKSAtPiBVUkxTZXNzaW9uRG93bmxvYWRUYXNrIHt9CiAgICBvcGVuIGZ1bmMgZmluaXNoVGFza3NBbmRJbnZhbGlkYXRlKCkge30KICAgIG9wZW4gZnVuYyBmbHVzaChjb21wbGV0aW9uSGFuZGxlcjogQGVzY2FwaW5nICgpIC0+IFZvaWQpIHt9CiAgICBvcGVuIGZ1bmMgZ2V0QWxsVGFza3MoY29tcGxldGlvbkhhbmRsZXI6IEBlc2NhcGluZyAoW1VSTFNlc3Npb25UYXNrXSkgLT4gVm9pZCkge30KICAgIG9wZW4gZnVuYyBnZXRUYXNrc1dpdGhDb21wbGV0aW9uSGFuZGxlcihjb21wbGV0aW9uSGFuZGxlcjogQGVzY2FwaW5nIChbVVJMU2Vzc2lvbkRhdGFUYXNrXSwgW1VSTFNlc3Npb25VcGxvYWRUYXNrXSwgW1VSTFNlc3Npb25Eb3dubG9hZFRhc2tdKSAtPiBWb2lkKSB7fQogICAgb3BlbiBmdW5jIGludmFsaWRhdGVBbmRDYW5jZWwoKSB7fQogICAgb3BlbiBmdW5jIHJlc2V0KGNvbXBsZXRpb25IYW5kbGVyOiBAZXNjYXBpbmcgKCkgLT4gVm9pZCkge30KICAgIG9wZW4gZnVuYyBzdHJlYW1UYXNrKHdpdGhIb3N0TmFtZSBob3N0bmFtZTogU3RyaW5nLCBwb3J0OiBJbnQpIC0+IFVSTFNlc3Npb25TdHJlYW1UYXNrIHt9CiAgICBvcGVuIGZ1bmMgdXBsb2FkVGFzayh3aXRoIHJlcXVlc3Q6IFVSTFJlcXVlc3QsIGZyb20gYm9keURhdGE6IERhdGEpIC0+IFVSTFNlc3Npb25VcGxvYWRUYXNrIHt9CiAgICBvcGVuIGZ1bmMgdXBsb2FkVGFzayh3aXRoIHJlcXVlc3Q6IFVSTFJlcXVlc3QsIGZyb20gYm9keURhdGE6IERhdGE/LCBjb21wbGV0aW9uSGFuZGxlcjogQGVzY2FwaW5nIChEYXRhPywgVVJMUmVzcG9uc2U/LCBFcnJvcj8pIC0+IFZvaWQpIC0+IFVSTFNlc3Npb25VcGxvYWRUYXNrIHt9CiAgICBvcGVuIGZ1bmMgdXBsb2FkVGFzayh3aXRoIHJlcXVlc3Q6IFVSTFJlcXVlc3QsIGZyb21GaWxlIGZpbGVVUkw6IFVSTCkgLT4gVVJMU2Vzc2lvblVwbG9hZFRhc2sge30KICAgIG9wZW4gZnVuYyB1cGxvYWRUYXNrKHdpdGggcmVxdWVzdDogVVJMUmVxdWVzdCwgZnJvbUZpbGUgZmlsZVVSTDogVVJMLCBjb21wbGV0aW9uSGFuZGxlcjogQGVzY2FwaW5nIChEYXRhPywgVVJMUmVzcG9uc2U/LCBFcnJvcj8pIC0+IFZvaWQpIC0+IFVSTFNlc3Npb25VcGxvYWRUYXNrIHt9CiAgICBvcGVuIGZ1bmMgdXBsb2FkVGFzayh3aXRoU3RyZWFtZWRSZXF1ZXN0IHJlcXVlc3Q6IFVSTFJlcXVlc3QpIC0+IFVSTFNlc3Npb25VcGxvYWRUYXNrIHt9Cn0Kb3BlbiBjbGFzcyBVUkxTZXNzaW9uQ29uZmlndXJhdGlvbiB7CiAgICBvcGVuIGNsYXNzIHZhciBkZWZhdWx0OiBVUkxTZXNzaW9uQ29uZmlndXJhdGlvbiB7IGdldCB9CiAgICBvcGVuIGNsYXNzIHZhciBlcGhlbWVyYWw6IFVSTFNlc3Npb25Db25maWd1cmF0aW9uIHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgZnVuYyBiYWNrZ3JvdW5kKHdpdGhJZGVudGlmaWVyIGlkZW50aWZpZXI6IFN0cmluZykgLT4gVVJMU2Vzc2lvbkNvbmZpZ3VyYXRpb24ge30KICAgIG9wZW4gdmFyIGFsbG93c0NlbGx1bGFyQWNjZXNzOiBCb29sIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBjb25uZWN0aW9uUHJveHlEaWN0aW9uYXJ5OiBbQW55SGFzaGFibGU6IEFueV0/IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBodHRwQWRkaXRpb25hbEhlYWRlcnM6IFtBbnlIYXNoYWJsZTogQW55XT8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGh0dHBDb29raWVBY2NlcHRQb2xpY3k6IEhUVFBDb29raWUuQWNjZXB0UG9saWN5IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBodHRwQ29va2llU3RvcmFnZTogSFRUUENvb2tpZVN0b3JhZ2U/IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBodHRwTWF4aW11bUNvbm5lY3Rpb25zUGVySG9zdDogSW50IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBodHRwU2hvdWxkU2V0Q29va2llczogQm9vbCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgaHR0cFNob3VsZFVzZVBpcGVsaW5pbmc6IEJvb2wgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGlkZW50aWZpZXI6IFN0cmluZz8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGlzRGlzY3JldGlvbmFyeTogQm9vbCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgbmV0d29ya1NlcnZpY2VUeXBlOiBVUkxSZXF1ZXN0Lk5ldHdvcmtTZXJ2aWNlVHlwZSB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgcHJvdG9jb2xDbGFzc2VzOiBbQW55Q2xhc3NdPyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgcmVxdWVzdENhY2hlUG9saWN5OiBVUkxSZXF1ZXN0LkNhY2hlUG9saWN5IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBzaGFyZWRDb250YWluZXJJZGVudGlmaWVyOiBTdHJpbmc/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHNob3VsZFVzZUV4dGVuZGVkQmFja2dyb3VuZElkbGVNb2RlOiBCb29sIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciB0aW1lb3V0SW50ZXJ2YWxGb3JSZXF1ZXN0OiBUaW1lSW50ZXJ2YWwgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHRpbWVvdXRJbnRlcnZhbEZvclJlc291cmNlOiBUaW1lSW50ZXJ2YWwgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHVybENhY2hlOiBVUkxDYWNoZT8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHVybENyZWRlbnRpYWxTdG9yYWdlOiBVUkxDcmVkZW50aWFsU3RvcmFnZT8geyBnZXQgc2V0IH0KfQpvcGVuIGNsYXNzIFVSTFNlc3Npb25EYXRhVGFzayB7Cn0Kb3BlbiBjbGFzcyBVUkxTZXNzaW9uRG93bmxvYWRUYXNrIHsKICAgIG9wZW4gZnVuYyBjYW5jZWwoYnlQcm9kdWNpbmdSZXN1bWVEYXRhIGNvbXBsZXRpb25IYW5kbGVyOiBAZXNjYXBpbmcgKERhdGE/KSAtPiBWb2lkKSB7fQp9Cm9wZW4gY2xhc3MgVVJMU2Vzc2lvblN0cmVhbVRhc2sgewogICAgb3BlbiBmdW5jIGNhcHR1cmVTdHJlYW1zKCkge30KICAgIG9wZW4gZnVuYyBjbG9zZVJlYWQoKSB7fQogICAgb3BlbiBmdW5jIGNsb3NlV3JpdGUoKSB7fQogICAgb3BlbiBmdW5jIHJlYWREYXRhKG9mTWluTGVuZ3RoIG1pbkJ5dGVzOiBJbnQsIG1heExlbmd0aCBtYXhCeXRlczogSW50LCB0aW1lb3V0OiBUaW1lSW50ZXJ2YWwsIGNvbXBsZXRpb25IYW5kbGVyOiBAZXNjYXBpbmcgKERhdGE/LCBCb29sLCBFcnJvcj8pIC0+IFZvaWQpIHt9CiAgICBvcGVuIGZ1bmMgc3RhcnRTZWN1cmVDb25uZWN0aW9uKCkge30KICAgIG9wZW4gZnVuYyBzdG9wU2VjdXJlQ29ubmVjdGlvbigpIHt9CiAgICBvcGVuIGZ1bmMgd3JpdGUoXyBkYXRhOiBEYXRhLCB0aW1lb3V0OiBUaW1lSW50ZXJ2YWwsIGNvbXBsZXRpb25IYW5kbGVyOiBAZXNjYXBpbmcgKEVycm9yPykgLT4gVm9pZCkge30KfQpvcGVuIGNsYXNzIFVSTFNlc3Npb25UYXNrIHsKICAgIHB1YmxpYyBzdGF0aWMgdmFyIGRlZmF1bHRQcmlvcml0eTogRmxvYXQgeyBnZXQgfQogICAgcHVibGljIHN0YXRpYyB2YXIgaGlnaFByaW9yaXR5OiBGbG9hdCB7IGdldCB9CiAgICBwdWJsaWMgc3RhdGljIHZhciBsb3dQcmlvcml0eTogRmxvYXQgeyBnZXQgfQogICAgcHVibGljIGluaXQoKSB7fQogICAgcHVibGljIHZhciBjb3VudE9mQnl0ZXNDbGllbnRFeHBlY3RzVG9SZWNlaXZlOiBJbnQ2NCB7IGdldCB9CiAgICBwdWJsaWMgdmFyIGNvdW50T2ZCeXRlc0NsaWVudEV4cGVjdHNUb1NlbmQ6IEludDY0IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGNvdW50T2ZCeXRlc0V4cGVjdGVkVG9SZWNlaXZlOiBJbnQ2NCB7IGdldCB9CiAgICBvcGVuIHZhciBjb3VudE9mQnl0ZXNFeHBlY3RlZFRvU2VuZDogSW50NjQgeyBnZXQgfQogICAgb3BlbiB2YXIgY291bnRPZkJ5dGVzUmVjZWl2ZWQ6IEludDY0IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGNvdW50T2ZCeXRlc1NlbnQ6IEludDY0IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGN1cnJlbnRSZXF1ZXN0OiBVUkxSZXF1ZXN0PyB7IGdldCB9CiAgICBwdWJsaWMgdmFyIGVhcmxpZXN0QmVnaW5EYXRlOiBEYXRlPyB7IGdldCB9CiAgICBvcGVuIHZhciBlcnJvcjogRXJyb3I/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIG9yaWdpbmFsUmVxdWVzdDogVVJMUmVxdWVzdD8geyBnZXQgfQogICAgb3BlbiB2YXIgcHJpb3JpdHk6IEZsb2F0IHsgZ2V0IHNldCB9CiAgICBwdWJsaWMgdmFyIHByb2dyZXNzOiBQcm9ncmVzcyB7IGdldCB9CiAgICBvcGVuIHZhciByZXNwb25zZTogVVJMUmVzcG9uc2U/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHN0YXRlOiBVUkxTZXNzaW9uVGFzay5TdGF0ZSB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgdGFza0Rlc2NyaXB0aW9uOiBTdHJpbmc/IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciB0YXNrSWRlbnRpZmllcjogSW50IHsgZ2V0IH0KICAgIG9wZW4gZnVuYyBjYW5jZWwoKSB7fQogICAgb3BlbiBmdW5jIGNvcHkoKSAtPiBBbnkge30KICAgIG9wZW4gZnVuYyBjb3B5KHdpdGggem9uZTogTlNab25lPykgLT4gQW55IHt9CiAgICBvcGVuIGZ1bmMgcmVzdW1lKCkge30KICAgIG9wZW4gZnVuYyBzdXNwZW5kKCkge30KfQpvcGVuIGNsYXNzIFVSTFNlc3Npb25VcGxvYWRUYXNrIHsKfQpvcGVuIGNsYXNzIFVuaXQgewogICAgcHVibGljIHN0YXRpYyB2YXIgc3VwcG9ydHNTZWN1cmVDb2Rpbmc6IEJvb2wgeyBnZXQgfQogICAgcHVibGljIHJlcXVpcmVkIGluaXQ/KGNvZGVyIGFEZWNvZGVyOiBOU0NvZGVyKSB7fQogICAgcHVibGljIHJlcXVpcmVkIGluaXQoc3ltYm9sOiBTdHJpbmcpIHt9CiAgICBvcGVuIHZhciBzeW1ib2w6IFN0cmluZyB7IGdldCB9CiAgICBvcGVuIGZ1bmMgY29weSh3aXRoIHpvbmU6IE5TWm9uZT8pIC0+IEFueSB7fQogICAgb3BlbiBmdW5jIGVuY29kZSh3aXRoIGFDb2RlcjogTlNDb2Rlcikge30KICAgIG9wZW4gZnVuYyBpc0VxdWFsKF8gb2JqZWN0OiBBbnk/KSAtPiBCb29sIHt9Cn0Kb3BlbiBjbGFzcyBVbml0Q29udmVydGVyIHsKICAgIG9wZW4gZnVuYyBiYXNlVW5pdFZhbHVlKGZyb21WYWx1ZSB2YWx1ZTogRG91YmxlKSAtPiBEb3VibGUge30KICAgIG9wZW4gZnVuYyB2YWx1ZShmcm9tQmFzZVVuaXRWYWx1ZSBiYXNlVW5pdFZhbHVlOiBEb3VibGUpIC0+IERvdWJsZSB7fQp9Cm9wZW4gY2xhc3MgVW5pdENvbnZlcnRlckxpbmVhciB7CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdChjb2VmZmljaWVudDogRG91YmxlKSB7fQogICAgcHVibGljIGluaXQoY29lZmZpY2llbnQ6IERvdWJsZSwgY29uc3RhbnQ6IERvdWJsZSkge30KICAgIG9wZW4gdmFyIGNvZWZmaWNpZW50OiBEb3VibGUgeyBnZXQgfQogICAgb3BlbiB2YXIgY29uc3RhbnQ6IERvdWJsZSB7IGdldCB9CiAgICBvcGVuIGZ1bmMgaXNFcXVhbChfIG9iamVjdDogQW55PykgLT4gQm9vbCB7fQp9Cm9wZW4gY2xhc3MgVXNlckRlZmF1bHRzIHsKICAgIHB1YmxpYyBzdGF0aWMgdmFyIGFyZ3VtZW50RG9tYWluOiBTdHJpbmcgeyBnZXQgfQogICAgcHVibGljIHN0YXRpYyB2YXIgZGlkQ2hhbmdlTm90aWZpY2F0aW9uIHsgZ2V0IH0KICAgIHB1YmxpYyBzdGF0aWMgdmFyIGdsb2JhbERvbWFpbjogU3RyaW5nIHsgZ2V0IH0KICAgIHB1YmxpYyBzdGF0aWMgdmFyIHJlZ2lzdHJhdGlvbkRvbWFpbjogU3RyaW5nIHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgdmFyIHN0YW5kYXJkOiBVc2VyRGVmYXVsdHMgeyBnZXQgfQogICAgb3BlbiBjbGFzcyBmdW5jIHJlc2V0U3RhbmRhcmRVc2VyRGVmYXVsdHMoKSB7fQogICAgcHVibGljIGluaXQ/KHN1aXRlTmFtZSBzdWl0ZW5hbWU6IFN0cmluZz8pIHt9CiAgICBvcGVuIHZhciB2b2xhdGlsZURvbWFpbk5hbWVzOiBbU3RyaW5nXSB7IGdldCB9CiAgICBvcGVuIGZ1bmMgYWRkU3VpdGUobmFtZWQgc3VpdGVOYW1lOiBTdHJpbmcpIHt9CiAgICBvcGVuIGZ1bmMgYXJyYXkoZm9yS2V5IGRlZmF1bHROYW1lOiBTdHJpbmcpIC0+IFtBbnldPyB7fQogICAgb3BlbiBmdW5jIGJvb2woZm9yS2V5IGRlZmF1bHROYW1lOiBTdHJpbmcpIC0+IEJvb2wge30KICAgIG9wZW4gZnVuYyBkYXRhKGZvcktleSBkZWZhdWx0TmFtZTogU3RyaW5nKSAtPiBEYXRhPyB7fQogICAgb3BlbiBmdW5jIGRpY3Rpb25hcnkoZm9yS2V5IGRlZmF1bHROYW1lOiBTdHJpbmcpIC0+IFtTdHJpbmc6IEFueV0/IHt9CiAgICBvcGVuIGZ1bmMgZGljdGlvbmFyeVJlcHJlc2VudGF0aW9uKCkgLT4gW1N0cmluZzogQW55XSB7fQogICAgb3BlbiBmdW5jIGRvdWJsZShmb3JLZXkgZGVmYXVsdE5hbWU6IFN0cmluZykgLT4gRG91YmxlIHt9CiAgICBvcGVuIGZ1bmMgZmxvYXQoZm9yS2V5IGRlZmF1bHROYW1lOiBTdHJpbmcpIC0+IEZsb2F0IHt9CiAgICBvcGVuIGZ1bmMgaW50ZWdlcihmb3JLZXkgZGVmYXVsdE5hbWU6IFN0cmluZykgLT4gSW50IHt9CiAgICBvcGVuIGZ1bmMgb2JqZWN0KGZvcktleSBkZWZhdWx0TmFtZTogU3RyaW5nKSAtPiBBbnk/IHt9CiAgICBvcGVuIGZ1bmMgb2JqZWN0SXNGb3JjZWQoZm9yS2V5IGtleTogU3RyaW5nKSAtPiBCb29sIHt9CiAgICBvcGVuIGZ1bmMgb2JqZWN0SXNGb3JjZWQoZm9yS2V5IGtleTogU3RyaW5nLCBpbkRvbWFpbiBkb21haW46IFN0cmluZykgLT4gQm9vbCB7fQogICAgb3BlbiBmdW5jIHBlcnNpc3RlbnREb21haW4oZm9yTmFtZSBkb21haW5OYW1lOiBTdHJpbmcpIC0+IFtTdHJpbmc6IEFueV0/IHt9CiAgICBvcGVuIGZ1bmMgcmVnaXN0ZXIoZGVmYXVsdHMgcmVnaXN0cmF0aW9uRGljdGlvbmFyeTogW1N0cmluZzogQW55XSkge30KICAgIG9wZW4gZnVuYyByZW1vdmVPYmplY3QoZm9yS2V5IGRlZmF1bHROYW1lOiBTdHJpbmcpIHt9CiAgICBvcGVuIGZ1bmMgcmVtb3ZlUGVyc2lzdGVudERvbWFpbihmb3JOYW1lIGRvbWFpbk5hbWU6IFN0cmluZykge30KICAgIG9wZW4gZnVuYyByZW1vdmVTdWl0ZShuYW1lZCBzdWl0ZU5hbWU6IFN0cmluZykge30KICAgIG9wZW4gZnVuYyByZW1vdmVWb2xhdGlsZURvbWFpbihmb3JOYW1lIGRvbWFpbk5hbWU6IFN0cmluZykge30KICAgIG9wZW4gZnVuYyBzZXQoXyB1cmw6IFVSTD8sIGZvcktleSBkZWZhdWx0TmFtZTogU3RyaW5nKSB7fQogICAgb3BlbiBmdW5jIHNldFBlcnNpc3RlbnREb21haW4oXyBkb21haW46IFtTdHJpbmc6IEFueV0sIGZvck5hbWUgZG9tYWluTmFtZTogU3RyaW5nKSB7fQogICAgb3BlbiBmdW5jIHNldFZvbGF0aWxlRG9tYWluKF8gZG9tYWluOiBbU3RyaW5nOiBBbnldLCBmb3JOYW1lIGRvbWFpbk5hbWU6IFN0cmluZykge30KICAgIG9wZW4gZnVuYyBzdHJpbmcoZm9yS2V5IGRlZmF1bHROYW1lOiBTdHJpbmcpIC0+IFN0cmluZz8ge30KICAgIG9wZW4gZnVuYyBzdHJpbmdBcnJheShmb3JLZXkgZGVmYXVsdE5hbWU6IFN0cmluZykgLT4gW1N0cmluZ10/IHt9CiAgICBAZGlzY2FyZGFibGVSZXN1bHQgb3BlbiBmdW5jIHN5bmNocm9uaXplKCkgLT4gQm9vbCB7fQogICAgb3BlbiBmdW5jIHVybChmb3JLZXkgZGVmYXVsdE5hbWU6IFN0cmluZykgLT4gVVJMPyB7fQogICAgb3BlbiBmdW5jIHZvbGF0aWxlRG9tYWluKGZvck5hbWUgZG9tYWluTmFtZTogU3RyaW5nKSAtPiBbU3RyaW5nOiBBbnldIHt9Cn0Kb3BlbiBjbGFzcyBYTUxEVEQgewogICAgb3BlbiBjbGFzcyBmdW5jIHByZWRlZmluZWRFbnRpdHlEZWNsYXJhdGlvbihmb3JOYW1lIG5hbWU6IFN0cmluZykgLT4gWE1MRFRETm9kZT8ge30KICAgIHB1YmxpYyBpbml0KCkge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KGNvbnRlbnRzT2YgdXJsOiBVUkwsIG9wdGlvbnMgbWFzazogWE1MTm9kZS5PcHRpb25zID0geCkgdGhyb3dzIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdChkYXRhOiBEYXRhLCBvcHRpb25zIG1hc2s6IFhNTE5vZGUuT3B0aW9ucyA9IHgpIHRocm93cyB7fQogICAgb3BlbiB2YXIgcHVibGljSUQ6IFN0cmluZz8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHN5c3RlbUlEOiBTdHJpbmc/IHsgZ2V0IHNldCB9CiAgICBvcGVuIGZ1bmMgYWRkQ2hpbGQoXyBjaGlsZDogWE1MTm9kZSkge30KICAgIG9wZW4gZnVuYyBhdHRyaWJ1dGVEZWNsYXJhdGlvbihmb3JOYW1lIG5hbWU6IFN0cmluZywgZWxlbWVudE5hbWU6IFN0cmluZykgLT4gWE1MRFRETm9kZT8ge30KICAgIG9wZW4gZnVuYyBlbGVtZW50RGVjbGFyYXRpb24oZm9yTmFtZSBuYW1lOiBTdHJpbmcpIC0+IFhNTERURE5vZGU/IHt9CiAgICBvcGVuIGZ1bmMgZW50aXR5RGVjbGFyYXRpb24oZm9yTmFtZSBuYW1lOiBTdHJpbmcpIC0+IFhNTERURE5vZGU/IHt9CiAgICBvcGVuIGZ1bmMgaW5zZXJ0Q2hpbGQoXyBjaGlsZDogWE1MTm9kZSwgYXQgaW5kZXg6IEludCkge30KICAgIG9wZW4gZnVuYyBpbnNlcnRDaGlsZHJlbihfIGNoaWxkcmVuOiBbWE1MTm9kZV0sIGF0IGluZGV4OiBJbnQpIHt9CiAgICBvcGVuIGZ1bmMgbm90YXRpb25EZWNsYXJhdGlvbihmb3JOYW1lIG5hbWU6IFN0cmluZykgLT4gWE1MRFRETm9kZT8ge30KICAgIG9wZW4gZnVuYyByZW1vdmVDaGlsZChhdCBpbmRleDogSW50KSB7fQogICAgb3BlbiBmdW5jIHJlcGxhY2VDaGlsZChhdCBpbmRleDogSW50LCB3aXRoIG5vZGU6IFhNTE5vZGUpIHt9CiAgICBvcGVuIGZ1bmMgc2V0Q2hpbGRyZW4oXyBjaGlsZHJlbjogW1hNTE5vZGVdPykge30KfQpvcGVuIGNsYXNzIFhNTERURE5vZGUgewogICAgcHVibGljIGluaXQ/KHhtbFN0cmluZyBzdHJpbmc6IFN0cmluZykge30KICAgIG9wZW4gdmFyIGR0ZEtpbmQ6IFhNTERURE5vZGUuRFRES2luZCB7IGdldCB9CiAgICBvcGVuIHZhciBpc0V4dGVybmFsOiBCb29sIHsgZ2V0IH0KICAgIG9wZW4gdmFyIG5vdGF0aW9uTmFtZTogU3RyaW5nPyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgcHVibGljSUQ6IFN0cmluZz8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHN5c3RlbUlEOiBTdHJpbmc/IHsgZ2V0IHNldCB9Cn0Kb3BlbiBjbGFzcyBYTUxEb2N1bWVudCB7CiAgICBvcGVuIGNsYXNzIGZ1bmMgcmVwbGFjZW1lbnRDbGFzcyhmb3IgY2xzOiBBbnlDbGFzcykgLT4gQW55Q2xhc3Mge30KICAgIHB1YmxpYyBpbml0KCkge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KGNvbnRlbnRzT2YgdXJsOiBVUkwsIG9wdGlvbnMgbWFzazogWE1MTm9kZS5PcHRpb25zID0geCkgdGhyb3dzIHt9CiAgICBwdWJsaWMgaW5pdChkYXRhOiBEYXRhLCBvcHRpb25zIG1hc2s6IFhNTE5vZGUuT3B0aW9ucyA9IHgpIHRocm93cyB7fQogICAgcHVibGljIGluaXQocm9vdEVsZW1lbnQgZWxlbWVudDogWE1MRWxlbWVudD8pIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdCh4bWxTdHJpbmcgc3RyaW5nOiBTdHJpbmcsIG9wdGlvbnMgbWFzazogWE1MTm9kZS5PcHRpb25zID0geCkgdGhyb3dzIHt9CiAgICBvcGVuIHZhciBjaGFyYWN0ZXJFbmNvZGluZzogU3RyaW5nPyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgZG9jdW1lbnRDb250ZW50S2luZDogWE1MRG9jdW1lbnQuQ29udGVudEtpbmQgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGR0ZDogWE1MRFREPyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgaXNTdGFuZGFsb25lOiBCb29sIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBtaW1lVHlwZTogU3RyaW5nPyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgdmVyc2lvbjogU3RyaW5nPyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgeG1sRGF0YTogRGF0YSB7IGdldCB9CiAgICBvcGVuIGZ1bmMgYWRkQ2hpbGQoXyBjaGlsZDogWE1MTm9kZSkge30KICAgIG9wZW4gZnVuYyBpbnNlcnRDaGlsZChfIGNoaWxkOiBYTUxOb2RlLCBhdCBpbmRleDogSW50KSB7fQogICAgb3BlbiBmdW5jIGluc2VydENoaWxkcmVuKF8gY2hpbGRyZW46IFtYTUxOb2RlXSwgYXQgaW5kZXg6IEludCkge30KICAgIG9wZW4gZnVuYyBvYmplY3QoYnlBcHBseWluZ1hTTFQgeHNsdDogRGF0YSwgYXJndW1lbnRzOiBbU3RyaW5nOiBTdHJpbmddPykgdGhyb3dzIC0+IEFueSB7fQogICAgb3BlbiBmdW5jIG9iamVjdChieUFwcGx5aW5nWFNMVFN0cmluZyB4c2x0OiBTdHJpbmcsIGFyZ3VtZW50czogW1N0cmluZzogU3RyaW5nXT8pIHRocm93cyAtPiBBbnkge30KICAgIG9wZW4gZnVuYyBvYmplY3RCeUFwcGx5aW5nWFNMVChhdCB4c2x0VVJMOiBVUkwsIGFyZ3VtZW50cyBhcmd1bWVudDogW1N0cmluZzogU3RyaW5nXT8pIHRocm93cyAtPiBBbnkge30KICAgIG9wZW4gZnVuYyByZW1vdmVDaGlsZChhdCBpbmRleDogSW50KSB7fQogICAgb3BlbiBmdW5jIHJlcGxhY2VDaGlsZChhdCBpbmRleDogSW50LCB3aXRoIG5vZGU6IFhNTE5vZGUpIHt9CiAgICBvcGVuIGZ1bmMgcm9vdEVsZW1lbnQoKSAtPiBYTUxFbGVtZW50PyB7fQogICAgb3BlbiBmdW5jIHNldENoaWxkcmVuKF8gY2hpbGRyZW46IFtYTUxOb2RlXT8pIHt9CiAgICBvcGVuIGZ1bmMgc2V0Um9vdEVsZW1lbnQoXyByb290OiBYTUxFbGVtZW50KSB7fQogICAgb3BlbiBmdW5jIHZhbGlkYXRlKCkgdGhyb3dzIHt9CiAgICBvcGVuIGZ1bmMgeG1sRGF0YShvcHRpb25zOiBYTUxOb2RlLk9wdGlvbnMgPSB4KSAtPiBEYXRhIHt9Cn0Kb3BlbiBjbGFzcyBYTUxFbGVtZW50IHsKICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KG5hbWU6IFN0cmluZykge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KG5hbWU6IFN0cmluZywgc3RyaW5nVmFsdWUgc3RyaW5nOiBTdHJpbmc/KSB7fQogICAgcHVibGljIGluaXQobmFtZTogU3RyaW5nLCB1cmkgVVJJOiBTdHJpbmc/KSB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQoeG1sU3RyaW5nIHN0cmluZzogU3RyaW5nKSB0aHJvd3Mge30KICAgIG9wZW4gdmFyIGF0dHJpYnV0ZXM6IFtYTUxOb2RlXT8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIG5hbWVzcGFjZXM6IFtYTUxOb2RlXT8geyBnZXQgc2V0IH0KICAgIG9wZW4gZnVuYyBhZGRBdHRyaWJ1dGUoXyBhdHRyaWJ1dGU6IFhNTE5vZGUpIHt9CiAgICBvcGVuIGZ1bmMgYWRkQ2hpbGQoXyBjaGlsZDogWE1MTm9kZSkge30KICAgIG9wZW4gZnVuYyBhZGROYW1lc3BhY2UoXyBhTmFtZXNwYWNlOiBYTUxOb2RlKSB7fQogICAgb3BlbiBmdW5jIGF0dHJpYnV0ZShmb3JMb2NhbE5hbWUgbG9jYWxOYW1lOiBTdHJpbmcsIHVyaSBVUkk6IFN0cmluZz8pIC0+IFhNTE5vZGU/IHt9CiAgICBvcGVuIGZ1bmMgYXR0cmlidXRlKGZvck5hbWUgbmFtZTogU3RyaW5nKSAtPiBYTUxOb2RlPyB7fQogICAgb3BlbiBmdW5jIGVsZW1lbnRzKGZvckxvY2FsTmFtZSBsb2NhbE5hbWU6IFN0cmluZywgdXJpIFVSSTogU3RyaW5nPykgLT4gW1hNTEVsZW1lbnRdIHt9CiAgICBvcGVuIGZ1bmMgZWxlbWVudHMoZm9yTmFtZSBuYW1lOiBTdHJpbmcpIC0+IFtYTUxFbGVtZW50XSB7fQogICAgb3BlbiBmdW5jIGluc2VydENoaWxkKF8gY2hpbGQ6IFhNTE5vZGUsIGF0IGluZGV4OiBJbnQpIHt9CiAgICBvcGVuIGZ1bmMgaW5zZXJ0Q2hpbGRyZW4oXyBjaGlsZHJlbjogW1hNTE5vZGVdLCBhdCBpbmRleDogSW50KSB7fQogICAgb3BlbiBmdW5jIG5hbWVzcGFjZShmb3JQcmVmaXggbmFtZTogU3RyaW5nKSAtPiBYTUxOb2RlPyB7fQogICAgb3BlbiBmdW5jIG5vcm1hbGl6ZUFkamFjZW50VGV4dE5vZGVzUHJlc2VydmluZ0NEQVRBKF8gcHJlc2VydmU6IEJvb2wpIHt9CiAgICBvcGVuIGZ1bmMgcmVtb3ZlQXR0cmlidXRlKGZvck5hbWUgbmFtZTogU3RyaW5nKSB7fQogICAgb3BlbiBmdW5jIHJlbW92ZUNoaWxkKGF0IGluZGV4OiBJbnQpIHt9CiAgICBvcGVuIGZ1bmMgcmVtb3ZlTmFtZXNwYWNlKGZvclByZWZpeCBuYW1lOiBTdHJpbmcpIHt9CiAgICBvcGVuIGZ1bmMgcmVwbGFjZUNoaWxkKGF0IGluZGV4OiBJbnQsIHdpdGggbm9kZTogWE1MTm9kZSkge30KICAgIG9wZW4gZnVuYyByZXNvbHZlTmFtZXNwYWNlKGZvck5hbWUgbmFtZTogU3RyaW5nKSAtPiBYTUxOb2RlPyB7fQogICAgb3BlbiBmdW5jIHJlc29sdmVQcmVmaXgoZm9yTmFtZXNwYWNlVVJJIG5hbWVzcGFjZVVSSTogU3RyaW5nKSAtPiBTdHJpbmc/IHt9CiAgICBvcGVuIGZ1bmMgc2V0QXR0cmlidXRlc1dpdGgoXyBhdHRyaWJ1dGVzOiBbU3RyaW5nOiBTdHJpbmddKSB7fQogICAgb3BlbiBmdW5jIHNldENoaWxkcmVuKF8gY2hpbGRyZW46IFtYTUxOb2RlXT8pIHt9Cn0Kb3BlbiBjbGFzcyBYTUxOb2RlIHsKICAgIG9wZW4gY2xhc3MgZnVuYyBhdHRyaWJ1dGUod2l0aE5hbWUgbmFtZTogU3RyaW5nLCBzdHJpbmdWYWx1ZTogU3RyaW5nKSAtPiBBbnkge30KICAgIG9wZW4gY2xhc3MgZnVuYyBhdHRyaWJ1dGUod2l0aE5hbWUgbmFtZTogU3RyaW5nLCB1cmk6IFN0cmluZywgc3RyaW5nVmFsdWU6IFN0cmluZykgLT4gQW55IHt9CiAgICBvcGVuIGNsYXNzIGZ1bmMgY29tbWVudCh3aXRoU3RyaW5nVmFsdWUgc3RyaW5nVmFsdWU6IFN0cmluZykgLT4gQW55IHt9CiAgICBvcGVuIGNsYXNzIGZ1bmMgZG9jdW1lbnQoKSAtPiBBbnkge30KICAgIG9wZW4gY2xhc3MgZnVuYyBkb2N1bWVudCh3aXRoUm9vdEVsZW1lbnQgZWxlbWVudDogWE1MRWxlbWVudCkgLT4gQW55IHt9CiAgICBvcGVuIGNsYXNzIGZ1bmMgZHRkTm9kZSh3aXRoWE1MU3RyaW5nIHN0cmluZzogU3RyaW5nKSAtPiBBbnk/IHt9CiAgICBvcGVuIGNsYXNzIGZ1bmMgZWxlbWVudCh3aXRoTmFtZSBuYW1lOiBTdHJpbmcpIC0+IEFueSB7fQogICAgb3BlbiBjbGFzcyBmdW5jIGVsZW1lbnQod2l0aE5hbWUgbmFtZTogU3RyaW5nLCBjaGlsZHJlbjogW1hNTE5vZGVdPywgYXR0cmlidXRlczogW1hNTE5vZGVdPykgLT4gQW55IHt9CiAgICBvcGVuIGNsYXNzIGZ1bmMgZWxlbWVudCh3aXRoTmFtZSBuYW1lOiBTdHJpbmcsIHN0cmluZ1ZhbHVlIHN0cmluZzogU3RyaW5nKSAtPiBBbnkge30KICAgIG9wZW4gY2xhc3MgZnVuYyBlbGVtZW50KHdpdGhOYW1lIG5hbWU6IFN0cmluZywgdXJpOiBTdHJpbmcpIC0+IEFueSB7fQogICAgb3BlbiBjbGFzcyBmdW5jIGxvY2FsTmFtZShmb3JOYW1lIG5hbWU6IFN0cmluZykgLT4gU3RyaW5nIHt9CiAgICBvcGVuIGNsYXNzIGZ1bmMgbmFtZXNwYWNlKHdpdGhOYW1lIG5hbWU6IFN0cmluZywgc3RyaW5nVmFsdWU6IFN0cmluZykgLT4gQW55IHt9CiAgICBvcGVuIGNsYXNzIGZ1bmMgcHJlZGVmaW5lZE5hbWVzcGFjZShmb3JQcmVmaXggbmFtZTogU3RyaW5nKSAtPiBYTUxOb2RlPyB7fQogICAgb3BlbiBjbGFzcyBmdW5jIHByZWZpeChmb3JOYW1lIG5hbWU6IFN0cmluZykgLT4gU3RyaW5nPyB7fQogICAgcHVibGljIGNsYXNzIGZ1bmMgcHJvY2Vzc2luZ0luc3RydWN0aW9uKHdpdGhOYW1lIG5hbWU6IFN0cmluZywgc3RyaW5nVmFsdWU6IFN0cmluZykgLT4gQW55IHt9CiAgICBvcGVuIGNsYXNzIGZ1bmMgdGV4dCh3aXRoU3RyaW5nVmFsdWUgc3RyaW5nVmFsdWU6IFN0cmluZykgLT4gQW55IHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdChraW5kOiBYTUxOb2RlLktpbmQpIHt9CiAgICBwdWJsaWMgaW5pdChraW5kOiBYTUxOb2RlLktpbmQsIG9wdGlvbnM6IFhNTE5vZGUuT3B0aW9ucyA9IHgpIHt9CiAgICBvcGVuIHZhciBjaGlsZENvdW50OiBJbnQgeyBnZXQgfQogICAgb3BlbiB2YXIgY2hpbGRyZW46IFtYTUxOb2RlXT8geyBnZXQgfQogICAgcHVibGljIHZhciBlbmRJbmRleDogSW5kZXggeyBnZXQgfQogICAgb3BlbiB2YXIgaW5kZXg6IEludCB7IGdldCB9CiAgICBvcGVuIHZhciBraW5kOiBYTUxOb2RlLktpbmQgeyBnZXQgfQogICAgb3BlbiB2YXIgbGV2ZWw6IEludCB7IGdldCB9CiAgICBvcGVuIHZhciBsb2NhbE5hbWU6IFN0cmluZz8geyBnZXQgfQogICAgb3BlbiB2YXIgbmFtZTogU3RyaW5nPyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgbmV4dDogWE1MTm9kZT8geyBnZXQgfQogICAgb3BlbiB2YXIgbmV4dFNpYmxpbmc6IFhNTE5vZGU/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIG9iamVjdFZhbHVlOiBBbnk/IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBwYXJlbnQ6IFhNTE5vZGU/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHByZWZpeDogU3RyaW5nPyB7IGdldCB9CiAgICBvcGVuIHZhciBwcmV2aW91czogWE1MTm9kZT8geyBnZXQgfQogICAgb3BlbiB2YXIgcHJldmlvdXNTaWJsaW5nOiBYTUxOb2RlPyB7IGdldCB9CiAgICBvcGVuIHZhciByb290RG9jdW1lbnQ6IFhNTERvY3VtZW50PyB7IGdldCB9CiAgICBwdWJsaWMgdmFyIHN0YXJ0SW5kZXg6IEluZGV4IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHN0cmluZ1ZhbHVlOiBTdHJpbmc/IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciB1cmk6IFN0cmluZz8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHhQYXRoOiBTdHJpbmc/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHhtbFN0cmluZzogU3RyaW5nIHsgZ2V0IH0KICAgIHB1YmxpYyBzdWJzY3JpcHQoaW5kZXg6IEluZGV4KSAtPiBYTUxOb2RlIHsgZ2V0IH0ge30KICAgIG9wZW4gZnVuYyBjYW5vbmljYWxYTUxTdHJpbmdQcmVzZXJ2aW5nQ29tbWVudHMoXyBjb21tZW50czogQm9vbCkgLT4gU3RyaW5nIHt9CiAgICBvcGVuIGZ1bmMgY2hpbGQoYXQgaW5kZXg6IEludCkgLT4gWE1MTm9kZT8ge30KICAgIG9wZW4gZnVuYyBkZXRhY2goKSB7fQogICAgcHVibGljIGZ1bmMgaW5kZXgoYWZ0ZXIgaTogSW5kZXgpIC0+IEluZGV4IHt9CiAgICBvcGVuIGZ1bmMgbm9kZXMoZm9yWFBhdGggeHBhdGg6IFN0cmluZykgdGhyb3dzIC0+IFtYTUxOb2RlXSB7fQogICAgb3BlbiBmdW5jIG9iamVjdHMoZm9yWFF1ZXJ5IHhxdWVyeTogU3RyaW5nKSB0aHJvd3MgLT4gW0FueV0ge30KICAgIG9wZW4gZnVuYyBvYmplY3RzKGZvclhRdWVyeSB4cXVlcnk6IFN0cmluZywgY29uc3RhbnRzOiBbU3RyaW5nOiBBbnldPykgdGhyb3dzIC0+IFtBbnldIHt9CiAgICBvcGVuIGZ1bmMgc2V0U3RyaW5nVmFsdWUoXyBzdHJpbmc6IFN0cmluZywgcmVzb2x2aW5nRW50aXRpZXMgcmVzb2x2ZTogQm9vbCkge30KICAgIG9wZW4gZnVuYyB4bWxTdHJpbmcob3B0aW9uczogT3B0aW9ucykgLT4gU3RyaW5nIHt9Cn0Kb3BlbiBjbGFzcyBYTUxQYXJzZXIgewogICAgcHVibGljIHN0YXRpYyB2YXIgZXJyb3JEb21haW46IFN0cmluZyB7IGdldCB9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdD8oY29udGVudHNPZiB1cmw6IFVSTCkge30KICAgIHB1YmxpYyBpbml0KGRhdGE6IERhdGEpIHt9CiAgICBwdWJsaWMgaW5pdChzdHJlYW06IElucHV0U3RyZWFtKSB7fQogICAgb3BlbiB2YXIgYWxsb3dlZEV4dGVybmFsRW50aXR5VVJMczogU2V0PFVSTD4/IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBjb2x1bW5OdW1iZXI6IEludCB7IGdldCB9CiAgICBvcGVuIHdlYWsgdmFyIGRlbGVnYXRlOiBYTUxQYXJzZXJEZWxlZ2F0ZT8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGV4dGVybmFsRW50aXR5UmVzb2x2aW5nUG9saWN5OiBFeHRlcm5hbEVudGl0eVJlc29sdmluZ1BvbGljeSB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgbGluZU51bWJlcjogSW50IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHBhcnNlckVycm9yOiBFcnJvcj8geyBnZXQgfQogICAgb3BlbiB2YXIgcHVibGljSUQ6IFN0cmluZz8geyBnZXQgfQogICAgb3BlbiB2YXIgc2hvdWxkUHJvY2Vzc05hbWVzcGFjZXM6IEJvb2wgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHNob3VsZFJlcG9ydE5hbWVzcGFjZVByZWZpeGVzOiBCb29sIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBzaG91bGRSZXNvbHZlRXh0ZXJuYWxFbnRpdGllczogQm9vbCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgc3lzdGVtSUQ6IFN0cmluZz8geyBnZXQgfQogICAgb3BlbiBmdW5jIGFib3J0UGFyc2luZygpIHt9CiAgICBvcGVuIGZ1bmMgcGFyc2UoKSAtPiBCb29sIHt9Cn0KcHVibGljIHByb3RvY29sIEN1c3RvbU5TRXJyb3IgewogICAgc3RhdGljIHZhciBlcnJvckRvbWFpbjogU3RyaW5nIHsgZ2V0IH0KICAgIHZhciBlcnJvckNvZGU6IEludCB7IGdldCB9CiAgICB2YXIgZXJyb3JVc2VySW5mbzogW1N0cmluZzogQW55XSB7IGdldCB9Cn0KcHVibGljIHByb3RvY29sIEZpbGVNYW5hZ2VyRGVsZWdhdGUgewogICAgZnVuYyBmaWxlTWFuYWdlcihfIGZpbGVNYW5hZ2VyOiBGaWxlTWFuYWdlciwgc2hvdWxkQ29weUl0ZW1BdCBzcmNVUkw6IFVSTCwgdG8gZHN0VVJMOiBVUkwpIC0+IEJvb2wKICAgIGZ1bmMgZmlsZU1hbmFnZXIoXyBmaWxlTWFuYWdlcjogRmlsZU1hbmFnZXIsIHNob3VsZENvcHlJdGVtQXRQYXRoIHNyY1BhdGg6IFN0cmluZywgdG9QYXRoIGRzdFBhdGg6IFN0cmluZykgLT4gQm9vbAogICAgZnVuYyBmaWxlTWFuYWdlcihfIGZpbGVNYW5hZ2VyOiBGaWxlTWFuYWdlciwgc2hvdWxkTGlua0l0ZW1BdCBzcmNVUkw6IFVSTCwgdG8gZHN0VVJMOiBVUkwpIC0+IEJvb2wKICAgIGZ1bmMgZmlsZU1hbmFnZXIoXyBmaWxlTWFuYWdlcjogRmlsZU1hbmFnZXIsIHNob3VsZExpbmtJdGVtQXRQYXRoIHNyY1BhdGg6IFN0cmluZywgdG9QYXRoIGRzdFBhdGg6IFN0cmluZykgLT4gQm9vbAogICAgZnVuYyBmaWxlTWFuYWdlcihfIGZpbGVNYW5hZ2VyOiBGaWxlTWFuYWdlciwgc2hvdWxkTW92ZUl0ZW1BdCBzcmNVUkw6IFVSTCwgdG8gZHN0VVJMOiBVUkwpIC0+IEJvb2wKICAgIGZ1bmMgZmlsZU1hbmFnZXIoXyBmaWxlTWFuYWdlcjogRmlsZU1hbmFnZXIsIHNob3VsZE1vdmVJdGVtQXRQYXRoIHNyY1BhdGg6IFN0cmluZywgdG9QYXRoIGRzdFBhdGg6IFN0cmluZykgLT4gQm9vbAogICAgZnVuYyBmaWxlTWFuYWdlcihfIGZpbGVNYW5hZ2VyOiBGaWxlTWFuYWdlciwgc2hvdWxkUHJvY2VlZEFmdGVyRXJyb3IgZXJyb3I6IEVycm9yLCBjb3B5aW5nSXRlbUF0IHNyY1VSTDogVVJMLCB0byBkc3RVUkw6IFVSTCkgLT4gQm9vbAogICAgZnVuYyBmaWxlTWFuYWdlcihfIGZpbGVNYW5hZ2VyOiBGaWxlTWFuYWdlciwgc2hvdWxkUHJvY2VlZEFmdGVyRXJyb3IgZXJyb3I6IEVycm9yLCBjb3B5aW5nSXRlbUF0UGF0aCBzcmNQYXRoOiBTdHJpbmcsIHRvUGF0aCBkc3RQYXRoOiBTdHJpbmcpIC0+IEJvb2wKICAgIGZ1bmMgZmlsZU1hbmFnZXIoXyBmaWxlTWFuYWdlcjogRmlsZU1hbmFnZXIsIHNob3VsZFByb2NlZWRBZnRlckVycm9yIGVycm9yOiBFcnJvciwgbGlua2luZ0l0ZW1BdCBzcmNVUkw6IFVSTCwgdG8gZHN0VVJMOiBVUkwpIC0+IEJvb2wKICAgIGZ1bmMgZmlsZU1hbmFnZXIoXyBmaWxlTWFuYWdlcjogRmlsZU1hbmFnZXIsIHNob3VsZFByb2NlZWRBZnRlckVycm9yIGVycm9yOiBFcnJvciwgbGlua2luZ0l0ZW1BdFBhdGggc3JjUGF0aDogU3RyaW5nLCB0b1BhdGggZHN0UGF0aDogU3RyaW5nKSAtPiBCb29sCiAgICBmdW5jIGZpbGVNYW5hZ2VyKF8gZmlsZU1hbmFnZXI6IEZpbGVNYW5hZ2VyLCBzaG91bGRQcm9jZWVkQWZ0ZXJFcnJvciBlcnJvcjogRXJyb3IsIG1vdmluZ0l0ZW1BdCBzcmNVUkw6IFVSTCwgdG8gZHN0VVJMOiBVUkwpIC0+IEJvb2wKICAgIGZ1bmMgZmlsZU1hbmFnZXIoXyBmaWxlTWFuYWdlcjogRmlsZU1hbmFnZXIsIHNob3VsZFByb2NlZWRBZnRlckVycm9yIGVycm9yOiBFcnJvciwgbW92aW5nSXRlbUF0UGF0aCBzcmNQYXRoOiBTdHJpbmcsIHRvUGF0aCBkc3RQYXRoOiBTdHJpbmcpIC0+IEJvb2wKICAgIGZ1bmMgZmlsZU1hbmFnZXIoXyBmaWxlTWFuYWdlcjogRmlsZU1hbmFnZXIsIHNob3VsZFByb2NlZWRBZnRlckVycm9yIGVycm9yOiBFcnJvciwgcmVtb3ZpbmdJdGVtQXQgVVJMOiBVUkwpIC0+IEJvb2wKICAgIGZ1bmMgZmlsZU1hbmFnZXIoXyBmaWxlTWFuYWdlcjogRmlsZU1hbmFnZXIsIHNob3VsZFByb2NlZWRBZnRlckVycm9yIGVycm9yOiBFcnJvciwgcmVtb3ZpbmdJdGVtQXRQYXRoIHBhdGg6IFN0cmluZykgLT4gQm9vbAogICAgZnVuYyBmaWxlTWFuYWdlcihfIGZpbGVNYW5hZ2VyOiBGaWxlTWFuYWdlciwgc2hvdWxkUmVtb3ZlSXRlbUF0IFVSTDogVVJMKSAtPiBCb29sCiAgICBmdW5jIGZpbGVNYW5hZ2VyKF8gZmlsZU1hbmFnZXI6IEZpbGVNYW5hZ2VyLCBzaG91bGRSZW1vdmVJdGVtQXRQYXRoIHBhdGg6IFN0cmluZykgLT4gQm9vbAp9CnB1YmxpYyBwcm90b2NvbCBMb2NhbGl6ZWRFcnJvciB7CiAgICB2YXIgZXJyb3JEZXNjcmlwdGlvbjogU3RyaW5nPyB7IGdldCB9CiAgICB2YXIgZmFpbHVyZVJlYXNvbjogU3RyaW5nPyB7IGdldCB9CiAgICB2YXIgaGVscEFuY2hvcjogU3RyaW5nPyB7IGdldCB9CiAgICB2YXIgcmVjb3ZlcnlTdWdnZXN0aW9uOiBTdHJpbmc/IHsgZ2V0IH0KfQpwdWJsaWMgcHJvdG9jb2wgTlNDYWNoZURlbGVnYXRlIHsKICAgIGZ1bmMgY2FjaGUoXyBjYWNoZTogTlNDYWNoZTxBbnlPYmplY3QsIEFueU9iamVjdD4sIHdpbGxFdmljdE9iamVjdCBvYmo6IEFueSkKfQpwdWJsaWMgcHJvdG9jb2wgTlNDb2RpbmcgewogICAgaW5pdD8oY29kZXIgYURlY29kZXI6IE5TQ29kZXIpCiAgICBmdW5jIGVuY29kZSh3aXRoIGFDb2RlcjogTlNDb2RlcikKfQpwdWJsaWMgcHJvdG9jb2wgTlNDb3B5aW5nIHsKICAgIGZ1bmMgY29weSgpIC0+IEFueQogICAgZnVuYyBjb3B5KHdpdGggem9uZTogTlNab25lPykgLT4gQW55Cn0KcHVibGljIHByb3RvY29sIE5TRGVjaW1hbE51bWJlckJlaGF2aW9ycyB7CiAgICBmdW5jIHJvdW5kaW5nTW9kZSgpIC0+IE5TRGVjaW1hbE51bWJlci5Sb3VuZGluZ01vZGUKICAgIGZ1bmMgc2NhbGUoKSAtPiBJbnQxNgp9CnB1YmxpYyBwcm90b2NvbCBOU0tleWVkQXJjaGl2ZXJEZWxlZ2F0ZSB7CiAgICBmdW5jIGFyY2hpdmVyKF8gYXJjaGl2ZXI6IE5TS2V5ZWRBcmNoaXZlciwgZGlkRW5jb2RlIG9iamVjdDogQW55PykKICAgIGZ1bmMgYXJjaGl2ZXIoXyBhcmNoaXZlcjogTlNLZXllZEFyY2hpdmVyLCB3aWxsRW5jb2RlIG9iamVjdDogQW55KSAtPiBBbnk/CiAgICBmdW5jIGFyY2hpdmVyKF8gYXJjaGl2ZXI6IE5TS2V5ZWRBcmNoaXZlciwgd2lsbFJlcGxhY2Ugb2JqZWN0OiBBbnk/LCB3aXRoT2JqZWN0IG5ld09iamVjdDogQW55PykKICAgIGZ1bmMgYXJjaGl2ZXJEaWRGaW5pc2goXyBhcmNoaXZlcjogTlNLZXllZEFyY2hpdmVyKQogICAgZnVuYyBhcmNoaXZlcldpbGxGaW5pc2goXyBhcmNoaXZlcjogTlNLZXllZEFyY2hpdmVyKQp9CnB1YmxpYyBwcm90b2NvbCBOU0tleWVkVW5hcmNoaXZlckRlbGVnYXRlIHsKICAgIGZ1bmMgdW5hcmNoaXZlcihfIHVuYXJjaGl2ZXI6IE5TS2V5ZWRVbmFyY2hpdmVyLCBjYW5ub3REZWNvZGVPYmplY3RPZkNsYXNzTmFtZSBuYW1lOiBTdHJpbmcsIG9yaWdpbmFsQ2xhc3NlcyBjbGFzc05hbWVzOiBbU3RyaW5nXSkgLT4gQW55Q2xhc3M/CiAgICBmdW5jIHVuYXJjaGl2ZXIoXyB1bmFyY2hpdmVyOiBOU0tleWVkVW5hcmNoaXZlciwgZGlkRGVjb2RlIG9iamVjdDogQW55PykgLT4gQW55PwogICAgZnVuYyB1bmFyY2hpdmVyKF8gdW5hcmNoaXZlcjogTlNLZXllZFVuYXJjaGl2ZXIsIHdpbGxSZXBsYWNlIG9iamVjdDogQW55LCB3aXRoIG5ld09iamVjdDogQW55KQogICAgZnVuYyB1bmFyY2hpdmVyRGlkRmluaXNoKF8gdW5hcmNoaXZlcjogTlNLZXllZFVuYXJjaGl2ZXIpCiAgICBmdW5jIHVuYXJjaGl2ZXJXaWxsRmluaXNoKF8gdW5hcmNoaXZlcjogTlNLZXllZFVuYXJjaGl2ZXIpCn0KcHVibGljIHByb3RvY29sIE5TTG9ja2luZyB7CiAgICBmdW5jIGxvY2soKQogICAgZnVuYyB1bmxvY2soKQp9CnB1YmxpYyBwcm90b2NvbCBOU011dGFibGVDb3B5aW5nIHsKICAgIGZ1bmMgbXV0YWJsZUNvcHkoKSAtPiBBbnkKICAgIGZ1bmMgbXV0YWJsZUNvcHkod2l0aCB6b25lOiBOU1pvbmU/KSAtPiBBbnkKfQpwdWJsaWMgcHJvdG9jb2wgTlNPYmplY3RQcm90b2NvbCB7CiAgICB2YXIgZGVidWdEZXNjcmlwdGlvbjogU3RyaW5nIHsgZ2V0IH0KICAgIHZhciBkZXNjcmlwdGlvbjogU3RyaW5nIHsgZ2V0IH0KICAgIHZhciBoYXNoOiBJbnQgeyBnZXQgfQogICAgZnVuYyBpc0VxdWFsKF8gb2JqZWN0OiBBbnk/KSAtPiBCb29sCiAgICBmdW5jIGlzUHJveHkoKSAtPiBCb29sCiAgICBmdW5jIHNlbGYoKSAtPiBTZWxmCn0KcHVibGljIHByb3RvY29sIE5TU2VjdXJlQ29kaW5nIHsKICAgIHN0YXRpYyB2YXIgc3VwcG9ydHNTZWN1cmVDb2Rpbmc6IEJvb2wgeyBnZXQgfQp9CnB1YmxpYyBwcm90b2NvbCBQb3J0RGVsZWdhdGUgewogICAgZnVuYyBoYW5kbGVQb3J0TWVzc2FnZShfIG1lc3NhZ2U6IFBvcnRNZXNzYWdlKQp9CnB1YmxpYyBwcm90b2NvbCBQcm9ncmVzc1JlcG9ydGluZyB7CiAgICB2YXIgcHJvZ3Jlc3M6IFByb2dyZXNzIHsgZ2V0IH0KfQpwdWJsaWMgcHJvdG9jb2wgUmVjb3ZlcmFibGVFcnJvciB7CiAgICB2YXIgcmVjb3ZlcnlPcHRpb25zOiBbU3RyaW5nXSB7IGdldCB9CiAgICBmdW5jIGF0dGVtcHRSZWNvdmVyeShvcHRpb25JbmRleCByZWNvdmVyeU9wdGlvbkluZGV4OiBJbnQpIC0+IEJvb2wKICAgIGZ1bmMgYXR0ZW1wdFJlY292ZXJ5KG9wdGlvbkluZGV4IHJlY292ZXJ5T3B0aW9uSW5kZXg6IEludCwgcmVzdWx0SGFuZGxlciBoYW5kbGVyOiAoXyByZWNvdmVyZWQ6IEJvb2wpIC0+IFZvaWQpCn0KcHVibGljIHByb3RvY29sIFJlZmVyZW5jZUNvbnZlcnRpYmxlIHsKfQpwdWJsaWMgcHJvdG9jb2wgU3RyZWFtRGVsZWdhdGUgewogICAgZnVuYyBzdHJlYW0oXyBhU3RyZWFtOiBTdHJlYW0sIGhhbmRsZSBldmVudENvZGU6IFN0cmVhbS5FdmVudCkKfQpwdWJsaWMgcHJvdG9jb2wgVVJMQXV0aGVudGljYXRpb25DaGFsbGVuZ2VTZW5kZXIgewogICAgZnVuYyBjYW5jZWwoXyBjaGFsbGVuZ2U6IFVSTEF1dGhlbnRpY2F0aW9uQ2hhbGxlbmdlKQogICAgZnVuYyBjb250aW51ZVdpdGhvdXRDcmVkZW50aWFsKGZvciBjaGFsbGVuZ2U6IFVSTEF1dGhlbnRpY2F0aW9uQ2hhbGxlbmdlKQogICAgZnVuYyBwZXJmb3JtRGVmYXVsdEhhbmRsaW5nKGZvciBjaGFsbGVuZ2U6IFVSTEF1dGhlbnRpY2F0aW9uQ2hhbGxlbmdlKQogICAgZnVuYyByZWplY3RQcm90ZWN0aW9uU3BhY2VBbmRDb250aW51ZSh3aXRoIGNoYWxsZW5nZTogVVJMQXV0aGVudGljYXRpb25DaGFsbGVuZ2UpCiAgICBmdW5jIHVzZShfIGNyZWRlbnRpYWw6IFVSTENyZWRlbnRpYWwsIGZvciBjaGFsbGVuZ2U6IFVSTEF1dGhlbnRpY2F0aW9uQ2hhbGxlbmdlKQp9CnB1YmxpYyBwcm90b2NvbCBVUkxQcm90b2NvbENsaWVudCB7CiAgICBmdW5jIHVybFByb3RvY29sKF8gcHJvdG9jb2w6IFVSTFByb3RvY29sLCBjYWNoZWRSZXNwb25zZUlzVmFsaWQgY2FjaGVkUmVzcG9uc2U6IENhY2hlZFVSTFJlc3BvbnNlKQogICAgZnVuYyB1cmxQcm90b2NvbChfIHByb3RvY29sOiBVUkxQcm90b2NvbCwgZGlkQ2FuY2VsIGNoYWxsZW5nZTogVVJMQXV0aGVudGljYXRpb25DaGFsbGVuZ2UpCiAgICBmdW5jIHVybFByb3RvY29sKF8gcHJvdG9jb2w6IFVSTFByb3RvY29sLCBkaWRGYWlsV2l0aEVycm9yIGVycm9yOiBFcnJvcikKICAgIGZ1bmMgdXJsUHJvdG9jb2woXyBwcm90b2NvbDogVVJMUHJvdG9jb2wsIGRpZExvYWQgZGF0YTogRGF0YSkKICAgIGZ1bmMgdXJsUHJvdG9jb2woXyBwcm90b2NvbDogVVJMUHJvdG9jb2wsIGRpZFJlY2VpdmUgY2hhbGxlbmdlOiBVUkxBdXRoZW50aWNhdGlvbkNoYWxsZW5nZSkKICAgIGZ1bmMgdXJsUHJvdG9jb2woXyBwcm90b2NvbDogVVJMUHJvdG9jb2wsIGRpZFJlY2VpdmUgcmVzcG9uc2U6IFVSTFJlc3BvbnNlLCBjYWNoZVN0b3JhZ2VQb2xpY3kgcG9saWN5OiBVUkxDYWNoZS5TdG9yYWdlUG9saWN5KQogICAgZnVuYyB1cmxQcm90b2NvbChfIHByb3RvY29sOiBVUkxQcm90b2NvbCwgd2FzUmVkaXJlY3RlZFRvIHJlcXVlc3Q6IFVSTFJlcXVlc3QsIHJlZGlyZWN0UmVzcG9uc2U6IFVSTFJlc3BvbnNlKQogICAgZnVuYyB1cmxQcm90b2NvbERpZEZpbmlzaExvYWRpbmcoXyBwcm90b2NvbDogVVJMUHJvdG9jb2wpCn0KcHVibGljIHByb3RvY29sIFVSTFNlc3Npb25EYXRhRGVsZWdhdGUgewogICAgZnVuYyB1cmxTZXNzaW9uKF8gc2Vzc2lvbjogVVJMU2Vzc2lvbiwgZGF0YVRhc2s6IFVSTFNlc3Npb25EYXRhVGFzaywgZGlkQmVjb21lIGRvd25sb2FkVGFzazogVVJMU2Vzc2lvbkRvd25sb2FkVGFzaykKICAgIGZ1bmMgdXJsU2Vzc2lvbihfIHNlc3Npb246IFVSTFNlc3Npb24sIGRhdGFUYXNrOiBVUkxTZXNzaW9uRGF0YVRhc2ssIGRpZFJlY2VpdmUgZGF0YTogRGF0YSkKICAgIGZ1bmMgdXJsU2Vzc2lvbihfIHNlc3Npb246IFVSTFNlc3Npb24sIGRhdGFUYXNrOiBVUkxTZXNzaW9uRGF0YVRhc2ssIGRpZFJlY2VpdmUgcmVzcG9uc2U6IFVSTFJlc3BvbnNlLCBjb21wbGV0aW9uSGFuZGxlcjogQGVzY2FwaW5nIChVUkxTZXNzaW9uLlJlc3BvbnNlRGlzcG9zaXRpb24pIC0+IFZvaWQpCiAgICBmdW5jIHVybFNlc3Npb24oXyBzZXNzaW9uOiBVUkxTZXNzaW9uLCBkYXRhVGFzazogVVJMU2Vzc2lvbkRhdGFUYXNrLCB3aWxsQ2FjaGVSZXNwb25zZSBwcm9wb3NlZFJlc3BvbnNlOiBDYWNoZWRVUkxSZXNwb25zZSwgY29tcGxldGlvbkhhbmRsZXI6IEBlc2NhcGluZyAoQ2FjaGVkVVJMUmVzcG9uc2U/KSAtPiBWb2lkKQp9CnB1YmxpYyBwcm90b2NvbCBVUkxTZXNzaW9uRGVsZWdhdGUgewogICAgZnVuYyB1cmxTZXNzaW9uKF8gc2Vzc2lvbjogVVJMU2Vzc2lvbiwgZGlkQmVjb21lSW52YWxpZFdpdGhFcnJvciBlcnJvcjogRXJyb3I/KQogICAgZnVuYyB1cmxTZXNzaW9uKF8gc2Vzc2lvbjogVVJMU2Vzc2lvbiwgZGlkUmVjZWl2ZSBjaGFsbGVuZ2U6IFVSTEF1dGhlbnRpY2F0aW9uQ2hhbGxlbmdlLCBjb21wbGV0aW9uSGFuZGxlcjogQGVzY2FwaW5nIChVUkxTZXNzaW9uLkF1dGhDaGFsbGVuZ2VEaXNwb3NpdGlvbiwgVVJMQ3JlZGVudGlhbD8pIC0+IFZvaWQpCn0KcHVibGljIHByb3RvY29sIFVSTFNlc3Npb25Eb3dubG9hZERlbGVnYXRlIHsKICAgIGZ1bmMgdXJsU2Vzc2lvbihfIHNlc3Npb246IFVSTFNlc3Npb24sIGRvd25sb2FkVGFzazogVVJMU2Vzc2lvbkRvd25sb2FkVGFzaywgZGlkRmluaXNoRG93bmxvYWRpbmdUbyBsb2NhdGlvbjogVVJMKQogICAgZnVuYyB1cmxTZXNzaW9uKF8gc2Vzc2lvbjogVVJMU2Vzc2lvbiwgZG93bmxvYWRUYXNrOiBVUkxTZXNzaW9uRG93bmxvYWRUYXNrLCBkaWRSZXN1bWVBdE9mZnNldCBmaWxlT2Zmc2V0OiBJbnQ2NCwgZXhwZWN0ZWRUb3RhbEJ5dGVzOiBJbnQ2NCkKICAgIGZ1bmMgdXJsU2Vzc2lvbihfIHNlc3Npb246IFVSTFNlc3Npb24sIGRvd25sb2FkVGFzazogVVJMU2Vzc2lvbkRvd25sb2FkVGFzaywgZGlkV3JpdGVEYXRhIGJ5dGVzV3JpdHRlbjogSW50NjQsIHRvdGFsQnl0ZXNXcml0dGVuOiBJbnQ2NCwgdG90YWxCeXRlc0V4cGVjdGVkVG9Xcml0ZTogSW50NjQpCn0KcHVibGljIHByb3RvY29sIFVSTFNlc3Npb25TdHJlYW1EZWxlZ2F0ZSB7CiAgICBmdW5jIHVybFNlc3Npb24oXyBzZXNzaW9uOiBVUkxTZXNzaW9uLCBiZXR0ZXJSb3V0ZURpc2NvdmVyZWRGb3Igc3RyZWFtVGFzazogVVJMU2Vzc2lvblN0cmVhbVRhc2spCiAgICBmdW5jIHVybFNlc3Npb24oXyBzZXNzaW9uOiBVUkxTZXNzaW9uLCByZWFkQ2xvc2VkRm9yIHN0cmVhbVRhc2s6IFVSTFNlc3Npb25TdHJlYW1UYXNrKQogICAgZnVuYyB1cmxTZXNzaW9uKF8gc2Vzc2lvbjogVVJMU2Vzc2lvbiwgc3RyZWFtVGFzazogVVJMU2Vzc2lvblN0cmVhbVRhc2ssIGRpZEJlY29tZSBpbnB1dFN0cmVhbTogSW5wdXRTdHJlYW0sIG91dHB1dFN0cmVhbTogT3V0cHV0U3RyZWFtKQogICAgZnVuYyB1cmxTZXNzaW9uKF8gc2Vzc2lvbjogVVJMU2Vzc2lvbiwgd3JpdGVDbG9zZWRGb3Igc3RyZWFtVGFzazogVVJMU2Vzc2lvblN0cmVhbVRhc2spCn0KcHVibGljIHByb3RvY29sIFVSTFNlc3Npb25UYXNrRGVsZWdhdGUgewogICAgZnVuYyB1cmxTZXNzaW9uKF8gc2Vzc2lvbjogVVJMU2Vzc2lvbiwgdGFzazogVVJMU2Vzc2lvblRhc2ssIGRpZENvbXBsZXRlV2l0aEVycm9yIGVycm9yOiBFcnJvcj8pCiAgICBmdW5jIHVybFNlc3Npb24oXyBzZXNzaW9uOiBVUkxTZXNzaW9uLCB0YXNrOiBVUkxTZXNzaW9uVGFzaywgZGlkUmVjZWl2ZSBjaGFsbGVuZ2U6IFVSTEF1dGhlbnRpY2F0aW9uQ2hhbGxlbmdlLCBjb21wbGV0aW9uSGFuZGxlcjogQGVzY2FwaW5nIChVUkxTZXNzaW9uLkF1dGhDaGFsbGVuZ2VEaXNwb3NpdGlvbiwgVVJMQ3JlZGVudGlhbD8pIC0+IFZvaWQpCiAgICBmdW5jIHVybFNlc3Npb24oXyBzZXNzaW9uOiBVUkxTZXNzaW9uLCB0YXNrOiBVUkxTZXNzaW9uVGFzaywgZGlkU2VuZEJvZHlEYXRhIGJ5dGVzU2VudDogSW50NjQsIHRvdGFsQnl0ZXNTZW50OiBJbnQ2NCwgdG90YWxCeXRlc0V4cGVjdGVkVG9TZW5kOiBJbnQ2NCkKICAgIGZ1bmMgdXJsU2Vzc2lvbihfIHNlc3Npb246IFVSTFNlc3Npb24sIHRhc2s6IFVSTFNlc3Npb25UYXNrLCBuZWVkTmV3Qm9keVN0cmVhbSBjb21wbGV0aW9uSGFuZGxlcjogQGVzY2FwaW5nIChJbnB1dFN0cmVhbT8pIC0+IFZvaWQpCiAgICBmdW5jIHVybFNlc3Npb24oXyBzZXNzaW9uOiBVUkxTZXNzaW9uLCB0YXNrOiBVUkxTZXNzaW9uVGFzaywgd2lsbEJlZ2luRGVsYXllZFJlcXVlc3QgcmVxdWVzdDogVVJMUmVxdWVzdCwgY29tcGxldGlvbkhhbmRsZXI6IEBlc2NhcGluZyAoVVJMU2Vzc2lvbi5EZWxheWVkUmVxdWVzdERpc3Bvc2l0aW9uLCBVUkxSZXF1ZXN0PykgLT4gVm9pZCkKICAgIGZ1bmMgdXJsU2Vzc2lvbihfIHNlc3Npb246IFVSTFNlc3Npb24sIHRhc2s6IFVSTFNlc3Npb25UYXNrLCB3aWxsUGVyZm9ybUhUVFBSZWRpcmVjdGlvbiByZXNwb25zZTogSFRUUFVSTFJlc3BvbnNlLCBuZXdSZXF1ZXN0IHJlcXVlc3Q6IFVSTFJlcXVlc3QsIGNvbXBsZXRpb25IYW5kbGVyOiBAZXNjYXBpbmcgKFVSTFJlcXVlc3Q/KSAtPiBWb2lkKQp9CnB1YmxpYyBwcm90b2NvbCBYTUxQYXJzZXJEZWxlZ2F0ZSB7CiAgICBmdW5jIHBhcnNlcihfIHBhcnNlcjogWE1MUGFyc2VyLCBkaWRFbmRFbGVtZW50IGVsZW1lbnROYW1lOiBTdHJpbmcsIG5hbWVzcGFjZVVSSTogU3RyaW5nPywgcXVhbGlmaWVkTmFtZSBxTmFtZTogU3RyaW5nPykKICAgIGZ1bmMgcGFyc2VyKF8gcGFyc2VyOiBYTUxQYXJzZXIsIGRpZEVuZE1hcHBpbmdQcmVmaXggcHJlZml4OiBTdHJpbmcpCiAgICBmdW5jIHBhcnNlcihfIHBhcnNlcjogWE1MUGFyc2VyLCBkaWRTdGFydEVsZW1lbnQgZWxlbWVudE5hbWU6IFN0cmluZywgbmFtZXNwYWNlVVJJOiBTdHJpbmc/LCBxdWFsaWZpZWROYW1lIHFOYW1lOiBTdHJpbmc/LCBhdHRyaWJ1dGVzIGF0dHJpYnV0ZURpY3Q6IFtTdHJpbmc6IFN0cmluZ10pCiAgICBmdW5jIHBhcnNlcihfIHBhcnNlcjogWE1MUGFyc2VyLCBkaWRTdGFydE1hcHBpbmdQcmVmaXggcHJlZml4OiBTdHJpbmcsIHRvVVJJIG5hbWVzcGFjZVVSSTogU3RyaW5nKQogICAgZnVuYyBwYXJzZXIoXyBwYXJzZXI6IFhNTFBhcnNlciwgZm91bmRBdHRyaWJ1dGVEZWNsYXJhdGlvbldpdGhOYW1lIGF0dHJpYnV0ZU5hbWU6IFN0cmluZywgZm9yRWxlbWVudCBlbGVtZW50TmFtZTogU3RyaW5nLCB0eXBlOiBTdHJpbmc/LCBkZWZhdWx0VmFsdWU6IFN0cmluZz8pCiAgICBmdW5jIHBhcnNlcihfIHBhcnNlcjogWE1MUGFyc2VyLCBmb3VuZENEQVRBIENEQVRBQmxvY2s6IERhdGEpCiAgICBmdW5jIHBhcnNlcihfIHBhcnNlcjogWE1MUGFyc2VyLCBmb3VuZENoYXJhY3RlcnMgc3RyaW5nOiBTdHJpbmcpCiAgICBmdW5jIHBhcnNlcihfIHBhcnNlcjogWE1MUGFyc2VyLCBmb3VuZENvbW1lbnQgY29tbWVudDogU3RyaW5nKQogICAgZnVuYyBwYXJzZXIoXyBwYXJzZXI6IFhNTFBhcnNlciwgZm91bmRFbGVtZW50RGVjbGFyYXRpb25XaXRoTmFtZSBlbGVtZW50TmFtZTogU3RyaW5nLCBtb2RlbDogU3RyaW5nKQogICAgZnVuYyBwYXJzZXIoXyBwYXJzZXI6IFhNTFBhcnNlciwgZm91bmRFeHRlcm5hbEVudGl0eURlY2xhcmF0aW9uV2l0aE5hbWUgbmFtZTogU3RyaW5nLCBwdWJsaWNJRDogU3RyaW5nPywgc3lzdGVtSUQ6IFN0cmluZz8pCiAgICBmdW5jIHBhcnNlcihfIHBhcnNlcjogWE1MUGFyc2VyLCBmb3VuZElnbm9yYWJsZVdoaXRlc3BhY2Ugd2hpdGVzcGFjZVN0cmluZzogU3RyaW5nKQogICAgZnVuYyBwYXJzZXIoXyBwYXJzZXI6IFhNTFBhcnNlciwgZm91bmRJbnRlcm5hbEVudGl0eURlY2xhcmF0aW9uV2l0aE5hbWUgbmFtZTogU3RyaW5nLCB2YWx1ZTogU3RyaW5nPykKICAgIGZ1bmMgcGFyc2VyKF8gcGFyc2VyOiBYTUxQYXJzZXIsIGZvdW5kTm90YXRpb25EZWNsYXJhdGlvbldpdGhOYW1lIG5hbWU6IFN0cmluZywgcHVibGljSUQ6IFN0cmluZz8sIHN5c3RlbUlEOiBTdHJpbmc/KQogICAgZnVuYyBwYXJzZXIoXyBwYXJzZXI6IFhNTFBhcnNlciwgZm91bmRQcm9jZXNzaW5nSW5zdHJ1Y3Rpb25XaXRoVGFyZ2V0IHRhcmdldDogU3RyaW5nLCBkYXRhOiBTdHJpbmc/KQogICAgZnVuYyBwYXJzZXIoXyBwYXJzZXI6IFhNTFBhcnNlciwgZm91bmRVbnBhcnNlZEVudGl0eURlY2xhcmF0aW9uV2l0aE5hbWUgbmFtZTogU3RyaW5nLCBwdWJsaWNJRDogU3RyaW5nPywgc3lzdGVtSUQ6IFN0cmluZz8sIG5vdGF0aW9uTmFtZTogU3RyaW5nPykKICAgIGZ1bmMgcGFyc2VyKF8gcGFyc2VyOiBYTUxQYXJzZXIsIHBhcnNlRXJyb3JPY2N1cnJlZCBwYXJzZUVycm9yOiBFcnJvcikKICAgIGZ1bmMgcGFyc2VyKF8gcGFyc2VyOiBYTUxQYXJzZXIsIHJlc29sdmVFeHRlcm5hbEVudGl0eU5hbWUgbmFtZTogU3RyaW5nLCBzeXN0ZW1JRDogU3RyaW5nPykgLT4gRGF0YT8KICAgIGZ1bmMgcGFyc2VyKF8gcGFyc2VyOiBYTUxQYXJzZXIsIHZhbGlkYXRpb25FcnJvck9jY3VycmVkIHZhbGlkYXRpb25FcnJvcjogRXJyb3IpCiAgICBmdW5jIHBhcnNlckRpZEVuZERvY3VtZW50KF8gcGFyc2VyOiBYTUxQYXJzZXIpCiAgICBmdW5jIHBhcnNlckRpZFN0YXJ0RG9jdW1lbnQoXyBwYXJzZXI6IFhNTFBhcnNlcikKfQpleHRlbnNpb24gQXJyYXkgewp9CmV4dGVuc2lvbiBCb29sIHsKICAgIHB1YmxpYyBpbml0PyhleGFjdGx5IG51bWJlcjogTlNOdW1iZXIpIHt9CiAgICBwdWJsaWMgaW5pdCh0cnVuY2F0aW5nIG51bWJlcjogTlNOdW1iZXIpIHt9Cn0KZXh0ZW5zaW9uIENGQXJyYXkgewp9CmV4dGVuc2lvbiBDRkNhbGVuZGFyIHsKfQpleHRlbnNpb24gQ0ZDaGFyYWN0ZXJTZXQgewp9CmV4dGVuc2lvbiBDRkRhdGEgewp9CmV4dGVuc2lvbiBDRkRhdGUgewp9CmV4dGVuc2lvbiBDRkRpY3Rpb25hcnkgewp9CmV4dGVuc2lvbiBDRkVycm9yIHsKfQpleHRlbnNpb24gQ0ZLZXllZEFyY2hpdmVyVUlEIHsKfQpleHRlbnNpb24gQ0ZMb2NhbGUgewp9CmV4dGVuc2lvbiBDRk51bWJlciB7Cn0KZXh0ZW5zaW9uIENGU2V0IHsKfQpleHRlbnNpb24gQ0ZTdHJpbmcgewp9CmV4dGVuc2lvbiBDRlRpbWVab25lIHsKfQpleHRlbnNpb24gQ0ZVUkwgewp9CmV4dGVuc2lvbiBDRlVSTFNlc3Npb25FYXN5Q29kZSB7CiAgICBwdWJsaWMgZnVuYyA9PShsaHM6IENGVVJMU2Vzc2lvbkVhc3lDb2RlLCByaHM6IENGVVJMU2Vzc2lvbkVhc3lDb2RlKSAtPiBCb29sIHt9Cn0KZXh0ZW5zaW9uIENGVVJMU2Vzc2lvbkluZm8gewogICAgcHVibGljIHZhciBkZWJ1Z0hlYWRlcjogU3RyaW5nIHsgZ2V0IH0KICAgIHB1YmxpYyBmdW5jID09KGxoczogQ0ZVUkxTZXNzaW9uSW5mbywgcmhzOiBDRlVSTFNlc3Npb25JbmZvKSAtPiBCb29sIHt9Cn0KZXh0ZW5zaW9uIENGVVJMU2Vzc2lvbk11bHRpQ29kZSB7CiAgICBwdWJsaWMgZnVuYyA9PShsaHM6IENGVVJMU2Vzc2lvbk11bHRpQ29kZSwgcmhzOiBDRlVSTFNlc3Npb25NdWx0aUNvZGUpIC0+IEJvb2wge30KfQpleHRlbnNpb24gQ0ZVUkxTZXNzaW9uUG9sbCB7CiAgICBwdWJsaWMgZnVuYyA9PShsaHM6IENGVVJMU2Vzc2lvblBvbGwsIHJoczogQ0ZVUkxTZXNzaW9uUG9sbCkgLT4gQm9vbCB7fQp9CmV4dGVuc2lvbiBEZWNvZGluZ0Vycm9yIHsKfQpleHRlbnNpb24gRGljdGlvbmFyeSB7Cn0KZXh0ZW5zaW9uIERvdWJsZSB7CiAgICBwdWJsaWMgaW5pdChfIHZhbHVlOiBDR0Zsb2F0KSB7fQogICAgcHVibGljIGluaXQ/KGV4YWN0bHkgbnVtYmVyOiBOU051bWJlcikge30KICAgIHB1YmxpYyBpbml0KHRydW5jYXRpbmcgbnVtYmVyOiBOU051bWJlcikge30KfQpleHRlbnNpb24gRW5jb2RpbmdFcnJvciB7Cn0KZXh0ZW5zaW9uIEZsb2F0IHsKICAgIHB1YmxpYyBpbml0KF8gdmFsdWU6IENHRmxvYXQpIHt9CiAgICBwdWJsaWMgaW5pdD8oZXhhY3RseSBudW1iZXI6IE5TTnVtYmVyKSB7fQogICAgcHVibGljIGluaXQodHJ1bmNhdGluZyBudW1iZXI6IE5TTnVtYmVyKSB7fQp9CmV4dGVuc2lvbiBJbnQgewogICAgcHVibGljIGluaXQoXyB2YWx1ZTogQ0dGbG9hdCkge30KICAgIHB1YmxpYyBpbml0PyhleGFjdGx5IG51bWJlcjogTlNOdW1iZXIpIHt9CiAgICBwdWJsaWMgaW5pdCh0cnVuY2F0aW5nIG51bWJlcjogTlNOdW1iZXIpIHt9Cn0KZXh0ZW5zaW9uIEludDE2IHsKICAgIHB1YmxpYyBpbml0KF8gdmFsdWU6IENHRmxvYXQpIHt9CiAgICBwdWJsaWMgaW5pdD8oZXhhY3RseSBudW1iZXI6IE5TTnVtYmVyKSB7fQogICAgcHVibGljIGluaXQodHJ1bmNhdGluZyBudW1iZXI6IE5TTnVtYmVyKSB7fQp9CmV4dGVuc2lvbiBJbnQzMiB7CiAgICBwdWJsaWMgaW5pdChfIHZhbHVlOiBDR0Zsb2F0KSB7fQogICAgcHVibGljIGluaXQ/KGV4YWN0bHkgbnVtYmVyOiBOU051bWJlcikge30KICAgIHB1YmxpYyBpbml0KHRydW5jYXRpbmcgbnVtYmVyOiBOU051bWJlcikge30KfQpleHRlbnNpb24gSW50NjQgewogICAgcHVibGljIGluaXQoXyB2YWx1ZTogQ0dGbG9hdCkge30KICAgIHB1YmxpYyBpbml0PyhleGFjdGx5IG51bWJlcjogTlNOdW1iZXIpIHt9CiAgICBwdWJsaWMgaW5pdCh0cnVuY2F0aW5nIG51bWJlcjogTlNOdW1iZXIpIHt9Cn0KZXh0ZW5zaW9uIEludDggewogICAgcHVibGljIGluaXQoXyB2YWx1ZTogQ0dGbG9hdCkge30KICAgIHB1YmxpYyBpbml0PyhleGFjdGx5IG51bWJlcjogTlNOdW1iZXIpIHt9CiAgICBwdWJsaWMgaW5pdCh0cnVuY2F0aW5nIG51bWJlcjogTlNOdW1iZXIpIHt9Cn0KZXh0ZW5zaW9uIE1lYXN1cmVtZW50IHsKICAgIHB1YmxpYyBpbml0KGZyb20gZGVjb2RlcjogRGVjb2RlcikgdGhyb3dzIHt9CiAgICBwdWJsaWMgdmFyIGN1c3RvbU1pcnJvcjogTWlycm9yIHsgZ2V0IH0KICAgIHB1YmxpYyB2YXIgZGVidWdEZXNjcmlwdGlvbjogU3RyaW5nIHsgZ2V0IH0KICAgIHB1YmxpYyB2YXIgZGVzY3JpcHRpb246IFN0cmluZyB7IGdldCB9CiAgICBwdWJsaWMgZnVuYyAqKGxoczogRG91YmxlLCByaHM6IE1lYXN1cmVtZW50PFVuaXRUeXBlPikgLT4gTWVhc3VyZW1lbnQ8VW5pdFR5cGU+IHt9CiAgICBwdWJsaWMgZnVuYyAqKGxoczogTWVhc3VyZW1lbnQ8VW5pdFR5cGU+LCByaHM6IERvdWJsZSkgLT4gTWVhc3VyZW1lbnQ8VW5pdFR5cGU+IHt9CiAgICBwdWJsaWMgZnVuYyArKGxoczogTWVhc3VyZW1lbnQ8VW5pdFR5cGU+LCByaHM6IE1lYXN1cmVtZW50PFVuaXRUeXBlPikgLT4gTWVhc3VyZW1lbnQ8VW5pdFR5cGU+IHt9CiAgICBwdWJsaWMgZnVuYyArKGxoczogTWVhc3VyZW1lbnQ8VW5pdFR5cGU+LCByaHM6IE1lYXN1cmVtZW50PFVuaXRUeXBlPikgLT4gTWVhc3VyZW1lbnQ8VW5pdFR5cGU+IHdoZXJlIFVuaXRUeXBlIDogRGltZW5zaW9uIHt9CiAgICBwdWJsaWMgZnVuYyAtKGxoczogTWVhc3VyZW1lbnQ8VW5pdFR5cGU+LCByaHM6IE1lYXN1cmVtZW50PFVuaXRUeXBlPikgLT4gTWVhc3VyZW1lbnQ8VW5pdFR5cGU+IHt9CiAgICBwdWJsaWMgZnVuYyAtKGxoczogTWVhc3VyZW1lbnQ8VW5pdFR5cGU+LCByaHM6IE1lYXN1cmVtZW50PFVuaXRUeXBlPikgLT4gTWVhc3VyZW1lbnQ8VW5pdFR5cGU+IHdoZXJlIFVuaXRUeXBlIDogRGltZW5zaW9uIHt9CiAgICBwdWJsaWMgZnVuYyAvKGxoczogRG91YmxlLCByaHM6IE1lYXN1cmVtZW50PFVuaXRUeXBlPikgLT4gTWVhc3VyZW1lbnQ8VW5pdFR5cGU+IHt9CiAgICBwdWJsaWMgZnVuYyAvKGxoczogTWVhc3VyZW1lbnQ8VW5pdFR5cGU+LCByaHM6IERvdWJsZSkgLT4gTWVhc3VyZW1lbnQ8VW5pdFR5cGU+IHt9CiAgICBwdWJsaWMgZnVuYyA8PExlZnRIYW5kU2lkZVR5cGUsIFJpZ2h0SGFuZFNpZGVUeXBlPihsaHM6IE1lYXN1cmVtZW50PExlZnRIYW5kU2lkZVR5cGU+LCByaHM6IE1lYXN1cmVtZW50PFJpZ2h0SGFuZFNpZGVUeXBlPikgLT4gQm9vbCB7fQogICAgcHVibGljIGZ1bmMgPT08TGVmdEhhbmRTaWRlVHlwZSwgUmlnaHRIYW5kU2lkZVR5cGU+KGxoczogTWVhc3VyZW1lbnQ8TGVmdEhhbmRTaWRlVHlwZT4sIHJoczogTWVhc3VyZW1lbnQ8UmlnaHRIYW5kU2lkZVR5cGU+KSAtPiBCb29sIHt9CiAgICBwdWJsaWMgbXV0YXRpbmcgZnVuYyBjb252ZXJ0KHRvIG90aGVyVW5pdDogVW5pdFR5cGUpIHdoZXJlIFVuaXRUeXBlIDogRGltZW5zaW9uIHt9CiAgICBwdWJsaWMgZnVuYyBjb252ZXJ0ZWQodG8gb3RoZXJVbml0OiBVbml0VHlwZSkgLT4gTWVhc3VyZW1lbnQ8VW5pdFR5cGU+IHdoZXJlIFVuaXRUeXBlIDogRGltZW5zaW9uIHt9CiAgICBwdWJsaWMgZnVuYyBlbmNvZGUodG8gZW5jb2RlcjogRW5jb2RlcikgdGhyb3dzIHt9Cn0KZXh0ZW5zaW9uIE9wdGlvbmFsIHsKfQpleHRlbnNpb24gUmFuZ2UgewogICAgcHVibGljIGluaXQ/KF8gcmFuZ2U6IE5TUmFuZ2UpIHdoZXJlIEJvdW5kIDogQmluYXJ5SW50ZWdlciB7fQogICAgcHVibGljIGluaXQ/KF8gcmFuZ2U6IE5TUmFuZ2UsIGluIHN0cmluZzogU3RyaW5nKSB3aGVyZSBCb3VuZCA9PSBTdHJpbmcuSW5kZXgge30KfQpleHRlbnNpb24gU2V0IHsKfQpleHRlbnNpb24gU3RyaW5nIHsKICAgIHB1YmxpYyBzdGF0aWMgdmFyIGF2YWlsYWJsZVN0cmluZ0VuY29kaW5nczogW0VuY29kaW5nXSB7IGdldCB9CiAgICBwdWJsaWMgc3RhdGljIHZhciBkZWZhdWx0Q1N0cmluZ0VuY29kaW5nOiBFbmNvZGluZyB7IGdldCB9CiAgICBwdWJsaWMgc3RhdGljIGZ1bmMgbG9jYWxpemVkTmFtZShvZiBlbmNvZGluZzogRW5jb2RpbmcpIC0+IFN0cmluZyB7fQogICAgcHVibGljIHN0YXRpYyBmdW5jIGxvY2FsaXplZFN0cmluZ1dpdGhGb3JtYXQoXyBmb3JtYXQ6IFN0cmluZywgXyBhcmd1bWVudHM6IENWYXJBcmcuLi4pIC0+IFN0cmluZyB7fQogICAgcHVibGljIGluaXQ/PFM+KGJ5dGVzOiBTLCBlbmNvZGluZzogRW5jb2RpbmcpIHdoZXJlIFMgOiBTZXF1ZW5jZSwgUy5JdGVyYXRvci5FbGVtZW50ID09IFVJbnQ4IHt9CiAgICBwdWJsaWMgaW5pdD8oYnl0ZXNOb0NvcHkgYnl0ZXM6IFVuc2FmZU11dGFibGVSYXdQb2ludGVyLCBsZW5ndGg6IEludCwgZW5jb2Rpbmc6IEVuY29kaW5nLCBmcmVlV2hlbkRvbmUgZmxhZzogQm9vbCkge30KICAgIHB1YmxpYyBpbml0PyhjU3RyaW5nOiBVbnNhZmVQb2ludGVyPENDaGFyPiwgZW5jb2RpbmcgZW5jOiBFbmNvZGluZykge30KICAgIHB1YmxpYyBpbml0KGNvbnRlbnRzT2YgdXJsOiBVUkwpIHRocm93cyB7fQogICAgcHVibGljIGluaXQoY29udGVudHNPZiB1cmw6IFVSTCwgZW5jb2RpbmcgZW5jOiBFbmNvZGluZykgdGhyb3dzIHt9CiAgICBwdWJsaWMgaW5pdChjb250ZW50c09mIHVybDogVVJMLCB1c2VkRW5jb2Rpbmc6IGlub3V0IEVuY29kaW5nKSB0aHJvd3Mge30KICAgIHB1YmxpYyBpbml0KGNvbnRlbnRzT2ZGaWxlIHBhdGg6IFN0cmluZykgdGhyb3dzIHt9CiAgICBwdWJsaWMgaW5pdChjb250ZW50c09mRmlsZSBwYXRoOiBTdHJpbmcsIGVuY29kaW5nIGVuYzogRW5jb2RpbmcpIHRocm93cyB7fQogICAgcHVibGljIGluaXQoY29udGVudHNPZkZpbGUgcGF0aDogU3RyaW5nLCB1c2VkRW5jb2Rpbmc6IGlub3V0IEVuY29kaW5nKSB0aHJvd3Mge30KICAgIHB1YmxpYyBpbml0PyhkYXRhOiBEYXRhLCBlbmNvZGluZzogRW5jb2RpbmcpIHt9CiAgICBwdWJsaWMgaW5pdChmb3JtYXQ6IFN0cmluZywgXyBhcmd1bWVudHM6IENWYXJBcmcuLi4pIHt9CiAgICBwdWJsaWMgaW5pdChmb3JtYXQ6IFN0cmluZywgYXJndW1lbnRzOiBbQ1ZhckFyZ10pIHt9CiAgICBwdWJsaWMgaW5pdChmb3JtYXQ6IFN0cmluZywgbG9jYWxlOiBMb2NhbGU/LCBfIGFyZ3M6IENWYXJBcmcuLi4pIHt9CiAgICBwdWJsaWMgaW5pdChmb3JtYXQ6IFN0cmluZywgbG9jYWxlOiBMb2NhbGU/LCBhcmd1bWVudHM6IFtDVmFyQXJnXSkge30KICAgIHB1YmxpYyBpbml0KHV0ZjE2Q29kZVVuaXRzOiBVbnNhZmVQb2ludGVyPHVuaWNoYXI+LCBjb3VudDogSW50KSB7fQogICAgcHVibGljIGluaXQodXRmMTZDb2RlVW5pdHNOb0NvcHk6IFVuc2FmZVBvaW50ZXI8dW5pY2hhcj4sIGNvdW50OiBJbnQsIGZyZWVXaGVuRG9uZSBmbGFnOiBCb29sKSB7fQogICAgcHVibGljIGluaXQ/KHV0ZjhTdHJpbmcgYnl0ZXM6IFVuc2FmZVBvaW50ZXI8Q0NoYXI+KSB7fQp9CmV4dGVuc2lvbiBTdHJpbmcuRW5jb2RpbmcgewogICAgcHVibGljIHZhciBkZXNjcmlwdGlvbjogU3RyaW5nIHsgZ2V0IH0KICAgIHB1YmxpYyB2YXIgaGFzaFZhbHVlOiBJbnQgeyBnZXQgfQogICAgcHVibGljIGZ1bmMgPT0obGhzOiBTdHJpbmcuRW5jb2RpbmcsIHJoczogU3RyaW5nLkVuY29kaW5nKSAtPiBCb29sIHt9Cn0KZXh0ZW5zaW9uIFN0cmluZ1Byb3RvY29sIHsKICAgIHB1YmxpYyB2YXIgY2FwaXRhbGl6ZWQ6IFN0cmluZyB7IGdldCB9IHdoZXJlIEluZGV4ID09IFN0cmluZy5JbmRleAogICAgcHVibGljIHZhciBkZWNvbXBvc2VkU3RyaW5nV2l0aENhbm9uaWNhbE1hcHBpbmc6IFN0cmluZyB7IGdldCB9IHdoZXJlIEluZGV4ID09IFN0cmluZy5JbmRleAogICAgcHVibGljIHZhciBkZWNvbXBvc2VkU3RyaW5nV2l0aENvbXBhdGliaWxpdHlNYXBwaW5nOiBTdHJpbmcgeyBnZXQgfSB3aGVyZSBJbmRleCA9PSBTdHJpbmcuSW5kZXgKICAgIHB1YmxpYyB2YXIgZmFzdGVzdEVuY29kaW5nOiBTdHJpbmcuRW5jb2RpbmcgeyBnZXQgfSB3aGVyZSBJbmRleCA9PSBTdHJpbmcuSW5kZXgKICAgIHB1YmxpYyB2YXIgaGFzaDogSW50IHsgZ2V0IH0gd2hlcmUgSW5kZXggPT0gU3RyaW5nLkluZGV4CiAgICBAYXZhaWxhYmxlKG1hY09TMTAuMTEsIGlPUzkuMCwgKikgcHVibGljIHZhciBsb2NhbGl6ZWRDYXBpdGFsaXplZDogU3RyaW5nIHsgZ2V0IH0gd2hlcmUgSW5kZXggPT0gU3RyaW5nLkluZGV4CiAgICBAYXZhaWxhYmxlKG1hY09TMTAuMTEsIGlPUzkuMCwgKikgcHVibGljIHZhciBsb2NhbGl6ZWRMb3dlcmNhc2U6IFN0cmluZyB7IGdldCB9IHdoZXJlIEluZGV4ID09IFN0cmluZy5JbmRleAogICAgQGF2YWlsYWJsZShtYWNPUzEwLjExLCBpT1M5LjAsICopIHB1YmxpYyB2YXIgbG9jYWxpemVkVXBwZXJjYXNlOiBTdHJpbmcgeyBnZXQgfSB3aGVyZSBJbmRleCA9PSBTdHJpbmcuSW5kZXgKICAgIHB1YmxpYyB2YXIgcHJlY29tcG9zZWRTdHJpbmdXaXRoQ2Fub25pY2FsTWFwcGluZzogU3RyaW5nIHsgZ2V0IH0gd2hlcmUgSW5kZXggPT0gU3RyaW5nLkluZGV4CiAgICBwdWJsaWMgdmFyIHByZWNvbXBvc2VkU3RyaW5nV2l0aENvbXBhdGliaWxpdHlNYXBwaW5nOiBTdHJpbmcgeyBnZXQgfSB3aGVyZSBJbmRleCA9PSBTdHJpbmcuSW5kZXgKICAgIHB1YmxpYyB2YXIgcmVtb3ZpbmdQZXJjZW50RW5jb2Rpbmc6IFN0cmluZz8geyBnZXQgfSB3aGVyZSBJbmRleCA9PSBTdHJpbmcuSW5kZXgKICAgIHB1YmxpYyB2YXIgc21hbGxlc3RFbmNvZGluZzogU3RyaW5nLkVuY29kaW5nIHsgZ2V0IH0gd2hlcmUgSW5kZXggPT0gU3RyaW5nLkluZGV4CiAgICBwdWJsaWMgZnVuYyBhZGRpbmdQZXJjZW50RW5jb2Rpbmcod2l0aEFsbG93ZWRDaGFyYWN0ZXJzIGFsbG93ZWRDaGFyYWN0ZXJzOiBDaGFyYWN0ZXJTZXQpIC0+IFN0cmluZz8gd2hlcmUgSW5kZXggPT0gU3RyaW5nLkluZGV4IHt9CiAgICBwdWJsaWMgZnVuYyBhcHBlbmRpbmc8VD4oXyBhU3RyaW5nOiBUKSAtPiBTdHJpbmcgd2hlcmUgVCA6IFN0cmluZ1Byb3RvY29sLCBJbmRleCA9PSBTdHJpbmcuSW5kZXgge30KICAgIHB1YmxpYyBmdW5jIGFwcGVuZGluZ0Zvcm1hdDxUPihfIGZvcm1hdDogVCwgXyBhcmd1bWVudHM6IENWYXJBcmcuLi4pIC0+IFN0cmluZyB3aGVyZSBUIDogU3RyaW5nUHJvdG9jb2wsIEluZGV4ID09IFN0cmluZy5JbmRleCB7fQojaWYgIURFUExPWU1FTlRfUlVOVElNRV9TV0lGVAogICAgQGF2YWlsYWJsZShtYWNPUzEwLjExLCBpT1M5LjAsICopIHB1YmxpYyBmdW5jIGFwcGx5aW5nVHJhbnNmb3JtKF8gdHJhbnNmb3JtOiBTdHJpbmdUcmFuc2Zvcm0sIHJldmVyc2U6IEJvb2wpIC0+IFN0cmluZz8gd2hlcmUgSW5kZXggPT0gU3RyaW5nLkluZGV4IHt9CiNlbmRpZgogICAgcHVibGljIGZ1bmMgY1N0cmluZyh1c2luZyBlbmNvZGluZzogU3RyaW5nLkVuY29kaW5nKSAtPiBbQ0NoYXJdPyB3aGVyZSBJbmRleCA9PSBTdHJpbmcuSW5kZXgge30KICAgIHB1YmxpYyBmdW5jIGNhbkJlQ29udmVydGVkKHRvIGVuY29kaW5nOiBTdHJpbmcuRW5jb2RpbmcpIC0+IEJvb2wgd2hlcmUgSW5kZXggPT0gU3RyaW5nLkluZGV4IHt9CiAgICBwdWJsaWMgZnVuYyBjYXBpdGFsaXplZCh3aXRoIGxvY2FsZTogTG9jYWxlPykgLT4gU3RyaW5nIHdoZXJlIEluZGV4ID09IFN0cmluZy5JbmRleCB7fQogICAgcHVibGljIGZ1bmMgY2FzZUluc2Vuc2l0aXZlQ29tcGFyZTxUPihfIGFTdHJpbmc6IFQpIC0+IENvbXBhcmlzb25SZXN1bHQgd2hlcmUgVCA6IFN0cmluZ1Byb3RvY29sLCBJbmRleCA9PSBTdHJpbmcuSW5kZXgge30KICAgIHB1YmxpYyBmdW5jIGNvbW1vblByZWZpeDxUPih3aXRoIGFTdHJpbmc6IFQsIG9wdGlvbnM6IFN0cmluZy5Db21wYXJlT3B0aW9ucyA9IHgpIC0+IFN0cmluZyB3aGVyZSBUIDogU3RyaW5nUHJvdG9jb2wsIEluZGV4ID09IFN0cmluZy5JbmRleCB7fQogICAgcHVibGljIGZ1bmMgY29tcGFyZTxUPihfIGFTdHJpbmc6IFQsIG9wdGlvbnMgbWFzazogU3RyaW5nLkNvbXBhcmVPcHRpb25zID0geCwgcmFuZ2U6IFJhbmdlPEluZGV4Pj8gPSB4LCBsb2NhbGU6IExvY2FsZT8gPSB4KSAtPiBDb21wYXJpc29uUmVzdWx0IHdoZXJlIFQgOiBTdHJpbmdQcm90b2NvbCwgSW5kZXggPT0gU3RyaW5nLkluZGV4IHt9CiAgICBwdWJsaWMgZnVuYyBjb21wbGV0ZVBhdGgoaW50byBvdXRwdXROYW1lOiBVbnNhZmVNdXRhYmxlUG9pbnRlcjxTdHJpbmc+PyA9IHgsIGNhc2VTZW5zaXRpdmU6IEJvb2wsIG1hdGNoZXNJbnRvIG91dHB1dEFycmF5OiBVbnNhZmVNdXRhYmxlUG9pbnRlcjxbU3RyaW5nXT4/ID0geCwgZmlsdGVyVHlwZXM6IFtTdHJpbmddPyA9IHgpIC0+IEludCB3aGVyZSBJbmRleCA9PSBTdHJpbmcuSW5kZXgge30KICAgIHB1YmxpYyBmdW5jIGNvbXBvbmVudHMoc2VwYXJhdGVkQnkgc2VwYXJhdG9yOiBDaGFyYWN0ZXJTZXQpIC0+IFtTdHJpbmddIHdoZXJlIEluZGV4ID09IFN0cmluZy5JbmRleCB7fQogICAgcHVibGljIGZ1bmMgY29tcG9uZW50czxUPihzZXBhcmF0ZWRCeSBzZXBhcmF0b3I6IFQpIC0+IFtTdHJpbmddIHdoZXJlIFQgOiBTdHJpbmdQcm90b2NvbCwgSW5kZXggPT0gU3RyaW5nLkluZGV4IHt9CiAgICBwdWJsaWMgZnVuYyBjb250YWluczxUPihfIG90aGVyOiBUKSAtPiBCb29sIHdoZXJlIFQgOiBTdHJpbmdQcm90b2NvbCwgSW5kZXggPT0gU3RyaW5nLkluZGV4IHt9CiAgICBwdWJsaWMgZnVuYyBkYXRhKHVzaW5nIGVuY29kaW5nOiBTdHJpbmcuRW5jb2RpbmcsIGFsbG93TG9zc3lDb252ZXJzaW9uOiBCb29sID0geCkgLT4gRGF0YT8gd2hlcmUgSW5kZXggPT0gU3RyaW5nLkluZGV4IHt9CiAgICBwdWJsaWMgZnVuYyBlbnVtZXJhdGVMaW5lcyhpbnZva2luZyBib2R5OiBAZXNjYXBpbmcgKF8gbGluZTogU3RyaW5nLCBfIHN0b3A6IGlub3V0IEJvb2wpIC0+IFZvaWQpIHdoZXJlIEluZGV4ID09IFN0cmluZy5JbmRleCB7fQojaWYgIURFUExPWU1FTlRfUlVOVElNRV9TV0lGVAogICAgcHVibGljIGZ1bmMgZW51bWVyYXRlTGluZ3Vpc3RpY1RhZ3M8VCwgUj4oaW4gcmFuZ2U6IFIsIHNjaGVtZSB0YWdTY2hlbWU6IFQsIG9wdGlvbnMgb3B0czogTlNMaW5ndWlzdGljVGFnZ2VyLk9wdGlvbnMgPSB4LCBvcnRob2dyYXBoeTogTlNPcnRob2dyYXBoeT8gPSB4LCBpbnZva2luZyBib2R5OiAoU3RyaW5nLCBSYW5nZTxJbmRleD4sIFJhbmdlPEluZGV4PiwgaW5vdXQgQm9vbCkgLT4gVm9pZCkgd2hlcmUgUiA6IFJhbmdlRXhwcmVzc2lvbiwgVCA6IFN0cmluZ1Byb3RvY29sLCBJbmRleCA9PSBSLkJvdW5kLCBJbmRleCA9PSBTdHJpbmcuSW5kZXgge30KI2VuZGlmCiAgICBwdWJsaWMgZnVuYyBlbnVtZXJhdGVTdWJzdHJpbmdzPFI+KGluIHJhbmdlOiBSLCBvcHRpb25zIG9wdHM6IFN0cmluZy5FbnVtZXJhdGlvbk9wdGlvbnMgPSB4LCBfIGJvZHk6IEBlc2NhcGluZyAoXyBzdWJzdHJpbmc6IFN0cmluZz8sIF8gc3Vic3RyaW5nUmFuZ2U6IFJhbmdlPEluZGV4PiwgXyBlbmNsb3NpbmdSYW5nZTogUmFuZ2U8SW5kZXg+LCBpbm91dCBCb29sKSAtPiBWb2lkKSB3aGVyZSBSIDogUmFuZ2VFeHByZXNzaW9uLCBJbmRleCA9PSBSLkJvdW5kLCBJbmRleCA9PSBTdHJpbmcuSW5kZXgge30KICAgIHB1YmxpYyBmdW5jIGZvbGRpbmcob3B0aW9uczogU3RyaW5nLkNvbXBhcmVPcHRpb25zID0geCwgbG9jYWxlOiBMb2NhbGU/KSAtPiBTdHJpbmcgd2hlcmUgSW5kZXggPT0gU3RyaW5nLkluZGV4IHt9CiAgICBwdWJsaWMgZnVuYyBnZXRCeXRlczxSPihfIGJ1ZmZlcjogaW5vdXQgW1VJbnQ4XSwgbWF4TGVuZ3RoIG1heEJ1ZmZlckNvdW50OiBJbnQsIHVzZWRMZW5ndGggdXNlZEJ1ZmZlckNvdW50OiBVbnNhZmVNdXRhYmxlUG9pbnRlcjxJbnQ+LCBlbmNvZGluZzogU3RyaW5nLkVuY29kaW5nLCBvcHRpb25zOiBTdHJpbmcuRW5jb2RpbmdDb252ZXJzaW9uT3B0aW9ucyA9IHgsIHJhbmdlOiBSLCByZW1haW5pbmcgbGVmdG92ZXI6IFVuc2FmZU11dGFibGVQb2ludGVyPFJhbmdlPEluZGV4Pj4pIC0+IEJvb2wgd2hlcmUgUiA6IFJhbmdlRXhwcmVzc2lvbiwgSW5kZXggPT0gUi5Cb3VuZCwgSW5kZXggPT0gU3RyaW5nLkluZGV4IHt9CiAgICBwdWJsaWMgZnVuYyBnZXRDU3RyaW5nKF8gYnVmZmVyOiBpbm91dCBbQ0NoYXJdLCBtYXhMZW5ndGg6IEludCwgZW5jb2Rpbmc6IFN0cmluZy5FbmNvZGluZykgLT4gQm9vbCB3aGVyZSBJbmRleCA9PSBTdHJpbmcuSW5kZXgge30KICAgIHB1YmxpYyBmdW5jIGdldExpbmVTdGFydDxSPihfIHN0YXJ0OiBVbnNhZmVNdXRhYmxlUG9pbnRlcjxJbmRleD4sIGVuZDogVW5zYWZlTXV0YWJsZVBvaW50ZXI8SW5kZXg+LCBjb250ZW50c0VuZDogVW5zYWZlTXV0YWJsZVBvaW50ZXI8SW5kZXg+LCBmb3IgcmFuZ2U6IFIpIHdoZXJlIFIgOiBSYW5nZUV4cHJlc3Npb24sIEluZGV4ID09IFIuQm91bmQsIEluZGV4ID09IFN0cmluZy5JbmRleCB7fQogICAgcHVibGljIGZ1bmMgZ2V0UGFyYWdyYXBoU3RhcnQ8Uj4oXyBzdGFydDogVW5zYWZlTXV0YWJsZVBvaW50ZXI8SW5kZXg+LCBlbmQ6IFVuc2FmZU11dGFibGVQb2ludGVyPEluZGV4PiwgY29udGVudHNFbmQ6IFVuc2FmZU11dGFibGVQb2ludGVyPEluZGV4PiwgZm9yIHJhbmdlOiBSKSB3aGVyZSBSIDogUmFuZ2VFeHByZXNzaW9uLCBJbmRleCA9PSBSLkJvdW5kLCBJbmRleCA9PSBTdHJpbmcuSW5kZXgge30KICAgIHB1YmxpYyBmdW5jIGxlbmd0aE9mQnl0ZXModXNpbmcgZW5jb2Rpbmc6IFN0cmluZy5FbmNvZGluZykgLT4gSW50IHdoZXJlIEluZGV4ID09IFN0cmluZy5JbmRleCB7fQogICAgcHVibGljIGZ1bmMgbGluZVJhbmdlPFI+KGZvciBhUmFuZ2U6IFIpIC0+IFJhbmdlPEluZGV4PiB3aGVyZSBSIDogUmFuZ2VFeHByZXNzaW9uLCBJbmRleCA9PSBSLkJvdW5kLCBJbmRleCA9PSBTdHJpbmcuSW5kZXgge30KI2lmICFERVBMT1lNRU5UX1JVTlRJTUVfU1dJRlQKICAgIHB1YmxpYyBmdW5jIGxpbmd1aXN0aWNUYWdzPFQsIFI+KGluIHJhbmdlOiBSLCBzY2hlbWUgdGFnU2NoZW1lOiBULCBvcHRpb25zIG9wdHM6IE5TTGluZ3Vpc3RpY1RhZ2dlci5PcHRpb25zID0geCwgb3J0aG9ncmFwaHk6IE5TT3J0aG9ncmFwaHk/ID0geCwgdG9rZW5SYW5nZXM6IFVuc2FmZU11dGFibGVQb2ludGVyPFtSYW5nZTxJbmRleD5dPj8gPSB4KSAtPiBbU3RyaW5nXSB3aGVyZSBSIDogUmFuZ2VFeHByZXNzaW9uLCBUIDogU3RyaW5nUHJvdG9jb2wsIEluZGV4ID09IFIuQm91bmQsIEluZGV4ID09IFN0cmluZy5JbmRleCB7fQojZW5kaWYKICAgIHB1YmxpYyBmdW5jIGxvY2FsaXplZENhc2VJbnNlbnNpdGl2ZUNvbXBhcmU8VD4oXyBhU3RyaW5nOiBUKSAtPiBDb21wYXJpc29uUmVzdWx0IHdoZXJlIFQgOiBTdHJpbmdQcm90b2NvbCwgSW5kZXggPT0gU3RyaW5nLkluZGV4IHt9CiAgICBwdWJsaWMgZnVuYyBsb2NhbGl6ZWRDYXNlSW5zZW5zaXRpdmVDb250YWluczxUPihfIG90aGVyOiBUKSAtPiBCb29sIHdoZXJlIFQgOiBTdHJpbmdQcm90b2NvbCwgSW5kZXggPT0gU3RyaW5nLkluZGV4IHt9CiAgICBwdWJsaWMgZnVuYyBsb2NhbGl6ZWRDb21wYXJlPFQ+KF8gYVN0cmluZzogVCkgLT4gQ29tcGFyaXNvblJlc3VsdCB3aGVyZSBUIDogU3RyaW5nUHJvdG9jb2wsIEluZGV4ID09IFN0cmluZy5JbmRleCB7fQogICAgcHVibGljIGZ1bmMgbG9jYWxpemVkU3RhbmRhcmRDb21wYXJlPFQ+KF8gc3RyaW5nOiBUKSAtPiBDb21wYXJpc29uUmVzdWx0IHdoZXJlIFQgOiBTdHJpbmdQcm90b2NvbCwgSW5kZXggPT0gU3RyaW5nLkluZGV4IHt9CiAgICBAYXZhaWxhYmxlKG1hY09TMTAuMTEsIGlPUzkuMCwgKikgcHVibGljIGZ1bmMgbG9jYWxpemVkU3RhbmRhcmRDb250YWluczxUPihfIHN0cmluZzogVCkgLT4gQm9vbCB3aGVyZSBUIDogU3RyaW5nUHJvdG9jb2wsIEluZGV4ID09IFN0cmluZy5JbmRleCB7fQogICAgQGF2YWlsYWJsZShtYWNPUzEwLjExLCBpT1M5LjAsICopIHB1YmxpYyBmdW5jIGxvY2FsaXplZFN0YW5kYXJkUmFuZ2U8VD4ob2Ygc3RyaW5nOiBUKSAtPiBSYW5nZTxJbmRleD4/IHdoZXJlIFQgOiBTdHJpbmdQcm90b2NvbCwgSW5kZXggPT0gU3RyaW5nLkluZGV4IHt9CiAgICBwdWJsaWMgZnVuYyBsb3dlcmNhc2VkKHdpdGggbG9jYWxlOiBMb2NhbGU/KSAtPiBTdHJpbmcgd2hlcmUgSW5kZXggPT0gU3RyaW5nLkluZGV4IHt9CiAgICBwdWJsaWMgZnVuYyBtYXhpbXVtTGVuZ3RoT2ZCeXRlcyh1c2luZyBlbmNvZGluZzogU3RyaW5nLkVuY29kaW5nKSAtPiBJbnQgd2hlcmUgSW5kZXggPT0gU3RyaW5nLkluZGV4IHt9CiAgICBwdWJsaWMgZnVuYyBwYWRkaW5nPFQ+KHRvTGVuZ3RoIG5ld0xlbmd0aDogSW50LCB3aXRoUGFkIHBhZFN0cmluZzogVCwgc3RhcnRpbmdBdCBwYWRJbmRleDogSW50KSAtPiBTdHJpbmcgd2hlcmUgVCA6IFN0cmluZ1Byb3RvY29sLCBJbmRleCA9PSBTdHJpbmcuSW5kZXgge30KI2lmICFERVBMT1lNRU5UX1JVTlRJTUVfU1dJRlQKICAgIHB1YmxpYyBmdW5jIHBhcmFncmFwaFJhbmdlPFI+KGZvciBhUmFuZ2U6IFIpIC0+IFJhbmdlPEluZGV4PiB3aGVyZSBSIDogUmFuZ2VFeHByZXNzaW9uLCBJbmRleCA9PSBSLkJvdW5kLCBJbmRleCA9PSBTdHJpbmcuSW5kZXgge30KI2VuZGlmCiNpZiAhREVQTE9ZTUVOVF9SVU5USU1FX1NXSUZUCiAgICBwdWJsaWMgZnVuYyBwcm9wZXJ0eUxpc3QoKSAtPiBBbnkgd2hlcmUgSW5kZXggPT0gU3RyaW5nLkluZGV4IHt9CiNlbmRpZgojaWYgIURFUExPWU1FTlRfUlVOVElNRV9TV0lGVAogICAgcHVibGljIGZ1bmMgcHJvcGVydHlMaXN0RnJvbVN0cmluZ3NGaWxlRm9ybWF0KCkgLT4gW1N0cmluZzogU3RyaW5nXSB3aGVyZSBJbmRleCA9PSBTdHJpbmcuSW5kZXgge30KI2VuZGlmCiAgICBwdWJsaWMgZnVuYyByYW5nZTxUPihvZiBhU3RyaW5nOiBULCBvcHRpb25zIG1hc2s6IFN0cmluZy5Db21wYXJlT3B0aW9ucyA9IHgsIHJhbmdlIHNlYXJjaFJhbmdlOiBSYW5nZTxJbmRleD4/ID0geCwgbG9jYWxlOiBMb2NhbGU/ID0geCkgLT4gUmFuZ2U8SW5kZXg+PyB3aGVyZSBUIDogU3RyaW5nUHJvdG9jb2wsIEluZGV4ID09IFN0cmluZy5JbmRleCB7fQogICAgcHVibGljIGZ1bmMgcmFuZ2VPZkNoYXJhY3Rlcihmcm9tIGFTZXQ6IENoYXJhY3RlclNldCwgb3B0aW9ucyBtYXNrOiBTdHJpbmcuQ29tcGFyZU9wdGlvbnMgPSB4LCByYW5nZSBhUmFuZ2U6IFJhbmdlPEluZGV4Pj8gPSB4KSAtPiBSYW5nZTxJbmRleD4/IHdoZXJlIEluZGV4ID09IFN0cmluZy5JbmRleCB7fQogICAgcHVibGljIGZ1bmMgcmFuZ2VPZkNvbXBvc2VkQ2hhcmFjdGVyU2VxdWVuY2UoYXQgYW5JbmRleDogSW5kZXgpIC0+IFJhbmdlPEluZGV4PiB3aGVyZSBJbmRleCA9PSBTdHJpbmcuSW5kZXgge30KICAgIHB1YmxpYyBmdW5jIHJhbmdlT2ZDb21wb3NlZENoYXJhY3RlclNlcXVlbmNlczxSPihmb3IgcmFuZ2U6IFIpIC0+IFJhbmdlPEluZGV4PiB3aGVyZSBSIDogUmFuZ2VFeHByZXNzaW9uLCBJbmRleCA9PSBSLkJvdW5kLCBJbmRleCA9PSBTdHJpbmcuSW5kZXgge30KICAgIHB1YmxpYyBmdW5jIHJlcGxhY2luZ0NoYXJhY3RlcnM8VCwgUj4oaW4gcmFuZ2U6IFIsIHdpdGggcmVwbGFjZW1lbnQ6IFQpIC0+IFN0cmluZyB3aGVyZSBSIDogUmFuZ2VFeHByZXNzaW9uLCBUIDogU3RyaW5nUHJvdG9jb2wsIEluZGV4ID09IFIuQm91bmQsIEluZGV4ID09IFN0cmluZy5JbmRleCB7fQogICAgcHVibGljIGZ1bmMgcmVwbGFjaW5nT2NjdXJyZW5jZXM8VGFyZ2V0LCBSZXBsYWNlbWVudD4ob2YgdGFyZ2V0OiBUYXJnZXQsIHdpdGggcmVwbGFjZW1lbnQ6IFJlcGxhY2VtZW50LCBvcHRpb25zOiBTdHJpbmcuQ29tcGFyZU9wdGlvbnMgPSB4LCByYW5nZSBzZWFyY2hSYW5nZTogUmFuZ2U8SW5kZXg+PyA9IHgpIC0+IFN0cmluZyB3aGVyZSBSZXBsYWNlbWVudCA6IFN0cmluZ1Byb3RvY29sLCBUYXJnZXQgOiBTdHJpbmdQcm90b2NvbCwgSW5kZXggPT0gU3RyaW5nLkluZGV4IHt9CiAgICBwdWJsaWMgZnVuYyB0cmltbWluZ0NoYXJhY3RlcnMoaW4gc2V0OiBDaGFyYWN0ZXJTZXQpIC0+IFN0cmluZyB3aGVyZSBJbmRleCA9PSBTdHJpbmcuSW5kZXgge30KICAgIHB1YmxpYyBmdW5jIHVwcGVyY2FzZWQod2l0aCBsb2NhbGU6IExvY2FsZT8pIC0+IFN0cmluZyB3aGVyZSBJbmRleCA9PSBTdHJpbmcuSW5kZXgge30KICAgIHB1YmxpYyBmdW5jIHdyaXRlKHRvIHVybDogVVJMLCBhdG9taWNhbGx5IHVzZUF1eGlsaWFyeUZpbGU6IEJvb2wsIGVuY29kaW5nIGVuYzogU3RyaW5nLkVuY29kaW5nKSB0aHJvd3Mgd2hlcmUgSW5kZXggPT0gU3RyaW5nLkluZGV4IHt9CiAgICBwdWJsaWMgZnVuYyB3cml0ZTxUPih0b0ZpbGUgcGF0aDogVCwgYXRvbWljYWxseSB1c2VBdXhpbGlhcnlGaWxlOiBCb29sLCBlbmNvZGluZyBlbmM6IFN0cmluZy5FbmNvZGluZykgdGhyb3dzIHdoZXJlIFQgOiBTdHJpbmdQcm90b2NvbCwgSW5kZXggPT0gU3RyaW5nLkluZGV4IHt9Cn0KZXh0ZW5zaW9uIFVJbnQgewogICAgcHVibGljIGluaXQoXyB2YWx1ZTogQ0dGbG9hdCkge30KICAgIHB1YmxpYyBpbml0PyhleGFjdGx5IG51bWJlcjogTlNOdW1iZXIpIHt9CiAgICBwdWJsaWMgaW5pdCh0cnVuY2F0aW5nIG51bWJlcjogTlNOdW1iZXIpIHt9Cn0KZXh0ZW5zaW9uIFVJbnQxNiB7CiAgICBwdWJsaWMgaW5pdChfIHZhbHVlOiBDR0Zsb2F0KSB7fQogICAgcHVibGljIGluaXQ/KGV4YWN0bHkgbnVtYmVyOiBOU051bWJlcikge30KICAgIHB1YmxpYyBpbml0KHRydW5jYXRpbmcgbnVtYmVyOiBOU051bWJlcikge30KfQpleHRlbnNpb24gVUludDMyIHsKICAgIHB1YmxpYyBpbml0KF8gdmFsdWU6IENHRmxvYXQpIHt9CiAgICBwdWJsaWMgaW5pdD8oZXhhY3RseSBudW1iZXI6IE5TTnVtYmVyKSB7fQogICAgcHVibGljIGluaXQodHJ1bmNhdGluZyBudW1iZXI6IE5TTnVtYmVyKSB7fQp9CmV4dGVuc2lvbiBVSW50NjQgewogICAgcHVibGljIGluaXQoXyB2YWx1ZTogQ0dGbG9hdCkge30KICAgIHB1YmxpYyBpbml0PyhleGFjdGx5IG51bWJlcjogTlNOdW1iZXIpIHt9CiAgICBwdWJsaWMgaW5pdCh0cnVuY2F0aW5nIG51bWJlcjogTlNOdW1iZXIpIHt9Cn0KZXh0ZW5zaW9uIFVJbnQ4IHsKICAgIHB1YmxpYyBpbml0KF8gdmFsdWU6IENHRmxvYXQpIHt9CiAgICBwdWJsaWMgaW5pdD8oZXhhY3RseSBudW1iZXI6IE5TTnVtYmVyKSB7fQogICAgcHVibGljIGluaXQodHJ1bmNhdGluZyBudW1iZXI6IE5TTnVtYmVyKSB7fQp9")!
    static let swift = Data(base64Encoded: "b3BlbiBjbGFzcyBNYW5hZ2VkQnVmZmVyPEhlYWRlciwgRWxlbWVudD4gewogICAgcHVibGljIHZhciBoZWFkZXI6IEhlYWRlciB7IGdldCBzZXQgfQp9CnB1YmxpYyBwcm90b2NvbCBBZGRpdGl2ZUFyaXRobWV0aWMgewogICAgc3RhdGljIHZhciB6ZXJvOiBTZWxmIHsgZ2V0IH0KICAgIHByZWZpeCBmdW5jICsoeDogU2VsZikgLT4gU2VsZgogICAgZnVuYyArKGxoczogU2VsZiwgcmhzOiBTZWxmKSAtPiBTZWxmCiAgICBmdW5jICs9KGxoczogaW5vdXQgU2VsZiwgcmhzOiBTZWxmKQogICAgZnVuYyAtKGxoczogU2VsZiwgcmhzOiBTZWxmKSAtPiBTZWxmCiAgICBmdW5jIC09KGxoczogaW5vdXQgU2VsZiwgcmhzOiBTZWxmKQp9CnB1YmxpYyBwcm90b2NvbCBCaWRpcmVjdGlvbmFsQ29sbGVjdGlvbiB7CiAgICB2YXIgbGFzdDogRWxlbWVudD8geyBnZXQgfQogICAgc3Vic2NyaXB0KHBvc2l0aW9uOiBJbmRleCkgLT4gRWxlbWVudCB7IGdldCB9CiAgICBmdW5jIGZvcm1JbmRleChiZWZvcmUgaTogaW5vdXQgSW5kZXgpCiAgICBmdW5jIGluZGV4KGJlZm9yZSBpOiBJbmRleCkgLT4gSW5kZXgKICAgIGZ1bmMgam9pbmVkKHNlcGFyYXRvcjogU3RyaW5nID0geCkgLT4gU3RyaW5nIHdoZXJlIEVsZW1lbnQgPT0gU3RyaW5nCiAgICBmdW5jIGxhc3Qod2hlcmUgcHJlZGljYXRlOiAoRWxlbWVudCkgdGhyb3dzIC0+IEJvb2wpIHJldGhyb3dzIC0+IEVsZW1lbnQ/CiAgICBmdW5jIGxhc3RJbmRleChvZiBlbGVtZW50OiBFbGVtZW50KSAtPiBJbmRleD8gd2hlcmUgRWxlbWVudCA6IEVxdWF0YWJsZQogICAgZnVuYyBsYXN0SW5kZXgod2hlcmUgcHJlZGljYXRlOiAoRWxlbWVudCkgdGhyb3dzIC0+IEJvb2wpIHJldGhyb3dzIC0+IEluZGV4PwogICAgbXV0YXRpbmcgZnVuYyBwb3BMYXN0KCkgLT4gRWxlbWVudD8gd2hlcmUgU2VsZiA9PSBTdWJTZXF1ZW5jZQogICAgQGRpc2NhcmRhYmxlUmVzdWx0IG11dGF0aW5nIGZ1bmMgcmVtb3ZlTGFzdCgpIC0+IEVsZW1lbnQgd2hlcmUgU2VsZiA9PSBTdWJTZXF1ZW5jZQogICAgbXV0YXRpbmcgZnVuYyByZW1vdmVMYXN0KF8gazogSW50KSB3aGVyZSBTZWxmID09IFN1YlNlcXVlbmNlCn0KcHVibGljIHByb3RvY29sIEJpbmFyeUZsb2F0aW5nUG9pbnQgewogICAgc3RhdGljIHZhciBleHBvbmVudEJpdENvdW50OiBJbnQgeyBnZXQgfQogICAgc3RhdGljIHZhciBzaWduaWZpY2FuZEJpdENvdW50OiBJbnQgeyBnZXQgfQogICAgc3RhdGljIGZ1bmMgcmFuZG9tKGluIHJhbmdlOiBDbG9zZWRSYW5nZTxTZWxmPikgLT4gU2VsZiB3aGVyZSBSYXdTaWduaWZpY2FuZCA6IEZpeGVkV2lkdGhJbnRlZ2VyCiAgICBzdGF0aWMgZnVuYyByYW5kb20oaW4gcmFuZ2U6IFJhbmdlPFNlbGY+KSAtPiBTZWxmIHdoZXJlIFJhd1NpZ25pZmljYW5kIDogRml4ZWRXaWR0aEludGVnZXIKICAgIHN0YXRpYyBmdW5jIHJhbmRvbTxUPihpbiByYW5nZTogQ2xvc2VkUmFuZ2U8U2VsZj4sIHVzaW5nIGdlbmVyYXRvcjogaW5vdXQgVCkgLT4gU2VsZiB3aGVyZSBSYXdTaWduaWZpY2FuZCA6IEZpeGVkV2lkdGhJbnRlZ2VyLCBUIDogUmFuZG9tTnVtYmVyR2VuZXJhdG9yCiAgICBzdGF0aWMgZnVuYyByYW5kb208VD4oaW4gcmFuZ2U6IFJhbmdlPFNlbGY+LCB1c2luZyBnZW5lcmF0b3I6IGlub3V0IFQpIC0+IFNlbGYgd2hlcmUgUmF3U2lnbmlmaWNhbmQgOiBGaXhlZFdpZHRoSW50ZWdlciwgVCA6IFJhbmRvbU51bWJlckdlbmVyYXRvcgogICAgaW5pdChzaWduOiBGbG9hdGluZ1BvaW50U2lnbiwgZXhwb25lbnRCaXRQYXR0ZXJuOiBSYXdFeHBvbmVudCwgc2lnbmlmaWNhbmRCaXRQYXR0ZXJuOiBSYXdTaWduaWZpY2FuZCkKICAgIHZhciBiaW5hZGU6IFNlbGYgeyBnZXQgfQogICAgdmFyIGV4cG9uZW50Qml0UGF0dGVybjogUmF3RXhwb25lbnQgeyBnZXQgfQogICAgdmFyIHNpZ25pZmljYW5kQml0UGF0dGVybjogUmF3U2lnbmlmaWNhbmQgeyBnZXQgfQogICAgdmFyIHNpZ25pZmljYW5kV2lkdGg6IEludCB7IGdldCB9Cn0KcHVibGljIHByb3RvY29sIEJpbmFyeUludGVnZXIgewogICAgc3RhdGljIHZhciBpc1NpZ25lZDogQm9vbCB7IGdldCB9CiAgICBpbml0KCkKICAgIGluaXQ8VD4oXyBzb3VyY2U6IFQpIHdoZXJlIFQgOiBCaW5hcnlGbG9hdGluZ1BvaW50CiAgICBpbml0PFQ+KF8gc291cmNlOiBUKSB3aGVyZSBUIDogQmluYXJ5SW50ZWdlcgogICAgaW5pdDxUPihjbGFtcGluZyBzb3VyY2U6IFQpIHdoZXJlIFQgOiBCaW5hcnlJbnRlZ2VyCiAgICBpbml0PFQ+KHRydW5jYXRpbmdJZk5lZWRlZCBzb3VyY2U6IFQpIHdoZXJlIFQgOiBCaW5hcnlJbnRlZ2VyCiAgICB2YXIgYml0V2lkdGg6IEludCB7IGdldCB9CiAgICB2YXIgdHJhaWxpbmdaZXJvQml0Q291bnQ6IEludCB7IGdldCB9CiAgICB2YXIgd29yZHM6IFdvcmRzIHsgZ2V0IH0KICAgIGZ1bmMgJShsaHM6IFNlbGYsIHJoczogU2VsZikgLT4gU2VsZgogICAgZnVuYyAlPShsaHM6IGlub3V0IFNlbGYsIHJoczogU2VsZikKICAgIGZ1bmMgJihsaHM6IFNlbGYsIHJoczogU2VsZikgLT4gU2VsZgogICAgZnVuYyAmPShsaHM6IGlub3V0IFNlbGYsIHJoczogU2VsZikKICAgIGZ1bmMgLyhsaHM6IFNlbGYsIHJoczogU2VsZikgLT4gU2VsZgogICAgZnVuYyAvPShsaHM6IGlub3V0IFNlbGYsIHJoczogU2VsZikKICAgIGZ1bmMgPDw8UkhTPihsaHM6IFNlbGYsIHJoczogUkhTKSAtPiBTZWxmIHdoZXJlIFJIUyA6IEJpbmFyeUludGVnZXIKICAgIGZ1bmMgPDw9PFJIUz4obGhzOiBpbm91dCBTZWxmLCByaHM6IFJIUykgd2hlcmUgUkhTIDogQmluYXJ5SW50ZWdlcgogICAgZnVuYyA8PTxPdGhlcj4obGhzOiBTZWxmLCByaHM6IE90aGVyKSAtPiBCb29sIHdoZXJlIE90aGVyIDogQmluYXJ5SW50ZWdlcgogICAgZnVuYyA+PE90aGVyPihsaHM6IFNlbGYsIHJoczogT3RoZXIpIC0+IEJvb2wgd2hlcmUgT3RoZXIgOiBCaW5hcnlJbnRlZ2VyCiAgICBmdW5jID49PE90aGVyPihsaHM6IFNlbGYsIHJoczogT3RoZXIpIC0+IEJvb2wgd2hlcmUgT3RoZXIgOiBCaW5hcnlJbnRlZ2VyCiAgICBmdW5jID4+PFJIUz4obGhzOiBTZWxmLCByaHM6IFJIUykgLT4gU2VsZiB3aGVyZSBSSFMgOiBCaW5hcnlJbnRlZ2VyCiAgICBmdW5jID4+PTxSSFM+KGxoczogaW5vdXQgU2VsZiwgcmhzOiBSSFMpIHdoZXJlIFJIUyA6IEJpbmFyeUludGVnZXIKICAgIGZ1bmMgXihsaHM6IFNlbGYsIHJoczogU2VsZikgLT4gU2VsZgogICAgZnVuYyBePShsaHM6IGlub3V0IFNlbGYsIHJoczogU2VsZikKICAgIGZ1bmMgaXNNdWx0aXBsZShvZiBvdGhlcjogU2VsZikgLT4gQm9vbAogICAgZnVuYyBxdW90aWVudEFuZFJlbWFpbmRlcihkaXZpZGluZ0J5IHJoczogU2VsZikgLT4gKHF1b3RpZW50IDogU2VsZiwgcmVtYWluZGVyIDogU2VsZikKICAgIGZ1bmMgcXVvdGllbnRBbmRSZW1haW5kZXIoZGl2aWRpbmdCeSByaHM6IFNlbGYpIC0+IChxdW90aWVudCA6IFNlbGYsIHJlbWFpbmRlciA6IFNlbGYpCiAgICBmdW5jIHNpZ251bSgpIC0+IFNlbGYKICAgIGZ1bmMgfChsaHM6IFNlbGYsIHJoczogU2VsZikgLT4gU2VsZgogICAgZnVuYyB8PShsaHM6IGlub3V0IFNlbGYsIHJoczogU2VsZikKICAgIHByZWZpeCBmdW5jIH4oeDogU2VsZikgLT4gU2VsZgp9CnB1YmxpYyBwcm90b2NvbCBDVmFyQXJnIHsKfQpwdWJsaWMgcHJvdG9jb2wgQ2FzZUl0ZXJhYmxlIHsKICAgIHN0YXRpYyB2YXIgYWxsQ2FzZXM6IEFsbENhc2VzIHsgZ2V0IH0KfQpwdWJsaWMgcHJvdG9jb2wgQ29sbGVjdGlvbiB7CiAgICB2YXIgY291bnQ6IEludCB7IGdldCB9CiAgICB2YXIgZW5kSW5kZXg6IEluZGV4IHsgZ2V0IH0KICAgIHZhciBmaXJzdDogRWxlbWVudD8geyBnZXQgfQogICAgdmFyIGluZGljZXM6IERlZmF1bHRJbmRpY2VzPFNlbGY+IHsgZ2V0IH0gd2hlcmUgRGVmYXVsdEluZGljZXM8U2VsZj4gPT0gSW5kaWNlcwogICAgdmFyIGluZGljZXM6IEluZGljZXMgeyBnZXQgfQogICAgdmFyIGlzRW1wdHk6IEJvb2wgeyBnZXQgfQogICAgdmFyIGlzRW1wdHk6IEJvb2wgeyBnZXQgfQogICAgdmFyIHN0YXJ0SW5kZXg6IEluZGV4IHsgZ2V0IH0KICAgIHN1YnNjcmlwdChib3VuZHM6IFJhbmdlPEluZGV4PikgLT4gU2xpY2U8U2VsZj4geyBnZXQgfSB3aGVyZSBTbGljZTxTZWxmPiA9PSBTdWJTZXF1ZW5jZQogICAgc3Vic2NyaXB0KGJvdW5kczogUmFuZ2U8SW5kZXg+KSAtPiBTdWJTZXF1ZW5jZSB7IGdldCB9CiAgICBzdWJzY3JpcHQoeDogVW5ib3VuZGVkUmFuZ2UpIC0+IFN1YlNlcXVlbmNlIHsgZ2V0IH0KICAgIHN1YnNjcmlwdDxSPihyOiBSKSAtPiBTdWJTZXF1ZW5jZSB7IGdldCB9IHdoZXJlIFIgOiBSYW5nZUV4cHJlc3Npb24sIEluZGV4ID09IFIuQm91bmQKICAgIGZ1bmMgZGlzdGFuY2UoZnJvbSBzdGFydDogSW5kZXgsIHRvIGVuZDogSW5kZXgpIC0+IEludAogICAgZnVuYyBmaXJzdEluZGV4KG9mIGVsZW1lbnQ6IEVsZW1lbnQpIC0+IEluZGV4PyB3aGVyZSBFbGVtZW50IDogRXF1YXRhYmxlCiAgICBmdW5jIGZpcnN0SW5kZXgod2hlcmUgcHJlZGljYXRlOiAoRWxlbWVudCkgdGhyb3dzIC0+IEJvb2wpIHJldGhyb3dzIC0+IEluZGV4PwogICAgZnVuYyBmb3JtSW5kZXgoXyBpOiBpbm91dCBJbmRleCwgb2Zmc2V0QnkgZGlzdGFuY2U6IEludCkKICAgIGZ1bmMgZm9ybUluZGV4KF8gaTogaW5vdXQgSW5kZXgsIG9mZnNldEJ5IGRpc3RhbmNlOiBJbnQsIGxpbWl0ZWRCeSBsaW1pdDogSW5kZXgpIC0+IEJvb2wKICAgIGZ1bmMgZm9ybUluZGV4KGFmdGVyIGk6IGlub3V0IEluZGV4KQogICAgZnVuYyBpbmRleChfIGk6IEluZGV4LCBvZmZzZXRCeSBkaXN0YW5jZTogSW50KSAtPiBJbmRleAogICAgZnVuYyBpbmRleChfIGk6IEluZGV4LCBvZmZzZXRCeSBkaXN0YW5jZTogSW50LCBsaW1pdGVkQnkgbGltaXQ6IEluZGV4KSAtPiBJbmRleD8KICAgIGZ1bmMgaW5kZXgoYWZ0ZXIgaTogSW5kZXgpIC0+IEluZGV4CiAgICBmdW5jIG1ha2VJdGVyYXRvcigpIC0+IEl0ZXJhdG9yCiAgICBtdXRhdGluZyBmdW5jIHBvcEZpcnN0KCkgLT4gRWxlbWVudD8gd2hlcmUgU2VsZiA9PSBTdWJTZXF1ZW5jZQogICAgZnVuYyByYW5kb21FbGVtZW50KCkgLT4gRWxlbWVudD8KICAgIGZ1bmMgcmFuZG9tRWxlbWVudDxUPih1c2luZyBnZW5lcmF0b3I6IGlub3V0IFQpIC0+IEVsZW1lbnQ/IHdoZXJlIFQgOiBSYW5kb21OdW1iZXJHZW5lcmF0b3IKICAgIEBkaXNjYXJkYWJsZVJlc3VsdCBtdXRhdGluZyBmdW5jIHJlbW92ZUZpcnN0KCkgLT4gRWxlbWVudCB3aGVyZSBTZWxmID09IFN1YlNlcXVlbmNlCiAgICBtdXRhdGluZyBmdW5jIHJlbW92ZUZpcnN0KF8gazogSW50KSB3aGVyZSBTZWxmID09IFN1YlNlcXVlbmNlCn0KcHVibGljIHByb3RvY29sIENvbXBhcmFibGUgewogICAgcG9zdGZpeCBmdW5jIC4uLihtaW5pbXVtOiBTZWxmKSAtPiBQYXJ0aWFsUmFuZ2VGcm9tPFNlbGY+CiAgICBwcmVmaXggZnVuYyAuLi4obWF4aW11bTogU2VsZikgLT4gUGFydGlhbFJhbmdlVGhyb3VnaDxTZWxmPgogICAgZnVuYyAuLi4obWluaW11bTogU2VsZiwgbWF4aW11bTogU2VsZikgLT4gQ2xvc2VkUmFuZ2U8U2VsZj4KICAgIHByZWZpeCBmdW5jIC4uPChtYXhpbXVtOiBTZWxmKSAtPiBQYXJ0aWFsUmFuZ2VVcFRvPFNlbGY+CiAgICBmdW5jIC4uPChtaW5pbXVtOiBTZWxmLCBtYXhpbXVtOiBTZWxmKSAtPiBSYW5nZTxTZWxmPgogICAgZnVuYyA8KGxoczogU2VsZiwgcmhzOiBTZWxmKSAtPiBCb29sCiAgICBmdW5jIDw9KGxoczogU2VsZiwgcmhzOiBTZWxmKSAtPiBCb29sCiAgICBmdW5jIDw9KGxoczogU2VsZiwgcmhzOiBTZWxmKSAtPiBCb29sCiAgICBmdW5jID4obGhzOiBTZWxmLCByaHM6IFNlbGYpIC0+IEJvb2wKICAgIGZ1bmMgPihsaHM6IFNlbGYsIHJoczogU2VsZikgLT4gQm9vbAogICAgZnVuYyA+PShsaHM6IFNlbGYsIHJoczogU2VsZikgLT4gQm9vbAogICAgZnVuYyA+PShsaHM6IFNlbGYsIHJoczogU2VsZikgLT4gQm9vbAp9CnB1YmxpYyBwcm90b2NvbCBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlIHsKICAgIHZhciBkZWJ1Z0Rlc2NyaXB0aW9uOiBTdHJpbmcgeyBnZXQgfQp9CnB1YmxpYyBwcm90b2NvbCBDdXN0b21MZWFmUmVmbGVjdGFibGUgewp9CnB1YmxpYyBwcm90b2NvbCBDdXN0b21QbGF5Z3JvdW5kRGlzcGxheUNvbnZlcnRpYmxlIHsKICAgIHZhciBwbGF5Z3JvdW5kRGVzY3JpcHRpb246IEFueSB7IGdldCB9Cn0KcHVibGljIHByb3RvY29sIEN1c3RvbVJlZmxlY3RhYmxlIHsKICAgIHZhciBjdXN0b21NaXJyb3I6IE1pcnJvciB7IGdldCB9Cn0KcHVibGljIHByb3RvY29sIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlIHsKICAgIHZhciBkZXNjcmlwdGlvbjogU3RyaW5nIHsgZ2V0IH0KfQpwdWJsaWMgcHJvdG9jb2wgRXF1YXRhYmxlIHsKICAgIGZ1bmMgIT0obGhzOiBTZWxmLCByaHM6IFNlbGYpIC0+IEJvb2wKICAgIGZ1bmMgPT0obGhzOiBTZWxmLCByaHM6IFNlbGYpIC0+IEJvb2wKfQpwdWJsaWMgcHJvdG9jb2wgRXJyb3Igewp9CnB1YmxpYyBwcm90b2NvbCBFeHByZXNzaWJsZUJ5QXJyYXlMaXRlcmFsIHsKICAgIGluaXQoYXJyYXlMaXRlcmFsIGVsZW1lbnRzOiBBcnJheUxpdGVyYWxFbGVtZW50Li4uKQp9CnB1YmxpYyBwcm90b2NvbCBFeHByZXNzaWJsZUJ5Qm9vbGVhbkxpdGVyYWwgewogICAgaW5pdChib29sZWFuTGl0ZXJhbCB2YWx1ZTogQm9vbGVhbkxpdGVyYWxUeXBlKQp9CnB1YmxpYyBwcm90b2NvbCBFeHByZXNzaWJsZUJ5RGljdGlvbmFyeUxpdGVyYWwgewogICAgaW5pdChkaWN0aW9uYXJ5TGl0ZXJhbCBlbGVtZW50czogKEtleSwgVmFsdWUpLi4uKQp9CnB1YmxpYyBwcm90b2NvbCBFeHByZXNzaWJsZUJ5RXh0ZW5kZWRHcmFwaGVtZUNsdXN0ZXJMaXRlcmFsIHsKICAgIGluaXQoZXh0ZW5kZWRHcmFwaGVtZUNsdXN0ZXJMaXRlcmFsIHZhbHVlOiBFeHRlbmRlZEdyYXBoZW1lQ2x1c3RlckxpdGVyYWxUeXBlKQp9CnB1YmxpYyBwcm90b2NvbCBFeHByZXNzaWJsZUJ5RmxvYXRMaXRlcmFsIHsKICAgIGluaXQoZmxvYXRMaXRlcmFsIHZhbHVlOiBGbG9hdExpdGVyYWxUeXBlKQp9CnB1YmxpYyBwcm90b2NvbCBFeHByZXNzaWJsZUJ5SW50ZWdlckxpdGVyYWwgewogICAgaW5pdChpbnRlZ2VyTGl0ZXJhbCB2YWx1ZTogSW50ZWdlckxpdGVyYWxUeXBlKQp9CnB1YmxpYyBwcm90b2NvbCBFeHByZXNzaWJsZUJ5TmlsTGl0ZXJhbCB7CiAgICBpbml0KG5pbExpdGVyYWw6IFZvaWQpCn0KcHVibGljIHByb3RvY29sIEV4cHJlc3NpYmxlQnlTdHJpbmdJbnRlcnBvbGF0aW9uIHsKICAgIGluaXQoc3RyaW5nSW50ZXJwb2xhdGlvbjogRGVmYXVsdFN0cmluZ0ludGVycG9sYXRpb24pIHdoZXJlIERlZmF1bHRTdHJpbmdJbnRlcnBvbGF0aW9uID09IFN0cmluZ0ludGVycG9sYXRpb24KICAgIGluaXQoc3RyaW5nSW50ZXJwb2xhdGlvbjogU3RyaW5nSW50ZXJwb2xhdGlvbikKfQpwdWJsaWMgcHJvdG9jb2wgRXhwcmVzc2libGVCeVN0cmluZ0xpdGVyYWwgewogICAgaW5pdChzdHJpbmdMaXRlcmFsIHZhbHVlOiBTdHJpbmdMaXRlcmFsVHlwZSkKfQpwdWJsaWMgcHJvdG9jb2wgRXhwcmVzc2libGVCeVVuaWNvZGVTY2FsYXJMaXRlcmFsIHsKICAgIGluaXQodW5pY29kZVNjYWxhckxpdGVyYWwgdmFsdWU6IFVuaWNvZGVTY2FsYXJMaXRlcmFsVHlwZSkKfQpwdWJsaWMgcHJvdG9jb2wgRml4ZWRXaWR0aEludGVnZXIgewogICAgc3RhdGljIHZhciBiaXRXaWR0aDogSW50IHsgZ2V0IH0KICAgIHN0YXRpYyB2YXIgbWF4OiBTZWxmIHsgZ2V0IH0KICAgIHN0YXRpYyB2YXIgbWluOiBTZWxmIHsgZ2V0IH0KICAgIHN0YXRpYyBmdW5jIHJhbmRvbShpbiByYW5nZTogQ2xvc2VkUmFuZ2U8U2VsZj4pIC0+IFNlbGYKICAgIHN0YXRpYyBmdW5jIHJhbmRvbShpbiByYW5nZTogUmFuZ2U8U2VsZj4pIC0+IFNlbGYKICAgIHN0YXRpYyBmdW5jIHJhbmRvbTxUPihpbiByYW5nZTogQ2xvc2VkUmFuZ2U8U2VsZj4sIHVzaW5nIGdlbmVyYXRvcjogaW5vdXQgVCkgLT4gU2VsZiB3aGVyZSBUIDogUmFuZG9tTnVtYmVyR2VuZXJhdG9yCiAgICBzdGF0aWMgZnVuYyByYW5kb208VD4oaW4gcmFuZ2U6IFJhbmdlPFNlbGY+LCB1c2luZyBnZW5lcmF0b3I6IGlub3V0IFQpIC0+IFNlbGYgd2hlcmUgVCA6IFJhbmRvbU51bWJlckdlbmVyYXRvcgogICAgaW5pdD88Uz4oXyB0ZXh0OiBTLCByYWRpeDogSW50ID0geCkgd2hlcmUgUyA6IFN0cmluZ1Byb3RvY29sCiAgICBpbml0KGJpZ0VuZGlhbiB2YWx1ZTogU2VsZikKICAgIGluaXQobGl0dGxlRW5kaWFuIHZhbHVlOiBTZWxmKQogICAgdmFyIGJpZ0VuZGlhbjogU2VsZiB7IGdldCB9CiAgICB2YXIgYnl0ZVN3YXBwZWQ6IFNlbGYgeyBnZXQgfQogICAgdmFyIGxlYWRpbmdaZXJvQml0Q291bnQ6IEludCB7IGdldCB9CiAgICB2YXIgbGl0dGxlRW5kaWFuOiBTZWxmIHsgZ2V0IH0KICAgIHZhciBub256ZXJvQml0Q291bnQ6IEludCB7IGdldCB9CiAgICBmdW5jICYqKGxoczogU2VsZiwgcmhzOiBTZWxmKSAtPiBTZWxmCiAgICBmdW5jICYqPShsaHM6IGlub3V0IFNlbGYsIHJoczogU2VsZikKICAgIGZ1bmMgJisobGhzOiBTZWxmLCByaHM6IFNlbGYpIC0+IFNlbGYKICAgIGZ1bmMgJis9KGxoczogaW5vdXQgU2VsZiwgcmhzOiBTZWxmKQogICAgZnVuYyAmLShsaHM6IFNlbGYsIHJoczogU2VsZikgLT4gU2VsZgogICAgZnVuYyAmLT0obGhzOiBpbm91dCBTZWxmLCByaHM6IFNlbGYpCiAgICBmdW5jICY8PChsaHM6IFNlbGYsIHJoczogU2VsZikgLT4gU2VsZgogICAgZnVuYyAmPDw9KGxoczogaW5vdXQgU2VsZiwgcmhzOiBTZWxmKQogICAgZnVuYyAmPj4obGhzOiBTZWxmLCByaHM6IFNlbGYpIC0+IFNlbGYKICAgIGZ1bmMgJj4+PShsaHM6IGlub3V0IFNlbGYsIHJoczogU2VsZikKICAgIGZ1bmMgYWRkaW5nUmVwb3J0aW5nT3ZlcmZsb3coXyByaHM6IFNlbGYpIC0+IChwYXJ0aWFsVmFsdWUgOiBTZWxmLCBvdmVyZmxvdyA6IEJvb2wpCiAgICBmdW5jIGRpdmlkZWRSZXBvcnRpbmdPdmVyZmxvdyhieSByaHM6IFNlbGYpIC0+IChwYXJ0aWFsVmFsdWUgOiBTZWxmLCBvdmVyZmxvdyA6IEJvb2wpCiAgICBmdW5jIGRpdmlkaW5nRnVsbFdpZHRoKF8gZGl2aWRlbmQ6IChoaWdoIDogU2VsZiwgbG93IDogTWFnbml0dWRlKSkgLT4gKHF1b3RpZW50IDogU2VsZiwgcmVtYWluZGVyIDogU2VsZikKICAgIGZ1bmMgbXVsdGlwbGllZEZ1bGxXaWR0aChieSBvdGhlcjogU2VsZikgLT4gKGhpZ2ggOiBTZWxmLCBsb3cgOiBNYWduaXR1ZGUpCiAgICBmdW5jIG11bHRpcGxpZWRSZXBvcnRpbmdPdmVyZmxvdyhieSByaHM6IFNlbGYpIC0+IChwYXJ0aWFsVmFsdWUgOiBTZWxmLCBvdmVyZmxvdyA6IEJvb2wpCiAgICBmdW5jIHJlbWFpbmRlclJlcG9ydGluZ092ZXJmbG93KGRpdmlkaW5nQnkgcmhzOiBTZWxmKSAtPiAocGFydGlhbFZhbHVlIDogU2VsZiwgb3ZlcmZsb3cgOiBCb29sKQogICAgZnVuYyBzdWJ0cmFjdGluZ1JlcG9ydGluZ092ZXJmbG93KF8gcmhzOiBTZWxmKSAtPiAocGFydGlhbFZhbHVlIDogU2VsZiwgb3ZlcmZsb3cgOiBCb29sKQp9CnB1YmxpYyBwcm90b2NvbCBGbG9hdGluZ1BvaW50IHsKICAgIHN0YXRpYyB2YXIgZ3JlYXRlc3RGaW5pdGVNYWduaXR1ZGU6IFNlbGYgeyBnZXQgfQogICAgc3RhdGljIHZhciBpbmZpbml0eTogU2VsZiB7IGdldCB9CiAgICBzdGF0aWMgdmFyIGxlYXN0Tm9uemVyb01hZ25pdHVkZTogU2VsZiB7IGdldCB9CiAgICBzdGF0aWMgdmFyIGxlYXN0Tm9ybWFsTWFnbml0dWRlOiBTZWxmIHsgZ2V0IH0KICAgIHN0YXRpYyB2YXIgbmFuOiBTZWxmIHsgZ2V0IH0KICAgIHN0YXRpYyB2YXIgcGk6IFNlbGYgeyBnZXQgfQogICAgc3RhdGljIHZhciByYWRpeDogSW50IHsgZ2V0IH0KICAgIHN0YXRpYyB2YXIgc2lnbmFsaW5nTmFOOiBTZWxmIHsgZ2V0IH0KICAgIHN0YXRpYyB2YXIgdWxwT2ZPbmU6IFNlbGYgeyBnZXQgfQogICAgc3RhdGljIGZ1bmMgbWF4aW11bShfIHg6IFNlbGYsIF8geTogU2VsZikgLT4gU2VsZgogICAgc3RhdGljIGZ1bmMgbWF4aW11bU1hZ25pdHVkZShfIHg6IFNlbGYsIF8geTogU2VsZikgLT4gU2VsZgogICAgc3RhdGljIGZ1bmMgbWluaW11bShfIHg6IFNlbGYsIF8geTogU2VsZikgLT4gU2VsZgogICAgc3RhdGljIGZ1bmMgbWluaW11bU1hZ25pdHVkZShfIHg6IFNlbGYsIF8geTogU2VsZikgLT4gU2VsZgogICAgaW5pdChfIHZhbHVlOiBJbnQpCiAgICBpbml0KHNpZ246IEZsb2F0aW5nUG9pbnRTaWduLCBleHBvbmVudDogRXhwb25lbnQsIHNpZ25pZmljYW5kOiBTZWxmKQogICAgaW5pdChzaWduT2Y6IFNlbGYsIG1hZ25pdHVkZU9mOiBTZWxmKQogICAgdmFyIGV4cG9uZW50OiBFeHBvbmVudCB7IGdldCB9CiAgICB2YXIgZmxvYXRpbmdQb2ludENsYXNzOiBGbG9hdGluZ1BvaW50Q2xhc3NpZmljYXRpb24geyBnZXQgfQogICAgdmFyIGlzQ2Fub25pY2FsOiBCb29sIHsgZ2V0IH0KICAgIHZhciBpc0Zpbml0ZTogQm9vbCB7IGdldCB9CiAgICB2YXIgaXNJbmZpbml0ZTogQm9vbCB7IGdldCB9CiAgICB2YXIgaXNOYU46IEJvb2wgeyBnZXQgfQogICAgdmFyIGlzTm9ybWFsOiBCb29sIHsgZ2V0IH0KICAgIHZhciBpc1NpZ25hbGluZ05hTjogQm9vbCB7IGdldCB9CiAgICB2YXIgaXNTdWJub3JtYWw6IEJvb2wgeyBnZXQgfQogICAgdmFyIGlzWmVybzogQm9vbCB7IGdldCB9CiAgICB2YXIgbmV4dERvd246IFNlbGYgeyBnZXQgfQogICAgdmFyIG5leHRVcDogU2VsZiB7IGdldCB9CiAgICB2YXIgc2lnbjogRmxvYXRpbmdQb2ludFNpZ24geyBnZXQgfQogICAgdmFyIHNpZ25pZmljYW5kOiBTZWxmIHsgZ2V0IH0KICAgIHZhciB1bHA6IFNlbGYgeyBnZXQgfQogICAgZnVuYyAvKGxoczogU2VsZiwgcmhzOiBTZWxmKSAtPiBTZWxmCiAgICBmdW5jIC89KGxoczogaW5vdXQgU2VsZiwgcmhzOiBTZWxmKQogICAgZnVuYyA8PShsaHM6IFNlbGYsIHJoczogU2VsZikgLT4gQm9vbAogICAgZnVuYyA+KGxoczogU2VsZiwgcmhzOiBTZWxmKSAtPiBCb29sCiAgICBmdW5jID49KGxoczogU2VsZiwgcmhzOiBTZWxmKSAtPiBCb29sCiAgICBtdXRhdGluZyBmdW5jIGFkZFByb2R1Y3QoXyBsaHM6IFNlbGYsIF8gcmhzOiBTZWxmKQogICAgZnVuYyBhZGRpbmdQcm9kdWN0KF8gbGhzOiBTZWxmLCBfIHJoczogU2VsZikgLT4gU2VsZgogICAgbXV0YXRpbmcgZnVuYyBmb3JtUmVtYWluZGVyKGRpdmlkaW5nQnkgb3RoZXI6IFNlbGYpCiAgICBtdXRhdGluZyBmdW5jIGZvcm1TcXVhcmVSb290KCkKICAgIG11dGF0aW5nIGZ1bmMgZm9ybVRydW5jYXRpbmdSZW1haW5kZXIoZGl2aWRpbmdCeSBvdGhlcjogU2VsZikKICAgIGZ1bmMgaXNFcXVhbCh0byBvdGhlcjogU2VsZikgLT4gQm9vbAogICAgZnVuYyBpc0xlc3ModGhhbiBvdGhlcjogU2VsZikgLT4gQm9vbAogICAgZnVuYyBpc0xlc3NUaGFuT3JFcXVhbFRvKF8gb3RoZXI6IFNlbGYpIC0+IEJvb2wKICAgIGZ1bmMgaXNUb3RhbGx5T3JkZXJlZChiZWxvd09yRXF1YWxUbyBvdGhlcjogU2VsZikgLT4gQm9vbAogICAgZnVuYyByZW1haW5kZXIoZGl2aWRpbmdCeSBvdGhlcjogU2VsZikgLT4gU2VsZgogICAgbXV0YXRpbmcgZnVuYyByb3VuZCgpCiAgICBtdXRhdGluZyBmdW5jIHJvdW5kKF8gcnVsZTogRmxvYXRpbmdQb2ludFJvdW5kaW5nUnVsZSkKICAgIGZ1bmMgcm91bmRlZCgpIC0+IFNlbGYKICAgIGZ1bmMgcm91bmRlZChfIHJ1bGU6IEZsb2F0aW5nUG9pbnRSb3VuZGluZ1J1bGUpIC0+IFNlbGYKICAgIGZ1bmMgc3F1YXJlUm9vdCgpIC0+IFNlbGYKICAgIGZ1bmMgdHJ1bmNhdGluZ1JlbWFpbmRlcihkaXZpZGluZ0J5IG90aGVyOiBTZWxmKSAtPiBTZWxmCn0KcHVibGljIHByb3RvY29sIEhhc2hhYmxlIHsKICAgIHZhciBoYXNoVmFsdWU6IEludCB7IGdldCB9CiAgICBmdW5jIGhhc2goaW50byBoYXNoZXI6IGlub3V0IEhhc2hlcikKfQpwdWJsaWMgcHJvdG9jb2wgSXRlcmF0b3JQcm90b2NvbCB7CiAgICBtdXRhdGluZyBmdW5jIG5leHQoKSAtPiBFbGVtZW50Pwp9CnB1YmxpYyBwcm90b2NvbCBMYXp5Q29sbGVjdGlvblByb3RvY29sIHsKfQpwdWJsaWMgcHJvdG9jb2wgTGF6eVNlcXVlbmNlUHJvdG9jb2wgewogICAgdmFyIGVsZW1lbnRzOiBFbGVtZW50cyB7IGdldCB9CiAgICB2YXIgZWxlbWVudHM6IFNlbGYgeyBnZXQgfSB3aGVyZSBFbGVtZW50cyA9PSBTZWxmCn0KcHVibGljIHByb3RvY29sIExvc3NsZXNzU3RyaW5nQ29udmVydGlibGUgewogICAgaW5pdD8oXyBkZXNjcmlwdGlvbjogU3RyaW5nKQp9CnB1YmxpYyBwcm90b2NvbCBNaXJyb3JQYXRoIHsKfQpwdWJsaWMgcHJvdG9jb2wgTXV0YWJsZUNvbGxlY3Rpb24gewogICAgbXV0YXRpbmcgZnVuYyBwYXJ0aXRpb24oYnkgYmVsb25nc0luU2Vjb25kUGFydGl0aW9uOiAoRWxlbWVudCkgdGhyb3dzIC0+IEJvb2wpIHJldGhyb3dzIC0+IEluZGV4CiAgICBtdXRhdGluZyBmdW5jIHJldmVyc2UoKSB3aGVyZSBTZWxmIDogQmlkaXJlY3Rpb25hbENvbGxlY3Rpb24KICAgIG11dGF0aW5nIGZ1bmMgc2h1ZmZsZSgpIHdoZXJlIFNlbGYgOiBSYW5kb21BY2Nlc3NDb2xsZWN0aW9uCiAgICBtdXRhdGluZyBmdW5jIHNodWZmbGU8VD4odXNpbmcgZ2VuZXJhdG9yOiBpbm91dCBUKSB3aGVyZSBTZWxmIDogUmFuZG9tQWNjZXNzQ29sbGVjdGlvbiwgVCA6IFJhbmRvbU51bWJlckdlbmVyYXRvcgogICAgbXV0YXRpbmcgZnVuYyBzb3J0KCkgd2hlcmUgRWxlbWVudCA6IENvbXBhcmFibGUsIFNlbGYgOiBSYW5kb21BY2Nlc3NDb2xsZWN0aW9uCiAgICBtdXRhdGluZyBmdW5jIHNvcnQoYnkgYXJlSW5JbmNyZWFzaW5nT3JkZXI6IChFbGVtZW50LCBFbGVtZW50KSB0aHJvd3MgLT4gQm9vbCkgcmV0aHJvd3Mgd2hlcmUgU2VsZiA6IFJhbmRvbUFjY2Vzc0NvbGxlY3Rpb24KICAgIG11dGF0aW5nIGZ1bmMgc3dhcEF0KF8gaTogSW5kZXgsIF8gajogSW5kZXgpCiAgICBtdXRhdGluZyBmdW5jIHN3YXBBdChfIGk6IEluZGV4LCBfIGo6IEluZGV4KQogICAgbXV0YXRpbmcgZnVuYyB3aXRoQ29udGlndW91c011dGFibGVTdG9yYWdlSWZBdmFpbGFibGU8Uj4oXyBib2R5OiAoaW5vdXQgVW5zYWZlTXV0YWJsZUJ1ZmZlclBvaW50ZXI8RWxlbWVudD4pIHRocm93cyAtPiBSKSByZXRocm93cyAtPiBSPwp9CnB1YmxpYyBwcm90b2NvbCBOdW1lcmljIHsKICAgIGluaXQ/PFQ+KGV4YWN0bHkgc291cmNlOiBUKSB3aGVyZSBUIDogQmluYXJ5SW50ZWdlcgogICAgdmFyIG1hZ25pdHVkZTogTWFnbml0dWRlIHsgZ2V0IH0KICAgIGZ1bmMgKihsaHM6IFNlbGYsIHJoczogU2VsZikgLT4gU2VsZgogICAgZnVuYyAqPShsaHM6IGlub3V0IFNlbGYsIHJoczogU2VsZikKfQpwdWJsaWMgcHJvdG9jb2wgT3B0aW9uU2V0IHsKICAgIGZ1bmMgaW50ZXJzZWN0aW9uKF8gb3RoZXI6IFNlbGYpIC0+IFNlbGYKICAgIGZ1bmMgc3ltbWV0cmljRGlmZmVyZW5jZShfIG90aGVyOiBTZWxmKSAtPiBTZWxmCiAgICBmdW5jIHVuaW9uKF8gb3RoZXI6IFNlbGYpIC0+IFNlbGYKfQpwdWJsaWMgcHJvdG9jb2wgUmFuZG9tQWNjZXNzQ29sbGVjdGlvbiB7Cn0KcHVibGljIHByb3RvY29sIFJhbmRvbU51bWJlckdlbmVyYXRvciB7CiAgICBtdXRhdGluZyBmdW5jIG5leHQoKSAtPiBVSW50NjQKICAgIG11dGF0aW5nIGZ1bmMgbmV4dDxUPigpIC0+IFQgd2hlcmUgVCA6IEZpeGVkV2lkdGhJbnRlZ2VyICYgVW5zaWduZWRJbnRlZ2VyCiAgICBtdXRhdGluZyBmdW5jIG5leHQ8VD4odXBwZXJCb3VuZDogVCkgLT4gVCB3aGVyZSBUIDogRml4ZWRXaWR0aEludGVnZXIgJiBVbnNpZ25lZEludGVnZXIKfQpwdWJsaWMgcHJvdG9jb2wgUmFuZ2VFeHByZXNzaW9uIHsKICAgIGZ1bmMgY29udGFpbnMoXyBlbGVtZW50OiBCb3VuZCkgLT4gQm9vbAogICAgZnVuYyByZWxhdGl2ZTxDPih0byBjb2xsZWN0aW9uOiBDKSAtPiBSYW5nZTxCb3VuZD4gd2hlcmUgQyA6IENvbGxlY3Rpb24sIEJvdW5kID09IEMuSW5kZXgKICAgIGZ1bmMgfj0ocGF0dGVybjogU2VsZiwgdmFsdWU6IEJvdW5kKSAtPiBCb29sCn0KcHVibGljIHByb3RvY29sIFJhbmdlUmVwbGFjZWFibGVDb2xsZWN0aW9uIHsKICAgIGluaXQoKQogICAgaW5pdDxTPihfIGVsZW1lbnRzOiBTKSB3aGVyZSBTIDogU2VxdWVuY2UsIEVsZW1lbnQgPT0gUy5FbGVtZW50CiAgICBpbml0PFM+KF8gZWxlbWVudHM6IFMpIHdoZXJlIFMgOiBTZXF1ZW5jZSwgRWxlbWVudCA9PSBTLkVsZW1lbnQKICAgIGluaXQocmVwZWF0aW5nIHJlcGVhdGVkVmFsdWU6IEVsZW1lbnQsIGNvdW50OiBJbnQpCiAgICBpbml0KHJlcGVhdGluZyByZXBlYXRlZFZhbHVlOiBFbGVtZW50LCBjb3VudDogSW50KQogICAgZnVuYyArPE90aGVyPihsaHM6IE90aGVyLCByaHM6IFNlbGYpIC0+IFNlbGYgd2hlcmUgT3RoZXIgOiBTZXF1ZW5jZSwgRWxlbWVudCA9PSBPdGhlci5FbGVtZW50CiAgICBmdW5jICs8T3RoZXI+KGxoczogU2VsZiwgcmhzOiBPdGhlcikgLT4gU2VsZiB3aGVyZSBPdGhlciA6IFJhbmdlUmVwbGFjZWFibGVDb2xsZWN0aW9uLCBFbGVtZW50ID09IE90aGVyLkVsZW1lbnQKICAgIGZ1bmMgKzxPdGhlcj4obGhzOiBTZWxmLCByaHM6IE90aGVyKSAtPiBTZWxmIHdoZXJlIE90aGVyIDogU2VxdWVuY2UsIEVsZW1lbnQgPT0gT3RoZXIuRWxlbWVudAogICAgZnVuYyArPTxPdGhlcj4obGhzOiBpbm91dCBTZWxmLCByaHM6IE90aGVyKSB3aGVyZSBPdGhlciA6IFNlcXVlbmNlLCBFbGVtZW50ID09IE90aGVyLkVsZW1lbnQKICAgIG11dGF0aW5nIGZ1bmMgYXBwZW5kKF8gbmV3RWxlbWVudDogX19vd25lZCBFbGVtZW50KQogICAgbXV0YXRpbmcgZnVuYyBhcHBlbmQ8Uz4oY29udGVudHNPZiBuZXdFbGVtZW50czogX19vd25lZCBTKSB3aGVyZSBTIDogU2VxdWVuY2UsIEVsZW1lbnQgPT0gUy5FbGVtZW50CiAgICBtdXRhdGluZyBmdW5jIGluc2VydChfIG5ld0VsZW1lbnQ6IF9fb3duZWQgRWxlbWVudCwgYXQgaTogSW5kZXgpCiAgICBtdXRhdGluZyBmdW5jIGluc2VydDxDPihjb250ZW50c09mIG5ld0VsZW1lbnRzOiBfX293bmVkIEMsIGF0IGk6IEluZGV4KSB3aGVyZSBDIDogQ29sbGVjdGlvbiwgQy5FbGVtZW50ID09IEVsZW1lbnQKICAgIG11dGF0aW5nIGZ1bmMgcG9wTGFzdCgpIC0+IEVsZW1lbnQ/IHdoZXJlIFNlbGYgOiBCaWRpcmVjdGlvbmFsQ29sbGVjdGlvbgogICAgQGRpc2NhcmRhYmxlUmVzdWx0IG11dGF0aW5nIGZ1bmMgcmVtb3ZlKGF0IGk6IEluZGV4KSAtPiBFbGVtZW50CiAgICBAZGlzY2FyZGFibGVSZXN1bHQgbXV0YXRpbmcgZnVuYyByZW1vdmUoYXQgcG9zaXRpb246IEluZGV4KSAtPiBFbGVtZW50CiAgICBtdXRhdGluZyBmdW5jIHJlbW92ZUFsbChrZWVwaW5nQ2FwYWNpdHkga2VlcENhcGFjaXR5OiBCb29sID0geCkKICAgIG11dGF0aW5nIGZ1bmMgcmVtb3ZlQWxsKHdoZXJlIHNob3VsZEJlUmVtb3ZlZDogKEVsZW1lbnQpIHRocm93cyAtPiBCb29sKSByZXRocm93cwogICAgbXV0YXRpbmcgZnVuYyByZW1vdmVBbGwod2hlcmUgc2hvdWxkQmVSZW1vdmVkOiAoRWxlbWVudCkgdGhyb3dzIC0+IEJvb2wpIHJldGhyb3dzCiAgICBAZGlzY2FyZGFibGVSZXN1bHQgbXV0YXRpbmcgZnVuYyByZW1vdmVMYXN0KCkgLT4gRWxlbWVudCB3aGVyZSBTZWxmIDogQmlkaXJlY3Rpb25hbENvbGxlY3Rpb24KICAgIG11dGF0aW5nIGZ1bmMgcmVtb3ZlTGFzdChfIGs6IEludCkgd2hlcmUgU2VsZiA6IEJpZGlyZWN0aW9uYWxDb2xsZWN0aW9uCiAgICBtdXRhdGluZyBmdW5jIHJlbW92ZVN1YnJhbmdlKF8gYm91bmRzOiBSYW5nZTxJbmRleD4pCiAgICBtdXRhdGluZyBmdW5jIHJlbW92ZVN1YnJhbmdlKF8gYm91bmRzOiBSYW5nZTxJbmRleD4pCiAgICBtdXRhdGluZyBmdW5jIHJlcGxhY2VTdWJyYW5nZTxDLCBSPihfIHN1YnJhbmdlOiBSLCB3aXRoIG5ld0VsZW1lbnRzOiBfX293bmVkIEMpIHdoZXJlIEMgOiBDb2xsZWN0aW9uLCBSIDogUmFuZ2VFeHByZXNzaW9uLCBDLkVsZW1lbnQgPT0gRWxlbWVudCwgSW5kZXggPT0gUi5Cb3VuZAogICAgbXV0YXRpbmcgZnVuYyByZXBsYWNlU3VicmFuZ2U8Qz4oXyBzdWJyYW5nZTogUmFuZ2U8SW5kZXg+LCB3aXRoIG5ld0VsZW1lbnRzOiBfX293bmVkIEMpIHdoZXJlIEMgOiBDb2xsZWN0aW9uLCBDLkVsZW1lbnQgPT0gRWxlbWVudAogICAgbXV0YXRpbmcgZnVuYyByZXNlcnZlQ2FwYWNpdHkoXyBuOiBJbnQpCiAgICBtdXRhdGluZyBmdW5jIHJlc2VydmVDYXBhY2l0eShfIG46IEludCkKfQpwdWJsaWMgcHJvdG9jb2wgUmF3UmVwcmVzZW50YWJsZSB7CiAgICBpbml0PyhyYXdWYWx1ZTogUmF3VmFsdWUpCiAgICB2YXIgaGFzaFZhbHVlOiBJbnQgeyBnZXQgfSB3aGVyZSBSYXdWYWx1ZSA6IEhhc2hhYmxlLCBTZWxmIDogSGFzaGFibGUKICAgIHZhciByYXdWYWx1ZTogUmF3VmFsdWUgeyBnZXQgfQogICAgZnVuYyBoYXNoKGludG8gaGFzaGVyOiBpbm91dCBIYXNoZXIpIHdoZXJlIFJhd1ZhbHVlIDogSGFzaGFibGUsIFNlbGYgOiBIYXNoYWJsZQp9CnB1YmxpYyBwcm90b2NvbCBTSU1EIHsKfQpwdWJsaWMgcHJvdG9jb2wgU0lNRFNjYWxhciB7Cn0KcHVibGljIHByb3RvY29sIFNJTURTdG9yYWdlIHsKICAgIGluaXQoKQogICAgdmFyIHNjYWxhckNvdW50OiBJbnQgeyBnZXQgfQogICAgc3Vic2NyaXB0KGluZGV4OiBJbnQpIC0+IFNjYWxhciB7IGdldCBzZXQgfQp9CnB1YmxpYyBwcm90b2NvbCBTZXF1ZW5jZSB7CiAgICB2YXIgbGF6eTogTGF6eVNlcXVlbmNlPFNlbGY+IHsgZ2V0IH0KICAgIHZhciB1bmRlcmVzdGltYXRlZENvdW50OiBJbnQgeyBnZXQgfQogICAgZnVuYyBhbGxTYXRpc2Z5KF8gcHJlZGljYXRlOiAoRWxlbWVudCkgdGhyb3dzIC0+IEJvb2wpIHJldGhyb3dzIC0+IEJvb2wKICAgIGZ1bmMgY29tcGFjdE1hcDxFbGVtZW50T2ZSZXN1bHQ+KF8gdHJhbnNmb3JtOiAoRWxlbWVudCkgdGhyb3dzIC0+IEVsZW1lbnRPZlJlc3VsdD8pIHJldGhyb3dzIC0+IFtFbGVtZW50T2ZSZXN1bHRdCiAgICBmdW5jIGNvbnRhaW5zKF8gZWxlbWVudDogRWxlbWVudCkgLT4gQm9vbCB3aGVyZSBFbGVtZW50IDogRXF1YXRhYmxlCiAgICBmdW5jIGNvbnRhaW5zKHdoZXJlIHByZWRpY2F0ZTogKEVsZW1lbnQpIHRocm93cyAtPiBCb29sKSByZXRocm93cyAtPiBCb29sCiAgICBmdW5jIGNvdW50KHdoZXJlIHByZWRpY2F0ZTogKEVsZW1lbnQpIHRocm93cyAtPiBCb29sKSByZXRocm93cyAtPiBJbnQKICAgIGZ1bmMgZWxlbWVudHNFcXVhbDxPdGhlclNlcXVlbmNlPihfIG90aGVyOiBPdGhlclNlcXVlbmNlKSAtPiBCb29sIHdoZXJlIEVsZW1lbnQgOiBFcXVhdGFibGUsIE90aGVyU2VxdWVuY2UgOiBTZXF1ZW5jZSwgRWxlbWVudCA9PSBPdGhlclNlcXVlbmNlLkVsZW1lbnQKICAgIGZ1bmMgZWxlbWVudHNFcXVhbDxPdGhlclNlcXVlbmNlPihfIG90aGVyOiBPdGhlclNlcXVlbmNlLCBieSBhcmVFcXVpdmFsZW50OiAoRWxlbWVudCwgT3RoZXJTZXF1ZW5jZS5FbGVtZW50KSB0aHJvd3MgLT4gQm9vbCkgcmV0aHJvd3MgLT4gQm9vbCB3aGVyZSBPdGhlclNlcXVlbmNlIDogU2VxdWVuY2UKICAgIGZ1bmMgZW51bWVyYXRlZCgpIC0+IEVudW1lcmF0ZWRTZXF1ZW5jZTxTZWxmPgogICAgZnVuYyBmaXJzdCh3aGVyZSBwcmVkaWNhdGU6IChFbGVtZW50KSB0aHJvd3MgLT4gQm9vbCkgcmV0aHJvd3MgLT4gRWxlbWVudD8KICAgIGZ1bmMgZmxhdE1hcDxTZWdtZW50T2ZSZXN1bHQ+KF8gdHJhbnNmb3JtOiAoRWxlbWVudCkgdGhyb3dzIC0+IFNlZ21lbnRPZlJlc3VsdCkgcmV0aHJvd3MgLT4gW1NlZ21lbnRPZlJlc3VsdC5FbGVtZW50XSB3aGVyZSBTZWdtZW50T2ZSZXN1bHQgOiBTZXF1ZW5jZQogICAgZnVuYyBmb3JFYWNoKF8gYm9keTogKEVsZW1lbnQpIHRocm93cyAtPiBWb2lkKSByZXRocm93cwogICAgZnVuYyBqb2luZWQoc2VwYXJhdG9yOiBTdHJpbmcgPSB4KSAtPiBTdHJpbmcgd2hlcmUgRWxlbWVudCA6IFN0cmluZ1Byb3RvY29sCiAgICBmdW5jIGxleGljb2dyYXBoaWNhbGx5UHJlY2VkZXM8T3RoZXJTZXF1ZW5jZT4oXyBvdGhlcjogT3RoZXJTZXF1ZW5jZSkgLT4gQm9vbCB3aGVyZSBFbGVtZW50IDogQ29tcGFyYWJsZSwgT3RoZXJTZXF1ZW5jZSA6IFNlcXVlbmNlLCBFbGVtZW50ID09IE90aGVyU2VxdWVuY2UuRWxlbWVudAogICAgZnVuYyBsZXhpY29ncmFwaGljYWxseVByZWNlZGVzPE90aGVyU2VxdWVuY2U+KF8gb3RoZXI6IE90aGVyU2VxdWVuY2UsIGJ5IGFyZUluSW5jcmVhc2luZ09yZGVyOiAoRWxlbWVudCwgRWxlbWVudCkgdGhyb3dzIC0+IEJvb2wpIHJldGhyb3dzIC0+IEJvb2wgd2hlcmUgT3RoZXJTZXF1ZW5jZSA6IFNlcXVlbmNlLCBFbGVtZW50ID09IE90aGVyU2VxdWVuY2UuRWxlbWVudAogICAgZnVuYyBtYXA8VD4oXyB0cmFuc2Zvcm06IChFbGVtZW50KSB0aHJvd3MgLT4gVCkgcmV0aHJvd3MgLT4gW1RdCiAgICBmdW5jIG1heCgpIC0+IEVsZW1lbnQ/IHdoZXJlIEVsZW1lbnQgOiBDb21wYXJhYmxlCiAgICBmdW5jIG1heChieSBhcmVJbkluY3JlYXNpbmdPcmRlcjogKEVsZW1lbnQsIEVsZW1lbnQpIHRocm93cyAtPiBCb29sKSByZXRocm93cyAtPiBFbGVtZW50PwogICAgZnVuYyBtaW4oKSAtPiBFbGVtZW50PyB3aGVyZSBFbGVtZW50IDogQ29tcGFyYWJsZQogICAgZnVuYyBtaW4oYnkgYXJlSW5JbmNyZWFzaW5nT3JkZXI6IChFbGVtZW50LCBFbGVtZW50KSB0aHJvd3MgLT4gQm9vbCkgcmV0aHJvd3MgLT4gRWxlbWVudD8KICAgIGZ1bmMgcmVkdWNlPFJlc3VsdD4oXyBpbml0aWFsUmVzdWx0OiBSZXN1bHQsIF8gbmV4dFBhcnRpYWxSZXN1bHQ6IChfIHBhcnRpYWxSZXN1bHQ6IFJlc3VsdCwgRWxlbWVudCkgdGhyb3dzIC0+IFJlc3VsdCkgcmV0aHJvd3MgLT4gUmVzdWx0CiAgICBmdW5jIHJlZHVjZTxSZXN1bHQ+KGludG8gaW5pdGlhbFJlc3VsdDogX19vd25lZCBSZXN1bHQsIF8gdXBkYXRlQWNjdW11bGF0aW5nUmVzdWx0OiAoXyBwYXJ0aWFsUmVzdWx0OiBpbm91dCBSZXN1bHQsIEVsZW1lbnQpIHRocm93cyAtPiBWb2lkKSByZXRocm93cyAtPiBSZXN1bHQKICAgIGZ1bmMgc2h1ZmZsZWQoKSAtPiBbRWxlbWVudF0KICAgIGZ1bmMgc2h1ZmZsZWQ8VD4odXNpbmcgZ2VuZXJhdG9yOiBpbm91dCBUKSAtPiBbRWxlbWVudF0gd2hlcmUgVCA6IFJhbmRvbU51bWJlckdlbmVyYXRvcgogICAgZnVuYyBzb3J0ZWQoKSAtPiBbRWxlbWVudF0gd2hlcmUgRWxlbWVudCA6IENvbXBhcmFibGUKICAgIGZ1bmMgc29ydGVkKGJ5IGFyZUluSW5jcmVhc2luZ09yZGVyOiAoRWxlbWVudCwgRWxlbWVudCkgdGhyb3dzIC0+IEJvb2wpIHJldGhyb3dzIC0+IFtFbGVtZW50XQogICAgZnVuYyBzdGFydHM8UG9zc2libGVQcmVmaXg+KHdpdGggcG9zc2libGVQcmVmaXg6IFBvc3NpYmxlUHJlZml4KSAtPiBCb29sIHdoZXJlIEVsZW1lbnQgOiBFcXVhdGFibGUsIFBvc3NpYmxlUHJlZml4IDogU2VxdWVuY2UsIEVsZW1lbnQgPT0gUG9zc2libGVQcmVmaXguRWxlbWVudAogICAgZnVuYyBzdGFydHM8UG9zc2libGVQcmVmaXg+KHdpdGggcG9zc2libGVQcmVmaXg6IFBvc3NpYmxlUHJlZml4LCBieSBhcmVFcXVpdmFsZW50OiAoRWxlbWVudCwgUG9zc2libGVQcmVmaXguRWxlbWVudCkgdGhyb3dzIC0+IEJvb2wpIHJldGhyb3dzIC0+IEJvb2wgd2hlcmUgUG9zc2libGVQcmVmaXggOiBTZXF1ZW5jZQogICAgZnVuYyB3aXRoQ29udGlndW91c1N0b3JhZ2VJZkF2YWlsYWJsZTxSPihfIGJvZHk6IChVbnNhZmVCdWZmZXJQb2ludGVyPEVsZW1lbnQ+KSB0aHJvd3MgLT4gUikgcmV0aHJvd3MgLT4gUj8KfQpwdWJsaWMgcHJvdG9jb2wgU2V0QWxnZWJyYSB7CiAgICBpbml0KCkKICAgIGluaXQ8Uz4oXyBzZXF1ZW5jZTogX19vd25lZCBTKSB3aGVyZSBTIDogU2VxdWVuY2UsIEVsZW1lbnQgPT0gUy5FbGVtZW50CiAgICB2YXIgaXNFbXB0eTogQm9vbCB7IGdldCB9CiAgICBmdW5jIGNvbnRhaW5zKF8gbWVtYmVyOiBFbGVtZW50KSAtPiBCb29sCiAgICBtdXRhdGluZyBmdW5jIGZvcm1JbnRlcnNlY3Rpb24oXyBvdGhlcjogU2VsZikKICAgIG11dGF0aW5nIGZ1bmMgZm9ybVN5bW1ldHJpY0RpZmZlcmVuY2UoXyBvdGhlcjogX19vd25lZCBTZWxmKQogICAgbXV0YXRpbmcgZnVuYyBmb3JtVW5pb24oXyBvdGhlcjogX19vd25lZCBTZWxmKQogICAgQGRpc2NhcmRhYmxlUmVzdWx0IG11dGF0aW5nIGZ1bmMgaW5zZXJ0KF8gbmV3TWVtYmVyOiBfX293bmVkIEVsZW1lbnQpIC0+IChpbnNlcnRlZCA6IEJvb2wsIG1lbWJlckFmdGVySW5zZXJ0IDogRWxlbWVudCkKICAgIGZ1bmMgaXNEaXNqb2ludCh3aXRoIG90aGVyOiBTZWxmKSAtPiBCb29sCiAgICBmdW5jIGlzU3RyaWN0U3Vic2V0KG9mIG90aGVyOiBTZWxmKSAtPiBCb29sCiAgICBmdW5jIGlzU3RyaWN0U3VwZXJzZXQob2Ygb3RoZXI6IFNlbGYpIC0+IEJvb2wKICAgIGZ1bmMgaXNTdWJzZXQob2Ygb3RoZXI6IFNlbGYpIC0+IEJvb2wKICAgIGZ1bmMgaXNTdXBlcnNldChvZiBvdGhlcjogU2VsZikgLT4gQm9vbAogICAgZnVuYyBpc1N1cGVyc2V0KG9mIG90aGVyOiBTZWxmKSAtPiBCb29sCiAgICBAZGlzY2FyZGFibGVSZXN1bHQgbXV0YXRpbmcgZnVuYyByZW1vdmUoXyBtZW1iZXI6IEVsZW1lbnQpIC0+IEVsZW1lbnQ/CiAgICBtdXRhdGluZyBmdW5jIHN1YnRyYWN0KF8gb3RoZXI6IFNlbGYpCiAgICBmdW5jIHN1YnRyYWN0aW5nKF8gb3RoZXI6IFNlbGYpIC0+IFNlbGYKICAgIEBkaXNjYXJkYWJsZVJlc3VsdCBtdXRhdGluZyBmdW5jIHVwZGF0ZSh3aXRoIG5ld01lbWJlcjogX19vd25lZCBFbGVtZW50KSAtPiBFbGVtZW50Pwp9CnB1YmxpYyBwcm90b2NvbCBTaWduZWRJbnRlZ2VyIHsKICAgIHN0YXRpYyB2YXIgbWF4OiBTZWxmIHsgZ2V0IH0gd2hlcmUgU2VsZiA6IEZpeGVkV2lkdGhJbnRlZ2VyCiAgICBzdGF0aWMgdmFyIG1pbjogU2VsZiB7IGdldCB9IHdoZXJlIFNlbGYgOiBGaXhlZFdpZHRoSW50ZWdlcgogICAgZnVuYyAmKyhsaHM6IFNlbGYsIHJoczogU2VsZikgLT4gU2VsZiB3aGVyZSBTZWxmIDogRml4ZWRXaWR0aEludGVnZXIKICAgIGZ1bmMgJi0obGhzOiBTZWxmLCByaHM6IFNlbGYpIC0+IFNlbGYgd2hlcmUgU2VsZiA6IEZpeGVkV2lkdGhJbnRlZ2VyCn0KcHVibGljIHByb3RvY29sIFNpZ25lZE51bWVyaWMgewogICAgcHJlZml4IGZ1bmMgLShvcGVyYW5kOiBTZWxmKSAtPiBTZWxmCiAgICBwcmVmaXggZnVuYyAtKG9wZXJhbmQ6IFNlbGYpIC0+IFNlbGYKICAgIG11dGF0aW5nIGZ1bmMgbmVnYXRlKCkKfQpwdWJsaWMgcHJvdG9jb2wgU3RyaWRlYWJsZSB7CiAgICBmdW5jICsobGhzOiBTZWxmLCByaHM6IFN0cmlkZSkgLT4gU2VsZiB3aGVyZSBTZWxmIDogX1BvaW50ZXIKICAgIGZ1bmMgKz0obGhzOiBpbm91dCBTZWxmLCByaHM6IFN0cmlkZSkgd2hlcmUgU2VsZiA6IF9Qb2ludGVyCiAgICBmdW5jIC0obGhzOiBTZWxmLCByaHM6IFNlbGYpIC0+IFN0cmlkZSB3aGVyZSBTZWxmIDogX1BvaW50ZXIKICAgIGZ1bmMgLT0obGhzOiBpbm91dCBTZWxmLCByaHM6IFN0cmlkZSkgd2hlcmUgU2VsZiA6IF9Qb2ludGVyCiAgICBmdW5jIGFkdmFuY2VkKGJ5IG46IFN0cmlkZSkgLT4gU2VsZgogICAgZnVuYyBkaXN0YW5jZSh0byBvdGhlcjogU2VsZikgLT4gU3RyaWRlCn0KcHVibGljIHByb3RvY29sIFN0cmluZ0ludGVycG9sYXRpb25Qcm90b2NvbCB7CiAgICBpbml0KGxpdGVyYWxDYXBhY2l0eTogSW50LCBpbnRlcnBvbGF0aW9uQ291bnQ6IEludCkKICAgIG11dGF0aW5nIGZ1bmMgYXBwZW5kTGl0ZXJhbChfIGxpdGVyYWw6IFN0cmluZ0xpdGVyYWxUeXBlKQp9CnB1YmxpYyBwcm90b2NvbCBTdHJpbmdQcm90b2NvbCB7CiAgICBpbml0KGNTdHJpbmcgbnVsbFRlcm1pbmF0ZWRVVEY4OiBVbnNhZmVQb2ludGVyPENDaGFyPikKICAgIGluaXQ8QywgRW5jb2Rpbmc+KGRlY29kaW5nIGNvZGVVbml0czogQywgYXMgc291cmNlRW5jb2Rpbmc6IEVuY29kaW5nLlR5cGUpIHdoZXJlIEMgOiBDb2xsZWN0aW9uLCBFbmNvZGluZyA6IFVuaWNvZGUuRW5jb2RpbmcsIEMuSXRlcmF0b3IuRWxlbWVudCA9PSBFbmNvZGluZy5Db2RlVW5pdAogICAgaW5pdDxFbmNvZGluZz4oZGVjb2RpbmdDU3RyaW5nIG51bGxUZXJtaW5hdGVkQ29kZVVuaXRzOiBVbnNhZmVQb2ludGVyPEVuY29kaW5nLkNvZGVVbml0PiwgYXMgc291cmNlRW5jb2Rpbmc6IEVuY29kaW5nLlR5cGUpIHdoZXJlIEVuY29kaW5nIDogVW5pY29kZS5FbmNvZGluZwogICAgdmFyIHVuaWNvZGVTY2FsYXJzOiBVbmljb2RlU2NhbGFyVmlldyB7IGdldCB9CiAgICB2YXIgdXRmMTY6IFVURjE2VmlldyB7IGdldCB9CiAgICB2YXIgdXRmODogVVRGOFZpZXcgeyBnZXQgfQogICAgZnVuYyBoYXNQcmVmaXg8UHJlZml4PihfIHByZWZpeDogUHJlZml4KSAtPiBCb29sIHdoZXJlIFByZWZpeCA6IFN0cmluZ1Byb3RvY29sCiAgICBmdW5jIGhhc1N1ZmZpeDxTdWZmaXg+KF8gc3VmZml4OiBTdWZmaXgpIC0+IEJvb2wgd2hlcmUgU3VmZml4IDogU3RyaW5nUHJvdG9jb2wKICAgIGZ1bmMgbG93ZXJjYXNlZCgpIC0+IFN0cmluZwogICAgZnVuYyB1cHBlcmNhc2VkKCkgLT4gU3RyaW5nCiAgICBmdW5jIHdpdGhDU3RyaW5nPFJlc3VsdD4oXyBib2R5OiAoVW5zYWZlUG9pbnRlcjxDQ2hhcj4pIHRocm93cyAtPiBSZXN1bHQpIHJldGhyb3dzIC0+IFJlc3VsdAogICAgZnVuYyB3aXRoQ1N0cmluZzxSZXN1bHQsIEVuY29kaW5nPihlbmNvZGVkQXMgdGFyZ2V0RW5jb2Rpbmc6IEVuY29kaW5nLlR5cGUsIF8gYm9keTogKFVuc2FmZVBvaW50ZXI8RW5jb2RpbmcuQ29kZVVuaXQ+KSB0aHJvd3MgLT4gUmVzdWx0KSByZXRocm93cyAtPiBSZXN1bHQgd2hlcmUgRW5jb2RpbmcgOiBVbmljb2RlLkVuY29kaW5nCn0KcHVibGljIHByb3RvY29sIFRleHRPdXRwdXRTdHJlYW0gewogICAgbXV0YXRpbmcgZnVuYyB3cml0ZShfIHN0cmluZzogU3RyaW5nKQp9CnB1YmxpYyBwcm90b2NvbCBUZXh0T3V0cHV0U3RyZWFtYWJsZSB7CiAgICBmdW5jIHdyaXRlPFRhcmdldD4odG8gdGFyZ2V0OiBpbm91dCBUYXJnZXQpIHdoZXJlIFRhcmdldCA6IFRleHRPdXRwdXRTdHJlYW0KfQpwdWJsaWMgcHJvdG9jb2wgVW5pY29kZUNvZGVjIHsKICAgIHN0YXRpYyBmdW5jIGVuY29kZShfIGlucHV0OiBVbmljb2RlLlNjYWxhciwgaW50byBwcm9jZXNzQ29kZVVuaXQ6IChDb2RlVW5pdCkgLT4gVm9pZCkKICAgIGluaXQoKQogICAgbXV0YXRpbmcgZnVuYyBkZWNvZGU8ST4oXyBpbnB1dDogaW5vdXQgSSkgLT4gVW5pY29kZURlY29kaW5nUmVzdWx0IHdoZXJlIEkgOiBJdGVyYXRvclByb3RvY29sLCBDb2RlVW5pdCA9PSBJLkVsZW1lbnQKfQpwdWJsaWMgcHJvdG9jb2wgVW5zaWduZWRJbnRlZ2VyIHsKICAgIHN0YXRpYyB2YXIgbWF4OiBTZWxmIHsgZ2V0IH0gd2hlcmUgU2VsZiA6IEZpeGVkV2lkdGhJbnRlZ2VyCiAgICBzdGF0aWMgdmFyIG1pbjogU2VsZiB7IGdldCB9IHdoZXJlIFNlbGYgOiBGaXhlZFdpZHRoSW50ZWdlcgp9CmV4dGVuc2lvbiBBcnJheSB7CiAgICBwdWJsaWMgdmFyIGNhcGFjaXR5OiBJbnQgeyBnZXQgfQogICAgcHVibGljIHZhciBjb3VudDogSW50IHsgZ2V0IH0KICAgIHB1YmxpYyBmdW5jIHdpdGhDb250aWd1b3VzU3RvcmFnZUlmQXZhaWxhYmxlPFI+KF8gYm9keTogKFVuc2FmZUJ1ZmZlclBvaW50ZXI8RWxlbWVudD4pIHRocm93cyAtPiBSKSByZXRocm93cyAtPiBSPyB7fQogICAgcHVibGljIGZ1bmMgd2l0aFVuc2FmZUJ1ZmZlclBvaW50ZXI8Uj4oXyBib2R5OiAoVW5zYWZlQnVmZmVyUG9pbnRlcjxFbGVtZW50PikgdGhyb3dzIC0+IFIpIHJldGhyb3dzIC0+IFIge30KICAgIHB1YmxpYyBmdW5jIHdpdGhVbnNhZmVCeXRlczxSPihfIGJvZHk6IChVbnNhZmVSYXdCdWZmZXJQb2ludGVyKSB0aHJvd3MgLT4gUikgcmV0aHJvd3MgLT4gUiB7fQogICAgcHVibGljIG11dGF0aW5nIGZ1bmMgd2l0aFVuc2FmZU11dGFibGVCdWZmZXJQb2ludGVyPFI+KF8gYm9keTogKGlub3V0IFVuc2FmZU11dGFibGVCdWZmZXJQb2ludGVyPEVsZW1lbnQ+KSB0aHJvd3MgLT4gUikgcmV0aHJvd3MgLT4gUiB7fQogICAgcHVibGljIG11dGF0aW5nIGZ1bmMgd2l0aFVuc2FmZU11dGFibGVCeXRlczxSPihfIGJvZHk6IChVbnNhZmVNdXRhYmxlUmF3QnVmZmVyUG9pbnRlcikgdGhyb3dzIC0+IFIpIHJldGhyb3dzIC0+IFIge30KfQpleHRlbnNpb24gQXJyYXlTbGljZSB7CiAgICBwdWJsaWMgdmFyIGNhcGFjaXR5OiBJbnQgeyBnZXQgfQogICAgcHVibGljIHZhciBjb3VudDogSW50IHsgZ2V0IH0KICAgIHB1YmxpYyBmdW5jIHdpdGhDb250aWd1b3VzU3RvcmFnZUlmQXZhaWxhYmxlPFI+KF8gYm9keTogKFVuc2FmZUJ1ZmZlclBvaW50ZXI8RWxlbWVudD4pIHRocm93cyAtPiBSKSByZXRocm93cyAtPiBSPyB7fQogICAgcHVibGljIGZ1bmMgd2l0aFVuc2FmZUJ1ZmZlclBvaW50ZXI8Uj4oXyBib2R5OiAoVW5zYWZlQnVmZmVyUG9pbnRlcjxFbGVtZW50PikgdGhyb3dzIC0+IFIpIHJldGhyb3dzIC0+IFIge30KICAgIHB1YmxpYyBmdW5jIHdpdGhVbnNhZmVCeXRlczxSPihfIGJvZHk6IChVbnNhZmVSYXdCdWZmZXJQb2ludGVyKSB0aHJvd3MgLT4gUikgcmV0aHJvd3MgLT4gUiB7fQogICAgcHVibGljIG11dGF0aW5nIGZ1bmMgd2l0aFVuc2FmZU11dGFibGVCdWZmZXJQb2ludGVyPFI+KF8gYm9keTogKGlub3V0IFVuc2FmZU11dGFibGVCdWZmZXJQb2ludGVyPEVsZW1lbnQ+KSB0aHJvd3MgLT4gUikgcmV0aHJvd3MgLT4gUiB7fQogICAgcHVibGljIG11dGF0aW5nIGZ1bmMgd2l0aFVuc2FmZU11dGFibGVCeXRlczxSPihfIGJvZHk6IChVbnNhZmVNdXRhYmxlUmF3QnVmZmVyUG9pbnRlcikgdGhyb3dzIC0+IFIpIHJldGhyb3dzIC0+IFIge30KfQpleHRlbnNpb24gQXV0b3JlbGVhc2luZ1Vuc2FmZU11dGFibGVQb2ludGVyIHsKfQpleHRlbnNpb24gQ2xvc2VkUmFuZ2UgewogICAgcHVibGljIGluaXQoXyBvdGhlcjogUmFuZ2U8Qm91bmQ+KSB3aGVyZSBCb3VuZCA6IFN0cmlkZWFibGUsIEJvdW5kLlN0cmlkZSA6IFNpZ25lZEludGVnZXIge30KICAgIHB1YmxpYyBpbml0KGZyb20gZGVjb2RlcjogRGVjb2RlcikgdGhyb3dzIHdoZXJlIEJvdW5kIDogRGVjb2RhYmxlIHt9CiAgICBwdWJsaWMgZnVuYyBjbGFtcGVkKHRvIGxpbWl0czogQ2xvc2VkUmFuZ2UpIC0+IENsb3NlZFJhbmdlIHt9CiAgICBwdWJsaWMgZnVuYyBlbmNvZGUodG8gZW5jb2RlcjogRW5jb2RlcikgdGhyb3dzIHdoZXJlIEJvdW5kIDogRW5jb2RhYmxlIHt9CiAgICBwdWJsaWMgZnVuYyBvdmVybGFwcyhfIG90aGVyOiBDbG9zZWRSYW5nZTxCb3VuZD4pIC0+IEJvb2wge30KfQpleHRlbnNpb24gQ2xvc2VkUmFuZ2UuSW5kZXggewogICAgcHVibGljIGZ1bmMgPT0obGhzOiBDbG9zZWRSYW5nZTxCb3VuZD4uSW5kZXgsIHJoczogQ2xvc2VkUmFuZ2U8Qm91bmQ+LkluZGV4KSAtPiBCb29sIHt9Cn0KZXh0ZW5zaW9uIENvbGxlY3Rpb25PZk9uZSB7CiAgICBwdWJsaWMgdmFyIGNvdW50OiBJbnQgeyBnZXQgfQp9CmV4dGVuc2lvbiBDb2xsZWN0aW9uT2ZPbmUuSXRlcmF0b3Igewp9CmV4dGVuc2lvbiBDb250aWd1b3VzQXJyYXkgewogICAgcHVibGljIHZhciBjYXBhY2l0eTogSW50IHsgZ2V0IH0KICAgIHB1YmxpYyB2YXIgY291bnQ6IEludCB7IGdldCB9CiAgICBwdWJsaWMgZnVuYyB3aXRoQ29udGlndW91c1N0b3JhZ2VJZkF2YWlsYWJsZTxSPihfIGJvZHk6IChVbnNhZmVCdWZmZXJQb2ludGVyPEVsZW1lbnQ+KSB0aHJvd3MgLT4gUikgcmV0aHJvd3MgLT4gUj8ge30KICAgIHB1YmxpYyBmdW5jIHdpdGhVbnNhZmVCdWZmZXJQb2ludGVyPFI+KF8gYm9keTogKFVuc2FmZUJ1ZmZlclBvaW50ZXI8RWxlbWVudD4pIHRocm93cyAtPiBSKSByZXRocm93cyAtPiBSIHt9CiAgICBwdWJsaWMgZnVuYyB3aXRoVW5zYWZlQnl0ZXM8Uj4oXyBib2R5OiAoVW5zYWZlUmF3QnVmZmVyUG9pbnRlcikgdGhyb3dzIC0+IFIpIHJldGhyb3dzIC0+IFIge30KICAgIHB1YmxpYyBtdXRhdGluZyBmdW5jIHdpdGhVbnNhZmVNdXRhYmxlQnVmZmVyUG9pbnRlcjxSPihfIGJvZHk6IChpbm91dCBVbnNhZmVNdXRhYmxlQnVmZmVyUG9pbnRlcjxFbGVtZW50PikgdGhyb3dzIC0+IFIpIHJldGhyb3dzIC0+IFIge30KICAgIHB1YmxpYyBtdXRhdGluZyBmdW5jIHdpdGhVbnNhZmVNdXRhYmxlQnl0ZXM8Uj4oXyBib2R5OiAoVW5zYWZlTXV0YWJsZVJhd0J1ZmZlclBvaW50ZXIpIHRocm93cyAtPiBSKSByZXRocm93cyAtPiBSIHt9Cn0KZXh0ZW5zaW9uIERlZmF1bHRJbmRpY2VzIHsKICAgIHB1YmxpYyBzdWJzY3JpcHQoaTogSW5kZXgpIC0+IEVsZW1lbnRzLkluZGV4IHsgZ2V0IH0ge30KfQpleHRlbnNpb24gRGljdGlvbmFyeSB7CiAgICBwdWJsaWMgdmFyIGNhcGFjaXR5OiBJbnQgeyBnZXQgfQogICAgQGF2YWlsYWJsZShzd2lmdCwgaW50cm9kdWNlZDogNC4wKSBwdWJsaWMgdmFyIGtleXM6IEtleXMgeyBnZXQgfQogICAgcHVibGljIHN1YnNjcmlwdChwb3NpdGlvbjogSW5kZXgpIC0+IEVsZW1lbnQgeyBnZXQgfSB7fQogICAgcHVibGljIGZ1bmMgY29tcGFjdE1hcFZhbHVlczxUPihfIHRyYW5zZm9ybTogKFZhbHVlKSB0aHJvd3MgLT4gVD8pIHJldGhyb3dzIC0+IFtLZXk6IFRdIHt9CiAgICBwdWJsaWMgZnVuYyBpbmRleChmb3JLZXkga2V5OiBLZXkpIC0+IEluZGV4PyB7fQogICAgcHVibGljIGZ1bmMgbWFwVmFsdWVzPFQ+KF8gdHJhbnNmb3JtOiAoVmFsdWUpIHRocm93cyAtPiBUKSByZXRocm93cyAtPiBbS2V5OiBUXSB7fQogICAgcHVibGljIG11dGF0aW5nIGZ1bmMgbWVyZ2UoXyBvdGhlcjogX19vd25lZCBbS2V5OiBWYWx1ZV0sIHVuaXF1aW5nS2V5c1dpdGggY29tYmluZTogKFZhbHVlLCBWYWx1ZSkgdGhyb3dzIC0+IFZhbHVlKSByZXRocm93cyB7fQogICAgcHVibGljIG11dGF0aW5nIGZ1bmMgbWVyZ2U8Uz4oXyBvdGhlcjogX19vd25lZCBTLCB1bmlxdWluZ0tleXNXaXRoIGNvbWJpbmU6IChWYWx1ZSwgVmFsdWUpIHRocm93cyAtPiBWYWx1ZSkgcmV0aHJvd3Mgd2hlcmUgUyA6IFNlcXVlbmNlLCAoS2V5LCBWYWx1ZSkgPT0gUy5FbGVtZW50IHt9CiAgICBAZGlzY2FyZGFibGVSZXN1bHQgcHVibGljIG11dGF0aW5nIGZ1bmMgcmVtb3ZlKGF0IGluZGV4OiBJbmRleCkgLT4gRWxlbWVudCB7fQogICAgcHVibGljIG11dGF0aW5nIGZ1bmMgcmVtb3ZlQWxsKGtlZXBpbmdDYXBhY2l0eSBrZWVwQ2FwYWNpdHk6IEJvb2wgPSB4KSB7fQogICAgQGRpc2NhcmRhYmxlUmVzdWx0IHB1YmxpYyBtdXRhdGluZyBmdW5jIHJlbW92ZVZhbHVlKGZvcktleSBrZXk6IEtleSkgLT4gVmFsdWU/IHt9CiAgICBwdWJsaWMgbXV0YXRpbmcgZnVuYyByZXNlcnZlQ2FwYWNpdHkoXyBtaW5pbXVtQ2FwYWNpdHk6IEludCkge30KICAgIEBkaXNjYXJkYWJsZVJlc3VsdCBwdWJsaWMgbXV0YXRpbmcgZnVuYyB1cGRhdGVWYWx1ZShfIHZhbHVlOiBfX293bmVkIFZhbHVlLCBmb3JLZXkga2V5OiBLZXkpIC0+IFZhbHVlPyB7fQp9CmV4dGVuc2lvbiBEaWN0aW9uYXJ5LkluZGV4IHsKfQpleHRlbnNpb24gRGljdGlvbmFyeS5JdGVyYXRvciB7Cn0KZXh0ZW5zaW9uIERpY3Rpb25hcnkuS2V5cyB7Cn0KZXh0ZW5zaW9uIERpY3Rpb25hcnkuVmFsdWVzIHsKfQpleHRlbnNpb24gRGljdGlvbmFyeS5fVmFyaWFudCB7Cn0KZXh0ZW5zaW9uIERvdWJsZSB7Cn0KZXh0ZW5zaW9uIERyb3BGaXJzdFNlcXVlbmNlIHsKfQpleHRlbnNpb24gRHJvcFdoaWxlU2VxdWVuY2UgewogICAgcHVibGljIGZ1bmMgbWFrZUl0ZXJhdG9yKCkgLT4gSXRlcmF0b3Ige30KfQpleHRlbnNpb24gRHJvcFdoaWxlU2VxdWVuY2UuSXRlcmF0b3Igewp9CmV4dGVuc2lvbiBFbXB0eUNvbGxlY3Rpb24gewogICAgcHVibGljIHZhciBjb3VudDogSW50IHsgZ2V0IH0KICAgIHB1YmxpYyBmdW5jIG1ha2VJdGVyYXRvcigpIC0+IEl0ZXJhdG9yIHt9Cn0KZXh0ZW5zaW9uIEVtcHR5Q29sbGVjdGlvbi5JdGVyYXRvciB7Cn0KZXh0ZW5zaW9uIEVudW1lcmF0ZWRTZXF1ZW5jZSB7Cn0KZXh0ZW5zaW9uIEVudW1lcmF0ZWRTZXF1ZW5jZS5JdGVyYXRvciB7Cn0KZXh0ZW5zaW9uIEZsYXR0ZW5Db2xsZWN0aW9uIHsKfQpleHRlbnNpb24gRmxhdHRlblNlcXVlbmNlIHsKfQpleHRlbnNpb24gRmxhdHRlblNlcXVlbmNlLkluZGV4IHsKfQpleHRlbnNpb24gRmxhdHRlblNlcXVlbmNlLkl0ZXJhdG9yIHsKfQpleHRlbnNpb24gRmxvYXQgewp9CmV4dGVuc2lvbiBGbG9hdDgwIHsKfQpleHRlbnNpb24gSW5kZXhpbmdJdGVyYXRvciB7Cn0KZXh0ZW5zaW9uIEludCB7CiAgICBwdWJsaWMgaW5pdChiaXRQYXR0ZXJuIG9iamVjdElEOiBPYmplY3RJZGVudGlmaWVyKSB7fQogICAgcHVibGljIGluaXQoYml0UGF0dGVybiBwb2ludGVyOiBPcGFxdWVQb2ludGVyPykge30KfQpleHRlbnNpb24gSW50MTYgewp9CmV4dGVuc2lvbiBJbnQzMiB7Cn0KZXh0ZW5zaW9uIEludDY0IHsKfQpleHRlbnNpb24gSW50OCB7Cn0KZXh0ZW5zaW9uIEl0ZXJhdG9yU2VxdWVuY2Ugewp9CmV4dGVuc2lvbiBKb2luZWRTZXF1ZW5jZSB7Cn0KZXh0ZW5zaW9uIEpvaW5lZFNlcXVlbmNlLkl0ZXJhdG9yIHsKfQpleHRlbnNpb24gS2V5VmFsdWVQYWlycyB7Cn0KZXh0ZW5zaW9uIExhenlDb2xsZWN0aW9uIHsKfQpleHRlbnNpb24gTGF6eURyb3BXaGlsZUNvbGxlY3Rpb24gewp9CmV4dGVuc2lvbiBMYXp5RHJvcFdoaWxlU2VxdWVuY2Ugewp9CmV4dGVuc2lvbiBMYXp5RHJvcFdoaWxlU2VxdWVuY2UuSXRlcmF0b3Igewp9CmV4dGVuc2lvbiBMYXp5RmlsdGVyQ29sbGVjdGlvbiB7Cn0KZXh0ZW5zaW9uIExhenlGaWx0ZXJTZXF1ZW5jZSB7Cn0KZXh0ZW5zaW9uIExhenlGaWx0ZXJTZXF1ZW5jZS5JdGVyYXRvciB7Cn0KZXh0ZW5zaW9uIExhenlNYXBDb2xsZWN0aW9uIHsKfQpleHRlbnNpb24gTGF6eU1hcFNlcXVlbmNlIHsKICAgIHB1YmxpYyB2YXIgdW5kZXJlc3RpbWF0ZWRDb3VudDogSW50IHsgZ2V0IH0KfQpleHRlbnNpb24gTGF6eU1hcFNlcXVlbmNlLkl0ZXJhdG9yIHsKfQpleHRlbnNpb24gTGF6eVByZWZpeFdoaWxlQ29sbGVjdGlvbiB7Cn0KZXh0ZW5zaW9uIExhenlQcmVmaXhXaGlsZVNlcXVlbmNlIHsKfQpleHRlbnNpb24gTGF6eVByZWZpeFdoaWxlU2VxdWVuY2UuSW5kZXggewogICAgcHVibGljIGZ1bmMgPT0obGhzOiBMYXp5UHJlZml4V2hpbGVDb2xsZWN0aW9uPEJhc2U+LkluZGV4LCByaHM6IExhenlQcmVmaXhXaGlsZUNvbGxlY3Rpb248QmFzZT4uSW5kZXgpIC0+IEJvb2wgd2hlcmUgQmFzZSA6IENvbGxlY3Rpb24ge30KfQpleHRlbnNpb24gTGF6eVByZWZpeFdoaWxlU2VxdWVuY2UuSXRlcmF0b3Igewp9CmV4dGVuc2lvbiBMYXp5U2VxdWVuY2Ugewp9CmV4dGVuc2lvbiBNYW5hZ2VkQnVmZmVyIHsKICAgIHB1YmxpYyBjbGFzcyBmdW5jIGNyZWF0ZShtaW5pbXVtQ2FwYWNpdHk6IEludCwgbWFraW5nSGVhZGVyV2l0aCBmYWN0b3J5OiAoTWFuYWdlZEJ1ZmZlcjxIZWFkZXIsIEVsZW1lbnQ+KSB0aHJvd3MgLT4gSGVhZGVyKSByZXRocm93cyAtPiBNYW5hZ2VkQnVmZmVyPEhlYWRlciwgRWxlbWVudD4ge30KICAgIHB1YmxpYyB2YXIgY2FwYWNpdHk6IEludCB7IGdldCB9CiAgICBwdWJsaWMgZnVuYyB3aXRoVW5zYWZlTXV0YWJsZVBvaW50ZXJUb0VsZW1lbnRzPFI+KF8gYm9keTogKFVuc2FmZU11dGFibGVQb2ludGVyPEVsZW1lbnQ+KSB0aHJvd3MgLT4gUikgcmV0aHJvd3MgLT4gUiB7fQogICAgcHVibGljIGZ1bmMgd2l0aFVuc2FmZU11dGFibGVQb2ludGVyVG9IZWFkZXI8Uj4oXyBib2R5OiAoVW5zYWZlTXV0YWJsZVBvaW50ZXI8SGVhZGVyPikgdGhyb3dzIC0+IFIpIHJldGhyb3dzIC0+IFIge30KICAgIHB1YmxpYyBmdW5jIHdpdGhVbnNhZmVNdXRhYmxlUG9pbnRlcnM8Uj4oXyBib2R5OiAoVW5zYWZlTXV0YWJsZVBvaW50ZXI8SGVhZGVyPiwgVW5zYWZlTXV0YWJsZVBvaW50ZXI8RWxlbWVudD4pIHRocm93cyAtPiBSKSByZXRocm93cyAtPiBSIHt9Cn0KZXh0ZW5zaW9uIE1hbmFnZWRCdWZmZXJQb2ludGVyIHsKICAgIHB1YmxpYyB2YXIgYnVmZmVyOiBBbnlPYmplY3QgeyBnZXQgfQogICAgcHVibGljIHZhciBjYXBhY2l0eTogSW50IHsgZ2V0IH0KICAgIHB1YmxpYyB2YXIgaGVhZGVyOiBIZWFkZXIgeyBnZXQgfQogICAgcHVibGljIG11dGF0aW5nIGZ1bmMgaXNVbmlxdWVSZWZlcmVuY2UoKSAtPiBCb29sIHt9CiAgICBwdWJsaWMgZnVuYyB3aXRoVW5zYWZlTXV0YWJsZVBvaW50ZXJUb0VsZW1lbnRzPFI+KF8gYm9keTogKFVuc2FmZU11dGFibGVQb2ludGVyPEVsZW1lbnQ+KSB0aHJvd3MgLT4gUikgcmV0aHJvd3MgLT4gUiB7fQogICAgcHVibGljIGZ1bmMgd2l0aFVuc2FmZU11dGFibGVQb2ludGVyVG9IZWFkZXI8Uj4oXyBib2R5OiAoVW5zYWZlTXV0YWJsZVBvaW50ZXI8SGVhZGVyPikgdGhyb3dzIC0+IFIpIHJldGhyb3dzIC0+IFIge30KICAgIHB1YmxpYyBmdW5jIHdpdGhVbnNhZmVNdXRhYmxlUG9pbnRlcnM8Uj4oXyBib2R5OiAoVW5zYWZlTXV0YWJsZVBvaW50ZXI8SGVhZGVyPiwgVW5zYWZlTXV0YWJsZVBvaW50ZXI8RWxlbWVudD4pIHRocm93cyAtPiBSKSByZXRocm93cyAtPiBSIHt9Cn0KZXh0ZW5zaW9uIE1lbW9yeUxheW91dCB7CiAgICBwdWJsaWMgc3RhdGljIGZ1bmMgYWxpZ25tZW50KG9mVmFsdWUgdmFsdWU6IFQpIC0+IEludCB7fQogICAgcHVibGljIHN0YXRpYyBmdW5jIG9mZnNldChvZiBrZXk6IFBhcnRpYWxLZXlQYXRoPFQ+KSAtPiBJbnQ/IHt9CiAgICBwdWJsaWMgc3RhdGljIGZ1bmMgc2l6ZShvZlZhbHVlIHZhbHVlOiBUKSAtPiBJbnQge30KICAgIHB1YmxpYyBzdGF0aWMgZnVuYyBzdHJpZGUob2ZWYWx1ZSB2YWx1ZTogVCkgLT4gSW50IHt9Cn0KZXh0ZW5zaW9uIE9wdGlvbmFsIHsKICAgIHB1YmxpYyBmdW5jIH49KGxoczogX09wdGlvbmFsTmlsQ29tcGFyaXNvblR5cGUsIHJoczogV3JhcHBlZD8pIC0+IEJvb2wge30KfQpleHRlbnNpb24gUGFydGlhbFJhbmdlRnJvbSB7CiAgICBwdWJsaWMgaW5pdChmcm9tIGRlY29kZXI6IERlY29kZXIpIHRocm93cyB3aGVyZSBCb3VuZCA6IERlY29kYWJsZSB7fQogICAgcHVibGljIGZ1bmMgZW5jb2RlKHRvIGVuY29kZXI6IEVuY29kZXIpIHRocm93cyB3aGVyZSBCb3VuZCA6IEVuY29kYWJsZSB7fQp9CmV4dGVuc2lvbiBQYXJ0aWFsUmFuZ2VUaHJvdWdoIHsKICAgIHB1YmxpYyBpbml0KGZyb20gZGVjb2RlcjogRGVjb2RlcikgdGhyb3dzIHdoZXJlIEJvdW5kIDogRGVjb2RhYmxlIHt9CiAgICBwdWJsaWMgZnVuYyBlbmNvZGUodG8gZW5jb2RlcjogRW5jb2RlcikgdGhyb3dzIHdoZXJlIEJvdW5kIDogRW5jb2RhYmxlIHt9Cn0KZXh0ZW5zaW9uIFBhcnRpYWxSYW5nZVVwVG8gewogICAgcHVibGljIGluaXQoZnJvbSBkZWNvZGVyOiBEZWNvZGVyKSB0aHJvd3Mgd2hlcmUgQm91bmQgOiBEZWNvZGFibGUge30KICAgIHB1YmxpYyBmdW5jIGVuY29kZSh0byBlbmNvZGVyOiBFbmNvZGVyKSB0aHJvd3Mgd2hlcmUgQm91bmQgOiBFbmNvZGFibGUge30KfQpleHRlbnNpb24gUHJlZml4U2VxdWVuY2Ugewp9CmV4dGVuc2lvbiBQcmVmaXhTZXF1ZW5jZS5JdGVyYXRvciB7Cn0KZXh0ZW5zaW9uIFJhbmdlIHsKICAgIHB1YmxpYyBpbml0KF8gb3RoZXI6IENsb3NlZFJhbmdlPEJvdW5kPikgd2hlcmUgQm91bmQgOiBTdHJpZGVhYmxlLCBCb3VuZC5TdHJpZGUgOiBTaWduZWRJbnRlZ2VyIHt9CiAgICBwdWJsaWMgaW5pdChmcm9tIGRlY29kZXI6IERlY29kZXIpIHRocm93cyB3aGVyZSBCb3VuZCA6IERlY29kYWJsZSB7fQogICAgcHVibGljIGZ1bmMgY2xhbXBlZCh0byBsaW1pdHM6IFJhbmdlKSAtPiBSYW5nZSB7fQogICAgcHVibGljIGZ1bmMgZW5jb2RlKHRvIGVuY29kZXI6IEVuY29kZXIpIHRocm93cyB3aGVyZSBCb3VuZCA6IEVuY29kYWJsZSB7fQogICAgcHVibGljIGZ1bmMgb3ZlcmxhcHMoXyBvdGhlcjogUmFuZ2U8Qm91bmQ+KSAtPiBCb29sIHt9Cn0KZXh0ZW5zaW9uIFJlcGVhdGVkIHsKfQpleHRlbnNpb24gUmVzdWx0IHsKICAgIHB1YmxpYyBpbml0KGNhdGNoaW5nIGJvZHk6ICgpIHRocm93cyAtPiBTdWNjZXNzKSB3aGVyZSBGYWlsdXJlID09IFN3aWZ0LkVycm9yIHt9Cn0KZXh0ZW5zaW9uIFJldmVyc2VkQ29sbGVjdGlvbiB7Cn0KZXh0ZW5zaW9uIFJldmVyc2VkQ29sbGVjdGlvbi5JbmRleCB7CiAgICBwdWJsaWMgZnVuYyA9PShsaHM6IFJldmVyc2VkQ29sbGVjdGlvbjxCYXNlPi5JbmRleCwgcmhzOiBSZXZlcnNlZENvbGxlY3Rpb248QmFzZT4uSW5kZXgpIC0+IEJvb2wge30KfQpleHRlbnNpb24gUmV2ZXJzZWRDb2xsZWN0aW9uLkl0ZXJhdG9yIHsKfQpleHRlbnNpb24gU2V0IHsKICAgIHB1YmxpYyB2YXIgY2FwYWNpdHk6IEludCB7IGdldCB9CiAgICBwdWJsaWMgc3Vic2NyaXB0KHBvc2l0aW9uOiBJbmRleCkgLT4gRWxlbWVudCB7IGdldCB9IHt9CiAgICBAZGlzY2FyZGFibGVSZXN1bHQgcHVibGljIG11dGF0aW5nIGZ1bmMgcmVtb3ZlKGF0IHBvc2l0aW9uOiBJbmRleCkgLT4gRWxlbWVudCB7fQogICAgcHVibGljIG11dGF0aW5nIGZ1bmMgcmVtb3ZlQWxsKGtlZXBpbmdDYXBhY2l0eSBrZWVwQ2FwYWNpdHk6IEJvb2wgPSB4KSB7fQogICAgcHVibGljIG11dGF0aW5nIGZ1bmMgcmVzZXJ2ZUNhcGFjaXR5KF8gbWluaW11bUNhcGFjaXR5OiBJbnQpIHt9Cn0KZXh0ZW5zaW9uIFNldC5JbmRleCB7Cn0KZXh0ZW5zaW9uIFNldC5JdGVyYXRvciB7Cn0KZXh0ZW5zaW9uIFNldC5fVmFyaWFudCB7Cn0KZXh0ZW5zaW9uIFNsaWNlIHsKICAgIHB1YmxpYyBzdWJzY3JpcHQoaW5kZXg6IEluZGV4KSAtPiBCYXNlLkVsZW1lbnQgeyBnZXQgc2V0IH0gd2hlcmUgQmFzZSA6IE11dGFibGVDb2xsZWN0aW9uIHt9Cn0KZXh0ZW5zaW9uIFN0cmlkZVRocm91Z2ggewojaWYgZmFsc2UKICAgIHB1YmxpYyB2YXIgY291bnQ6IEludCB7IGdldCB9IHdoZXJlIEVsZW1lbnQuU3RyaWRlIDogQmluYXJ5SW50ZWdlcgojZW5kaWYKfQpleHRlbnNpb24gU3RyaWRlVGhyb3VnaEl0ZXJhdG9yIHsKfQpleHRlbnNpb24gU3RyaWRlVG8gewojaWYgZmFsc2UKICAgIHB1YmxpYyB2YXIgY291bnQ6IEludCB7IGdldCB9IHdoZXJlIEVsZW1lbnQuU3RyaWRlIDogQmluYXJ5SW50ZWdlcgojZW5kaWYKfQpleHRlbnNpb24gU3RyaWRlVG9JdGVyYXRvciB7Cn0KZXh0ZW5zaW9uIFN0cmluZy5VVEYxNlZpZXcgewp9CmV4dGVuc2lvbiBTdHJpbmcuVVRGMTZWaWV3LkluZGV4IHsKICAgIHB1YmxpYyBpbml0PyhfIGlkeDogU3RyaW5nLkluZGV4LCB3aXRoaW4gdGFyZ2V0OiBTdHJpbmcuVVRGMTZWaWV3KSB7fQogICAgcHVibGljIGZ1bmMgc2FtZVBvc2l0aW9uKGluIHVuaWNvZGVTY2FsYXJzOiBTdHJpbmcuVW5pY29kZVNjYWxhclZpZXcpIC0+IFN0cmluZy5Vbmljb2RlU2NhbGFySW5kZXg/IHt9Cn0KZXh0ZW5zaW9uIFN0cmluZy5VVEY4VmlldyB7CiAgICBwdWJsaWMgdmFyIGNvdW50OiBJbnQgeyBnZXQgfQogICAgQGF2YWlsYWJsZShzd2lmdCwgaW50cm9kdWNlZDogNCkgcHVibGljIHN1YnNjcmlwdChyOiBSYW5nZTxJbmRleD4pIC0+IFN0cmluZy5VVEY4Vmlldy5TdWJTZXF1ZW5jZSB7IGdldCB9IHt9CiAgICBwdWJsaWMgc3Vic2NyaXB0KGk6IEluZGV4KSAtPiBVVEY4LkNvZGVVbml0IHsgZ2V0IH0ge30KICAgIHB1YmxpYyBmdW5jIHdpdGhDb250aWd1b3VzU3RvcmFnZUlmQXZhaWxhYmxlPFI+KF8gYm9keTogKFVuc2FmZUJ1ZmZlclBvaW50ZXI8RWxlbWVudD4pIHRocm93cyAtPiBSKSByZXRocm93cyAtPiBSPyB7fQp9CmV4dGVuc2lvbiBTdHJpbmcuVVRGOFZpZXcuSW5kZXggewogICAgcHVibGljIGluaXQ/KF8gaWR4OiBTdHJpbmcuSW5kZXgsIHdpdGhpbiB0YXJnZXQ6IFN0cmluZy5VVEY4Vmlldykge30KfQpleHRlbnNpb24gU3RyaW5nLlVuaWNvZGVTY2FsYXJWaWV3IHsKfQpleHRlbnNpb24gVUludCB7CiAgICBwdWJsaWMgaW5pdChiaXRQYXR0ZXJuIG9iamVjdElEOiBPYmplY3RJZGVudGlmaWVyKSB7fQogICAgcHVibGljIGluaXQoYml0UGF0dGVybiBwb2ludGVyOiBPcGFxdWVQb2ludGVyPykge30KfQpleHRlbnNpb24gVUludDE2IHsKfQpleHRlbnNpb24gVUludDMyIHsKICAgIHB1YmxpYyBpbml0KF8gdjogVW5pY29kZS5TY2FsYXIpIHt9Cn0KZXh0ZW5zaW9uIFVJbnQ2NCB7CiAgICBwdWJsaWMgaW5pdChfIHY6IFVuaWNvZGUuU2NhbGFyKSB7fQp9CmV4dGVuc2lvbiBVSW50OCB7CiAgICBwdWJsaWMgaW5pdChhc2NpaSB2OiBVbmljb2RlLlNjYWxhcikge30KfQpleHRlbnNpb24gVVRGMTYuQ29kZVVuaXQgewp9CmV4dGVuc2lvbiBVVEYxNi5SZXZlcnNlUGFyc2VyIHsKfQpleHRlbnNpb24gVVRGMzIuUGFyc2VyIHsKICAgIHB1YmxpYyBtdXRhdGluZyBmdW5jIHBhcnNlU2NhbGFyPEk+KGZyb20gaW5wdXQ6IGlub3V0IEkpIC0+IFVuaWNvZGUuUGFyc2VSZXN1bHQ8RW5jb2RpbmcuRW5jb2RlZFNjYWxhcj4gd2hlcmUgSSA6IEl0ZXJhdG9yUHJvdG9jb2wsIEVuY29kaW5nLkNvZGVVbml0ID09IEkuRWxlbWVudCB7fQp9CmV4dGVuc2lvbiBVVEY4LkNvZGVVbml0IHsKfQpleHRlbnNpb24gVVRGOC5SZXZlcnNlUGFyc2VyIHsKfQpleHRlbnNpb24gVVRGOFZhbGlkYXRpb25SZXN1bHQgewp9CmV4dGVuc2lvbiBVbmljb2RlLkFTQ0lJLlBhcnNlciB7CiAgICBwdWJsaWMgbXV0YXRpbmcgZnVuYyBwYXJzZVNjYWxhcjxJPihmcm9tIGlucHV0OiBpbm91dCBJKSAtPiBVbmljb2RlLlBhcnNlUmVzdWx0PEVuY29kaW5nLkVuY29kZWRTY2FsYXI+IHdoZXJlIEkgOiBJdGVyYXRvclByb3RvY29sLCBFbmNvZGluZy5Db2RlVW5pdCA9PSBJLkVsZW1lbnQge30KfQpleHRlbnNpb24gVW5pY29kZS5TY2FsYXIgewogICAgcHVibGljIHZhciBpc0FTQ0lJOiBCb29sIHsgZ2V0IH0KICAgIHB1YmxpYyB2YXIgdXRmMTY6IFVURjE2VmlldyB7IGdldCB9CiAgICBwdWJsaWMgdmFyIHZhbHVlOiBVSW50MzIgeyBnZXQgfQogICAgcHVibGljIGZ1bmMgZXNjYXBlZChhc0FTQ0lJIGZvcmNlQVNDSUk6IEJvb2wpIC0+IFN0cmluZyB7fQp9CmV4dGVuc2lvbiBVbmljb2RlLlNjYWxhci5VVEYxNlZpZXcgewp9CmV4dGVuc2lvbiBVbmljb2RlLlVURjMyIHsKICAgIHB1YmxpYyBzdGF0aWMgdmFyIGVuY29kZWRSZXBsYWNlbWVudENoYXJhY3RlcjogRW5jb2RlZFNjYWxhciB7IGdldCB9CiAgICBwdWJsaWMgc3RhdGljIGZ1bmMgZGVjb2RlKF8gc291cmNlOiBFbmNvZGVkU2NhbGFyKSAtPiBVbmljb2RlLlNjYWxhciB7fQogICAgcHVibGljIHN0YXRpYyBmdW5jIGVuY29kZShfIHNvdXJjZTogVW5pY29kZS5TY2FsYXIpIC0+IEVuY29kZWRTY2FsYXI/IHt9Cn0KZXh0ZW5zaW9uIFVuaWNvZGUuVVRGOCB7CiAgICBwdWJsaWMgc3RhdGljIHZhciBlbmNvZGVkUmVwbGFjZW1lbnRDaGFyYWN0ZXI6IEVuY29kZWRTY2FsYXIgeyBnZXQgfQogICAgcHVibGljIHN0YXRpYyBmdW5jIGRlY29kZShfIHNvdXJjZTogRW5jb2RlZFNjYWxhcikgLT4gVW5pY29kZS5TY2FsYXIge30KICAgIHB1YmxpYyBzdGF0aWMgZnVuYyBlbmNvZGUoXyBzb3VyY2U6IFVuaWNvZGUuU2NhbGFyKSAtPiBFbmNvZGVkU2NhbGFyPyB7fQogICAgcHVibGljIHN0YXRpYyBmdW5jIHRyYW5zY29kZTxGcm9tRW5jb2Rpbmc+KF8gY29udGVudDogRnJvbUVuY29kaW5nLkVuY29kZWRTY2FsYXIsIGZyb20gXzogRnJvbUVuY29kaW5nLlR5cGUpIC0+IEVuY29kZWRTY2FsYXI/IHdoZXJlIEZyb21FbmNvZGluZyA6IF9Vbmljb2RlRW5jb2Rpbmcge30KfQpleHRlbnNpb24gVW5pY29kZS5VVEY4LkZvcndhcmRQYXJzZXIgewp9CmV4dGVuc2lvbiBVbnNhZmVCdWZmZXJQb2ludGVyIHsKfQpleHRlbnNpb24gVW5zYWZlTXV0YWJsZUJ1ZmZlclBvaW50ZXIgewp9CmV4dGVuc2lvbiBVbnNhZmVNdXRhYmxlUG9pbnRlciB7Cn0KZXh0ZW5zaW9uIFVuc2FmZU11dGFibGVSYXdCdWZmZXJQb2ludGVyIHsKfQpleHRlbnNpb24gVW5zYWZlUG9pbnRlciB7Cn0KZXh0ZW5zaW9uIFVuc2FmZVJhd0J1ZmZlclBvaW50ZXIgewp9CmV4dGVuc2lvbiBaaXAyU2VxdWVuY2Ugewp9CmV4dGVuc2lvbiBaaXAyU2VxdWVuY2UuSXRlcmF0b3Igewp9")!
    static let syntaxHighlighting = String(data: Data(base64Encoded: "LyoKIFN5bnRheCBIaWdobGlnaHRpbmcuY3NzCgogVGhpcyBzb3VyY2UgZmlsZSBpcyBwYXJ0IG9mIHRoZSBTREdTd2lmdCBvcGVuIHNvdXJjZSBwcm9qZWN0LgogaHR0cHM6Ly9zZGdnaWVzYnJlY2h0LmdpdGh1Yi5pby9TREdTd2lmdAoKIENvcHlyaWdodCDCqTIwMTjigJMyMDE5IEplcmVteSBEYXZpZCBHaWVzYnJlY2h0IGFuZCB0aGUgU0RHU3dpZnQgcHJvamVjdCBjb250cmlidXRvcnMuCgogU29saSBEZW8gZ2xvcmlhLgoKIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5jZSwgVmVyc2lvbiAyLjAuCiBTZWUgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wIGZvciBsaWNlbmNlIGluZm9ybWF0aW9uLgogKi8KCi8qIExheW91dCAqLwoKLnN3aWZ0IHsKICAgIGRpc3BsYXk6IGlubGluZTsKICAgIHdoaXRlLXNwYWNlOiBwcmUtd3JhcDsKfQouc3dpZnQuYmxvY2txdW90ZSB7CiAgICBkaXNwbGF5OiBibG9jazsKICAgIG1hcmdpbjogMS40ZW0gMDsKICAgIGJvcmRlcjogMXB4IHNvbGlkOwogICAgIGJvcmRlci1yYWRpdXM6IDAuMzUyOTRlbTsKICAgIHBhZGRpbmc6IDAuMzUyOTRlbSAwLjk0MTE4ZW07Cn0KCi8qIENvbG91ciAqLwoKLnN3aWZ0LmJsb2NrcXVvdGUgewogICAgYmFja2dyb3VuZC1jb2xvcjogI0Y5RkFGQTsKICAgIGJvcmRlci1jb2xvcjogICNFNkU2RTY7Cn0KLnN3aWZ0IHsKICAgIGNvbG9yOiAjMDAwMDAwOwp9Cgouc3dpZnQgLmtleXdvcmQgewogICAgY29sb3I6ICNBQTBEOTE7Cn0KCi5zd2lmdCAucHVuY3R1YXRpb24gewogICAgY29sb3I6ICMwMDAwMDA7Cn0KCi5zd2lmdCAuZXh0ZXJuYWwuaWRlbnRpZmllciB7CiAgICBjb2xvcjogIzVDMjY5OTsKfQouc3dpZnQgLmludGVybmFsLmlkZW50aWZpZXIgewogICAgY29sb3I6ICMzRjZFNzQ7Cn0KCi5zd2lmdCAubnVtYmVyIHsKICAgIGNvbG9yOiAjMEUwRUZGOwp9Cgouc3dpZnQgLnN0cmluZyB7CiAgICBjb2xvcjogI0M0MUExNjsKfQouc3dpZnQgLnN0cmluZ+KAkHB1bmN0dWF0aW9uIHsKICAgIGNvbG9yOiAjNjIyNzBCOwp9Cgouc3dpZnQgLmNvbXBpbGF0aW9u4oCQY29uZGl0aW9uIHsKICAgIGNvbG9yOiAjNjQzODIwOwp9Cgouc3dpZnQgLmNvbW1lbnQgewogICAgY29sb3I6ICMwMDc0MDA7Cn0KLnN3aWZ0IC5jb21tZW504oCQcHVuY3R1YXRpb24gewogICAgY29sb3I6ICMwMDNBMDA7Cn0KLnN3aWZ0IC51cmwgewogICAgY29sb3I6ICMwRTBFRkY7Cn0KCi5zd2lmdCAuY29kZSB7CiAgICBjb2xvcjogIzAwMDAwMDsKfQoKLyogRm9udCAqLwoKLnN3aWZ0IHsKICAgIGZvbnQtZmFtaWx5OiAiU0YgTW9ubyIsIE1lbmxvLCBtb25vc3BhY2UsICJTRiBQcm8gSWNvbnMiOwogICAgbGV0dGVyLXNwYWNpbmc6IC0wLjAyN2VtOwogICAgbGluZS1oZWlnaHQ6IDEuMjY2Njc7Cn0KCi5zd2lmdCAudGV4dCB7CiAgICBmb250LWZhbWlseTogIlNGIFBybyBUZXh0IiwgIlNGIFBybyBJY29ucyIsICItYXBwbGUtc3lzdGVtIiwgIkJsaW5rTWFjU3lzdGVtRm9udCIsICJIZWx2ZXRpY2EgTmV1ZSIsICJIZWx2ZXRpY2EiLCAiQXJpYWwiLCBzYW5zLXNlcmlmOwogICAgbGV0dGVyLXNwYWNpbmc6IDA7Cn0KCi5zd2lmdCAuY29tbWVudOKAkGtleXdvcmQgewogICAgZm9udC13ZWlnaHQ6IGJvbGQ7Cn0KCi5zd2lmdCAudXJsOmxpbmssIC5zd2lmdCAudXJsOnZpc2l0ZWQgewogICAgdGV4dC1kZWNvcmF0aW9uOiBub25lOwp9Ci5zd2lmdCAudXJsOmhvdmVyIHsKICAgIHRleHQtZGVjb3JhdGlvbjogdW5kZXJsaW5lOwp9Cg==")!, encoding: String.Encoding.utf8)!
    static let xctest = Data(base64Encoded: "b3BlbiBjbGFzcyBYQ1ROU05vdGlmaWNhdGlvbkV4cGVjdGF0aW9uIHsKICAgIHB1YmxpYyBpbml0KG5hbWUgbm90aWZpY2F0aW9uTmFtZTogTm90aWZpY2F0aW9uLk5hbWUsIG9iamVjdDogQW55PyA9IHgsIG5vdGlmaWNhdGlvbkNlbnRlcjogTm90aWZpY2F0aW9uQ2VudGVyID0geCwgZmlsZTogU3RhdGljU3RyaW5nID0geCwgbGluZTogSW50ID0geCkge30KICAgIG9wZW4gdmFyIGhhbmRsZXI6IEhhbmRsZXI/IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBub3RpZmljYXRpb25DZW50ZXI6IE5vdGlmaWNhdGlvbkNlbnRlciB7IGdldCB9CiAgICBvcGVuIHZhciBub3RpZmljYXRpb25OYW1lOiBOb3RpZmljYXRpb24uTmFtZSB7IGdldCB9CiAgICBvcGVuIHZhciBvYnNlcnZlZE9iamVjdDogQW55PyB7IGdldCB9Cn0Kb3BlbiBjbGFzcyBYQ1ROU1ByZWRpY2F0ZUV4cGVjdGF0aW9uIHsKICAgIHB1YmxpYyBpbml0KHByZWRpY2F0ZTogTlNQcmVkaWNhdGUsIG9iamVjdDogQW55PyA9IHgsIGZpbGU6IFN0YXRpY1N0cmluZyA9IHgsIGxpbmU6IEludCA9IHgpIHt9CiAgICBvcGVuIHZhciBoYW5kbGVyOiBIYW5kbGVyPyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgb2JqZWN0OiBBbnk/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHByZWRpY2F0ZTogTlNQcmVkaWNhdGUgeyBnZXQgfQp9Cm9wZW4gY2xhc3MgWENUV2FpdGVyIHsKICAgIG9wZW4gY2xhc3MgZnVuYyB3YWl0KGZvciBleHBlY3RhdGlvbnM6IFtYQ1Rlc3RFeHBlY3RhdGlvbl0sIHRpbWVvdXQ6IFRpbWVJbnRlcnZhbCwgZW5mb3JjZU9yZGVyOiBCb29sID0geCwgZmlsZTogU3RhdGljU3RyaW5nID0geCwgbGluZTogSW50ID0geCkgLT4gUmVzdWx0IHt9CiAgICBwdWJsaWMgaW5pdChkZWxlZ2F0ZTogWENUV2FpdGVyRGVsZWdhdGU/ID0geCkge30KICAgIG9wZW4gdmFyIGRlbGVnYXRlOiBYQ1RXYWl0ZXJEZWxlZ2F0ZT8geyBnZXQgc2V0IH0KICAgIHB1YmxpYyB2YXIgZGVzY3JpcHRpb246IFN0cmluZyB7IGdldCB9CiAgICBvcGVuIHZhciBmdWxmaWxsZWRFeHBlY3RhdGlvbnM6IFtYQ1Rlc3RFeHBlY3RhdGlvbl0geyBnZXQgfQogICAgcHVibGljIGZ1bmMgPT0obGhzOiBYQ1RXYWl0ZXIsIHJoczogWENUV2FpdGVyKSAtPiBCb29sIHt9CiAgICBAZGlzY2FyZGFibGVSZXN1bHQgb3BlbiBmdW5jIHdhaXQoZm9yIGV4cGVjdGF0aW9uczogW1hDVGVzdEV4cGVjdGF0aW9uXSwgdGltZW91dDogVGltZUludGVydmFsLCBlbmZvcmNlT3JkZXI6IEJvb2wgPSB4LCBmaWxlOiBTdGF0aWNTdHJpbmcgPSB4LCBsaW5lOiBJbnQgPSB4KSAtPiBSZXN1bHQge30KfQpvcGVuIGNsYXNzIFhDVGVzdCB7CiAgICBwdWJsaWMgaW5pdCgpIHt9CiAgICBvcGVuIHZhciBuYW1lOiBTdHJpbmcgeyBnZXQgfQogICAgb3BlbiB2YXIgdGVzdENhc2VDb3VudDogSW50IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHRlc3RSdW46IFhDVGVzdFJ1bj8geyBnZXQgfQogICAgb3BlbiB2YXIgdGVzdFJ1bkNsYXNzOiBBbnlDbGFzcz8geyBnZXQgfQogICAgb3BlbiBmdW5jIHBlcmZvcm0oXyBydW46IFhDVGVzdFJ1bikge30KICAgIG9wZW4gZnVuYyBydW4oKSB7fQogICAgb3BlbiBmdW5jIHNldFVwKCkge30KICAgIG9wZW4gZnVuYyB0ZWFyRG93bigpIHt9Cn0Kb3BlbiBjbGFzcyBYQ1Rlc3RDYXNlIHsKICAgIG9wZW4gY2xhc3MgZnVuYyBzZXRVcCgpIHt9CiAgICBvcGVuIGNsYXNzIGZ1bmMgdGVhckRvd24oKSB7fQogICAgcHVibGljIHJlcXVpcmVkIGluaXQobmFtZTogU3RyaW5nLCB0ZXN0Q2xvc3VyZTogQGVzY2FwaW5nIFhDVGVzdENhc2VDbG9zdXJlKSB7fQogICAgb3BlbiB2YXIgY29udGludWVBZnRlckZhaWx1cmU6IEJvb2wgeyBnZXQgc2V0IH0KICAgIG9wZW4gZnVuYyBpbnZva2VUZXN0KCkge30KICAgIG9wZW4gZnVuYyByZWNvcmRGYWlsdXJlKHdpdGhEZXNjcmlwdGlvbiBkZXNjcmlwdGlvbjogU3RyaW5nLCBpbkZpbGUgZmlsZVBhdGg6IFN0cmluZywgYXRMaW5lIGxpbmVOdW1iZXI6IEludCwgZXhwZWN0ZWQ6IEJvb2wpIHt9Cn0Kb3BlbiBjbGFzcyBYQ1Rlc3RDYXNlUnVuIHsKICAgIG9wZW4gZnVuYyByZWNvcmRGYWlsdXJlKHdpdGhEZXNjcmlwdGlvbiBkZXNjcmlwdGlvbjogU3RyaW5nLCBpbkZpbGUgZmlsZVBhdGg6IFN0cmluZz8sIGF0TGluZSBsaW5lTnVtYmVyOiBJbnQsIGV4cGVjdGVkOiBCb29sKSB7fQp9Cm9wZW4gY2xhc3MgWENUZXN0RXhwZWN0YXRpb24gewogICAgcHVibGljIGluaXQoZGVzY3JpcHRpb246IFN0cmluZyA9IHgsIGZpbGU6IFN0YXRpY1N0cmluZyA9IHgsIGxpbmU6IEludCA9IHgpIHt9CiAgICBvcGVuIHZhciBhc3NlcnRGb3JPdmVyRnVsZmlsbDogQm9vbCB7IGdldCBzZXQgfQogICAgcHVibGljIHZhciBkZXNjcmlwdGlvbjogU3RyaW5nIHsgZ2V0IH0KICAgIG9wZW4gdmFyIGV4cGVjdGF0aW9uRGVzY3JpcHRpb246IFN0cmluZyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgZXhwZWN0ZWRGdWxmaWxsbWVudENvdW50OiBJbnQgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGlzSW52ZXJ0ZWQ6IEJvb2wgeyBnZXQgc2V0IH0KICAgIHB1YmxpYyBmdW5jID09KGxoczogWENUZXN0RXhwZWN0YXRpb24sIHJoczogWENUZXN0RXhwZWN0YXRpb24pIC0+IEJvb2wge30KICAgIG9wZW4gZnVuYyBmdWxmaWxsKF8gZmlsZTogU3RhdGljU3RyaW5nID0geCwgbGluZTogSW50ID0geCkge30KICAgIHB1YmxpYyBmdW5jIGhhc2goaW50byBoYXNoZXI6IGlub3V0IEhhc2hlcikge30KfQpvcGVuIGNsYXNzIFhDVGVzdFJ1biB7CiAgICBwdWJsaWMgcmVxdWlyZWQgaW5pdCh0ZXN0OiBYQ1Rlc3QpIHt9CiAgICBvcGVuIHZhciBleGVjdXRpb25Db3VudDogSW50IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGZhaWx1cmVDb3VudDogSW50IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGhhc1N1Y2NlZWRlZDogQm9vbCB7IGdldCB9CiAgICBvcGVuIHZhciBzdGFydERhdGU6IERhdGU/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHN0b3BEYXRlOiBEYXRlPyB7IGdldCB9CiAgICBwdWJsaWMgdmFyIHRlc3Q6IFhDVGVzdCB7IGdldCB9CiAgICBvcGVuIHZhciB0ZXN0Q2FzZUNvdW50OiBJbnQgeyBnZXQgfQogICAgb3BlbiB2YXIgdGVzdER1cmF0aW9uOiBUaW1lSW50ZXJ2YWwgeyBnZXQgfQogICAgb3BlbiB2YXIgdG90YWxEdXJhdGlvbjogVGltZUludGVydmFsIHsgZ2V0IH0KICAgIG9wZW4gdmFyIHRvdGFsRmFpbHVyZUNvdW50OiBJbnQgeyBnZXQgfQogICAgb3BlbiB2YXIgdW5leHBlY3RlZEV4Y2VwdGlvbkNvdW50OiBJbnQgeyBnZXQgfQogICAgb3BlbiBmdW5jIHN0YXJ0KCkge30KICAgIG9wZW4gZnVuYyBzdG9wKCkge30KfQpvcGVuIGNsYXNzIFhDVGVzdFN1aXRlIHsKICAgIHB1YmxpYyBpbml0KG5hbWU6IFN0cmluZykge30KICAgIG9wZW4gdmFyIHRlc3RzIHsgZ2V0IH0KICAgIG9wZW4gZnVuYyBhZGRUZXN0KF8gdGVzdDogWENUZXN0KSB7fQp9Cm9wZW4gY2xhc3MgWENUZXN0U3VpdGVSdW4gewogICAgb3BlbiB2YXIgdGVzdFJ1bnMgeyBnZXQgfQogICAgb3BlbiBmdW5jIGFkZFRlc3RSdW4oXyB0ZXN0UnVuOiBYQ1Rlc3RSdW4pIHt9Cn0KcHVibGljIHByb3RvY29sIFhDVFdhaXRlckRlbGVnYXRlIHsKICAgIGZ1bmMgbmVzdGVkV2FpdGVyKF8gd2FpdGVyOiBYQ1RXYWl0ZXIsIHdhc0ludGVycnVwdGVkQnlUaW1lZE91dFdhaXRlciBvdXRlcldhaXRlcjogWENUV2FpdGVyKQogICAgZnVuYyB3YWl0ZXIoXyB3YWl0ZXI6IFhDVFdhaXRlciwgZGlkRnVsZmlsbEludmVydGVkRXhwZWN0YXRpb24gZXhwZWN0YXRpb246IFhDVGVzdEV4cGVjdGF0aW9uKQogICAgZnVuYyB3YWl0ZXIoXyB3YWl0ZXI6IFhDVFdhaXRlciwgZGlkVGltZW91dFdpdGhVbmZ1bGZpbGxlZEV4cGVjdGF0aW9ucyB1bmZ1bGZpbGxlZEV4cGVjdGF0aW9uczogW1hDVGVzdEV4cGVjdGF0aW9uXSkKICAgIGZ1bmMgd2FpdGVyKF8gd2FpdGVyOiBYQ1RXYWl0ZXIsIGZ1bGZpbGxtZW50RGlkVmlvbGF0ZU9yZGVyaW5nQ29uc3RyYWludHNGb3IgZXhwZWN0YXRpb246IFhDVGVzdEV4cGVjdGF0aW9uLCByZXF1aXJlZEV4cGVjdGF0aW9uOiBYQ1Rlc3RFeHBlY3RhdGlvbikKfQpwdWJsaWMgcHJvdG9jb2wgWENUZXN0T2JzZXJ2YXRpb24gewogICAgZnVuYyB0ZXN0QnVuZGxlRGlkRmluaXNoKF8gdGVzdEJ1bmRsZTogQnVuZGxlKQogICAgZnVuYyB0ZXN0QnVuZGxlV2lsbFN0YXJ0KF8gdGVzdEJ1bmRsZTogQnVuZGxlKQogICAgZnVuYyB0ZXN0Q2FzZShfIHRlc3RDYXNlOiBYQ1Rlc3RDYXNlLCBkaWRGYWlsV2l0aERlc2NyaXB0aW9uIGRlc2NyaXB0aW9uOiBTdHJpbmcsIGluRmlsZSBmaWxlUGF0aDogU3RyaW5nPywgYXRMaW5lIGxpbmVOdW1iZXI6IEludCkKICAgIGZ1bmMgdGVzdENhc2VEaWRGaW5pc2goXyB0ZXN0Q2FzZTogWENUZXN0Q2FzZSkKICAgIGZ1bmMgdGVzdENhc2VXaWxsU3RhcnQoXyB0ZXN0Q2FzZTogWENUZXN0Q2FzZSkKICAgIGZ1bmMgdGVzdFN1aXRlRGlkRmluaXNoKF8gdGVzdFN1aXRlOiBYQ1Rlc3RTdWl0ZSkKICAgIGZ1bmMgdGVzdFN1aXRlV2lsbFN0YXJ0KF8gdGVzdFN1aXRlOiBYQ1Rlc3RTdWl0ZSkKfQ==")!

}
