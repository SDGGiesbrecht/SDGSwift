/*
 Resources.swift

 This source file is part of the SDGSwift open source project.
 https://sdggiesbrecht.github.io/SDGSwift

 Copyright ©2018–2019 Jeremy David Giesbrecht and the SDGSwift project contributors.

 Soli Deo gloria.

 Licensed under the Apache Licence, Version 2.0.
 See http://www.apache.org/licenses/LICENSE-2.0 for licence information.
 */

import Foundation

internal enum Resources {}

extension Resources {
    enum CoreLibraries {
        static let dispatch = String(data: Data(base64Encoded: "cHVibGljIHByb3RvY29sIERpc3BhdGNoU291cmNlRmlsZVN5c3RlbU9iamVjdCA6IERpc3BhdGNoU291cmNlUHJvdG9jb2wgewojaWYgIW9zKExpbnV4KSAmJiAhb3MoQW5kcm9pZCkgJiYgIW9zKFdpbmRvd3MpCiAgICB2YXIgZGF0YTogRGlzcGF0Y2hTb3VyY2UuRmlsZVN5c3RlbUV2ZW50IHsgZ2V0IH0KI2VuZGlmCiNpZiAhb3MoTGludXgpICYmICFvcyhBbmRyb2lkKSAmJiAhb3MoV2luZG93cykKICAgIHZhciBoYW5kbGU6IEludDMyIHsgZ2V0IH0KI2VuZGlmCiNpZiAhb3MoTGludXgpICYmICFvcyhBbmRyb2lkKSAmJiAhb3MoV2luZG93cykKICAgIHZhciBtYXNrOiBEaXNwYXRjaFNvdXJjZS5GaWxlU3lzdGVtRXZlbnQgeyBnZXQgfQojZW5kaWYKfQpwdWJsaWMgcHJvdG9jb2wgRGlzcGF0Y2hTb3VyY2VNYWNoUmVjZWl2ZSA6IERpc3BhdGNoU291cmNlUHJvdG9jb2wgewojaWYgSEFWRV9NQUNICiAgICB2YXIgaGFuZGxlOiBtYWNoX3BvcnRfdCB7IGdldCB9CiNlbmRpZgp9CnB1YmxpYyBwcm90b2NvbCBEaXNwYXRjaFNvdXJjZU1hY2hTZW5kIDogRGlzcGF0Y2hTb3VyY2VQcm90b2NvbCB7CiNpZiBIQVZFX01BQ0gKICAgIHZhciBkYXRhOiBEaXNwYXRjaFNvdXJjZS5NYWNoU2VuZEV2ZW50IHsgZ2V0IH0KI2VuZGlmCiNpZiBIQVZFX01BQ0gKICAgIHZhciBoYW5kbGU6IG1hY2hfcG9ydF90IHsgZ2V0IH0KI2VuZGlmCiNpZiBIQVZFX01BQ0gKICAgIHZhciBtYXNrOiBEaXNwYXRjaFNvdXJjZS5NYWNoU2VuZEV2ZW50IHsgZ2V0IH0KI2VuZGlmCn0KcHVibGljIHByb3RvY29sIERpc3BhdGNoU291cmNlTWVtb3J5UHJlc3N1cmUgOiBEaXNwYXRjaFNvdXJjZVByb3RvY29sIHsKI2lmIEhBVkVfTUFDSAogICAgdmFyIGRhdGE6IERpc3BhdGNoU291cmNlLk1lbW9yeVByZXNzdXJlRXZlbnQgeyBnZXQgfQojZW5kaWYKI2lmIEhBVkVfTUFDSAogICAgdmFyIG1hc2s6IERpc3BhdGNoU291cmNlLk1lbW9yeVByZXNzdXJlRXZlbnQgeyBnZXQgfQojZW5kaWYKfQpwdWJsaWMgcHJvdG9jb2wgRGlzcGF0Y2hTb3VyY2VQcm9jZXNzIDogRGlzcGF0Y2hTb3VyY2VQcm90b2NvbCB7CiNpZiAhb3MoTGludXgpICYmICFvcyhBbmRyb2lkKSAmJiAhb3MoV2luZG93cykKICAgIHZhciBkYXRhOiBEaXNwYXRjaFNvdXJjZS5Qcm9jZXNzRXZlbnQgeyBnZXQgfQojZW5kaWYKI2lmICFvcyhMaW51eCkgJiYgIW9zKEFuZHJvaWQpICYmICFvcyhXaW5kb3dzKQogICAgdmFyIGhhbmRsZTogcGlkX3QgeyBnZXQgfQojZW5kaWYKI2lmICFvcyhMaW51eCkgJiYgIW9zKEFuZHJvaWQpICYmICFvcyhXaW5kb3dzKQogICAgdmFyIG1hc2s6IERpc3BhdGNoU291cmNlLlByb2Nlc3NFdmVudCB7IGdldCB9CiNlbmRpZgp9CnB1YmxpYyBwcm90b2NvbCBEaXNwYXRjaFNvdXJjZVByb3RvY29sIHsKICAgIHZhciBkYXRhOiBVSW50IHsgZ2V0IH0KICAgIHZhciBoYW5kbGU6IFVJbnQgeyBnZXQgfQogICAgdmFyIGlzQ2FuY2VsbGVkOiBCb29sIHsgZ2V0IH0KICAgIHZhciBtYXNrOiBVSW50IHsgZ2V0IH0KICAgIEBhdmFpbGFibGUobWFjT1MgMTAuMTIsIGlPUyAxMC4wLCB0dk9TIDEwLjAsIHdhdGNoT1MgMy4wLCAqKSBmdW5jIGFjdGl2YXRlKCkKICAgIGZ1bmMgY2FuY2VsKCkKICAgIGZ1bmMgcmVzdW1lKCkKICAgIEBhdmFpbGFibGUobWFjT1MgMTAuMTAsIGlPUyA4LjAsICopIGZ1bmMgc2V0Q2FuY2VsSGFuZGxlcihoYW5kbGVyOiBEaXNwYXRjaFdvcmtJdGVtKQogICAgZnVuYyBzZXRDYW5jZWxIYW5kbGVyKHFvczogRGlzcGF0Y2hRb1MgPSB4LCBmbGFnczogRGlzcGF0Y2hXb3JrSXRlbUZsYWdzID0geCwgaGFuZGxlcjogRGlzcGF0Y2hTb3VyY2VIYW5kbGVyPykKICAgIEBhdmFpbGFibGUobWFjT1MgMTAuMTAsIGlPUyA4LjAsICopIGZ1bmMgc2V0RXZlbnRIYW5kbGVyKGhhbmRsZXI6IERpc3BhdGNoV29ya0l0ZW0pCiAgICBmdW5jIHNldEV2ZW50SGFuZGxlcihxb3M6IERpc3BhdGNoUW9TID0geCwgZmxhZ3M6IERpc3BhdGNoV29ya0l0ZW1GbGFncyA9IHgsIGhhbmRsZXI6IERpc3BhdGNoU291cmNlSGFuZGxlcj8pCiAgICBAYXZhaWxhYmxlKG1hY09TIDEwLjEwLCBpT1MgOC4wLCAqKSBmdW5jIHNldFJlZ2lzdHJhdGlvbkhhbmRsZXIoaGFuZGxlcjogRGlzcGF0Y2hXb3JrSXRlbSkKICAgIGZ1bmMgc2V0UmVnaXN0cmF0aW9uSGFuZGxlcihxb3M6IERpc3BhdGNoUW9TID0geCwgZmxhZ3M6IERpc3BhdGNoV29ya0l0ZW1GbGFncyA9IHgsIGhhbmRsZXI6IERpc3BhdGNoU291cmNlSGFuZGxlcj8pCiAgICBmdW5jIHN1c3BlbmQoKQp9CnB1YmxpYyBwcm90b2NvbCBEaXNwYXRjaFNvdXJjZVJlYWQgOiBEaXNwYXRjaFNvdXJjZVByb3RvY29sIHsKfQpwdWJsaWMgcHJvdG9jb2wgRGlzcGF0Y2hTb3VyY2VTaWduYWwgOiBEaXNwYXRjaFNvdXJjZVByb3RvY29sIHsKfQpwdWJsaWMgcHJvdG9jb2wgRGlzcGF0Y2hTb3VyY2VUaW1lciA6IERpc3BhdGNoU291cmNlUHJvdG9jb2wgewogICAgQGF2YWlsYWJsZShzd2lmdCwgaW50cm9kdWNlZDogNCkgZnVuYyBzY2hlZHVsZShkZWFkbGluZTogRGlzcGF0Y2hUaW1lLCByZXBlYXRpbmcgaW50ZXJ2YWw6IERpc3BhdGNoVGltZUludGVydmFsID0geCwgbGVld2F5OiBEaXNwYXRjaFRpbWVJbnRlcnZhbCA9IHgpCiAgICBAYXZhaWxhYmxlKHN3aWZ0LCBpbnRyb2R1Y2VkOiA0KSBmdW5jIHNjaGVkdWxlKGRlYWRsaW5lOiBEaXNwYXRjaFRpbWUsIHJlcGVhdGluZyBpbnRlcnZhbDogRG91YmxlLCBsZWV3YXk6IERpc3BhdGNoVGltZUludGVydmFsID0geCkKICAgIEBhdmFpbGFibGUoc3dpZnQsIGludHJvZHVjZWQ6IDQpIGZ1bmMgc2NoZWR1bGUod2FsbERlYWRsaW5lOiBEaXNwYXRjaFdhbGxUaW1lLCByZXBlYXRpbmcgaW50ZXJ2YWw6IERpc3BhdGNoVGltZUludGVydmFsID0geCwgbGVld2F5OiBEaXNwYXRjaFRpbWVJbnRlcnZhbCA9IHgpCiAgICBAYXZhaWxhYmxlKHN3aWZ0LCBpbnRyb2R1Y2VkOiA0KSBmdW5jIHNjaGVkdWxlKHdhbGxEZWFkbGluZTogRGlzcGF0Y2hXYWxsVGltZSwgcmVwZWF0aW5nIGludGVydmFsOiBEb3VibGUsIGxlZXdheTogRGlzcGF0Y2hUaW1lSW50ZXJ2YWwgPSB4KQogICAgZnVuYyBzY2hlZHVsZU9uZXNob3QoZGVhZGxpbmU6IERpc3BhdGNoVGltZSwgbGVld2F5OiBEaXNwYXRjaFRpbWVJbnRlcnZhbCkKICAgIGZ1bmMgc2NoZWR1bGVPbmVzaG90KHdhbGxEZWFkbGluZTogRGlzcGF0Y2hXYWxsVGltZSwgbGVld2F5OiBEaXNwYXRjaFRpbWVJbnRlcnZhbCkKICAgIGZ1bmMgc2NoZWR1bGVSZXBlYXRpbmcoZGVhZGxpbmU6IERpc3BhdGNoVGltZSwgaW50ZXJ2YWw6IERpc3BhdGNoVGltZUludGVydmFsLCBsZWV3YXk6IERpc3BhdGNoVGltZUludGVydmFsKQogICAgZnVuYyBzY2hlZHVsZVJlcGVhdGluZyh3YWxsRGVhZGxpbmU6IERpc3BhdGNoV2FsbFRpbWUsIGludGVydmFsOiBEaXNwYXRjaFRpbWVJbnRlcnZhbCwgbGVld2F5OiBEaXNwYXRjaFRpbWVJbnRlcnZhbCkKfQpwdWJsaWMgcHJvdG9jb2wgRGlzcGF0Y2hTb3VyY2VVc2VyRGF0YUFkZCA6IERpc3BhdGNoU291cmNlUHJvdG9jb2wgewogICAgZnVuYyBhZGQoZGF0YTogVUludCkKfQpwdWJsaWMgcHJvdG9jb2wgRGlzcGF0Y2hTb3VyY2VVc2VyRGF0YU9yIDogRGlzcGF0Y2hTb3VyY2VQcm90b2NvbCB7CiAgICBmdW5jIG9yKGRhdGE6IFVJbnQpCn0KcHVibGljIHByb3RvY29sIERpc3BhdGNoU291cmNlVXNlckRhdGFSZXBsYWNlIDogRGlzcGF0Y2hTb3VyY2VQcm90b2NvbCB7CiAgICBmdW5jIHJlcGxhY2UoZGF0YTogVUludCkKfQpwdWJsaWMgcHJvdG9jb2wgRGlzcGF0Y2hTb3VyY2VXcml0ZSA6IERpc3BhdGNoU291cmNlUHJvdG9jb2wgewp9")!, encoding: String.Encoding.utf8)!
        static let foundation = String(data: Data(base64Encoded: "b3BlbiBjbGFzcyBCbG9ja09wZXJhdGlvbiA6IEFueU9iamVjdCwgQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBPcGVyYXRpb24gewogICAgcHVibGljIGluaXQoYmxvY2s6IEBlc2NhcGluZyAoKSAtPiBWb2lkKSB7fQogICAgb3BlbiB2YXIgZXhlY3V0aW9uQmxvY2tzOiBbKCkgLT4gVm9pZF0geyBnZXQgfQogICAgb3BlbiBmdW5jIGFkZEV4ZWN1dGlvbkJsb2NrKF8gYmxvY2s6IEBlc2NhcGluZyAoKSAtPiBWb2lkKSB7fQp9Cm9wZW4gY2xhc3MgQnVuZGxlIDogQW55T2JqZWN0LCBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wgewogICAgb3BlbiBjbGFzcyB2YXIgYWxsQnVuZGxlczogW0J1bmRsZV0geyBnZXQgfQogICAgb3BlbiBjbGFzcyB2YXIgbWFpbjogQnVuZGxlIHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgZnVuYyBwYXRoKGZvclJlc291cmNlIG5hbWU6IFN0cmluZz8sIG9mVHlwZSBleHQ6IFN0cmluZz8sIGluRGlyZWN0b3J5IGJ1bmRsZVBhdGg6IFN0cmluZykgLT4gU3RyaW5nPyB7fQogICAgb3BlbiBjbGFzcyBmdW5jIHBhdGhzKGZvclJlc291cmNlc09mVHlwZSBleHQ6IFN0cmluZz8sIGluRGlyZWN0b3J5IGJ1bmRsZVBhdGg6IFN0cmluZykgLT4gW1N0cmluZ10ge30KICAgIG9wZW4gY2xhc3MgZnVuYyBwcmVmZXJyZWRMb2NhbGl6YXRpb25zKGZyb20gbG9jYWxpemF0aW9uc0FycmF5OiBbU3RyaW5nXSkgLT4gW1N0cmluZ10ge30KICAgIG9wZW4gY2xhc3MgZnVuYyBwcmVmZXJyZWRMb2NhbGl6YXRpb25zKGZyb20gbG9jYWxpemF0aW9uc0FycmF5OiBbU3RyaW5nXSwgZm9yUHJlZmVyZW5jZXMgcHJlZmVyZW5jZXNBcnJheTogW1N0cmluZ10/KSAtPiBbU3RyaW5nXSB7fQogICAgb3BlbiBjbGFzcyBmdW5jIHVybChmb3JSZXNvdXJjZSBuYW1lOiBTdHJpbmc/LCB3aXRoRXh0ZW5zaW9uIGV4dDogU3RyaW5nPywgc3ViZGlyZWN0b3J5IHN1YnBhdGg6IFN0cmluZz8sIGluIGJ1bmRsZVVSTDogVVJMKSAtPiBVUkw/IHt9CiAgICBvcGVuIGNsYXNzIGZ1bmMgdXJscyhmb3JSZXNvdXJjZXNXaXRoRXh0ZW5zaW9uIGV4dDogU3RyaW5nPywgc3ViZGlyZWN0b3J5IHN1YnBhdGg6IFN0cmluZz8sIGluIGJ1bmRsZVVSTDogTlNVUkwpIC0+IFtOU1VSTF0/IHt9CiAgICBwdWJsaWMgaW5pdChmb3IgYUNsYXNzOiBBbnlDbGFzcykge30KICAgIHB1YmxpYyBpbml0PyhpZGVudGlmaWVyOiBTdHJpbmcpIHt9CiAgICBwdWJsaWMgaW5pdD8ocGF0aDogU3RyaW5nKSB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQ/KHVybDogVVJMKSB7fQogICAgb3BlbiB2YXIgYXBwU3RvcmVSZWNlaXB0VVJMOiBVUkw/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGJ1aWx0SW5QbHVnSW5zUGF0aDogU3RyaW5nPyB7IGdldCB9CiAgICBvcGVuIHZhciBidWlsdEluUGx1Z0luc1VSTDogVVJMPyB7IGdldCB9CiAgICBvcGVuIHZhciBidW5kbGVJZGVudGlmaWVyOiBTdHJpbmc/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGJ1bmRsZVBhdGg6IFN0cmluZyB7IGdldCB9CiAgICBvcGVuIHZhciBidW5kbGVVUkw6IFVSTCB7IGdldCB9CiAgICBvcGVuIHZhciBkZXZlbG9wbWVudExvY2FsaXphdGlvbjogU3RyaW5nPyB7IGdldCB9CiAgICBvcGVuIHZhciBleGVjdXRhYmxlQXJjaGl0ZWN0dXJlczogW05TTnVtYmVyXT8geyBnZXQgfQogICAgb3BlbiB2YXIgZXhlY3V0YWJsZVBhdGg6IFN0cmluZz8geyBnZXQgfQogICAgb3BlbiB2YXIgZXhlY3V0YWJsZVVSTDogVVJMPyB7IGdldCB9CiAgICBvcGVuIHZhciBpbmZvRGljdGlvbmFyeTogW1N0cmluZzogQW55XT8geyBnZXQgfQogICAgb3BlbiB2YXIgaXNMb2FkZWQ6IEJvb2wgeyBnZXQgfQogICAgb3BlbiB2YXIgbG9jYWxpemF0aW9uczogW1N0cmluZ10geyBnZXQgfQogICAgb3BlbiB2YXIgbG9jYWxpemVkSW5mb0RpY3Rpb25hcnk6IFtTdHJpbmc6IEFueV0/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHByZWZlcnJlZExvY2FsaXphdGlvbnM6IFtTdHJpbmddIHsgZ2V0IH0KICAgIG9wZW4gdmFyIHByaW5jaXBhbENsYXNzOiBBbnlDbGFzcz8geyBnZXQgfQogICAgb3BlbiB2YXIgcHJpdmF0ZUZyYW1ld29ya3NQYXRoOiBTdHJpbmc/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHByaXZhdGVGcmFtZXdvcmtzVVJMOiBVUkw/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHJlc291cmNlUGF0aDogU3RyaW5nPyB7IGdldCB9CiAgICBvcGVuIHZhciByZXNvdXJjZVVSTDogVVJMPyB7IGdldCB9CiAgICBvcGVuIHZhciBzaGFyZWRGcmFtZXdvcmtzUGF0aDogU3RyaW5nPyB7IGdldCB9CiAgICBvcGVuIHZhciBzaGFyZWRGcmFtZXdvcmtzVVJMOiBVUkw/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHNoYXJlZFN1cHBvcnRQYXRoOiBTdHJpbmc/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHNoYXJlZFN1cHBvcnRVUkw6IFVSTD8geyBnZXQgfQogICAgb3BlbiBmdW5jIGNsYXNzTmFtZWQoXyBjbGFzc05hbWU6IFN0cmluZykgLT4gQW55Q2xhc3M/IHt9CiAgICBvcGVuIGZ1bmMgbG9hZCgpIC0+IEJvb2wge30KICAgIG9wZW4gZnVuYyBsb2FkQW5kUmV0dXJuRXJyb3IoKSB0aHJvd3Mge30KICAgIG9wZW4gZnVuYyBsb2NhbGl6ZWRTdHJpbmcoZm9yS2V5IGtleTogU3RyaW5nLCB2YWx1ZTogU3RyaW5nPywgdGFibGUgdGFibGVOYW1lOiBTdHJpbmc/KSAtPiBTdHJpbmcge30KICAgIG9wZW4gZnVuYyBvYmplY3QoZm9ySW5mb0RpY3Rpb25hcnlLZXkga2V5OiBTdHJpbmcpIC0+IEFueT8ge30KICAgIG9wZW4gZnVuYyBwYXRoKGZvckF1eGlsaWFyeUV4ZWN1dGFibGUgZXhlY3V0YWJsZU5hbWU6IFN0cmluZykgLT4gU3RyaW5nPyB7fQogICAgb3BlbiBmdW5jIHBhdGgoZm9yUmVzb3VyY2UgbmFtZTogU3RyaW5nPywgb2ZUeXBlIGV4dDogU3RyaW5nPykgLT4gU3RyaW5nPyB7fQogICAgb3BlbiBmdW5jIHBhdGgoZm9yUmVzb3VyY2UgbmFtZTogU3RyaW5nPywgb2ZUeXBlIGV4dDogU3RyaW5nPywgaW5EaXJlY3Rvcnkgc3VicGF0aDogU3RyaW5nPykgLT4gU3RyaW5nPyB7fQogICAgb3BlbiBmdW5jIHBhdGgoZm9yUmVzb3VyY2UgbmFtZTogU3RyaW5nPywgb2ZUeXBlIGV4dDogU3RyaW5nPywgaW5EaXJlY3Rvcnkgc3VicGF0aDogU3RyaW5nPywgZm9yTG9jYWxpemF0aW9uIGxvY2FsaXphdGlvbk5hbWU6IFN0cmluZz8pIC0+IFN0cmluZz8ge30KICAgIG9wZW4gZnVuYyBwYXRocyhmb3JSZXNvdXJjZXNPZlR5cGUgZXh0OiBTdHJpbmc/LCBpbkRpcmVjdG9yeSBzdWJwYXRoOiBTdHJpbmc/KSAtPiBbU3RyaW5nXSB7fQogICAgb3BlbiBmdW5jIHBhdGhzKGZvclJlc291cmNlc09mVHlwZSBleHQ6IFN0cmluZz8sIGluRGlyZWN0b3J5IHN1YnBhdGg6IFN0cmluZz8sIGZvckxvY2FsaXphdGlvbiBsb2NhbGl6YXRpb25OYW1lOiBTdHJpbmc/KSAtPiBbU3RyaW5nXSB7fQogICAgb3BlbiBmdW5jIHByZWZsaWdodCgpIHRocm93cyB7fQogICAgb3BlbiBmdW5jIHVybChmb3JBdXhpbGlhcnlFeGVjdXRhYmxlIGV4ZWN1dGFibGVOYW1lOiBTdHJpbmcpIC0+IFVSTD8ge30KICAgIG9wZW4gZnVuYyB1cmwoZm9yUmVzb3VyY2UgbmFtZTogU3RyaW5nPywgd2l0aEV4dGVuc2lvbiBleHQ6IFN0cmluZz8pIC0+IFVSTD8ge30KICAgIG9wZW4gZnVuYyB1cmwoZm9yUmVzb3VyY2UgbmFtZTogU3RyaW5nPywgd2l0aEV4dGVuc2lvbiBleHQ6IFN0cmluZz8sIHN1YmRpcmVjdG9yeSBzdWJwYXRoOiBTdHJpbmc/KSAtPiBVUkw/IHt9CiAgICBvcGVuIGZ1bmMgdXJsKGZvclJlc291cmNlIG5hbWU6IFN0cmluZz8sIHdpdGhFeHRlbnNpb24gZXh0OiBTdHJpbmc/LCBzdWJkaXJlY3Rvcnkgc3VicGF0aDogU3RyaW5nPywgbG9jYWxpemF0aW9uIGxvY2FsaXphdGlvbk5hbWU6IFN0cmluZz8pIC0+IFVSTD8ge30KICAgIG9wZW4gZnVuYyB1cmxzKGZvclJlc291cmNlc1dpdGhFeHRlbnNpb24gZXh0OiBTdHJpbmc/LCBzdWJkaXJlY3Rvcnkgc3VicGF0aDogU3RyaW5nPykgLT4gW05TVVJMXT8ge30KICAgIG9wZW4gZnVuYyB1cmxzKGZvclJlc291cmNlc1dpdGhFeHRlbnNpb24gZXh0OiBTdHJpbmc/LCBzdWJkaXJlY3Rvcnkgc3VicGF0aDogU3RyaW5nPywgbG9jYWxpemF0aW9uIGxvY2FsaXphdGlvbk5hbWU6IFN0cmluZz8pIC0+IFtOU1VSTF0/IHt9Cn0Kb3BlbiBjbGFzcyBCeXRlQ291bnRGb3JtYXR0ZXIgOiBBbnlPYmplY3QsIEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEZvcm1hdHRlciwgSGFzaGFibGUsIE5TQ29kaW5nLCBOU0NvcHlpbmcsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sIHsKICAgIG9wZW4gY2xhc3MgZnVuYyBzdHJpbmcoZnJvbUJ5dGVDb3VudCBieXRlQ291bnQ6IEludDY0LCBjb3VudFN0eWxlOiBCeXRlQ291bnRGb3JtYXR0ZXIuQ291bnRTdHlsZSkgLT4gU3RyaW5nIHt9CiAgICBvcGVuIHZhciBhbGxvd2VkVW5pdHM6IFVuaXRzIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBhbGxvd3NOb25udW1lcmljRm9ybWF0dGluZzogQm9vbCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgY291bnRTdHlsZTogQ291bnRTdHlsZSB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgZm9ybWF0dGluZ0NvbnRleHQ6IENvbnRleHQgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGluY2x1ZGVzQWN0dWFsQnl0ZUNvdW50OiBCb29sIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBpbmNsdWRlc0NvdW50OiBCb29sIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBpbmNsdWRlc1VuaXQ6IEJvb2wgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGlzQWRhcHRpdmU6IEJvb2wgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHplcm9QYWRzRnJhY3Rpb25EaWdpdHM6IEJvb2wgeyBnZXQgc2V0IH0KICAgIG9wZW4gZnVuYyBzdHJpbmcoZnJvbUJ5dGVDb3VudCBieXRlQ291bnQ6IEludDY0KSAtPiBTdHJpbmcge30KfQpvcGVuIGNsYXNzIENhY2hlZFVSTFJlc3BvbnNlIDogQW55T2JqZWN0LCBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNDb2RpbmcsIE5TQ29weWluZywgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wsIE5TU2VjdXJlQ29kaW5nIHsKICAgIHB1YmxpYyBpbml0KHJlc3BvbnNlOiBVUkxSZXNwb25zZSwgZGF0YTogRGF0YSkge30KICAgIHB1YmxpYyBpbml0KHJlc3BvbnNlOiBVUkxSZXNwb25zZSwgZGF0YTogRGF0YSwgdXNlckluZm86IFtBbnlIYXNoYWJsZTogQW55XT8gPSB4LCBzdG9yYWdlUG9saWN5OiBVUkxDYWNoZS5TdG9yYWdlUG9saWN5KSB7fQogICAgb3BlbiB2YXIgZGF0YTogRGF0YSB7IGdldCB9CiAgICBvcGVuIHZhciByZXNwb25zZTogVVJMUmVzcG9uc2UgeyBnZXQgfQogICAgb3BlbiB2YXIgc3RvcmFnZVBvbGljeTogVVJMQ2FjaGUuU3RvcmFnZVBvbGljeSB7IGdldCB9CiAgICBvcGVuIHZhciB1c2VySW5mbzogW0FueUhhc2hhYmxlOiBBbnldPyB7IGdldCB9Cn0Kb3BlbiBjbGFzcyBEYXRlQ29tcG9uZW50c0Zvcm1hdHRlciA6IEFueU9iamVjdCwgQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgRm9ybWF0dGVyLCBIYXNoYWJsZSwgTlNDb2RpbmcsIE5TQ29weWluZywgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wgewogICAgb3BlbiBjbGFzcyBmdW5jIGxvY2FsaXplZFN0cmluZyhmcm9tIGNvbXBvbmVudHM6IERhdGVDb21wb25lbnRzLCB1bml0c1N0eWxlOiBVbml0c1N0eWxlKSAtPiBTdHJpbmc/IHt9CiAgICBvcGVuIHZhciBhbGxvd2VkVW5pdHM6IE5TQ2FsZW5kYXIuVW5pdCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgYWxsb3dzRnJhY3Rpb25hbFVuaXRzOiBCb29sIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBjYWxlbmRhcjogQ2FsZW5kYXI/IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBjb2xsYXBzZXNMYXJnZXN0VW5pdDogQm9vbCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgZm9ybWF0dGluZ0NvbnRleHQ6IENvbnRleHQgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGluY2x1ZGVzQXBwcm94aW1hdGlvblBocmFzZTogQm9vbCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgaW5jbHVkZXNUaW1lUmVtYWluaW5nUGhyYXNlOiBCb29sIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBtYXhpbXVtVW5pdENvdW50OiBJbnQgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHVuaXRzU3R5bGU6IFVuaXRzU3R5bGUgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHplcm9Gb3JtYXR0aW5nQmVoYXZpb3I6IFplcm9Gb3JtYXR0aW5nQmVoYXZpb3IgeyBnZXQgc2V0IH0KICAgIG9wZW4gZnVuYyBzdHJpbmcoZnJvbSBjb21wb25lbnRzOiBEYXRlQ29tcG9uZW50cykgLT4gU3RyaW5nPyB7fQogICAgb3BlbiBmdW5jIHN0cmluZyhmcm9tIHN0YXJ0RGF0ZTogRGF0ZSwgdG8gZW5kRGF0ZTogRGF0ZSkgLT4gU3RyaW5nPyB7fQp9Cm9wZW4gY2xhc3MgRGF0ZUZvcm1hdHRlciA6IEFueU9iamVjdCwgQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgRm9ybWF0dGVyLCBIYXNoYWJsZSwgTlNDb2RpbmcsIE5TQ29weWluZywgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wgewogICAgb3BlbiBjbGFzcyBmdW5jIGRhdGVGb3JtYXQoZnJvbVRlbXBsYXRlIHRtcGxhdGU6IFN0cmluZywgb3B0aW9ucyBvcHRzOiBJbnQsIGxvY2FsZTogTG9jYWxlPykgLT4gU3RyaW5nPyB7fQogICAgb3BlbiBjbGFzcyBmdW5jIGxvY2FsaXplZFN0cmluZyhmcm9tIGRhdGU6IERhdGUsIGRhdGVTdHlsZSBkc3R5bGU6IFN0eWxlLCB0aW1lU3R5bGUgdHN0eWxlOiBTdHlsZSkgLT4gU3RyaW5nIHt9CiAgICBvcGVuIHZhciBhbVN5bWJvbDogU3RyaW5nISB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgY2FsZW5kYXI6IENhbGVuZGFyISB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgZGF0ZUZvcm1hdDogU3RyaW5nISB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgZGF0ZVN0eWxlOiBTdHlsZSB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgZGVmYXVsdERhdGU6IERhdGU/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGRvZXNSZWxhdGl2ZURhdGVGb3JtYXR0aW5nIHsgZ2V0IH0KICAgIG9wZW4gdmFyIGVyYVN5bWJvbHM6IFtTdHJpbmddISB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgZm9ybWF0dGluZ0NvbnRleHQ6IENvbnRleHQgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGdlbmVyYXRlc0NhbGVuZGFyRGF0ZXMgeyBnZXQgfQogICAgb3BlbiB2YXIgZ3JlZ29yaWFuU3RhcnREYXRlOiBEYXRlPyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgaXNMZW5pZW50IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGxvY2FsZTogTG9jYWxlISB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgbG9uZ0VyYVN5bWJvbHM6IFtTdHJpbmddISB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgbW9udGhTeW1ib2xzOiBbU3RyaW5nXSEgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHBtU3ltYm9sOiBTdHJpbmchIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBxdWFydGVyU3ltYm9sczogW1N0cmluZ10hIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBzaG9ydE1vbnRoU3ltYm9sczogW1N0cmluZ10hIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBzaG9ydFF1YXJ0ZXJTeW1ib2xzOiBbU3RyaW5nXSEgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHNob3J0U3RhbmRhbG9uZU1vbnRoU3ltYm9sczogW1N0cmluZ10hIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBzaG9ydFN0YW5kYWxvbmVRdWFydGVyU3ltYm9sczogW1N0cmluZ10hIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBzaG9ydFN0YW5kYWxvbmVXZWVrZGF5U3ltYm9sczogW1N0cmluZ10hIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBzaG9ydFdlZWtkYXlTeW1ib2xzOiBbU3RyaW5nXSEgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHN0YW5kYWxvbmVNb250aFN5bWJvbHM6IFtTdHJpbmddISB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgc3RhbmRhbG9uZVF1YXJ0ZXJTeW1ib2xzOiBbU3RyaW5nXSEgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHN0YW5kYWxvbmVXZWVrZGF5U3ltYm9sczogW1N0cmluZ10hIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciB0aW1lU3R5bGU6IFN0eWxlIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciB0aW1lWm9uZTogVGltZVpvbmUhIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciB0d29EaWdpdFN0YXJ0RGF0ZTogRGF0ZT8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHZlcnlTaG9ydE1vbnRoU3ltYm9sczogW1N0cmluZ10hIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciB2ZXJ5U2hvcnRTdGFuZGFsb25lTW9udGhTeW1ib2xzOiBbU3RyaW5nXSEgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHZlcnlTaG9ydFN0YW5kYWxvbmVXZWVrZGF5U3ltYm9sczogW1N0cmluZ10hIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciB2ZXJ5U2hvcnRXZWVrZGF5U3ltYm9sczogW1N0cmluZ10hIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciB3ZWVrZGF5U3ltYm9sczogW1N0cmluZ10hIHsgZ2V0IHNldCB9CiAgICBvcGVuIGZ1bmMgZGF0ZShmcm9tIHN0cmluZzogU3RyaW5nKSAtPiBEYXRlPyB7fQogICAgb3BlbiBmdW5jIG9iamVjdFZhbHVlKF8gc3RyaW5nOiBTdHJpbmcsIHJhbmdlIHJhbmdlcDogVW5zYWZlTXV0YWJsZVBvaW50ZXI8TlNSYW5nZT4pIHRocm93cyAtPiBBbnlPYmplY3Q/IHt9CiAgICBvcGVuIGZ1bmMgc2V0TG9jYWxpemVkRGF0ZUZvcm1hdEZyb21UZW1wbGF0ZShfIGRhdGVGb3JtYXRUZW1wbGF0ZTogU3RyaW5nKSB7fQogICAgb3BlbiBmdW5jIHN0cmluZyhmcm9tIGRhdGU6IERhdGUpIC0+IFN0cmluZyB7fQp9Cm9wZW4gY2xhc3MgRGF0ZUludGVydmFsRm9ybWF0dGVyIDogQW55T2JqZWN0LCBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBGb3JtYXR0ZXIsIEhhc2hhYmxlLCBOU0NvZGluZywgTlNDb3B5aW5nLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCB7CiAgICBvcGVuIHZhciBjYWxlbmRhcjogQ2FsZW5kYXIhIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBkYXRlU3R5bGU6IFN0eWxlIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBkYXRlVGVtcGxhdGU6IFN0cmluZyEgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGxvY2FsZTogTG9jYWxlISB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgdGltZVN0eWxlOiBTdHlsZSB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgdGltZVpvbmU6IFRpbWVab25lISB7IGdldCBzZXQgfQogICAgb3BlbiBmdW5jIHN0cmluZyhmcm9tIGRhdGVJbnRlcnZhbDogRGF0ZUludGVydmFsKSAtPiBTdHJpbmc/IHt9CiAgICBvcGVuIGZ1bmMgc3RyaW5nKGZyb20gZnJvbURhdGU6IERhdGUsIHRvIHRvRGF0ZTogRGF0ZSkgLT4gU3RyaW5nIHt9Cn0Kb3BlbiBjbGFzcyBEaW1lbnNpb24gOiBBbnlPYmplY3QsIEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU0NvZGluZywgTlNDb3B5aW5nLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCwgTlNTZWN1cmVDb2RpbmcsIFVuaXQgewogICAgb3BlbiBjbGFzcyBmdW5jIGJhc2VVbml0KCkgLT4gU2VsZiB7fQogICAgcHVibGljIHJlcXVpcmVkIGluaXQoc3ltYm9sOiBTdHJpbmcsIGNvbnZlcnRlcjogVW5pdENvbnZlcnRlcikge30KICAgIG9wZW4gdmFyIGNvbnZlcnRlcjogVW5pdENvbnZlcnRlciB7IGdldCB9Cn0Kb3BlbiBjbGFzcyBFbmVyZ3lGb3JtYXR0ZXIgOiBBbnlPYmplY3QsIEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEZvcm1hdHRlciwgSGFzaGFibGUsIE5TQ29kaW5nLCBOU0NvcHlpbmcsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sIHsKICAgIG9wZW4gdmFyIGlzRm9yRm9vZEVuZXJneVVzZTogQm9vbCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgbnVtYmVyRm9ybWF0dGVyOiBOdW1iZXJGb3JtYXR0ZXIhIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciB1bml0U3R5bGU6IFVuaXRTdHlsZSB7IGdldCBzZXQgfQogICAgb3BlbiBmdW5jIHN0cmluZyhmcm9tSm91bGVzIG51bWJlckluSm91bGVzOiBEb3VibGUpIC0+IFN0cmluZyB7fQogICAgb3BlbiBmdW5jIHN0cmluZyhmcm9tVmFsdWUgdmFsdWU6IERvdWJsZSwgdW5pdDogVW5pdCkgLT4gU3RyaW5nIHt9CiAgICBvcGVuIGZ1bmMgdW5pdFN0cmluZyhmcm9tSm91bGVzIG51bWJlckluSm91bGVzOiBEb3VibGUsIHVzZWRVbml0IHVuaXRwOiBVbnNhZmVNdXRhYmxlUG9pbnRlcjxVbml0Pj8pIC0+IFN0cmluZyB7fQogICAgb3BlbiBmdW5jIHVuaXRTdHJpbmcoZnJvbVZhbHVlIHZhbHVlOiBEb3VibGUsIHVuaXQ6IFVuaXQpIC0+IFN0cmluZyB7fQp9Cm9wZW4gY2xhc3MgRmlsZUhhbmRsZSA6IEFueU9iamVjdCwgQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TQ29kaW5nLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCwgTlNTZWN1cmVDb2RpbmcgewogICAgb3BlbiBjbGFzcyB2YXIgbnVsbERldmljZTogRmlsZUhhbmRsZSB7IGdldCB9CiAgICBwdWJsaWMgc3RhdGljIHZhciByZWFkQ29tcGxldGlvbk5vdGlmaWNhdGlvbiB7IGdldCB9CiAgICBvcGVuIGNsYXNzIHZhciBzdGFuZGFyZEVycm9yOiBGaWxlSGFuZGxlIHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgdmFyIHN0YW5kYXJkSW5wdXQ6IEZpbGVIYW5kbGUgeyBnZXQgfQogICAgb3BlbiBjbGFzcyB2YXIgc3RhbmRhcmRPdXRwdXQ6IEZpbGVIYW5kbGUgeyBnZXQgfQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQoZmlsZURlc2NyaXB0b3IgZmQ6IEludDMyKSB7fQogICAgcHVibGljIGluaXQoZmlsZURlc2NyaXB0b3IgZmQ6IEludDMyLCBjbG9zZU9uRGVhbGxvYyBjbG9zZW9wdDogQm9vbCkge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0Pyhmb3JSZWFkaW5nQXRQYXRoIHBhdGg6IFN0cmluZykge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KGZvclJlYWRpbmdGcm9tIHVybDogVVJMKSB0aHJvd3Mge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KGZvclVwZGF0aW5nIHVybDogVVJMKSB0aHJvd3Mge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0Pyhmb3JVcGRhdGluZ0F0UGF0aCBwYXRoOiBTdHJpbmcpIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdD8oZm9yV3JpdGluZ0F0UGF0aCBwYXRoOiBTdHJpbmcpIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdChmb3JXcml0aW5nVG8gdXJsOiBVUkwpIHRocm93cyB7fQogICAgb3BlbiB2YXIgYXZhaWxhYmxlRGF0YTogRGF0YSB7IGdldCB9CiAgICBvcGVuIHZhciBmaWxlRGVzY3JpcHRvcjogSW50MzIgeyBnZXQgfQogICAgb3BlbiB2YXIgb2Zmc2V0SW5GaWxlOiBVSW50NjQgeyBnZXQgfQogICAgb3BlbiB2YXIgcmVhZGFiaWxpdHlIYW5kbGVyOiAoKEZpbGVIYW5kbGUpIC0+IFZvaWQpPyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgd3JpdGVhYmlsaXR5SGFuZGxlcjogKChGaWxlSGFuZGxlKSAtPiBWb2lkKT8geyBnZXQgc2V0IH0KICAgIG9wZW4gZnVuYyBhY2NlcHRDb25uZWN0aW9uSW5CYWNrZ3JvdW5kQW5kTm90aWZ5KCkge30KICAgIG9wZW4gZnVuYyBhY2NlcHRDb25uZWN0aW9uSW5CYWNrZ3JvdW5kQW5kTm90aWZ5KGZvck1vZGVzIG1vZGVzOiBbUnVuTG9vcC5Nb2RlXT8pIHt9CiAgICBvcGVuIGZ1bmMgY2xvc2VGaWxlKCkge30KICAgIG9wZW4gZnVuYyByZWFkRGF0YShvZkxlbmd0aCBsZW5ndGg6IEludCkgLT4gRGF0YSB7fQogICAgb3BlbiBmdW5jIHJlYWREYXRhVG9FbmRPZkZpbGUoKSAtPiBEYXRhIHt9CiAgICBvcGVuIGZ1bmMgcmVhZEluQmFja2dyb3VuZEFuZE5vdGlmeSgpIHt9CiAgICBvcGVuIGZ1bmMgcmVhZEluQmFja2dyb3VuZEFuZE5vdGlmeShmb3JNb2RlcyBtb2RlczogW1J1bkxvb3AuTW9kZV0/KSB7fQogICAgb3BlbiBmdW5jIHJlYWRUb0VuZE9mRmlsZUluQmFja2dyb3VuZEFuZE5vdGlmeSgpIHt9CiAgICBvcGVuIGZ1bmMgcmVhZFRvRW5kT2ZGaWxlSW5CYWNrZ3JvdW5kQW5kTm90aWZ5KGZvck1vZGVzIG1vZGVzOiBbUnVuTG9vcC5Nb2RlXT8pIHt9CiAgICBvcGVuIGZ1bmMgc2Vlayh0b0ZpbGVPZmZzZXQgb2Zmc2V0OiBVSW50NjQpIHt9CiAgICBAZGlzY2FyZGFibGVSZXN1bHQgb3BlbiBmdW5jIHNlZWtUb0VuZE9mRmlsZSgpIC0+IFVJbnQ2NCB7fQogICAgb3BlbiBmdW5jIHN5bmNocm9uaXplRmlsZSgpIHt9CiAgICBvcGVuIGZ1bmMgdHJ1bmNhdGVGaWxlKGF0T2Zmc2V0IG9mZnNldDogVUludDY0KSB7fQogICAgb3BlbiBmdW5jIHdhaXRGb3JEYXRhSW5CYWNrZ3JvdW5kQW5kTm90aWZ5KCkge30KICAgIG9wZW4gZnVuYyB3YWl0Rm9yRGF0YUluQmFja2dyb3VuZEFuZE5vdGlmeShmb3JNb2RlcyBtb2RlczogW1J1bkxvb3AuTW9kZV0/KSB7fQogICAgb3BlbiBmdW5jIHdyaXRlKF8gZGF0YTogRGF0YSkge30KfQpvcGVuIGNsYXNzIEZpbGVNYW5hZ2VyIDogQW55T2JqZWN0LCBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wgewpvcGVuIGNsYXNzIERpcmVjdG9yeUVudW1lcmF0b3IgOiBBbnlPYmplY3QsIEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU0VudW1lcmF0b3IsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBTZXF1ZW5jZSB7CiAgICBvcGVuIHZhciBkaXJlY3RvcnlBdHRyaWJ1dGVzOiBbRmlsZUF0dHJpYnV0ZUtleTogQW55XT8geyBnZXQgfQogICAgb3BlbiB2YXIgZmlsZUF0dHJpYnV0ZXM6IFtGaWxlQXR0cmlidXRlS2V5OiBBbnldPyB7IGdldCB9CiAgICBvcGVuIHZhciBsZXZlbDogSW50IHsgZ2V0IH0KICAgIG9wZW4gZnVuYyBza2lwRGVzY2VuZGFudHMoKSB7fQp9CiAgICBvcGVuIGNsYXNzIHZhciBkZWZhdWx0OiBGaWxlTWFuYWdlciB7IGdldCB9CiAgICBvcGVuIHZhciBjdXJyZW50RGlyZWN0b3J5UGF0aDogU3RyaW5nIHsgZ2V0IH0KICAgIG9wZW4gd2VhayB2YXIgZGVsZWdhdGU6IEZpbGVNYW5hZ2VyRGVsZWdhdGU/IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBob21lRGlyZWN0b3J5Rm9yQ3VycmVudFVzZXI6IFVSTCB7IGdldCB9CiAgICBvcGVuIHZhciB0ZW1wb3JhcnlEaXJlY3Rvcnk6IFVSTCB7IGdldCB9CiNpZiAhKG9zKEFuZHJvaWQpKQogICAgb3BlbiBmdW5jIGF0dHJpYnV0ZXNPZkZpbGVTeXN0ZW0oZm9yUGF0aCBwYXRoOiBTdHJpbmcpIHRocm93cyAtPiBbRmlsZUF0dHJpYnV0ZUtleTogQW55XSB7fQojZW5kaWYKICAgIG9wZW4gZnVuYyBhdHRyaWJ1dGVzT2ZJdGVtKGF0UGF0aCBwYXRoOiBTdHJpbmcpIHRocm93cyAtPiBbRmlsZUF0dHJpYnV0ZUtleTogQW55XSB7fQogICAgQGRpc2NhcmRhYmxlUmVzdWx0IG9wZW4gZnVuYyBjaGFuZ2VDdXJyZW50RGlyZWN0b3J5UGF0aChfIHBhdGg6IFN0cmluZykgLT4gQm9vbCB7fQogICAgb3BlbiBmdW5jIGNvbXBvbmVudHNUb0Rpc3BsYXkoZm9yUGF0aCBwYXRoOiBTdHJpbmcpIC0+IFtTdHJpbmddPyB7fQogICAgb3BlbiBmdW5jIGNvbnRlbnRzKGF0UGF0aCBwYXRoOiBTdHJpbmcpIC0+IERhdGE/IHt9CiAgICBvcGVuIGZ1bmMgY29udGVudHNFcXVhbChhdFBhdGggcGF0aDE6IFN0cmluZywgYW5kUGF0aCBwYXRoMjogU3RyaW5nKSAtPiBCb29sIHt9CiAgICBvcGVuIGZ1bmMgY29udGVudHNPZkRpcmVjdG9yeShhdCB1cmw6IFVSTCwgaW5jbHVkaW5nUHJvcGVydGllc0ZvcktleXMga2V5czogW1VSTFJlc291cmNlS2V5XT8sIG9wdGlvbnMgbWFzazogRGlyZWN0b3J5RW51bWVyYXRpb25PcHRpb25zID0geCkgdGhyb3dzIC0+IFtVUkxdIHt9CiAgICBvcGVuIGZ1bmMgY29udGVudHNPZkRpcmVjdG9yeShhdFBhdGggcGF0aDogU3RyaW5nKSB0aHJvd3MgLT4gW1N0cmluZ10ge30KICAgIG9wZW4gZnVuYyBjb3B5SXRlbShhdCBzcmNVUkw6IFVSTCwgdG8gZHN0VVJMOiBVUkwpIHRocm93cyB7fQogICAgb3BlbiBmdW5jIGNvcHlJdGVtKGF0UGF0aCBzcmNQYXRoOiBTdHJpbmcsIHRvUGF0aCBkc3RQYXRoOiBTdHJpbmcpIHRocm93cyB7fQogICAgb3BlbiBmdW5jIGNyZWF0ZURpcmVjdG9yeShhdCB1cmw6IFVSTCwgd2l0aEludGVybWVkaWF0ZURpcmVjdG9yaWVzIGNyZWF0ZUludGVybWVkaWF0ZXM6IEJvb2wsIGF0dHJpYnV0ZXM6IFtGaWxlQXR0cmlidXRlS2V5OiBBbnldPyA9IHgpIHRocm93cyB7fQogICAgb3BlbiBmdW5jIGNyZWF0ZURpcmVjdG9yeShhdFBhdGggcGF0aDogU3RyaW5nLCB3aXRoSW50ZXJtZWRpYXRlRGlyZWN0b3JpZXMgY3JlYXRlSW50ZXJtZWRpYXRlczogQm9vbCwgYXR0cmlidXRlczogW0ZpbGVBdHRyaWJ1dGVLZXk6IEFueV0/ID0geCkgdGhyb3dzIHt9CiAgICBAZGlzY2FyZGFibGVSZXN1bHQgb3BlbiBmdW5jIGNyZWF0ZUZpbGUoYXRQYXRoIHBhdGg6IFN0cmluZywgY29udGVudHMgZGF0YTogRGF0YT8sIGF0dHJpYnV0ZXMgYXR0cjogW0ZpbGVBdHRyaWJ1dGVLZXk6IEFueV0/ID0geCkgLT4gQm9vbCB7fQogICAgb3BlbiBmdW5jIGNyZWF0ZVN5bWJvbGljTGluayhhdCB1cmw6IFVSTCwgd2l0aERlc3RpbmF0aW9uVVJMIGRlc3RVUkw6IFVSTCkgdGhyb3dzIHt9CiAgICBvcGVuIGZ1bmMgY3JlYXRlU3ltYm9saWNMaW5rKGF0UGF0aCBwYXRoOiBTdHJpbmcsIHdpdGhEZXN0aW5hdGlvblBhdGggZGVzdFBhdGg6IFN0cmluZykgdGhyb3dzIHt9CiAgICBvcGVuIGZ1bmMgZGVzdGluYXRpb25PZlN5bWJvbGljTGluayhhdFBhdGggcGF0aDogU3RyaW5nKSB0aHJvd3MgLT4gU3RyaW5nIHt9CiAgICBvcGVuIGZ1bmMgZGlzcGxheU5hbWUoYXRQYXRoIHBhdGg6IFN0cmluZykgLT4gU3RyaW5nIHt9CiAgICBvcGVuIGZ1bmMgZW51bWVyYXRvcihhdCB1cmw6IFVSTCwgaW5jbHVkaW5nUHJvcGVydGllc0ZvcktleXMga2V5czogW1VSTFJlc291cmNlS2V5XT8sIG9wdGlvbnMgbWFzazogRGlyZWN0b3J5RW51bWVyYXRpb25PcHRpb25zID0geCwgZXJyb3JIYW5kbGVyIGhhbmRsZXI6ICgoVVJMLCBFcnJvcikgLT4gQm9vbCk/ID0geCkgLT4gRGlyZWN0b3J5RW51bWVyYXRvcj8ge30KICAgIG9wZW4gZnVuYyBlbnVtZXJhdG9yKGF0UGF0aCBwYXRoOiBTdHJpbmcpIC0+IERpcmVjdG9yeUVudW1lcmF0b3I/IHt9CiAgICBvcGVuIGZ1bmMgZmlsZUV4aXN0cyhhdFBhdGggcGF0aDogU3RyaW5nKSAtPiBCb29sIHt9CiAgICBvcGVuIGZ1bmMgZmlsZUV4aXN0cyhhdFBhdGggcGF0aDogU3RyaW5nLCBpc0RpcmVjdG9yeTogVW5zYWZlTXV0YWJsZVBvaW50ZXI8T2JqQ0Jvb2w+PykgLT4gQm9vbCB7fQogICAgb3BlbiBmdW5jIGZpbGVTeXN0ZW1SZXByZXNlbnRhdGlvbih3aXRoUGF0aCBwYXRoOiBTdHJpbmcpIC0+IFVuc2FmZVBvaW50ZXI8SW50OD4ge30KICAgIG9wZW4gZnVuYyBnZXRSZWxhdGlvbnNoaXAoXyBvdXRSZWxhdGlvbnNoaXA6IFVuc2FmZU11dGFibGVQb2ludGVyPFVSTFJlbGF0aW9uc2hpcD4sIG9mIGRpcmVjdG9yeTogU2VhcmNoUGF0aERpcmVjdG9yeSwgaW4gZG9tYWluTWFzazogU2VhcmNoUGF0aERvbWFpbk1hc2ssIHRvSXRlbUF0IHVybDogVVJMKSB0aHJvd3Mge30KICAgIG9wZW4gZnVuYyBnZXRSZWxhdGlvbnNoaXAoXyBvdXRSZWxhdGlvbnNoaXA6IFVuc2FmZU11dGFibGVQb2ludGVyPFVSTFJlbGF0aW9uc2hpcD4sIG9mRGlyZWN0b3J5QXQgZGlyZWN0b3J5VVJMOiBVUkwsIHRvSXRlbUF0IG90aGVyVVJMOiBVUkwpIHRocm93cyB7fQogICAgb3BlbiBmdW5jIGhvbWVEaXJlY3RvcnkoZm9yVXNlciB1c2VyTmFtZTogU3RyaW5nKSAtPiBVUkw/IHt9CiAgICBvcGVuIGZ1bmMgaXNEZWxldGFibGVGaWxlKGF0UGF0aCBwYXRoOiBTdHJpbmcpIC0+IEJvb2wge30KICAgIG9wZW4gZnVuYyBpc0V4ZWN1dGFibGVGaWxlKGF0UGF0aCBwYXRoOiBTdHJpbmcpIC0+IEJvb2wge30KICAgIG9wZW4gZnVuYyBpc1JlYWRhYmxlRmlsZShhdFBhdGggcGF0aDogU3RyaW5nKSAtPiBCb29sIHt9CiAgICBvcGVuIGZ1bmMgaXNXcml0YWJsZUZpbGUoYXRQYXRoIHBhdGg6IFN0cmluZykgLT4gQm9vbCB7fQogICAgb3BlbiBmdW5jIGxpbmtJdGVtKGF0IHNyY1VSTDogVVJMLCB0byBkc3RVUkw6IFVSTCkgdGhyb3dzIHt9CiAgICBvcGVuIGZ1bmMgbGlua0l0ZW0oYXRQYXRoIHNyY1BhdGg6IFN0cmluZywgdG9QYXRoIGRzdFBhdGg6IFN0cmluZykgdGhyb3dzIHt9CiAgICBvcGVuIGZ1bmMgbW91bnRlZFZvbHVtZVVSTHMoaW5jbHVkaW5nUmVzb3VyY2VWYWx1ZXNGb3JLZXlzIHByb3BlcnR5S2V5czogW1VSTFJlc291cmNlS2V5XT8sIG9wdGlvbnM6IFZvbHVtZUVudW1lcmF0aW9uT3B0aW9ucyA9IHgpIC0+IFtVUkxdPyB7fQogICAgb3BlbiBmdW5jIG1vdmVJdGVtKGF0IHNyY1VSTDogVVJMLCB0byBkc3RVUkw6IFVSTCkgdGhyb3dzIHt9CiAgICBvcGVuIGZ1bmMgbW92ZUl0ZW0oYXRQYXRoIHNyY1BhdGg6IFN0cmluZywgdG9QYXRoIGRzdFBhdGg6IFN0cmluZykgdGhyb3dzIHt9CiAgICBvcGVuIGZ1bmMgcmVtb3ZlSXRlbShhdCB1cmw6IFVSTCkgdGhyb3dzIHt9CiAgICBvcGVuIGZ1bmMgcmVtb3ZlSXRlbShhdFBhdGggcGF0aDogU3RyaW5nKSB0aHJvd3Mge30KICAgIG9wZW4gZnVuYyByZXBsYWNlSXRlbShhdCBvcmlnaW5hbEl0ZW1VUkw6IFVSTCwgd2l0aEl0ZW1BdCBuZXdJdGVtVVJMOiBVUkwsIGJhY2t1cEl0ZW1OYW1lOiBTdHJpbmc/LCBvcHRpb25zOiBJdGVtUmVwbGFjZW1lbnRPcHRpb25zID0geCkgdGhyb3dzIHt9CiAgICBwdWJsaWMgZnVuYyByZXBsYWNlSXRlbUF0KF8gb3JpZ2luYWxJdGVtVVJMOiBVUkwsIHdpdGhJdGVtQXQgbmV3SXRlbVVSTDogVVJMLCBiYWNrdXBJdGVtTmFtZTogU3RyaW5nPyA9IHgsIG9wdGlvbnM6IEl0ZW1SZXBsYWNlbWVudE9wdGlvbnMgPSB4KSB0aHJvd3MgLT4gTlNVUkw/IHt9CiAgICBvcGVuIGZ1bmMgc2V0QXR0cmlidXRlcyhfIGF0dHJpYnV0ZXM6IFtGaWxlQXR0cmlidXRlS2V5OiBBbnldLCBvZkl0ZW1BdFBhdGggcGF0aDogU3RyaW5nKSB0aHJvd3Mge30KICAgIG9wZW4gZnVuYyBzdHJpbmcod2l0aEZpbGVTeXN0ZW1SZXByZXNlbnRhdGlvbiBzdHI6IFVuc2FmZVBvaW50ZXI8SW50OD4sIGxlbmd0aCBsZW46IEludCkgLT4gU3RyaW5nIHt9CiAgICBvcGVuIGZ1bmMgc3VicGF0aHMoYXRQYXRoIHBhdGg6IFN0cmluZykgLT4gW1N0cmluZ10/IHt9CiAgICBvcGVuIGZ1bmMgc3VicGF0aHNPZkRpcmVjdG9yeShhdFBhdGggcGF0aDogU3RyaW5nKSB0aHJvd3MgLT4gW1N0cmluZ10ge30KICAgIG9wZW4gZnVuYyB1cmwoZm9yIGRpcmVjdG9yeTogU2VhcmNoUGF0aERpcmVjdG9yeSwgaW4gZG9tYWluOiBTZWFyY2hQYXRoRG9tYWluTWFzaywgYXBwcm9wcmlhdGVGb3IgdXJsOiBVUkw/LCBjcmVhdGUgc2hvdWxkQ3JlYXRlOiBCb29sKSB0aHJvd3MgLT4gVVJMIHt9CiNpZiAhKG9zKFdpbmRvd3MpICkKICAgIG9wZW4gZnVuYyB1cmxzKGZvciBkaXJlY3Rvcnk6IFNlYXJjaFBhdGhEaXJlY3RvcnksIGluIGRvbWFpbk1hc2s6IFNlYXJjaFBhdGhEb21haW5NYXNrKSAtPiBbVVJMXSB7fQojZW5kaWYKfQpvcGVuIGNsYXNzIEZvcm1hdHRlciA6IEFueU9iamVjdCwgQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TQ29kaW5nLCBOU0NvcHlpbmcsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sIHsKICAgIG9wZW4gZnVuYyBlZGl0aW5nU3RyaW5nKGZvciBvYmo6IEFueSkgLT4gU3RyaW5nPyB7fQogICAgb3BlbiBmdW5jIG9iamVjdFZhbHVlKF8gc3RyaW5nOiBTdHJpbmcpIHRocm93cyAtPiBBbnk/IHt9CiAgICBvcGVuIGZ1bmMgc3RyaW5nKGZvciBvYmo6IEFueSkgLT4gU3RyaW5nPyB7fQp9Cm9wZW4gY2xhc3MgSFRUUENvb2tpZSA6IEFueU9iamVjdCwgQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sIHsKICAgIG9wZW4gY2xhc3MgZnVuYyBjb29raWVzKHdpdGhSZXNwb25zZUhlYWRlckZpZWxkcyBoZWFkZXJGaWVsZHM6IFtTdHJpbmc6IFN0cmluZ10sIGZvciBVUkw6IFVSTCkgLT4gW0hUVFBDb29raWVdIHt9CiAgICBvcGVuIGNsYXNzIGZ1bmMgcmVxdWVzdEhlYWRlckZpZWxkcyh3aXRoIGNvb2tpZXM6IFtIVFRQQ29va2llXSkgLT4gW1N0cmluZzogU3RyaW5nXSB7fQogICAgcHVibGljIGluaXQ/KHByb3BlcnRpZXM6IFtIVFRQQ29va2llUHJvcGVydHlLZXk6IEFueV0pIHt9CiAgICBvcGVuIHZhciBjb21tZW50OiBTdHJpbmc/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGNvbW1lbnRVUkw6IFVSTD8geyBnZXQgfQogICAgb3BlbiB2YXIgZG9tYWluOiBTdHJpbmcgeyBnZXQgfQogICAgb3BlbiB2YXIgZXhwaXJlc0RhdGU6IERhdGU/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGlzSFRUUE9ubHk6IEJvb2wgeyBnZXQgfQogICAgb3BlbiB2YXIgaXNTZWN1cmU6IEJvb2wgeyBnZXQgfQogICAgb3BlbiB2YXIgaXNTZXNzaW9uT25seTogQm9vbCB7IGdldCB9CiAgICBvcGVuIHZhciBuYW1lOiBTdHJpbmcgeyBnZXQgfQogICAgb3BlbiB2YXIgcGF0aDogU3RyaW5nIHsgZ2V0IH0KICAgIG9wZW4gdmFyIHBvcnRMaXN0OiBbTlNOdW1iZXJdPyB7IGdldCB9CiAgICBvcGVuIHZhciBwcm9wZXJ0aWVzOiBbSFRUUENvb2tpZVByb3BlcnR5S2V5OiBBbnldPyB7IGdldCB9CiAgICBvcGVuIHZhciB2YWx1ZTogU3RyaW5nIHsgZ2V0IH0KICAgIG9wZW4gdmFyIHZlcnNpb246IEludCB7IGdldCB9Cn0Kb3BlbiBjbGFzcyBIVFRQQ29va2llU3RvcmFnZSA6IEFueU9iamVjdCwgQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sIHsKICAgIG9wZW4gY2xhc3MgdmFyIHNoYXJlZDogSFRUUENvb2tpZVN0b3JhZ2UgeyBnZXQgfQogICAgb3BlbiBjbGFzcyBmdW5jIHNoYXJlZENvb2tpZVN0b3JhZ2UoZm9yR3JvdXBDb250YWluZXJJZGVudGlmaWVyIGlkZW50aWZpZXI6IFN0cmluZykgLT4gSFRUUENvb2tpZVN0b3JhZ2Uge30KICAgIG9wZW4gdmFyIGNvb2tpZUFjY2VwdFBvbGljeTogSFRUUENvb2tpZS5BY2NlcHRQb2xpY3kgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGNvb2tpZXM6IFtIVFRQQ29va2llXT8geyBnZXQgfQogICAgb3BlbiBmdW5jIGNvb2tpZXMoZm9yIHVybDogVVJMKSAtPiBbSFRUUENvb2tpZV0/IHt9CiAgICBvcGVuIGZ1bmMgZGVsZXRlQ29va2llKF8gY29va2llOiBIVFRQQ29va2llKSB7fQogICAgb3BlbiBmdW5jIHJlbW92ZUNvb2tpZXMoc2luY2UgZGF0ZTogRGF0ZSkge30KICAgIG9wZW4gZnVuYyBzZXRDb29raWUoXyBjb29raWU6IEhUVFBDb29raWUpIHt9CiAgICBvcGVuIGZ1bmMgc2V0Q29va2llcyhfIGNvb2tpZXM6IFtIVFRQQ29va2llXSwgZm9yIHVybDogVVJMPywgbWFpbkRvY3VtZW50VVJMOiBVUkw/KSB7fQogICAgb3BlbiBmdW5jIHNvcnRlZENvb2tpZXModXNpbmcgc29ydE9yZGVyOiBbTlNTb3J0RGVzY3JpcHRvcl0pIC0+IFtIVFRQQ29va2llXSB7fQp9Cm9wZW4gY2xhc3MgSFRUUFVSTFJlc3BvbnNlIDogQW55T2JqZWN0LCBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNDb2RpbmcsIE5TQ29weWluZywgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wsIE5TU2VjdXJlQ29kaW5nLCBVUkxSZXNwb25zZSB7CiAgICBvcGVuIGNsYXNzIGZ1bmMgbG9jYWxpemVkU3RyaW5nKGZvclN0YXR1c0NvZGUgc3RhdHVzQ29kZTogSW50KSAtPiBTdHJpbmcge30KICAgIHB1YmxpYyBpbml0Pyh1cmw6IFVSTCwgc3RhdHVzQ29kZTogSW50LCBodHRwVmVyc2lvbjogU3RyaW5nPywgaGVhZGVyRmllbGRzOiBbU3RyaW5nOiBTdHJpbmddPykge30KICAgIHB1YmxpYyB2YXIgYWxsSGVhZGVyRmllbGRzOiBbQW55SGFzaGFibGU6IEFueV0geyBnZXQgfQogICAgcHVibGljIHZhciBzdGF0dXNDb2RlOiBJbnQgeyBnZXQgfQp9Cm9wZW4gY2xhc3MgSG9zdCA6IEFueU9iamVjdCwgQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sIHsKICAgIG9wZW4gY2xhc3MgZnVuYyBjdXJyZW50KCkgLT4gSG9zdCB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQoYWRkcmVzczogU3RyaW5nKSB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQobmFtZTogU3RyaW5nPykge30KICAgIG9wZW4gdmFyIGFkZHJlc3M6IFN0cmluZz8geyBnZXQgfQogICAgb3BlbiB2YXIgYWRkcmVzc2VzOiBbU3RyaW5nXSB7IGdldCB9CiAgICBvcGVuIHZhciBsb2NhbGl6ZWROYW1lOiBTdHJpbmc/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIG5hbWU6IFN0cmluZz8geyBnZXQgfQogICAgb3BlbiB2YXIgbmFtZXM6IFtTdHJpbmddIHsgZ2V0IH0KICAgIG9wZW4gZnVuYyBpc0VxdWFsKHRvIGFIb3N0OiBIb3N0KSAtPiBCb29sIHt9Cn0Kb3BlbiBjbGFzcyBJU084NjAxRGF0ZUZvcm1hdHRlciA6IEFueU9iamVjdCwgQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgRm9ybWF0dGVyLCBIYXNoYWJsZSwgTlNDb2RpbmcsIE5TQ29weWluZywgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wsIE5TU2VjdXJlQ29kaW5nIHsKICAgIG9wZW4gY2xhc3MgZnVuYyBzdHJpbmcoZnJvbSBkYXRlOiBEYXRlLCB0aW1lWm9uZTogVGltZVpvbmUsIGZvcm1hdE9wdGlvbnM6IElTTzg2MDFEYXRlRm9ybWF0dGVyLk9wdGlvbnMgPSB4KSAtPiBTdHJpbmcge30KICAgIG9wZW4gdmFyIGZvcm1hdE9wdGlvbnM6IElTTzg2MDFEYXRlRm9ybWF0dGVyLk9wdGlvbnMgeyBnZXQgfQogICAgb3BlbiB2YXIgdGltZVpvbmU6IFRpbWVab25lISB7IGdldCB9CiAgICBvcGVuIGZ1bmMgZGF0ZShmcm9tIHN0cmluZzogU3RyaW5nKSAtPiBEYXRlPyB7fQogICAgb3BlbiBmdW5jIHN0cmluZyhmcm9tIGRhdGU6IERhdGUpIC0+IFN0cmluZyB7fQp9Cm9wZW4gY2xhc3MgSW5wdXRTdHJlYW0gOiBBbnlPYmplY3QsIEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCwgU3RyZWFtIHsKICAgIHB1YmxpYyBpbml0KGRhdGE6IERhdGEpIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdD8oZmlsZUF0UGF0aCBwYXRoOiBTdHJpbmcpIHt9CiAgICBwdWJsaWMgaW5pdD8odXJsOiBVUkwpIHt9CiAgICBvcGVuIHZhciBoYXNCeXRlc0F2YWlsYWJsZTogQm9vbCB7IGdldCB9CiAgICBvcGVuIGZ1bmMgZ2V0QnVmZmVyKF8gYnVmZmVyOiBVbnNhZmVNdXRhYmxlUG9pbnRlcjxVbnNhZmVNdXRhYmxlUG9pbnRlcjxVSW50OD4/PiwgbGVuZ3RoIGxlbjogVW5zYWZlTXV0YWJsZVBvaW50ZXI8SW50PikgLT4gQm9vbCB7fQogICAgb3BlbiBmdW5jIHJlYWQoXyBidWZmZXI6IFVuc2FmZU11dGFibGVQb2ludGVyPFVJbnQ4PiwgbWF4TGVuZ3RoIGxlbjogSW50KSAtPiBJbnQge30KfQpvcGVuIGNsYXNzIEpTT05EZWNvZGVyIHsKICAgIHB1YmxpYyBpbml0KCkge30KICAgIG9wZW4gdmFyIGRhdGFEZWNvZGluZ1N0cmF0ZWd5OiBEYXRhRGVjb2RpbmdTdHJhdGVneSB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgZGF0ZURlY29kaW5nU3RyYXRlZ3k6IERhdGVEZWNvZGluZ1N0cmF0ZWd5IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBrZXlEZWNvZGluZ1N0cmF0ZWd5OiBLZXlEZWNvZGluZ1N0cmF0ZWd5IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBub25Db25mb3JtaW5nRmxvYXREZWNvZGluZ1N0cmF0ZWd5OiBOb25Db25mb3JtaW5nRmxvYXREZWNvZGluZ1N0cmF0ZWd5IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciB1c2VySW5mbzogW0NvZGluZ1VzZXJJbmZvS2V5OiBBbnldIHsgZ2V0IHNldCB9CiAgICBvcGVuIGZ1bmMgZGVjb2RlPFQ+KF8gdHlwZTogVC5UeXBlLCBmcm9tIGRhdGE6IERhdGEpIHRocm93cyAtPiBUIHdoZXJlIFQgOiBEZWNvZGFibGUge30KfQpvcGVuIGNsYXNzIEpTT05FbmNvZGVyIHsKICAgIHB1YmxpYyBpbml0KCkge30KICAgIG9wZW4gdmFyIGRhdGFFbmNvZGluZ1N0cmF0ZWd5OiBEYXRhRW5jb2RpbmdTdHJhdGVneSB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgZGF0ZUVuY29kaW5nU3RyYXRlZ3k6IERhdGVFbmNvZGluZ1N0cmF0ZWd5IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBrZXlFbmNvZGluZ1N0cmF0ZWd5OiBLZXlFbmNvZGluZ1N0cmF0ZWd5IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBub25Db25mb3JtaW5nRmxvYXRFbmNvZGluZ1N0cmF0ZWd5OiBOb25Db25mb3JtaW5nRmxvYXRFbmNvZGluZ1N0cmF0ZWd5IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBvdXRwdXRGb3JtYXR0aW5nOiBPdXRwdXRGb3JtYXR0aW5nIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciB1c2VySW5mbzogW0NvZGluZ1VzZXJJbmZvS2V5OiBBbnldIHsgZ2V0IHNldCB9CiAgICBvcGVuIGZ1bmMgZW5jb2RlPFQ+KF8gdmFsdWU6IFQpIHRocm93cyAtPiBEYXRhIHdoZXJlIFQgOiBFbmNvZGFibGUge30KfQpvcGVuIGNsYXNzIEpTT05TZXJpYWxpemF0aW9uIDogQW55T2JqZWN0LCBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wgewogICAgb3BlbiBjbGFzcyBmdW5jIGRhdGEod2l0aEpTT05PYmplY3QgdmFsdWU6IEFueSwgb3B0aW9ucyBvcHQ6IFdyaXRpbmdPcHRpb25zID0geCkgdGhyb3dzIC0+IERhdGEge30KICAgIG9wZW4gY2xhc3MgZnVuYyBpc1ZhbGlkSlNPTk9iamVjdChfIG9iajogQW55KSAtPiBCb29sIHt9CiAgICBvcGVuIGNsYXNzIGZ1bmMganNvbk9iamVjdCh3aXRoIGRhdGE6IERhdGEsIG9wdGlvbnMgb3B0OiBSZWFkaW5nT3B0aW9ucyA9IHgpIHRocm93cyAtPiBBbnkge30KICAgIG9wZW4gY2xhc3MgZnVuYyB3cml0ZUpTT05PYmplY3QoXyBvYmo6IEFueSwgdG9TdHJlYW0gc3RyZWFtOiBPdXRwdXRTdHJlYW0sIG9wdGlvbnMgb3B0OiBXcml0aW5nT3B0aW9ucykgdGhyb3dzIC0+IEludCB7fQp9Cm9wZW4gY2xhc3MgTGVuZ3RoRm9ybWF0dGVyIDogQW55T2JqZWN0LCBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBGb3JtYXR0ZXIsIEhhc2hhYmxlLCBOU0NvZGluZywgTlNDb3B5aW5nLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCB7CiAgICBvcGVuIHZhciBpc0ZvclBlcnNvbkhlaWdodFVzZTogQm9vbCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgbnVtYmVyRm9ybWF0dGVyOiBOdW1iZXJGb3JtYXR0ZXIhIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciB1bml0U3R5bGU6IFVuaXRTdHlsZSB7IGdldCBzZXQgfQogICAgb3BlbiBmdW5jIHN0cmluZyhmcm9tTWV0ZXJzIG51bWJlckluTWV0ZXJzOiBEb3VibGUpIC0+IFN0cmluZyB7fQogICAgb3BlbiBmdW5jIHN0cmluZyhmcm9tVmFsdWUgdmFsdWU6IERvdWJsZSwgdW5pdDogTGVuZ3RoRm9ybWF0dGVyLlVuaXQpIC0+IFN0cmluZyB7fQogICAgb3BlbiBmdW5jIHVuaXRTdHJpbmcoZnJvbU1ldGVycyBudW1iZXJJbk1ldGVyczogRG91YmxlLCB1c2VkVW5pdCB1bml0cDogVW5zYWZlTXV0YWJsZVBvaW50ZXI8VW5pdD4/KSAtPiBTdHJpbmcge30KICAgIG9wZW4gZnVuYyB1bml0U3RyaW5nKGZyb21WYWx1ZSB2YWx1ZTogRG91YmxlLCB1bml0OiBVbml0KSAtPiBTdHJpbmcge30KfQpvcGVuIGNsYXNzIE1hc3NGb3JtYXR0ZXIgOiBBbnlPYmplY3QsIEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEZvcm1hdHRlciwgSGFzaGFibGUsIE5TQ29kaW5nLCBOU0NvcHlpbmcsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sIHsKICAgIG9wZW4gdmFyIGlzRm9yUGVyc29uTWFzc1VzZTogQm9vbCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgbnVtYmVyRm9ybWF0dGVyOiBOdW1iZXJGb3JtYXR0ZXIhIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciB1bml0U3R5bGU6IFVuaXRTdHlsZSB7IGdldCBzZXQgfQogICAgb3BlbiBmdW5jIHN0cmluZyhmcm9tS2lsb2dyYW1zIG51bWJlckluS2lsb2dyYW1zOiBEb3VibGUpIC0+IFN0cmluZyB7fQogICAgb3BlbiBmdW5jIHN0cmluZyhmcm9tVmFsdWUgdmFsdWU6IERvdWJsZSwgdW5pdDogVW5pdCkgLT4gU3RyaW5nIHt9CiAgICBvcGVuIGZ1bmMgdW5pdFN0cmluZyhmcm9tS2lsb2dyYW1zIG51bWJlckluS2lsb2dyYW1zOiBEb3VibGUsIHVzZWRVbml0IHVuaXRwOiBVbnNhZmVNdXRhYmxlUG9pbnRlcjxVbml0Pj8pIC0+IFN0cmluZyB7fQogICAgb3BlbiBmdW5jIHVuaXRTdHJpbmcoZnJvbVZhbHVlIHZhbHVlOiBEb3VibGUsIHVuaXQ6IFVuaXQpIC0+IFN0cmluZyB7fQogICAgb3BlbiBmdW5jIHVuaXRTdHJpbmdEaXNwbGF5ZWRBZGphY2VudCh0b1ZhbHVlIHZhbHVlOiBEb3VibGUsIHVuaXQ6IFVuaXQpIC0+IFN0cmluZyB7fQp9Cm9wZW4gY2xhc3MgTWVhc3VyZW1lbnRGb3JtYXR0ZXIgOiBBbnlPYmplY3QsIEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEZvcm1hdHRlciwgSGFzaGFibGUsIE5TQ29kaW5nLCBOU0NvcHlpbmcsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBOU1NlY3VyZUNvZGluZyB7CiAgICBvcGVuIHZhciBsb2NhbGU6IExvY2FsZSEgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIG51bWJlckZvcm1hdHRlcjogTnVtYmVyRm9ybWF0dGVyISB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgdW5pdE9wdGlvbnM6IE1lYXN1cmVtZW50Rm9ybWF0dGVyLlVuaXRPcHRpb25zIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciB1bml0U3R5bGU6IEZvcm1hdHRlci5Vbml0U3R5bGUgeyBnZXQgc2V0IH0KICAgIHB1YmxpYyBmdW5jIHN0cmluZzxVbml0VHlwZT4oZnJvbSBtZWFzdXJlbWVudDogTWVhc3VyZW1lbnQ8VW5pdFR5cGU+KSAtPiBTdHJpbmcge30KfQpvcGVuIGNsYXNzIE1lc3NhZ2VQb3J0IDogQW55T2JqZWN0LCBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNDb2RpbmcsIE5TQ29weWluZywgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wsIFBvcnQgewp9Cm9wZW4gY2xhc3MgTlNBZmZpbmVUcmFuc2Zvcm0gOiBBbnlPYmplY3QsIEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU0NvZGluZywgTlNDb3B5aW5nLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCwgTlNTZWN1cmVDb2RpbmcsIF9TdHJ1Y3RUeXBlQnJpZGdlYWJsZSB7CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdCh0cmFuc2Zvcm06IEFmZmluZVRyYW5zZm9ybSkge30KICAgIHB1YmxpYyB2YXIgdHJhbnNmb3JtU3RydWN0OiBOU0FmZmluZVRyYW5zZm9ybVN0cnVjdCB7IGdldCBzZXQgfQogICAgb3BlbiBmdW5jIGFwcGVuZChfIHRyYW5zZm9ybTogQWZmaW5lVHJhbnNmb3JtKSB7fQogICAgb3BlbiBmdW5jIGludmVydCgpIHt9CiAgICBvcGVuIGZ1bmMgcHJlcGVuZChfIHRyYW5zZm9ybTogQWZmaW5lVHJhbnNmb3JtKSB7fQogICAgb3BlbiBmdW5jIHJvdGF0ZShieURlZ3JlZXMgYW5nbGU6IENHRmxvYXQpIHt9CiAgICBvcGVuIGZ1bmMgcm90YXRlKGJ5UmFkaWFucyBhbmdsZTogQ0dGbG9hdCkge30KICAgIG9wZW4gZnVuYyBzY2FsZShieSBzY2FsZTogQ0dGbG9hdCkge30KICAgIG9wZW4gZnVuYyBzY2FsZVgoYnkgc2NhbGVYOiBDR0Zsb2F0LCB5Qnkgc2NhbGVZOiBDR0Zsb2F0KSB7fQogICAgb3BlbiBmdW5jIHRyYW5zZm9ybShfIGFQb2ludDogTlNQb2ludCkgLT4gTlNQb2ludCB7fQogICAgb3BlbiBmdW5jIHRyYW5zZm9ybShfIGFTaXplOiBOU1NpemUpIC0+IE5TU2l6ZSB7fQogICAgb3BlbiBmdW5jIHRyYW5zbGF0ZVgoYnkgZGVsdGFYOiBDR0Zsb2F0LCB5QnkgZGVsdGFZOiBDR0Zsb2F0KSB7fQp9Cm9wZW4gY2xhc3MgTlNBcnJheSA6IEFueU9iamVjdCwgQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tUmVmbGVjdGFibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEV4cHJlc3NpYmxlQnlBcnJheUxpdGVyYWwsIEhhc2hhYmxlLCBOU0NvZGluZywgTlNDb3B5aW5nLCBOU011dGFibGVDb3B5aW5nLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCwgTlNTZWN1cmVDb2RpbmcsIFNlcXVlbmNlLCBfQ0ZCcmlkZ2VhYmxlLCBfU3RydWN0VHlwZUJyaWRnZWFibGUsIF9Td2lmdEJyaWRnZWFibGUgewogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQoYXJyYXk6IFtBbnldKSB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQoYXJyYXk6IFtBbnldLCBjb3B5SXRlbXM6IEJvb2wpIHt9CiAgICBwdWJsaWMgcmVxdWlyZWQgY29udmVuaWVuY2UgaW5pdChhcnJheUxpdGVyYWwgZWxlbWVudHM6IEFueS4uLikge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KGNvbnRlbnRzT2YgdXJsOiBVUkwsIGVycm9yOiBWb2lkKSB0aHJvd3Mge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KG9iamVjdCBhbk9iamVjdDogQW55KSB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQob2JqZWN0cyBlbGVtZW50czogQW55T2JqZWN0Li4uKSB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQob2JqZWN0czogVW5zYWZlUG9pbnRlcjxBbnlPYmplY3Q+LCBjb3VudDogSW50KSB7fQogICAgb3BlbiB2YXIgY291bnQ6IEludCB7IGdldCB9CiAgICBwdWJsaWMgdmFyIGN1c3RvbU1pcnJvcjogTWlycm9yIHsgZ2V0IH0KICAgIG9wZW4gdmFyIGZpcnN0T2JqZWN0OiBBbnk/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGxhc3RPYmplY3Q6IEFueT8geyBnZXQgfQogICAgb3BlbiB2YXIgc29ydGVkQXJyYXlIaW50OiBEYXRhIHsgZ2V0IH0KICAgIG9wZW4gc3Vic2NyaXB0KGlkeDogSW50KSAtPiBBbnkgeyBnZXQgfSB7fQogICAgb3BlbiBmdW5jIGFkZGluZyhfIGFuT2JqZWN0OiBBbnkpIC0+IFtBbnldIHt9CiAgICBvcGVuIGZ1bmMgYWRkaW5nT2JqZWN0cyhmcm9tIG90aGVyQXJyYXk6IFtBbnldKSAtPiBbQW55XSB7fQogICAgb3BlbiBmdW5jIGNvbXBvbmVudHNKb2luZWQoYnkgc2VwYXJhdG9yOiBTdHJpbmcpIC0+IFN0cmluZyB7fQogICAgb3BlbiBmdW5jIGNvbnRhaW5zKF8gYW5PYmplY3Q6IEFueSkgLT4gQm9vbCB7fQogICAgb3BlbiBmdW5jIGRlc2NyaXB0aW9uKHdpdGhMb2NhbGUgbG9jYWxlOiBMb2NhbGU/KSAtPiBTdHJpbmcge30KICAgIG9wZW4gZnVuYyBkZXNjcmlwdGlvbih3aXRoTG9jYWxlIGxvY2FsZTogTG9jYWxlPywgaW5kZW50IGxldmVsOiBJbnQpIC0+IFN0cmluZyB7fQogICAgb3BlbiBmdW5jIGVudW1lcmF0ZU9iamVjdHMoXyBibG9jazogKEFueSwgSW50LCBVbnNhZmVNdXRhYmxlUG9pbnRlcjxPYmpDQm9vbD4pIC0+IFN3aWZ0LlZvaWQpIHt9CiAgICBvcGVuIGZ1bmMgZW51bWVyYXRlT2JqZWN0cyhhdCBzOiBJbmRleFNldCwgb3B0aW9ucyBvcHRzOiBOU0VudW1lcmF0aW9uT3B0aW9ucyA9IHgsIHVzaW5nIGJsb2NrOiAoQW55LCBJbnQsIFVuc2FmZU11dGFibGVQb2ludGVyPE9iakNCb29sPikgLT4gU3dpZnQuVm9pZCkge30KICAgIG9wZW4gZnVuYyBlbnVtZXJhdGVPYmplY3RzKG9wdGlvbnMgb3B0czogTlNFbnVtZXJhdGlvbk9wdGlvbnMgPSB4LCB1c2luZyBibG9jazogKEFueSwgSW50LCBVbnNhZmVNdXRhYmxlUG9pbnRlcjxPYmpDQm9vbD4pIC0+IFN3aWZ0LlZvaWQpIHt9CiAgICBvcGVuIGZ1bmMgZmlsdGVyZWQodXNpbmcgcHJlZGljYXRlOiBOU1ByZWRpY2F0ZSkgLT4gW0FueV0ge30KICAgIG9wZW4gZnVuYyBmaXJzdE9iamVjdENvbW1vbih3aXRoIG90aGVyQXJyYXk6IFtBbnldKSAtPiBBbnk/IHt9CiAgICBvcGVuIGZ1bmMgaW5kZXgob2YgYW5PYmplY3Q6IEFueSkgLT4gSW50IHt9CiAgICBvcGVuIGZ1bmMgaW5kZXgob2YgYW5PYmplY3Q6IEFueSwgaW4gcmFuZ2U6IE5TUmFuZ2UpIC0+IEludCB7fQogICAgb3BlbiBmdW5jIGluZGV4KG9mIG9iajogQW55LCBpblNvcnRlZFJhbmdlIHI6IE5TUmFuZ2UsIG9wdGlvbnMgb3B0czogTlNCaW5hcnlTZWFyY2hpbmdPcHRpb25zID0geCwgdXNpbmdDb21wYXJhdG9yIGNtcDogKEFueSwgQW55KSAtPiBDb21wYXJpc29uUmVzdWx0KSAtPiBJbnQge30KICAgIG9wZW4gZnVuYyBpbmRleE9mT2JqZWN0KGF0IHM6IEluZGV4U2V0LCBvcHRpb25zIG9wdHM6IE5TRW51bWVyYXRpb25PcHRpb25zID0geCwgcGFzc2luZ1Rlc3QgcHJlZGljYXRlOiAoQW55LCBJbnQsIFVuc2FmZU11dGFibGVQb2ludGVyPE9iakNCb29sPikgLT4gQm9vbCkgLT4gSW50IHt9CiAgICBvcGVuIGZ1bmMgaW5kZXhPZk9iamVjdChvcHRpb25zIG9wdHM6IE5TRW51bWVyYXRpb25PcHRpb25zID0geCwgcGFzc2luZ1Rlc3QgcHJlZGljYXRlOiAoQW55LCBJbnQsIFVuc2FmZU11dGFibGVQb2ludGVyPE9iakNCb29sPikgLT4gQm9vbCkgLT4gSW50IHt9CiAgICBvcGVuIGZ1bmMgaW5kZXhPZk9iamVjdChwYXNzaW5nVGVzdCBwcmVkaWNhdGU6IChBbnksIEludCwgVW5zYWZlTXV0YWJsZVBvaW50ZXI8T2JqQ0Jvb2w+KSAtPiBCb29sKSAtPiBJbnQge30KICAgIG9wZW4gZnVuYyBpbmRleE9mT2JqZWN0SWRlbnRpY2FsKHRvIGFuT2JqZWN0OiBBbnkpIC0+IEludCB7fQogICAgb3BlbiBmdW5jIGluZGV4T2ZPYmplY3RJZGVudGljYWwodG8gYW5PYmplY3Q6IEFueSwgaW4gcmFuZ2U6IE5TUmFuZ2UpIC0+IEludCB7fQogICAgb3BlbiBmdW5jIGluZGV4ZXNPZk9iamVjdHMoYXQgczogSW5kZXhTZXQsIG9wdGlvbnMgb3B0czogTlNFbnVtZXJhdGlvbk9wdGlvbnMgPSB4LCBwYXNzaW5nVGVzdCBwcmVkaWNhdGU6IChBbnksIEludCwgVW5zYWZlTXV0YWJsZVBvaW50ZXI8T2JqQ0Jvb2w+KSAtPiBCb29sKSAtPiBJbmRleFNldCB7fQogICAgb3BlbiBmdW5jIGluZGV4ZXNPZk9iamVjdHMob3B0aW9ucyBvcHRzOiBOU0VudW1lcmF0aW9uT3B0aW9ucyA9IHgsIHBhc3NpbmdUZXN0IHByZWRpY2F0ZTogKEFueSwgSW50LCBVbnNhZmVNdXRhYmxlUG9pbnRlcjxPYmpDQm9vbD4pIC0+IEJvb2wpIC0+IEluZGV4U2V0IHt9CiAgICBvcGVuIGZ1bmMgaW5kZXhlc09mT2JqZWN0cyhwYXNzaW5nVGVzdCBwcmVkaWNhdGU6IChBbnksIEludCwgVW5zYWZlTXV0YWJsZVBvaW50ZXI8T2JqQ0Jvb2w+KSAtPiBCb29sKSAtPiBJbmRleFNldCB7fQogICAgb3BlbiBmdW5jIGlzRXF1YWwodG8gb3RoZXJBcnJheTogW0FueV0pIC0+IEJvb2wge30KICAgIHB1YmxpYyBmdW5jIG1ha2VJdGVyYXRvcigpIC0+IEl0ZXJhdG9yIHt9CiAgICBvcGVuIGZ1bmMgb2JqZWN0KGF0IGluZGV4OiBJbnQpIC0+IEFueSB7fQogICAgb3BlbiBmdW5jIG9iamVjdEVudW1lcmF0b3IoKSAtPiBOU0VudW1lcmF0b3Ige30KICAgIG9wZW4gZnVuYyBvYmplY3RzKGF0IGluZGV4ZXM6IEluZGV4U2V0KSAtPiBbQW55XSB7fQogICAgb3BlbiBmdW5jIHBhdGhzTWF0Y2hpbmdFeHRlbnNpb25zKF8gZmlsdGVyVHlwZXM6IFtTdHJpbmddKSAtPiBbU3RyaW5nXSB7fQogICAgb3BlbiBmdW5jIHJldmVyc2VPYmplY3RFbnVtZXJhdG9yKCkgLT4gTlNFbnVtZXJhdG9yIHt9CiAgICBvcGVuIGZ1bmMgc29ydGVkQXJyYXkoXyBjb21wYXJhdG9yOiAoQW55LCBBbnksIFVuc2FmZU11dGFibGVSYXdQb2ludGVyPykgLT4gSW50LCBjb250ZXh0OiBVbnNhZmVNdXRhYmxlUmF3UG9pbnRlcj8pIC0+IFtBbnldIHt9CiAgICBvcGVuIGZ1bmMgc29ydGVkQXJyYXkoXyBjb21wYXJhdG9yOiAoQW55LCBBbnksIFVuc2FmZU11dGFibGVSYXdQb2ludGVyPykgLT4gSW50LCBjb250ZXh0OiBVbnNhZmVNdXRhYmxlUmF3UG9pbnRlcj8sIGhpbnQ6IERhdGE/KSAtPiBbQW55XSB7fQogICAgb3BlbiBmdW5jIHNvcnRlZEFycmF5KGNvbXBhcmF0b3IgY21wdHI6IChBbnksIEFueSkgLT4gQ29tcGFyaXNvblJlc3VsdCkgLT4gW0FueV0ge30KICAgIG9wZW4gZnVuYyBzb3J0ZWRBcnJheShvcHRpb25zIG9wdHM6IE5TU29ydE9wdGlvbnMgPSB4LCB1c2luZ0NvbXBhcmF0b3IgY21wdHI6IChBbnksIEFueSkgLT4gQ29tcGFyaXNvblJlc3VsdCkgLT4gW0FueV0ge30KICAgIHB1YmxpYyBmdW5jIHNvcnRlZEFycmF5KHVzaW5nIHNvcnREZXNjcmlwdG9yczogW05TU29ydERlc2NyaXB0b3JdKSAtPiBbQW55XSB7fQogICAgb3BlbiBmdW5jIHN1YmFycmF5KHdpdGggcmFuZ2U6IE5TUmFuZ2UpIC0+IFtBbnldIHt9CiAgICBvcGVuIGZ1bmMgd3JpdGUodG8gdXJsOiBVUkwpIHRocm93cyB7fQp9Cm9wZW4gY2xhc3MgTlNBdHRyaWJ1dGVkU3RyaW5nIDogQW55T2JqZWN0LCBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNDb2RpbmcsIE5TQ29weWluZywgTlNNdXRhYmxlQ29weWluZywgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wsIE5TU2VjdXJlQ29kaW5nLCBfQ0ZCcmlkZ2VhYmxlIHsKICAgIHB1YmxpYyBpbml0KGF0dHJpYnV0ZWRTdHJpbmc6IE5TQXR0cmlidXRlZFN0cmluZykge30KICAgIHB1YmxpYyBpbml0KHN0cmluZzogU3RyaW5nKSB7fQogICAgcHVibGljIGluaXQoc3RyaW5nOiBTdHJpbmcsIGF0dHJpYnV0ZXMgYXR0cnM6IFtOU0F0dHJpYnV0ZWRTdHJpbmdLZXk6IEFueV0/ID0geCkge30KICAgIG9wZW4gdmFyIGxlbmd0aDogSW50IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHN0cmluZzogU3RyaW5nIHsgZ2V0IH0KICAgIG9wZW4gZnVuYyBhdHRyaWJ1dGUoXyBhdHRyTmFtZTogTlNBdHRyaWJ1dGVkU3RyaW5nS2V5LCBhdCBsb2NhdGlvbjogSW50LCBlZmZlY3RpdmVSYW5nZSByYW5nZTogTlNSYW5nZVBvaW50ZXI/KSAtPiBBbnk/IHt9CiAgICBvcGVuIGZ1bmMgYXR0cmlidXRlKF8gYXR0ck5hbWU6IE5TQXR0cmlidXRlZFN0cmluZ0tleSwgYXQgbG9jYXRpb246IEludCwgbG9uZ2VzdEVmZmVjdGl2ZVJhbmdlIHJhbmdlOiBOU1JhbmdlUG9pbnRlcj8sIGluIHJhbmdlTGltaXQ6IE5TUmFuZ2UpIC0+IEFueT8ge30KICAgIG9wZW4gZnVuYyBhdHRyaWJ1dGVkU3Vic3RyaW5nKGZyb20gcmFuZ2U6IE5TUmFuZ2UpIC0+IE5TQXR0cmlidXRlZFN0cmluZyB7fQogICAgb3BlbiBmdW5jIGF0dHJpYnV0ZXMoYXQgbG9jYXRpb246IEludCwgZWZmZWN0aXZlUmFuZ2UgcmFuZ2U6IE5TUmFuZ2VQb2ludGVyPykgLT4gW05TQXR0cmlidXRlZFN0cmluZ0tleTogQW55XSB7fQogICAgb3BlbiBmdW5jIGF0dHJpYnV0ZXMoYXQgbG9jYXRpb246IEludCwgbG9uZ2VzdEVmZmVjdGl2ZVJhbmdlIHJhbmdlOiBOU1JhbmdlUG9pbnRlcj8sIGluIHJhbmdlTGltaXQ6IE5TUmFuZ2UpIC0+IFtOU0F0dHJpYnV0ZWRTdHJpbmdLZXk6IEFueV0ge30KICAgIG9wZW4gZnVuYyBlbnVtZXJhdGVBdHRyaWJ1dGUoXyBhdHRyTmFtZTogTlNBdHRyaWJ1dGVkU3RyaW5nS2V5LCBpbiBlbnVtZXJhdGlvblJhbmdlOiBOU1JhbmdlLCBvcHRpb25zIG9wdHM6IE5TQXR0cmlidXRlZFN0cmluZy5FbnVtZXJhdGlvbk9wdGlvbnMgPSB4LCB1c2luZyBibG9jazogKEFueT8sIE5TUmFuZ2UsIFVuc2FmZU11dGFibGVQb2ludGVyPE9iakNCb29sPikgLT4gU3dpZnQuVm9pZCkge30KICAgIG9wZW4gZnVuYyBlbnVtZXJhdGVBdHRyaWJ1dGVzKGluIGVudW1lcmF0aW9uUmFuZ2U6IE5TUmFuZ2UsIG9wdGlvbnMgb3B0czogTlNBdHRyaWJ1dGVkU3RyaW5nLkVudW1lcmF0aW9uT3B0aW9ucyA9IHgsIHVzaW5nIGJsb2NrOiAoW05TQXR0cmlidXRlZFN0cmluZ0tleTogQW55XSwgTlNSYW5nZSwgVW5zYWZlTXV0YWJsZVBvaW50ZXI8T2JqQ0Jvb2w+KSAtPiBTd2lmdC5Wb2lkKSB7fQogICAgb3BlbiBmdW5jIGlzRXF1YWwodG8gb3RoZXI6IE5TQXR0cmlidXRlZFN0cmluZykgLT4gQm9vbCB7fQp9Cm9wZW4gY2xhc3MgTlNDYWNoZTxLZXlUeXBlLCBPYmplY3RUeXBlPiA6IEFueU9iamVjdCwgQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sIHsKICAgIG9wZW4gdmFyIGNvdW50TGltaXQ6IEludCB7IGdldCBzZXQgfQogICAgb3BlbiB3ZWFrIHZhciBkZWxlZ2F0ZTogTlNDYWNoZURlbGVnYXRlPyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgZXZpY3RzT2JqZWN0c1dpdGhEaXNjYXJkZWRDb250ZW50OiBCb29sIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBuYW1lOiBTdHJpbmcgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHRvdGFsQ29zdExpbWl0OiBJbnQgeyBnZXQgc2V0IH0KICAgIG9wZW4gZnVuYyBvYmplY3QoZm9yS2V5IGtleTogS2V5VHlwZSkgLT4gT2JqZWN0VHlwZT8ge30KICAgIG9wZW4gZnVuYyByZW1vdmVBbGxPYmplY3RzKCkge30KICAgIG9wZW4gZnVuYyByZW1vdmVPYmplY3QoZm9yS2V5IGtleTogS2V5VHlwZSkge30KICAgIG9wZW4gZnVuYyBzZXRPYmplY3QoXyBvYmo6IE9iamVjdFR5cGUsIGZvcktleSBrZXk6IEtleVR5cGUpIHt9CiAgICBvcGVuIGZ1bmMgc2V0T2JqZWN0KF8gb2JqOiBPYmplY3RUeXBlLCBmb3JLZXkga2V5OiBLZXlUeXBlLCBjb3N0IGc6IEludCkge30KfQpvcGVuIGNsYXNzIE5TQ2FsZW5kYXIgOiBBbnlPYmplY3QsIEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU0NvZGluZywgTlNDb3B5aW5nLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCwgTlNTZWN1cmVDb2RpbmcsIF9DRkJyaWRnZWFibGUsIF9TdHJ1Y3RUeXBlQnJpZGdlYWJsZSwgX1N3aWZ0QnJpZGdlYWJsZSB7CiAgICBvcGVuIGNsYXNzIHZhciBhdXRvdXBkYXRpbmdDdXJyZW50OiBDYWxlbmRhciB7IGdldCB9CiAgICBvcGVuIGNsYXNzIHZhciBjdXJyZW50OiBDYWxlbmRhciB7IGdldCB9CiAgICBwdWJsaWMgaW5pdD8oY2FsZW5kYXJJZGVudGlmaWVyIGlkZW50OiBJZGVudGlmaWVyKSB7fQogICAgcHVibGljIGluaXQ/KGlkZW50aWZpZXIgY2FsZW5kYXJJZGVudGlmaWVyQ29uc3RhbnQ6IElkZW50aWZpZXIpIHt9CiAgICBvcGVuIHZhciBhbVN5bWJvbDogU3RyaW5nIHsgZ2V0IH0KICAgIG9wZW4gdmFyIGNhbGVuZGFySWRlbnRpZmllcjogSWRlbnRpZmllciB7IGdldCB9CiAgICBvcGVuIHZhciBlcmFTeW1ib2xzOiBbU3RyaW5nXSB7IGdldCB9CiAgICBvcGVuIHZhciBmaXJzdFdlZWtkYXk6IEludCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgbG9jYWxlOiBMb2NhbGU/IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBsb25nRXJhU3ltYm9sczogW1N0cmluZ10geyBnZXQgfQogICAgb3BlbiB2YXIgbWluaW11bURheXNJbkZpcnN0V2VlazogSW50IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBtb250aFN5bWJvbHM6IFtTdHJpbmddIHsgZ2V0IH0KICAgIG9wZW4gdmFyIHBtU3ltYm9sOiBTdHJpbmcgeyBnZXQgfQogICAgb3BlbiB2YXIgcXVhcnRlclN5bWJvbHM6IFtTdHJpbmddIHsgZ2V0IH0KICAgIG9wZW4gdmFyIHNob3J0TW9udGhTeW1ib2xzOiBbU3RyaW5nXSB7IGdldCB9CiAgICBvcGVuIHZhciBzaG9ydFF1YXJ0ZXJTeW1ib2xzOiBbU3RyaW5nXSB7IGdldCB9CiAgICBvcGVuIHZhciBzaG9ydFN0YW5kYWxvbmVNb250aFN5bWJvbHM6IFtTdHJpbmddIHsgZ2V0IH0KICAgIG9wZW4gdmFyIHNob3J0U3RhbmRhbG9uZVF1YXJ0ZXJTeW1ib2xzOiBbU3RyaW5nXSB7IGdldCB9CiAgICBvcGVuIHZhciBzaG9ydFN0YW5kYWxvbmVXZWVrZGF5U3ltYm9sczogW1N0cmluZ10geyBnZXQgfQogICAgb3BlbiB2YXIgc2hvcnRXZWVrZGF5U3ltYm9sczogW1N0cmluZ10geyBnZXQgfQogICAgb3BlbiB2YXIgc3RhbmRhbG9uZU1vbnRoU3ltYm9sczogW1N0cmluZ10geyBnZXQgfQogICAgb3BlbiB2YXIgc3RhbmRhbG9uZVF1YXJ0ZXJTeW1ib2xzOiBbU3RyaW5nXSB7IGdldCB9CiAgICBvcGVuIHZhciBzdGFuZGFsb25lV2Vla2RheVN5bWJvbHM6IFtTdHJpbmddIHsgZ2V0IH0KICAgIG9wZW4gdmFyIHRpbWVab25lOiBUaW1lWm9uZSB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgdmVyeVNob3J0TW9udGhTeW1ib2xzOiBbU3RyaW5nXSB7IGdldCB9CiAgICBvcGVuIHZhciB2ZXJ5U2hvcnRTdGFuZGFsb25lTW9udGhTeW1ib2xzOiBbU3RyaW5nXSB7IGdldCB9CiAgICBvcGVuIHZhciB2ZXJ5U2hvcnRTdGFuZGFsb25lV2Vla2RheVN5bWJvbHM6IFtTdHJpbmddIHsgZ2V0IH0KICAgIG9wZW4gdmFyIHZlcnlTaG9ydFdlZWtkYXlTeW1ib2xzOiBbU3RyaW5nXSB7IGdldCB9CiAgICBvcGVuIHZhciB3ZWVrZGF5U3ltYm9sczogW1N0cmluZ10geyBnZXQgfQogICAgb3BlbiBmdW5jIGNvbXBhcmUoXyBkYXRlMTogRGF0ZSwgdG8gZGF0ZTI6IERhdGUsIHRvVW5pdEdyYW51bGFyaXR5IHVuaXQ6IFVuaXQpIC0+IENvbXBhcmlzb25SZXN1bHQge30KICAgIG9wZW4gZnVuYyBjb21wb25lbnQoXyB1bml0OiBVbml0LCBmcm9tIGRhdGU6IERhdGUpIC0+IEludCB7fQogICAgb3BlbiBmdW5jIGNvbXBvbmVudHMoXyB1bml0RmxhZ3M6IFVuaXQsIGZyb20gZGF0ZTogRGF0ZSkgLT4gRGF0ZUNvbXBvbmVudHMge30KICAgIG9wZW4gZnVuYyBjb21wb25lbnRzKF8gdW5pdEZsYWdzOiBVbml0LCBmcm9tIHN0YXJ0aW5nRGF0ZTogRGF0ZSwgdG8gcmVzdWx0RGF0ZTogRGF0ZSwgb3B0aW9ucyBvcHRzOiBPcHRpb25zID0geCkgLT4gRGF0ZUNvbXBvbmVudHMge30KICAgIG9wZW4gZnVuYyBjb21wb25lbnRzKGluIHRpbWV6b25lOiBUaW1lWm9uZSwgZnJvbSBkYXRlOiBEYXRlKSAtPiBEYXRlQ29tcG9uZW50cyB7fQogICAgb3BlbiBmdW5jIGRhdGUoXyBkYXRlOiBEYXRlLCBtYXRjaGVzQ29tcG9uZW50cyBjb21wb25lbnRzOiBEYXRlQ29tcG9uZW50cykgLT4gQm9vbCB7fQogICAgb3BlbiBmdW5jIGRhdGUoYnlBZGRpbmcgY29tcHM6IERhdGVDb21wb25lbnRzLCB0byBkYXRlOiBEYXRlLCBvcHRpb25zIG9wdHM6IE9wdGlvbnMgPSB4KSAtPiBEYXRlPyB7fQogICAgb3BlbiBmdW5jIGRhdGUoYnlBZGRpbmcgdW5pdDogVW5pdCwgdmFsdWU6IEludCwgdG8gZGF0ZTogRGF0ZSwgb3B0aW9uczogT3B0aW9ucyA9IHgpIC0+IERhdGU/IHt9CiAgICBvcGVuIGZ1bmMgZGF0ZShieVNldHRpbmdIb3VyIGg6IEludCwgbWludXRlIG06IEludCwgc2Vjb25kIHM6IEludCwgb2YgZGF0ZTogRGF0ZSwgb3B0aW9ucyBvcHRzOiBPcHRpb25zID0geCkgLT4gRGF0ZT8ge30KICAgIG9wZW4gZnVuYyBkYXRlKGJ5U2V0dGluZ1VuaXQgdW5pdDogVW5pdCwgdmFsdWUgdjogSW50LCBvZiBkYXRlOiBEYXRlLCBvcHRpb25zIG9wdHM6IE9wdGlvbnMgPSB4KSAtPiBEYXRlPyB7fQogICAgb3BlbiBmdW5jIGRhdGUoZXJhIGVyYVZhbHVlOiBJbnQsIHllYXIgeWVhclZhbHVlOiBJbnQsIG1vbnRoIG1vbnRoVmFsdWU6IEludCwgZGF5IGRheVZhbHVlOiBJbnQsIGhvdXIgaG91clZhbHVlOiBJbnQsIG1pbnV0ZSBtaW51dGVWYWx1ZTogSW50LCBzZWNvbmQgc2Vjb25kVmFsdWU6IEludCwgbmFub3NlY29uZCBuYW5vc2Vjb25kVmFsdWU6IEludCkgLT4gRGF0ZT8ge30KICAgIG9wZW4gZnVuYyBkYXRlKGVyYSBlcmFWYWx1ZTogSW50LCB5ZWFyRm9yV2Vla09mWWVhciB5ZWFyVmFsdWU6IEludCwgd2Vla09mWWVhciB3ZWVrVmFsdWU6IEludCwgd2Vla2RheSB3ZWVrZGF5VmFsdWU6IEludCwgaG91ciBob3VyVmFsdWU6IEludCwgbWludXRlIG1pbnV0ZVZhbHVlOiBJbnQsIHNlY29uZCBzZWNvbmRWYWx1ZTogSW50LCBuYW5vc2Vjb25kIG5hbm9zZWNvbmRWYWx1ZTogSW50KSAtPiBEYXRlPyB7fQogICAgb3BlbiBmdW5jIGRhdGUoZnJvbSBjb21wczogRGF0ZUNvbXBvbmVudHMpIC0+IERhdGU/IHt9CiAgICBvcGVuIGZ1bmMgZW51bWVyYXRlRGF0ZXMoc3RhcnRpbmdBZnRlciBzdGFydDogRGF0ZSwgbWF0Y2hpbmcgY29tcHM6IERhdGVDb21wb25lbnRzLCBvcHRpb25zIG9wdHM6IE5TQ2FsZW5kYXIuT3B0aW9ucyA9IHgsIHVzaW5nIGJsb2NrOiAoRGF0ZT8sIEJvb2wsIFVuc2FmZU11dGFibGVQb2ludGVyPE9iakNCb29sPikgLT4gU3dpZnQuVm9pZCkge30KICAgIG9wZW4gZnVuYyBnZXRFcmEoXyBlcmFWYWx1ZVBvaW50ZXI6IFVuc2FmZU11dGFibGVQb2ludGVyPEludD4/LCB5ZWFyIHllYXJWYWx1ZVBvaW50ZXI6IFVuc2FmZU11dGFibGVQb2ludGVyPEludD4/LCBtb250aCBtb250aFZhbHVlUG9pbnRlcjogVW5zYWZlTXV0YWJsZVBvaW50ZXI8SW50Pj8sIGRheSBkYXlWYWx1ZVBvaW50ZXI6IFVuc2FmZU11dGFibGVQb2ludGVyPEludD4/LCBmcm9tIGRhdGU6IERhdGUpIHt9CiAgICBvcGVuIGZ1bmMgZ2V0RXJhKF8gZXJhVmFsdWVQb2ludGVyOiBVbnNhZmVNdXRhYmxlUG9pbnRlcjxJbnQ+PywgeWVhckZvcldlZWtPZlllYXIgeWVhclZhbHVlUG9pbnRlcjogVW5zYWZlTXV0YWJsZVBvaW50ZXI8SW50Pj8sIHdlZWtPZlllYXIgd2Vla1ZhbHVlUG9pbnRlcjogVW5zYWZlTXV0YWJsZVBvaW50ZXI8SW50Pj8sIHdlZWtkYXkgd2Vla2RheVZhbHVlUG9pbnRlcjogVW5zYWZlTXV0YWJsZVBvaW50ZXI8SW50Pj8sIGZyb20gZGF0ZTogRGF0ZSkge30KICAgIG9wZW4gZnVuYyBnZXRIb3VyKF8gaG91clZhbHVlUG9pbnRlcjogVW5zYWZlTXV0YWJsZVBvaW50ZXI8SW50Pj8sIG1pbnV0ZSBtaW51dGVWYWx1ZVBvaW50ZXI6IFVuc2FmZU11dGFibGVQb2ludGVyPEludD4/LCBzZWNvbmQgc2Vjb25kVmFsdWVQb2ludGVyOiBVbnNhZmVNdXRhYmxlUG9pbnRlcjxJbnQ+PywgbmFub3NlY29uZCBuYW5vc2Vjb25kVmFsdWVQb2ludGVyOiBVbnNhZmVNdXRhYmxlUG9pbnRlcjxJbnQ+PywgZnJvbSBkYXRlOiBEYXRlKSB7fQogICAgb3BlbiBmdW5jIGlzRGF0ZShfIGRhdGUxOiBEYXRlLCBlcXVhbFRvIGRhdGUyOiBEYXRlLCB0b1VuaXRHcmFudWxhcml0eSB1bml0OiBVbml0KSAtPiBCb29sIHt9CiAgICBvcGVuIGZ1bmMgaXNEYXRlKF8gZGF0ZTE6IERhdGUsIGluU2FtZURheUFzIGRhdGUyOiBEYXRlKSAtPiBCb29sIHt9CiAgICBvcGVuIGZ1bmMgaXNEYXRlSW5Ub2RheShfIGRhdGU6IERhdGUpIC0+IEJvb2wge30KICAgIG9wZW4gZnVuYyBpc0RhdGVJblRvbW9ycm93KF8gZGF0ZTogRGF0ZSkgLT4gQm9vbCB7fQogICAgb3BlbiBmdW5jIGlzRGF0ZUluV2Vla2VuZChfIGRhdGU6IERhdGUpIC0+IEJvb2wge30KICAgIG9wZW4gZnVuYyBpc0RhdGVJblllc3RlcmRheShfIGRhdGU6IERhdGUpIC0+IEJvb2wge30KICAgIG9wZW4gZnVuYyBtYXhpbXVtUmFuZ2Uob2YgdW5pdDogVW5pdCkgLT4gTlNSYW5nZSB7fQogICAgb3BlbiBmdW5jIG1pbmltdW1SYW5nZShvZiB1bml0OiBVbml0KSAtPiBOU1JhbmdlIHt9CiAgICBvcGVuIGZ1bmMgbmV4dERhdGUoYWZ0ZXIgZGF0ZTogRGF0ZSwgbWF0Y2hpbmcgY29tcHM6IERhdGVDb21wb25lbnRzLCBvcHRpb25zOiBPcHRpb25zID0geCkgLT4gRGF0ZT8ge30KICAgIG9wZW4gZnVuYyBuZXh0RGF0ZShhZnRlciBkYXRlOiBEYXRlLCBtYXRjaGluZyB1bml0OiBVbml0LCB2YWx1ZTogSW50LCBvcHRpb25zOiBPcHRpb25zID0geCkgLT4gRGF0ZT8ge30KICAgIG9wZW4gZnVuYyBuZXh0RGF0ZShhZnRlciBkYXRlOiBEYXRlLCBtYXRjaGluZ0hvdXIgaG91clZhbHVlOiBJbnQsIG1pbnV0ZSBtaW51dGVWYWx1ZTogSW50LCBzZWNvbmQgc2Vjb25kVmFsdWU6IEludCwgb3B0aW9uczogT3B0aW9ucyA9IHgpIC0+IERhdGU/IHt9CiAgICBvcGVuIGZ1bmMgbmV4dFdlZWtlbmRBZnRlcihfIGRhdGU6IERhdGUsIG9wdGlvbnM6IE9wdGlvbnMpIC0+IERhdGVJbnRlcnZhbD8ge30KICAgIG9wZW4gZnVuYyBvcmRpbmFsaXR5KG9mIHNtYWxsZXI6IFVuaXQsIGluIGxhcmdlcjogVW5pdCwgZm9yIGRhdGU6IERhdGUpIC0+IEludCB7fQogICAgb3BlbiBmdW5jIHJhbmdlKG9mIHVuaXQ6IFVuaXQsIGZvciBkYXRlOiBEYXRlKSAtPiBEYXRlSW50ZXJ2YWw/IHt9CiAgICBvcGVuIGZ1bmMgcmFuZ2Uob2Ygc21hbGxlcjogVW5pdCwgaW4gbGFyZ2VyOiBVbml0LCBmb3IgZGF0ZTogRGF0ZSkgLT4gTlNSYW5nZSB7fQogICAgb3BlbiBmdW5jIHJhbmdlKG9mV2Vla2VuZENvbnRhaW5pbmcgZGF0ZTogRGF0ZSkgLT4gRGF0ZUludGVydmFsPyB7fQogICAgb3BlbiBmdW5jIHN0YXJ0T2ZEYXkoZm9yIGRhdGU6IERhdGUpIC0+IERhdGUge30KfQpvcGVuIGNsYXNzIE5TQ2hhcmFjdGVyU2V0IDogQW55T2JqZWN0LCBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNDb2RpbmcsIE5TQ29weWluZywgTlNNdXRhYmxlQ29weWluZywgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wsIF9TdHJ1Y3RUeXBlQnJpZGdlYWJsZSwgX1N3aWZ0QnJpZGdlYWJsZSB7CiAgICBvcGVuIGNsYXNzIHZhciBhbHBoYW51bWVyaWNzOiBDaGFyYWN0ZXJTZXQgeyBnZXQgfQogICAgb3BlbiBjbGFzcyB2YXIgY2FwaXRhbGl6ZWRMZXR0ZXJzOiBDaGFyYWN0ZXJTZXQgeyBnZXQgfQogICAgb3BlbiBjbGFzcyB2YXIgY29udHJvbENoYXJhY3RlcnM6IENoYXJhY3RlclNldCB7IGdldCB9CiAgICBvcGVuIGNsYXNzIHZhciBkZWNpbWFsRGlnaXRzOiBDaGFyYWN0ZXJTZXQgeyBnZXQgfQogICAgb3BlbiBjbGFzcyB2YXIgZGVjb21wb3NhYmxlczogQ2hhcmFjdGVyU2V0IHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgdmFyIGlsbGVnYWxDaGFyYWN0ZXJzOiBDaGFyYWN0ZXJTZXQgeyBnZXQgfQogICAgcHVibGljIGNsYXNzIHZhciBsZXR0ZXJzOiBDaGFyYWN0ZXJTZXQgeyBnZXQgfQogICAgb3BlbiBjbGFzcyB2YXIgbG93ZXJjYXNlTGV0dGVyczogQ2hhcmFjdGVyU2V0IHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgdmFyIG5ld2xpbmVzOiBDaGFyYWN0ZXJTZXQgeyBnZXQgfQogICAgb3BlbiBjbGFzcyB2YXIgbm9uQmFzZUNoYXJhY3RlcnM6IENoYXJhY3RlclNldCB7IGdldCB9CiAgICBvcGVuIGNsYXNzIHZhciBwdW5jdHVhdGlvbkNoYXJhY3RlcnM6IENoYXJhY3RlclNldCB7IGdldCB9CiAgICBvcGVuIGNsYXNzIHZhciBzeW1ib2xzOiBDaGFyYWN0ZXJTZXQgeyBnZXQgfQogICAgb3BlbiBjbGFzcyB2YXIgdXBwZXJjYXNlTGV0dGVyczogQ2hhcmFjdGVyU2V0IHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgdmFyIHVybEZyYWdtZW50QWxsb3dlZDogQ2hhcmFjdGVyU2V0IHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgdmFyIHVybEhvc3RBbGxvd2VkOiBDaGFyYWN0ZXJTZXQgeyBnZXQgfQogICAgb3BlbiBjbGFzcyB2YXIgdXJsUGFzc3dvcmRBbGxvd2VkOiBDaGFyYWN0ZXJTZXQgeyBnZXQgfQogICAgb3BlbiBjbGFzcyB2YXIgdXJsUGF0aEFsbG93ZWQ6IENoYXJhY3RlclNldCB7IGdldCB9CiAgICBvcGVuIGNsYXNzIHZhciB1cmxRdWVyeUFsbG93ZWQ6IENoYXJhY3RlclNldCB7IGdldCB9CiAgICBvcGVuIGNsYXNzIHZhciB1cmxVc2VyQWxsb3dlZDogQ2hhcmFjdGVyU2V0IHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgdmFyIHdoaXRlc3BhY2VzOiBDaGFyYWN0ZXJTZXQgeyBnZXQgfQogICAgb3BlbiBjbGFzcyB2YXIgd2hpdGVzcGFjZXNBbmROZXdsaW5lczogQ2hhcmFjdGVyU2V0IHsgZ2V0IH0KICAgIHB1YmxpYyBpbml0KGJpdG1hcFJlcHJlc2VudGF0aW9uIGRhdGE6IERhdGEpIHt9CiAgICBwdWJsaWMgaW5pdChjaGFyYWN0ZXJzSW4gYVN0cmluZzogU3RyaW5nKSB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQ/KGNvbnRlbnRzT2ZGaWxlIGZOYW1lOiBTdHJpbmcpIHt9CiAgICBwdWJsaWMgaW5pdChyYW5nZSBhUmFuZ2U6IE5TUmFuZ2UpIHt9CiAgICBvcGVuIHZhciBiaXRtYXBSZXByZXNlbnRhdGlvbjogRGF0YSB7IGdldCB9CiAgICBvcGVuIHZhciBpbnZlcnRlZDogQ2hhcmFjdGVyU2V0IHsgZ2V0IH0KICAgIG9wZW4gZnVuYyBjaGFyYWN0ZXJJc01lbWJlcihfIGFDaGFyYWN0ZXI6IHVuaWNoYXIpIC0+IEJvb2wge30KICAgIG9wZW4gZnVuYyBoYXNNZW1iZXJJblBsYW5lKF8gdGhlUGxhbmU6IFVJbnQ4KSAtPiBCb29sIHt9CiAgICBvcGVuIGZ1bmMgaXNTdXBlcnNldChvZiB0aGVPdGhlclNldDogQ2hhcmFjdGVyU2V0KSAtPiBCb29sIHt9CiAgICBvcGVuIGZ1bmMgbG9uZ0NoYXJhY3RlcklzTWVtYmVyKF8gdGhlTG9uZ0NoYXI6IFVJbnQzMikgLT4gQm9vbCB7fQp9Cm9wZW4gY2xhc3MgTlNDb2RlciA6IEFueU9iamVjdCwgQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sIHsKICAgIG9wZW4gdmFyIGFsbG93ZWRDbGFzc2VzOiBbQW55Q2xhc3NdPyB7IGdldCB9CiAgICBvcGVuIHZhciBhbGxvd3NLZXllZENvZGluZzogQm9vbCB7IGdldCB9CiAgICBvcGVuIHZhciBkZWNvZGluZ0ZhaWx1cmVQb2xpY3k6IE5TQ29kZXIuRGVjb2RpbmdGYWlsdXJlUG9saWN5IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGVycm9yOiBFcnJvcj8geyBnZXQgfQogICAgb3BlbiB2YXIgcmVxdWlyZXNTZWN1cmVDb2Rpbmc6IEJvb2wgeyBnZXQgfQogICAgb3BlbiB2YXIgc3lzdGVtVmVyc2lvbjogVUludDMyIHsgZ2V0IH0KICAgIG9wZW4gZnVuYyBjb250YWluc1ZhbHVlKGZvcktleSBrZXk6IFN0cmluZykgLT4gQm9vbCB7fQogICAgb3BlbiBmdW5jIGRlY29kZUFycmF5KG9mT2JqQ1R5cGUgaXRlbVR5cGU6IFVuc2FmZVBvaW50ZXI8SW50OD4sIGNvdW50OiBJbnQsIGF0IGFycmF5OiBVbnNhZmVNdXRhYmxlUmF3UG9pbnRlcikge30KICAgIG9wZW4gZnVuYyBkZWNvZGVCb29sKGZvcktleSBrZXk6IFN0cmluZykgLT4gQm9vbCB7fQogICAgb3BlbiBmdW5jIGRlY29kZUNJbnQoZm9yS2V5IGtleTogU3RyaW5nKSAtPiBJbnQzMiB7fQogICAgb3BlbiBmdW5jIGRlY29kZURhdGEoKSAtPiBEYXRhPyB7fQogICAgb3BlbiBmdW5jIGRlY29kZURvdWJsZShmb3JLZXkga2V5OiBTdHJpbmcpIC0+IERvdWJsZSB7fQogICAgb3BlbiBmdW5jIGRlY29kZUZsb2F0KGZvcktleSBrZXk6IFN0cmluZykgLT4gRmxvYXQge30KICAgIG9wZW4gZnVuYyBkZWNvZGVJbnQzMihmb3JLZXkga2V5OiBTdHJpbmcpIC0+IEludDMyIHt9CiAgICBvcGVuIGZ1bmMgZGVjb2RlSW50NjQoZm9yS2V5IGtleTogU3RyaW5nKSAtPiBJbnQ2NCB7fQogICAgb3BlbiBmdW5jIGRlY29kZUludGVnZXIoZm9yS2V5IGtleTogU3RyaW5nKSAtPiBJbnQge30KICAgIG9wZW4gZnVuYyBkZWNvZGVPYmplY3QoKSAtPiBBbnk/IHt9CiAgICBvcGVuIGZ1bmMgZGVjb2RlT2JqZWN0KGZvcktleSBrZXk6IFN0cmluZykgLT4gQW55PyB7fQogICAgb3BlbiBmdW5jIGRlY29kZU9iamVjdChvZiBjbGFzc2VzOiBbQW55Q2xhc3NdPywgZm9yS2V5IGtleTogU3RyaW5nKSAtPiBBbnk/IHt9CiAgICBwdWJsaWMgZnVuYyBkZWNvZGVQb2ludCgpIC0+IE5TUG9pbnQge30KICAgIHB1YmxpYyBmdW5jIGRlY29kZVBvaW50KGZvcktleSBrZXk6IFN0cmluZykgLT4gTlNQb2ludCB7fQogICAgb3BlbiBmdW5jIGRlY29kZVByb3BlcnR5TGlzdCgpIC0+IEFueT8ge30KICAgIG9wZW4gZnVuYyBkZWNvZGVQcm9wZXJ0eUxpc3QoZm9yS2V5IGtleTogU3RyaW5nKSAtPiBBbnk/IHt9CiAgICBwdWJsaWMgZnVuYyBkZWNvZGVSZWN0KCkgLT4gTlNSZWN0IHt9CiAgICBwdWJsaWMgZnVuYyBkZWNvZGVSZWN0KGZvcktleSBrZXk6IFN0cmluZykgLT4gTlNSZWN0IHt9CiAgICBwdWJsaWMgZnVuYyBkZWNvZGVTaXplKCkgLT4gTlNTaXplIHt9CiAgICBwdWJsaWMgZnVuYyBkZWNvZGVTaXplKGZvcktleSBrZXk6IFN0cmluZykgLT4gTlNTaXplIHt9CiAgICBvcGVuIGZ1bmMgZGVjb2RlVG9wTGV2ZWxPYmplY3QoKSB0aHJvd3MgLT4gQW55PyB7fQogICAgb3BlbiBmdW5jIGRlY29kZVRvcExldmVsT2JqZWN0KGZvcktleSBrZXk6IFN0cmluZykgdGhyb3dzIC0+IEFueT8ge30KICAgIG9wZW4gZnVuYyBkZWNvZGVUb3BMZXZlbE9iamVjdChvZiBjbGFzc2VzOiBbQW55Q2xhc3NdLCBmb3JLZXkga2V5OiBTdHJpbmcpIHRocm93cyAtPiBBbnk/IHt9CiAgICBvcGVuIGZ1bmMgZGVjb2RlVmFsdWUob2ZPYmpDVHlwZSB0eXBlOiBVbnNhZmVQb2ludGVyPEludDg+LCBhdCBkYXRhOiBVbnNhZmVNdXRhYmxlUmF3UG9pbnRlcikge30KICAgIG9wZW4gZnVuYyBlbmNvZGUoXyBkYXRhOiBEYXRhKSB7fQogICAgb3BlbiBmdW5jIGVuY29kZShfIG9iamVjdDogQW55Pykge30KICAgIG9wZW4gZnVuYyBlbmNvZGUoXyBib29sdjogQm9vbCwgZm9yS2V5IGtleTogU3RyaW5nKSB7fQogICAgb3BlbiBmdW5jIGVuY29kZShfIGludHY6IEludCwgZm9yS2V5IGtleTogU3RyaW5nKSB7fQogICAgb3BlbiBmdW5jIGVuY29kZShfIGludHY6IEludDMyLCBmb3JLZXkga2V5OiBTdHJpbmcpIHt9CiAgICBvcGVuIGZ1bmMgZW5jb2RlKF8gaW50djogSW50NjQsIGZvcktleSBrZXk6IFN0cmluZykge30KICAgIG9wZW4gZnVuYyBlbmNvZGUoXyBvYmp2OiBBbnk/LCBmb3JLZXkga2V5OiBTdHJpbmcpIHt9CiAgICBvcGVuIGZ1bmMgZW5jb2RlKF8gcmVhbHY6IERvdWJsZSwgZm9yS2V5IGtleTogU3RyaW5nKSB7fQogICAgb3BlbiBmdW5jIGVuY29kZUFycmF5KG9mT2JqQ1R5cGUgdHlwZTogVW5zYWZlUG9pbnRlcjxJbnQ4PiwgY291bnQ6IEludCwgYXQgYXJyYXk6IFVuc2FmZVJhd1BvaW50ZXIpIHt9CiAgICBvcGVuIGZ1bmMgZW5jb2RlQnljb3B5T2JqZWN0KF8gYW5PYmplY3Q6IEFueT8pIHt9CiAgICBvcGVuIGZ1bmMgZW5jb2RlQnlyZWZPYmplY3QoXyBhbk9iamVjdDogQW55Pykge30KICAgIG9wZW4gZnVuYyBlbmNvZGVCeXRlcyhfIGJ5dGVhZGRyOiBVbnNhZmVSYXdQb2ludGVyPywgbGVuZ3RoOiBJbnQpIHt9CiAgICBvcGVuIGZ1bmMgZW5jb2RlQnl0ZXMoXyBieXRlc3A6IFVuc2FmZVBvaW50ZXI8VUludDg+PywgbGVuZ3RoIGxlbnY6IEludCwgZm9yS2V5IGtleTogU3RyaW5nKSB7fQogICAgb3BlbiBmdW5jIGVuY29kZUNvbmRpdGlvbmFsT2JqZWN0KF8gb2JqZWN0OiBBbnk/KSB7fQogICAgb3BlbiBmdW5jIGVuY29kZUNvbmRpdGlvbmFsT2JqZWN0KF8gb2JqdjogQW55PywgZm9yS2V5IGtleTogU3RyaW5nKSB7fQogICAgb3BlbiBmdW5jIGVuY29kZVByb3BlcnR5TGlzdChfIGFQcm9wZXJ0eUxpc3Q6IEFueSkge30KICAgIG9wZW4gZnVuYyBlbmNvZGVSb290T2JqZWN0KF8gcm9vdE9iamVjdDogQW55KSB7fQogICAgb3BlbiBmdW5jIGVuY29kZVZhbHVlKG9mT2JqQ1R5cGUgdHlwZTogVW5zYWZlUG9pbnRlcjxJbnQ4PiwgYXQgYWRkcjogVW5zYWZlUmF3UG9pbnRlcikge30KICAgIG9wZW4gZnVuYyBmYWlsV2l0aEVycm9yKF8gZXJyb3I6IEVycm9yKSB7fQogICAgb3BlbiBmdW5jIHZlcnNpb24oZm9yQ2xhc3NOYW1lIGNsYXNzTmFtZTogU3RyaW5nKSAtPiBJbnQge30KICAgIG9wZW4gZnVuYyB3aXRoRGVjb2RlZFVuc2FmZUJ1ZmZlclBvaW50ZXI8UmVzdWx0VHlwZT4oZm9yS2V5IGtleTogU3RyaW5nLCBib2R5OiAoVW5zYWZlQnVmZmVyUG9pbnRlcjxVSW50OD4/KSB0aHJvd3MgLT4gUmVzdWx0VHlwZSkgcmV0aHJvd3MgLT4gUmVzdWx0VHlwZSB7fQp9Cm9wZW4gY2xhc3MgTlNDb21wYXJpc29uUHJlZGljYXRlIDogQW55T2JqZWN0LCBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNDb2RpbmcsIE5TQ29weWluZywgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wsIE5TUHJlZGljYXRlLCBOU1NlY3VyZUNvZGluZyB7CiAgICBwdWJsaWMgaW5pdChsZWZ0RXhwcmVzc2lvbiBsaHM6IE5TRXhwcmVzc2lvbiwgcmlnaHRFeHByZXNzaW9uIHJoczogTlNFeHByZXNzaW9uLCBtb2RpZmllcjogTW9kaWZpZXIsIHR5cGU6IE9wZXJhdG9yLCBvcHRpb25zOiBPcHRpb25zKSB7fQogICAgb3BlbiB2YXIgY29tcGFyaXNvblByZWRpY2F0ZU1vZGlmaWVyOiBNb2RpZmllciB7IGdldCB9CiAgICBvcGVuIHZhciBsZWZ0RXhwcmVzc2lvbjogTlNFeHByZXNzaW9uIHsgZ2V0IH0KICAgIG9wZW4gdmFyIG9wdGlvbnM6IE9wdGlvbnMgeyBnZXQgfQogICAgb3BlbiB2YXIgcHJlZGljYXRlT3BlcmF0b3JUeXBlOiBPcGVyYXRvciB7IGdldCB9CiAgICBvcGVuIHZhciByaWdodEV4cHJlc3Npb246IE5TRXhwcmVzc2lvbiB7IGdldCB9Cn0Kb3BlbiBjbGFzcyBOU0NvbXBvdW5kUHJlZGljYXRlIDogQW55T2JqZWN0LCBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNDb2RpbmcsIE5TQ29weWluZywgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wsIE5TUHJlZGljYXRlLCBOU1NlY3VyZUNvZGluZyB7CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdChhbmRQcmVkaWNhdGVXaXRoU3VicHJlZGljYXRlcyBzdWJwcmVkaWNhdGVzOiBbTlNQcmVkaWNhdGVdKSB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQobm90UHJlZGljYXRlV2l0aFN1YnByZWRpY2F0ZSBwcmVkaWNhdGU6IE5TUHJlZGljYXRlKSB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQob3JQcmVkaWNhdGVXaXRoU3VicHJlZGljYXRlcyBzdWJwcmVkaWNhdGVzOiBbTlNQcmVkaWNhdGVdKSB7fQogICAgcHVibGljIGluaXQodHlwZTogTG9naWNhbFR5cGUsIHN1YnByZWRpY2F0ZXM6IFtOU1ByZWRpY2F0ZV0pIHt9CiAgICBvcGVuIHZhciBjb21wb3VuZFByZWRpY2F0ZVR5cGU6IExvZ2ljYWxUeXBlIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBzdWJwcmVkaWNhdGVzOiBbTlNQcmVkaWNhdGVdIHsgZ2V0IHNldCB9Cn0Kb3BlbiBjbGFzcyBOU0NvbmRpdGlvbiA6IEFueU9iamVjdCwgQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TTG9ja2luZywgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wgewogICAgb3BlbiB2YXIgbmFtZTogU3RyaW5nPyB7IGdldCBzZXQgfQogICAgb3BlbiBmdW5jIGJyb2FkY2FzdCgpIHt9CiAgICBvcGVuIGZ1bmMgc2lnbmFsKCkge30KICAgIG9wZW4gZnVuYyB3YWl0KCkge30KICAgIG9wZW4gZnVuYyB3YWl0KHVudGlsIGxpbWl0OiBEYXRlKSAtPiBCb29sIHt9Cn0Kb3BlbiBjbGFzcyBOU0NvbmRpdGlvbkxvY2sgOiBBbnlPYmplY3QsIEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU0xvY2tpbmcsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sIHsKICAgIHB1YmxpYyBpbml0KGNvbmRpdGlvbjogSW50KSB7fQogICAgb3BlbiB2YXIgY29uZGl0aW9uOiBJbnQgeyBnZXQgfQogICAgb3BlbiB2YXIgbmFtZTogU3RyaW5nPyB7IGdldCBzZXQgfQogICAgb3BlbiBmdW5jIGxvY2soYmVmb3JlIGxpbWl0OiBEYXRlKSAtPiBCb29sIHt9CiAgICBvcGVuIGZ1bmMgbG9jayh3aGVuQ29uZGl0aW9uIGNvbmRpdGlvbjogSW50KSB7fQogICAgb3BlbiBmdW5jIGxvY2sod2hlbkNvbmRpdGlvbiBjb25kaXRpb246IEludCwgYmVmb3JlIGxpbWl0OiBEYXRlKSAtPiBCb29sIHt9CiAgICBvcGVuIGZ1bmMgdHJ5KCkgLT4gQm9vbCB7fQogICAgb3BlbiBmdW5jIHRyeUxvY2sod2hlbkNvbmRpdGlvbiBjb25kaXRpb246IEludCkgLT4gQm9vbCB7fQogICAgb3BlbiBmdW5jIHVubG9jayh3aXRoQ29uZGl0aW9uIGNvbmRpdGlvbjogSW50KSB7fQp9Cm9wZW4gY2xhc3MgTlNDb3VudGVkU2V0IDogQW55T2JqZWN0LCBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21SZWZsZWN0YWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TQ29kaW5nLCBOU0NvcHlpbmcsIE5TTXV0YWJsZUNvcHlpbmcsIE5TTXV0YWJsZVNldCwgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wsIE5TU2VjdXJlQ29kaW5nLCBOU1NldCwgU2VxdWVuY2UsIF9DRkJyaWRnZWFibGUsIF9TdHJ1Y3RUeXBlQnJpZGdlYWJsZSwgX1N3aWZ0QnJpZGdlYWJsZSB7CiAgICBvcGVuIGZ1bmMgY291bnQoZm9yIG9iamVjdDogQW55KSAtPiBJbnQge30KfQpvcGVuIGNsYXNzIE5TRGF0YSA6IEFueU9iamVjdCwgQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIERhdGFQcm90b2NvbCwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNDb2RpbmcsIE5TQ29weWluZywgTlNNdXRhYmxlQ29weWluZywgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wsIE5TU2VjdXJlQ29kaW5nLCBSYW5kb21BY2Nlc3NDb2xsZWN0aW9uLCBfQ0ZCcmlkZ2VhYmxlLCBfSGFzQ3VzdG9tQW55SGFzaGFibGVSZXByZXNlbnRhdGlvbiwgX1N0cnVjdFR5cGVCcmlkZ2VhYmxlLCBfU3dpZnRCcmlkZ2VhYmxlIHsKICAgIHB1YmxpYyBpbml0PyhiYXNlNjRFbmNvZGVkIGJhc2U2NERhdGE6IERhdGEsIG9wdGlvbnM6IEJhc2U2NERlY29kaW5nT3B0aW9ucyA9IHgpIHt9CiAgICBwdWJsaWMgaW5pdD8oYmFzZTY0RW5jb2RlZCBiYXNlNjRTdHJpbmc6IFN0cmluZywgb3B0aW9uczogQmFzZTY0RGVjb2RpbmdPcHRpb25zID0geCkge30KICAgIHB1YmxpYyBpbml0KGJ5dGVzOiBVbnNhZmVSYXdQb2ludGVyPywgbGVuZ3RoOiBJbnQpIHt9CiAgICBwdWJsaWMgaW5pdChieXRlc05vQ29weSBieXRlczogVW5zYWZlTXV0YWJsZVJhd1BvaW50ZXIsIGxlbmd0aDogSW50KSB7fQogICAgcHVibGljIGluaXQoYnl0ZXNOb0NvcHkgYnl0ZXM6IFVuc2FmZU11dGFibGVSYXdQb2ludGVyLCBsZW5ndGg6IEludCwgZGVhbGxvY2F0b3I6ICgoVW5zYWZlTXV0YWJsZVJhd1BvaW50ZXIsIEludCkgLT4gVm9pZCk/ID0geCkge30KICAgIHB1YmxpYyBpbml0KGJ5dGVzTm9Db3B5IGJ5dGVzOiBVbnNhZmVNdXRhYmxlUmF3UG9pbnRlciwgbGVuZ3RoOiBJbnQsIGZyZWVXaGVuRG9uZTogQm9vbCkge30KICAgIHB1YmxpYyBpbml0Pyhjb250ZW50c09mIHVybDogVVJMKSB7fQogICAgcHVibGljIGluaXQoY29udGVudHNPZiB1cmw6IFVSTCwgb3B0aW9ucyByZWFkT3B0aW9uc01hc2s6IFJlYWRpbmdPcHRpb25zID0geCkgdGhyb3dzIHt9CiAgICBwdWJsaWMgaW5pdD8oY29udGVudHNPZkZpbGUgcGF0aDogU3RyaW5nKSB7fQogICAgcHVibGljIGluaXQoY29udGVudHNPZkZpbGUgcGF0aDogU3RyaW5nLCBvcHRpb25zIHJlYWRPcHRpb25zTWFzazogUmVhZGluZ09wdGlvbnMgPSB4KSB0aHJvd3Mge30KICAgIHB1YmxpYyBpbml0KGRhdGE6IERhdGEpIHt9CiAgICBvcGVuIHZhciBieXRlczogVW5zYWZlUmF3UG9pbnRlciB7IGdldCB9CiAgICBAbm9ub2JqYyBwdWJsaWMgdmFyIGVuZEluZGV4OiBJbnQgeyBnZXQgfQogICAgb3BlbiB2YXIgbGVuZ3RoOiBJbnQgeyBnZXQgfQogICAgQG5vbm9iamMgcHVibGljIHZhciBzdGFydEluZGV4OiBJbnQgeyBnZXQgfQogICAgQG5vbm9iamMgcHVibGljIHN1YnNjcmlwdChwb3NpdGlvbjogSW50KSAtPiBVSW50OCB7IGdldCB9IHt9CiAgICBvcGVuIGZ1bmMgYmFzZTY0RW5jb2RlZERhdGEob3B0aW9uczogQmFzZTY0RW5jb2RpbmdPcHRpb25zID0geCkgLT4gRGF0YSB7fQogICAgb3BlbiBmdW5jIGJhc2U2NEVuY29kZWRTdHJpbmcob3B0aW9uczogQmFzZTY0RW5jb2RpbmdPcHRpb25zID0geCkgLT4gU3RyaW5nIHt9CiAgICBvcGVuIGZ1bmMgZW51bWVyYXRlQnl0ZXMoXyBibG9jazogKFVuc2FmZVJhd1BvaW50ZXIsIE5TUmFuZ2UsIFVuc2FmZU11dGFibGVQb2ludGVyPEJvb2w+KSAtPiBWb2lkKSB7fQogICAgb3BlbiBmdW5jIGdldEJ5dGVzKF8gYnVmZmVyOiBVbnNhZmVNdXRhYmxlUmF3UG9pbnRlciwgbGVuZ3RoOiBJbnQpIHt9CiAgICBvcGVuIGZ1bmMgZ2V0Qnl0ZXMoXyBidWZmZXI6IFVuc2FmZU11dGFibGVSYXdQb2ludGVyLCByYW5nZTogTlNSYW5nZSkge30KICAgIG9wZW4gZnVuYyBpc0VxdWFsKHRvIG90aGVyOiBEYXRhKSAtPiBCb29sIHt9CiAgICBvcGVuIGZ1bmMgcmFuZ2Uob2YgZGF0YVRvRmluZDogRGF0YSwgb3B0aW9ucyBtYXNrOiBTZWFyY2hPcHRpb25zID0geCwgaW4gc2VhcmNoUmFuZ2U6IE5TUmFuZ2UpIC0+IE5TUmFuZ2Uge30KICAgIG9wZW4gZnVuYyBzdWJkYXRhKHdpdGggcmFuZ2U6IE5TUmFuZ2UpIC0+IERhdGEge30KICAgIG9wZW4gZnVuYyB3cml0ZSh0byB1cmw6IFVSTCwgYXRvbWljYWxseTogQm9vbCkgLT4gQm9vbCB7fQogICAgb3BlbiBmdW5jIHdyaXRlKHRvIHVybDogVVJMLCBvcHRpb25zIHdyaXRlT3B0aW9uc01hc2s6IFdyaXRpbmdPcHRpb25zID0geCkgdGhyb3dzIHt9CiAgICBvcGVuIGZ1bmMgd3JpdGUodG9GaWxlIHBhdGg6IFN0cmluZywgYXRvbWljYWxseSB1c2VBdXhpbGlhcnlGaWxlOiBCb29sKSAtPiBCb29sIHt9CiAgICBvcGVuIGZ1bmMgd3JpdGUodG9GaWxlIHBhdGg6IFN0cmluZywgb3B0aW9ucyB3cml0ZU9wdGlvbnNNYXNrOiBXcml0aW5nT3B0aW9ucyA9IHgpIHRocm93cyB7fQp9Cm9wZW4gY2xhc3MgTlNEYXRlIDogQW55T2JqZWN0LCBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNDb2RpbmcsIE5TQ29weWluZywgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wsIE5TU2VjdXJlQ29kaW5nLCBfQ0ZCcmlkZ2VhYmxlLCBfU3RydWN0VHlwZUJyaWRnZWFibGUsIF9Td2lmdEJyaWRnZWFibGUgewogICAgb3BlbiBjbGFzcyB2YXIgZGlzdGFudEZ1dHVyZTogRGF0ZSB7IGdldCB9CiAgICBvcGVuIGNsYXNzIHZhciBkaXN0YW50UGFzdDogRGF0ZSB7IGdldCB9CiAgICBvcGVuIGNsYXNzIHZhciB0aW1lSW50ZXJ2YWxTaW5jZVJlZmVyZW5jZURhdGU6IFRpbWVJbnRlcnZhbCB7IGdldCB9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdCh0aW1lSW50ZXJ2YWwgc2Vjc1RvQmVBZGRlZDogVGltZUludGVydmFsLCBzaW5jZSBkYXRlOiBEYXRlKSB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQodGltZUludGVydmFsU2luY2UxOTcwIHNlY3M6IFRpbWVJbnRlcnZhbCkge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KHRpbWVJbnRlcnZhbFNpbmNlTm93IHNlY3M6IFRpbWVJbnRlcnZhbCkge30KICAgIHB1YmxpYyByZXF1aXJlZCBpbml0KHRpbWVJbnRlcnZhbFNpbmNlUmVmZXJlbmNlRGF0ZSB0aTogVGltZUludGVydmFsKSB7fQogICAgb3BlbiB2YXIgdGltZUludGVydmFsU2luY2UxOTcwOiBUaW1lSW50ZXJ2YWwgeyBnZXQgfQogICAgb3BlbiB2YXIgdGltZUludGVydmFsU2luY2VOb3c6IFRpbWVJbnRlcnZhbCB7IGdldCB9CiAgICBvcGVuIHZhciB0aW1lSW50ZXJ2YWxTaW5jZVJlZmVyZW5jZURhdGU6IFRpbWVJbnRlcnZhbCB7IGdldCB9CiAgICBvcGVuIGZ1bmMgYWRkaW5nVGltZUludGVydmFsKF8gdGk6IFRpbWVJbnRlcnZhbCkgLT4gRGF0ZSB7fQogICAgb3BlbiBmdW5jIGNvbXBhcmUoXyBvdGhlcjogRGF0ZSkgLT4gQ29tcGFyaXNvblJlc3VsdCB7fQogICAgb3BlbiBmdW5jIGRlc2NyaXB0aW9uKHdpdGggbG9jYWxlOiBMb2NhbGU/KSAtPiBTdHJpbmcge30KICAgIG9wZW4gZnVuYyBlYXJsaWVyRGF0ZShfIGFub3RoZXJEYXRlOiBEYXRlKSAtPiBEYXRlIHt9CiAgICBvcGVuIGZ1bmMgaXNFcXVhbCh0byBvdGhlckRhdGU6IERhdGUpIC0+IEJvb2wge30KICAgIG9wZW4gZnVuYyBsYXRlckRhdGUoXyBhbm90aGVyRGF0ZTogRGF0ZSkgLT4gRGF0ZSB7fQogICAgb3BlbiBmdW5jIHRpbWVJbnRlcnZhbFNpbmNlKF8gYW5vdGhlckRhdGU6IERhdGUpIC0+IFRpbWVJbnRlcnZhbCB7fQp9Cm9wZW4gY2xhc3MgTlNEYXRlQ29tcG9uZW50cyA6IEFueU9iamVjdCwgQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TQ29kaW5nLCBOU0NvcHlpbmcsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBOU1NlY3VyZUNvZGluZywgX1N0cnVjdFR5cGVCcmlkZ2VhYmxlLCBfU3dpZnRCcmlkZ2VhYmxlIHsKICAgIG9wZW4gdmFyIGNhbGVuZGFyOiBDYWxlbmRhcj8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGRhdGU6IERhdGU/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGRheTogSW50IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBlcmE6IEludCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgaG91cjogSW50IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBpc0xlYXBNb250aDogQm9vbCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgaXNWYWxpZERhdGU6IEJvb2wgeyBnZXQgfQogICAgb3BlbiB2YXIgbWludXRlOiBJbnQgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIG1vbnRoOiBJbnQgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIG5hbm9zZWNvbmQ6IEludCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgcXVhcnRlcjogSW50IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBzZWNvbmQ6IEludCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgdGltZVpvbmU6IFRpbWVab25lPyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgd2Vla09mTW9udGg6IEludCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgd2Vla09mWWVhcjogSW50IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciB3ZWVrZGF5OiBJbnQgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHdlZWtkYXlPcmRpbmFsOiBJbnQgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHllYXI6IEludCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgeWVhckZvcldlZWtPZlllYXI6IEludCB7IGdldCBzZXQgfQogICAgb3BlbiBmdW5jIGlzVmFsaWREYXRlKGluIGNhbGVuZGFyOiBDYWxlbmRhcikgLT4gQm9vbCB7fQogICAgb3BlbiBmdW5jIHNldFZhbHVlKF8gdmFsdWU6IEludCwgZm9yQ29tcG9uZW50IHVuaXQ6IE5TQ2FsZW5kYXIuVW5pdCkge30KICAgIG9wZW4gZnVuYyB2YWx1ZShmb3JDb21wb25lbnQgdW5pdDogTlNDYWxlbmRhci5Vbml0KSAtPiBJbnQge30KfQpvcGVuIGNsYXNzIE5TRGF0ZUludGVydmFsIDogQW55T2JqZWN0LCBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNDb2RpbmcsIE5TQ29weWluZywgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wsIE5TU2VjdXJlQ29kaW5nLCBfU3RydWN0VHlwZUJyaWRnZWFibGUgewogICAgcHVibGljIGluaXQoc3RhcnQgc3RhcnREYXRlOiBEYXRlLCBkdXJhdGlvbjogVGltZUludGVydmFsKSB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQoc3RhcnQgc3RhcnREYXRlOiBEYXRlLCBlbmQgZW5kRGF0ZTogRGF0ZSkge30KICAgIG9wZW4gdmFyIGR1cmF0aW9uOiBUaW1lSW50ZXJ2YWwgeyBnZXQgfQogICAgb3BlbiB2YXIgZW5kRGF0ZTogRGF0ZSB7IGdldCB9CiAgICBvcGVuIHZhciBzdGFydERhdGU6IERhdGUgeyBnZXQgfQogICAgb3BlbiBmdW5jIGNvbXBhcmUoXyBkYXRlSW50ZXJ2YWw6IERhdGVJbnRlcnZhbCkgLT4gQ29tcGFyaXNvblJlc3VsdCB7fQogICAgb3BlbiBmdW5jIGNvbnRhaW5zKF8gZGF0ZTogRGF0ZSkgLT4gQm9vbCB7fQogICAgb3BlbiBmdW5jIGludGVyc2VjdGlvbih3aXRoIGRhdGVJbnRlcnZhbDogRGF0ZUludGVydmFsKSAtPiBEYXRlSW50ZXJ2YWw/IHt9CiAgICBvcGVuIGZ1bmMgaW50ZXJzZWN0cyhfIGRhdGVJbnRlcnZhbDogRGF0ZUludGVydmFsKSAtPiBCb29sIHt9CiAgICBvcGVuIGZ1bmMgaXNFcXVhbCh0byBkYXRlSW50ZXJ2YWw6IERhdGVJbnRlcnZhbCkgLT4gQm9vbCB7fQp9Cm9wZW4gY2xhc3MgTlNEZWNpbWFsTnVtYmVyIDogQW55T2JqZWN0LCBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBFeHByZXNzaWJsZUJ5Qm9vbGVhbkxpdGVyYWwsIEV4cHJlc3NpYmxlQnlGbG9hdExpdGVyYWwsIEV4cHJlc3NpYmxlQnlJbnRlZ2VyTGl0ZXJhbCwgSGFzaGFibGUsIE5TQ29kaW5nLCBOU0NvcHlpbmcsIE5TTnVtYmVyLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCwgTlNTZWN1cmVDb2RpbmcsIE5TVmFsdWUsIF9GYWN0b3J5LCBfTlNOdW1iZXJDYXN0aW5nV2l0aG91dEJyaWRnaW5nIHsKICAgIG9wZW4gY2xhc3MgdmFyIGRlZmF1bHRCZWhhdmlvcjogTlNEZWNpbWFsTnVtYmVyQmVoYXZpb3JzIHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgdmFyIG1heGltdW06IE5TRGVjaW1hbE51bWJlciB7IGdldCB9CiAgICBvcGVuIGNsYXNzIHZhciBtaW5pbXVtOiBOU0RlY2ltYWxOdW1iZXIgeyBnZXQgfQogICAgb3BlbiBjbGFzcyB2YXIgbm90QU51bWJlcjogTlNEZWNpbWFsTnVtYmVyIHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgdmFyIG9uZTogTlNEZWNpbWFsTnVtYmVyIHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgdmFyIHplcm86IE5TRGVjaW1hbE51bWJlciB7IGdldCB9CiAgICBwdWJsaWMgaW5pdChkZWNpbWFsIGRjbTogRGVjaW1hbCkge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KG1hbnRpc3NhOiBVSW50NjQsIGV4cG9uZW50OiBJbnQxNiwgaXNOZWdhdGl2ZTogQm9vbCkge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KHN0cmluZyBudW1iZXJWYWx1ZTogU3RyaW5nPykge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KHN0cmluZyBudW1iZXJWYWx1ZTogU3RyaW5nPywgbG9jYWxlOiBBbnk/KSB7fQogICAgb3BlbiBmdW5jIGFkZGluZyhfIG90aGVyOiBOU0RlY2ltYWxOdW1iZXIpIC0+IE5TRGVjaW1hbE51bWJlciB7fQogICAgb3BlbiBmdW5jIGFkZGluZyhfIG90aGVyOiBOU0RlY2ltYWxOdW1iZXIsIHdpdGhCZWhhdmlvciBiOiBOU0RlY2ltYWxOdW1iZXJCZWhhdmlvcnM/KSAtPiBOU0RlY2ltYWxOdW1iZXIge30KICAgIG9wZW4gZnVuYyBkaXZpZGluZyhieSBvdGhlcjogTlNEZWNpbWFsTnVtYmVyKSAtPiBOU0RlY2ltYWxOdW1iZXIge30KICAgIG9wZW4gZnVuYyBkaXZpZGluZyhieSBvdGhlcjogTlNEZWNpbWFsTnVtYmVyLCB3aXRoQmVoYXZpb3IgYjogTlNEZWNpbWFsTnVtYmVyQmVoYXZpb3JzPykgLT4gTlNEZWNpbWFsTnVtYmVyIHt9CiAgICBvcGVuIGZ1bmMgbXVsdGlwbHlpbmcoYnkgb3RoZXI6IE5TRGVjaW1hbE51bWJlcikgLT4gTlNEZWNpbWFsTnVtYmVyIHt9CiAgICBvcGVuIGZ1bmMgbXVsdGlwbHlpbmcoYnkgb3RoZXI6IE5TRGVjaW1hbE51bWJlciwgd2l0aEJlaGF2aW9yIGI6IE5TRGVjaW1hbE51bWJlckJlaGF2aW9ycz8pIC0+IE5TRGVjaW1hbE51bWJlciB7fQogICAgb3BlbiBmdW5jIG11bHRpcGx5aW5nKGJ5UG93ZXJPZjEwIHBvd2VyOiBJbnQxNikgLT4gTlNEZWNpbWFsTnVtYmVyIHt9CiAgICBvcGVuIGZ1bmMgbXVsdGlwbHlpbmcoYnlQb3dlck9mMTAgcG93ZXI6IEludDE2LCB3aXRoQmVoYXZpb3IgYjogTlNEZWNpbWFsTnVtYmVyQmVoYXZpb3JzPykgLT4gTlNEZWNpbWFsTnVtYmVyIHt9CiAgICBvcGVuIGZ1bmMgcmFpc2luZyh0b1Bvd2VyIHBvd2VyOiBJbnQpIC0+IE5TRGVjaW1hbE51bWJlciB7fQogICAgb3BlbiBmdW5jIHJhaXNpbmcodG9Qb3dlciBwb3dlcjogSW50LCB3aXRoQmVoYXZpb3IgYjogTlNEZWNpbWFsTnVtYmVyQmVoYXZpb3JzPykgLT4gTlNEZWNpbWFsTnVtYmVyIHt9CiAgICBvcGVuIGZ1bmMgcm91bmRpbmcoYWNjb3JkaW5nVG9CZWhhdmlvciBiOiBOU0RlY2ltYWxOdW1iZXJCZWhhdmlvcnM/KSAtPiBOU0RlY2ltYWxOdW1iZXIge30KICAgIG9wZW4gZnVuYyBzdWJ0cmFjdGluZyhfIG90aGVyOiBOU0RlY2ltYWxOdW1iZXIpIC0+IE5TRGVjaW1hbE51bWJlciB7fQogICAgb3BlbiBmdW5jIHN1YnRyYWN0aW5nKF8gb3RoZXI6IE5TRGVjaW1hbE51bWJlciwgd2l0aEJlaGF2aW9yIGI6IE5TRGVjaW1hbE51bWJlckJlaGF2aW9ycz8pIC0+IE5TRGVjaW1hbE51bWJlciB7fQp9Cm9wZW4gY2xhc3MgTlNEZWNpbWFsTnVtYmVySGFuZGxlciA6IEFueU9iamVjdCwgQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TQ29kaW5nLCBOU0RlY2ltYWxOdW1iZXJCZWhhdmlvcnMsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sIHsKICAgIG9wZW4gY2xhc3MgdmFyIGRlZmF1bHQ6IE5TRGVjaW1hbE51bWJlckhhbmRsZXIgeyBnZXQgfQogICAgcHVibGljIGluaXQocm91bmRpbmdNb2RlOiBOU0RlY2ltYWxOdW1iZXIuUm91bmRpbmdNb2RlLCBzY2FsZTogSW50MTYsIHJhaXNlT25FeGFjdG5lc3MgZXhhY3Q6IEJvb2wsIHJhaXNlT25PdmVyZmxvdyBvdmVyZmxvdzogQm9vbCwgcmFpc2VPblVuZGVyZmxvdyB1bmRlcmZsb3c6IEJvb2wsIHJhaXNlT25EaXZpZGVCeVplcm8gZGl2aWRlQnlaZXJvOiBCb29sKSB7fQp9Cm9wZW4gY2xhc3MgTlNEaWN0aW9uYXJ5IDogQW55T2JqZWN0LCBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21SZWZsZWN0YWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgRXhwcmVzc2libGVCeURpY3Rpb25hcnlMaXRlcmFsLCBIYXNoYWJsZSwgTlNDb2RpbmcsIE5TQ29weWluZywgTlNNdXRhYmxlQ29weWluZywgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wsIE5TU2VjdXJlQ29kaW5nLCBTZXF1ZW5jZSwgX0NGQnJpZGdlYWJsZSwgX1N0cnVjdFR5cGVCcmlkZ2VhYmxlLCBfU3dpZnRCcmlkZ2VhYmxlIHsKICAgIG9wZW4gY2xhc3MgZnVuYyBzaGFyZWRLZXlTZXQoZm9yS2V5cyBrZXlzOiBbTlNDb3B5aW5nXSkgLT4gQW55IHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdChkaWN0aW9uYXJ5IG90aGVyRGljdGlvbmFyeTogW0FueUhhc2hhYmxlOiBBbnldKSB7fQogICAgcHVibGljIHJlcXVpcmVkIGNvbnZlbmllbmNlIGluaXQoZGljdGlvbmFyeUxpdGVyYWwgZWxlbWVudHM6IChBbnksIEFueSkuLi4pIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdChvYmplY3Q6IEFueSwgZm9yS2V5IGtleTogTlNDb3B5aW5nKSB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQob2JqZWN0czogW0FueV0sIGZvcktleXMga2V5czogW05TT2JqZWN0XSkge30KICAgIHB1YmxpYyByZXF1aXJlZCBpbml0KG9iamVjdHM6IFVuc2FmZVBvaW50ZXI8QW55T2JqZWN0PiEsIGZvcktleXMga2V5czogVW5zYWZlUG9pbnRlcjxOU09iamVjdD4hLCBjb3VudCBjbnQ6IEludCkge30KICAgIG9wZW4gdmFyIGFsbEtleXM6IFtBbnldIHsgZ2V0IH0KICAgIG9wZW4gdmFyIGFsbFZhbHVlczogW0FueV0geyBnZXQgfQogICAgb3BlbiB2YXIgY291bnQ6IEludCB7IGdldCB9CiAgICBwdWJsaWMgdmFyIGN1c3RvbU1pcnJvcjogTWlycm9yIHsgZ2V0IH0KICAgIG9wZW4gdmFyIGRlc2NyaXB0aW9uSW5TdHJpbmdzRmlsZUZvcm1hdDogU3RyaW5nIHsgZ2V0IH0KICAgIG9wZW4gc3Vic2NyaXB0KGtleTogQW55KSAtPiBBbnk/IHsgZ2V0IH0ge30KICAgIG9wZW4gZnVuYyBhbGxLZXlzKGZvciBhbk9iamVjdDogQW55KSAtPiBbQW55XSB7fQogICAgb3BlbiBmdW5jIGRlc2NyaXB0aW9uKHdpdGhMb2NhbGUgbG9jYWxlOiBMb2NhbGU/KSAtPiBTdHJpbmcge30KICAgIG9wZW4gZnVuYyBkZXNjcmlwdGlvbih3aXRoTG9jYWxlIGxvY2FsZTogTG9jYWxlPywgaW5kZW50IGxldmVsOiBJbnQpIC0+IFN0cmluZyB7fQogICAgb3BlbiBmdW5jIGVudW1lcmF0ZUtleXNBbmRPYmplY3RzKF8gYmxvY2s6IChBbnksIEFueSwgVW5zYWZlTXV0YWJsZVBvaW50ZXI8T2JqQ0Jvb2w+KSAtPiBTd2lmdC5Wb2lkKSB7fQogICAgb3BlbiBmdW5jIGVudW1lcmF0ZUtleXNBbmRPYmplY3RzKG9wdGlvbnMgb3B0czogTlNFbnVtZXJhdGlvbk9wdGlvbnMgPSB4LCB1c2luZyBibG9jazogKEFueSwgQW55LCBVbnNhZmVNdXRhYmxlUG9pbnRlcjxPYmpDQm9vbD4pIC0+IFZvaWQpIHt9CiAgICBvcGVuIGZ1bmMgZ2V0T2JqZWN0cyhfIG9iamVjdHM6IGlub3V0IFtBbnldLCBhbmRLZXlzIGtleXM6IGlub3V0IFtBbnldLCBjb3VudDogSW50KSB7fQogICAgb3BlbiBmdW5jIGlzRXF1YWwodG8gb3RoZXJEaWN0aW9uYXJ5OiBbQW55SGFzaGFibGU6IEFueV0pIC0+IEJvb2wge30KICAgIG9wZW4gZnVuYyBrZXlFbnVtZXJhdG9yKCkgLT4gTlNFbnVtZXJhdG9yIHt9CiAgICBvcGVuIGZ1bmMga2V5c09mRW50cmllcyhvcHRpb25zIG9wdHM6IE5TRW51bWVyYXRpb25PcHRpb25zID0geCwgcGFzc2luZ1Rlc3QgcHJlZGljYXRlOiAoQW55LCBBbnksIFVuc2FmZU11dGFibGVQb2ludGVyPE9iakNCb29sPikgLT4gQm9vbCkgLT4gU2V0PEFueUhhc2hhYmxlPiB7fQogICAgb3BlbiBmdW5jIGtleXNPZkVudHJpZXMocGFzc2luZ1Rlc3QgcHJlZGljYXRlOiAoQW55LCBBbnksIFVuc2FmZU11dGFibGVQb2ludGVyPE9iakNCb29sPikgLT4gQm9vbCkgLT4gU2V0PEFueUhhc2hhYmxlPiB7fQogICAgb3BlbiBmdW5jIGtleXNTb3J0ZWRCeVZhbHVlKGNvbXBhcmF0b3IgY21wdHI6IChBbnksIEFueSkgLT4gQ29tcGFyaXNvblJlc3VsdCkgLT4gW0FueV0ge30KICAgIG9wZW4gZnVuYyBrZXlzU29ydGVkQnlWYWx1ZShvcHRpb25zIG9wdHM6IE5TU29ydE9wdGlvbnMgPSB4LCB1c2luZ0NvbXBhcmF0b3IgY21wdHI6IChBbnksIEFueSkgLT4gQ29tcGFyaXNvblJlc3VsdCkgLT4gW0FueV0ge30KICAgIHB1YmxpYyBmdW5jIG1ha2VJdGVyYXRvcigpIC0+IEl0ZXJhdG9yIHt9CiAgICBvcGVuIGZ1bmMgb2JqZWN0KGZvcktleSBhS2V5OiBBbnkpIC0+IEFueT8ge30KICAgIG9wZW4gZnVuYyBvYmplY3RFbnVtZXJhdG9yKCkgLT4gTlNFbnVtZXJhdG9yIHt9CiAgICBvcGVuIGZ1bmMgb2JqZWN0cyhmb3JLZXlzIGtleXM6IFtBbnldLCBub3RGb3VuZE1hcmtlciBtYXJrZXI6IEFueSkgLT4gW0FueV0ge30KICAgIG9wZW4gZnVuYyB2YWx1ZShmb3JLZXkga2V5OiBTdHJpbmcpIC0+IEFueT8ge30KICAgIG9wZW4gZnVuYyB3cml0ZSh0byB1cmw6IFVSTCwgYXRvbWljYWxseTogQm9vbCkgLT4gQm9vbCB7fQogICAgb3BlbiBmdW5jIHdyaXRlKHRvRmlsZSBwYXRoOiBTdHJpbmcsIGF0b21pY2FsbHkgdXNlQXV4aWxpYXJ5RmlsZTogQm9vbCkgLT4gQm9vbCB7fQp9Cm9wZW4gY2xhc3MgTlNFbnVtZXJhdG9yIDogQW55T2JqZWN0LCBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wsIFNlcXVlbmNlIHsKICAgIHB1YmxpYyB2YXIgYWxsT2JqZWN0czogW0FueV0geyBnZXQgfQogICAgcHVibGljIGZ1bmMgbWFrZUl0ZXJhdG9yKCkgLT4gSXRlcmF0b3Ige30KICAgIG9wZW4gZnVuYyBuZXh0T2JqZWN0KCkgLT4gQW55PyB7fQp9Cm9wZW4gY2xhc3MgTlNFcnJvciA6IEFueU9iamVjdCwgQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TQ29kaW5nLCBOU0NvcHlpbmcsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBOU1NlY3VyZUNvZGluZywgU3dpZnQuRXJyb3IsIF9DRkJyaWRnZWFibGUgewogICAgb3BlbiBjbGFzcyBmdW5jIHNldFVzZXJJbmZvVmFsdWVQcm92aWRlcihmb3JEb21haW4gZXJyb3JEb21haW46IFN0cmluZywgcHJvdmlkZXI6ICgoRXJyb3IsIFN0cmluZykgLT4gQW55Pyk/KSB7fQogICAgb3BlbiBjbGFzcyBmdW5jIHVzZXJJbmZvVmFsdWVQcm92aWRlcihmb3JEb21haW4gZXJyb3JEb21haW46IFN0cmluZykgLT4gKChFcnJvciwgU3RyaW5nKSAtPiBBbnk/KT8ge30KICAgIHB1YmxpYyBpbml0KGRvbWFpbjogU3RyaW5nLCBjb2RlOiBJbnQsIHVzZXJJbmZvIGRpY3Q6IFtTdHJpbmc6IEFueV0/ID0geCkge30KICAgIG9wZW4gdmFyIGNvZGU6IEludCB7IGdldCB9CiAgICBvcGVuIHZhciBkb21haW46IFN0cmluZyB7IGdldCB9CiAgICBvcGVuIHZhciBoZWxwQW5jaG9yOiBTdHJpbmc/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGxvY2FsaXplZERlc2NyaXB0aW9uOiBTdHJpbmcgeyBnZXQgfQogICAgb3BlbiB2YXIgbG9jYWxpemVkRmFpbHVyZVJlYXNvbjogU3RyaW5nPyB7IGdldCB9CiAgICBvcGVuIHZhciBsb2NhbGl6ZWRSZWNvdmVyeU9wdGlvbnM6IFtTdHJpbmddPyB7IGdldCB9CiAgICBvcGVuIHZhciBsb2NhbGl6ZWRSZWNvdmVyeVN1Z2dlc3Rpb246IFN0cmluZz8geyBnZXQgfQogICAgb3BlbiB2YXIgcmVjb3ZlcnlBdHRlbXB0ZXI6IEFueT8geyBnZXQgfQogICAgb3BlbiB2YXIgdXNlckluZm86IFtTdHJpbmc6IEFueV0geyBnZXQgfQp9Cm9wZW4gY2xhc3MgTlNFeHByZXNzaW9uIDogQW55T2JqZWN0LCBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNDb2RpbmcsIE5TQ29weWluZywgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wsIE5TU2VjdXJlQ29kaW5nIHsKICAgIG9wZW4gY2xhc3MgZnVuYyBleHByZXNzaW9uRm9yQW55S2V5KCkgLT4gTlNFeHByZXNzaW9uIHt9CiAgICBvcGVuIGNsYXNzIGZ1bmMgZXhwcmVzc2lvbkZvckV2YWx1YXRlZE9iamVjdCgpIC0+IE5TRXhwcmVzc2lvbiB7fQogICAgcHVibGljIGluaXQoYmxvY2s6IEBlc2NhcGluZyAoQW55PywgW0FueV0sIE5TTXV0YWJsZURpY3Rpb25hcnk/KSAtPiBBbnksIGFyZ3VtZW50czogW05TRXhwcmVzc2lvbl0/KSB7fQogICAgcHVibGljIGluaXQoZXhwcmVzc2lvblR5cGUgdHlwZTogRXhwcmVzc2lvblR5cGUpIHt9CiAgICBwdWJsaWMgaW5pdChmb3JBZ2dyZWdhdGUgc3ViZXhwcmVzc2lvbnM6IFtBbnldKSB7fQogICAgcHVibGljIGluaXQoZm9yQ29uZGl0aW9uYWwgcHJlZGljYXRlOiBBbnksIHRydWVFeHByZXNzaW9uOiBOU0V4cHJlc3Npb24sIGZhbHNlRXhwcmVzc2lvbjogTlNFeHByZXNzaW9uKSB7fQogICAgcHVibGljIGluaXQoZm9yQ29uc3RhbnRWYWx1ZSBvYmo6IEFueT8pIHt9CiAgICBwdWJsaWMgaW5pdChmb3JGdW5jdGlvbiBuYW1lOiBTdHJpbmcsIGFyZ3VtZW50cyBwYXJhbWV0ZXJzOiBbQW55XSkge30KICAgIHB1YmxpYyBpbml0KGZvckZ1bmN0aW9uIHRhcmdldDogTlNFeHByZXNzaW9uLCBzZWxlY3Rvck5hbWUgbmFtZTogU3RyaW5nLCBhcmd1bWVudHMgcGFyYW1ldGVyczogW0FueV0/KSB7fQogICAgcHVibGljIGluaXQoZm9ySW50ZXJzZWN0U2V0IGxlZnQ6IE5TRXhwcmVzc2lvbiwgd2l0aCByaWdodDogTlNFeHByZXNzaW9uKSB7fQogICAgcHVibGljIGluaXQoZm9yS2V5UGF0aCBrZXlQYXRoOiBTdHJpbmcpIHt9CiAgICBwdWJsaWMgaW5pdChmb3JNaW51c1NldCBsZWZ0OiBOU0V4cHJlc3Npb24sIHdpdGggcmlnaHQ6IE5TRXhwcmVzc2lvbikge30KICAgIHB1YmxpYyBpbml0KGZvclN1YnF1ZXJ5IGV4cHJlc3Npb246IE5TRXhwcmVzc2lvbiwgdXNpbmdJdGVyYXRvclZhcmlhYmxlIHZhcmlhYmxlOiBTdHJpbmcsIHByZWRpY2F0ZTogQW55KSB7fQogICAgcHVibGljIGluaXQoZm9yVW5pb25TZXQgbGVmdDogTlNFeHByZXNzaW9uLCB3aXRoIHJpZ2h0OiBOU0V4cHJlc3Npb24pIHt9CiAgICBwdWJsaWMgaW5pdChmb3JWYXJpYWJsZSBzdHJpbmc6IFN0cmluZykge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KGZvcm1hdCBleHByZXNzaW9uRm9ybWF0OiBTdHJpbmcsIF8gYXJnczogQ1ZhckFyZy4uLikge30KICAgIHB1YmxpYyBpbml0KGZvcm1hdCBleHByZXNzaW9uRm9ybWF0OiBTdHJpbmcsIGFyZ3VtZW50QXJyYXkgYXJndW1lbnRzOiBbQW55XSkge30KICAgIHB1YmxpYyBpbml0KGZvcm1hdCBleHByZXNzaW9uRm9ybWF0OiBTdHJpbmcsIGFyZ3VtZW50cyBhcmdMaXN0OiBDVmFMaXN0UG9pbnRlcikge30KICAgIG9wZW4gdmFyIGFyZ3VtZW50czogW05TRXhwcmVzc2lvbl0/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGNvbGxlY3Rpb246IEFueSB7IGdldCB9CiAgICBvcGVuIHZhciBjb25zdGFudFZhbHVlOiBBbnkgeyBnZXQgfQogICAgb3BlbiB2YXIgZXhwcmVzc2lvbkJsb2NrOiAoQW55PywgW0FueV0sIE5TTXV0YWJsZURpY3Rpb25hcnk/KSAtPiBBbnkgeyBnZXQgfQogICAgb3BlbiB2YXIgZXhwcmVzc2lvblR5cGU6IEV4cHJlc3Npb25UeXBlIHsgZ2V0IH0KICAgIG9wZW4gdmFyIGZhbHNlOiBOU0V4cHJlc3Npb24geyBnZXQgfQogICAgb3BlbiB2YXIgZnVuY3Rpb246IFN0cmluZyB7IGdldCB9CiAgICBvcGVuIHZhciBrZXlQYXRoOiBTdHJpbmcgeyBnZXQgfQogICAgb3BlbiB2YXIgbGVmdDogTlNFeHByZXNzaW9uIHsgZ2V0IH0KICAgIG9wZW4gdmFyIG9wZXJhbmQ6IE5TRXhwcmVzc2lvbiB7IGdldCB9CiAgICBvcGVuIHZhciBwcmVkaWNhdGU6IE5TUHJlZGljYXRlIHsgZ2V0IH0KICAgIG9wZW4gdmFyIHJpZ2h0OiBOU0V4cHJlc3Npb24geyBnZXQgfQogICAgb3BlbiB2YXIgdHJ1ZTogTlNFeHByZXNzaW9uIHsgZ2V0IH0KICAgIG9wZW4gdmFyIHZhcmlhYmxlOiBTdHJpbmcgeyBnZXQgfQogICAgb3BlbiBmdW5jIGFsbG93RXZhbHVhdGlvbigpIHt9CiAgICBvcGVuIGZ1bmMgZXhwcmVzc2lvblZhbHVlKHdpdGggb2JqZWN0OiBBbnk/LCBjb250ZXh0OiBOU011dGFibGVEaWN0aW9uYXJ5PykgLT4gQW55PyB7fQp9Cm9wZW4gY2xhc3MgTlNJbmRleFBhdGggOiBBbnlPYmplY3QsIEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU0NvZGluZywgTlNDb3B5aW5nLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCwgTlNTZWN1cmVDb2RpbmcsIF9IYXNDdXN0b21BbnlIYXNoYWJsZVJlcHJlc2VudGF0aW9uLCBfU3RydWN0VHlwZUJyaWRnZWFibGUgewogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQoaW5kZXg6IEludCkge30KICAgIHB1YmxpYyBpbml0KGluZGV4ZXM6IFVuc2FmZVBvaW50ZXI8SW50Pj8sIGxlbmd0aDogSW50KSB7fQogICAgb3BlbiB2YXIgbGVuZ3RoOiBJbnQgeyBnZXQgfQogICAgb3BlbiBmdW5jIGFkZGluZyhfIGluZGV4OiBJbnQpIC0+IEluZGV4UGF0aCB7fQogICAgb3BlbiBmdW5jIGNvbXBhcmUoXyBvdGhlck9iamVjdDogSW5kZXhQYXRoKSAtPiBDb21wYXJpc29uUmVzdWx0IHt9CiAgICBvcGVuIGZ1bmMgZ2V0SW5kZXhlcyhfIGluZGV4ZXM6IFVuc2FmZU11dGFibGVQb2ludGVyPEludD4sIHJhbmdlIHBvc2l0aW9uUmFuZ2U6IE5TUmFuZ2UpIHt9CiAgICBvcGVuIGZ1bmMgaW5kZXgoYXRQb3NpdGlvbiBwb3NpdGlvbjogSW50KSAtPiBJbnQge30KICAgIG9wZW4gZnVuYyByZW1vdmluZ0xhc3RJbmRleCgpIC0+IEluZGV4UGF0aCB7fQp9Cm9wZW4gY2xhc3MgTlNJbmRleFNldCA6IEFueU9iamVjdCwgQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TQ29kaW5nLCBOU0NvcHlpbmcsIE5TTXV0YWJsZUNvcHlpbmcsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBOU1NlY3VyZUNvZGluZywgU2VxdWVuY2UsIF9IYXNDdXN0b21BbnlIYXNoYWJsZVJlcHJlc2VudGF0aW9uLCBfU3RydWN0VHlwZUJyaWRnZWFibGUgewogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQoaW5kZXggdmFsdWU6IEludCkge30KICAgIHB1YmxpYyBpbml0KGluZGV4U2V0OiBJbmRleFNldCkge30KICAgIHB1YmxpYyBpbml0KGluZGV4ZXNJbiByYW5nZTogTlNSYW5nZSkge30KICAgIG9wZW4gdmFyIGNvdW50OiBJbnQgeyBnZXQgfQogICAgb3BlbiB2YXIgZmlyc3RJbmRleDogSW50IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGxhc3RJbmRleDogSW50IHsgZ2V0IH0KICAgIG9wZW4gZnVuYyBjb250YWlucyhfIGluZGV4U2V0OiBJbmRleFNldCkgLT4gQm9vbCB7fQogICAgb3BlbiBmdW5jIGNvbnRhaW5zKGluIHJhbmdlOiBOU1JhbmdlKSAtPiBCb29sIHt9CiAgICBvcGVuIGZ1bmMgY291bnRPZkluZGV4ZXMoaW4gcmFuZ2U6IE5TUmFuZ2UpIC0+IEludCB7fQogICAgb3BlbiBmdW5jIGVudW1lcmF0ZShfIGJsb2NrOiAoSW50LCBVbnNhZmVNdXRhYmxlUG9pbnRlcjxPYmpDQm9vbD4pIC0+IFZvaWQpIHt9CiAgICBvcGVuIGZ1bmMgZW51bWVyYXRlKGluIHJhbmdlOiBOU1JhbmdlLCBvcHRpb25zIG9wdHM6IE5TRW51bWVyYXRpb25PcHRpb25zID0geCwgdXNpbmcgYmxvY2s6IChJbnQsIFVuc2FmZU11dGFibGVQb2ludGVyPE9iakNCb29sPikgLT4gVm9pZCkge30KICAgIG9wZW4gZnVuYyBlbnVtZXJhdGUob3B0aW9ucyBvcHRzOiBOU0VudW1lcmF0aW9uT3B0aW9ucyA9IHgsIHVzaW5nIGJsb2NrOiAoSW50LCBVbnNhZmVNdXRhYmxlUG9pbnRlcjxPYmpDQm9vbD4pIC0+IFZvaWQpIHt9CiAgICBvcGVuIGZ1bmMgZW51bWVyYXRlUmFuZ2VzKF8gYmxvY2s6IChOU1JhbmdlLCBVbnNhZmVNdXRhYmxlUG9pbnRlcjxPYmpDQm9vbD4pIC0+IFZvaWQpIHt9CiAgICBvcGVuIGZ1bmMgZW51bWVyYXRlUmFuZ2VzKGluIHJhbmdlOiBOU1JhbmdlLCBvcHRpb25zIG9wdHM6IE5TRW51bWVyYXRpb25PcHRpb25zID0geCwgdXNpbmcgYmxvY2s6IChOU1JhbmdlLCBVbnNhZmVNdXRhYmxlUG9pbnRlcjxPYmpDQm9vbD4pIC0+IFZvaWQpIHt9CiAgICBvcGVuIGZ1bmMgZW51bWVyYXRlUmFuZ2VzKG9wdGlvbnMgb3B0czogTlNFbnVtZXJhdGlvbk9wdGlvbnMgPSB4LCB1c2luZyBibG9jazogKE5TUmFuZ2UsIFVuc2FmZU11dGFibGVQb2ludGVyPE9iakNCb29sPikgLT4gVm9pZCkge30KICAgIG9wZW4gZnVuYyBnZXRJbmRleGVzKF8gaW5kZXhCdWZmZXI6IFVuc2FmZU11dGFibGVQb2ludGVyPEludD4sIG1heENvdW50IGJ1ZmZlclNpemU6IEludCwgaW5JbmRleFJhbmdlIHJhbmdlOiBOU1JhbmdlUG9pbnRlcj8pIC0+IEludCB7fQogICAgb3BlbiBmdW5jIGluZGV4KGluIHJhbmdlOiBOU1JhbmdlLCBvcHRpb25zIG9wdHM6IE5TRW51bWVyYXRpb25PcHRpb25zID0geCwgcGFzc2luZ1Rlc3QgcHJlZGljYXRlOiAoSW50LCBVbnNhZmVNdXRhYmxlUG9pbnRlcjxPYmpDQm9vbD4pIC0+IEJvb2wpIC0+IEludCB7fQogICAgb3BlbiBmdW5jIGluZGV4KG9wdGlvbnMgb3B0czogTlNFbnVtZXJhdGlvbk9wdGlvbnMgPSB4LCBwYXNzaW5nVGVzdCBwcmVkaWNhdGU6IChJbnQsIFVuc2FmZU11dGFibGVQb2ludGVyPE9iakNCb29sPikgLT4gQm9vbCkgLT4gSW50IHt9CiAgICBvcGVuIGZ1bmMgaW5kZXgocGFzc2luZ1Rlc3QgcHJlZGljYXRlOiAoSW50LCBVbnNhZmVNdXRhYmxlUG9pbnRlcjxPYmpDQm9vbD4pIC0+IEJvb2wpIC0+IEludCB7fQogICAgb3BlbiBmdW5jIGluZGV4R3JlYXRlclRoYW5JbmRleChfIHZhbHVlOiBJbnQpIC0+IEludCB7fQogICAgb3BlbiBmdW5jIGluZGV4R3JlYXRlclRoYW5PckVxdWFsKHRvIHZhbHVlOiBJbnQpIC0+IEludCB7fQogICAgb3BlbiBmdW5jIGluZGV4TGVzc1RoYW5JbmRleChfIHZhbHVlOiBJbnQpIC0+IEludCB7fQogICAgb3BlbiBmdW5jIGluZGV4TGVzc1RoYW5PckVxdWFsKHRvIHZhbHVlOiBJbnQpIC0+IEludCB7fQogICAgb3BlbiBmdW5jIGluZGV4ZXMoaW4gcmFuZ2U6IE5TUmFuZ2UsIG9wdGlvbnMgb3B0czogTlNFbnVtZXJhdGlvbk9wdGlvbnMgPSB4LCBwYXNzaW5nVGVzdCBwcmVkaWNhdGU6IChJbnQsIFVuc2FmZU11dGFibGVQb2ludGVyPE9iakNCb29sPikgLT4gQm9vbCkgLT4gSW5kZXhTZXQge30KICAgIG9wZW4gZnVuYyBpbmRleGVzKG9wdGlvbnMgb3B0czogTlNFbnVtZXJhdGlvbk9wdGlvbnMgPSB4LCBwYXNzaW5nVGVzdCBwcmVkaWNhdGU6IChJbnQsIFVuc2FmZU11dGFibGVQb2ludGVyPE9iakNCb29sPikgLT4gQm9vbCkgLT4gSW5kZXhTZXQge30KICAgIG9wZW4gZnVuYyBpbmRleGVzKHBhc3NpbmdUZXN0IHByZWRpY2F0ZTogKEludCwgVW5zYWZlTXV0YWJsZVBvaW50ZXI8T2JqQ0Jvb2w+KSAtPiBCb29sKSAtPiBJbmRleFNldCB7fQogICAgb3BlbiBmdW5jIGludGVyc2VjdHMoaW4gcmFuZ2U6IE5TUmFuZ2UpIC0+IEJvb2wge30KICAgIG9wZW4gZnVuYyBpc0VxdWFsKHRvIGluZGV4U2V0OiBJbmRleFNldCkgLT4gQm9vbCB7fQogICAgcHVibGljIGZ1bmMgbWFrZUl0ZXJhdG9yKCkgLT4gTlNJbmRleFNldEl0ZXJhdG9yIHt9Cn0Kb3BlbiBjbGFzcyBOU0tleWVkQXJjaGl2ZXIgOiBBbnlPYmplY3QsIEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU0NvZGVyLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCB7CiAgICBvcGVuIGNsYXNzIGZ1bmMgYXJjaGl2ZVJvb3RPYmplY3QoXyByb290T2JqZWN0OiBBbnksIHRvRmlsZSBwYXRoOiBTdHJpbmcpIC0+IEJvb2wge30KICAgIG9wZW4gY2xhc3MgZnVuYyBhcmNoaXZlZERhdGEod2l0aFJvb3RPYmplY3Qgcm9vdE9iamVjdDogQW55KSAtPiBEYXRhIHt9CiAgICBvcGVuIGNsYXNzIGZ1bmMgY2xhc3NOYW1lRm9yQ2xhc3MoXyBjbHM6IEFueUNsYXNzKSAtPiBTdHJpbmc/IHt9CiAgICBvcGVuIGNsYXNzIGZ1bmMgc2V0Q2xhc3NOYW1lKF8gY29kZWROYW1lOiBTdHJpbmc/LCBmb3IgY2xzOiBBbnlDbGFzcykge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KGZvcldyaXRpbmdXaXRoIGRhdGE6IE5TTXV0YWJsZURhdGEpIHt9CiAgICBvcGVuIHdlYWsgdmFyIGRlbGVnYXRlOiBOU0tleWVkQXJjaGl2ZXJEZWxlZ2F0ZT8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGVuY29kZWREYXRhOiBEYXRhIHsgZ2V0IH0KICAgIG9wZW4gdmFyIG91dHB1dEZvcm1hdCB7IGdldCB9CiAgICBvcGVuIGZ1bmMgY2xhc3NOYW1lRm9yQ2xhc3MoXyBjbHM6IEFueUNsYXNzKSAtPiBTdHJpbmc/IHt9CiAgICBvcGVuIGZ1bmMgZW5jb2RlUHJvcGVydHlMaXN0KF8gYVByb3BlcnR5TGlzdDogQW55LCBmb3JLZXkga2V5OiBTdHJpbmcpIHt9CiAgICBvcGVuIGZ1bmMgZmluaXNoRW5jb2RpbmcoKSB7fQogICAgb3BlbiBmdW5jIHNldENsYXNzTmFtZShfIGNvZGVkTmFtZTogU3RyaW5nPywgZm9yIGNsczogQW55Q2xhc3MpIHt9Cn0Kb3BlbiBjbGFzcyBOU0tleWVkVW5hcmNoaXZlciA6IEFueU9iamVjdCwgQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TQ29kZXIsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sIHsKICAgIG9wZW4gY2xhc3MgZnVuYyBjbGFzcyhmb3JDbGFzc05hbWUgY29kZWROYW1lOiBTdHJpbmcpIC0+IEFueUNsYXNzPyB7fQogICAgb3BlbiBjbGFzcyBmdW5jIHNldENsYXNzKF8gY2xzOiBBbnlDbGFzcz8sIGZvckNsYXNzTmFtZSBjb2RlZE5hbWU6IFN0cmluZykge30KICAgIG9wZW4gY2xhc3MgZnVuYyB1bmFyY2hpdmVPYmplY3Qod2l0aCBkYXRhOiBEYXRhKSAtPiBBbnk/IHt9CiAgICBvcGVuIGNsYXNzIGZ1bmMgdW5hcmNoaXZlT2JqZWN0KHdpdGhGaWxlIHBhdGg6IFN0cmluZykgLT4gQW55PyB7fQogICAgb3BlbiBjbGFzcyBmdW5jIHVuYXJjaGl2ZVRvcExldmVsT2JqZWN0V2l0aERhdGEoXyBkYXRhOiBEYXRhKSB0aHJvd3MgLT4gQW55PyB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQoZm9yUmVhZGluZ1dpdGggZGF0YTogRGF0YSkge30KICAgIG9wZW4gd2VhayB2YXIgZGVsZWdhdGU6IE5TS2V5ZWRVbmFyY2hpdmVyRGVsZWdhdGU/IHsgZ2V0IHNldCB9CiAgICBvcGVuIGZ1bmMgY2xhc3MoZm9yQ2xhc3NOYW1lIGNvZGVkTmFtZTogU3RyaW5nKSAtPiBBbnlDbGFzcz8ge30KICAgIG9wZW4gZnVuYyBmaW5pc2hEZWNvZGluZygpIHt9CiAgICBvcGVuIGZ1bmMgc2V0Q2xhc3MoXyBjbHM6IEFueUNsYXNzPywgZm9yQ2xhc3NOYW1lIGNvZGVkTmFtZTogU3RyaW5nKSB7fQp9Cm9wZW4gY2xhc3MgTlNMb2NhbGUgOiBBbnlPYmplY3QsIEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU0NvZGluZywgTlNDb3B5aW5nLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCwgTlNTZWN1cmVDb2RpbmcsIF9TdHJ1Y3RUeXBlQnJpZGdlYWJsZSwgX1N3aWZ0QnJpZGdlYWJsZSB7CiAgICBvcGVuIGNsYXNzIHZhciBhdmFpbGFibGVMb2NhbGVJZGVudGlmaWVyczogW1N0cmluZ10geyBnZXQgfQogICAgb3BlbiBjbGFzcyB2YXIgY29tbW9uSVNPQ3VycmVuY3lDb2RlczogW1N0cmluZ10geyBnZXQgfQogICAgb3BlbiBjbGFzcyB2YXIgY3VycmVudDogTG9jYWxlIHsgZ2V0IH0KICAgIHB1YmxpYyBzdGF0aWMgdmFyIGN1cnJlbnRMb2NhbGVEaWRDaGFuZ2VOb3RpZmljYXRpb24geyBnZXQgfQogICAgb3BlbiBjbGFzcyB2YXIgaXNvQ291bnRyeUNvZGVzOiBbU3RyaW5nXSB7IGdldCB9CiAgICBvcGVuIGNsYXNzIHZhciBpc29DdXJyZW5jeUNvZGVzOiBbU3RyaW5nXSB7IGdldCB9CiAgICBvcGVuIGNsYXNzIHZhciBpc29MYW5ndWFnZUNvZGVzOiBbU3RyaW5nXSB7IGdldCB9CiAgICBvcGVuIGNsYXNzIHZhciBwcmVmZXJyZWRMYW5ndWFnZXM6IFtTdHJpbmddIHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgdmFyIHN5c3RlbTogTG9jYWxlIHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgZnVuYyBjYW5vbmljYWxMYW5ndWFnZUlkZW50aWZpZXIoZnJvbSBzdHJpbmc6IFN0cmluZykgLT4gU3RyaW5nIHt9CiAgICBvcGVuIGNsYXNzIGZ1bmMgY2Fub25pY2FsTG9jYWxlSWRlbnRpZmllcihmcm9tIHN0cmluZzogU3RyaW5nKSAtPiBTdHJpbmcge30KICAgIG9wZW4gY2xhc3MgZnVuYyBjaGFyYWN0ZXJEaXJlY3Rpb24oZm9yTGFuZ3VhZ2UgaXNvTGFuZ0NvZGU6IFN0cmluZykgLT4gTlNMb2NhbGUuTGFuZ3VhZ2VEaXJlY3Rpb24ge30KICAgIG9wZW4gY2xhc3MgZnVuYyBjb21wb25lbnRzKGZyb21Mb2NhbGVJZGVudGlmaWVyIHN0cmluZzogU3RyaW5nKSAtPiBbU3RyaW5nOiBTdHJpbmddIHt9CiAgICBvcGVuIGNsYXNzIGZ1bmMgbGluZURpcmVjdGlvbihmb3JMYW5ndWFnZSBpc29MYW5nQ29kZTogU3RyaW5nKSAtPiBOU0xvY2FsZS5MYW5ndWFnZURpcmVjdGlvbiB7fQogICAgb3BlbiBjbGFzcyBmdW5jIGxvY2FsZUlkZW50aWZpZXIoZnJvbUNvbXBvbmVudHMgZGljdDogW1N0cmluZzogU3RyaW5nXSkgLT4gU3RyaW5nIHt9CiAgICBvcGVuIGNsYXNzIGZ1bmMgbG9jYWxlSWRlbnRpZmllcihmcm9tV2luZG93c0xvY2FsZUNvZGUgbGNpZDogVUludDMyKSAtPiBTdHJpbmc/IHt9CiAgICBvcGVuIGNsYXNzIGZ1bmMgd2luZG93c0xvY2FsZUNvZGUoZnJvbUxvY2FsZUlkZW50aWZpZXIgbG9jYWxlSWRlbnRpZmllcjogU3RyaW5nKSAtPiBVSW50MzIge30KICAgIHB1YmxpYyBpbml0KGxvY2FsZUlkZW50aWZpZXIgc3RyaW5nOiBTdHJpbmcpIHt9CiAgICBwdWJsaWMgdmFyIGxvY2FsZUlkZW50aWZpZXI6IFN0cmluZyB7IGdldCB9CiAgICBvcGVuIGZ1bmMgZGlzcGxheU5hbWUoZm9yS2V5IGtleTogS2V5LCB2YWx1ZTogU3RyaW5nKSAtPiBTdHJpbmc/IHt9CiAgICBvcGVuIGZ1bmMgb2JqZWN0KGZvcktleSBrZXk6IE5TTG9jYWxlLktleSkgLT4gQW55PyB7fQp9Cm9wZW4gY2xhc3MgTlNMb2NrIDogQW55T2JqZWN0LCBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNMb2NraW5nLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCB7CiAgICBvcGVuIHZhciBuYW1lOiBTdHJpbmc/IHsgZ2V0IHNldCB9CiAgICBvcGVuIGZ1bmMgbG9jayhiZWZvcmUgbGltaXQ6IERhdGUpIC0+IEJvb2wge30KICAgIG9wZW4gZnVuYyB0cnkoKSAtPiBCb29sIHt9Cn0Kb3BlbiBjbGFzcyBOU01lYXN1cmVtZW50IDogQW55T2JqZWN0LCBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNDb2RpbmcsIE5TQ29weWluZywgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wsIE5TU2VjdXJlQ29kaW5nLCBfSGFzQ3VzdG9tQW55SGFzaGFibGVSZXByZXNlbnRhdGlvbiwgX1N0cnVjdFR5cGVCcmlkZ2VhYmxlIHsKICAgIHB1YmxpYyBpbml0KGRvdWJsZVZhbHVlOiBEb3VibGUsIHVuaXQ6IFVuaXQpIHt9CiAgICBvcGVuIHZhciBkb3VibGVWYWx1ZTogRG91YmxlIHsgZ2V0IH0KICAgIG9wZW4gdmFyIHVuaXQ6IFVuaXQgeyBnZXQgfQogICAgb3BlbiBmdW5jIGFkZGluZyhfIG1lYXN1cmVtZW50OiBNZWFzdXJlbWVudDxVbml0PikgLT4gTWVhc3VyZW1lbnQ8VW5pdD4ge30KICAgIG9wZW4gZnVuYyBjYW5CZUNvbnZlcnRlZCh0byB1bml0OiBVbml0KSAtPiBCb29sIHt9CiAgICBvcGVuIGZ1bmMgY29udmVydGluZyh0byB1bml0OiBVbml0KSAtPiBNZWFzdXJlbWVudDxVbml0PiB7fQogICAgb3BlbiBmdW5jIHN1YnRyYWN0aW5nKF8gbWVhc3VyZW1lbnQ6IE1lYXN1cmVtZW50PFVuaXQ+KSAtPiBNZWFzdXJlbWVudDxVbml0PiB7fQp9Cm9wZW4gY2xhc3MgTlNNdXRhYmxlQXJyYXkgOiBBbnlPYmplY3QsIEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVJlZmxlY3RhYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBFeHByZXNzaWJsZUJ5QXJyYXlMaXRlcmFsLCBIYXNoYWJsZSwgTlNBcnJheSwgTlNDb2RpbmcsIE5TQ29weWluZywgTlNNdXRhYmxlQ29weWluZywgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wsIE5TU2VjdXJlQ29kaW5nLCBTZXF1ZW5jZSwgX0NGQnJpZGdlYWJsZSwgX1N0cnVjdFR5cGVCcmlkZ2VhYmxlLCBfU3dpZnRCcmlkZ2VhYmxlIHsKICAgIHB1YmxpYyBpbml0KGNhcGFjaXR5IG51bUl0ZW1zOiBJbnQpIHt9CiAgICBvcGVuIGZ1bmMgYWRkKF8gYW5PYmplY3Q6IEFueSkge30KICAgIG9wZW4gZnVuYyBhZGRPYmplY3RzKGZyb20gb3RoZXJBcnJheTogW0FueV0pIHt9CiAgICBvcGVuIGZ1bmMgZXhjaGFuZ2VPYmplY3QoYXQgaWR4MTogSW50LCB3aXRoT2JqZWN0QXQgaWR4MjogSW50KSB7fQogICAgb3BlbiBmdW5jIGZpbHRlcih1c2luZyBwcmVkaWNhdGU6IE5TUHJlZGljYXRlKSB7fQogICAgb3BlbiBmdW5jIGluc2VydChfIGFuT2JqZWN0OiBBbnksIGF0IGluZGV4OiBJbnQpIHt9CiAgICBvcGVuIGZ1bmMgcmVtb3ZlKF8gYW5PYmplY3Q6IEFueSkge30KICAgIG9wZW4gZnVuYyByZW1vdmUoXyBhbk9iamVjdDogQW55LCBpbiByYW5nZTogTlNSYW5nZSkge30KICAgIG9wZW4gZnVuYyByZW1vdmVBbGxPYmplY3RzKCkge30KICAgIG9wZW4gZnVuYyByZW1vdmVMYXN0T2JqZWN0KCkge30KICAgIG9wZW4gZnVuYyByZW1vdmVPYmplY3QoYXQgaW5kZXg6IEludCkge30KICAgIG9wZW4gZnVuYyByZW1vdmVPYmplY3QoaWRlbnRpY2FsVG8gYW5PYmplY3Q6IEFueSkge30KICAgIG9wZW4gZnVuYyByZW1vdmVPYmplY3QoaWRlbnRpY2FsVG8gYW5PYmplY3Q6IEFueSwgaW4gcmFuZ2U6IE5TUmFuZ2UpIHt9CiAgICBvcGVuIGZ1bmMgcmVtb3ZlT2JqZWN0cyhhdCBpbmRleGVzOiBJbmRleFNldCkge30KICAgIG9wZW4gZnVuYyByZW1vdmVPYmplY3RzKGluIG90aGVyQXJyYXk6IFtBbnldKSB7fQogICAgb3BlbiBmdW5jIHJlcGxhY2VPYmplY3QoYXQgaW5kZXg6IEludCwgd2l0aCBhbk9iamVjdDogQW55KSB7fQogICAgb3BlbiBmdW5jIHJlcGxhY2VPYmplY3RzKGF0IGluZGV4ZXM6IEluZGV4U2V0LCB3aXRoIG9iamVjdHM6IFtBbnldKSB7fQogICAgb3BlbiBmdW5jIHJlcGxhY2VPYmplY3RzKGluIHJhbmdlOiBOU1JhbmdlLCB3aXRoT2JqZWN0c0Zyb20gb3RoZXJBcnJheTogW0FueV0pIHt9CiAgICBvcGVuIGZ1bmMgcmVwbGFjZU9iamVjdHMoaW4gcmFuZ2U6IE5TUmFuZ2UsIHdpdGhPYmplY3RzRnJvbSBvdGhlckFycmF5OiBbQW55XSwgcmFuZ2Ugb3RoZXJSYW5nZTogTlNSYW5nZSkge30KICAgIG9wZW4gZnVuYyBzZXRBcnJheShfIG90aGVyQXJyYXk6IFtBbnldKSB7fQogICAgb3BlbiBmdW5jIHNvcnQoXyBjb21wYXJlOiAoQW55LCBBbnksIFVuc2FmZU11dGFibGVSYXdQb2ludGVyPykgLT4gSW50LCBjb250ZXh0OiBVbnNhZmVNdXRhYmxlUmF3UG9pbnRlcj8pIHt9CiAgICBvcGVuIGZ1bmMgc29ydChjb21wYXJhdG9yOiBDb21wYXJhdG9yKSB7fQogICAgb3BlbiBmdW5jIHNvcnQob3B0aW9ucyBvcHRzOiBOU1NvcnRPcHRpb25zID0geCwgdXNpbmdDb21wYXJhdG9yIGNtcHRyOiBDb21wYXJhdG9yKSB7fQogICAgcHVibGljIGZ1bmMgc29ydCh1c2luZyBzb3J0RGVzY3JpcHRvcnM6IFtOU1NvcnREZXNjcmlwdG9yXSkge30KfQpvcGVuIGNsYXNzIE5TTXV0YWJsZUF0dHJpYnV0ZWRTdHJpbmcgOiBBbnlPYmplY3QsIEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU0F0dHJpYnV0ZWRTdHJpbmcsIE5TQ29kaW5nLCBOU0NvcHlpbmcsIE5TTXV0YWJsZUNvcHlpbmcsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBOU1NlY3VyZUNvZGluZywgX0NGQnJpZGdlYWJsZSB7CiAgICBvcGVuIHZhciBtdXRhYmxlU3RyaW5nOiBOU011dGFibGVTdHJpbmcgeyBnZXQgfQogICAgb3BlbiBmdW5jIGFkZEF0dHJpYnV0ZShfIG5hbWU6IE5TQXR0cmlidXRlZFN0cmluZ0tleSwgdmFsdWU6IEFueSwgcmFuZ2U6IE5TUmFuZ2UpIHt9CiAgICBvcGVuIGZ1bmMgYWRkQXR0cmlidXRlcyhfIGF0dHJzOiBbTlNBdHRyaWJ1dGVkU3RyaW5nS2V5OiBBbnldLCByYW5nZTogTlNSYW5nZSkge30KICAgIG9wZW4gZnVuYyBhcHBlbmQoXyBhdHRyU3RyaW5nOiBOU0F0dHJpYnV0ZWRTdHJpbmcpIHt9CiAgICBvcGVuIGZ1bmMgYmVnaW5FZGl0aW5nKCkge30KICAgIG9wZW4gZnVuYyBkZWxldGVDaGFyYWN0ZXJzKGluIHJhbmdlOiBOU1JhbmdlKSB7fQogICAgb3BlbiBmdW5jIGVuZEVkaXRpbmcoKSB7fQogICAgb3BlbiBmdW5jIGluc2VydChfIGF0dHJTdHJpbmc6IE5TQXR0cmlidXRlZFN0cmluZywgYXQgbG9jOiBJbnQpIHt9CiAgICBvcGVuIGZ1bmMgcmVtb3ZlQXR0cmlidXRlKF8gbmFtZTogTlNBdHRyaWJ1dGVkU3RyaW5nS2V5LCByYW5nZTogTlNSYW5nZSkge30KICAgIG9wZW4gZnVuYyByZXBsYWNlQ2hhcmFjdGVycyhpbiByYW5nZTogTlNSYW5nZSwgd2l0aCBhdHRyU3RyaW5nOiBOU0F0dHJpYnV0ZWRTdHJpbmcpIHt9CiAgICBvcGVuIGZ1bmMgc2V0QXR0cmlidXRlZFN0cmluZyhfIGF0dHJTdHJpbmc6IE5TQXR0cmlidXRlZFN0cmluZykge30KICAgIG9wZW4gZnVuYyBzZXRBdHRyaWJ1dGVzKF8gYXR0cnM6IFtOU0F0dHJpYnV0ZWRTdHJpbmdLZXk6IEFueV0/LCByYW5nZTogTlNSYW5nZSkge30KfQpvcGVuIGNsYXNzIE5TTXV0YWJsZUNoYXJhY3RlclNldCA6IEFueU9iamVjdCwgQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TQ2hhcmFjdGVyU2V0LCBOU0NvZGluZywgTlNDb3B5aW5nLCBOU011dGFibGVDb3B5aW5nLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCwgX1N0cnVjdFR5cGVCcmlkZ2VhYmxlLCBfU3dpZnRCcmlkZ2VhYmxlIHsKICAgIG9wZW4gY2xhc3MgZnVuYyBhbHBoYW51bWVyaWMoKSAtPiBOU011dGFibGVDaGFyYWN0ZXJTZXQge30KICAgIG9wZW4gY2xhc3MgZnVuYyBjYXBpdGFsaXplZExldHRlcigpIC0+IE5TTXV0YWJsZUNoYXJhY3RlclNldCB7fQogICAgb3BlbiBjbGFzcyBmdW5jIGNvbnRyb2woKSAtPiBOU011dGFibGVDaGFyYWN0ZXJTZXQge30KICAgIG9wZW4gY2xhc3MgZnVuYyBkZWNpbWFsRGlnaXQoKSAtPiBOU011dGFibGVDaGFyYWN0ZXJTZXQge30KICAgIG9wZW4gY2xhc3MgZnVuYyBkZWNvbXBvc2FibGUoKSAtPiBOU011dGFibGVDaGFyYWN0ZXJTZXQge30KICAgIG9wZW4gY2xhc3MgZnVuYyBpbGxlZ2FsKCkgLT4gTlNNdXRhYmxlQ2hhcmFjdGVyU2V0IHt9CiAgICBwdWJsaWMgY2xhc3MgZnVuYyBsZXR0ZXIoKSAtPiBOU011dGFibGVDaGFyYWN0ZXJTZXQge30KICAgIG9wZW4gY2xhc3MgZnVuYyBsb3dlcmNhc2VMZXR0ZXIoKSAtPiBOU011dGFibGVDaGFyYWN0ZXJTZXQge30KICAgIG9wZW4gY2xhc3MgZnVuYyBuZXdsaW5lKCkgLT4gTlNNdXRhYmxlQ2hhcmFjdGVyU2V0IHt9CiAgICBvcGVuIGNsYXNzIGZ1bmMgbm9uQmFzZSgpIC0+IE5TTXV0YWJsZUNoYXJhY3RlclNldCB7fQogICAgb3BlbiBjbGFzcyBmdW5jIHB1bmN0dWF0aW9uKCkgLT4gTlNNdXRhYmxlQ2hhcmFjdGVyU2V0IHt9CiAgICBvcGVuIGNsYXNzIGZ1bmMgc3ltYm9sKCkgLT4gTlNNdXRhYmxlQ2hhcmFjdGVyU2V0IHt9CiAgICBvcGVuIGNsYXNzIGZ1bmMgdXBwZXJjYXNlTGV0dGVyKCkgLT4gTlNNdXRhYmxlQ2hhcmFjdGVyU2V0IHt9CiAgICBvcGVuIGNsYXNzIGZ1bmMgd2hpdGVzcGFjZSgpIC0+IE5TTXV0YWJsZUNoYXJhY3RlclNldCB7fQogICAgb3BlbiBjbGFzcyBmdW5jIHdoaXRlc3BhY2VBbmROZXdsaW5lKCkgLT4gTlNNdXRhYmxlQ2hhcmFjdGVyU2V0IHt9CiAgICBvcGVuIGZ1bmMgYWRkQ2hhcmFjdGVycyhpbiBhUmFuZ2U6IE5TUmFuZ2UpIHt9CiAgICBvcGVuIGZ1bmMgZm9ybUludGVyc2VjdGlvbih3aXRoIG90aGVyU2V0OiBDaGFyYWN0ZXJTZXQpIHt9CiAgICBvcGVuIGZ1bmMgZm9ybVVuaW9uKHdpdGggb3RoZXJTZXQ6IENoYXJhY3RlclNldCkge30KICAgIG9wZW4gZnVuYyBpbnZlcnQoKSB7fQogICAgb3BlbiBmdW5jIHJlbW92ZUNoYXJhY3RlcnMoaW4gYVJhbmdlOiBOU1JhbmdlKSB7fQp9Cm9wZW4gY2xhc3MgTlNNdXRhYmxlRGF0YSA6IEFueU9iamVjdCwgQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TQ29kaW5nLCBOU0NvcHlpbmcsIE5TRGF0YSwgTlNNdXRhYmxlQ29weWluZywgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wsIE5TU2VjdXJlQ29kaW5nLCBfQ0ZCcmlkZ2VhYmxlLCBfU3RydWN0VHlwZUJyaWRnZWFibGUsIF9Td2lmdEJyaWRnZWFibGUgewogICAgcHVibGljIGluaXQ/KGNhcGFjaXR5OiBJbnQpIHt9CiAgICBwdWJsaWMgaW5pdD8obGVuZ3RoOiBJbnQpIHt9CiAgICBvcGVuIHZhciBtdXRhYmxlQnl0ZXM6IFVuc2FmZU11dGFibGVSYXdQb2ludGVyIHsgZ2V0IH0KICAgIG9wZW4gZnVuYyBhcHBlbmQoXyBvdGhlcjogRGF0YSkge30KICAgIG9wZW4gZnVuYyBhcHBlbmQoXyBieXRlczogVW5zYWZlUmF3UG9pbnRlciwgbGVuZ3RoOiBJbnQpIHt9CiAgICBvcGVuIGZ1bmMgaW5jcmVhc2VMZW5ndGgoYnkgZXh0cmFMZW5ndGg6IEludCkge30KICAgIG9wZW4gZnVuYyByZXBsYWNlQnl0ZXMoaW4gcmFuZ2U6IE5TUmFuZ2UsIHdpdGhCeXRlcyBieXRlczogVW5zYWZlUmF3UG9pbnRlcikge30KICAgIG9wZW4gZnVuYyByZXBsYWNlQnl0ZXMoaW4gcmFuZ2U6IE5TUmFuZ2UsIHdpdGhCeXRlcyByZXBsYWNlbWVudEJ5dGVzOiBVbnNhZmVSYXdQb2ludGVyPywgbGVuZ3RoIHJlcGxhY2VtZW50TGVuZ3RoOiBJbnQpIHt9CiAgICBvcGVuIGZ1bmMgcmVzZXRCeXRlcyhpbiByYW5nZTogTlNSYW5nZSkge30KICAgIG9wZW4gZnVuYyBzZXREYXRhKF8gZGF0YTogRGF0YSkge30KfQpvcGVuIGNsYXNzIE5TTXV0YWJsZURpY3Rpb25hcnkgOiBBbnlPYmplY3QsIEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVJlZmxlY3RhYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBFeHByZXNzaWJsZUJ5RGljdGlvbmFyeUxpdGVyYWwsIEhhc2hhYmxlLCBOU0NvZGluZywgTlNDb3B5aW5nLCBOU0RpY3Rpb25hcnksIE5TTXV0YWJsZUNvcHlpbmcsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBOU1NlY3VyZUNvZGluZywgU2VxdWVuY2UsIF9DRkJyaWRnZWFibGUsIF9TdHJ1Y3RUeXBlQnJpZGdlYWJsZSwgX1N3aWZ0QnJpZGdlYWJsZSB7CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdChjYXBhY2l0eSBudW1JdGVtczogSW50KSB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQoc2hhcmVkS2V5U2V0IGtleXNldDogQW55KSB7fQogICAgb3BlbiBmdW5jIGFkZEVudHJpZXMoZnJvbSBvdGhlckRpY3Rpb25hcnk6IFtBbnlIYXNoYWJsZTogQW55XSkge30KICAgIG9wZW4gZnVuYyByZW1vdmVBbGxPYmplY3RzKCkge30KICAgIG9wZW4gZnVuYyByZW1vdmVPYmplY3QoZm9yS2V5IGFLZXk6IEFueSkge30KICAgIG9wZW4gZnVuYyByZW1vdmVPYmplY3RzKGZvcktleXMga2V5QXJyYXk6IFtBbnldKSB7fQogICAgb3BlbiBmdW5jIHNldERpY3Rpb25hcnkoXyBvdGhlckRpY3Rpb25hcnk6IFtBbnlIYXNoYWJsZTogQW55XSkge30KICAgIG9wZW4gZnVuYyBzZXRPYmplY3QoXyBhbk9iamVjdDogQW55LCBmb3JLZXkgYUtleTogQW55SGFzaGFibGUpIHt9Cn0Kb3BlbiBjbGFzcyBOU011dGFibGVJbmRleFNldCA6IEFueU9iamVjdCwgQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TQ29kaW5nLCBOU0NvcHlpbmcsIE5TSW5kZXhTZXQsIE5TTXV0YWJsZUNvcHlpbmcsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBOU1NlY3VyZUNvZGluZywgU2VxdWVuY2UsIF9TdHJ1Y3RUeXBlQnJpZGdlYWJsZSB7CiAgICBvcGVuIGZ1bmMgYWRkKF8gaW5kZXhTZXQ6IEluZGV4U2V0KSB7fQogICAgb3BlbiBmdW5jIGFkZChpbiByOiBOU1JhbmdlKSB7fQogICAgb3BlbiBmdW5jIHJlbW92ZShfIGluZGV4U2V0OiBJbmRleFNldCkge30KICAgIG9wZW4gZnVuYyByZW1vdmUoaW4gcmFuZ2U6IE5TUmFuZ2UpIHt9CiAgICBvcGVuIGZ1bmMgcmVtb3ZlQWxsSW5kZXhlcygpIHt9CiAgICBvcGVuIGZ1bmMgc2hpZnRJbmRleGVzU3RhcnRpbmcoYXQgaW5kZXg6IEludCwgYnkgZGVsdGE6IEludCkge30KfQpvcGVuIGNsYXNzIE5TTXV0YWJsZU9yZGVyZWRTZXQgOiBBbnlPYmplY3QsIEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEV4cHJlc3NpYmxlQnlBcnJheUxpdGVyYWwsIEhhc2hhYmxlLCBOU0NvZGluZywgTlNDb3B5aW5nLCBOU011dGFibGVDb3B5aW5nLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCwgTlNPcmRlcmVkU2V0LCBOU1NlY3VyZUNvZGluZywgU2VxdWVuY2UgewogICAgcHVibGljIGluaXQoY2FwYWNpdHkgbnVtSXRlbXM6IEludCkge30KICAgIG9wZW4gZnVuYyBhZGQoXyBvYmplY3Q6IEFueSkge30KICAgIG9wZW4gZnVuYyBhZGQoXyBvYmplY3RzOiBVbnNhZmVQb2ludGVyPEFueU9iamVjdD4hLCBjb3VudDogSW50KSB7fQogICAgb3BlbiBmdW5jIGFkZE9iamVjdHMoZnJvbSBhcnJheTogW0FueV0pIHt9CiAgICBvcGVuIGZ1bmMgZXhjaGFuZ2VPYmplY3QoYXQgaWR4MTogSW50LCB3aXRoT2JqZWN0QXQgaWR4MjogSW50KSB7fQogICAgb3BlbiBmdW5jIGZpbHRlcih1c2luZyBwcmVkaWNhdGU6IE5TUHJlZGljYXRlKSB7fQogICAgb3BlbiBmdW5jIGluc2VydChfIG9iamVjdDogQW55LCBhdCBpZHg6IEludCkge30KICAgIG9wZW4gZnVuYyBpbnRlcnNlY3QoXyBvdGhlcjogTlNPcmRlcmVkU2V0KSB7fQogICAgb3BlbiBmdW5jIGludGVyc2VjdFNldChfIG90aGVyOiBTZXQ8QW55SGFzaGFibGU+KSB7fQogICAgb3BlbiBmdW5jIG1pbnVzKF8gb3RoZXI6IE5TT3JkZXJlZFNldCkge30KICAgIG9wZW4gZnVuYyBtaW51c1NldChfIG90aGVyOiBTZXQ8QW55SGFzaGFibGU+KSB7fQogICAgb3BlbiBmdW5jIG1vdmVPYmplY3RzKGF0IGluZGV4ZXM6IEluZGV4U2V0LCB0byBpZHg6IEludCkge30KICAgIG9wZW4gZnVuYyByZW1vdmUoXyB2YWw6IEFueSkge30KICAgIHB1YmxpYyBmdW5jIHJlbW92ZUFsbE9iamVjdHMoKSB7fQogICAgb3BlbiBmdW5jIHJlbW92ZU9iamVjdChhdCBpZHg6IEludCkge30KICAgIG9wZW4gZnVuYyByZW1vdmVPYmplY3RzKGF0IGluZGV4ZXM6IEluZGV4U2V0KSB7fQogICAgb3BlbiBmdW5jIHJlbW92ZU9iamVjdHMoaW4gYXJyYXk6IFtBbnldKSB7fQogICAgb3BlbiBmdW5jIHJlcGxhY2VPYmplY3QoYXQgaWR4OiBJbnQsIHdpdGggb2JqOiBBbnkpIHt9CiAgICBvcGVuIGZ1bmMgcmVwbGFjZU9iamVjdHMoYXQgaW5kZXhlczogSW5kZXhTZXQsIHdpdGggb2JqZWN0czogW0FueV0pIHt9CiAgICBvcGVuIGZ1bmMgcmVwbGFjZU9iamVjdHMoaW4gcmFuZ2U6IE5TUmFuZ2UsIHdpdGggb2JqZWN0czogVW5zYWZlUG9pbnRlcjxBbnlPYmplY3Q+ISwgY291bnQ6IEludCkge30KICAgIG9wZW4gZnVuYyBzZXRPYmplY3QoXyBvYmo6IEFueSwgYXQgaWR4OiBJbnQpIHt9CiAgICBvcGVuIGZ1bmMgc29ydChjb21wYXJhdG9yIGNtcHRyOiAoQW55LCBBbnkpIC0+IENvbXBhcmlzb25SZXN1bHQpIHt9CiAgICBvcGVuIGZ1bmMgc29ydChvcHRpb25zIG9wdHM6IE5TU29ydE9wdGlvbnMgPSB4LCB1c2luZ0NvbXBhcmF0b3IgY21wdHI6IChBbnksIEFueSkgLT4gQ29tcGFyaXNvblJlc3VsdCkge30KICAgIHB1YmxpYyBmdW5jIHNvcnQodXNpbmcgc29ydERlc2NyaXB0b3JzOiBbTlNTb3J0RGVzY3JpcHRvcl0pIHt9CiAgICBvcGVuIGZ1bmMgc29ydFJhbmdlKF8gcmFuZ2U6IE5TUmFuZ2UsIG9wdGlvbnMgb3B0czogTlNTb3J0T3B0aW9ucyA9IHgsIHVzaW5nQ29tcGFyYXRvciBjbXB0cjogKEFueSwgQW55KSAtPiBDb21wYXJpc29uUmVzdWx0KSB7fQogICAgb3BlbiBmdW5jIHVuaW9uKF8gb3RoZXI6IE5TT3JkZXJlZFNldCkge30KICAgIG9wZW4gZnVuYyB1bmlvblNldChfIG90aGVyOiBTZXQ8QW55SGFzaGFibGU+KSB7fQp9Cm9wZW4gY2xhc3MgTlNNdXRhYmxlU2V0IDogQW55T2JqZWN0LCBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21SZWZsZWN0YWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TQ29kaW5nLCBOU0NvcHlpbmcsIE5TTXV0YWJsZUNvcHlpbmcsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBOU1NlY3VyZUNvZGluZywgTlNTZXQsIFNlcXVlbmNlLCBfQ0ZCcmlkZ2VhYmxlLCBfU3RydWN0VHlwZUJyaWRnZWFibGUsIF9Td2lmdEJyaWRnZWFibGUgewogICAgcHVibGljIHJlcXVpcmVkIGluaXQoY2FwYWNpdHkgbnVtSXRlbXM6IEludCkge30KICAgIG9wZW4gZnVuYyBhZGQoXyBvYmplY3Q6IEFueSkge30KICAgIG9wZW4gZnVuYyBhZGRPYmplY3RzKGZyb20gYXJyYXk6IFtBbnldKSB7fQogICAgb3BlbiBmdW5jIGZpbHRlcih1c2luZyBwcmVkaWNhdGU6IE5TUHJlZGljYXRlKSB7fQogICAgb3BlbiBmdW5jIGludGVyc2VjdChfIG90aGVyU2V0OiBTZXQ8QW55SGFzaGFibGU+KSB7fQogICAgb3BlbiBmdW5jIG1pbnVzKF8gb3RoZXJTZXQ6IFNldDxBbnlIYXNoYWJsZT4pIHt9CiAgICBvcGVuIGZ1bmMgcmVtb3ZlKF8gb2JqZWN0OiBBbnkpIHt9CiAgICBvcGVuIGZ1bmMgcmVtb3ZlQWxsT2JqZWN0cygpIHt9CiAgICBvcGVuIGZ1bmMgc2V0U2V0KF8gb3RoZXJTZXQ6IFNldDxBbnlIYXNoYWJsZT4pIHt9CiAgICBvcGVuIGZ1bmMgdW5pb24oXyBvdGhlclNldDogU2V0PEFueUhhc2hhYmxlPikge30KfQpvcGVuIGNsYXNzIE5TTXV0YWJsZVN0cmluZyA6IEFueU9iamVjdCwgQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgRXhwcmVzc2libGVCeVN0cmluZ0xpdGVyYWwsIEhhc2hhYmxlLCBOU0NvZGluZywgTlNDb3B5aW5nLCBOU011dGFibGVDb3B5aW5nLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCwgTlNTZWN1cmVDb2RpbmcsIE5TU3RyaW5nLCBfQ0ZCcmlkZ2VhYmxlLCBfU3RydWN0VHlwZUJyaWRnZWFibGUsIF9Td2lmdEJyaWRnZWFibGUgewogICAgcHVibGljIHJlcXVpcmVkIGluaXQoY2FwYWNpdHk6IEludCkge30KICAgIHB1YmxpYyBmdW5jIGFwcGVuZChfIGFTdHJpbmc6IFN0cmluZykge30KICAgIHB1YmxpYyBmdW5jIGFwcGx5VHJhbnNmb3JtKF8gdHJhbnNmb3JtOiBTdHJpbmcsIHJldmVyc2U6IEJvb2wsIHJhbmdlOiBOU1JhbmdlLCB1cGRhdGVkUmFuZ2UgcmVzdWx0aW5nUmFuZ2U6IE5TUmFuZ2VQb2ludGVyPykgLT4gQm9vbCB7fQogICAgcHVibGljIGZ1bmMgZGVsZXRlQ2hhcmFjdGVycyhpbiByYW5nZTogTlNSYW5nZSkge30KICAgIHB1YmxpYyBmdW5jIGluc2VydChfIGFTdHJpbmc6IFN0cmluZywgYXQgbG9jOiBJbnQpIHt9CiAgICBvcGVuIGZ1bmMgcmVwbGFjZUNoYXJhY3RlcnMoaW4gcmFuZ2U6IE5TUmFuZ2UsIHdpdGggYVN0cmluZzogU3RyaW5nKSB7fQogICAgcHVibGljIGZ1bmMgcmVwbGFjZU9jY3VycmVuY2VzKG9mIHRhcmdldDogU3RyaW5nLCB3aXRoIHJlcGxhY2VtZW50OiBTdHJpbmcsIG9wdGlvbnM6IENvbXBhcmVPcHRpb25zID0geCwgcmFuZ2Ugc2VhcmNoUmFuZ2U6IE5TUmFuZ2UpIC0+IEludCB7fQogICAgcHVibGljIGZ1bmMgc2V0U3RyaW5nKF8gYVN0cmluZzogU3RyaW5nKSB7fQp9Cm9wZW4gY2xhc3MgTlNNdXRhYmxlVVJMUmVxdWVzdCA6IEFueU9iamVjdCwgQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TQ29kaW5nLCBOU0NvcHlpbmcsIE5TTXV0YWJsZUNvcHlpbmcsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBOU1NlY3VyZUNvZGluZywgTlNVUkxSZXF1ZXN0LCBfU3RydWN0VHlwZUJyaWRnZWFibGUgewogICAgb3BlbiBmdW5jIGFkZFZhbHVlKF8gdmFsdWU6IFN0cmluZywgZm9ySFRUUEhlYWRlckZpZWxkIGZpZWxkOiBTdHJpbmcpIHt9CiAgICBvcGVuIGZ1bmMgc2V0VmFsdWUoXyB2YWx1ZTogU3RyaW5nPywgZm9ySFRUUEhlYWRlckZpZWxkIGZpZWxkOiBTdHJpbmcpIHt9Cn0Kb3BlbiBjbGFzcyBOU05vdGlmaWNhdGlvbiA6IEFueU9iamVjdCwgQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TQ29kaW5nLCBOU0NvcHlpbmcsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sIHsKICAgIHB1YmxpYyBpbml0KG5hbWU6IE5hbWUsIG9iamVjdDogQW55PywgdXNlckluZm86IFtBbnlIYXNoYWJsZTogQW55XT8gPSB4KSB7fQogICAgb3BlbiB2YXIgbmFtZTogTmFtZSB7IGdldCB9CiAgICBvcGVuIHZhciBvYmplY3Q6IEFueT8geyBnZXQgfQogICAgb3BlbiB2YXIgdXNlckluZm86IFtBbnlIYXNoYWJsZTogQW55XT8geyBnZXQgfQp9Cm9wZW4gY2xhc3MgTlNOdWxsIDogQW55T2JqZWN0LCBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNDb2RpbmcsIE5TQ29weWluZywgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wsIE5TU2VjdXJlQ29kaW5nIHsKfQpvcGVuIGNsYXNzIE5TTnVtYmVyIDogQW55T2JqZWN0LCBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBFeHByZXNzaWJsZUJ5Qm9vbGVhbkxpdGVyYWwsIEV4cHJlc3NpYmxlQnlGbG9hdExpdGVyYWwsIEV4cHJlc3NpYmxlQnlJbnRlZ2VyTGl0ZXJhbCwgSGFzaGFibGUsIE5TQ29kaW5nLCBOU0NvcHlpbmcsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBOU1NlY3VyZUNvZGluZywgTlNWYWx1ZSwgX0ZhY3RvcnksIF9OU051bWJlckNhc3RpbmdXaXRob3V0QnJpZGdpbmcgewogICAgcHVibGljIHJlcXVpcmVkIGNvbnZlbmllbmNlIGluaXQoYm9vbGVhbkxpdGVyYWwgdmFsdWU6IEJvb2wpIHt9CiAgICBwdWJsaWMgcmVxdWlyZWQgY29udmVuaWVuY2UgaW5pdChmbG9hdExpdGVyYWwgdmFsdWU6IERvdWJsZSkge30KICAgIHB1YmxpYyByZXF1aXJlZCBjb252ZW5pZW5jZSBpbml0KGludGVnZXJMaXRlcmFsIHZhbHVlOiBJbnQpIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdCh2YWx1ZTogQm9vbCkge30KICAgIG9wZW4gdmFyIGJvb2xWYWx1ZTogQm9vbCB7IGdldCB9CiAgICBwdWJsaWMgdmFyIGRlY2ltYWxWYWx1ZTogRGVjaW1hbCB7IGdldCB9CiAgICBvcGVuIHZhciBkb3VibGVWYWx1ZTogRG91YmxlIHsgZ2V0IH0KICAgIG9wZW4gdmFyIGZsb2F0VmFsdWU6IEZsb2F0IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGludDE2VmFsdWU6IEludDE2IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGludDMyVmFsdWU6IEludDMyIHsgZ2V0IH0KICAgIG9wZW4gdmFyIGludDY0VmFsdWU6IEludDY0IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGludDhWYWx1ZTogSW50OCB7IGdldCB9CiAgICBvcGVuIHZhciBpbnRWYWx1ZTogSW50IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHN0cmluZ1ZhbHVlOiBTdHJpbmcgeyBnZXQgfQogICAgb3BlbiB2YXIgdWludDE2VmFsdWU6IFVJbnQxNiB7IGdldCB9CiAgICBvcGVuIHZhciB1aW50MzJWYWx1ZTogVUludDMyIHsgZ2V0IH0KICAgIG9wZW4gdmFyIHVpbnQ2NFZhbHVlOiBVSW50NjQgeyBnZXQgfQogICAgb3BlbiB2YXIgdWludDhWYWx1ZTogVUludDggeyBnZXQgfQogICAgb3BlbiB2YXIgdWludFZhbHVlOiBVSW50IHsgZ2V0IH0KICAgIG9wZW4gZnVuYyBjb21wYXJlKF8gb3RoZXJOdW1iZXI6IE5TTnVtYmVyKSAtPiBDb21wYXJpc29uUmVzdWx0IHt9CiAgICBvcGVuIGZ1bmMgZGVzY3JpcHRpb24od2l0aExvY2FsZSBsb2NhbGU6IExvY2FsZT8pIC0+IFN0cmluZyB7fQp9Cm9wZW4gY2xhc3MgTlNPYmplY3QgOiBBbnlPYmplY3QsIEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU09iamVjdFByb3RvY29sIHsKICAgIG9wZW4gY2xhc3MgZnVuYyBjbGFzc0ZhbGxiYWNrc0ZvcktleWVkQXJjaGl2ZXIoKSAtPiBbU3RyaW5nXSB7fQogICAgb3BlbiBjbGFzcyBmdW5jIGNsYXNzRm9yS2V5ZWRVbmFyY2hpdmVyKCkgLT4gQW55Q2xhc3Mge30KICAgIHB1YmxpYyBpbml0KCkge30KICAgIG9wZW4gdmFyIGNsYXNzRm9yQ29kZXI6IEFueUNsYXNzIHsgZ2V0IH0KICAgIG9wZW4gdmFyIGNsYXNzRm9yS2V5ZWRBcmNoaXZlcjogQW55Q2xhc3M/IHsgZ2V0IH0KICAgIHB1YmxpYyB2YXIgaGFzaFZhbHVlOiBJbnQgeyBnZXQgfQogICAgcHVibGljIGZ1bmMgPT0obGhzOiBOU09iamVjdCwgcmhzOiBOU09iamVjdCkgLT4gQm9vbCB7fQogICAgb3BlbiBmdW5jIGNvcHkoKSAtPiBBbnkge30KICAgIHB1YmxpYyBmdW5jIGhhc2goaW50byBoYXNoZXI6IGlub3V0IEhhc2hlcikge30KICAgIG9wZW4gZnVuYyBtdXRhYmxlQ29weSgpIC0+IEFueSB7fQogICAgb3BlbiBmdW5jIHJlcGxhY2VtZW50T2JqZWN0KGZvciBhQ29kZXI6IE5TQ29kZXIpIC0+IEFueT8ge30KICAgIG9wZW4gZnVuYyByZXBsYWNlbWVudE9iamVjdChmb3IgYXJjaGl2ZXI6IE5TS2V5ZWRBcmNoaXZlcikgLT4gQW55PyB7fQp9Cm9wZW4gY2xhc3MgTlNPcmRlcmVkU2V0IDogQW55T2JqZWN0LCBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBFeHByZXNzaWJsZUJ5QXJyYXlMaXRlcmFsLCBIYXNoYWJsZSwgTlNDb2RpbmcsIE5TQ29weWluZywgTlNNdXRhYmxlQ29weWluZywgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wsIE5TU2VjdXJlQ29kaW5nLCBTZXF1ZW5jZSB7CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdChhcnJheTogW0FueV0pIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdChhcnJheSBzZXQ6IFtBbnldLCBjb3B5SXRlbXMgZmxhZzogQm9vbCkge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KGFycmF5IHNldDogW0FueV0sIHJhbmdlOiBOU1JhbmdlLCBjb3B5SXRlbXMgZmxhZzogQm9vbCkge30KICAgIHB1YmxpYyByZXF1aXJlZCBjb252ZW5pZW5jZSBpbml0KGFycmF5TGl0ZXJhbCBlbGVtZW50czogQW55Li4uKSB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQob2JqZWN0OiBBbnkpIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdChvYmplY3RzIGVsZW1lbnRzOiBBbnkuLi4pIHt9CiAgICBwdWJsaWMgaW5pdChvYmplY3RzOiBVbnNhZmVQb2ludGVyPEFueU9iamVjdD4hLCBjb3VudCBjbnQ6IEludCkge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KG9yZGVyZWRTZXQgc2V0OiBOU09yZGVyZWRTZXQpIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdChvcmRlcmVkU2V0IHNldDogTlNPcmRlcmVkU2V0LCBjb3B5SXRlbXMgZmxhZzogQm9vbCkge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KG9yZGVyZWRTZXQgc2V0OiBOU09yZGVyZWRTZXQsIHJhbmdlOiBOU1JhbmdlLCBjb3B5SXRlbXMgZmxhZzogQm9vbCkge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KHNldDogU2V0PEFueUhhc2hhYmxlPikge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KHNldDogU2V0PEFueUhhc2hhYmxlPiwgY29weUl0ZW1zIGZsYWc6IEJvb2wpIHt9CiAgICBwdWJsaWMgdmFyIGFycmF5OiBbQW55XSB7IGdldCB9CiAgICBvcGVuIHZhciBjb3VudDogSW50IHsgZ2V0IH0KICAgIHB1YmxpYyB2YXIgZmlyc3RPYmplY3Q6IEFueT8geyBnZXQgfQogICAgcHVibGljIHZhciBsYXN0T2JqZWN0OiBBbnk/IHsgZ2V0IH0KICAgIHB1YmxpYyB2YXIgcmV2ZXJzZWQ6IE5TT3JkZXJlZFNldCB7IGdldCB9CiAgICBwdWJsaWMgdmFyIHNldDogU2V0PEFueUhhc2hhYmxlPiB7IGdldCB9CiAgICBvcGVuIHN1YnNjcmlwdChpZHg6IEludCkgLT4gQW55IHsgZ2V0IH0ge30KICAgIG9wZW4gZnVuYyBjb250YWlucyhfIG9iamVjdDogQW55KSAtPiBCb29sIHt9CiAgICBwdWJsaWMgZnVuYyBkZXNjcmlwdGlvbih3aXRoTG9jYWxlIGxvY2FsZTogTG9jYWxlPykgLT4gU3RyaW5nIHt9CiAgICBwdWJsaWMgZnVuYyBkZXNjcmlwdGlvbih3aXRoTG9jYWxlIGxvY2FsZTogTG9jYWxlPywgaW5kZW50IGxldmVsOiBJbnQpIC0+IFN0cmluZyB7fQogICAgb3BlbiBmdW5jIGVudW1lcmF0ZU9iamVjdHMoXyBibG9jazogKEFueSwgSW50LCBVbnNhZmVNdXRhYmxlUG9pbnRlcjxPYmpDQm9vbD4pIC0+IFN3aWZ0LlZvaWQpIHt9CiAgICBvcGVuIGZ1bmMgZW51bWVyYXRlT2JqZWN0cyhhdCBzOiBJbmRleFNldCwgb3B0aW9ucyBvcHRzOiBOU0VudW1lcmF0aW9uT3B0aW9ucyA9IHgsIHVzaW5nIGJsb2NrOiAoQW55LCBJbnQsIFVuc2FmZU11dGFibGVQb2ludGVyPE9iakNCb29sPikgLT4gU3dpZnQuVm9pZCkge30KICAgIG9wZW4gZnVuYyBlbnVtZXJhdGVPYmplY3RzKG9wdGlvbnMgb3B0czogTlNFbnVtZXJhdGlvbk9wdGlvbnMgPSB4LCB1c2luZyBibG9jazogKEFueSwgSW50LCBVbnNhZmVNdXRhYmxlUG9pbnRlcjxPYmpDQm9vbD4pIC0+IFN3aWZ0LlZvaWQpIHt9CiAgICBvcGVuIGZ1bmMgZmlsdGVyZWQodXNpbmcgcHJlZGljYXRlOiBOU1ByZWRpY2F0ZSkgLT4gTlNPcmRlcmVkU2V0IHt9CiAgICBwdWJsaWMgZnVuYyBnZXRPYmplY3RzKF8gb2JqZWN0czogaW5vdXQgW0FueU9iamVjdF0sIHJhbmdlOiBOU1JhbmdlKSB7fQogICAgb3BlbiBmdW5jIGluZGV4KF8gb3B0czogTlNFbnVtZXJhdGlvbk9wdGlvbnMgPSB4LCBvZk9iamVjdFBhc3NpbmdUZXN0IHByZWRpY2F0ZTogKEFueSwgSW50LCBVbnNhZmVNdXRhYmxlUG9pbnRlcjxPYmpDQm9vbD4pIC0+IEJvb2wpIC0+IEludCB7fQogICAgb3BlbiBmdW5jIGluZGV4KG9mIG9iamVjdDogQW55KSAtPiBJbnQge30KICAgIG9wZW4gZnVuYyBpbmRleChvZiBvYmplY3Q6IEFueSwgaW5Tb3J0ZWRSYW5nZSByYW5nZTogTlNSYW5nZSwgb3B0aW9ucyBvcHRzOiBOU0JpbmFyeVNlYXJjaGluZ09wdGlvbnMgPSB4LCB1c2luZ0NvbXBhcmF0b3IgY21wOiAoQW55LCBBbnkpIC0+IENvbXBhcmlzb25SZXN1bHQpIC0+IEludCB7fQogICAgb3BlbiBmdW5jIGluZGV4KG9mT2JqZWN0QXQgczogSW5kZXhTZXQsIG9wdGlvbnMgb3B0czogTlNFbnVtZXJhdGlvbk9wdGlvbnMgPSB4LCBwYXNzaW5nVGVzdCBwcmVkaWNhdGU6IChBbnksIEludCwgVW5zYWZlTXV0YWJsZVBvaW50ZXI8T2JqQ0Jvb2w+KSAtPiBCb29sKSAtPiBJbnQge30KICAgIG9wZW4gZnVuYyBpbmRleChvZk9iamVjdFBhc3NpbmdUZXN0IHByZWRpY2F0ZTogKEFueSwgSW50LCBVbnNhZmVNdXRhYmxlUG9pbnRlcjxPYmpDQm9vbD4pIC0+IEJvb2wpIC0+IEludCB7fQogICAgb3BlbiBmdW5jIGluZGV4ZXMob2ZPYmplY3RzQXQgczogSW5kZXhTZXQsIG9wdGlvbnMgb3B0czogTlNFbnVtZXJhdGlvbk9wdGlvbnMgPSB4LCBwYXNzaW5nVGVzdCBwcmVkaWNhdGU6IChBbnksIEludCwgVW5zYWZlTXV0YWJsZVBvaW50ZXI8T2JqQ0Jvb2w+KSAtPiBCb29sKSAtPiBJbmRleFNldCB7fQogICAgb3BlbiBmdW5jIGluZGV4ZXMob2ZPYmplY3RzUGFzc2luZ1Rlc3QgcHJlZGljYXRlOiAoQW55LCBJbnQsIFVuc2FmZU11dGFibGVQb2ludGVyPE9iakNCb29sPikgLT4gQm9vbCkgLT4gSW5kZXhTZXQge30KICAgIG9wZW4gZnVuYyBpbmRleGVzKG9wdGlvbnMgb3B0czogTlNFbnVtZXJhdGlvbk9wdGlvbnMgPSB4LCBvZk9iamVjdHNQYXNzaW5nVGVzdCBwcmVkaWNhdGU6IChBbnksIEludCwgVW5zYWZlTXV0YWJsZVBvaW50ZXI8T2JqQ0Jvb2w+KSAtPiBCb29sKSAtPiBJbmRleFNldCB7fQogICAgb3BlbiBmdW5jIGludGVyc2VjdHMoXyBvdGhlcjogTlNPcmRlcmVkU2V0KSAtPiBCb29sIHt9CiAgICBvcGVuIGZ1bmMgaW50ZXJzZWN0c1NldChfIHNldDogU2V0PEFueUhhc2hhYmxlPikgLT4gQm9vbCB7fQogICAgb3BlbiBmdW5jIGlzRXF1YWwodG8gb3RoZXI6IE5TT3JkZXJlZFNldCkgLT4gQm9vbCB7fQogICAgb3BlbiBmdW5jIGlzU3Vic2V0KG9mIG90aGVyOiBOU09yZGVyZWRTZXQpIC0+IEJvb2wge30KICAgIHB1YmxpYyBmdW5jIG1ha2VJdGVyYXRvcigpIC0+IEl0ZXJhdG9yIHt9CiAgICBvcGVuIGZ1bmMgb2JqZWN0KGF0IGlkeDogSW50KSAtPiBBbnkge30KICAgIHB1YmxpYyBmdW5jIG9iamVjdEVudW1lcmF0b3IoKSAtPiBOU0VudW1lcmF0b3Ige30KICAgIG9wZW4gZnVuYyBvYmplY3RzKGF0IGluZGV4ZXM6IEluZGV4U2V0KSAtPiBbQW55XSB7fQogICAgcHVibGljIGZ1bmMgcmV2ZXJzZU9iamVjdEVudW1lcmF0b3IoKSAtPiBOU0VudW1lcmF0b3Ige30KICAgIG9wZW4gZnVuYyBzb3J0ZWRBcnJheShjb21wYXJhdG9yIGNtcHRyOiAoQW55LCBBbnkpIC0+IENvbXBhcmlzb25SZXN1bHQpIC0+IFtBbnldIHt9CiAgICBvcGVuIGZ1bmMgc29ydGVkQXJyYXkob3B0aW9ucyBvcHRzOiBOU1NvcnRPcHRpb25zID0geCwgdXNpbmdDb21wYXJhdG9yIGNtcHRyOiAoQW55LCBBbnkpIC0+IENvbXBhcmlzb25SZXN1bHQpIC0+IFtBbnldIHt9CiAgICBwdWJsaWMgZnVuYyBzb3J0ZWRBcnJheSh1c2luZyBzb3J0RGVzY3JpcHRvcnM6IFtOU1NvcnREZXNjcmlwdG9yXSkgLT4gW0FueV0ge30KfQpvcGVuIGNsYXNzIE5TUGVyc29uTmFtZUNvbXBvbmVudHMgOiBBbnlPYmplY3QsIEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU0NvZGluZywgTlNDb3B5aW5nLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCwgTlNTZWN1cmVDb2RpbmcsIF9IYXNDdXN0b21BbnlIYXNoYWJsZVJlcHJlc2VudGF0aW9uLCBfU3RydWN0VHlwZUJyaWRnZWFibGUgewogICAgb3BlbiB2YXIgZmFtaWx5TmFtZTogU3RyaW5nPyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgZ2l2ZW5OYW1lOiBTdHJpbmc/IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBtaWRkbGVOYW1lOiBTdHJpbmc/IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBuYW1lUHJlZml4OiBTdHJpbmc/IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBuYW1lU3VmZml4OiBTdHJpbmc/IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBuaWNrbmFtZTogU3RyaW5nPyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgcGhvbmV0aWNSZXByZXNlbnRhdGlvbjogUGVyc29uTmFtZUNvbXBvbmVudHM/IHsgZ2V0IHNldCB9Cn0Kb3BlbiBjbGFzcyBOU1ByZWRpY2F0ZSA6IEFueU9iamVjdCwgQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TQ29kaW5nLCBOU0NvcHlpbmcsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBOU1NlY3VyZUNvZGluZyB7CiAgICBwdWJsaWMgaW5pdChibG9jazogQGVzY2FwaW5nIChBbnk/LCBbU3RyaW5nOiBBbnldPykgLT4gQm9vbCkge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KGZvcm1hdCBwcmVkaWNhdGVGb3JtYXQ6IFN0cmluZywgXyBhcmdzOiBDVmFyQXJnLi4uKSB7fQogICAgcHVibGljIGluaXQoZm9ybWF0IHByZWRpY2F0ZUZvcm1hdDogU3RyaW5nLCBhcmd1bWVudEFycmF5IGFyZ3VtZW50czogW0FueV0/KSB7fQogICAgcHVibGljIGluaXQoZm9ybWF0IHByZWRpY2F0ZUZvcm1hdDogU3RyaW5nLCBhcmd1bWVudHMgYXJnTGlzdDogQ1ZhTGlzdFBvaW50ZXIpIHt9CiAgICBwdWJsaWMgaW5pdD8oZnJvbU1ldGFkYXRhUXVlcnlTdHJpbmcgcXVlcnlTdHJpbmc6IFN0cmluZykge30KICAgIHB1YmxpYyBpbml0KHZhbHVlOiBCb29sKSB7fQogICAgb3BlbiB2YXIgcHJlZGljYXRlRm9ybWF0OiBTdHJpbmcgeyBnZXQgfQogICAgb3BlbiBmdW5jIGFsbG93RXZhbHVhdGlvbigpIHt9CiAgICBvcGVuIGZ1bmMgZXZhbHVhdGUod2l0aCBvYmplY3Q6IEFueT8pIC0+IEJvb2wge30KICAgIG9wZW4gZnVuYyBldmFsdWF0ZSh3aXRoIG9iamVjdDogQW55Pywgc3Vic3RpdHV0aW9uVmFyaWFibGVzIGJpbmRpbmdzOiBbU3RyaW5nOiBBbnldPykgLT4gQm9vbCB7fQogICAgb3BlbiBmdW5jIHdpdGhTdWJzdGl0dXRpb25WYXJpYWJsZXMoXyB2YXJpYWJsZXM6IFtTdHJpbmc6IEFueV0pIC0+IFNlbGYge30KfQpvcGVuIGNsYXNzIE5TUmVjdXJzaXZlTG9jayA6IEFueU9iamVjdCwgQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TTG9ja2luZywgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wgewogICAgb3BlbiB2YXIgbmFtZTogU3RyaW5nPyB7IGdldCBzZXQgfQogICAgb3BlbiBmdW5jIGxvY2soYmVmb3JlIGxpbWl0OiBEYXRlKSAtPiBCb29sIHt9CiAgICBvcGVuIGZ1bmMgdHJ5KCkgLT4gQm9vbCB7fQp9Cm9wZW4gY2xhc3MgTlNSZWd1bGFyRXhwcmVzc2lvbiA6IEFueU9iamVjdCwgQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TQ29kaW5nLCBOU0NvcHlpbmcsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sIHsKICAgIG9wZW4gY2xhc3MgZnVuYyBlc2NhcGVkUGF0dGVybihmb3Igc3RyaW5nOiBTdHJpbmcpIC0+IFN0cmluZyB7fQogICAgb3BlbiBjbGFzcyBmdW5jIGVzY2FwZWRUZW1wbGF0ZShmb3Igc3RyaW5nOiBTdHJpbmcpIC0+IFN0cmluZyB7fQogICAgcHVibGljIGluaXQocGF0dGVybjogU3RyaW5nLCBvcHRpb25zOiBPcHRpb25zID0geCkgdGhyb3dzIHt9CiAgICBvcGVuIHZhciBudW1iZXJPZkNhcHR1cmVHcm91cHM6IEludCB7IGdldCB9CiAgICBvcGVuIHZhciBvcHRpb25zOiBPcHRpb25zIHsgZ2V0IH0KICAgIG9wZW4gdmFyIHBhdHRlcm46IFN0cmluZyB7IGdldCB9CiAgICBwdWJsaWMgZnVuYyBlbnVtZXJhdGVNYXRjaGVzKGluIHN0cmluZzogU3RyaW5nLCBvcHRpb25zOiBOU1JlZ3VsYXJFeHByZXNzaW9uLk1hdGNoaW5nT3B0aW9ucyA9IHgsIHJhbmdlOiBOU1JhbmdlLCB1c2luZyBibG9jazogQGVzY2FwaW5nIChOU1RleHRDaGVja2luZ1Jlc3VsdD8sIE5TUmVndWxhckV4cHJlc3Npb24uTWF0Y2hpbmdGbGFncywgVW5zYWZlTXV0YWJsZVBvaW50ZXI8T2JqQ0Jvb2w+KSAtPiBTd2lmdC5Wb2lkKSB7fQogICAgcHVibGljIGZ1bmMgZmlyc3RNYXRjaChpbiBzdHJpbmc6IFN0cmluZywgb3B0aW9uczogTlNSZWd1bGFyRXhwcmVzc2lvbi5NYXRjaGluZ09wdGlvbnMgPSB4LCByYW5nZTogTlNSYW5nZSkgLT4gTlNUZXh0Q2hlY2tpbmdSZXN1bHQ/IHt9CiAgICBwdWJsaWMgZnVuYyBtYXRjaGVzKGluIHN0cmluZzogU3RyaW5nLCBvcHRpb25zOiBOU1JlZ3VsYXJFeHByZXNzaW9uLk1hdGNoaW5nT3B0aW9ucyA9IHgsIHJhbmdlOiBOU1JhbmdlKSAtPiBbTlNUZXh0Q2hlY2tpbmdSZXN1bHRdIHt9CiAgICBwdWJsaWMgZnVuYyBudW1iZXJPZk1hdGNoZXMoaW4gc3RyaW5nOiBTdHJpbmcsIG9wdGlvbnM6IE5TUmVndWxhckV4cHJlc3Npb24uTWF0Y2hpbmdPcHRpb25zID0geCwgcmFuZ2U6IE5TUmFuZ2UpIC0+IEludCB7fQogICAgcHVibGljIGZ1bmMgcmFuZ2VPZkZpcnN0TWF0Y2goaW4gc3RyaW5nOiBTdHJpbmcsIG9wdGlvbnM6IE5TUmVndWxhckV4cHJlc3Npb24uTWF0Y2hpbmdPcHRpb25zID0geCwgcmFuZ2U6IE5TUmFuZ2UpIC0+IE5TUmFuZ2Uge30KICAgIHB1YmxpYyBmdW5jIHJlcGxhY2VNYXRjaGVzKGluIHN0cmluZzogTlNNdXRhYmxlU3RyaW5nLCBvcHRpb25zOiBOU1JlZ3VsYXJFeHByZXNzaW9uLk1hdGNoaW5nT3B0aW9ucyA9IHgsIHJhbmdlOiBOU1JhbmdlLCB3aXRoVGVtcGxhdGUgdGVtcGw6IFN0cmluZykgLT4gSW50IHt9CiAgICBwdWJsaWMgZnVuYyByZXBsYWNlbWVudFN0cmluZyhmb3IgcmVzdWx0OiBOU1RleHRDaGVja2luZ1Jlc3VsdCwgaW4gc3RyaW5nOiBTdHJpbmcsIG9mZnNldDogSW50LCB0ZW1wbGF0ZSB0ZW1wbDogU3RyaW5nKSAtPiBTdHJpbmcge30KICAgIHB1YmxpYyBmdW5jIHN0cmluZ0J5UmVwbGFjaW5nTWF0Y2hlcyhpbiBzdHJpbmc6IFN0cmluZywgb3B0aW9uczogTlNSZWd1bGFyRXhwcmVzc2lvbi5NYXRjaGluZ09wdGlvbnMgPSB4LCByYW5nZTogTlNSYW5nZSwgd2l0aFRlbXBsYXRlIHRlbXBsOiBTdHJpbmcpIC0+IFN0cmluZyB7fQp9Cm9wZW4gY2xhc3MgTlNTZXQgOiBBbnlPYmplY3QsIEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVJlZmxlY3RhYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNDb2RpbmcsIE5TQ29weWluZywgTlNNdXRhYmxlQ29weWluZywgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wsIE5TU2VjdXJlQ29kaW5nLCBTZXF1ZW5jZSwgX0NGQnJpZGdlYWJsZSwgX1N0cnVjdFR5cGVCcmlkZ2VhYmxlLCBfU3dpZnRCcmlkZ2VhYmxlIHsKICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KGFycmF5OiBbQW55XSkge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KG9iamVjdDogQW55KSB7fQogICAgcHVibGljIGluaXQob2JqZWN0czogVW5zYWZlUG9pbnRlcjxBbnlPYmplY3Q+ISwgY291bnQgY250OiBJbnQpIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdChzZXQ6IFNldDxBbnlIYXNoYWJsZT4pIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdChzZXQ6IFNldDxBbnlIYXNoYWJsZT4sIGNvcHlJdGVtcyBmbGFnOiBCb29sKSB7fQogICAgb3BlbiB2YXIgYWxsT2JqZWN0czogW0FueV0geyBnZXQgfQogICAgb3BlbiB2YXIgY291bnQ6IEludCB7IGdldCB9CiAgICBwdWJsaWMgdmFyIGN1c3RvbU1pcnJvcjogTWlycm9yIHsgZ2V0IH0KICAgIG9wZW4gZnVuYyBhZGRpbmcoXyBhbk9iamVjdDogQW55KSAtPiBTZXQ8QW55SGFzaGFibGU+IHt9CiAgICBvcGVuIGZ1bmMgYWRkaW5nT2JqZWN0cyhmcm9tIG90aGVyOiBTZXQ8QW55SGFzaGFibGU+KSAtPiBTZXQ8QW55SGFzaGFibGU+IHt9CiAgICBvcGVuIGZ1bmMgYW55T2JqZWN0KCkgLT4gQW55PyB7fQogICAgb3BlbiBmdW5jIGNvbnRhaW5zKF8gYW5PYmplY3Q6IEFueSkgLT4gQm9vbCB7fQogICAgb3BlbiBmdW5jIGRlc2NyaXB0aW9uKHdpdGhMb2NhbGUgbG9jYWxlOiBMb2NhbGU/KSAtPiBTdHJpbmcge30KICAgIG9wZW4gZnVuYyBlbnVtZXJhdGVPYmplY3RzKF8gYmxvY2s6IChBbnksIFVuc2FmZU11dGFibGVQb2ludGVyPE9iakNCb29sPikgLT4gU3dpZnQuVm9pZCkge30KICAgIG9wZW4gZnVuYyBlbnVtZXJhdGVPYmplY3RzKG9wdGlvbnMgb3B0czogTlNFbnVtZXJhdGlvbk9wdGlvbnMgPSB4LCB1c2luZyBibG9jazogKEFueSwgVW5zYWZlTXV0YWJsZVBvaW50ZXI8T2JqQ0Jvb2w+KSAtPiBTd2lmdC5Wb2lkKSB7fQogICAgb3BlbiBmdW5jIGZpbHRlcmVkKHVzaW5nIHByZWRpY2F0ZTogTlNQcmVkaWNhdGUpIC0+IFNldDxBbnlIYXNoYWJsZT4ge30KICAgIG9wZW4gZnVuYyBpbnRlcnNlY3RzKF8gb3RoZXJTZXQ6IFNldDxBbnlIYXNoYWJsZT4pIC0+IEJvb2wge30KICAgIG9wZW4gZnVuYyBpc0VxdWFsKHRvIG90aGVyU2V0OiBTZXQ8QW55SGFzaGFibGU+KSAtPiBCb29sIHt9CiAgICBvcGVuIGZ1bmMgaXNTdWJzZXQob2Ygb3RoZXJTZXQ6IFNldDxBbnlIYXNoYWJsZT4pIC0+IEJvb2wge30KICAgIHB1YmxpYyBmdW5jIG1ha2VJdGVyYXRvcigpIC0+IEl0ZXJhdG9yIHt9CiAgICBvcGVuIGZ1bmMgbWVtYmVyKF8gb2JqZWN0OiBBbnkpIC0+IEFueT8ge30KICAgIG9wZW4gZnVuYyBvYmplY3RFbnVtZXJhdG9yKCkgLT4gTlNFbnVtZXJhdG9yIHt9CiAgICBvcGVuIGZ1bmMgb2JqZWN0cyhvcHRpb25zIG9wdHM6IE5TRW51bWVyYXRpb25PcHRpb25zID0geCwgcGFzc2luZ1Rlc3QgcHJlZGljYXRlOiAoQW55LCBVbnNhZmVNdXRhYmxlUG9pbnRlcjxPYmpDQm9vbD4pIC0+IEJvb2wpIC0+IFNldDxBbnlIYXNoYWJsZT4ge30KICAgIG9wZW4gZnVuYyBvYmplY3RzKHBhc3NpbmdUZXN0IHByZWRpY2F0ZTogKEFueSwgVW5zYWZlTXV0YWJsZVBvaW50ZXI8T2JqQ0Jvb2w+KSAtPiBCb29sKSAtPiBTZXQ8QW55SGFzaGFibGU+IHt9CiAgICBwdWJsaWMgZnVuYyBzb3J0ZWRBcnJheSh1c2luZyBzb3J0RGVzY3JpcHRvcnM6IFtOU1NvcnREZXNjcmlwdG9yXSkgLT4gW0FueV0ge30KfQpvcGVuIGNsYXNzIE5TU29ydERlc2NyaXB0b3IgOiBBbnlPYmplY3QsIEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU0NvZGluZywgTlNDb3B5aW5nLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCwgTlNTZWN1cmVDb2RpbmcgewogICAgcHVibGljIGluaXQoa2V5OiBTdHJpbmc/LCBhc2NlbmRpbmc6IEJvb2wpIHt9CiAgICBwdWJsaWMgaW5pdChrZXk6IFN0cmluZz8sIGFzY2VuZGluZzogQm9vbCwgY29tcGFyYXRvciBjbXB0cjogQ29tcGFyYXRvcikge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0PFJvb3QsIFZhbHVlPihrZXlQYXRoOiBLZXlQYXRoPFJvb3QsIFZhbHVlPiwgYXNjZW5kaW5nOiBCb29sKSB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQ8Um9vdCwgVmFsdWU+KGtleVBhdGg6IEtleVBhdGg8Um9vdCwgVmFsdWU+LCBhc2NlbmRpbmc6IEJvb2wsIGNvbXBhcmF0b3IgY21wdHI6IEBlc2NhcGluZyBDb21wYXJhdG9yKSB7fQogICAgb3BlbiB2YXIgYXNjZW5kaW5nOiBCb29sIHsgZ2V0IH0KICAgIG9wZW4gdmFyIGNvbXBhcmF0b3I6IENvbXBhcmF0b3IgeyBnZXQgfQogICAgb3BlbiB2YXIga2V5OiBTdHJpbmc/IHsgZ2V0IH0KICAgIHB1YmxpYyB2YXIga2V5UGF0aDogQW55S2V5UGF0aD8geyBnZXQgfQogICAgb3BlbiB2YXIgcmV2ZXJzZWRTb3J0RGVzY3JpcHRvcjogQW55IHsgZ2V0IH0KICAgIG9wZW4gZnVuYyBhbGxvd0V2YWx1YXRpb24oKSB7fQogICAgb3BlbiBmdW5jIGNvbXBhcmUoXyBvYmplY3QxOiBBbnksIHRvIG9iamVjdDI6IEFueSkgLT4gQ29tcGFyaXNvblJlc3VsdCB7fQp9Cm9wZW4gY2xhc3MgTlNTdHJpbmcgOiBBbnlPYmplY3QsIEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEV4cHJlc3NpYmxlQnlTdHJpbmdMaXRlcmFsLCBIYXNoYWJsZSwgTlNDb2RpbmcsIE5TQ29weWluZywgTlNNdXRhYmxlQ29weWluZywgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wsIE5TU2VjdXJlQ29kaW5nLCBfQ0ZCcmlkZ2VhYmxlLCBfU3RydWN0VHlwZUJyaWRnZWFibGUsIF9Td2lmdEJyaWRnZWFibGUgewogICAgb3BlbiBjbGFzcyB2YXIgYXZhaWxhYmxlU3RyaW5nRW5jb2RpbmdzOiBVbnNhZmVQb2ludGVyPFVJbnQ+IHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgdmFyIGRlZmF1bHRDU3RyaW5nRW5jb2Rpbmc6IFVJbnQgeyBnZXQgfQogICAgb3BlbiBjbGFzcyBmdW5jIGxvY2FsaXplZE5hbWUob2YgZW5jb2Rpbmc6IFVJbnQpIC0+IFN0cmluZyB7fQogICAgcHVibGljIHN0YXRpYyBmdW5jIHBhdGhXaXRoQ29tcG9uZW50cyhfIGNvbXBvbmVudHM6IFtTdHJpbmddKSAtPiBTdHJpbmcge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0PyhieXRlczogVW5zYWZlUmF3UG9pbnRlciwgbGVuZ3RoIGxlbjogSW50LCBlbmNvZGluZzogVUludCkge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0PyhieXRlc05vQ29weSBieXRlczogVW5zYWZlTXV0YWJsZVJhd1BvaW50ZXIsIGxlbmd0aCBsZW46IEludCwgZW5jb2Rpbmc6IFVJbnQsIGZyZWVXaGVuRG9uZSBmcmVlQnVmZmVyOiBCb29sKSB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQ/KGNTdHJpbmcgbnVsbFRlcm1pbmF0ZWRDU3RyaW5nOiBVbnNhZmVQb2ludGVyPEludDg+LCBlbmNvZGluZzogVUludCkge30KICAgIHB1YmxpYyBpbml0KGNoYXJhY3RlcnM6IFVuc2FmZVBvaW50ZXI8dW5pY2hhcj4sIGxlbmd0aDogSW50KSB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQoY2hhcmFjdGVyc05vQ29weSBjaGFyYWN0ZXJzOiBVbnNhZmVNdXRhYmxlUG9pbnRlcjx1bmljaGFyPiwgbGVuZ3RoOiBJbnQsIGZyZWVXaGVuRG9uZSBmcmVlQnVmZmVyOiBCb29sKSB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQoY29udGVudHNPZiB1cmw6IFVSTCwgZW5jb2RpbmcgZW5jOiBVSW50KSB0aHJvd3Mge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KGNvbnRlbnRzT2YgdXJsOiBVUkwsIHVzZWRFbmNvZGluZyBlbmM6IFVuc2FmZU11dGFibGVQb2ludGVyPFVJbnQ+PykgdGhyb3dzIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdChjb250ZW50c09mRmlsZSBwYXRoOiBTdHJpbmcsIGVuY29kaW5nIGVuYzogVUludCkgdGhyb3dzIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdChjb250ZW50c09mRmlsZSBwYXRoOiBTdHJpbmcsIHVzZWRFbmNvZGluZyBlbmM6IFVuc2FmZU11dGFibGVQb2ludGVyPFVJbnQ+PykgdGhyb3dzIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdD8oZGF0YTogRGF0YSwgZW5jb2Rpbmc6IFVJbnQpIHt9CiAgICBwdWJsaWMgcmVxdWlyZWQgY29udmVuaWVuY2UgaW5pdChleHRlbmRlZEdyYXBoZW1lQ2x1c3RlckxpdGVyYWwgdmFsdWU6IFN0YXRpY1N0cmluZykge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KGZvcm1hdDogTlNTdHJpbmcsIF8gYXJnczogQ1ZhckFyZy4uLikge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KGZvcm1hdDogU3RyaW5nLCBhcmd1bWVudHMgYXJnTGlzdDogQ1ZhTGlzdFBvaW50ZXIpIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdChmb3JtYXQ6IFN0cmluZywgbG9jYWxlOiBBbnlPYmplY3Q/LCBhcmd1bWVudHMgYXJnTGlzdDogQ1ZhTGlzdFBvaW50ZXIpIHt9CiAgICBwdWJsaWMgcmVxdWlyZWQgY29udmVuaWVuY2UgaW5pdChzdHJpbmcgYVN0cmluZzogU3RyaW5nKSB7fQogICAgcHVibGljIHJlcXVpcmVkIGluaXQoc3RyaW5nTGl0ZXJhbCB2YWx1ZTogU3RhdGljU3RyaW5nKSB7fQogICAgcHVibGljIHJlcXVpcmVkIGNvbnZlbmllbmNlIGluaXQodW5pY29kZVNjYWxhckxpdGVyYWwgdmFsdWU6IFN0YXRpY1N0cmluZykge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0Pyh1dGY4U3RyaW5nIG51bGxUZXJtaW5hdGVkQ1N0cmluZzogVW5zYWZlUG9pbnRlcjxJbnQ4Pikge30KICAgIHB1YmxpYyB2YXIgYm9vbFZhbHVlOiBCb29sIHsgZ2V0IH0KICAgIHB1YmxpYyB2YXIgY2FwaXRhbGl6ZWQ6IFN0cmluZyB7IGdldCB9CiAgICBvcGVuIHZhciBkZWNvbXBvc2VkU3RyaW5nV2l0aENhbm9uaWNhbE1hcHBpbmc6IFN0cmluZyB7IGdldCB9CiAgICBvcGVuIHZhciBkZWNvbXBvc2VkU3RyaW5nV2l0aENvbXBhdGliaWxpdHlNYXBwaW5nOiBTdHJpbmcgeyBnZXQgfQogICAgcHVibGljIHZhciBkZWxldGluZ0xhc3RQYXRoQ29tcG9uZW50OiBTdHJpbmcgeyBnZXQgfQogICAgcHVibGljIHZhciBkZWxldGluZ1BhdGhFeHRlbnNpb246IFN0cmluZyB7IGdldCB9CiAgICBwdWJsaWMgdmFyIGRvdWJsZVZhbHVlOiBEb3VibGUgeyBnZXQgfQogICAgcHVibGljIHZhciBleHBhbmRpbmdUaWxkZUluUGF0aDogU3RyaW5nIHsgZ2V0IH0KICAgIHB1YmxpYyB2YXIgZmFzdGVzdEVuY29kaW5nOiBVSW50IHsgZ2V0IH0KICAgIHB1YmxpYyB2YXIgZmlsZVN5c3RlbVJlcHJlc2VudGF0aW9uOiBVbnNhZmVQb2ludGVyPEludDg+IHsgZ2V0IH0KICAgIHB1YmxpYyB2YXIgZmxvYXRWYWx1ZTogRmxvYXQgeyBnZXQgfQogICAgcHVibGljIHZhciBpbnRWYWx1ZTogSW50MzIgeyBnZXQgfQogICAgcHVibGljIHZhciBpbnRlZ2VyVmFsdWU6IEludCB7IGdldCB9CiAgICBwdWJsaWMgdmFyIGlzQWJzb2x1dGVQYXRoOiBCb29sIHsgZ2V0IH0KICAgIHB1YmxpYyB2YXIgbGFzdFBhdGhDb21wb25lbnQ6IFN0cmluZyB7IGdldCB9CiAgICBvcGVuIHZhciBsZW5ndGg6IEludCB7IGdldCB9CiAgICBwdWJsaWMgdmFyIGxvY2FsaXplZENhcGl0YWxpemVkOiBTdHJpbmcgeyBnZXQgfQogICAgcHVibGljIHZhciBsb2NhbGl6ZWRMb3dlcmNhc2U6IFN0cmluZyB7IGdldCB9CiAgICBwdWJsaWMgdmFyIGxvY2FsaXplZFVwcGVyY2FzZTogU3RyaW5nIHsgZ2V0IH0KICAgIHB1YmxpYyB2YXIgbG9uZ0xvbmdWYWx1ZTogSW50NjQgeyBnZXQgfQogICAgcHVibGljIHZhciBsb3dlcmNhc2VkOiBTdHJpbmcgeyBnZXQgfQogICAgcHVibGljIHZhciBwYXRoQ29tcG9uZW50czogW1N0cmluZ10geyBnZXQgfQogICAgcHVibGljIHZhciBwYXRoRXh0ZW5zaW9uOiBTdHJpbmcgeyBnZXQgfQogICAgb3BlbiB2YXIgcHJlY29tcG9zZWRTdHJpbmdXaXRoQ2Fub25pY2FsTWFwcGluZzogU3RyaW5nIHsgZ2V0IH0KICAgIG9wZW4gdmFyIHByZWNvbXBvc2VkU3RyaW5nV2l0aENvbXBhdGliaWxpdHlNYXBwaW5nOiBTdHJpbmcgeyBnZXQgfQogICAgb3BlbiB2YXIgcmVtb3ZpbmdQZXJjZW50RW5jb2Rpbmc6IFN0cmluZz8geyBnZXQgfQogICAgcHVibGljIHZhciByZXNvbHZpbmdTeW1saW5rc0luUGF0aDogU3RyaW5nIHsgZ2V0IH0KICAgIHB1YmxpYyB2YXIgc21hbGxlc3RFbmNvZGluZzogVUludCB7IGdldCB9CiAgICBwdWJsaWMgdmFyIHN0YW5kYXJkaXppbmdQYXRoOiBTdHJpbmcgeyBnZXQgfQogICAgcHVibGljIHZhciB1cHBlcmNhc2VkOiBTdHJpbmcgeyBnZXQgfQogICAgcHVibGljIHZhciB1dGY4U3RyaW5nOiBVbnNhZmVQb2ludGVyPEludDg+PyB7IGdldCB9CiAgICBvcGVuIGZ1bmMgYWRkaW5nUGVyY2VudEVuY29kaW5nKHdpdGhBbGxvd2VkQ2hhcmFjdGVycyBhbGxvd2VkQ2hhcmFjdGVyczogQ2hhcmFjdGVyU2V0KSAtPiBTdHJpbmc/IHt9CiAgICBwdWJsaWMgZnVuYyBhcHBlbmRpbmcoXyBhU3RyaW5nOiBTdHJpbmcpIC0+IFN0cmluZyB7fQogICAgcHVibGljIGZ1bmMgYXBwZW5kaW5nUGF0aENvbXBvbmVudChfIHN0cjogU3RyaW5nKSAtPiBTdHJpbmcge30KICAgIHB1YmxpYyBmdW5jIGFwcGVuZGluZ1BhdGhFeHRlbnNpb24oXyBzdHI6IFN0cmluZykgLT4gU3RyaW5nPyB7fQogICAgb3BlbiBmdW5jIGFwcGx5aW5nVHJhbnNmb3JtKF8gdHJhbnNmb3JtOiBTdHJpbmcsIHJldmVyc2U6IEJvb2wpIC0+IFN0cmluZz8ge30KICAgIHB1YmxpYyBmdW5jIGNTdHJpbmcodXNpbmcgZW5jb2Rpbmc6IFVJbnQpIC0+IFVuc2FmZVBvaW50ZXI8SW50OD4/IHt9CiAgICBwdWJsaWMgZnVuYyBjYW5CZUNvbnZlcnRlZCh0byBlbmNvZGluZzogVUludCkgLT4gQm9vbCB7fQogICAgcHVibGljIGZ1bmMgY2FwaXRhbGl6ZWQod2l0aCBsb2NhbGU6IExvY2FsZT8pIC0+IFN0cmluZyB7fQogICAgcHVibGljIGZ1bmMgY2FzZUluc2Vuc2l0aXZlQ29tcGFyZShfIHN0cmluZzogU3RyaW5nKSAtPiBDb21wYXJpc29uUmVzdWx0IHt9CiAgICBvcGVuIGZ1bmMgY2hhcmFjdGVyKGF0IGluZGV4OiBJbnQpIC0+IHVuaWNoYXIge30KICAgIHB1YmxpYyBmdW5jIGNvbW1vblByZWZpeCh3aXRoIHN0cjogU3RyaW5nLCBvcHRpb25zIG1hc2s6IENvbXBhcmVPcHRpb25zID0geCkgLT4gU3RyaW5nIHt9CiAgICBwdWJsaWMgZnVuYyBjb21wYXJlKF8gc3RyaW5nOiBTdHJpbmcpIC0+IENvbXBhcmlzb25SZXN1bHQge30KICAgIHB1YmxpYyBmdW5jIGNvbXBhcmUoXyBzdHJpbmc6IFN0cmluZywgb3B0aW9ucyBtYXNrOiBDb21wYXJlT3B0aW9ucykgLT4gQ29tcGFyaXNvblJlc3VsdCB7fQogICAgcHVibGljIGZ1bmMgY29tcGFyZShfIHN0cmluZzogU3RyaW5nLCBvcHRpb25zIG1hc2s6IENvbXBhcmVPcHRpb25zLCByYW5nZSBjb21wYXJlUmFuZ2U6IE5TUmFuZ2UpIC0+IENvbXBhcmlzb25SZXN1bHQge30KICAgIHB1YmxpYyBmdW5jIGNvbXBhcmUoXyBzdHJpbmc6IFN0cmluZywgb3B0aW9ucyBtYXNrOiBDb21wYXJlT3B0aW9ucywgcmFuZ2UgY29tcGFyZVJhbmdlOiBOU1JhbmdlLCBsb2NhbGU6IEFueT8pIC0+IENvbXBhcmlzb25SZXN1bHQge30KICAgIHB1YmxpYyBmdW5jIGNvbXBsZXRlUGF0aChpbnRvIG91dHB1dE5hbWU6IGlub3V0IFN0cmluZz8sIGNhc2VTZW5zaXRpdmUgZmxhZzogQm9vbCwgbWF0Y2hlc0ludG8gb3V0cHV0QXJyYXk6IGlub3V0IFtTdHJpbmddLCBmaWx0ZXJUeXBlczogW1N0cmluZ10/KSAtPiBJbnQge30KICAgIG9wZW4gZnVuYyBjb21wb25lbnRzKHNlcGFyYXRlZEJ5IHNlcGFyYXRvcjogQ2hhcmFjdGVyU2V0KSAtPiBbU3RyaW5nXSB7fQogICAgcHVibGljIGZ1bmMgY29udGFpbnMoXyBzdHI6IFN0cmluZykgLT4gQm9vbCB7fQogICAgcHVibGljIGZ1bmMgZGF0YSh1c2luZyBlbmNvZGluZzogVUludCkgLT4gRGF0YT8ge30KICAgIHB1YmxpYyBmdW5jIGRhdGEodXNpbmcgZW5jb2Rpbmc6IFVJbnQsIGFsbG93TG9zc3lDb252ZXJzaW9uIGxvc3N5OiBCb29sID0geCkgLT4gRGF0YT8ge30KICAgIHB1YmxpYyBmdW5jIGVudW1lcmF0ZUxpbmVzKF8gYmxvY2s6IChTdHJpbmcsIFVuc2FmZU11dGFibGVQb2ludGVyPE9iakNCb29sPikgLT4gVm9pZCkge30KICAgIHB1YmxpYyBmdW5jIGVudW1lcmF0ZVN1YnN0cmluZ3MoaW4gcmFuZ2U6IE5TUmFuZ2UsIG9wdGlvbnMgb3B0czogRW51bWVyYXRpb25PcHRpb25zID0geCwgdXNpbmcgYmxvY2s6IChTdHJpbmc/LCBOU1JhbmdlLCBOU1JhbmdlLCBVbnNhZmVNdXRhYmxlUG9pbnRlcjxPYmpDQm9vbD4pIC0+IFZvaWQpIHt9CiAgICBvcGVuIGZ1bmMgZm9sZGluZyhvcHRpb25zOiBDb21wYXJlT3B0aW9ucyA9IHgsIGxvY2FsZTogTG9jYWxlPykgLT4gU3RyaW5nIHt9CiAgICBwdWJsaWMgZnVuYyBnZXRCeXRlcyhfIGJ1ZmZlcjogVW5zYWZlTXV0YWJsZVJhd1BvaW50ZXI/LCBtYXhMZW5ndGggbWF4QnVmZmVyQ291bnQ6IEludCwgdXNlZExlbmd0aCB1c2VkQnVmZmVyQ291bnQ6IFVuc2FmZU11dGFibGVQb2ludGVyPEludD4/LCBlbmNvZGluZzogVUludCwgb3B0aW9uczogRW5jb2RpbmdDb252ZXJzaW9uT3B0aW9ucyA9IHgsIHJhbmdlOiBOU1JhbmdlLCByZW1haW5pbmcgbGVmdG92ZXI6IE5TUmFuZ2VQb2ludGVyPykgLT4gQm9vbCB7fQogICAgcHVibGljIGZ1bmMgZ2V0Q1N0cmluZyhfIGJ1ZmZlcjogVW5zYWZlTXV0YWJsZVBvaW50ZXI8SW50OD4sIG1heExlbmd0aCBtYXhCdWZmZXJDb3VudDogSW50LCBlbmNvZGluZzogVUludCkgLT4gQm9vbCB7fQogICAgcHVibGljIGZ1bmMgZ2V0Q2hhcmFjdGVycyhfIGJ1ZmZlcjogVW5zYWZlTXV0YWJsZVBvaW50ZXI8dW5pY2hhcj4sIHJhbmdlOiBOU1JhbmdlKSB7fQogICAgcHVibGljIGZ1bmMgZ2V0RmlsZVN5c3RlbVJlcHJlc2VudGF0aW9uKF8gY25hbWU6IFVuc2FmZU11dGFibGVQb2ludGVyPEludDg+LCBtYXhMZW5ndGggbWF4OiBJbnQpIC0+IEJvb2wge30KICAgIHB1YmxpYyBmdW5jIGdldExpbmVTdGFydChfIHN0YXJ0UHRyOiBVbnNhZmVNdXRhYmxlUG9pbnRlcjxJbnQ+PywgZW5kIGxpbmVFbmRQdHI6IFVuc2FmZU11dGFibGVQb2ludGVyPEludD4/LCBjb250ZW50c0VuZCBjb250ZW50c0VuZFB0cjogVW5zYWZlTXV0YWJsZVBvaW50ZXI8SW50Pj8sIGZvciByYW5nZTogTlNSYW5nZSkge30KICAgIHB1YmxpYyBmdW5jIGdldFBhcmFncmFwaFN0YXJ0KF8gc3RhcnRQdHI6IFVuc2FmZU11dGFibGVQb2ludGVyPEludD4/LCBlbmQgcGFyRW5kUHRyOiBVbnNhZmVNdXRhYmxlUG9pbnRlcjxJbnQ+PywgY29udGVudHNFbmQgY29udGVudHNFbmRQdHI6IFVuc2FmZU11dGFibGVQb2ludGVyPEludD4/LCBmb3IgcmFuZ2U6IE5TUmFuZ2UpIHt9CiAgICBwdWJsaWMgZnVuYyBoYXNQcmVmaXgoXyBzdHI6IFN0cmluZykgLT4gQm9vbCB7fQogICAgcHVibGljIGZ1bmMgaGFzU3VmZml4KF8gc3RyOiBTdHJpbmcpIC0+IEJvb2wge30KICAgIHB1YmxpYyBmdW5jIGlzRXF1YWwodG8gYVN0cmluZzogU3RyaW5nKSAtPiBCb29sIHt9CiAgICBwdWJsaWMgZnVuYyBsZW5ndGhPZkJ5dGVzKHVzaW5nIGVuYzogVUludCkgLT4gSW50IHt9CiAgICBwdWJsaWMgZnVuYyBsaW5lUmFuZ2UoZm9yIHJhbmdlOiBOU1JhbmdlKSAtPiBOU1JhbmdlIHt9CiAgICBwdWJsaWMgZnVuYyBsb2NhbGl6ZWRDYXNlSW5zZW5zaXRpdmVDb21wYXJlKF8gc3RyaW5nOiBTdHJpbmcpIC0+IENvbXBhcmlzb25SZXN1bHQge30KICAgIHB1YmxpYyBmdW5jIGxvY2FsaXplZENhc2VJbnNlbnNpdGl2ZUNvbnRhaW5zKF8gc3RyOiBTdHJpbmcpIC0+IEJvb2wge30KICAgIHB1YmxpYyBmdW5jIGxvY2FsaXplZENvbXBhcmUoXyBzdHJpbmc6IFN0cmluZykgLT4gQ29tcGFyaXNvblJlc3VsdCB7fQogICAgcHVibGljIGZ1bmMgbG9jYWxpemVkU3RhbmRhcmRDb21wYXJlKF8gc3RyaW5nOiBTdHJpbmcpIC0+IENvbXBhcmlzb25SZXN1bHQge30KICAgIHB1YmxpYyBmdW5jIGxvY2FsaXplZFN0YW5kYXJkQ29udGFpbnMoXyBzdHI6IFN0cmluZykgLT4gQm9vbCB7fQogICAgcHVibGljIGZ1bmMgbG9jYWxpemVkU3RhbmRhcmRSYW5nZShvZiBzdHI6IFN0cmluZykgLT4gTlNSYW5nZSB7fQogICAgcHVibGljIGZ1bmMgbG93ZXJjYXNlZCh3aXRoIGxvY2FsZTogTG9jYWxlPykgLT4gU3RyaW5nIHt9CiAgICBwdWJsaWMgZnVuYyBtYXhpbXVtTGVuZ3RoT2ZCeXRlcyh1c2luZyBlbmM6IFVJbnQpIC0+IEludCB7fQogICAgb3BlbiBmdW5jIHBhZGRpbmcodG9MZW5ndGggbmV3TGVuZ3RoOiBJbnQsIHdpdGhQYWQgcGFkU3RyaW5nOiBTdHJpbmcsIHN0YXJ0aW5nQXQgcGFkSW5kZXg6IEludCkgLT4gU3RyaW5nIHt9CiAgICBwdWJsaWMgZnVuYyBwYXJhZ3JhcGhSYW5nZShmb3IgcmFuZ2U6IE5TUmFuZ2UpIC0+IE5TUmFuZ2Uge30KICAgIHB1YmxpYyBmdW5jIHJhbmdlKG9mIHNlYXJjaFN0cmluZzogU3RyaW5nKSAtPiBOU1JhbmdlIHt9CiAgICBwdWJsaWMgZnVuYyByYW5nZShvZiBzZWFyY2hTdHJpbmc6IFN0cmluZywgb3B0aW9ucyBtYXNrOiBDb21wYXJlT3B0aW9ucyA9IHgpIC0+IE5TUmFuZ2Uge30KICAgIHB1YmxpYyBmdW5jIHJhbmdlKG9mIHNlYXJjaFN0cmluZzogU3RyaW5nLCBvcHRpb25zIG1hc2s6IENvbXBhcmVPcHRpb25zID0geCwgcmFuZ2Ugc2VhcmNoUmFuZ2U6IE5TUmFuZ2UpIC0+IE5TUmFuZ2Uge30KICAgIHB1YmxpYyBmdW5jIHJhbmdlKG9mIHNlYXJjaFN0cmluZzogU3RyaW5nLCBvcHRpb25zIG1hc2s6IENvbXBhcmVPcHRpb25zID0geCwgcmFuZ2Ugc2VhcmNoUmFuZ2U6IE5TUmFuZ2UsIGxvY2FsZTogTG9jYWxlPykgLT4gTlNSYW5nZSB7fQogICAgcHVibGljIGZ1bmMgcmFuZ2VPZkNoYXJhY3Rlcihmcm9tIHNlYXJjaFNldDogQ2hhcmFjdGVyU2V0KSAtPiBOU1JhbmdlIHt9CiAgICBwdWJsaWMgZnVuYyByYW5nZU9mQ2hhcmFjdGVyKGZyb20gc2VhcmNoU2V0OiBDaGFyYWN0ZXJTZXQsIG9wdGlvbnMgbWFzazogQ29tcGFyZU9wdGlvbnMgPSB4KSAtPiBOU1JhbmdlIHt9CiAgICBwdWJsaWMgZnVuYyByYW5nZU9mQ2hhcmFjdGVyKGZyb20gc2VhcmNoU2V0OiBDaGFyYWN0ZXJTZXQsIG9wdGlvbnMgbWFzazogQ29tcGFyZU9wdGlvbnMgPSB4LCByYW5nZSBzZWFyY2hSYW5nZTogTlNSYW5nZSkgLT4gTlNSYW5nZSB7fQogICAgcHVibGljIGZ1bmMgcmFuZ2VPZkNvbXBvc2VkQ2hhcmFjdGVyU2VxdWVuY2UoYXQgaW5kZXg6IEludCkgLT4gTlNSYW5nZSB7fQogICAgcHVibGljIGZ1bmMgcmFuZ2VPZkNvbXBvc2VkQ2hhcmFjdGVyU2VxdWVuY2VzKGZvciByYW5nZTogTlNSYW5nZSkgLT4gTlNSYW5nZSB7fQogICAgb3BlbiBmdW5jIHJlcGxhY2luZ0NoYXJhY3RlcnMoaW4gcmFuZ2U6IE5TUmFuZ2UsIHdpdGggcmVwbGFjZW1lbnQ6IFN0cmluZykgLT4gU3RyaW5nIHt9CiAgICBvcGVuIGZ1bmMgcmVwbGFjaW5nT2NjdXJyZW5jZXMob2YgdGFyZ2V0OiBTdHJpbmcsIHdpdGggcmVwbGFjZW1lbnQ6IFN0cmluZykgLT4gU3RyaW5nIHt9CiAgICBvcGVuIGZ1bmMgcmVwbGFjaW5nT2NjdXJyZW5jZXMob2YgdGFyZ2V0OiBTdHJpbmcsIHdpdGggcmVwbGFjZW1lbnQ6IFN0cmluZywgb3B0aW9uczogQ29tcGFyZU9wdGlvbnMgPSB4LCByYW5nZSBzZWFyY2hSYW5nZTogTlNSYW5nZSkgLT4gU3RyaW5nIHt9CiAgICBwdWJsaWMgZnVuYyBzdHJpbmdzQnlBcHBlbmRpbmdQYXRocyhfIHBhdGhzOiBbU3RyaW5nXSkgLT4gW1N0cmluZ10ge30KICAgIHB1YmxpYyBmdW5jIHN1YnN0cmluZyhmcm9tOiBJbnQpIC0+IFN0cmluZyB7fQogICAgcHVibGljIGZ1bmMgc3Vic3RyaW5nKHRvOiBJbnQpIC0+IFN0cmluZyB7fQogICAgcHVibGljIGZ1bmMgc3Vic3RyaW5nKHdpdGggcmFuZ2U6IE5TUmFuZ2UpIC0+IFN0cmluZyB7fQogICAgb3BlbiBmdW5jIHRyaW1taW5nQ2hhcmFjdGVycyhpbiBzZXQ6IENoYXJhY3RlclNldCkgLT4gU3RyaW5nIHt9CiAgICBwdWJsaWMgZnVuYyB1cHBlcmNhc2VkKHdpdGggbG9jYWxlOiBMb2NhbGU/KSAtPiBTdHJpbmcge30KICAgIG9wZW4gZnVuYyB3cml0ZSh0byB1cmw6IFVSTCwgYXRvbWljYWxseSB1c2VBdXhpbGlhcnlGaWxlOiBCb29sLCBlbmNvZGluZyBlbmM6IFVJbnQpIHRocm93cyB7fQogICAgb3BlbiBmdW5jIHdyaXRlKHRvRmlsZSBwYXRoOiBTdHJpbmcsIGF0b21pY2FsbHkgdXNlQXV4aWxpYXJ5RmlsZTogQm9vbCwgZW5jb2RpbmcgZW5jOiBVSW50KSB0aHJvd3Mge30KfQpvcGVuIGNsYXNzIE5TVGV4dENoZWNraW5nUmVzdWx0IDogQW55T2JqZWN0LCBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNDb2RpbmcsIE5TQ29weWluZywgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wgewogICAgb3BlbiBjbGFzcyBmdW5jIHJlZ3VsYXJFeHByZXNzaW9uQ2hlY2tpbmdSZXN1bHRXaXRoUmFuZ2VzKF8gcmFuZ2VzOiBOU1JhbmdlUG9pbnRlciwgY291bnQ6IEludCwgcmVndWxhckV4cHJlc3Npb246IE5TUmVndWxhckV4cHJlc3Npb24pIC0+IE5TVGV4dENoZWNraW5nUmVzdWx0IHt9CiAgICBvcGVuIHZhciBudW1iZXJPZlJhbmdlczogSW50IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHJhbmdlOiBOU1JhbmdlIHsgZ2V0IH0KICAgIG9wZW4gdmFyIHJlZ3VsYXJFeHByZXNzaW9uOiBOU1JlZ3VsYXJFeHByZXNzaW9uPyB7IGdldCB9CiAgICBvcGVuIHZhciByZXN1bHRUeXBlOiBDaGVja2luZ1R5cGUgeyBnZXQgfQogICAgcHVibGljIGZ1bmMgYWRqdXN0aW5nUmFuZ2VzKG9mZnNldDogSW50KSAtPiBOU1RleHRDaGVja2luZ1Jlc3VsdCB7fQogICAgb3BlbiBmdW5jIHJhbmdlKGF0IGlkeDogSW50KSAtPiBOU1JhbmdlIHt9Cn0Kb3BlbiBjbGFzcyBOU1RpbWVab25lIDogQW55T2JqZWN0LCBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNDb2RpbmcsIE5TQ29weWluZywgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wsIE5TU2VjdXJlQ29kaW5nLCBfQ0ZCcmlkZ2VhYmxlLCBfU3dpZnRCcmlkZ2VhYmxlIHsKICAgIG9wZW4gY2xhc3MgdmFyIGFiYnJldmlhdGlvbkRpY3Rpb25hcnk6IFtTdHJpbmc6IFN0cmluZ10geyBnZXQgc2V0IH0KICAgIG9wZW4gY2xhc3MgdmFyIGRlZmF1bHQ6IFRpbWVab25lIHsgZ2V0IHNldCB9CiAgICBvcGVuIGNsYXNzIHZhciBrbm93blRpbWVab25lTmFtZXM6IFtTdHJpbmddIHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgdmFyIGxvY2FsOiBUaW1lWm9uZSB7IGdldCB9CiAgICBvcGVuIGNsYXNzIHZhciBzeXN0ZW06IFRpbWVab25lIHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgdmFyIHRpbWVab25lRGF0YVZlcnNpb246IFN0cmluZyB7IGdldCB9CiAgICBvcGVuIGNsYXNzIGZ1bmMgcmVzZXRTeXN0ZW1UaW1lWm9uZSgpIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdD8oYWJicmV2aWF0aW9uOiBTdHJpbmcpIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdChmb3JTZWNvbmRzRnJvbUdNVCBzZWNvbmRzOiBJbnQpIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdD8obmFtZSB0ek5hbWU6IFN0cmluZykge30KICAgIHB1YmxpYyBpbml0PyhuYW1lIHR6TmFtZTogU3RyaW5nLCBkYXRhIGFEYXRhOiBEYXRhPykge30KICAgIG9wZW4gdmFyIGFiYnJldmlhdGlvbjogU3RyaW5nPyB7IGdldCB9CiAgICBvcGVuIHZhciBkYXRhOiBEYXRhIHsgZ2V0IH0KICAgIG9wZW4gdmFyIGRheWxpZ2h0U2F2aW5nVGltZU9mZnNldDogVGltZUludGVydmFsIHsgZ2V0IH0KICAgIG9wZW4gdmFyIGlzRGF5bGlnaHRTYXZpbmdUaW1lOiBCb29sIHsgZ2V0IH0KICAgIG9wZW4gdmFyIG5hbWU6IFN0cmluZyB7IGdldCB9CiAgICBvcGVuIHZhciBuZXh0RGF5bGlnaHRTYXZpbmdUaW1lVHJhbnNpdGlvbjogRGF0ZT8geyBnZXQgfQogICAgb3BlbiB2YXIgc2Vjb25kc0Zyb21HTVQ6IEludCB7IGdldCB9CiAgICBvcGVuIGZ1bmMgYWJicmV2aWF0aW9uKGZvciBhRGF0ZTogRGF0ZSkgLT4gU3RyaW5nPyB7fQogICAgb3BlbiBmdW5jIGRheWxpZ2h0U2F2aW5nVGltZU9mZnNldChmb3IgYURhdGU6IERhdGUpIC0+IFRpbWVJbnRlcnZhbCB7fQogICAgb3BlbiBmdW5jIGlzRGF5bGlnaHRTYXZpbmdUaW1lKGZvciBhRGF0ZTogRGF0ZSkgLT4gQm9vbCB7fQogICAgb3BlbiBmdW5jIGlzRXF1YWwodG8gYVRpbWVab25lOiBUaW1lWm9uZSkgLT4gQm9vbCB7fQogICAgb3BlbiBmdW5jIGxvY2FsaXplZE5hbWUoXyBzdHlsZTogTmFtZVN0eWxlLCBsb2NhbGU6IExvY2FsZT8pIC0+IFN0cmluZz8ge30KICAgIG9wZW4gZnVuYyBuZXh0RGF5bGlnaHRTYXZpbmdUaW1lVHJhbnNpdGlvbihhZnRlciBhRGF0ZTogRGF0ZSkgLT4gRGF0ZT8ge30KICAgIG9wZW4gZnVuYyBzZWNvbmRzRnJvbUdNVChmb3IgYURhdGU6IERhdGUpIC0+IEludCB7fQp9Cm9wZW4gY2xhc3MgTlNVUkwgOiBBbnlPYmplY3QsIEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU0NvZGluZywgTlNDb3B5aW5nLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCwgTlNTZWN1cmVDb2RpbmcsIF9DRkJyaWRnZWFibGUsIF9TdHJ1Y3RUeXBlQnJpZGdlYWJsZSwgX1N3aWZ0QnJpZGdlYWJsZSB7CiAgICBvcGVuIGNsYXNzIGZ1bmMgZmlsZVVSTCh3aXRoUGF0aENvbXBvbmVudHMgY29tcG9uZW50czogW1N0cmluZ10pIC0+IFVSTD8ge30KICAgIHB1YmxpYyBpbml0KGFic29sdXRlVVJMV2l0aERhdGFSZXByZXNlbnRhdGlvbiBkYXRhOiBEYXRhLCByZWxhdGl2ZVRvIGJhc2VVUkw6IFVSTD8pIHt9CiAgICBwdWJsaWMgaW5pdChkYXRhUmVwcmVzZW50YXRpb24gZGF0YTogRGF0YSwgcmVsYXRpdmVUbyBiYXNlVVJMOiBVUkw/KSB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQoZmlsZVVSTFdpdGhGaWxlU3lzdGVtUmVwcmVzZW50YXRpb24gcGF0aDogVW5zYWZlUG9pbnRlcjxJbnQ4PiwgaXNEaXJlY3RvcnkgaXNEaXI6IEJvb2wsIHJlbGF0aXZlVG8gYmFzZVVSTDogVVJMPykge30KICAgIHB1YmxpYyBpbml0KGZpbGVVUkxXaXRoUGF0aCBwYXRoOiBTdHJpbmcpIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdChmaWxlVVJMV2l0aFBhdGggcGF0aDogU3RyaW5nLCBpc0RpcmVjdG9yeSBpc0RpcjogQm9vbCkge30KICAgIHB1YmxpYyBpbml0KGZpbGVVUkxXaXRoUGF0aCBwYXRoOiBTdHJpbmcsIGlzRGlyZWN0b3J5IGlzRGlyOiBCb29sLCByZWxhdGl2ZVRvIGJhc2VVUkw6IFVSTD8pIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdChmaWxlVVJMV2l0aFBhdGggcGF0aDogU3RyaW5nLCByZWxhdGl2ZVRvIGJhc2VVUkw6IFVSTD8pIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdD8oc3RyaW5nIFVSTFN0cmluZzogU3RyaW5nKSB7fQogICAgcHVibGljIGluaXQ/KHN0cmluZyBVUkxTdHJpbmc6IFN0cmluZywgcmVsYXRpdmVUbyBiYXNlVVJMOiBVUkw/KSB7fQogICAgb3BlbiB2YXIgYWJzb2x1dGVTdHJpbmc6IFN0cmluZyB7IGdldCB9CiAgICBvcGVuIHZhciBhYnNvbHV0ZVVSTDogVVJMPyB7IGdldCB9CiAgICBvcGVuIHZhciBiYXNlVVJMOiBVUkw/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGRhdGFSZXByZXNlbnRhdGlvbjogRGF0YSB7IGdldCB9CiAgICBvcGVuIHZhciBkZWxldGluZ0xhc3RQYXRoQ29tcG9uZW50OiBVUkw/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGRlbGV0aW5nUGF0aEV4dGVuc2lvbjogVVJMPyB7IGdldCB9CiAgICBvcGVuIHZhciBmaWxlUGF0aFVSTDogVVJMPyB7IGdldCB9CiAgICBvcGVuIHZhciBmaWxlU3lzdGVtUmVwcmVzZW50YXRpb246IFVuc2FmZVBvaW50ZXI8SW50OD4geyBnZXQgfQogICAgb3BlbiB2YXIgZnJhZ21lbnQ6IFN0cmluZz8geyBnZXQgfQogICAgb3BlbiB2YXIgaGFzRGlyZWN0b3J5UGF0aDogQm9vbCB7IGdldCB9CiAgICBvcGVuIHZhciBob3N0OiBTdHJpbmc/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGlzRmlsZVVSTDogQm9vbCB7IGdldCB9CiAgICBvcGVuIHZhciBsYXN0UGF0aENvbXBvbmVudDogU3RyaW5nPyB7IGdldCB9CiAgICBvcGVuIHZhciBwYXJhbWV0ZXJTdHJpbmc6IFN0cmluZz8geyBnZXQgfQogICAgb3BlbiB2YXIgcGFzc3dvcmQ6IFN0cmluZz8geyBnZXQgfQogICAgb3BlbiB2YXIgcGF0aDogU3RyaW5nPyB7IGdldCB9CiAgICBvcGVuIHZhciBwYXRoQ29tcG9uZW50czogW1N0cmluZ10/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHBhdGhFeHRlbnNpb246IFN0cmluZz8geyBnZXQgfQogICAgb3BlbiB2YXIgcG9ydDogTlNOdW1iZXI/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHF1ZXJ5OiBTdHJpbmc/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHJlbGF0aXZlUGF0aDogU3RyaW5nPyB7IGdldCB9CiAgICBvcGVuIHZhciByZWxhdGl2ZVN0cmluZzogU3RyaW5nIHsgZ2V0IH0KICAgIG9wZW4gdmFyIHJlc29sdmluZ1N5bWxpbmtzSW5QYXRoOiBVUkw/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHJlc291cmNlU3BlY2lmaWVyOiBTdHJpbmc/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHNjaGVtZTogU3RyaW5nPyB7IGdldCB9CiAgICBvcGVuIHZhciBzdGFuZGFyZGl6ZWQ6IFVSTD8geyBnZXQgfQogICAgb3BlbiB2YXIgc3RhbmRhcmRpemluZ1BhdGg6IFVSTD8geyBnZXQgfQogICAgb3BlbiB2YXIgdXNlcjogU3RyaW5nPyB7IGdldCB9CiAgICBvcGVuIGZ1bmMgYXBwZW5kaW5nUGF0aENvbXBvbmVudChfIHBhdGhDb21wb25lbnQ6IFN0cmluZykgLT4gVVJMPyB7fQogICAgb3BlbiBmdW5jIGFwcGVuZGluZ1BhdGhDb21wb25lbnQoXyBwYXRoQ29tcG9uZW50OiBTdHJpbmcsIGlzRGlyZWN0b3J5OiBCb29sKSAtPiBVUkw/IHt9CiAgICBvcGVuIGZ1bmMgYXBwZW5kaW5nUGF0aEV4dGVuc2lvbihfIHBhdGhFeHRlbnNpb246IFN0cmluZykgLT4gVVJMPyB7fQogICAgb3BlbiBmdW5jIGNoZWNrUmVzb3VyY2VJc1JlYWNoYWJsZSgpIHRocm93cyAtPiBCb29sIHt9CiAgICBvcGVuIGZ1bmMgZ2V0RmlsZVN5c3RlbVJlcHJlc2VudGF0aW9uKF8gYnVmZmVyOiBVbnNhZmVNdXRhYmxlUG9pbnRlcjxJbnQ4PiwgbWF4TGVuZ3RoIG1heEJ1ZmZlckxlbmd0aDogSW50KSAtPiBCb29sIHt9CiAgICBvcGVuIGZ1bmMgcmVtb3ZlQWxsQ2FjaGVkUmVzb3VyY2VWYWx1ZXMoKSB7fQogICAgb3BlbiBmdW5jIHJlbW92ZUNhY2hlZFJlc291cmNlVmFsdWUoZm9yS2V5IGtleTogVVJMUmVzb3VyY2VLZXkpIHt9CiAgICBvcGVuIGZ1bmMgcmVzb3VyY2VWYWx1ZXMoZm9yS2V5cyBrZXlzOiBbVVJMUmVzb3VyY2VLZXldKSB0aHJvd3MgLT4gW1VSTFJlc291cmNlS2V5OiBBbnldIHt9CiAgICBvcGVuIGZ1bmMgc2V0UmVzb3VyY2VWYWx1ZShfIHZhbHVlOiBBbnk/LCBmb3JLZXkga2V5OiBVUkxSZXNvdXJjZUtleSkgdGhyb3dzIHt9CiAgICBvcGVuIGZ1bmMgc2V0UmVzb3VyY2VWYWx1ZXMoXyBrZXllZFZhbHVlczogW1VSTFJlc291cmNlS2V5OiBBbnldKSB0aHJvd3Mge30KICAgIG9wZW4gZnVuYyBzZXRUZW1wb3JhcnlSZXNvdXJjZVZhbHVlKF8gdmFsdWU6IEFueT8sIGZvcktleSBrZXk6IFVSTFJlc291cmNlS2V5KSB7fQp9Cm9wZW4gY2xhc3MgTlNVUkxDb21wb25lbnRzIDogQW55T2JqZWN0LCBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNDb3B5aW5nLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCwgX1N0cnVjdFR5cGVCcmlkZ2VhYmxlLCBfU3dpZnRCcmlkZ2VhYmxlIHsKICAgIHB1YmxpYyBpbml0PyhzdHJpbmcgVVJMU3RyaW5nOiBTdHJpbmcpIHt9CiAgICBwdWJsaWMgaW5pdD8odXJsOiBVUkwsIHJlc29sdmluZ0FnYWluc3RCYXNlVVJMIHJlc29sdmU6IEJvb2wpIHt9CiAgICBvcGVuIHZhciBmcmFnbWVudDogU3RyaW5nPyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgaG9zdDogU3RyaW5nPyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgcGFzc3dvcmQ6IFN0cmluZz8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHBhdGg6IFN0cmluZz8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHBlcmNlbnRFbmNvZGVkRnJhZ21lbnQ6IFN0cmluZz8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHBlcmNlbnRFbmNvZGVkSG9zdDogU3RyaW5nPyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgcGVyY2VudEVuY29kZWRQYXNzd29yZDogU3RyaW5nPyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgcGVyY2VudEVuY29kZWRQYXRoOiBTdHJpbmc/IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBwZXJjZW50RW5jb2RlZFF1ZXJ5OiBTdHJpbmc/IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBwZXJjZW50RW5jb2RlZFVzZXI6IFN0cmluZz8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHBvcnQ6IE5TTnVtYmVyPyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgcXVlcnk6IFN0cmluZz8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHF1ZXJ5SXRlbXM6IFtVUkxRdWVyeUl0ZW1dPyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgcmFuZ2VPZkZyYWdtZW50OiBOU1JhbmdlIHsgZ2V0IH0KICAgIG9wZW4gdmFyIHJhbmdlT2ZIb3N0OiBOU1JhbmdlIHsgZ2V0IH0KICAgIG9wZW4gdmFyIHJhbmdlT2ZQYXNzd29yZDogTlNSYW5nZSB7IGdldCB9CiAgICBvcGVuIHZhciByYW5nZU9mUGF0aDogTlNSYW5nZSB7IGdldCB9CiAgICBvcGVuIHZhciByYW5nZU9mUG9ydDogTlNSYW5nZSB7IGdldCB9CiAgICBvcGVuIHZhciByYW5nZU9mUXVlcnk6IE5TUmFuZ2UgeyBnZXQgfQogICAgb3BlbiB2YXIgcmFuZ2VPZlNjaGVtZTogTlNSYW5nZSB7IGdldCB9CiAgICBvcGVuIHZhciByYW5nZU9mVXNlcjogTlNSYW5nZSB7IGdldCB9CiAgICBvcGVuIHZhciBzY2hlbWU6IFN0cmluZz8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHN0cmluZzogU3RyaW5nPyB7IGdldCB9CiAgICBvcGVuIHZhciB1cmw6IFVSTD8geyBnZXQgfQogICAgb3BlbiB2YXIgdXNlcjogU3RyaW5nPyB7IGdldCBzZXQgfQogICAgb3BlbiBmdW5jIHVybChyZWxhdGl2ZVRvIGJhc2VVUkw6IFVSTD8pIC0+IFVSTD8ge30KfQpvcGVuIGNsYXNzIE5TVVJMUXVlcnlJdGVtIDogQW55T2JqZWN0LCBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNDb2RpbmcsIE5TQ29weWluZywgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wsIE5TU2VjdXJlQ29kaW5nLCBfU3RydWN0VHlwZUJyaWRnZWFibGUsIF9Td2lmdEJyaWRnZWFibGUgewogICAgcHVibGljIGluaXQobmFtZTogU3RyaW5nLCB2YWx1ZTogU3RyaW5nPykge30KICAgIG9wZW4gdmFyIG5hbWU6IFN0cmluZyB7IGdldCB9CiAgICBvcGVuIHZhciB2YWx1ZTogU3RyaW5nPyB7IGdldCB9Cn0Kb3BlbiBjbGFzcyBOU1VSTFJlcXVlc3QgOiBBbnlPYmplY3QsIEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU0NvZGluZywgTlNDb3B5aW5nLCBOU011dGFibGVDb3B5aW5nLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCwgTlNTZWN1cmVDb2RpbmcsIF9TdHJ1Y3RUeXBlQnJpZGdlYWJsZSB7CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdCh1cmw6IFVSTCkge30KICAgIHB1YmxpYyBpbml0KHVybDogVVJMLCBjYWNoZVBvbGljeTogTlNVUkxSZXF1ZXN0LkNhY2hlUG9saWN5LCB0aW1lb3V0SW50ZXJ2YWw6IFRpbWVJbnRlcnZhbCkge30KICAgIG9wZW4gdmFyIGFsbEhUVFBIZWFkZXJGaWVsZHM6IFtTdHJpbmc6IFN0cmluZ10/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGFsbG93c0NlbGx1bGFyQWNjZXNzOiBCb29sIHsgZ2V0IH0KICAgIG9wZW4gdmFyIGNhY2hlUG9saWN5OiBDYWNoZVBvbGljeSB7IGdldCB9CiAgICBvcGVuIHZhciBodHRwQm9keTogRGF0YT8geyBnZXQgfQogICAgb3BlbiB2YXIgaHR0cEJvZHlTdHJlYW06IElucHV0U3RyZWFtPyB7IGdldCB9CiAgICBvcGVuIHZhciBodHRwTWV0aG9kOiBTdHJpbmc/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGh0dHBTaG91bGRIYW5kbGVDb29raWVzOiBCb29sIHsgZ2V0IH0KICAgIG9wZW4gdmFyIGh0dHBTaG91bGRVc2VQaXBlbGluaW5nOiBCb29sIHsgZ2V0IH0KICAgIG9wZW4gdmFyIG1haW5Eb2N1bWVudFVSTDogVVJMPyB7IGdldCB9CiAgICBvcGVuIHZhciBuZXR3b3JrU2VydmljZVR5cGU6IE5ldHdvcmtTZXJ2aWNlVHlwZSB7IGdldCB9CiAgICBvcGVuIHZhciB0aW1lb3V0SW50ZXJ2YWw6IFRpbWVJbnRlcnZhbCB7IGdldCB9CiAgICBvcGVuIHZhciB1cmw6IFVSTD8geyBnZXQgfQogICAgb3BlbiBmdW5jIHZhbHVlKGZvckhUVFBIZWFkZXJGaWVsZCBmaWVsZDogU3RyaW5nKSAtPiBTdHJpbmc/IHt9Cn0Kb3BlbiBjbGFzcyBOU1VVSUQgOiBBbnlPYmplY3QsIEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU0NvZGluZywgTlNDb3B5aW5nLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCwgTlNTZWN1cmVDb2RpbmcsIF9IYXNDdXN0b21BbnlIYXNoYWJsZVJlcHJlc2VudGF0aW9uLCBfU3RydWN0VHlwZUJyaWRnZWFibGUgewogICAgcHVibGljIGluaXQodXVpZEJ5dGVzIGJ5dGVzOiBVbnNhZmVQb2ludGVyPFVJbnQ4Pikge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0Pyh1dWlkU3RyaW5nIHN0cmluZzogU3RyaW5nKSB7fQogICAgb3BlbiB2YXIgdXVpZFN0cmluZzogU3RyaW5nIHsgZ2V0IH0KICAgIG9wZW4gZnVuYyBnZXRCeXRlcyhfIHV1aWQ6IFVuc2FmZU11dGFibGVQb2ludGVyPFVJbnQ4Pikge30KfQpvcGVuIGNsYXNzIE5TVmFsdWUgOiBBbnlPYmplY3QsIEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU0NvZGluZywgTlNDb3B5aW5nLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCwgTlNTZWN1cmVDb2RpbmcsIF9GYWN0b3J5IHsKICAgIHB1YmxpYyByZXF1aXJlZCBjb252ZW5pZW5jZSBpbml0KGJ5dGVzIHZhbHVlOiBVbnNhZmVSYXdQb2ludGVyLCBvYmpDVHlwZSB0eXBlOiBVbnNhZmVQb2ludGVyPEludDg+KSB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQoZWRnZUluc2V0cyBpbnNldHM6IE5TRWRnZUluc2V0cykge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KHBvaW50OiBOU1BvaW50KSB7fQojaWYgREVQTE9ZTUVOVF9SVU5USU1FX1NXSUZUCiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdChyYW5nZTogTlNSYW5nZSkge30KI2VuZGlmCiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdChyZWN0OiBOU1JlY3QpIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdChzaXplOiBOU1NpemUpIHt9CiAgICBwdWJsaWMgdmFyIGVkZ2VJbnNldHNWYWx1ZTogTlNFZGdlSW5zZXRzIHsgZ2V0IH0KICAgIG9wZW4gdmFyIG9iakNUeXBlOiBVbnNhZmVQb2ludGVyPEludDg+IHsgZ2V0IH0KICAgIHB1YmxpYyB2YXIgcG9pbnRWYWx1ZTogTlNQb2ludCB7IGdldCB9CiNpZiBERVBMT1lNRU5UX1JVTlRJTUVfU1dJRlQKICAgIHB1YmxpYyB2YXIgcmFuZ2VWYWx1ZTogTlNSYW5nZSB7IGdldCB9CiNlbmRpZgogICAgcHVibGljIHZhciByZWN0VmFsdWU6IE5TUmVjdCB7IGdldCB9CiAgICBwdWJsaWMgdmFyIHNpemVWYWx1ZTogTlNTaXplIHsgZ2V0IH0KICAgIG9wZW4gZnVuYyBnZXRWYWx1ZShfIHZhbHVlOiBVbnNhZmVNdXRhYmxlUmF3UG9pbnRlcikge30KfQpvcGVuIGNsYXNzIE5vdGlmaWNhdGlvbkNlbnRlciA6IEFueU9iamVjdCwgQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sIHsKICAgIG9wZW4gY2xhc3MgdmFyIGRlZmF1bHQ6IE5vdGlmaWNhdGlvbkNlbnRlciB7IGdldCB9CiAgICBvcGVuIGZ1bmMgYWRkT2JzZXJ2ZXIoZm9yTmFtZSBuYW1lOiBOU05vdGlmaWNhdGlvbi5OYW1lPywgb2JqZWN0IG9iajogQW55PywgcXVldWU6IE9wZXJhdGlvblF1ZXVlPywgdXNpbmcgYmxvY2s6IEBlc2NhcGluZyAoTm90aWZpY2F0aW9uKSAtPiBWb2lkKSAtPiBOU09iamVjdFByb3RvY29sIHt9CiAgICBvcGVuIGZ1bmMgcG9zdChfIG5vdGlmaWNhdGlvbjogTm90aWZpY2F0aW9uKSB7fQogICAgb3BlbiBmdW5jIHBvc3QobmFtZSBhTmFtZTogTlNOb3RpZmljYXRpb24uTmFtZSwgb2JqZWN0IGFuT2JqZWN0OiBBbnk/LCB1c2VySW5mbyBhVXNlckluZm86IFtBbnlIYXNoYWJsZTogQW55XT8gPSB4KSB7fQogICAgb3BlbiBmdW5jIHJlbW92ZU9ic2VydmVyKF8gb2JzZXJ2ZXI6IEFueSkge30KICAgIG9wZW4gZnVuYyByZW1vdmVPYnNlcnZlcihfIG9ic2VydmVyOiBBbnksIG5hbWUgYU5hbWU6IE5TTm90aWZpY2F0aW9uLk5hbWU/LCBvYmplY3Q6IEFueT8pIHt9Cn0Kb3BlbiBjbGFzcyBOb3RpZmljYXRpb25RdWV1ZSA6IEFueU9iamVjdCwgQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sIHsKICAgIG9wZW4gY2xhc3MgdmFyIGRlZmF1bHQ6IE5vdGlmaWNhdGlvblF1ZXVlIHsgZ2V0IH0KICAgIHB1YmxpYyBpbml0KG5vdGlmaWNhdGlvbkNlbnRlcjogTm90aWZpY2F0aW9uQ2VudGVyKSB7fQogICAgb3BlbiBmdW5jIGRlcXVldWVOb3RpZmljYXRpb25zKG1hdGNoaW5nIG5vdGlmaWNhdGlvbjogTm90aWZpY2F0aW9uLCBjb2FsZXNjZU1hc2s6IE5vdGlmaWNhdGlvbkNvYWxlc2NpbmcpIHt9CiAgICBvcGVuIGZ1bmMgZW5xdWV1ZShfIG5vdGlmaWNhdGlvbjogTm90aWZpY2F0aW9uLCBwb3N0aW5nU3R5bGU6IFBvc3RpbmdTdHlsZSkge30KICAgIG9wZW4gZnVuYyBlbnF1ZXVlKF8gbm90aWZpY2F0aW9uOiBOb3RpZmljYXRpb24sIHBvc3RpbmdTdHlsZTogUG9zdGluZ1N0eWxlLCBjb2FsZXNjZU1hc2s6IE5vdGlmaWNhdGlvbkNvYWxlc2NpbmcsIGZvck1vZGVzIG1vZGVzOiBbUnVuTG9vcC5Nb2RlXT8pIHt9Cn0Kb3BlbiBjbGFzcyBOdW1iZXJGb3JtYXR0ZXIgOiBBbnlPYmplY3QsIEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEZvcm1hdHRlciwgSGFzaGFibGUsIE5TQ29kaW5nLCBOU0NvcHlpbmcsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sIHsKICAgIG9wZW4gY2xhc3MgZnVuYyBsb2NhbGl6ZWRTdHJpbmcoZnJvbSBudW06IE5TTnVtYmVyLCBudW1iZXIgbnN0eWxlOiBTdHlsZSkgLT4gU3RyaW5nIHt9CiAgICBvcGVuIHZhciBhbGxvd3NGbG9hdHM6IEJvb2wgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGFsd2F5c1Nob3dzRGVjaW1hbFNlcGFyYXRvcjogQm9vbCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgYXR0cmlidXRlZFN0cmluZ0Zvck5pbDogTlNBdHRyaWJ1dGVkU3RyaW5nIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBhdHRyaWJ1dGVkU3RyaW5nRm9yTm90QU51bWJlcjogTlNBdHRyaWJ1dGVkU3RyaW5nIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBhdHRyaWJ1dGVkU3RyaW5nRm9yWmVybzogTlNBdHRyaWJ1dGVkU3RyaW5nIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBjdXJyZW5jeUNvZGU6IFN0cmluZyEgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGN1cnJlbmN5RGVjaW1hbFNlcGFyYXRvcjogU3RyaW5nISB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgY3VycmVuY3lHcm91cGluZ1NlcGFyYXRvcjogU3RyaW5nISB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgY3VycmVuY3lTeW1ib2w6IFN0cmluZyEgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGRlY2ltYWxTZXBhcmF0b3I6IFN0cmluZyEgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGV4cG9uZW50U3ltYm9sOiBTdHJpbmchIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBmb3JtYXQ6IFN0cmluZyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgZm9ybWF0V2lkdGg6IEludCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgZm9ybWF0dGluZ0NvbnRleHQ6IENvbnRleHQgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGdlbmVyYXRlc0RlY2ltYWxOdW1iZXJzOiBCb29sIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBncm91cGluZ1NlcGFyYXRvcjogU3RyaW5nISB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgZ3JvdXBpbmdTaXplOiBJbnQgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGhhc1Rob3VzYW5kU2VwYXJhdG9yczogQm9vbCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgaW50ZXJuYXRpb25hbEN1cnJlbmN5U3ltYm9sOiBTdHJpbmchIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBpc0xlbmllbnQ6IEJvb2wgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGlzUGFydGlhbFN0cmluZ1ZhbGlkYXRpb25FbmFibGVkOiBCb29sIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBsb2NhbGU6IExvY2FsZSEgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGxvY2FsaXplc0Zvcm1hdDogQm9vbCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgbWF4aW11bTogTlNOdW1iZXI/IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBtYXhpbXVtRnJhY3Rpb25EaWdpdHM6IEludCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgbWF4aW11bUludGVnZXJEaWdpdHM6IEludCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgbWF4aW11bVNpZ25pZmljYW50RGlnaXRzOiBJbnQgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIG1pbmltdW06IE5TTnVtYmVyPyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgbWluaW11bUZyYWN0aW9uRGlnaXRzOiBJbnQgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIG1pbmltdW1JbnRlZ2VyRGlnaXRzOiBJbnQgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIG1pbmltdW1TaWduaWZpY2FudERpZ2l0czogSW50IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBtaW51c1NpZ246IFN0cmluZyEgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIG11bHRpcGxpZXI6IE5TTnVtYmVyPyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgbmVnYXRpdmVGb3JtYXQ6IFN0cmluZyEgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIG5lZ2F0aXZlSW5maW5pdHlTeW1ib2w6IFN0cmluZyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgbmVnYXRpdmVQcmVmaXg6IFN0cmluZyEgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIG5lZ2F0aXZlU3VmZml4OiBTdHJpbmchIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBuaWxTeW1ib2w6IFN0cmluZyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgbm90QU51bWJlclN5bWJvbDogU3RyaW5nISB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgbnVtYmVyU3R5bGU6IFN0eWxlIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBwYWRkaW5nQ2hhcmFjdGVyOiBTdHJpbmchIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBwYWRkaW5nUG9zaXRpb246IFBhZFBvc2l0aW9uIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBwZXJNaWxsU3ltYm9sOiBTdHJpbmchIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBwZXJjZW50U3ltYm9sOiBTdHJpbmchIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBwbHVzU2lnbjogU3RyaW5nISB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgcG9zaXRpdmVGb3JtYXQ6IFN0cmluZyEgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHBvc2l0aXZlSW5maW5pdHlTeW1ib2w6IFN0cmluZyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgcG9zaXRpdmVQcmVmaXg6IFN0cmluZyEgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHBvc2l0aXZlU3VmZml4OiBTdHJpbmchIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciByb3VuZGluZ0JlaGF2aW9yOiBOU0RlY2ltYWxOdW1iZXJIYW5kbGVyIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciByb3VuZGluZ0luY3JlbWVudDogTlNOdW1iZXIhIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciByb3VuZGluZ01vZGU6IFJvdW5kaW5nTW9kZSB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgc2Vjb25kYXJ5R3JvdXBpbmdTaXplOiBJbnQgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHRleHRBdHRyaWJ1dGVzRm9yTmVnYXRpdmVJbmZpbml0eTogW1N0cmluZzogQW55XT8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHRleHRBdHRyaWJ1dGVzRm9yTmVnYXRpdmVWYWx1ZXM6IFtTdHJpbmc6IEFueV0/IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciB0ZXh0QXR0cmlidXRlc0Zvck5pbDogW1N0cmluZzogQW55XT8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHRleHRBdHRyaWJ1dGVzRm9yTm90QU51bWJlcjogW1N0cmluZzogQW55XT8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHRleHRBdHRyaWJ1dGVzRm9yUG9zaXRpdmVJbmZpbml0eTogW1N0cmluZzogQW55XT8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHRleHRBdHRyaWJ1dGVzRm9yUG9zaXRpdmVWYWx1ZXM6IFtTdHJpbmc6IEFueV0/IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciB0ZXh0QXR0cmlidXRlc0Zvclplcm86IFtTdHJpbmc6IEFueV0/IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciB0aG91c2FuZFNlcGFyYXRvcjogU3RyaW5nISB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgdXNlc0dyb3VwaW5nU2VwYXJhdG9yOiBCb29sIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciB1c2VzU2lnbmlmaWNhbnREaWdpdHM6IEJvb2wgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHplcm9TeW1ib2w6IFN0cmluZz8geyBnZXQgc2V0IH0KICAgIG9wZW4gZnVuYyBudW1iZXIoZnJvbSBzdHJpbmc6IFN0cmluZykgLT4gTlNOdW1iZXI/IHt9CiAgICBvcGVuIGZ1bmMgb2JqZWN0VmFsdWUoXyBzdHJpbmc6IFN0cmluZywgcmFuZ2U6IGlub3V0IE5TUmFuZ2UpIHRocm93cyAtPiBBbnk/IHt9CiAgICBvcGVuIGZ1bmMgc3RyaW5nKGZyb20gbnVtYmVyOiBOU051bWJlcikgLT4gU3RyaW5nPyB7fQp9Cm9wZW4gY2xhc3MgT3BlcmF0aW9uIDogQW55T2JqZWN0LCBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wgewogICAgcHVibGljIHZhciBjb21wbGV0aW9uQmxvY2s6ICgoKSAtPiBWb2lkKT8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGRlcGVuZGVuY2llczogW09wZXJhdGlvbl0geyBnZXQgfQogICAgb3BlbiB2YXIgaXNBc3luY2hyb25vdXM6IEJvb2wgeyBnZXQgfQogICAgb3BlbiB2YXIgaXNDYW5jZWxsZWQ6IEJvb2wgeyBnZXQgfQogICAgb3BlbiB2YXIgaXNFeGVjdXRpbmc6IEJvb2wgeyBnZXQgfQogICAgb3BlbiB2YXIgaXNGaW5pc2hlZDogQm9vbCB7IGdldCB9CiAgICBvcGVuIHZhciBpc1JlYWR5OiBCb29sIHsgZ2V0IH0KICAgIG9wZW4gdmFyIG5hbWU6IFN0cmluZz8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHF1YWxpdHlPZlNlcnZpY2U6IFF1YWxpdHlPZlNlcnZpY2UgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHF1ZXVlUHJpb3JpdHk6IFF1ZXVlUHJpb3JpdHkgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHRocmVhZFByaW9yaXR5OiBEb3VibGUgeyBnZXQgc2V0IH0KICAgIG9wZW4gZnVuYyBhZGREZXBlbmRlbmN5KF8gb3A6IE9wZXJhdGlvbikge30KICAgIG9wZW4gZnVuYyBjYW5jZWwoKSB7fQogICAgcHVibGljIGZ1bmMgZGlkQ2hhbmdlVmFsdWUoZm9yS2V5IGtleTogU3RyaW5nKSB7fQogICAgb3BlbiBmdW5jIG1haW4oKSB7fQogICAgb3BlbiBmdW5jIHJlbW92ZURlcGVuZGVuY3koXyBvcDogT3BlcmF0aW9uKSB7fQogICAgb3BlbiBmdW5jIHN0YXJ0KCkge30KICAgIG9wZW4gZnVuYyB3YWl0VW50aWxGaW5pc2hlZCgpIHt9CiAgICBwdWJsaWMgZnVuYyB3aWxsQ2hhbmdlVmFsdWUoZm9yS2V5IGtleTogU3RyaW5nKSB7fQp9Cm9wZW4gY2xhc3MgT3BlcmF0aW9uUXVldWUgOiBBbnlPYmplY3QsIEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCB7CiAgICBvcGVuIGNsYXNzIHZhciBjdXJyZW50OiBPcGVyYXRpb25RdWV1ZT8geyBnZXQgfQogICAgcHVibGljIHN0YXRpYyB2YXIgZGVmYXVsdE1heENvbmN1cnJlbnRPcGVyYXRpb25Db3VudDogSW50IHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgdmFyIG1haW46IE9wZXJhdGlvblF1ZXVlIHsgZ2V0IH0KICAgIG9wZW4gdmFyIGlzU3VzcGVuZGVkOiBCb29sIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBtYXhDb25jdXJyZW50T3BlcmF0aW9uQ291bnQ6IEludCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgbmFtZTogU3RyaW5nPyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgb3BlcmF0aW9uQ291bnQ6IEludCB7IGdldCB9CiAgICBvcGVuIHZhciBvcGVyYXRpb25zOiBbT3BlcmF0aW9uXSB7IGdldCB9CiAgICBvcGVuIHZhciBxdWFsaXR5T2ZTZXJ2aWNlOiBRdWFsaXR5T2ZTZXJ2aWNlIHsgZ2V0IHNldCB9CiNpZiBERVBMT1lNRU5UX0VOQUJMRV9MSUJESVNQQVRDSAogICAgb3BlbiB2YXIgdW5kZXJseWluZ1F1ZXVlOiBEaXNwYXRjaFF1ZXVlPyB7IGdldCBzZXQgfQojZW5kaWYKICAgIG9wZW4gZnVuYyBhZGRPcGVyYXRpb24oXyBibG9jazogQGVzY2FwaW5nICgpIC0+IFN3aWZ0LlZvaWQpIHt9CiAgICBvcGVuIGZ1bmMgYWRkT3BlcmF0aW9ucyhfIG9wczogW09wZXJhdGlvbl0sIHdhaXRVbnRpbEZpbmlzaGVkIHdhaXQ6IEJvb2wpIHt9CiAgICBvcGVuIGZ1bmMgY2FuY2VsQWxsT3BlcmF0aW9ucygpIHt9CiAgICBvcGVuIGZ1bmMgd2FpdFVudGlsQWxsT3BlcmF0aW9uc0FyZUZpbmlzaGVkKCkge30KfQpvcGVuIGNsYXNzIE91dHB1dFN0cmVhbSA6IEFueU9iamVjdCwgQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBTdHJlYW0gewogICAgb3BlbiBjbGFzcyBmdW5jIHRvTWVtb3J5KCkgLT4gU2VsZiB7fQogICAgcHVibGljIGluaXQodG9CdWZmZXIgYnVmZmVyOiBVbnNhZmVNdXRhYmxlUG9pbnRlcjxVSW50OD4sIGNhcGFjaXR5OiBJbnQpIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdD8odG9GaWxlQXRQYXRoIHBhdGg6IFN0cmluZywgYXBwZW5kIHNob3VsZEFwcGVuZDogQm9vbCkge30KICAgIHB1YmxpYyByZXF1aXJlZCBpbml0KHRvTWVtb3J5OiBWb2lkKSB7fQogICAgcHVibGljIGluaXQ/KHVybDogVVJMLCBhcHBlbmQgc2hvdWxkQXBwZW5kOiBCb29sKSB7fQogICAgb3BlbiB2YXIgaGFzU3BhY2VBdmFpbGFibGU6IEJvb2wgeyBnZXQgfQogICAgb3BlbiBmdW5jIHdyaXRlKF8gYnVmZmVyOiBVbnNhZmVQb2ludGVyPFVJbnQ4PiwgbWF4TGVuZ3RoIGxlbjogSW50KSAtPiBJbnQge30KfQpvcGVuIGNsYXNzIFBlcnNvbk5hbWVDb21wb25lbnRzRm9ybWF0dGVyIDogQW55T2JqZWN0LCBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBGb3JtYXR0ZXIsIEhhc2hhYmxlLCBOU0NvZGluZywgTlNDb3B5aW5nLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCB7CiAgICBvcGVuIGNsYXNzIGZ1bmMgbG9jYWxpemVkU3RyaW5nKGZyb20gY29tcG9uZW50czogUGVyc29uTmFtZUNvbXBvbmVudHMsIHN0eWxlIG5hbWVGb3JtYXRTdHlsZTogU3R5bGUsIG9wdGlvbnMgbmFtZU9wdGlvbnM6IE9wdGlvbnMgPSB4KSAtPiBTdHJpbmcge30KICAgIG9wZW4gdmFyIGlzUGhvbmV0aWM6IEJvb2wgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHN0eWxlOiBTdHlsZSB7IGdldCBzZXQgfQogICAgb3BlbiBmdW5jIGFubm90YXRlZFN0cmluZyhmcm9tIGNvbXBvbmVudHM6IFBlcnNvbk5hbWVDb21wb25lbnRzKSAtPiBOU0F0dHJpYnV0ZWRTdHJpbmcge30KICAgIG9wZW4gZnVuYyBwZXJzb25OYW1lQ29tcG9uZW50cyhmcm9tIHN0cmluZzogU3RyaW5nKSAtPiBQZXJzb25OYW1lQ29tcG9uZW50cz8ge30KICAgIG9wZW4gZnVuYyBzdHJpbmcoZnJvbSBjb21wb25lbnRzOiBQZXJzb25OYW1lQ29tcG9uZW50cykgLT4gU3RyaW5nIHt9Cn0Kb3BlbiBjbGFzcyBQaXBlIDogQW55T2JqZWN0LCBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wgewogICAgcHVibGljIHZhciBmaWxlSGFuZGxlRm9yUmVhZGluZzogRmlsZUhhbmRsZSB7IGdldCB9CiAgICBwdWJsaWMgdmFyIGZpbGVIYW5kbGVGb3JXcml0aW5nOiBGaWxlSGFuZGxlIHsgZ2V0IH0KfQpvcGVuIGNsYXNzIFBvcnQgOiBBbnlPYmplY3QsIEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU0NvZGluZywgTlNDb3B5aW5nLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCB7CiAgICBwdWJsaWMgc3RhdGljIHZhciBkaWRCZWNvbWVJbnZhbGlkTm90aWZpY2F0aW9uIHsgZ2V0IH0KICAgIG9wZW4gdmFyIGlzVmFsaWQ6IEJvb2wgeyBnZXQgfQogICAgb3BlbiB2YXIgcmVzZXJ2ZWRTcGFjZUxlbmd0aDogSW50IHsgZ2V0IH0KICAgIG9wZW4gZnVuYyBpbnZhbGlkYXRlKCkge30KICAgIG9wZW4gZnVuYyByZW1vdmUoZnJvbSBydW5Mb29wOiBSdW5Mb29wLCBmb3JNb2RlIG1vZGU6IFJ1bkxvb3AuTW9kZSkge30KICAgIG9wZW4gZnVuYyBzY2hlZHVsZShpbiBydW5Mb29wOiBSdW5Mb29wLCBmb3JNb2RlIG1vZGU6IFJ1bkxvb3AuTW9kZSkge30KICAgIG9wZW4gZnVuYyBzZW5kQmVmb3JlRGF0ZShfIGxpbWl0RGF0ZTogRGF0ZSwgY29tcG9uZW50czogTlNNdXRhYmxlQXJyYXk/LCBmcm9tIHJlY2VpdmVQb3J0OiBQb3J0PywgcmVzZXJ2ZWQgaGVhZGVyU3BhY2VSZXNlcnZlZDogSW50KSAtPiBCb29sIHt9CiAgICBvcGVuIGZ1bmMgc2VuZEJlZm9yZURhdGUoXyBsaW1pdERhdGU6IERhdGUsIG1zZ2lkIG1zZ0lEOiBJbnQsIGNvbXBvbmVudHM6IE5TTXV0YWJsZUFycmF5PywgZnJvbSByZWNlaXZlUG9ydDogUG9ydD8sIHJlc2VydmVkIGhlYWRlclNwYWNlUmVzZXJ2ZWQ6IEludCkgLT4gQm9vbCB7fQp9Cm9wZW4gY2xhc3MgUG9ydE1lc3NhZ2UgOiBBbnlPYmplY3QsIEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCB7CiAgICBwdWJsaWMgaW5pdChzZW5kUG9ydDogUG9ydD8sIHJlY2VpdmVQb3J0IHJlcGx5UG9ydDogUG9ydD8sIGNvbXBvbmVudHM6IFtBbnlPYmplY3RdPykge30KICAgIG9wZW4gdmFyIGNvbXBvbmVudHM6IFtBbnlPYmplY3RdPyB7IGdldCB9CiAgICBvcGVuIHZhciBtc2dpZDogVUludDMyIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciByZWNlaXZlUG9ydDogUG9ydD8geyBnZXQgfQogICAgb3BlbiB2YXIgc2VuZFBvcnQ6IFBvcnQ/IHsgZ2V0IH0KICAgIG9wZW4gZnVuYyBzZW5kQmVmb3JlRGF0ZShfIGRhdGU6IERhdGUpIC0+IEJvb2wge30KfQpvcGVuIGNsYXNzIFByb2Nlc3MgOiBBbnlPYmplY3QsIEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCB7CiAgICBwdWJsaWMgc3RhdGljIHZhciBkaWRUZXJtaW5hdGVOb3RpZmljYXRpb24geyBnZXQgfQogICAgb3BlbiBjbGFzcyBmdW5jIHJ1bihfIHVybDogVVJMLCBhcmd1bWVudHM6IFtTdHJpbmddLCB0ZXJtaW5hdGlvbkhhbmRsZXI6ICgoUHJvY2VzcykgLT4gVm9pZCk/ID0geCkgdGhyb3dzIC0+IFByb2Nlc3Mge30KICAgIG9wZW4gdmFyIGFyZ3VtZW50czogW1N0cmluZ10/IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBjdXJyZW50RGlyZWN0b3J5VVJMIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBlbnZpcm9ubWVudDogW1N0cmluZzogU3RyaW5nXT8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGV4ZWN1dGFibGVVUkw6IFVSTD8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGlzUnVubmluZzogQm9vbCB7IGdldCB9CiAgICBvcGVuIHZhciBwcm9jZXNzSWRlbnRpZmllcjogSW50MzIgeyBnZXQgfQogICAgb3BlbiB2YXIgcXVhbGl0eU9mU2VydmljZTogUXVhbGl0eU9mU2VydmljZSB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgc3RhbmRhcmRFcnJvcjogQW55PyB7IGdldCB9CiAgICBvcGVuIHZhciBzdGFuZGFyZElucHV0OiBBbnk/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHN0YW5kYXJkT3V0cHV0OiBBbnk/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHRlcm1pbmF0aW9uSGFuZGxlcjogKChQcm9jZXNzKSAtPiBWb2lkKT8geyBnZXQgc2V0IH0KICAgIHB1YmxpYyB2YXIgdGVybWluYXRpb25SZWFzb246IFRlcm1pbmF0aW9uUmVhc29uIHsgZ2V0IH0KICAgIHB1YmxpYyB2YXIgdGVybWluYXRpb25TdGF0dXM6IEludDMyIHsgZ2V0IH0KICAgIG9wZW4gZnVuYyBpbnRlcnJ1cHQoKSB7fQogICAgb3BlbiBmdW5jIHJlc3VtZSgpIC0+IEJvb2wge30KICAgIG9wZW4gZnVuYyBydW4oKSB0aHJvd3Mge30KICAgIG9wZW4gZnVuYyBzdXNwZW5kKCkgLT4gQm9vbCB7fQogICAgb3BlbiBmdW5jIHRlcm1pbmF0ZSgpIHt9CiAgICBvcGVuIGZ1bmMgd2FpdFVudGlsRXhpdCgpIHt9Cn0Kb3BlbiBjbGFzcyBQcm9jZXNzSW5mbyA6IEFueU9iamVjdCwgQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sIHsKICAgIHB1YmxpYyBzdGF0aWMgdmFyIHByb2Nlc3NJbmZvIHsgZ2V0IH0KICAgIG9wZW4gdmFyIGFjdGl2ZVByb2Nlc3NvckNvdW50OiBJbnQgeyBnZXQgfQogICAgb3BlbiB2YXIgYXJndW1lbnRzOiBbU3RyaW5nXSB7IGdldCB9CiAgICBvcGVuIHZhciBlbnZpcm9ubWVudDogW1N0cmluZzogU3RyaW5nXSB7IGdldCB9CiAgICBvcGVuIHZhciBmdWxsVXNlck5hbWU6IFN0cmluZyB7IGdldCB9CiAgICBvcGVuIHZhciBnbG9iYWxseVVuaXF1ZVN0cmluZzogU3RyaW5nIHsgZ2V0IH0KICAgIG9wZW4gdmFyIGhvc3ROYW1lOiBTdHJpbmcgeyBnZXQgfQogICAgb3BlbiB2YXIgb3BlcmF0aW5nU3lzdGVtVmVyc2lvbjogT3BlcmF0aW5nU3lzdGVtVmVyc2lvbiB7IGdldCB9CiAgICBvcGVuIHZhciBvcGVyYXRpbmdTeXN0ZW1WZXJzaW9uU3RyaW5nOiBTdHJpbmcgeyBnZXQgfQogICAgb3BlbiB2YXIgcGh5c2ljYWxNZW1vcnk6IFVJbnQ2NCB7IGdldCB9CiAgICBvcGVuIHZhciBwcm9jZXNzSWRlbnRpZmllcjogSW50MzIgeyBnZXQgfQogICAgb3BlbiB2YXIgcHJvY2Vzc05hbWU6IFN0cmluZyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgcHJvY2Vzc29yQ291bnQ6IEludCB7IGdldCB9CiAgICBvcGVuIHZhciBzeXN0ZW1VcHRpbWU6IFRpbWVJbnRlcnZhbCB7IGdldCB9CiAgICBvcGVuIHZhciB1c2VyTmFtZTogU3RyaW5nIHsgZ2V0IH0KICAgIG9wZW4gZnVuYyBpc09wZXJhdGluZ1N5c3RlbUF0TGVhc3QoXyB2ZXJzaW9uOiBPcGVyYXRpbmdTeXN0ZW1WZXJzaW9uKSAtPiBCb29sIHt9Cn0Kb3BlbiBjbGFzcyBQcm9ncmVzcyA6IEFueU9iamVjdCwgQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sIHsKICAgIG9wZW4gY2xhc3MgZnVuYyBjdXJyZW50KCkgLT4gUHJvZ3Jlc3M/IHt9CiAgICBvcGVuIGNsYXNzIGZ1bmMgZGlzY3JldGVQcm9ncmVzcyh0b3RhbFVuaXRDb3VudCB1bml0Q291bnQ6IEludDY0KSAtPiBQcm9ncmVzcyB7fQogICAgcHVibGljIGluaXQocGFyZW50IHBhcmVudFByb2dyZXNzOiBQcm9ncmVzcz8sIHVzZXJJbmZvIHVzZXJJbmZvT3JOaWw6IFtQcm9ncmVzc1VzZXJJbmZvS2V5OiBBbnldPyA9IHgpIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdCh0b3RhbFVuaXRDb3VudCB1bml0Q291bnQ6IEludDY0KSB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQodG90YWxVbml0Q291bnQgdW5pdENvdW50OiBJbnQ2NCwgcGFyZW50OiBQcm9ncmVzcywgcGVuZGluZ1VuaXRDb3VudCBwb3J0aW9uT2ZQYXJlbnRUb3RhbFVuaXRDb3VudDogSW50NjQpIHt9CiAgICBvcGVuIHZhciBjYW5jZWxsYXRpb25IYW5kbGVyOiAoKCkgLT4gVm9pZCk/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGNvbXBsZXRlZFVuaXRDb3VudDogSW50NjQgeyBnZXQgc2V0IH0KICAgIHB1YmxpYyB2YXIgZnJhY3Rpb25Db21wbGV0ZWQ6IERvdWJsZSB7IGdldCB9CiAgICBvcGVuIHZhciBpc0NhbmNlbGxhYmxlOiBCb29sIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBpc0NhbmNlbGxlZDogQm9vbCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgaXNGaW5pc2hlZDogQm9vbCB7IGdldCB9CiAgICBvcGVuIHZhciBpc0luZGV0ZXJtaW5hdGU6IEJvb2wgeyBnZXQgfQogICAgb3BlbiB2YXIgaXNQYXVzYWJsZTogQm9vbCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgaXNQYXVzZWQ6IEJvb2wgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGtpbmQ6IFByb2dyZXNzS2luZD8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGxvY2FsaXplZEFkZGl0aW9uYWxEZXNjcmlwdGlvbjogU3RyaW5nISB7IGdldCB9CiAgICBvcGVuIHZhciBsb2NhbGl6ZWREZXNjcmlwdGlvbjogU3RyaW5nISB7IGdldCB9CiAgICBvcGVuIHZhciBwYXVzaW5nSGFuZGxlcjogKCgpIC0+IFZvaWQpPyB7IGdldCB9CiAgICBvcGVuIHZhciByZXN1bWluZ0hhbmRsZXI6ICgoKSAtPiBWb2lkKT8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHRvdGFsVW5pdENvdW50OiBJbnQ2NCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgdXNlckluZm86IFtQcm9ncmVzc1VzZXJJbmZvS2V5OiBBbnldIHsgZ2V0IH0KICAgIG9wZW4gZnVuYyBhZGRDaGlsZChfIGNoaWxkOiBQcm9ncmVzcywgd2l0aFBlbmRpbmdVbml0Q291bnQgaW5Vbml0Q291bnQ6IEludDY0KSB7fQogICAgb3BlbiBmdW5jIGJlY29tZUN1cnJlbnQod2l0aFBlbmRpbmdVbml0Q291bnQgdW5pdENvdW50OiBJbnQ2NCkge30KICAgIG9wZW4gZnVuYyBjYW5jZWwoKSB7fQogICAgb3BlbiBmdW5jIHBhdXNlKCkge30KICAgIG9wZW4gZnVuYyByZXNpZ25DdXJyZW50KCkge30KICAgIG9wZW4gZnVuYyByZXN1bWUoKSB7fQogICAgb3BlbiBmdW5jIHNldFVzZXJJbmZvT2JqZWN0KF8gb2JqZWN0T3JOaWw6IEFueT8sIGZvcktleSBrZXk6IFByb2dyZXNzVXNlckluZm9LZXkpIHt9Cn0Kb3BlbiBjbGFzcyBQcm9wZXJ0eUxpc3RTZXJpYWxpemF0aW9uIDogQW55T2JqZWN0LCBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wgewogICAgb3BlbiBjbGFzcyBmdW5jIGRhdGEoZnJvbVByb3BlcnR5TGlzdCBwbGlzdDogQW55LCBmb3JtYXQ6IFByb3BlcnR5TGlzdEZvcm1hdCwgb3B0aW9ucyBvcHQ6IFdyaXRlT3B0aW9ucykgdGhyb3dzIC0+IERhdGEge30KICAgIG9wZW4gY2xhc3MgZnVuYyBwcm9wZXJ0eUxpc3QoXyBwbGlzdDogQW55LCBpc1ZhbGlkRm9yIGZvcm1hdDogUHJvcGVydHlMaXN0Rm9ybWF0KSAtPiBCb29sIHt9CiAgICBvcGVuIGNsYXNzIGZ1bmMgcHJvcGVydHlMaXN0KGZyb20gZGF0YTogRGF0YSwgb3B0aW9ucyBvcHQ6IFJlYWRPcHRpb25zID0geCwgZm9ybWF0OiBVbnNhZmVNdXRhYmxlUG9pbnRlcjxQcm9wZXJ0eUxpc3RGb3JtYXQ+PykgdGhyb3dzIC0+IEFueSB7fQogICAgb3BlbiBjbGFzcyBmdW5jIHByb3BlcnR5TGlzdCh3aXRoIHN0cmVhbTogSW5wdXRTdHJlYW0sIG9wdGlvbnMgb3B0OiBSZWFkT3B0aW9ucyA9IHgsIGZvcm1hdDogVW5zYWZlTXV0YWJsZVBvaW50ZXI8UHJvcGVydHlMaXN0Rm9ybWF0Pj8pIHRocm93cyAtPiBBbnkge30KfQpvcGVuIGNsYXNzIFJ1bkxvb3AgOiBBbnlPYmplY3QsIEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCB7CiAgICBvcGVuIGNsYXNzIHZhciBjdXJyZW50OiBSdW5Mb29wIHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgdmFyIG1haW46IFJ1bkxvb3AgeyBnZXQgfQogICAgb3BlbiB2YXIgY3VycmVudE1vZGU6IFJ1bkxvb3AuTW9kZT8geyBnZXQgfQogICAgb3BlbiBmdW5jIGFjY2VwdElucHV0KGZvck1vZGUgbW9kZTogU3RyaW5nLCBiZWZvcmUgbGltaXREYXRlOiBEYXRlKSB7fQogICAgb3BlbiBmdW5jIGFkZChfIGFQb3J0OiBQb3J0LCBmb3JNb2RlIG1vZGU6IFJ1bkxvb3AuTW9kZSkge30KICAgIG9wZW4gZnVuYyBnZXRDRlJ1bkxvb3AoKSAtPiBDRlJ1bkxvb3Age30KICAgIG9wZW4gZnVuYyBsaW1pdERhdGUoZm9yTW9kZSBtb2RlOiBSdW5Mb29wLk1vZGUpIC0+IERhdGU/IHt9CiAgICBwdWJsaWMgZnVuYyBwZXJmb3JtKF8gYmxvY2s6IEBlc2NhcGluZyAoKSAtPiBWb2lkKSB7fQogICAgcHVibGljIGZ1bmMgcGVyZm9ybShpbk1vZGVzIG1vZGVzOiBbUnVuTG9vcC5Nb2RlXSwgYmxvY2s6IEBlc2NhcGluZyAoKSAtPiBWb2lkKSB7fQogICAgb3BlbiBmdW5jIHJlbW92ZShfIGFQb3J0OiBQb3J0LCBmb3JNb2RlIG1vZGU6IFJ1bkxvb3AuTW9kZSkge30KICAgIHB1YmxpYyBmdW5jIHJ1bigpIHt9CiAgICBwdWJsaWMgZnVuYyBydW4obW9kZTogUnVuTG9vcC5Nb2RlLCBiZWZvcmUgbGltaXREYXRlOiBEYXRlKSAtPiBCb29sIHt9CiAgICBwdWJsaWMgZnVuYyBydW4odW50aWwgbGltaXREYXRlOiBEYXRlKSB7fQp9Cm9wZW4gY2xhc3MgU2Nhbm5lciA6IEFueU9iamVjdCwgQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TQ29weWluZywgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wgewogICAgb3BlbiBjbGFzcyBmdW5jIGxvY2FsaXplZFNjYW5uZXJXaXRoU3RyaW5nKF8gc3RyaW5nOiBTdHJpbmcpIC0+IEFueU9iamVjdCB7fQogICAgcHVibGljIGluaXQoc3RyaW5nOiBTdHJpbmcpIHt9CiAgICBvcGVuIHZhciBjYXNlU2Vuc2l0aXZlOiBCb29sIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBjaGFyYWN0ZXJzVG9CZVNraXBwZWQ6IENoYXJhY3RlclNldD8geyBnZXQgc2V0IH0KICAgIHB1YmxpYyB2YXIgaXNBdEVuZDogQm9vbCB7IGdldCB9CiAgICBvcGVuIHZhciBsb2NhbGU6IExvY2FsZT8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHNjYW5Mb2NhdGlvbjogSW50IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBzdHJpbmc6IFN0cmluZyB7IGdldCB9CiAgICBwdWJsaWMgZnVuYyBzY2FuQ2hhcmFjdGVyc0Zyb21TZXQoXyBzZXQ6IENoYXJhY3RlclNldCkgLT4gU3RyaW5nPyB7fQogICAgcHVibGljIGZ1bmMgc2NhbkRlY2ltYWwoKSAtPiBEZWNpbWFsPyB7fQogICAgcHVibGljIGZ1bmMgc2NhbkRlY2ltYWwoXyBkY206IGlub3V0IERlY2ltYWwpIC0+IEJvb2wge30KICAgIHB1YmxpYyBmdW5jIHNjYW5Eb3VibGUoKSAtPiBEb3VibGU/IHt9CiAgICBAZGlzY2FyZGFibGVSZXN1bHQgcHVibGljIGZ1bmMgc2NhbkRvdWJsZShfIHJlc3VsdDogVW5zYWZlTXV0YWJsZVBvaW50ZXI8RG91YmxlPikgLT4gQm9vbCB7fQogICAgcHVibGljIGZ1bmMgc2NhbkZsb2F0KCkgLT4gRmxvYXQ/IHt9CiAgICBAZGlzY2FyZGFibGVSZXN1bHQgcHVibGljIGZ1bmMgc2NhbkZsb2F0KF8gcmVzdWx0OiBVbnNhZmVNdXRhYmxlUG9pbnRlcjxGbG9hdD4pIC0+IEJvb2wge30KICAgIHB1YmxpYyBmdW5jIHNjYW5IZXhEb3VibGUoKSAtPiBEb3VibGU/IHt9CiAgICBAZGlzY2FyZGFibGVSZXN1bHQgcHVibGljIGZ1bmMgc2NhbkhleERvdWJsZShfIHJlc3VsdDogVW5zYWZlTXV0YWJsZVBvaW50ZXI8RG91YmxlPikgLT4gQm9vbCB7fQogICAgcHVibGljIGZ1bmMgc2NhbkhleEZsb2F0KCkgLT4gRmxvYXQ/IHt9CiAgICBAZGlzY2FyZGFibGVSZXN1bHQgcHVibGljIGZ1bmMgc2NhbkhleEZsb2F0KF8gcmVzdWx0OiBVbnNhZmVNdXRhYmxlUG9pbnRlcjxGbG9hdD4pIC0+IEJvb2wge30KICAgIHB1YmxpYyBmdW5jIHNjYW5IZXhJbnQzMigpIC0+IFVJbnQzMj8ge30KICAgIEBkaXNjYXJkYWJsZVJlc3VsdCBwdWJsaWMgZnVuYyBzY2FuSGV4SW50MzIoXyByZXN1bHQ6IFVuc2FmZU11dGFibGVQb2ludGVyPFVJbnQzMj4pIC0+IEJvb2wge30KICAgIHB1YmxpYyBmdW5jIHNjYW5IZXhJbnQ2NCgpIC0+IFVJbnQ2ND8ge30KICAgIEBkaXNjYXJkYWJsZVJlc3VsdCBwdWJsaWMgZnVuYyBzY2FuSGV4SW50NjQoXyByZXN1bHQ6IFVuc2FmZU11dGFibGVQb2ludGVyPFVJbnQ2ND4pIC0+IEJvb2wge30KICAgIHB1YmxpYyBmdW5jIHNjYW5JbnQoKSAtPiBJbnQ/IHt9CiAgICBAZGlzY2FyZGFibGVSZXN1bHQgcHVibGljIGZ1bmMgc2NhbkludChfIHJlc3VsdDogVW5zYWZlTXV0YWJsZVBvaW50ZXI8SW50PikgLT4gQm9vbCB7fQogICAgcHVibGljIGZ1bmMgc2NhbkludDMyKCkgLT4gSW50MzI/IHt9CiAgICBAZGlzY2FyZGFibGVSZXN1bHQgcHVibGljIGZ1bmMgc2NhbkludDMyKF8gcmVzdWx0OiBVbnNhZmVNdXRhYmxlUG9pbnRlcjxJbnQzMj4pIC0+IEJvb2wge30KICAgIHB1YmxpYyBmdW5jIHNjYW5JbnQ2NCgpIC0+IEludDY0PyB7fQogICAgQGRpc2NhcmRhYmxlUmVzdWx0IHB1YmxpYyBmdW5jIHNjYW5JbnQ2NChfIHJlc3VsdDogVW5zYWZlTXV0YWJsZVBvaW50ZXI8SW50NjQ+KSAtPiBCb29sIHt9CiAgICBwdWJsaWMgZnVuYyBzY2FuU3RyaW5nKF8gc2VhcmNoU3RyaW5nOiBTdHJpbmcpIC0+IFN0cmluZz8ge30KICAgIEBkaXNjYXJkYWJsZVJlc3VsdCBwdWJsaWMgZnVuYyBzY2FuU3RyaW5nKF8gc3RyaW5nOiBTdHJpbmcsIGludG8gcHRyOiBVbnNhZmVNdXRhYmxlUG9pbnRlcjxTdHJpbmc/Pj8pIC0+IEJvb2wge30KICAgIHB1YmxpYyBmdW5jIHNjYW5VbnNpZ25lZExvbmdMb25nKCkgLT4gVUludDY0PyB7fQogICAgQGRpc2NhcmRhYmxlUmVzdWx0IHB1YmxpYyBmdW5jIHNjYW5VbnNpZ25lZExvbmdMb25nKF8gcmVzdWx0OiBVbnNhZmVNdXRhYmxlUG9pbnRlcjxVSW50NjQ+KSAtPiBCb29sIHt9CiAgICBAZGlzY2FyZGFibGVSZXN1bHQgcHVibGljIGZ1bmMgc2NhblVwVG9DaGFyYWN0ZXJzKGZyb20gc2V0OiBDaGFyYWN0ZXJTZXQsIGludG8gcHRyOiBVbnNhZmVNdXRhYmxlUG9pbnRlcjxTdHJpbmc/Pj8pIC0+IEJvb2wge30KICAgIHB1YmxpYyBmdW5jIHNjYW5VcFRvQ2hhcmFjdGVyc0Zyb21TZXQoXyBzZXQ6IENoYXJhY3RlclNldCkgLT4gU3RyaW5nPyB7fQogICAgcHVibGljIGZ1bmMgc2NhblVwVG9TdHJpbmcoXyBzdHJpbmc6IFN0cmluZykgLT4gU3RyaW5nPyB7fQp9Cm9wZW4gY2xhc3MgU29ja2V0UG9ydCA6IEFueU9iamVjdCwgQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TQ29kaW5nLCBOU0NvcHlpbmcsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBQb3J0IHsKICAgIHB1YmxpYyBpbml0Pyhwcm90b2NvbEZhbWlseSBmYW1pbHk6IEludDMyLCBzb2NrZXRUeXBlIHR5cGU6IEludDMyLCBwcm90b2NvbDogSW50MzIsIGFkZHJlc3M6IERhdGEpIHt9CiAgICBwdWJsaWMgaW5pdD8ocHJvdG9jb2xGYW1pbHkgZmFtaWx5OiBJbnQzMiwgc29ja2V0VHlwZSB0eXBlOiBJbnQzMiwgcHJvdG9jb2w6IEludDMyLCBzb2NrZXQgc29jazogU29ja2V0TmF0aXZlSGFuZGxlKSB7fQogICAgcHVibGljIGluaXQocmVtb3RlV2l0aFByb3RvY29sRmFtaWx5IGZhbWlseTogSW50MzIsIHNvY2tldFR5cGUgdHlwZTogSW50MzIsIHByb3RvY29sOiBJbnQzMiwgYWRkcmVzczogRGF0YSkge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0PyhyZW1vdGVXaXRoVENQUG9ydCBwb3J0OiBVSW50MTYsIGhvc3QgaG9zdE5hbWU6IFN0cmluZz8pIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdD8odGNwUG9ydCBwb3J0OiBVSW50MTYpIHt9CiAgICBvcGVuIHZhciBhZGRyZXNzOiBEYXRhIHsgZ2V0IH0KICAgIG9wZW4gdmFyIHByb3RvY29sOiBJbnQzMiB7IGdldCB9CiAgICBvcGVuIHZhciBwcm90b2NvbEZhbWlseTogSW50MzIgeyBnZXQgfQogICAgb3BlbiB2YXIgc29ja2V0OiBTb2NrZXROYXRpdmVIYW5kbGUgeyBnZXQgfQogICAgb3BlbiB2YXIgc29ja2V0VHlwZTogSW50MzIgeyBnZXQgfQp9Cm9wZW4gY2xhc3MgU3RyZWFtIDogQW55T2JqZWN0LCBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wgewojaWYgZmFsc2UKICAgIG9wZW4gY2xhc3MgZnVuYyBnZXRCb3VuZFN0cmVhbXMod2l0aEJ1ZmZlclNpemUgYnVmZmVyU2l6ZTogSW50LCBpbnB1dFN0cmVhbTogQXV0b3JlbGVhc2luZ1Vuc2FmZU11dGFibGVQb2ludGVyPElucHV0U3RyZWFtPz4/LCBvdXRwdXRTdHJlYW06IEF1dG9yZWxlYXNpbmdVbnNhZmVNdXRhYmxlUG9pbnRlcjxPdXRwdXRTdHJlYW0/Pj8pIHt9CiNlbmRpZgojaWYgZmFsc2UKICAgIG9wZW4gY2xhc3MgZnVuYyBnZXRTdHJlYW1zVG9Ib3N0KHdpdGhOYW1lIGhvc3RuYW1lOiBTdHJpbmcsIHBvcnQ6IEludCwgaW5wdXRTdHJlYW06IEF1dG9yZWxlYXNpbmdVbnNhZmVNdXRhYmxlUG9pbnRlcjxJbnB1dFN0cmVhbT8+Pywgb3V0cHV0U3RyZWFtOiBBdXRvcmVsZWFzaW5nVW5zYWZlTXV0YWJsZVBvaW50ZXI8T3V0cHV0U3RyZWFtPz4/KSB7fQojZW5kaWYKICAgIG9wZW4gd2VhayB2YXIgZGVsZWdhdGU6IFN0cmVhbURlbGVnYXRlPyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgc3RyZWFtRXJyb3I6IEVycm9yPyB7IGdldCB9CiAgICBvcGVuIHZhciBzdHJlYW1TdGF0dXM6IFN0YXR1cyB7IGdldCB9CiAgICBvcGVuIGZ1bmMgY2xvc2UoKSB7fQogICAgb3BlbiBmdW5jIG9wZW4oKSB7fQogICAgb3BlbiBmdW5jIHByb3BlcnR5KGZvcktleSBrZXk6IFByb3BlcnR5S2V5KSAtPiBBbnlPYmplY3Q/IHt9CiAgICBvcGVuIGZ1bmMgcmVtb3ZlKGZyb20gYVJ1bkxvb3A6IFJ1bkxvb3AsIGZvck1vZGUgbW9kZTogUnVuTG9vcC5Nb2RlKSB7fQogICAgb3BlbiBmdW5jIHNjaGVkdWxlKGluIGFSdW5Mb29wOiBSdW5Mb29wLCBmb3JNb2RlIG1vZGU6IFJ1bkxvb3AuTW9kZSkge30KICAgIG9wZW4gZnVuYyBzZXRQcm9wZXJ0eShfIHByb3BlcnR5OiBBbnlPYmplY3Q/LCBmb3JLZXkga2V5OiBQcm9wZXJ0eUtleSkgLT4gQm9vbCB7fQp9Cm9wZW4gY2xhc3MgVGhyZWFkIDogQW55T2JqZWN0LCBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wgewogICAgb3BlbiBjbGFzcyB2YXIgY2FsbFN0YWNrUmV0dXJuQWRkcmVzc2VzOiBbTlNOdW1iZXJdIHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgdmFyIGNhbGxTdGFja1N5bWJvbHM6IFtTdHJpbmddIHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgdmFyIGN1cnJlbnQ6IFRocmVhZCB7IGdldCB9CiAgICBvcGVuIGNsYXNzIHZhciBpc01haW5UaHJlYWQ6IEJvb2wgeyBnZXQgfQogICAgb3BlbiBjbGFzcyB2YXIgbWFpblRocmVhZDogVGhyZWFkIHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgZnVuYyBkZXRhY2hOZXdUaHJlYWQoXyBibG9jazogQGVzY2FwaW5nICgpIC0+IFN3aWZ0LlZvaWQpIHt9CiAgICBvcGVuIGNsYXNzIGZ1bmMgZXhpdCgpIHt9CiAgICBvcGVuIGNsYXNzIGZ1bmMgaXNNdWx0aVRocmVhZGVkKCkgLT4gQm9vbCB7fQogICAgb3BlbiBjbGFzcyBmdW5jIHNsZWVwKGZvclRpbWVJbnRlcnZhbCBpbnRlcnZhbDogVGltZUludGVydmFsKSB7fQogICAgb3BlbiBjbGFzcyBmdW5jIHNsZWVwKHVudGlsIGRhdGU6IERhdGUpIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdChibG9jazogQGVzY2FwaW5nICgpIC0+IFN3aWZ0LlZvaWQpIHt9CiAgICBvcGVuIHZhciBpc0NhbmNlbGxlZDogQm9vbCB7IGdldCB9CiAgICBvcGVuIHZhciBpc0V4ZWN1dGluZzogQm9vbCB7IGdldCB9CiAgICBvcGVuIHZhciBpc0ZpbmlzaGVkOiBCb29sIHsgZ2V0IH0KICAgIG9wZW4gdmFyIGlzTWFpblRocmVhZDogQm9vbCB7IGdldCB9CiAgICBvcGVuIHZhciBuYW1lOiBTdHJpbmc/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHN0YWNrU2l6ZTogSW50IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciB0aHJlYWREaWN0aW9uYXJ5OiBOU011dGFibGVEaWN0aW9uYXJ5IHsgZ2V0IH0KICAgIG9wZW4gZnVuYyBjYW5jZWwoKSB7fQogICAgb3BlbiBmdW5jIG1haW4oKSB7fQogICAgb3BlbiBmdW5jIHN0YXJ0KCkge30KfQpvcGVuIGNsYXNzIFRpbWVyIDogQW55T2JqZWN0LCBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wgewogICAgb3BlbiBjbGFzcyBmdW5jIHNjaGVkdWxlZFRpbWVyKHdpdGhUaW1lSW50ZXJ2YWwgaW50ZXJ2YWw6IFRpbWVJbnRlcnZhbCwgcmVwZWF0czogQm9vbCwgYmxvY2s6IEBlc2NhcGluZyAoVGltZXIpIC0+IFZvaWQpIC0+IFRpbWVyIHt9CiAgICBwdWJsaWMgaW5pdChmaXJlIGRhdGU6IERhdGUsIGludGVydmFsOiBUaW1lSW50ZXJ2YWwsIHJlcGVhdHM6IEJvb2wsIGJsb2NrOiBAZXNjYXBpbmcgKFRpbWVyKSAtPiBTd2lmdC5Wb2lkKSB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQodGltZUludGVydmFsIGludGVydmFsOiBUaW1lSW50ZXJ2YWwsIHJlcGVhdHM6IEJvb2wsIGJsb2NrOiBAZXNjYXBpbmcgKFRpbWVyKSAtPiBTd2lmdC5Wb2lkKSB7fQogICAgb3BlbiB2YXIgZmlyZURhdGU6IERhdGUgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGlzVmFsaWQ6IEJvb2wgeyBnZXQgfQogICAgb3BlbiB2YXIgdGltZUludGVydmFsOiBUaW1lSW50ZXJ2YWwgeyBnZXQgfQogICAgb3BlbiB2YXIgdG9sZXJhbmNlOiBUaW1lSW50ZXJ2YWwgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHVzZXJJbmZvOiBBbnk/IHsgZ2V0IH0KICAgIG9wZW4gZnVuYyBmaXJlKCkge30KICAgIG9wZW4gZnVuYyBpbnZhbGlkYXRlKCkge30KfQpvcGVuIGNsYXNzIFVSTEF1dGhlbnRpY2F0aW9uQ2hhbGxlbmdlIDogQW55T2JqZWN0LCBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNDb2RpbmcsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBOU1NlY3VyZUNvZGluZyB7CiAgICBwdWJsaWMgaW5pdChhdXRoZW50aWNhdGlvbkNoYWxsZW5nZSBjaGFsbGVuZ2U6IFVSTEF1dGhlbnRpY2F0aW9uQ2hhbGxlbmdlLCBzZW5kZXI6IFVSTEF1dGhlbnRpY2F0aW9uQ2hhbGxlbmdlU2VuZGVyKSB7fQogICAgcHVibGljIGluaXQocHJvdGVjdGlvblNwYWNlIHNwYWNlOiBVUkxQcm90ZWN0aW9uU3BhY2UsIHByb3Bvc2VkQ3JlZGVudGlhbCBjcmVkZW50aWFsOiBVUkxDcmVkZW50aWFsPywgcHJldmlvdXNGYWlsdXJlQ291bnQ6IEludCwgZmFpbHVyZVJlc3BvbnNlIHJlc3BvbnNlOiBVUkxSZXNwb25zZT8sIGVycm9yOiBFcnJvcj8sIHNlbmRlcjogVVJMQXV0aGVudGljYXRpb25DaGFsbGVuZ2VTZW5kZXIpIHt9CiAgICBvcGVuIHZhciBlcnJvcjogRXJyb3I/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGZhaWx1cmVSZXNwb25zZTogVVJMUmVzcG9uc2U/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHByZXZpb3VzRmFpbHVyZUNvdW50OiBJbnQgeyBnZXQgfQogICAgb3BlbiB2YXIgcHJvcG9zZWRDcmVkZW50aWFsOiBVUkxDcmVkZW50aWFsPyB7IGdldCB9CiAgICBvcGVuIHZhciBwcm90ZWN0aW9uU3BhY2U6IFVSTFByb3RlY3Rpb25TcGFjZSB7IGdldCB9CiAgICBvcGVuIHZhciBzZW5kZXI6IFVSTEF1dGhlbnRpY2F0aW9uQ2hhbGxlbmdlU2VuZGVyPyB7IGdldCB9Cn0Kb3BlbiBjbGFzcyBVUkxDYWNoZSA6IEFueU9iamVjdCwgQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sIHsKICAgIG9wZW4gY2xhc3MgdmFyIHNoYXJlZDogVVJMQ2FjaGUgeyBnZXQgc2V0IH0KICAgIHB1YmxpYyBpbml0KG1lbW9yeUNhcGFjaXR5OiBJbnQsIGRpc2tDYXBhY2l0eTogSW50LCBkaXNrUGF0aCBwYXRoOiBTdHJpbmc/KSB7fQogICAgb3BlbiB2YXIgY3VycmVudERpc2tVc2FnZTogSW50IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGN1cnJlbnRNZW1vcnlVc2FnZTogSW50IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGRpc2tDYXBhY2l0eTogSW50IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBtZW1vcnlDYXBhY2l0eTogSW50IHsgZ2V0IHNldCB9CiAgICBvcGVuIGZ1bmMgY2FjaGVkUmVzcG9uc2UoZm9yIHJlcXVlc3Q6IFVSTFJlcXVlc3QpIC0+IENhY2hlZFVSTFJlc3BvbnNlPyB7fQogICAgcHVibGljIGZ1bmMgZ2V0Q2FjaGVkUmVzcG9uc2UoZm9yIGRhdGFUYXNrOiBVUkxTZXNzaW9uRGF0YVRhc2ssIGNvbXBsZXRpb25IYW5kbGVyOiAoQ2FjaGVkVVJMUmVzcG9uc2U/KSAtPiBWb2lkKSB7fQogICAgb3BlbiBmdW5jIHJlbW92ZUFsbENhY2hlZFJlc3BvbnNlcygpIHt9CiAgICBwdWJsaWMgZnVuYyByZW1vdmVDYWNoZWRSZXNwb25zZShmb3IgZGF0YVRhc2s6IFVSTFNlc3Npb25EYXRhVGFzaykge30KICAgIG9wZW4gZnVuYyByZW1vdmVDYWNoZWRSZXNwb25zZXMoc2luY2UgZGF0ZTogRGF0ZSkge30KICAgIHB1YmxpYyBmdW5jIHN0b3JlQ2FjaGVkUmVzcG9uc2UoXyBjYWNoZWRSZXNwb25zZTogQ2FjaGVkVVJMUmVzcG9uc2UsIGZvciBkYXRhVGFzazogVVJMU2Vzc2lvbkRhdGFUYXNrKSB7fQp9Cm9wZW4gY2xhc3MgVVJMQ3JlZGVudGlhbCA6IEFueU9iamVjdCwgQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TQ29kaW5nLCBOU0NvcHlpbmcsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBOU1NlY3VyZUNvZGluZyB7CiAgICBwdWJsaWMgaW5pdCh1c2VyOiBTdHJpbmcsIHBhc3N3b3JkOiBTdHJpbmcsIHBlcnNpc3RlbmNlOiBQZXJzaXN0ZW5jZSkge30KICAgIG9wZW4gdmFyIGhhc1Bhc3N3b3JkOiBCb29sIHsgZ2V0IH0KICAgIG9wZW4gdmFyIHBhc3N3b3JkOiBTdHJpbmc/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHBlcnNpc3RlbmNlOiBQZXJzaXN0ZW5jZSB7IGdldCB9CiAgICBvcGVuIHZhciB1c2VyOiBTdHJpbmc/IHsgZ2V0IH0KfQpvcGVuIGNsYXNzIFVSTENyZWRlbnRpYWxTdG9yYWdlIDogQW55T2JqZWN0LCBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wgewogICAgb3BlbiBjbGFzcyB2YXIgc2hhcmVkOiBVUkxDcmVkZW50aWFsU3RvcmFnZSB7IGdldCB9CiAgICBvcGVuIHZhciBhbGxDcmVkZW50aWFsczogW1VSTFByb3RlY3Rpb25TcGFjZTogW1N0cmluZzogVVJMQ3JlZGVudGlhbF1dIHsgZ2V0IH0KICAgIG9wZW4gZnVuYyBjcmVkZW50aWFscyhmb3Igc3BhY2U6IFVSTFByb3RlY3Rpb25TcGFjZSkgLT4gW1N0cmluZzogVVJMQ3JlZGVudGlhbF0/IHt9CiAgICBvcGVuIGZ1bmMgZGVmYXVsdENyZWRlbnRpYWwoZm9yIHNwYWNlOiBVUkxQcm90ZWN0aW9uU3BhY2UpIC0+IFVSTENyZWRlbnRpYWw/IHt9CiAgICBwdWJsaWMgZnVuYyBnZXRDcmVkZW50aWFscyhmb3IgcHJvdGVjdGlvblNwYWNlOiBVUkxQcm90ZWN0aW9uU3BhY2UsIHRhc2s6IFVSTFNlc3Npb25UYXNrLCBjb21wbGV0aW9uSGFuZGxlcjogKFtTdHJpbmc6IFVSTENyZWRlbnRpYWxdPykgLT4gVm9pZCkge30KICAgIHB1YmxpYyBmdW5jIGdldERlZmF1bHRDcmVkZW50aWFsKGZvciBzcGFjZTogVVJMUHJvdGVjdGlvblNwYWNlLCB0YXNrOiBVUkxTZXNzaW9uVGFzaywgY29tcGxldGlvbkhhbmRsZXI6IChVUkxDcmVkZW50aWFsPykgLT4gVm9pZCkge30KICAgIG9wZW4gZnVuYyByZW1vdmUoXyBjcmVkZW50aWFsOiBVUkxDcmVkZW50aWFsLCBmb3Igc3BhY2U6IFVSTFByb3RlY3Rpb25TcGFjZSkge30KICAgIG9wZW4gZnVuYyByZW1vdmUoXyBjcmVkZW50aWFsOiBVUkxDcmVkZW50aWFsLCBmb3Igc3BhY2U6IFVSTFByb3RlY3Rpb25TcGFjZSwgb3B0aW9uczogW1N0cmluZzogQW55T2JqZWN0XT8gPSB4KSB7fQogICAgcHVibGljIGZ1bmMgcmVtb3ZlKF8gY3JlZGVudGlhbDogVVJMQ3JlZGVudGlhbCwgZm9yIHByb3RlY3Rpb25TcGFjZTogVVJMUHJvdGVjdGlvblNwYWNlLCBvcHRpb25zOiBbU3RyaW5nOiBBbnlPYmplY3RdPyA9IHgsIHRhc2s6IFVSTFNlc3Npb25UYXNrKSB7fQogICAgb3BlbiBmdW5jIHNldChfIGNyZWRlbnRpYWw6IFVSTENyZWRlbnRpYWwsIGZvciBzcGFjZTogVVJMUHJvdGVjdGlvblNwYWNlKSB7fQogICAgcHVibGljIGZ1bmMgc2V0KF8gY3JlZGVudGlhbDogVVJMQ3JlZGVudGlhbCwgZm9yIHByb3RlY3Rpb25TcGFjZTogVVJMUHJvdGVjdGlvblNwYWNlLCB0YXNrOiBVUkxTZXNzaW9uVGFzaykge30KICAgIG9wZW4gZnVuYyBzZXREZWZhdWx0Q3JlZGVudGlhbChfIGNyZWRlbnRpYWw6IFVSTENyZWRlbnRpYWwsIGZvciBzcGFjZTogVVJMUHJvdGVjdGlvblNwYWNlKSB7fQogICAgcHVibGljIGZ1bmMgc2V0RGVmYXVsdENyZWRlbnRpYWwoXyBjcmVkZW50aWFsOiBVUkxDcmVkZW50aWFsLCBmb3IgcHJvdGVjdGlvblNwYWNlOiBVUkxQcm90ZWN0aW9uU3BhY2UsIHRhc2s6IFVSTFNlc3Npb25UYXNrKSB7fQp9Cm9wZW4gY2xhc3MgVVJMUHJvdGVjdGlvblNwYWNlIDogQW55T2JqZWN0LCBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNDb2RpbmcsIE5TQ29weWluZywgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wsIE5TU2VjdXJlQ29kaW5nIHsKICAgIHB1YmxpYyBpbml0KGhvc3Q6IFN0cmluZywgcG9ydDogSW50LCBwcm90b2NvbDogU3RyaW5nPywgcmVhbG06IFN0cmluZz8sIGF1dGhlbnRpY2F0aW9uTWV0aG9kOiBTdHJpbmc/KSB7fQogICAgcHVibGljIGluaXQocHJveHlIb3N0IGhvc3Q6IFN0cmluZywgcG9ydDogSW50LCB0eXBlOiBTdHJpbmc/LCByZWFsbTogU3RyaW5nPywgYXV0aGVudGljYXRpb25NZXRob2Q6IFN0cmluZz8pIHt9CiAgICBvcGVuIHZhciBhdXRoZW50aWNhdGlvbk1ldGhvZDogU3RyaW5nIHsgZ2V0IH0KICAgIHB1YmxpYyB2YXIgZGlzdGluZ3Vpc2hlZE5hbWVzOiBbRGF0YV0/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGhvc3Q6IFN0cmluZyB7IGdldCB9CiAgICBvcGVuIHZhciBwb3J0OiBJbnQgeyBnZXQgfQogICAgb3BlbiB2YXIgcHJvdG9jb2w6IFN0cmluZz8geyBnZXQgfQogICAgb3BlbiB2YXIgcHJveHlUeXBlOiBTdHJpbmc/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHJlYWxtOiBTdHJpbmc/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHJlY2VpdmVzQ3JlZGVudGlhbFNlY3VyZWx5OiBCb29sIHsgZ2V0IH0KfQpvcGVuIGNsYXNzIFVSTFByb3RvY29sIDogQW55T2JqZWN0LCBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wgewogICAgb3BlbiBjbGFzcyBmdW5jIGNhbkluaXQod2l0aCByZXF1ZXN0OiBVUkxSZXF1ZXN0KSAtPiBCb29sIHt9CiAgICBvcGVuIGNsYXNzIGZ1bmMgY2Fub25pY2FsUmVxdWVzdChmb3IgcmVxdWVzdDogVVJMUmVxdWVzdCkgLT4gVVJMUmVxdWVzdCB7fQogICAgb3BlbiBjbGFzcyBmdW5jIHByb3BlcnR5KGZvcktleSBrZXk6IFN0cmluZywgaW4gcmVxdWVzdDogVVJMUmVxdWVzdCkgLT4gQW55PyB7fQogICAgb3BlbiBjbGFzcyBmdW5jIHJlZ2lzdGVyQ2xhc3MoXyBwcm90b2NvbENsYXNzOiBBbnlDbGFzcykgLT4gQm9vbCB7fQogICAgb3BlbiBjbGFzcyBmdW5jIHJlbW92ZVByb3BlcnR5KGZvcktleSBrZXk6IFN0cmluZywgaW4gcmVxdWVzdDogTlNNdXRhYmxlVVJMUmVxdWVzdCkge30KICAgIG9wZW4gY2xhc3MgZnVuYyByZXF1ZXN0SXNDYWNoZUVxdWl2YWxlbnQoXyBhOiBVUkxSZXF1ZXN0LCB0byBiOiBVUkxSZXF1ZXN0KSAtPiBCb29sIHt9CiAgICBvcGVuIGNsYXNzIGZ1bmMgc2V0UHJvcGVydHkoXyB2YWx1ZTogQW55LCBmb3JLZXkga2V5OiBTdHJpbmcsIGluIHJlcXVlc3Q6IE5TTXV0YWJsZVVSTFJlcXVlc3QpIHt9CiAgICBvcGVuIGNsYXNzIGZ1bmMgdW5yZWdpc3RlckNsYXNzKF8gcHJvdG9jb2xDbGFzczogQW55Q2xhc3MpIHt9CiAgICBwdWJsaWMgcmVxdWlyZWQgaW5pdChyZXF1ZXN0OiBVUkxSZXF1ZXN0LCBjYWNoZWRSZXNwb25zZTogQ2FjaGVkVVJMUmVzcG9uc2U/LCBjbGllbnQ6IFVSTFByb3RvY29sQ2xpZW50Pykge30KICAgIHB1YmxpYyByZXF1aXJlZCBjb252ZW5pZW5jZSBpbml0KHRhc2s6IFVSTFNlc3Npb25UYXNrLCBjYWNoZWRSZXNwb25zZTogQ2FjaGVkVVJMUmVzcG9uc2U/LCBjbGllbnQ6IFVSTFByb3RvY29sQ2xpZW50Pykge30KICAgIG9wZW4gdmFyIGNhY2hlZFJlc3BvbnNlOiBDYWNoZWRVUkxSZXNwb25zZT8geyBnZXQgfQogICAgb3BlbiB2YXIgY2xpZW50OiBVUkxQcm90b2NvbENsaWVudD8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHJlcXVlc3Q6IFVSTFJlcXVlc3QgeyBnZXQgfQogICAgb3BlbiB2YXIgdGFzazogVVJMU2Vzc2lvblRhc2s/IHsgZ2V0IHNldCB9CiAgICBvcGVuIGZ1bmMgc3RhcnRMb2FkaW5nKCkge30KICAgIG9wZW4gZnVuYyBzdG9wTG9hZGluZygpIHt9Cn0Kb3BlbiBjbGFzcyBVUkxSZXNwb25zZSA6IEFueU9iamVjdCwgQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TQ29kaW5nLCBOU0NvcHlpbmcsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBOU1NlY3VyZUNvZGluZyB7CiAgICBwdWJsaWMgaW5pdCh1cmw6IFVSTCwgbWltZVR5cGU6IFN0cmluZz8sIGV4cGVjdGVkQ29udGVudExlbmd0aCBsZW5ndGg6IEludCwgdGV4dEVuY29kaW5nTmFtZSBuYW1lOiBTdHJpbmc/KSB7fQogICAgb3BlbiB2YXIgZXhwZWN0ZWRDb250ZW50TGVuZ3RoOiBJbnQ2NCB7IGdldCB9CiAgICBvcGVuIHZhciBtaW1lVHlwZTogU3RyaW5nPyB7IGdldCB9CiAgICBvcGVuIHZhciBzdWdnZXN0ZWRGaWxlbmFtZTogU3RyaW5nPyB7IGdldCB9CiAgICBvcGVuIHZhciB0ZXh0RW5jb2RpbmdOYW1lOiBTdHJpbmc/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHVybDogVVJMPyB7IGdldCB9Cn0Kb3BlbiBjbGFzcyBVUkxTZXNzaW9uIDogQW55T2JqZWN0LCBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wsIFVSTFNlc3Npb25Qcm90b2NvbCB7CiAgICBvcGVuIGNsYXNzIHZhciBzaGFyZWQ6IFVSTFNlc3Npb24geyBnZXQgfQogICAgcHVibGljIGluaXQoY29uZmlndXJhdGlvbjogVVJMU2Vzc2lvbkNvbmZpZ3VyYXRpb24pIHt9CiAgICBwdWJsaWMgaW5pdChjb25maWd1cmF0aW9uOiBVUkxTZXNzaW9uQ29uZmlndXJhdGlvbiwgZGVsZWdhdGU6IFVSTFNlc3Npb25EZWxlZ2F0ZT8sIGRlbGVnYXRlUXVldWUgcXVldWU6IE9wZXJhdGlvblF1ZXVlPykge30KICAgIG9wZW4gdmFyIGNvbmZpZ3VyYXRpb246IFVSTFNlc3Npb25Db25maWd1cmF0aW9uIHsgZ2V0IH0KICAgIG9wZW4gdmFyIGRlbGVnYXRlOiBVUkxTZXNzaW9uRGVsZWdhdGU/IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBkZWxlZ2F0ZVF1ZXVlOiBPcGVyYXRpb25RdWV1ZSB7IGdldCB9CiAgICBvcGVuIHZhciBzZXNzaW9uRGVzY3JpcHRpb246IFN0cmluZz8geyBnZXQgc2V0IH0KICAgIG9wZW4gZnVuYyBkYXRhVGFzayh3aXRoIHJlcXVlc3Q6IFVSTFJlcXVlc3QpIC0+IFVSTFNlc3Npb25EYXRhVGFzayB7fQogICAgb3BlbiBmdW5jIGRhdGFUYXNrKHdpdGggcmVxdWVzdDogVVJMUmVxdWVzdCwgY29tcGxldGlvbkhhbmRsZXI6IEBlc2NhcGluZyAoRGF0YT8sIFVSTFJlc3BvbnNlPywgRXJyb3I/KSAtPiBWb2lkKSAtPiBVUkxTZXNzaW9uRGF0YVRhc2sge30KICAgIG9wZW4gZnVuYyBkb3dubG9hZFRhc2sod2l0aCByZXF1ZXN0OiBVUkxSZXF1ZXN0KSAtPiBVUkxTZXNzaW9uRG93bmxvYWRUYXNrIHt9CiAgICBvcGVuIGZ1bmMgZG93bmxvYWRUYXNrKHdpdGggcmVxdWVzdDogVVJMUmVxdWVzdCwgY29tcGxldGlvbkhhbmRsZXI6IEBlc2NhcGluZyAoVVJMPywgVVJMUmVzcG9uc2U/LCBFcnJvcj8pIC0+IFZvaWQpIC0+IFVSTFNlc3Npb25Eb3dubG9hZFRhc2sge30KICAgIG9wZW4gZnVuYyBkb3dubG9hZFRhc2sod2l0aFJlc3VtZURhdGEgcmVzdW1lRGF0YTogRGF0YSkgLT4gVVJMU2Vzc2lvbkRvd25sb2FkVGFzayB7fQogICAgb3BlbiBmdW5jIGRvd25sb2FkVGFzayh3aXRoUmVzdW1lRGF0YSByZXN1bWVEYXRhOiBEYXRhLCBjb21wbGV0aW9uSGFuZGxlcjogQGVzY2FwaW5nIChVUkw/LCBVUkxSZXNwb25zZT8sIEVycm9yPykgLT4gVm9pZCkgLT4gVVJMU2Vzc2lvbkRvd25sb2FkVGFzayB7fQogICAgb3BlbiBmdW5jIGZpbmlzaFRhc2tzQW5kSW52YWxpZGF0ZSgpIHt9CiAgICBvcGVuIGZ1bmMgZmx1c2goY29tcGxldGlvbkhhbmRsZXI6IEBlc2NhcGluZyAoKSAtPiBWb2lkKSB7fQogICAgb3BlbiBmdW5jIGdldEFsbFRhc2tzKGNvbXBsZXRpb25IYW5kbGVyOiBAZXNjYXBpbmcgKFtVUkxTZXNzaW9uVGFza10pIC0+IFZvaWQpIHt9CiAgICBvcGVuIGZ1bmMgZ2V0VGFza3NXaXRoQ29tcGxldGlvbkhhbmRsZXIoY29tcGxldGlvbkhhbmRsZXI6IEBlc2NhcGluZyAoW1VSTFNlc3Npb25EYXRhVGFza10sIFtVUkxTZXNzaW9uVXBsb2FkVGFza10sIFtVUkxTZXNzaW9uRG93bmxvYWRUYXNrXSkgLT4gVm9pZCkge30KICAgIG9wZW4gZnVuYyBpbnZhbGlkYXRlQW5kQ2FuY2VsKCkge30KICAgIG9wZW4gZnVuYyByZXNldChjb21wbGV0aW9uSGFuZGxlcjogQGVzY2FwaW5nICgpIC0+IFZvaWQpIHt9CiAgICBvcGVuIGZ1bmMgc3RyZWFtVGFzayh3aXRoSG9zdE5hbWUgaG9zdG5hbWU6IFN0cmluZywgcG9ydDogSW50KSAtPiBVUkxTZXNzaW9uU3RyZWFtVGFzayB7fQogICAgb3BlbiBmdW5jIHVwbG9hZFRhc2sod2l0aCByZXF1ZXN0OiBVUkxSZXF1ZXN0LCBmcm9tIGJvZHlEYXRhOiBEYXRhKSAtPiBVUkxTZXNzaW9uVXBsb2FkVGFzayB7fQogICAgb3BlbiBmdW5jIHVwbG9hZFRhc2sod2l0aCByZXF1ZXN0OiBVUkxSZXF1ZXN0LCBmcm9tIGJvZHlEYXRhOiBEYXRhPywgY29tcGxldGlvbkhhbmRsZXI6IEBlc2NhcGluZyAoRGF0YT8sIFVSTFJlc3BvbnNlPywgRXJyb3I/KSAtPiBWb2lkKSAtPiBVUkxTZXNzaW9uVXBsb2FkVGFzayB7fQogICAgb3BlbiBmdW5jIHVwbG9hZFRhc2sod2l0aCByZXF1ZXN0OiBVUkxSZXF1ZXN0LCBmcm9tRmlsZSBmaWxlVVJMOiBVUkwpIC0+IFVSTFNlc3Npb25VcGxvYWRUYXNrIHt9CiAgICBvcGVuIGZ1bmMgdXBsb2FkVGFzayh3aXRoIHJlcXVlc3Q6IFVSTFJlcXVlc3QsIGZyb21GaWxlIGZpbGVVUkw6IFVSTCwgY29tcGxldGlvbkhhbmRsZXI6IEBlc2NhcGluZyAoRGF0YT8sIFVSTFJlc3BvbnNlPywgRXJyb3I/KSAtPiBWb2lkKSAtPiBVUkxTZXNzaW9uVXBsb2FkVGFzayB7fQogICAgb3BlbiBmdW5jIHVwbG9hZFRhc2sod2l0aFN0cmVhbWVkUmVxdWVzdCByZXF1ZXN0OiBVUkxSZXF1ZXN0KSAtPiBVUkxTZXNzaW9uVXBsb2FkVGFzayB7fQp9Cm9wZW4gY2xhc3MgVVJMU2Vzc2lvbkNvbmZpZ3VyYXRpb24gOiBBbnlPYmplY3QsIEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU0NvcHlpbmcsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sIHsKICAgIG9wZW4gY2xhc3MgdmFyIGRlZmF1bHQ6IFVSTFNlc3Npb25Db25maWd1cmF0aW9uIHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgdmFyIGVwaGVtZXJhbDogVVJMU2Vzc2lvbkNvbmZpZ3VyYXRpb24geyBnZXQgfQogICAgb3BlbiBjbGFzcyBmdW5jIGJhY2tncm91bmQod2l0aElkZW50aWZpZXIgaWRlbnRpZmllcjogU3RyaW5nKSAtPiBVUkxTZXNzaW9uQ29uZmlndXJhdGlvbiB7fQogICAgb3BlbiB2YXIgYWxsb3dzQ2VsbHVsYXJBY2Nlc3M6IEJvb2wgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGNvbm5lY3Rpb25Qcm94eURpY3Rpb25hcnk6IFtBbnlIYXNoYWJsZTogQW55XT8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGh0dHBBZGRpdGlvbmFsSGVhZGVyczogW0FueUhhc2hhYmxlOiBBbnldPyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgaHR0cENvb2tpZUFjY2VwdFBvbGljeTogSFRUUENvb2tpZS5BY2NlcHRQb2xpY3kgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGh0dHBDb29raWVTdG9yYWdlOiBIVFRQQ29va2llU3RvcmFnZT8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGh0dHBNYXhpbXVtQ29ubmVjdGlvbnNQZXJIb3N0OiBJbnQgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGh0dHBTaG91bGRTZXRDb29raWVzOiBCb29sIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBodHRwU2hvdWxkVXNlUGlwZWxpbmluZzogQm9vbCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgaWRlbnRpZmllcjogU3RyaW5nPyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgaXNEaXNjcmV0aW9uYXJ5OiBCb29sIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBuZXR3b3JrU2VydmljZVR5cGU6IFVSTFJlcXVlc3QuTmV0d29ya1NlcnZpY2VUeXBlIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBwcm90b2NvbENsYXNzZXM6IFtBbnlDbGFzc10/IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciByZXF1ZXN0Q2FjaGVQb2xpY3k6IFVSTFJlcXVlc3QuQ2FjaGVQb2xpY3kgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHNoYXJlZENvbnRhaW5lcklkZW50aWZpZXI6IFN0cmluZz8geyBnZXQgfQogICAgb3BlbiB2YXIgc2hvdWxkVXNlRXh0ZW5kZWRCYWNrZ3JvdW5kSWRsZU1vZGU6IEJvb2wgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHRpbWVvdXRJbnRlcnZhbEZvclJlcXVlc3Q6IFRpbWVJbnRlcnZhbCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgdGltZW91dEludGVydmFsRm9yUmVzb3VyY2U6IFRpbWVJbnRlcnZhbCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgdXJsQ2FjaGU6IFVSTENhY2hlPyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgdXJsQ3JlZGVudGlhbFN0b3JhZ2U6IFVSTENyZWRlbnRpYWxTdG9yYWdlPyB7IGdldCBzZXQgfQp9Cm9wZW4gY2xhc3MgVVJMU2Vzc2lvbkRhdGFUYXNrIDogQW55T2JqZWN0LCBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNDb3B5aW5nLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCwgUHJvZ3Jlc3NSZXBvcnRpbmcsIFVSTFNlc3Npb25UYXNrIHsKfQpvcGVuIGNsYXNzIFVSTFNlc3Npb25Eb3dubG9hZFRhc2sgOiBBbnlPYmplY3QsIEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU0NvcHlpbmcsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBQcm9ncmVzc1JlcG9ydGluZywgVVJMU2Vzc2lvblRhc2sgewogICAgb3BlbiBmdW5jIGNhbmNlbChieVByb2R1Y2luZ1Jlc3VtZURhdGEgY29tcGxldGlvbkhhbmRsZXI6IEBlc2NhcGluZyAoRGF0YT8pIC0+IFZvaWQpIHt9Cn0Kb3BlbiBjbGFzcyBVUkxTZXNzaW9uU3RyZWFtVGFzayA6IEFueU9iamVjdCwgQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TQ29weWluZywgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wsIFByb2dyZXNzUmVwb3J0aW5nLCBVUkxTZXNzaW9uVGFzayB7CiAgICBvcGVuIGZ1bmMgY2FwdHVyZVN0cmVhbXMoKSB7fQogICAgb3BlbiBmdW5jIGNsb3NlUmVhZCgpIHt9CiAgICBvcGVuIGZ1bmMgY2xvc2VXcml0ZSgpIHt9CiAgICBvcGVuIGZ1bmMgcmVhZERhdGEob2ZNaW5MZW5ndGggbWluQnl0ZXM6IEludCwgbWF4TGVuZ3RoIG1heEJ5dGVzOiBJbnQsIHRpbWVvdXQ6IFRpbWVJbnRlcnZhbCwgY29tcGxldGlvbkhhbmRsZXI6IEBlc2NhcGluZyAoRGF0YT8sIEJvb2wsIEVycm9yPykgLT4gVm9pZCkge30KICAgIG9wZW4gZnVuYyBzdGFydFNlY3VyZUNvbm5lY3Rpb24oKSB7fQogICAgb3BlbiBmdW5jIHN0b3BTZWN1cmVDb25uZWN0aW9uKCkge30KICAgIG9wZW4gZnVuYyB3cml0ZShfIGRhdGE6IERhdGEsIHRpbWVvdXQ6IFRpbWVJbnRlcnZhbCwgY29tcGxldGlvbkhhbmRsZXI6IEBlc2NhcGluZyAoRXJyb3I/KSAtPiBWb2lkKSB7fQp9Cm9wZW4gY2xhc3MgVVJMU2Vzc2lvblRhc2sgOiBBbnlPYmplY3QsIEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU0NvcHlpbmcsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBQcm9ncmVzc1JlcG9ydGluZyB7CiAgICBwdWJsaWMgc3RhdGljIHZhciBkZWZhdWx0UHJpb3JpdHk6IEZsb2F0IHsgZ2V0IH0KICAgIHB1YmxpYyBzdGF0aWMgdmFyIGhpZ2hQcmlvcml0eTogRmxvYXQgeyBnZXQgfQogICAgcHVibGljIHN0YXRpYyB2YXIgbG93UHJpb3JpdHk6IEZsb2F0IHsgZ2V0IH0KICAgIHB1YmxpYyB2YXIgY291bnRPZkJ5dGVzQ2xpZW50RXhwZWN0c1RvUmVjZWl2ZTogSW50NjQgeyBnZXQgfQogICAgcHVibGljIHZhciBjb3VudE9mQnl0ZXNDbGllbnRFeHBlY3RzVG9TZW5kOiBJbnQ2NCB7IGdldCB9CiAgICBvcGVuIHZhciBjb3VudE9mQnl0ZXNFeHBlY3RlZFRvUmVjZWl2ZTogSW50NjQgeyBnZXQgfQogICAgb3BlbiB2YXIgY291bnRPZkJ5dGVzRXhwZWN0ZWRUb1NlbmQ6IEludDY0IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGNvdW50T2ZCeXRlc1JlY2VpdmVkOiBJbnQ2NCB7IGdldCB9CiAgICBvcGVuIHZhciBjb3VudE9mQnl0ZXNTZW50OiBJbnQ2NCB7IGdldCB9CiAgICBvcGVuIHZhciBjdXJyZW50UmVxdWVzdDogVVJMUmVxdWVzdD8geyBnZXQgfQogICAgcHVibGljIHZhciBlYXJsaWVzdEJlZ2luRGF0ZTogRGF0ZT8geyBnZXQgfQogICAgb3BlbiB2YXIgZXJyb3I6IEVycm9yPyB7IGdldCB9CiAgICBvcGVuIHZhciBvcmlnaW5hbFJlcXVlc3Q6IFVSTFJlcXVlc3Q/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHByaW9yaXR5OiBGbG9hdCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgcmVzcG9uc2U6IFVSTFJlc3BvbnNlPyB7IGdldCB9CiAgICBvcGVuIHZhciBzdGF0ZTogVVJMU2Vzc2lvblRhc2suU3RhdGUgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHRhc2tEZXNjcmlwdGlvbjogU3RyaW5nPyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgdGFza0lkZW50aWZpZXI6IEludCB7IGdldCB9CiAgICBvcGVuIGZ1bmMgY2FuY2VsKCkge30KICAgIG9wZW4gZnVuYyByZXN1bWUoKSB7fQogICAgb3BlbiBmdW5jIHN1c3BlbmQoKSB7fQp9Cm9wZW4gY2xhc3MgVVJMU2Vzc2lvblVwbG9hZFRhc2sgOiBBbnlPYmplY3QsIEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU0NvcHlpbmcsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBQcm9ncmVzc1JlcG9ydGluZywgVVJMU2Vzc2lvbkRhdGFUYXNrLCBVUkxTZXNzaW9uVGFzayB7Cn0Kb3BlbiBjbGFzcyBVbml0IDogQW55T2JqZWN0LCBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNDb2RpbmcsIE5TQ29weWluZywgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wsIE5TU2VjdXJlQ29kaW5nIHsKICAgIHB1YmxpYyByZXF1aXJlZCBpbml0KHN5bWJvbDogU3RyaW5nKSB7fQogICAgb3BlbiB2YXIgc3ltYm9sOiBTdHJpbmcgeyBnZXQgfQp9Cm9wZW4gY2xhc3MgVW5pdENvbnZlcnRlciA6IEFueU9iamVjdCwgQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sIHsKICAgIG9wZW4gZnVuYyBiYXNlVW5pdFZhbHVlKGZyb21WYWx1ZSB2YWx1ZTogRG91YmxlKSAtPiBEb3VibGUge30KICAgIG9wZW4gZnVuYyB2YWx1ZShmcm9tQmFzZVVuaXRWYWx1ZSBiYXNlVW5pdFZhbHVlOiBEb3VibGUpIC0+IERvdWJsZSB7fQp9Cm9wZW4gY2xhc3MgVW5pdENvbnZlcnRlckxpbmVhciA6IEFueU9iamVjdCwgQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TQ29kaW5nLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCwgTlNTZWN1cmVDb2RpbmcsIFVuaXRDb252ZXJ0ZXIgewogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQoY29lZmZpY2llbnQ6IERvdWJsZSkge30KICAgIHB1YmxpYyBpbml0KGNvZWZmaWNpZW50OiBEb3VibGUsIGNvbnN0YW50OiBEb3VibGUpIHt9CiAgICBvcGVuIHZhciBjb2VmZmljaWVudDogRG91YmxlIHsgZ2V0IH0KICAgIG9wZW4gdmFyIGNvbnN0YW50OiBEb3VibGUgeyBnZXQgfQp9Cm9wZW4gY2xhc3MgVXNlckRlZmF1bHRzIDogQW55T2JqZWN0LCBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wgewogICAgcHVibGljIHN0YXRpYyB2YXIgYXJndW1lbnREb21haW46IFN0cmluZyB7IGdldCB9CiAgICBwdWJsaWMgc3RhdGljIHZhciBkaWRDaGFuZ2VOb3RpZmljYXRpb24geyBnZXQgfQogICAgcHVibGljIHN0YXRpYyB2YXIgZ2xvYmFsRG9tYWluOiBTdHJpbmcgeyBnZXQgfQogICAgcHVibGljIHN0YXRpYyB2YXIgcmVnaXN0cmF0aW9uRG9tYWluOiBTdHJpbmcgeyBnZXQgfQogICAgb3BlbiBjbGFzcyB2YXIgc3RhbmRhcmQ6IFVzZXJEZWZhdWx0cyB7IGdldCB9CiAgICBvcGVuIGNsYXNzIGZ1bmMgcmVzZXRTdGFuZGFyZFVzZXJEZWZhdWx0cygpIHt9CiAgICBwdWJsaWMgaW5pdD8oc3VpdGVOYW1lIHN1aXRlbmFtZTogU3RyaW5nPykge30KICAgIG9wZW4gdmFyIHZvbGF0aWxlRG9tYWluTmFtZXM6IFtTdHJpbmddIHsgZ2V0IH0KICAgIG9wZW4gZnVuYyBhZGRTdWl0ZShuYW1lZCBzdWl0ZU5hbWU6IFN0cmluZykge30KICAgIG9wZW4gZnVuYyBhcnJheShmb3JLZXkgZGVmYXVsdE5hbWU6IFN0cmluZykgLT4gW0FueV0/IHt9CiAgICBvcGVuIGZ1bmMgYm9vbChmb3JLZXkgZGVmYXVsdE5hbWU6IFN0cmluZykgLT4gQm9vbCB7fQogICAgb3BlbiBmdW5jIGRhdGEoZm9yS2V5IGRlZmF1bHROYW1lOiBTdHJpbmcpIC0+IERhdGE/IHt9CiAgICBvcGVuIGZ1bmMgZGljdGlvbmFyeShmb3JLZXkgZGVmYXVsdE5hbWU6IFN0cmluZykgLT4gW1N0cmluZzogQW55XT8ge30KICAgIG9wZW4gZnVuYyBkaWN0aW9uYXJ5UmVwcmVzZW50YXRpb24oKSAtPiBbU3RyaW5nOiBBbnldIHt9CiAgICBvcGVuIGZ1bmMgZG91YmxlKGZvcktleSBkZWZhdWx0TmFtZTogU3RyaW5nKSAtPiBEb3VibGUge30KICAgIG9wZW4gZnVuYyBmbG9hdChmb3JLZXkgZGVmYXVsdE5hbWU6IFN0cmluZykgLT4gRmxvYXQge30KICAgIG9wZW4gZnVuYyBpbnRlZ2VyKGZvcktleSBkZWZhdWx0TmFtZTogU3RyaW5nKSAtPiBJbnQge30KICAgIG9wZW4gZnVuYyBvYmplY3QoZm9yS2V5IGRlZmF1bHROYW1lOiBTdHJpbmcpIC0+IEFueT8ge30KICAgIG9wZW4gZnVuYyBvYmplY3RJc0ZvcmNlZChmb3JLZXkga2V5OiBTdHJpbmcpIC0+IEJvb2wge30KICAgIG9wZW4gZnVuYyBvYmplY3RJc0ZvcmNlZChmb3JLZXkga2V5OiBTdHJpbmcsIGluRG9tYWluIGRvbWFpbjogU3RyaW5nKSAtPiBCb29sIHt9CiAgICBvcGVuIGZ1bmMgcGVyc2lzdGVudERvbWFpbihmb3JOYW1lIGRvbWFpbk5hbWU6IFN0cmluZykgLT4gW1N0cmluZzogQW55XT8ge30KICAgIG9wZW4gZnVuYyByZWdpc3RlcihkZWZhdWx0cyByZWdpc3RyYXRpb25EaWN0aW9uYXJ5OiBbU3RyaW5nOiBBbnldKSB7fQogICAgb3BlbiBmdW5jIHJlbW92ZU9iamVjdChmb3JLZXkgZGVmYXVsdE5hbWU6IFN0cmluZykge30KICAgIG9wZW4gZnVuYyByZW1vdmVQZXJzaXN0ZW50RG9tYWluKGZvck5hbWUgZG9tYWluTmFtZTogU3RyaW5nKSB7fQogICAgb3BlbiBmdW5jIHJlbW92ZVN1aXRlKG5hbWVkIHN1aXRlTmFtZTogU3RyaW5nKSB7fQogICAgb3BlbiBmdW5jIHJlbW92ZVZvbGF0aWxlRG9tYWluKGZvck5hbWUgZG9tYWluTmFtZTogU3RyaW5nKSB7fQogICAgb3BlbiBmdW5jIHNldChfIHVybDogVVJMPywgZm9yS2V5IGRlZmF1bHROYW1lOiBTdHJpbmcpIHt9CiAgICBvcGVuIGZ1bmMgc2V0UGVyc2lzdGVudERvbWFpbihfIGRvbWFpbjogW1N0cmluZzogQW55XSwgZm9yTmFtZSBkb21haW5OYW1lOiBTdHJpbmcpIHt9CiAgICBvcGVuIGZ1bmMgc2V0Vm9sYXRpbGVEb21haW4oXyBkb21haW46IFtTdHJpbmc6IEFueV0sIGZvck5hbWUgZG9tYWluTmFtZTogU3RyaW5nKSB7fQogICAgb3BlbiBmdW5jIHN0cmluZyhmb3JLZXkgZGVmYXVsdE5hbWU6IFN0cmluZykgLT4gU3RyaW5nPyB7fQogICAgb3BlbiBmdW5jIHN0cmluZ0FycmF5KGZvcktleSBkZWZhdWx0TmFtZTogU3RyaW5nKSAtPiBbU3RyaW5nXT8ge30KICAgIEBkaXNjYXJkYWJsZVJlc3VsdCBvcGVuIGZ1bmMgc3luY2hyb25pemUoKSAtPiBCb29sIHt9CiAgICBvcGVuIGZ1bmMgdXJsKGZvcktleSBkZWZhdWx0TmFtZTogU3RyaW5nKSAtPiBVUkw/IHt9CiAgICBvcGVuIGZ1bmMgdm9sYXRpbGVEb21haW4oZm9yTmFtZSBkb21haW5OYW1lOiBTdHJpbmcpIC0+IFtTdHJpbmc6IEFueV0ge30KfQpvcGVuIGNsYXNzIFhNTERURCA6IEFueU9iamVjdCwgQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TQ29weWluZywgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wsIFhNTE5vZGUsIF9OU1hNTE5vZGVDb2xsZWN0aW9uVHlwZSB7CiAgICBvcGVuIGNsYXNzIGZ1bmMgcHJlZGVmaW5lZEVudGl0eURlY2xhcmF0aW9uKGZvck5hbWUgbmFtZTogU3RyaW5nKSAtPiBYTUxEVEROb2RlPyB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQoY29udGVudHNPZiB1cmw6IFVSTCwgb3B0aW9ucyBtYXNrOiBYTUxOb2RlLk9wdGlvbnMgPSB4KSB0aHJvd3Mge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KGRhdGE6IERhdGEsIG9wdGlvbnMgbWFzazogWE1MTm9kZS5PcHRpb25zID0geCkgdGhyb3dzIHt9CiAgICBvcGVuIHZhciBwdWJsaWNJRDogU3RyaW5nPyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgc3lzdGVtSUQ6IFN0cmluZz8geyBnZXQgc2V0IH0KICAgIG9wZW4gZnVuYyBhZGRDaGlsZChfIGNoaWxkOiBYTUxOb2RlKSB7fQogICAgb3BlbiBmdW5jIGF0dHJpYnV0ZURlY2xhcmF0aW9uKGZvck5hbWUgbmFtZTogU3RyaW5nLCBlbGVtZW50TmFtZTogU3RyaW5nKSAtPiBYTUxEVEROb2RlPyB7fQogICAgb3BlbiBmdW5jIGVsZW1lbnREZWNsYXJhdGlvbihmb3JOYW1lIG5hbWU6IFN0cmluZykgLT4gWE1MRFRETm9kZT8ge30KICAgIG9wZW4gZnVuYyBlbnRpdHlEZWNsYXJhdGlvbihmb3JOYW1lIG5hbWU6IFN0cmluZykgLT4gWE1MRFRETm9kZT8ge30KICAgIG9wZW4gZnVuYyBpbnNlcnRDaGlsZChfIGNoaWxkOiBYTUxOb2RlLCBhdCBpbmRleDogSW50KSB7fQogICAgb3BlbiBmdW5jIGluc2VydENoaWxkcmVuKF8gY2hpbGRyZW46IFtYTUxOb2RlXSwgYXQgaW5kZXg6IEludCkge30KICAgIG9wZW4gZnVuYyBub3RhdGlvbkRlY2xhcmF0aW9uKGZvck5hbWUgbmFtZTogU3RyaW5nKSAtPiBYTUxEVEROb2RlPyB7fQogICAgb3BlbiBmdW5jIHJlbW92ZUNoaWxkKGF0IGluZGV4OiBJbnQpIHt9CiAgICBvcGVuIGZ1bmMgcmVwbGFjZUNoaWxkKGF0IGluZGV4OiBJbnQsIHdpdGggbm9kZTogWE1MTm9kZSkge30KICAgIG9wZW4gZnVuYyBzZXRDaGlsZHJlbihfIGNoaWxkcmVuOiBbWE1MTm9kZV0/KSB7fQp9Cm9wZW4gY2xhc3MgWE1MRFRETm9kZSA6IEFueU9iamVjdCwgQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TQ29weWluZywgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wsIFhNTE5vZGUsIF9OU1hNTE5vZGVDb2xsZWN0aW9uVHlwZSB7CiAgICBwdWJsaWMgaW5pdD8oeG1sU3RyaW5nIHN0cmluZzogU3RyaW5nKSB7fQogICAgb3BlbiB2YXIgZHRkS2luZDogWE1MRFRETm9kZS5EVERLaW5kIHsgZ2V0IH0KICAgIG9wZW4gdmFyIGlzRXh0ZXJuYWw6IEJvb2wgeyBnZXQgfQogICAgb3BlbiB2YXIgbm90YXRpb25OYW1lOiBTdHJpbmc/IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBwdWJsaWNJRDogU3RyaW5nPyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgc3lzdGVtSUQ6IFN0cmluZz8geyBnZXQgc2V0IH0KfQpvcGVuIGNsYXNzIFhNTERvY3VtZW50IDogQW55T2JqZWN0LCBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNDb3B5aW5nLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCwgWE1MTm9kZSwgX05TWE1MTm9kZUNvbGxlY3Rpb25UeXBlIHsKICAgIG9wZW4gY2xhc3MgZnVuYyByZXBsYWNlbWVudENsYXNzKGZvciBjbHM6IEFueUNsYXNzKSAtPiBBbnlDbGFzcyB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQoY29udGVudHNPZiB1cmw6IFVSTCwgb3B0aW9ucyBtYXNrOiBYTUxOb2RlLk9wdGlvbnMgPSB4KSB0aHJvd3Mge30KICAgIHB1YmxpYyBpbml0KGRhdGE6IERhdGEsIG9wdGlvbnMgbWFzazogWE1MTm9kZS5PcHRpb25zID0geCkgdGhyb3dzIHt9CiAgICBwdWJsaWMgaW5pdChyb290RWxlbWVudCBlbGVtZW50OiBYTUxFbGVtZW50Pykge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KHhtbFN0cmluZyBzdHJpbmc6IFN0cmluZywgb3B0aW9ucyBtYXNrOiBYTUxOb2RlLk9wdGlvbnMgPSB4KSB0aHJvd3Mge30KICAgIG9wZW4gdmFyIGNoYXJhY3RlckVuY29kaW5nOiBTdHJpbmc/IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBkb2N1bWVudENvbnRlbnRLaW5kOiBYTUxEb2N1bWVudC5Db250ZW50S2luZCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgZHRkOiBYTUxEVEQ/IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBpc1N0YW5kYWxvbmU6IEJvb2wgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIG1pbWVUeXBlOiBTdHJpbmc/IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciB2ZXJzaW9uOiBTdHJpbmc/IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciB4bWxEYXRhOiBEYXRhIHsgZ2V0IH0KICAgIG9wZW4gZnVuYyBhZGRDaGlsZChfIGNoaWxkOiBYTUxOb2RlKSB7fQogICAgb3BlbiBmdW5jIGluc2VydENoaWxkKF8gY2hpbGQ6IFhNTE5vZGUsIGF0IGluZGV4OiBJbnQpIHt9CiAgICBvcGVuIGZ1bmMgaW5zZXJ0Q2hpbGRyZW4oXyBjaGlsZHJlbjogW1hNTE5vZGVdLCBhdCBpbmRleDogSW50KSB7fQogICAgb3BlbiBmdW5jIG9iamVjdChieUFwcGx5aW5nWFNMVCB4c2x0OiBEYXRhLCBhcmd1bWVudHM6IFtTdHJpbmc6IFN0cmluZ10/KSB0aHJvd3MgLT4gQW55IHt9CiAgICBvcGVuIGZ1bmMgb2JqZWN0KGJ5QXBwbHlpbmdYU0xUU3RyaW5nIHhzbHQ6IFN0cmluZywgYXJndW1lbnRzOiBbU3RyaW5nOiBTdHJpbmddPykgdGhyb3dzIC0+IEFueSB7fQogICAgb3BlbiBmdW5jIG9iamVjdEJ5QXBwbHlpbmdYU0xUKGF0IHhzbHRVUkw6IFVSTCwgYXJndW1lbnRzIGFyZ3VtZW50OiBbU3RyaW5nOiBTdHJpbmddPykgdGhyb3dzIC0+IEFueSB7fQogICAgb3BlbiBmdW5jIHJlbW92ZUNoaWxkKGF0IGluZGV4OiBJbnQpIHt9CiAgICBvcGVuIGZ1bmMgcmVwbGFjZUNoaWxkKGF0IGluZGV4OiBJbnQsIHdpdGggbm9kZTogWE1MTm9kZSkge30KICAgIG9wZW4gZnVuYyByb290RWxlbWVudCgpIC0+IFhNTEVsZW1lbnQ/IHt9CiAgICBvcGVuIGZ1bmMgc2V0Q2hpbGRyZW4oXyBjaGlsZHJlbjogW1hNTE5vZGVdPykge30KICAgIG9wZW4gZnVuYyBzZXRSb290RWxlbWVudChfIHJvb3Q6IFhNTEVsZW1lbnQpIHt9CiAgICBvcGVuIGZ1bmMgdmFsaWRhdGUoKSB0aHJvd3Mge30KICAgIG9wZW4gZnVuYyB4bWxEYXRhKG9wdGlvbnM6IFhNTE5vZGUuT3B0aW9ucyA9IHgpIC0+IERhdGEge30KfQpvcGVuIGNsYXNzIFhNTEVsZW1lbnQgOiBBbnlPYmplY3QsIEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU0NvcHlpbmcsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBYTUxOb2RlLCBfTlNYTUxOb2RlQ29sbGVjdGlvblR5cGUgewogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQobmFtZTogU3RyaW5nKSB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQobmFtZTogU3RyaW5nLCBzdHJpbmdWYWx1ZSBzdHJpbmc6IFN0cmluZz8pIHt9CiAgICBwdWJsaWMgaW5pdChuYW1lOiBTdHJpbmcsIHVyaSBVUkk6IFN0cmluZz8pIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdCh4bWxTdHJpbmcgc3RyaW5nOiBTdHJpbmcpIHRocm93cyB7fQogICAgb3BlbiB2YXIgYXR0cmlidXRlczogW1hNTE5vZGVdPyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgbmFtZXNwYWNlczogW1hNTE5vZGVdPyB7IGdldCBzZXQgfQogICAgb3BlbiBmdW5jIGFkZEF0dHJpYnV0ZShfIGF0dHJpYnV0ZTogWE1MTm9kZSkge30KICAgIG9wZW4gZnVuYyBhZGRDaGlsZChfIGNoaWxkOiBYTUxOb2RlKSB7fQogICAgb3BlbiBmdW5jIGFkZE5hbWVzcGFjZShfIGFOYW1lc3BhY2U6IFhNTE5vZGUpIHt9CiAgICBvcGVuIGZ1bmMgYXR0cmlidXRlKGZvckxvY2FsTmFtZSBsb2NhbE5hbWU6IFN0cmluZywgdXJpIFVSSTogU3RyaW5nPykgLT4gWE1MTm9kZT8ge30KICAgIG9wZW4gZnVuYyBhdHRyaWJ1dGUoZm9yTmFtZSBuYW1lOiBTdHJpbmcpIC0+IFhNTE5vZGU/IHt9CiAgICBvcGVuIGZ1bmMgZWxlbWVudHMoZm9yTG9jYWxOYW1lIGxvY2FsTmFtZTogU3RyaW5nLCB1cmkgVVJJOiBTdHJpbmc/KSAtPiBbWE1MRWxlbWVudF0ge30KICAgIG9wZW4gZnVuYyBlbGVtZW50cyhmb3JOYW1lIG5hbWU6IFN0cmluZykgLT4gW1hNTEVsZW1lbnRdIHt9CiAgICBvcGVuIGZ1bmMgaW5zZXJ0Q2hpbGQoXyBjaGlsZDogWE1MTm9kZSwgYXQgaW5kZXg6IEludCkge30KICAgIG9wZW4gZnVuYyBpbnNlcnRDaGlsZHJlbihfIGNoaWxkcmVuOiBbWE1MTm9kZV0sIGF0IGluZGV4OiBJbnQpIHt9CiAgICBvcGVuIGZ1bmMgbmFtZXNwYWNlKGZvclByZWZpeCBuYW1lOiBTdHJpbmcpIC0+IFhNTE5vZGU/IHt9CiAgICBvcGVuIGZ1bmMgbm9ybWFsaXplQWRqYWNlbnRUZXh0Tm9kZXNQcmVzZXJ2aW5nQ0RBVEEoXyBwcmVzZXJ2ZTogQm9vbCkge30KICAgIG9wZW4gZnVuYyByZW1vdmVBdHRyaWJ1dGUoZm9yTmFtZSBuYW1lOiBTdHJpbmcpIHt9CiAgICBvcGVuIGZ1bmMgcmVtb3ZlQ2hpbGQoYXQgaW5kZXg6IEludCkge30KICAgIG9wZW4gZnVuYyByZW1vdmVOYW1lc3BhY2UoZm9yUHJlZml4IG5hbWU6IFN0cmluZykge30KICAgIG9wZW4gZnVuYyByZXBsYWNlQ2hpbGQoYXQgaW5kZXg6IEludCwgd2l0aCBub2RlOiBYTUxOb2RlKSB7fQogICAgb3BlbiBmdW5jIHJlc29sdmVOYW1lc3BhY2UoZm9yTmFtZSBuYW1lOiBTdHJpbmcpIC0+IFhNTE5vZGU/IHt9CiAgICBvcGVuIGZ1bmMgcmVzb2x2ZVByZWZpeChmb3JOYW1lc3BhY2VVUkkgbmFtZXNwYWNlVVJJOiBTdHJpbmcpIC0+IFN0cmluZz8ge30KICAgIG9wZW4gZnVuYyBzZXRBdHRyaWJ1dGVzV2l0aChfIGF0dHJpYnV0ZXM6IFtTdHJpbmc6IFN0cmluZ10pIHt9CiAgICBvcGVuIGZ1bmMgc2V0Q2hpbGRyZW4oXyBjaGlsZHJlbjogW1hNTE5vZGVdPykge30KfQpvcGVuIGNsYXNzIFhNTE5vZGUgOiBBbnlPYmplY3QsIEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU0NvcHlpbmcsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBfTlNYTUxOb2RlQ29sbGVjdGlvblR5cGUgewogICAgb3BlbiBjbGFzcyBmdW5jIGF0dHJpYnV0ZSh3aXRoTmFtZSBuYW1lOiBTdHJpbmcsIHN0cmluZ1ZhbHVlOiBTdHJpbmcpIC0+IEFueSB7fQogICAgb3BlbiBjbGFzcyBmdW5jIGF0dHJpYnV0ZSh3aXRoTmFtZSBuYW1lOiBTdHJpbmcsIHVyaTogU3RyaW5nLCBzdHJpbmdWYWx1ZTogU3RyaW5nKSAtPiBBbnkge30KICAgIG9wZW4gY2xhc3MgZnVuYyBjb21tZW50KHdpdGhTdHJpbmdWYWx1ZSBzdHJpbmdWYWx1ZTogU3RyaW5nKSAtPiBBbnkge30KICAgIG9wZW4gY2xhc3MgZnVuYyBkb2N1bWVudCgpIC0+IEFueSB7fQogICAgb3BlbiBjbGFzcyBmdW5jIGRvY3VtZW50KHdpdGhSb290RWxlbWVudCBlbGVtZW50OiBYTUxFbGVtZW50KSAtPiBBbnkge30KICAgIG9wZW4gY2xhc3MgZnVuYyBkdGROb2RlKHdpdGhYTUxTdHJpbmcgc3RyaW5nOiBTdHJpbmcpIC0+IEFueT8ge30KICAgIG9wZW4gY2xhc3MgZnVuYyBlbGVtZW50KHdpdGhOYW1lIG5hbWU6IFN0cmluZykgLT4gQW55IHt9CiAgICBvcGVuIGNsYXNzIGZ1bmMgZWxlbWVudCh3aXRoTmFtZSBuYW1lOiBTdHJpbmcsIGNoaWxkcmVuOiBbWE1MTm9kZV0/LCBhdHRyaWJ1dGVzOiBbWE1MTm9kZV0/KSAtPiBBbnkge30KICAgIG9wZW4gY2xhc3MgZnVuYyBlbGVtZW50KHdpdGhOYW1lIG5hbWU6IFN0cmluZywgc3RyaW5nVmFsdWUgc3RyaW5nOiBTdHJpbmcpIC0+IEFueSB7fQogICAgb3BlbiBjbGFzcyBmdW5jIGVsZW1lbnQod2l0aE5hbWUgbmFtZTogU3RyaW5nLCB1cmk6IFN0cmluZykgLT4gQW55IHt9CiAgICBvcGVuIGNsYXNzIGZ1bmMgbG9jYWxOYW1lKGZvck5hbWUgbmFtZTogU3RyaW5nKSAtPiBTdHJpbmcge30KICAgIG9wZW4gY2xhc3MgZnVuYyBuYW1lc3BhY2Uod2l0aE5hbWUgbmFtZTogU3RyaW5nLCBzdHJpbmdWYWx1ZTogU3RyaW5nKSAtPiBBbnkge30KICAgIG9wZW4gY2xhc3MgZnVuYyBwcmVkZWZpbmVkTmFtZXNwYWNlKGZvclByZWZpeCBuYW1lOiBTdHJpbmcpIC0+IFhNTE5vZGU/IHt9CiAgICBvcGVuIGNsYXNzIGZ1bmMgcHJlZml4KGZvck5hbWUgbmFtZTogU3RyaW5nKSAtPiBTdHJpbmc/IHt9CiAgICBwdWJsaWMgY2xhc3MgZnVuYyBwcm9jZXNzaW5nSW5zdHJ1Y3Rpb24od2l0aE5hbWUgbmFtZTogU3RyaW5nLCBzdHJpbmdWYWx1ZTogU3RyaW5nKSAtPiBBbnkge30KICAgIG9wZW4gY2xhc3MgZnVuYyB0ZXh0KHdpdGhTdHJpbmdWYWx1ZSBzdHJpbmdWYWx1ZTogU3RyaW5nKSAtPiBBbnkge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KGtpbmQ6IFhNTE5vZGUuS2luZCkge30KICAgIHB1YmxpYyBpbml0KGtpbmQ6IFhNTE5vZGUuS2luZCwgb3B0aW9uczogWE1MTm9kZS5PcHRpb25zID0geCkge30KICAgIG9wZW4gdmFyIGNoaWxkQ291bnQ6IEludCB7IGdldCB9CiAgICBvcGVuIHZhciBjaGlsZHJlbjogW1hNTE5vZGVdPyB7IGdldCB9CiAgICBwdWJsaWMgdmFyIGVuZEluZGV4OiBJbmRleCB7IGdldCB9CiAgICBvcGVuIHZhciBpbmRleDogSW50IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGtpbmQ6IFhNTE5vZGUuS2luZCB7IGdldCB9CiAgICBvcGVuIHZhciBsZXZlbDogSW50IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGxvY2FsTmFtZTogU3RyaW5nPyB7IGdldCB9CiAgICBvcGVuIHZhciBuYW1lOiBTdHJpbmc/IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBuZXh0OiBYTUxOb2RlPyB7IGdldCB9CiAgICBvcGVuIHZhciBuZXh0U2libGluZzogWE1MTm9kZT8geyBnZXQgfQogICAgb3BlbiB2YXIgb2JqZWN0VmFsdWU6IEFueT8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHBhcmVudDogWE1MTm9kZT8geyBnZXQgfQogICAgb3BlbiB2YXIgcHJlZml4OiBTdHJpbmc/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHByZXZpb3VzOiBYTUxOb2RlPyB7IGdldCB9CiAgICBvcGVuIHZhciBwcmV2aW91c1NpYmxpbmc6IFhNTE5vZGU/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHJvb3REb2N1bWVudDogWE1MRG9jdW1lbnQ/IHsgZ2V0IH0KICAgIHB1YmxpYyB2YXIgc3RhcnRJbmRleDogSW5kZXggeyBnZXQgfQogICAgb3BlbiB2YXIgc3RyaW5nVmFsdWU6IFN0cmluZz8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHVyaTogU3RyaW5nPyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgeFBhdGg6IFN0cmluZz8geyBnZXQgfQogICAgb3BlbiB2YXIgeG1sU3RyaW5nOiBTdHJpbmcgeyBnZXQgfQogICAgcHVibGljIHN1YnNjcmlwdChpbmRleDogSW5kZXgpIC0+IFhNTE5vZGUgeyBnZXQgfSB7fQogICAgb3BlbiBmdW5jIGNhbm9uaWNhbFhNTFN0cmluZ1ByZXNlcnZpbmdDb21tZW50cyhfIGNvbW1lbnRzOiBCb29sKSAtPiBTdHJpbmcge30KICAgIG9wZW4gZnVuYyBjaGlsZChhdCBpbmRleDogSW50KSAtPiBYTUxOb2RlPyB7fQogICAgb3BlbiBmdW5jIGRldGFjaCgpIHt9CiAgICBwdWJsaWMgZnVuYyBpbmRleChhZnRlciBpOiBJbmRleCkgLT4gSW5kZXgge30KICAgIG9wZW4gZnVuYyBub2Rlcyhmb3JYUGF0aCB4cGF0aDogU3RyaW5nKSB0aHJvd3MgLT4gW1hNTE5vZGVdIHt9CiAgICBvcGVuIGZ1bmMgb2JqZWN0cyhmb3JYUXVlcnkgeHF1ZXJ5OiBTdHJpbmcpIHRocm93cyAtPiBbQW55XSB7fQogICAgb3BlbiBmdW5jIG9iamVjdHMoZm9yWFF1ZXJ5IHhxdWVyeTogU3RyaW5nLCBjb25zdGFudHM6IFtTdHJpbmc6IEFueV0/KSB0aHJvd3MgLT4gW0FueV0ge30KICAgIG9wZW4gZnVuYyBzZXRTdHJpbmdWYWx1ZShfIHN0cmluZzogU3RyaW5nLCByZXNvbHZpbmdFbnRpdGllcyByZXNvbHZlOiBCb29sKSB7fQogICAgb3BlbiBmdW5jIHhtbFN0cmluZyhvcHRpb25zOiBPcHRpb25zKSAtPiBTdHJpbmcge30KfQpvcGVuIGNsYXNzIFhNTFBhcnNlciA6IEFueU9iamVjdCwgQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sIHsKICAgIHB1YmxpYyBzdGF0aWMgdmFyIGVycm9yRG9tYWluOiBTdHJpbmcgeyBnZXQgfQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQ/KGNvbnRlbnRzT2YgdXJsOiBVUkwpIHt9CiAgICBwdWJsaWMgaW5pdChkYXRhOiBEYXRhKSB7fQogICAgcHVibGljIGluaXQoc3RyZWFtOiBJbnB1dFN0cmVhbSkge30KICAgIG9wZW4gdmFyIGFsbG93ZWRFeHRlcm5hbEVudGl0eVVSTHM6IFNldDxVUkw+PyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgY29sdW1uTnVtYmVyOiBJbnQgeyBnZXQgfQogICAgb3BlbiB3ZWFrIHZhciBkZWxlZ2F0ZTogWE1MUGFyc2VyRGVsZWdhdGU/IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBleHRlcm5hbEVudGl0eVJlc29sdmluZ1BvbGljeTogRXh0ZXJuYWxFbnRpdHlSZXNvbHZpbmdQb2xpY3kgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGxpbmVOdW1iZXI6IEludCB7IGdldCB9CiAgICBvcGVuIHZhciBwYXJzZXJFcnJvcjogRXJyb3I/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHB1YmxpY0lEOiBTdHJpbmc/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHNob3VsZFByb2Nlc3NOYW1lc3BhY2VzOiBCb29sIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBzaG91bGRSZXBvcnROYW1lc3BhY2VQcmVmaXhlczogQm9vbCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgc2hvdWxkUmVzb2x2ZUV4dGVybmFsRW50aXRpZXM6IEJvb2wgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHN5c3RlbUlEOiBTdHJpbmc/IHsgZ2V0IH0KICAgIG9wZW4gZnVuYyBhYm9ydFBhcnNpbmcoKSB7fQogICAgb3BlbiBmdW5jIHBhcnNlKCkgLT4gQm9vbCB7fQp9CnB1YmxpYyBwcm90b2NvbCBDb250aWd1b3VzQnl0ZXMgewogICAgZnVuYyB3aXRoVW5zYWZlQnl0ZXM8Uj4oXyBib2R5OiAoVW5zYWZlUmF3QnVmZmVyUG9pbnRlcikgdGhyb3dzIC0+IFIpIHJldGhyb3dzIC0+IFIKfQpwdWJsaWMgcHJvdG9jb2wgQ3VzdG9tTlNFcnJvciA6IEVycm9yIHsKICAgIHN0YXRpYyB2YXIgZXJyb3JEb21haW46IFN0cmluZyB7IGdldCB9CiAgICB2YXIgZXJyb3JDb2RlOiBJbnQgeyBnZXQgfQogICAgdmFyIGVycm9yVXNlckluZm86IFtTdHJpbmc6IEFueV0geyBnZXQgfQp9CnB1YmxpYyBwcm90b2NvbCBEYXRhUHJvdG9jb2wgOiBSYW5kb21BY2Nlc3NDb2xsZWN0aW9uIHsKICAgIGFzc29jaWF0ZWR0eXBlIFJlZ2lvbnMgd2hlcmUgUmVnaW9ucy5FbGVtZW50IDogQ29udGlndW91c0J5dGVzICYgRGF0YVByb3RvY29sLCBSZWdpb25zLkVsZW1lbnQuU3ViU2VxdWVuY2UgOiBDb250aWd1b3VzQnl0ZXMKICAgIHZhciByZWdpb25zOiBSZWdpb25zIHsgZ2V0IH0KICAgIEBkaXNjYXJkYWJsZVJlc3VsdCBmdW5jIGNvcHlCeXRlcyh0byBwdHI6IFVuc2FmZU11dGFibGVSYXdCdWZmZXJQb2ludGVyKSAtPiBJbnQKICAgIEBkaXNjYXJkYWJsZVJlc3VsdCBmdW5jIGNvcHlCeXRlcyh0bzogVW5zYWZlTXV0YWJsZVJhd0J1ZmZlclBvaW50ZXIsIGNvdW50OiBJbnQpIC0+IEludAogICAgQGRpc2NhcmRhYmxlUmVzdWx0IGZ1bmMgY29weUJ5dGVzPERlc3RpbmF0aW9uVHlwZSwgUj4odG86IFVuc2FmZU11dGFibGVCdWZmZXJQb2ludGVyPERlc3RpbmF0aW9uVHlwZT4sIGZyb206IFIpIC0+IEludCB3aGVyZSBSIDogUmFuZ2VFeHByZXNzaW9uLCBJbmRleCA9PSBSLkJvdW5kCiAgICBmdW5jIGZpcnN0UmFuZ2U8RD4ob2YgZGF0YTogRCkgLT4gUmFuZ2U8SW5kZXg+PyB3aGVyZSBEIDogRGF0YVByb3RvY29sCiAgICBmdW5jIGZpcnN0UmFuZ2U8RCwgUj4ob2Y6IEQsIGluOiBSKSAtPiBSYW5nZTxJbmRleD4/IHdoZXJlIEQgOiBEYXRhUHJvdG9jb2wsIFIgOiBSYW5nZUV4cHJlc3Npb24sIEluZGV4ID09IFIuQm91bmQKICAgIGZ1bmMgbGFzdFJhbmdlPEQ+KG9mIGRhdGE6IEQpIC0+IFJhbmdlPEluZGV4Pj8gd2hlcmUgRCA6IERhdGFQcm90b2NvbAogICAgZnVuYyBsYXN0UmFuZ2U8RCwgUj4ob2Y6IEQsIGluOiBSKSAtPiBSYW5nZTxJbmRleD4/IHdoZXJlIEQgOiBEYXRhUHJvdG9jb2wsIFIgOiBSYW5nZUV4cHJlc3Npb24sIEluZGV4ID09IFIuQm91bmQKfQpwdWJsaWMgcHJvdG9jb2wgRmlsZU1hbmFnZXJEZWxlZ2F0ZSA6IEFueU9iamVjdCwgTlNPYmplY3RQcm90b2NvbCB7CiAgICBmdW5jIGZpbGVNYW5hZ2VyKF8gZmlsZU1hbmFnZXI6IEZpbGVNYW5hZ2VyLCBzaG91bGRDb3B5SXRlbUF0IHNyY1VSTDogVVJMLCB0byBkc3RVUkw6IFVSTCkgLT4gQm9vbAogICAgZnVuYyBmaWxlTWFuYWdlcihfIGZpbGVNYW5hZ2VyOiBGaWxlTWFuYWdlciwgc2hvdWxkQ29weUl0ZW1BdFBhdGggc3JjUGF0aDogU3RyaW5nLCB0b1BhdGggZHN0UGF0aDogU3RyaW5nKSAtPiBCb29sCiAgICBmdW5jIGZpbGVNYW5hZ2VyKF8gZmlsZU1hbmFnZXI6IEZpbGVNYW5hZ2VyLCBzaG91bGRMaW5rSXRlbUF0IHNyY1VSTDogVVJMLCB0byBkc3RVUkw6IFVSTCkgLT4gQm9vbAogICAgZnVuYyBmaWxlTWFuYWdlcihfIGZpbGVNYW5hZ2VyOiBGaWxlTWFuYWdlciwgc2hvdWxkTGlua0l0ZW1BdFBhdGggc3JjUGF0aDogU3RyaW5nLCB0b1BhdGggZHN0UGF0aDogU3RyaW5nKSAtPiBCb29sCiAgICBmdW5jIGZpbGVNYW5hZ2VyKF8gZmlsZU1hbmFnZXI6IEZpbGVNYW5hZ2VyLCBzaG91bGRNb3ZlSXRlbUF0IHNyY1VSTDogVVJMLCB0byBkc3RVUkw6IFVSTCkgLT4gQm9vbAogICAgZnVuYyBmaWxlTWFuYWdlcihfIGZpbGVNYW5hZ2VyOiBGaWxlTWFuYWdlciwgc2hvdWxkTW92ZUl0ZW1BdFBhdGggc3JjUGF0aDogU3RyaW5nLCB0b1BhdGggZHN0UGF0aDogU3RyaW5nKSAtPiBCb29sCiAgICBmdW5jIGZpbGVNYW5hZ2VyKF8gZmlsZU1hbmFnZXI6IEZpbGVNYW5hZ2VyLCBzaG91bGRQcm9jZWVkQWZ0ZXJFcnJvciBlcnJvcjogRXJyb3IsIGNvcHlpbmdJdGVtQXQgc3JjVVJMOiBVUkwsIHRvIGRzdFVSTDogVVJMKSAtPiBCb29sCiAgICBmdW5jIGZpbGVNYW5hZ2VyKF8gZmlsZU1hbmFnZXI6IEZpbGVNYW5hZ2VyLCBzaG91bGRQcm9jZWVkQWZ0ZXJFcnJvciBlcnJvcjogRXJyb3IsIGNvcHlpbmdJdGVtQXRQYXRoIHNyY1BhdGg6IFN0cmluZywgdG9QYXRoIGRzdFBhdGg6IFN0cmluZykgLT4gQm9vbAogICAgZnVuYyBmaWxlTWFuYWdlcihfIGZpbGVNYW5hZ2VyOiBGaWxlTWFuYWdlciwgc2hvdWxkUHJvY2VlZEFmdGVyRXJyb3IgZXJyb3I6IEVycm9yLCBsaW5raW5nSXRlbUF0IHNyY1VSTDogVVJMLCB0byBkc3RVUkw6IFVSTCkgLT4gQm9vbAogICAgZnVuYyBmaWxlTWFuYWdlcihfIGZpbGVNYW5hZ2VyOiBGaWxlTWFuYWdlciwgc2hvdWxkUHJvY2VlZEFmdGVyRXJyb3IgZXJyb3I6IEVycm9yLCBsaW5raW5nSXRlbUF0UGF0aCBzcmNQYXRoOiBTdHJpbmcsIHRvUGF0aCBkc3RQYXRoOiBTdHJpbmcpIC0+IEJvb2wKICAgIGZ1bmMgZmlsZU1hbmFnZXIoXyBmaWxlTWFuYWdlcjogRmlsZU1hbmFnZXIsIHNob3VsZFByb2NlZWRBZnRlckVycm9yIGVycm9yOiBFcnJvciwgbW92aW5nSXRlbUF0IHNyY1VSTDogVVJMLCB0byBkc3RVUkw6IFVSTCkgLT4gQm9vbAogICAgZnVuYyBmaWxlTWFuYWdlcihfIGZpbGVNYW5hZ2VyOiBGaWxlTWFuYWdlciwgc2hvdWxkUHJvY2VlZEFmdGVyRXJyb3IgZXJyb3I6IEVycm9yLCBtb3ZpbmdJdGVtQXRQYXRoIHNyY1BhdGg6IFN0cmluZywgdG9QYXRoIGRzdFBhdGg6IFN0cmluZykgLT4gQm9vbAogICAgZnVuYyBmaWxlTWFuYWdlcihfIGZpbGVNYW5hZ2VyOiBGaWxlTWFuYWdlciwgc2hvdWxkUHJvY2VlZEFmdGVyRXJyb3IgZXJyb3I6IEVycm9yLCByZW1vdmluZ0l0ZW1BdCBVUkw6IFVSTCkgLT4gQm9vbAogICAgZnVuYyBmaWxlTWFuYWdlcihfIGZpbGVNYW5hZ2VyOiBGaWxlTWFuYWdlciwgc2hvdWxkUHJvY2VlZEFmdGVyRXJyb3IgZXJyb3I6IEVycm9yLCByZW1vdmluZ0l0ZW1BdFBhdGggcGF0aDogU3RyaW5nKSAtPiBCb29sCiAgICBmdW5jIGZpbGVNYW5hZ2VyKF8gZmlsZU1hbmFnZXI6IEZpbGVNYW5hZ2VyLCBzaG91bGRSZW1vdmVJdGVtQXQgVVJMOiBVUkwpIC0+IEJvb2wKICAgIGZ1bmMgZmlsZU1hbmFnZXIoXyBmaWxlTWFuYWdlcjogRmlsZU1hbmFnZXIsIHNob3VsZFJlbW92ZUl0ZW1BdFBhdGggcGF0aDogU3RyaW5nKSAtPiBCb29sCn0KcHVibGljIHByb3RvY29sIExvY2FsaXplZEVycm9yIDogRXJyb3IgewogICAgdmFyIGVycm9yRGVzY3JpcHRpb246IFN0cmluZz8geyBnZXQgfQogICAgdmFyIGZhaWx1cmVSZWFzb246IFN0cmluZz8geyBnZXQgfQogICAgdmFyIGhlbHBBbmNob3I6IFN0cmluZz8geyBnZXQgfQogICAgdmFyIHJlY292ZXJ5U3VnZ2VzdGlvbjogU3RyaW5nPyB7IGdldCB9Cn0KcHVibGljIHByb3RvY29sIE11dGFibGVEYXRhUHJvdG9jb2wgOiBEYXRhUHJvdG9jb2wsIE11dGFibGVDb2xsZWN0aW9uLCBSYW5kb21BY2Nlc3NDb2xsZWN0aW9uLCBSYW5nZVJlcGxhY2VhYmxlQ29sbGVjdGlvbiB7CiAgICBtdXRhdGluZyBmdW5jIHJlc2V0Qnl0ZXM8Uj4oaW4gcmFuZ2U6IFIpIHdoZXJlIFIgOiBSYW5nZUV4cHJlc3Npb24sIEluZGV4ID09IFIuQm91bmQKfQpwdWJsaWMgcHJvdG9jb2wgTlNDYWNoZURlbGVnYXRlIDogQW55T2JqZWN0LCBOU09iamVjdFByb3RvY29sIHsKICAgIGZ1bmMgY2FjaGUoXyBjYWNoZTogTlNDYWNoZTxBbnlPYmplY3QsIEFueU9iamVjdD4sIHdpbGxFdmljdE9iamVjdCBvYmo6IEFueSkKfQpwdWJsaWMgcHJvdG9jb2wgTlNDb2RpbmcgewogICAgaW5pdD8oY29kZXIgYURlY29kZXI6IE5TQ29kZXIpCiAgICBmdW5jIGVuY29kZSh3aXRoIGFDb2RlcjogTlNDb2RlcikKfQpwdWJsaWMgcHJvdG9jb2wgTlNDb3B5aW5nIHsKICAgIGZ1bmMgY29weSgpIC0+IEFueQogICAgZnVuYyBjb3B5KHdpdGggem9uZTogTlNab25lPykgLT4gQW55Cn0KcHVibGljIHByb3RvY29sIE5TRGVjaW1hbE51bWJlckJlaGF2aW9ycyB7CiAgICBmdW5jIHJvdW5kaW5nTW9kZSgpIC0+IE5TRGVjaW1hbE51bWJlci5Sb3VuZGluZ01vZGUKICAgIGZ1bmMgc2NhbGUoKSAtPiBJbnQxNgp9CnB1YmxpYyBwcm90b2NvbCBOU0tleWVkQXJjaGl2ZXJEZWxlZ2F0ZSA6IEFueU9iamVjdCB7CiAgICBmdW5jIGFyY2hpdmVyKF8gYXJjaGl2ZXI6IE5TS2V5ZWRBcmNoaXZlciwgZGlkRW5jb2RlIG9iamVjdDogQW55PykKICAgIGZ1bmMgYXJjaGl2ZXIoXyBhcmNoaXZlcjogTlNLZXllZEFyY2hpdmVyLCB3aWxsRW5jb2RlIG9iamVjdDogQW55KSAtPiBBbnk/CiAgICBmdW5jIGFyY2hpdmVyKF8gYXJjaGl2ZXI6IE5TS2V5ZWRBcmNoaXZlciwgd2lsbFJlcGxhY2Ugb2JqZWN0OiBBbnk/LCB3aXRoT2JqZWN0IG5ld09iamVjdDogQW55PykKICAgIGZ1bmMgYXJjaGl2ZXJEaWRGaW5pc2goXyBhcmNoaXZlcjogTlNLZXllZEFyY2hpdmVyKQogICAgZnVuYyBhcmNoaXZlcldpbGxGaW5pc2goXyBhcmNoaXZlcjogTlNLZXllZEFyY2hpdmVyKQp9CnB1YmxpYyBwcm90b2NvbCBOU0tleWVkVW5hcmNoaXZlckRlbGVnYXRlIDogQW55T2JqZWN0IHsKICAgIGZ1bmMgdW5hcmNoaXZlcihfIHVuYXJjaGl2ZXI6IE5TS2V5ZWRVbmFyY2hpdmVyLCBjYW5ub3REZWNvZGVPYmplY3RPZkNsYXNzTmFtZSBuYW1lOiBTdHJpbmcsIG9yaWdpbmFsQ2xhc3NlcyBjbGFzc05hbWVzOiBbU3RyaW5nXSkgLT4gQW55Q2xhc3M/CiAgICBmdW5jIHVuYXJjaGl2ZXIoXyB1bmFyY2hpdmVyOiBOU0tleWVkVW5hcmNoaXZlciwgZGlkRGVjb2RlIG9iamVjdDogQW55PykgLT4gQW55PwogICAgZnVuYyB1bmFyY2hpdmVyKF8gdW5hcmNoaXZlcjogTlNLZXllZFVuYXJjaGl2ZXIsIHdpbGxSZXBsYWNlIG9iamVjdDogQW55LCB3aXRoIG5ld09iamVjdDogQW55KQogICAgZnVuYyB1bmFyY2hpdmVyRGlkRmluaXNoKF8gdW5hcmNoaXZlcjogTlNLZXllZFVuYXJjaGl2ZXIpCiAgICBmdW5jIHVuYXJjaGl2ZXJXaWxsRmluaXNoKF8gdW5hcmNoaXZlcjogTlNLZXllZFVuYXJjaGl2ZXIpCn0KcHVibGljIHByb3RvY29sIE5TTG9ja2luZyB7CiAgICBmdW5jIGxvY2soKQogICAgZnVuYyB1bmxvY2soKQp9CnB1YmxpYyBwcm90b2NvbCBOU011dGFibGVDb3B5aW5nIHsKICAgIGZ1bmMgbXV0YWJsZUNvcHkoKSAtPiBBbnkKICAgIGZ1bmMgbXV0YWJsZUNvcHkod2l0aCB6b25lOiBOU1pvbmU/KSAtPiBBbnkKfQpwdWJsaWMgcHJvdG9jb2wgTlNPYmplY3RQcm90b2NvbCA6IEFueU9iamVjdCB7CiAgICB2YXIgZGVidWdEZXNjcmlwdGlvbjogU3RyaW5nIHsgZ2V0IH0KICAgIHZhciBkZXNjcmlwdGlvbjogU3RyaW5nIHsgZ2V0IH0KICAgIHZhciBoYXNoOiBJbnQgeyBnZXQgfQogICAgZnVuYyBpc0VxdWFsKF8gb2JqZWN0OiBBbnk/KSAtPiBCb29sCiAgICBmdW5jIGlzUHJveHkoKSAtPiBCb29sCiAgICBmdW5jIHNlbGYoKSAtPiBTZWxmCn0KcHVibGljIHByb3RvY29sIE5TU2VjdXJlQ29kaW5nIDogTlNDb2RpbmcgewogICAgc3RhdGljIHZhciBzdXBwb3J0c1NlY3VyZUNvZGluZzogQm9vbCB7IGdldCB9Cn0KcHVibGljIHByb3RvY29sIFBvcnREZWxlZ2F0ZSA6IEFueU9iamVjdCB7CiAgICBmdW5jIGhhbmRsZVBvcnRNZXNzYWdlKF8gbWVzc2FnZTogUG9ydE1lc3NhZ2UpCn0KcHVibGljIHByb3RvY29sIFByb2dyZXNzUmVwb3J0aW5nIDogQW55T2JqZWN0LCBOU09iamVjdFByb3RvY29sIHsKICAgIHZhciBwcm9ncmVzczogUHJvZ3Jlc3MgeyBnZXQgfQp9CnB1YmxpYyBwcm90b2NvbCBSZWNvdmVyYWJsZUVycm9yIDogRXJyb3IgewogICAgdmFyIHJlY292ZXJ5T3B0aW9uczogW1N0cmluZ10geyBnZXQgfQogICAgZnVuYyBhdHRlbXB0UmVjb3Zlcnkob3B0aW9uSW5kZXggcmVjb3ZlcnlPcHRpb25JbmRleDogSW50KSAtPiBCb29sCiAgICBmdW5jIGF0dGVtcHRSZWNvdmVyeShvcHRpb25JbmRleCByZWNvdmVyeU9wdGlvbkluZGV4OiBJbnQsIHJlc3VsdEhhbmRsZXIgaGFuZGxlcjogKF8gcmVjb3ZlcmVkOiBCb29sKSAtPiBWb2lkKQp9CnB1YmxpYyBwcm90b2NvbCBSZWZlcmVuY2VDb252ZXJ0aWJsZSA6IEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBIYXNoYWJsZSB7CiAgICBhc3NvY2lhdGVkdHlwZSBSZWZlcmVuY2VUeXBlCn0KcHVibGljIHByb3RvY29sIFN0cmVhbURlbGVnYXRlIDogQW55T2JqZWN0IHsKICAgIGZ1bmMgc3RyZWFtKF8gYVN0cmVhbTogU3RyZWFtLCBoYW5kbGUgZXZlbnRDb2RlOiBTdHJlYW0uRXZlbnQpCn0KcHVibGljIHByb3RvY29sIFVSTEF1dGhlbnRpY2F0aW9uQ2hhbGxlbmdlU2VuZGVyIDogQW55T2JqZWN0LCBOU09iamVjdFByb3RvY29sIHsKICAgIGZ1bmMgY2FuY2VsKF8gY2hhbGxlbmdlOiBVUkxBdXRoZW50aWNhdGlvbkNoYWxsZW5nZSkKICAgIGZ1bmMgY29udGludWVXaXRob3V0Q3JlZGVudGlhbChmb3IgY2hhbGxlbmdlOiBVUkxBdXRoZW50aWNhdGlvbkNoYWxsZW5nZSkKICAgIGZ1bmMgcGVyZm9ybURlZmF1bHRIYW5kbGluZyhmb3IgY2hhbGxlbmdlOiBVUkxBdXRoZW50aWNhdGlvbkNoYWxsZW5nZSkKICAgIGZ1bmMgcmVqZWN0UHJvdGVjdGlvblNwYWNlQW5kQ29udGludWUod2l0aCBjaGFsbGVuZ2U6IFVSTEF1dGhlbnRpY2F0aW9uQ2hhbGxlbmdlKQogICAgZnVuYyB1c2UoXyBjcmVkZW50aWFsOiBVUkxDcmVkZW50aWFsLCBmb3IgY2hhbGxlbmdlOiBVUkxBdXRoZW50aWNhdGlvbkNoYWxsZW5nZSkKfQpwdWJsaWMgcHJvdG9jb2wgVVJMUHJvdG9jb2xDbGllbnQgOiBBbnlPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wgewogICAgZnVuYyB1cmxQcm90b2NvbChfIHByb3RvY29sOiBVUkxQcm90b2NvbCwgY2FjaGVkUmVzcG9uc2VJc1ZhbGlkIGNhY2hlZFJlc3BvbnNlOiBDYWNoZWRVUkxSZXNwb25zZSkKICAgIGZ1bmMgdXJsUHJvdG9jb2woXyBwcm90b2NvbDogVVJMUHJvdG9jb2wsIGRpZENhbmNlbCBjaGFsbGVuZ2U6IFVSTEF1dGhlbnRpY2F0aW9uQ2hhbGxlbmdlKQogICAgZnVuYyB1cmxQcm90b2NvbChfIHByb3RvY29sOiBVUkxQcm90b2NvbCwgZGlkRmFpbFdpdGhFcnJvciBlcnJvcjogRXJyb3IpCiAgICBmdW5jIHVybFByb3RvY29sKF8gcHJvdG9jb2w6IFVSTFByb3RvY29sLCBkaWRMb2FkIGRhdGE6IERhdGEpCiAgICBmdW5jIHVybFByb3RvY29sKF8gcHJvdG9jb2w6IFVSTFByb3RvY29sLCBkaWRSZWNlaXZlIGNoYWxsZW5nZTogVVJMQXV0aGVudGljYXRpb25DaGFsbGVuZ2UpCiAgICBmdW5jIHVybFByb3RvY29sKF8gcHJvdG9jb2w6IFVSTFByb3RvY29sLCBkaWRSZWNlaXZlIHJlc3BvbnNlOiBVUkxSZXNwb25zZSwgY2FjaGVTdG9yYWdlUG9saWN5IHBvbGljeTogVVJMQ2FjaGUuU3RvcmFnZVBvbGljeSkKICAgIGZ1bmMgdXJsUHJvdG9jb2woXyBwcm90b2NvbDogVVJMUHJvdG9jb2wsIHdhc1JlZGlyZWN0ZWRUbyByZXF1ZXN0OiBVUkxSZXF1ZXN0LCByZWRpcmVjdFJlc3BvbnNlOiBVUkxSZXNwb25zZSkKICAgIGZ1bmMgdXJsUHJvdG9jb2xEaWRGaW5pc2hMb2FkaW5nKF8gcHJvdG9jb2w6IFVSTFByb3RvY29sKQp9CnB1YmxpYyBwcm90b2NvbCBVUkxTZXNzaW9uRGF0YURlbGVnYXRlIDogQW55T2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBVUkxTZXNzaW9uRGVsZWdhdGUsIFVSTFNlc3Npb25UYXNrRGVsZWdhdGUgewogICAgZnVuYyB1cmxTZXNzaW9uKF8gc2Vzc2lvbjogVVJMU2Vzc2lvbiwgZGF0YVRhc2s6IFVSTFNlc3Npb25EYXRhVGFzaywgZGlkQmVjb21lIGRvd25sb2FkVGFzazogVVJMU2Vzc2lvbkRvd25sb2FkVGFzaykKICAgIGZ1bmMgdXJsU2Vzc2lvbihfIHNlc3Npb246IFVSTFNlc3Npb24sIGRhdGFUYXNrOiBVUkxTZXNzaW9uRGF0YVRhc2ssIGRpZFJlY2VpdmUgZGF0YTogRGF0YSkKICAgIGZ1bmMgdXJsU2Vzc2lvbihfIHNlc3Npb246IFVSTFNlc3Npb24sIGRhdGFUYXNrOiBVUkxTZXNzaW9uRGF0YVRhc2ssIGRpZFJlY2VpdmUgcmVzcG9uc2U6IFVSTFJlc3BvbnNlLCBjb21wbGV0aW9uSGFuZGxlcjogQGVzY2FwaW5nIChVUkxTZXNzaW9uLlJlc3BvbnNlRGlzcG9zaXRpb24pIC0+IFZvaWQpCiAgICBmdW5jIHVybFNlc3Npb24oXyBzZXNzaW9uOiBVUkxTZXNzaW9uLCBkYXRhVGFzazogVVJMU2Vzc2lvbkRhdGFUYXNrLCB3aWxsQ2FjaGVSZXNwb25zZSBwcm9wb3NlZFJlc3BvbnNlOiBDYWNoZWRVUkxSZXNwb25zZSwgY29tcGxldGlvbkhhbmRsZXI6IEBlc2NhcGluZyAoQ2FjaGVkVVJMUmVzcG9uc2U/KSAtPiBWb2lkKQp9CnB1YmxpYyBwcm90b2NvbCBVUkxTZXNzaW9uRGVsZWdhdGUgOiBBbnlPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wgewogICAgZnVuYyB1cmxTZXNzaW9uKF8gc2Vzc2lvbjogVVJMU2Vzc2lvbiwgZGlkQmVjb21lSW52YWxpZFdpdGhFcnJvciBlcnJvcjogRXJyb3I/KQogICAgZnVuYyB1cmxTZXNzaW9uKF8gc2Vzc2lvbjogVVJMU2Vzc2lvbiwgZGlkUmVjZWl2ZSBjaGFsbGVuZ2U6IFVSTEF1dGhlbnRpY2F0aW9uQ2hhbGxlbmdlLCBjb21wbGV0aW9uSGFuZGxlcjogQGVzY2FwaW5nIChVUkxTZXNzaW9uLkF1dGhDaGFsbGVuZ2VEaXNwb3NpdGlvbiwgVVJMQ3JlZGVudGlhbD8pIC0+IFZvaWQpCn0KcHVibGljIHByb3RvY29sIFVSTFNlc3Npb25Eb3dubG9hZERlbGVnYXRlIDogQW55T2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBVUkxTZXNzaW9uRGVsZWdhdGUsIFVSTFNlc3Npb25UYXNrRGVsZWdhdGUgewogICAgZnVuYyB1cmxTZXNzaW9uKF8gc2Vzc2lvbjogVVJMU2Vzc2lvbiwgZG93bmxvYWRUYXNrOiBVUkxTZXNzaW9uRG93bmxvYWRUYXNrLCBkaWRGaW5pc2hEb3dubG9hZGluZ1RvIGxvY2F0aW9uOiBVUkwpCiAgICBmdW5jIHVybFNlc3Npb24oXyBzZXNzaW9uOiBVUkxTZXNzaW9uLCBkb3dubG9hZFRhc2s6IFVSTFNlc3Npb25Eb3dubG9hZFRhc2ssIGRpZFJlc3VtZUF0T2Zmc2V0IGZpbGVPZmZzZXQ6IEludDY0LCBleHBlY3RlZFRvdGFsQnl0ZXM6IEludDY0KQogICAgZnVuYyB1cmxTZXNzaW9uKF8gc2Vzc2lvbjogVVJMU2Vzc2lvbiwgZG93bmxvYWRUYXNrOiBVUkxTZXNzaW9uRG93bmxvYWRUYXNrLCBkaWRXcml0ZURhdGEgYnl0ZXNXcml0dGVuOiBJbnQ2NCwgdG90YWxCeXRlc1dyaXR0ZW46IEludDY0LCB0b3RhbEJ5dGVzRXhwZWN0ZWRUb1dyaXRlOiBJbnQ2NCkKfQpwdWJsaWMgcHJvdG9jb2wgVVJMU2Vzc2lvblN0cmVhbURlbGVnYXRlIDogQW55T2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBVUkxTZXNzaW9uRGVsZWdhdGUsIFVSTFNlc3Npb25UYXNrRGVsZWdhdGUgewogICAgZnVuYyB1cmxTZXNzaW9uKF8gc2Vzc2lvbjogVVJMU2Vzc2lvbiwgYmV0dGVyUm91dGVEaXNjb3ZlcmVkRm9yIHN0cmVhbVRhc2s6IFVSTFNlc3Npb25TdHJlYW1UYXNrKQogICAgZnVuYyB1cmxTZXNzaW9uKF8gc2Vzc2lvbjogVVJMU2Vzc2lvbiwgcmVhZENsb3NlZEZvciBzdHJlYW1UYXNrOiBVUkxTZXNzaW9uU3RyZWFtVGFzaykKICAgIGZ1bmMgdXJsU2Vzc2lvbihfIHNlc3Npb246IFVSTFNlc3Npb24sIHN0cmVhbVRhc2s6IFVSTFNlc3Npb25TdHJlYW1UYXNrLCBkaWRCZWNvbWUgaW5wdXRTdHJlYW06IElucHV0U3RyZWFtLCBvdXRwdXRTdHJlYW06IE91dHB1dFN0cmVhbSkKICAgIGZ1bmMgdXJsU2Vzc2lvbihfIHNlc3Npb246IFVSTFNlc3Npb24sIHdyaXRlQ2xvc2VkRm9yIHN0cmVhbVRhc2s6IFVSTFNlc3Npb25TdHJlYW1UYXNrKQp9CnB1YmxpYyBwcm90b2NvbCBVUkxTZXNzaW9uVGFza0RlbGVnYXRlIDogQW55T2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBVUkxTZXNzaW9uRGVsZWdhdGUgewogICAgZnVuYyB1cmxTZXNzaW9uKF8gc2Vzc2lvbjogVVJMU2Vzc2lvbiwgdGFzazogVVJMU2Vzc2lvblRhc2ssIGRpZENvbXBsZXRlV2l0aEVycm9yIGVycm9yOiBFcnJvcj8pCiAgICBmdW5jIHVybFNlc3Npb24oXyBzZXNzaW9uOiBVUkxTZXNzaW9uLCB0YXNrOiBVUkxTZXNzaW9uVGFzaywgZGlkUmVjZWl2ZSBjaGFsbGVuZ2U6IFVSTEF1dGhlbnRpY2F0aW9uQ2hhbGxlbmdlLCBjb21wbGV0aW9uSGFuZGxlcjogQGVzY2FwaW5nIChVUkxTZXNzaW9uLkF1dGhDaGFsbGVuZ2VEaXNwb3NpdGlvbiwgVVJMQ3JlZGVudGlhbD8pIC0+IFZvaWQpCiAgICBmdW5jIHVybFNlc3Npb24oXyBzZXNzaW9uOiBVUkxTZXNzaW9uLCB0YXNrOiBVUkxTZXNzaW9uVGFzaywgZGlkU2VuZEJvZHlEYXRhIGJ5dGVzU2VudDogSW50NjQsIHRvdGFsQnl0ZXNTZW50OiBJbnQ2NCwgdG90YWxCeXRlc0V4cGVjdGVkVG9TZW5kOiBJbnQ2NCkKICAgIGZ1bmMgdXJsU2Vzc2lvbihfIHNlc3Npb246IFVSTFNlc3Npb24sIHRhc2s6IFVSTFNlc3Npb25UYXNrLCBuZWVkTmV3Qm9keVN0cmVhbSBjb21wbGV0aW9uSGFuZGxlcjogQGVzY2FwaW5nIChJbnB1dFN0cmVhbT8pIC0+IFZvaWQpCiAgICBmdW5jIHVybFNlc3Npb24oXyBzZXNzaW9uOiBVUkxTZXNzaW9uLCB0YXNrOiBVUkxTZXNzaW9uVGFzaywgd2lsbEJlZ2luRGVsYXllZFJlcXVlc3QgcmVxdWVzdDogVVJMUmVxdWVzdCwgY29tcGxldGlvbkhhbmRsZXI6IEBlc2NhcGluZyAoVVJMU2Vzc2lvbi5EZWxheWVkUmVxdWVzdERpc3Bvc2l0aW9uLCBVUkxSZXF1ZXN0PykgLT4gVm9pZCkKICAgIGZ1bmMgdXJsU2Vzc2lvbihfIHNlc3Npb246IFVSTFNlc3Npb24sIHRhc2s6IFVSTFNlc3Npb25UYXNrLCB3aWxsUGVyZm9ybUhUVFBSZWRpcmVjdGlvbiByZXNwb25zZTogSFRUUFVSTFJlc3BvbnNlLCBuZXdSZXF1ZXN0IHJlcXVlc3Q6IFVSTFJlcXVlc3QsIGNvbXBsZXRpb25IYW5kbGVyOiBAZXNjYXBpbmcgKFVSTFJlcXVlc3Q/KSAtPiBWb2lkKQp9CnB1YmxpYyBwcm90b2NvbCBYTUxQYXJzZXJEZWxlZ2F0ZSA6IEFueU9iamVjdCB7CiAgICBmdW5jIHBhcnNlcihfIHBhcnNlcjogWE1MUGFyc2VyLCBkaWRFbmRFbGVtZW50IGVsZW1lbnROYW1lOiBTdHJpbmcsIG5hbWVzcGFjZVVSSTogU3RyaW5nPywgcXVhbGlmaWVkTmFtZSBxTmFtZTogU3RyaW5nPykKICAgIGZ1bmMgcGFyc2VyKF8gcGFyc2VyOiBYTUxQYXJzZXIsIGRpZEVuZE1hcHBpbmdQcmVmaXggcHJlZml4OiBTdHJpbmcpCiAgICBmdW5jIHBhcnNlcihfIHBhcnNlcjogWE1MUGFyc2VyLCBkaWRTdGFydEVsZW1lbnQgZWxlbWVudE5hbWU6IFN0cmluZywgbmFtZXNwYWNlVVJJOiBTdHJpbmc/LCBxdWFsaWZpZWROYW1lIHFOYW1lOiBTdHJpbmc/LCBhdHRyaWJ1dGVzIGF0dHJpYnV0ZURpY3Q6IFtTdHJpbmc6IFN0cmluZ10pCiAgICBmdW5jIHBhcnNlcihfIHBhcnNlcjogWE1MUGFyc2VyLCBkaWRTdGFydE1hcHBpbmdQcmVmaXggcHJlZml4OiBTdHJpbmcsIHRvVVJJIG5hbWVzcGFjZVVSSTogU3RyaW5nKQogICAgZnVuYyBwYXJzZXIoXyBwYXJzZXI6IFhNTFBhcnNlciwgZm91bmRBdHRyaWJ1dGVEZWNsYXJhdGlvbldpdGhOYW1lIGF0dHJpYnV0ZU5hbWU6IFN0cmluZywgZm9yRWxlbWVudCBlbGVtZW50TmFtZTogU3RyaW5nLCB0eXBlOiBTdHJpbmc/LCBkZWZhdWx0VmFsdWU6IFN0cmluZz8pCiAgICBmdW5jIHBhcnNlcihfIHBhcnNlcjogWE1MUGFyc2VyLCBmb3VuZENEQVRBIENEQVRBQmxvY2s6IERhdGEpCiAgICBmdW5jIHBhcnNlcihfIHBhcnNlcjogWE1MUGFyc2VyLCBmb3VuZENoYXJhY3RlcnMgc3RyaW5nOiBTdHJpbmcpCiAgICBmdW5jIHBhcnNlcihfIHBhcnNlcjogWE1MUGFyc2VyLCBmb3VuZENvbW1lbnQgY29tbWVudDogU3RyaW5nKQogICAgZnVuYyBwYXJzZXIoXyBwYXJzZXI6IFhNTFBhcnNlciwgZm91bmRFbGVtZW50RGVjbGFyYXRpb25XaXRoTmFtZSBlbGVtZW50TmFtZTogU3RyaW5nLCBtb2RlbDogU3RyaW5nKQogICAgZnVuYyBwYXJzZXIoXyBwYXJzZXI6IFhNTFBhcnNlciwgZm91bmRFeHRlcm5hbEVudGl0eURlY2xhcmF0aW9uV2l0aE5hbWUgbmFtZTogU3RyaW5nLCBwdWJsaWNJRDogU3RyaW5nPywgc3lzdGVtSUQ6IFN0cmluZz8pCiAgICBmdW5jIHBhcnNlcihfIHBhcnNlcjogWE1MUGFyc2VyLCBmb3VuZElnbm9yYWJsZVdoaXRlc3BhY2Ugd2hpdGVzcGFjZVN0cmluZzogU3RyaW5nKQogICAgZnVuYyBwYXJzZXIoXyBwYXJzZXI6IFhNTFBhcnNlciwgZm91bmRJbnRlcm5hbEVudGl0eURlY2xhcmF0aW9uV2l0aE5hbWUgbmFtZTogU3RyaW5nLCB2YWx1ZTogU3RyaW5nPykKICAgIGZ1bmMgcGFyc2VyKF8gcGFyc2VyOiBYTUxQYXJzZXIsIGZvdW5kTm90YXRpb25EZWNsYXJhdGlvbldpdGhOYW1lIG5hbWU6IFN0cmluZywgcHVibGljSUQ6IFN0cmluZz8sIHN5c3RlbUlEOiBTdHJpbmc/KQogICAgZnVuYyBwYXJzZXIoXyBwYXJzZXI6IFhNTFBhcnNlciwgZm91bmRQcm9jZXNzaW5nSW5zdHJ1Y3Rpb25XaXRoVGFyZ2V0IHRhcmdldDogU3RyaW5nLCBkYXRhOiBTdHJpbmc/KQogICAgZnVuYyBwYXJzZXIoXyBwYXJzZXI6IFhNTFBhcnNlciwgZm91bmRVbnBhcnNlZEVudGl0eURlY2xhcmF0aW9uV2l0aE5hbWUgbmFtZTogU3RyaW5nLCBwdWJsaWNJRDogU3RyaW5nPywgc3lzdGVtSUQ6IFN0cmluZz8sIG5vdGF0aW9uTmFtZTogU3RyaW5nPykKICAgIGZ1bmMgcGFyc2VyKF8gcGFyc2VyOiBYTUxQYXJzZXIsIHBhcnNlRXJyb3JPY2N1cnJlZCBwYXJzZUVycm9yOiBFcnJvcikKICAgIGZ1bmMgcGFyc2VyKF8gcGFyc2VyOiBYTUxQYXJzZXIsIHJlc29sdmVFeHRlcm5hbEVudGl0eU5hbWUgbmFtZTogU3RyaW5nLCBzeXN0ZW1JRDogU3RyaW5nPykgLT4gRGF0YT8KICAgIGZ1bmMgcGFyc2VyKF8gcGFyc2VyOiBYTUxQYXJzZXIsIHZhbGlkYXRpb25FcnJvck9jY3VycmVkIHZhbGlkYXRpb25FcnJvcjogRXJyb3IpCiAgICBmdW5jIHBhcnNlckRpZEVuZERvY3VtZW50KF8gcGFyc2VyOiBYTUxQYXJzZXIpCiAgICBmdW5jIHBhcnNlckRpZFN0YXJ0RG9jdW1lbnQoXyBwYXJzZXI6IFhNTFBhcnNlcikKfQpleHRlbnNpb24gQXJyYXkgewp9CmV4dGVuc2lvbiBBcnJheVNsaWNlIHsKfQpleHRlbnNpb24gQm9vbCB7CiAgICBwdWJsaWMgaW5pdD8oZXhhY3RseSBudW1iZXI6IE5TTnVtYmVyKSB7fQogICAgcHVibGljIGluaXQodHJ1bmNhdGluZyBudW1iZXI6IE5TTnVtYmVyKSB7fQp9CmV4dGVuc2lvbiBDRkFycmF5IHsKfQpleHRlbnNpb24gQ0ZDYWxlbmRhciB7Cn0KZXh0ZW5zaW9uIENGQ2hhcmFjdGVyU2V0IHsKfQpleHRlbnNpb24gQ0ZEYXRhIHsKfQpleHRlbnNpb24gQ0ZEYXRlIHsKfQpleHRlbnNpb24gQ0ZEaWN0aW9uYXJ5IHsKfQpleHRlbnNpb24gQ0ZFcnJvciB7Cn0KZXh0ZW5zaW9uIENGS2V5ZWRBcmNoaXZlclVJRCB7Cn0KZXh0ZW5zaW9uIENGTG9jYWxlIHsKfQpleHRlbnNpb24gQ0ZOdW1iZXIgewp9CmV4dGVuc2lvbiBDRlNldCB7Cn0KZXh0ZW5zaW9uIENGU3RyaW5nIHsKfQpleHRlbnNpb24gQ0ZUaW1lWm9uZSB7Cn0KZXh0ZW5zaW9uIENGVVJMIHsKfQpleHRlbnNpb24gQ0ZVUkxTZXNzaW9uRWFzeUNvZGUgewogICAgcHVibGljIGZ1bmMgPT0obGhzOiBDRlVSTFNlc3Npb25FYXN5Q29kZSwgcmhzOiBDRlVSTFNlc3Npb25FYXN5Q29kZSkgLT4gQm9vbCB7fQp9CmV4dGVuc2lvbiBDRlVSTFNlc3Npb25JbmZvIHsKICAgIHB1YmxpYyB2YXIgZGVidWdIZWFkZXI6IFN0cmluZyB7IGdldCB9CiAgICBwdWJsaWMgZnVuYyA9PShsaHM6IENGVVJMU2Vzc2lvbkluZm8sIHJoczogQ0ZVUkxTZXNzaW9uSW5mbykgLT4gQm9vbCB7fQp9CmV4dGVuc2lvbiBDRlVSTFNlc3Npb25NdWx0aUNvZGUgewogICAgcHVibGljIGZ1bmMgPT0obGhzOiBDRlVSTFNlc3Npb25NdWx0aUNvZGUsIHJoczogQ0ZVUkxTZXNzaW9uTXVsdGlDb2RlKSAtPiBCb29sIHt9Cn0KZXh0ZW5zaW9uIENGVVJMU2Vzc2lvblBvbGwgewogICAgcHVibGljIGZ1bmMgPT0obGhzOiBDRlVSTFNlc3Npb25Qb2xsLCByaHM6IENGVVJMU2Vzc2lvblBvbGwpIC0+IEJvb2wge30KfQpleHRlbnNpb24gQ29sbGVjdGlvbk9mT25lIHsKfQpleHRlbnNpb24gQ29udGlndW91c0FycmF5IHsKfQpleHRlbnNpb24gRGVjb2RpbmdFcnJvciB7Cn0KZXh0ZW5zaW9uIERpY3Rpb25hcnkgewp9CmV4dGVuc2lvbiBEaXNwYXRjaERhdGEgewp9CmV4dGVuc2lvbiBEb3VibGUgewogICAgcHVibGljIGluaXQoXyB2YWx1ZTogQ0dGbG9hdCkge30KICAgIHB1YmxpYyBpbml0PyhleGFjdGx5IG51bWJlcjogTlNOdW1iZXIpIHt9CiAgICBwdWJsaWMgaW5pdCh0cnVuY2F0aW5nIG51bWJlcjogTlNOdW1iZXIpIHt9Cn0KZXh0ZW5zaW9uIEVtcHR5Q29sbGVjdGlvbiB7Cn0KZXh0ZW5zaW9uIEVuY29kaW5nRXJyb3Igewp9CmV4dGVuc2lvbiBGbG9hdCB7CiAgICBwdWJsaWMgaW5pdChfIHZhbHVlOiBDR0Zsb2F0KSB7fQogICAgcHVibGljIGluaXQ/KGV4YWN0bHkgbnVtYmVyOiBOU051bWJlcikge30KICAgIHB1YmxpYyBpbml0KHRydW5jYXRpbmcgbnVtYmVyOiBOU051bWJlcikge30KfQpleHRlbnNpb24gSW50IHsKICAgIHB1YmxpYyBpbml0KF8gdmFsdWU6IENHRmxvYXQpIHt9CiAgICBwdWJsaWMgaW5pdD8oZXhhY3RseSBudW1iZXI6IE5TTnVtYmVyKSB7fQogICAgcHVibGljIGluaXQodHJ1bmNhdGluZyBudW1iZXI6IE5TTnVtYmVyKSB7fQp9CmV4dGVuc2lvbiBJbnQxNiB7CiAgICBwdWJsaWMgaW5pdChfIHZhbHVlOiBDR0Zsb2F0KSB7fQogICAgcHVibGljIGluaXQ/KGV4YWN0bHkgbnVtYmVyOiBOU051bWJlcikge30KICAgIHB1YmxpYyBpbml0KHRydW5jYXRpbmcgbnVtYmVyOiBOU051bWJlcikge30KfQpleHRlbnNpb24gSW50MzIgewogICAgcHVibGljIGluaXQoXyB2YWx1ZTogQ0dGbG9hdCkge30KICAgIHB1YmxpYyBpbml0PyhleGFjdGx5IG51bWJlcjogTlNOdW1iZXIpIHt9CiAgICBwdWJsaWMgaW5pdCh0cnVuY2F0aW5nIG51bWJlcjogTlNOdW1iZXIpIHt9Cn0KZXh0ZW5zaW9uIEludDY0IHsKICAgIHB1YmxpYyBpbml0KF8gdmFsdWU6IENHRmxvYXQpIHt9CiAgICBwdWJsaWMgaW5pdD8oZXhhY3RseSBudW1iZXI6IE5TTnVtYmVyKSB7fQogICAgcHVibGljIGluaXQodHJ1bmNhdGluZyBudW1iZXI6IE5TTnVtYmVyKSB7fQp9CmV4dGVuc2lvbiBJbnQ4IHsKICAgIHB1YmxpYyBpbml0KF8gdmFsdWU6IENHRmxvYXQpIHt9CiAgICBwdWJsaWMgaW5pdD8oZXhhY3RseSBudW1iZXI6IE5TTnVtYmVyKSB7fQogICAgcHVibGljIGluaXQodHJ1bmNhdGluZyBudW1iZXI6IE5TTnVtYmVyKSB7fQp9CmV4dGVuc2lvbiBNZWFzdXJlbWVudCB7CiAgICBwdWJsaWMgaW5pdChmcm9tIGRlY29kZXI6IERlY29kZXIpIHRocm93cyB7fQogICAgcHVibGljIHZhciBjdXN0b21NaXJyb3I6IE1pcnJvciB7IGdldCB9CiAgICBwdWJsaWMgdmFyIGRlYnVnRGVzY3JpcHRpb246IFN0cmluZyB7IGdldCB9CiAgICBwdWJsaWMgdmFyIGRlc2NyaXB0aW9uOiBTdHJpbmcgeyBnZXQgfQogICAgcHVibGljIGZ1bmMgKihsaHM6IERvdWJsZSwgcmhzOiBNZWFzdXJlbWVudDxVbml0VHlwZT4pIC0+IE1lYXN1cmVtZW50PFVuaXRUeXBlPiB7fQogICAgcHVibGljIGZ1bmMgKihsaHM6IE1lYXN1cmVtZW50PFVuaXRUeXBlPiwgcmhzOiBEb3VibGUpIC0+IE1lYXN1cmVtZW50PFVuaXRUeXBlPiB7fQogICAgcHVibGljIGZ1bmMgKyhsaHM6IE1lYXN1cmVtZW50PFVuaXRUeXBlPiwgcmhzOiBNZWFzdXJlbWVudDxVbml0VHlwZT4pIC0+IE1lYXN1cmVtZW50PFVuaXRUeXBlPiB7fQogICAgcHVibGljIGZ1bmMgLShsaHM6IE1lYXN1cmVtZW50PFVuaXRUeXBlPiwgcmhzOiBNZWFzdXJlbWVudDxVbml0VHlwZT4pIC0+IE1lYXN1cmVtZW50PFVuaXRUeXBlPiB7fQogICAgcHVibGljIGZ1bmMgLyhsaHM6IERvdWJsZSwgcmhzOiBNZWFzdXJlbWVudDxVbml0VHlwZT4pIC0+IE1lYXN1cmVtZW50PFVuaXRUeXBlPiB7fQogICAgcHVibGljIGZ1bmMgLyhsaHM6IE1lYXN1cmVtZW50PFVuaXRUeXBlPiwgcmhzOiBEb3VibGUpIC0+IE1lYXN1cmVtZW50PFVuaXRUeXBlPiB7fQogICAgcHVibGljIGZ1bmMgPDxMZWZ0SGFuZFNpZGVUeXBlLCBSaWdodEhhbmRTaWRlVHlwZT4obGhzOiBNZWFzdXJlbWVudDxMZWZ0SGFuZFNpZGVUeXBlPiwgcmhzOiBNZWFzdXJlbWVudDxSaWdodEhhbmRTaWRlVHlwZT4pIC0+IEJvb2wge30KICAgIHB1YmxpYyBmdW5jID09PExlZnRIYW5kU2lkZVR5cGUsIFJpZ2h0SGFuZFNpZGVUeXBlPihsaHM6IE1lYXN1cmVtZW50PExlZnRIYW5kU2lkZVR5cGU+LCByaHM6IE1lYXN1cmVtZW50PFJpZ2h0SGFuZFNpZGVUeXBlPikgLT4gQm9vbCB7fQogICAgcHVibGljIGZ1bmMgZW5jb2RlKHRvIGVuY29kZXI6IEVuY29kZXIpIHRocm93cyB7fQp9CmV4dGVuc2lvbiBPcHRpb25hbCB7Cn0KZXh0ZW5zaW9uIFJhbmdlIHsKfQpleHRlbnNpb24gUmVwZWF0ZWQgewp9CmV4dGVuc2lvbiBTZXQgewp9CmV4dGVuc2lvbiBTbGljZSB7Cn0KZXh0ZW5zaW9uIFN0cmluZyB7CiAgICBwdWJsaWMgc3RhdGljIHZhciBhdmFpbGFibGVTdHJpbmdFbmNvZGluZ3M6IFtFbmNvZGluZ10geyBnZXQgfQogICAgcHVibGljIHN0YXRpYyB2YXIgZGVmYXVsdENTdHJpbmdFbmNvZGluZzogRW5jb2RpbmcgeyBnZXQgfQogICAgcHVibGljIHN0YXRpYyBmdW5jIGxvY2FsaXplZE5hbWUob2YgZW5jb2Rpbmc6IEVuY29kaW5nKSAtPiBTdHJpbmcge30KICAgIHB1YmxpYyBzdGF0aWMgZnVuYyBsb2NhbGl6ZWRTdHJpbmdXaXRoRm9ybWF0KF8gZm9ybWF0OiBTdHJpbmcsIF8gYXJndW1lbnRzOiBDVmFyQXJnLi4uKSAtPiBTdHJpbmcge30KICAgIHB1YmxpYyBpbml0PzxTPihieXRlczogX19zaGFyZWQgUywgZW5jb2Rpbmc6IEVuY29kaW5nKSB3aGVyZSBTIDogU2VxdWVuY2UsIFMuSXRlcmF0b3IuRWxlbWVudCA9PSBVSW50OCB7fQogICAgcHVibGljIGluaXQ/KGJ5dGVzTm9Db3B5IGJ5dGVzOiBVbnNhZmVNdXRhYmxlUmF3UG9pbnRlciwgbGVuZ3RoOiBJbnQsIGVuY29kaW5nOiBFbmNvZGluZywgZnJlZVdoZW5Eb25lIGZsYWc6IEJvb2wpIHt9CiAgICBwdWJsaWMgaW5pdD8oY1N0cmluZzogVW5zYWZlUG9pbnRlcjxDQ2hhcj4sIGVuY29kaW5nIGVuYzogRW5jb2RpbmcpIHt9CiAgICBwdWJsaWMgaW5pdChjb250ZW50c09mIHVybDogX19zaGFyZWQgVVJMKSB0aHJvd3Mge30KICAgIHB1YmxpYyBpbml0KGNvbnRlbnRzT2YgdXJsOiBfX3NoYXJlZCBVUkwsIGVuY29kaW5nIGVuYzogRW5jb2RpbmcpIHRocm93cyB7fQogICAgcHVibGljIGluaXQoY29udGVudHNPZiB1cmw6IF9fc2hhcmVkIFVSTCwgdXNlZEVuY29kaW5nOiBpbm91dCBFbmNvZGluZykgdGhyb3dzIHt9CiAgICBwdWJsaWMgaW5pdChjb250ZW50c09mRmlsZSBwYXRoOiBfX3NoYXJlZCBTdHJpbmcpIHRocm93cyB7fQogICAgcHVibGljIGluaXQoY29udGVudHNPZkZpbGUgcGF0aDogX19zaGFyZWQgU3RyaW5nLCBlbmNvZGluZyBlbmM6IEVuY29kaW5nKSB0aHJvd3Mge30KICAgIHB1YmxpYyBpbml0KGNvbnRlbnRzT2ZGaWxlIHBhdGg6IF9fc2hhcmVkIFN0cmluZywgdXNlZEVuY29kaW5nOiBpbm91dCBFbmNvZGluZykgdGhyb3dzIHt9CiAgICBwdWJsaWMgaW5pdD8oZGF0YTogX19zaGFyZWQgRGF0YSwgZW5jb2Rpbmc6IEVuY29kaW5nKSB7fQogICAgcHVibGljIGluaXQoZm9ybWF0OiBfX3NoYXJlZCBTdHJpbmcsIF8gYXJndW1lbnRzOiBDVmFyQXJnLi4uKSB7fQogICAgcHVibGljIGluaXQoZm9ybWF0OiBfX3NoYXJlZCBTdHJpbmcsIGFyZ3VtZW50czogX19zaGFyZWQgW0NWYXJBcmddKSB7fQogICAgcHVibGljIGluaXQoZm9ybWF0OiBfX3NoYXJlZCBTdHJpbmcsIGxvY2FsZTogX19zaGFyZWQgTG9jYWxlPywgXyBhcmdzOiBDVmFyQXJnLi4uKSB7fQogICAgcHVibGljIGluaXQoZm9ybWF0OiBfX3NoYXJlZCBTdHJpbmcsIGxvY2FsZTogX19zaGFyZWQgTG9jYWxlPywgYXJndW1lbnRzOiBfX3NoYXJlZCBbQ1ZhckFyZ10pIHt9CiAgICBwdWJsaWMgaW5pdCh1dGYxNkNvZGVVbml0czogVW5zYWZlUG9pbnRlcjx1bmljaGFyPiwgY291bnQ6IEludCkge30KICAgIHB1YmxpYyBpbml0KHV0ZjE2Q29kZVVuaXRzTm9Db3B5OiBVbnNhZmVQb2ludGVyPHVuaWNoYXI+LCBjb3VudDogSW50LCBmcmVlV2hlbkRvbmUgZmxhZzogQm9vbCkge30KICAgIHB1YmxpYyBpbml0Pyh1dGY4U3RyaW5nIGJ5dGVzOiBVbnNhZmVQb2ludGVyPENDaGFyPikge30KfQpleHRlbnNpb24gU3RyaW5nLkVuY29kaW5nIHsKICAgIHB1YmxpYyB2YXIgZGVzY3JpcHRpb246IFN0cmluZyB7IGdldCB9CiAgICBwdWJsaWMgdmFyIGhhc2hWYWx1ZTogSW50IHsgZ2V0IH0KICAgIHB1YmxpYyBmdW5jID09KGxoczogU3RyaW5nLkVuY29kaW5nLCByaHM6IFN0cmluZy5FbmNvZGluZykgLT4gQm9vbCB7fQp9CmV4dGVuc2lvbiBTdHJpbmdQcm90b2NvbCB7CiAgICBwdWJsaWMgZnVuYyBhcHBlbmRpbmc8VD4oXyBhU3RyaW5nOiBUKSAtPiBTdHJpbmcgd2hlcmUgVCA6IFN0cmluZ1Byb3RvY29sLCBJbmRleCA9PSBTdHJpbmcuSW5kZXgge30KICAgIHB1YmxpYyBmdW5jIGFwcGVuZGluZ0Zvcm1hdDxUPihfIGZvcm1hdDogVCwgXyBhcmd1bWVudHM6IENWYXJBcmcuLi4pIC0+IFN0cmluZyB3aGVyZSBUIDogU3RyaW5nUHJvdG9jb2wsIEluZGV4ID09IFN0cmluZy5JbmRleCB7fQogICAgcHVibGljIGZ1bmMgY2FzZUluc2Vuc2l0aXZlQ29tcGFyZTxUPihfIGFTdHJpbmc6IFQpIC0+IENvbXBhcmlzb25SZXN1bHQgd2hlcmUgVCA6IFN0cmluZ1Byb3RvY29sLCBJbmRleCA9PSBTdHJpbmcuSW5kZXgge30KICAgIHB1YmxpYyBmdW5jIGNvbW1vblByZWZpeDxUPih3aXRoIGFTdHJpbmc6IFQsIG9wdGlvbnM6IFN0cmluZy5Db21wYXJlT3B0aW9ucyA9IHgpIC0+IFN0cmluZyB3aGVyZSBUIDogU3RyaW5nUHJvdG9jb2wsIEluZGV4ID09IFN0cmluZy5JbmRleCB7fQogICAgcHVibGljIGZ1bmMgY29tcGFyZTxUPihfIGFTdHJpbmc6IFQsIG9wdGlvbnMgbWFzazogU3RyaW5nLkNvbXBhcmVPcHRpb25zID0geCwgcmFuZ2U6IFJhbmdlPEluZGV4Pj8gPSB4LCBsb2NhbGU6IExvY2FsZT8gPSB4KSAtPiBDb21wYXJpc29uUmVzdWx0IHdoZXJlIFQgOiBTdHJpbmdQcm90b2NvbCwgSW5kZXggPT0gU3RyaW5nLkluZGV4IHt9CiAgICBwdWJsaWMgZnVuYyBjb21wb25lbnRzPFQ+KHNlcGFyYXRlZEJ5IHNlcGFyYXRvcjogVCkgLT4gW1N0cmluZ10gd2hlcmUgVCA6IFN0cmluZ1Byb3RvY29sLCBJbmRleCA9PSBTdHJpbmcuSW5kZXgge30KICAgIHB1YmxpYyBmdW5jIGNvbnRhaW5zPFQ+KF8gb3RoZXI6IFQpIC0+IEJvb2wgd2hlcmUgVCA6IFN0cmluZ1Byb3RvY29sLCBJbmRleCA9PSBTdHJpbmcuSW5kZXgge30KI2lmICFERVBMT1lNRU5UX1JVTlRJTUVfU1dJRlQKICAgIHB1YmxpYyBmdW5jIGVudW1lcmF0ZUxpbmd1aXN0aWNUYWdzPFQsIFI+KGluIHJhbmdlOiBSLCBzY2hlbWUgdGFnU2NoZW1lOiBULCBvcHRpb25zIG9wdHM6IE5TTGluZ3Vpc3RpY1RhZ2dlci5PcHRpb25zID0geCwgb3J0aG9ncmFwaHk6IE5TT3J0aG9ncmFwaHk/ID0geCwgaW52b2tpbmcgYm9keTogKFN0cmluZywgUmFuZ2U8SW5kZXg+LCBSYW5nZTxJbmRleD4sIGlub3V0IEJvb2wpIC0+IFZvaWQpIHdoZXJlIFIgOiBSYW5nZUV4cHJlc3Npb24sIFQgOiBTdHJpbmdQcm90b2NvbCwgSW5kZXggPT0gUi5Cb3VuZCwgSW5kZXggPT0gU3RyaW5nLkluZGV4IHt9CiNlbmRpZgogICAgcHVibGljIGZ1bmMgZW51bWVyYXRlU3Vic3RyaW5nczxSPihpbiByYW5nZTogUiwgb3B0aW9ucyBvcHRzOiBTdHJpbmcuRW51bWVyYXRpb25PcHRpb25zID0geCwgXyBib2R5OiBAZXNjYXBpbmcgKF8gc3Vic3RyaW5nOiBTdHJpbmc/LCBfIHN1YnN0cmluZ1JhbmdlOiBSYW5nZTxJbmRleD4sIF8gZW5jbG9zaW5nUmFuZ2U6IFJhbmdlPEluZGV4PiwgaW5vdXQgQm9vbCkgLT4gVm9pZCkgd2hlcmUgUiA6IFJhbmdlRXhwcmVzc2lvbiwgSW5kZXggPT0gUi5Cb3VuZCwgSW5kZXggPT0gU3RyaW5nLkluZGV4IHt9CiAgICBwdWJsaWMgZnVuYyBnZXRCeXRlczxSPihfIGJ1ZmZlcjogaW5vdXQgW1VJbnQ4XSwgbWF4TGVuZ3RoIG1heEJ1ZmZlckNvdW50OiBJbnQsIHVzZWRMZW5ndGggdXNlZEJ1ZmZlckNvdW50OiBVbnNhZmVNdXRhYmxlUG9pbnRlcjxJbnQ+LCBlbmNvZGluZzogU3RyaW5nLkVuY29kaW5nLCBvcHRpb25zOiBTdHJpbmcuRW5jb2RpbmdDb252ZXJzaW9uT3B0aW9ucyA9IHgsIHJhbmdlOiBSLCByZW1haW5pbmcgbGVmdG92ZXI6IFVuc2FmZU11dGFibGVQb2ludGVyPFJhbmdlPEluZGV4Pj4pIC0+IEJvb2wgd2hlcmUgUiA6IFJhbmdlRXhwcmVzc2lvbiwgSW5kZXggPT0gUi5Cb3VuZCwgSW5kZXggPT0gU3RyaW5nLkluZGV4IHt9CiAgICBwdWJsaWMgZnVuYyBnZXRMaW5lU3RhcnQ8Uj4oXyBzdGFydDogVW5zYWZlTXV0YWJsZVBvaW50ZXI8SW5kZXg+LCBlbmQ6IFVuc2FmZU11dGFibGVQb2ludGVyPEluZGV4PiwgY29udGVudHNFbmQ6IFVuc2FmZU11dGFibGVQb2ludGVyPEluZGV4PiwgZm9yIHJhbmdlOiBSKSB3aGVyZSBSIDogUmFuZ2VFeHByZXNzaW9uLCBJbmRleCA9PSBSLkJvdW5kLCBJbmRleCA9PSBTdHJpbmcuSW5kZXgge30KICAgIHB1YmxpYyBmdW5jIGdldFBhcmFncmFwaFN0YXJ0PFI+KF8gc3RhcnQ6IFVuc2FmZU11dGFibGVQb2ludGVyPEluZGV4PiwgZW5kOiBVbnNhZmVNdXRhYmxlUG9pbnRlcjxJbmRleD4sIGNvbnRlbnRzRW5kOiBVbnNhZmVNdXRhYmxlUG9pbnRlcjxJbmRleD4sIGZvciByYW5nZTogUikgd2hlcmUgUiA6IFJhbmdlRXhwcmVzc2lvbiwgSW5kZXggPT0gUi5Cb3VuZCwgSW5kZXggPT0gU3RyaW5nLkluZGV4IHt9CiAgICBwdWJsaWMgZnVuYyBsaW5lUmFuZ2U8Uj4oZm9yIGFSYW5nZTogUikgLT4gUmFuZ2U8SW5kZXg+IHdoZXJlIFIgOiBSYW5nZUV4cHJlc3Npb24sIEluZGV4ID09IFIuQm91bmQsIEluZGV4ID09IFN0cmluZy5JbmRleCB7fQojaWYgIURFUExPWU1FTlRfUlVOVElNRV9TV0lGVAogICAgcHVibGljIGZ1bmMgbGluZ3Vpc3RpY1RhZ3M8VCwgUj4oaW4gcmFuZ2U6IFIsIHNjaGVtZSB0YWdTY2hlbWU6IFQsIG9wdGlvbnMgb3B0czogTlNMaW5ndWlzdGljVGFnZ2VyLk9wdGlvbnMgPSB4LCBvcnRob2dyYXBoeTogTlNPcnRob2dyYXBoeT8gPSB4LCB0b2tlblJhbmdlczogVW5zYWZlTXV0YWJsZVBvaW50ZXI8W1JhbmdlPEluZGV4Pl0+PyA9IHgpIC0+IFtTdHJpbmddIHdoZXJlIFIgOiBSYW5nZUV4cHJlc3Npb24sIFQgOiBTdHJpbmdQcm90b2NvbCwgSW5kZXggPT0gUi5Cb3VuZCwgSW5kZXggPT0gU3RyaW5nLkluZGV4IHt9CiNlbmRpZgogICAgcHVibGljIGZ1bmMgbG9jYWxpemVkQ2FzZUluc2Vuc2l0aXZlQ29tcGFyZTxUPihfIGFTdHJpbmc6IFQpIC0+IENvbXBhcmlzb25SZXN1bHQgd2hlcmUgVCA6IFN0cmluZ1Byb3RvY29sLCBJbmRleCA9PSBTdHJpbmcuSW5kZXgge30KICAgIHB1YmxpYyBmdW5jIGxvY2FsaXplZENhc2VJbnNlbnNpdGl2ZUNvbnRhaW5zPFQ+KF8gb3RoZXI6IFQpIC0+IEJvb2wgd2hlcmUgVCA6IFN0cmluZ1Byb3RvY29sLCBJbmRleCA9PSBTdHJpbmcuSW5kZXgge30KICAgIHB1YmxpYyBmdW5jIGxvY2FsaXplZENvbXBhcmU8VD4oXyBhU3RyaW5nOiBUKSAtPiBDb21wYXJpc29uUmVzdWx0IHdoZXJlIFQgOiBTdHJpbmdQcm90b2NvbCwgSW5kZXggPT0gU3RyaW5nLkluZGV4IHt9CiAgICBwdWJsaWMgZnVuYyBsb2NhbGl6ZWRTdGFuZGFyZENvbXBhcmU8VD4oXyBzdHJpbmc6IFQpIC0+IENvbXBhcmlzb25SZXN1bHQgd2hlcmUgVCA6IFN0cmluZ1Byb3RvY29sLCBJbmRleCA9PSBTdHJpbmcuSW5kZXgge30KICAgIEBhdmFpbGFibGUobWFjT1MgMTAuMTEsIGlPUyA5LjAsICopIHB1YmxpYyBmdW5jIGxvY2FsaXplZFN0YW5kYXJkQ29udGFpbnM8VD4oXyBzdHJpbmc6IFQpIC0+IEJvb2wgd2hlcmUgVCA6IFN0cmluZ1Byb3RvY29sLCBJbmRleCA9PSBTdHJpbmcuSW5kZXgge30KICAgIEBhdmFpbGFibGUobWFjT1MgMTAuMTEsIGlPUyA5LjAsICopIHB1YmxpYyBmdW5jIGxvY2FsaXplZFN0YW5kYXJkUmFuZ2U8VD4ob2Ygc3RyaW5nOiBUKSAtPiBSYW5nZTxJbmRleD4/IHdoZXJlIFQgOiBTdHJpbmdQcm90b2NvbCwgSW5kZXggPT0gU3RyaW5nLkluZGV4IHt9CiAgICBwdWJsaWMgZnVuYyBwYWRkaW5nPFQ+KHRvTGVuZ3RoIG5ld0xlbmd0aDogSW50LCB3aXRoUGFkIHBhZFN0cmluZzogVCwgc3RhcnRpbmdBdCBwYWRJbmRleDogSW50KSAtPiBTdHJpbmcgd2hlcmUgVCA6IFN0cmluZ1Byb3RvY29sLCBJbmRleCA9PSBTdHJpbmcuSW5kZXgge30KI2lmICFERVBMT1lNRU5UX1JVTlRJTUVfU1dJRlQKICAgIHB1YmxpYyBmdW5jIHBhcmFncmFwaFJhbmdlPFI+KGZvciBhUmFuZ2U6IFIpIC0+IFJhbmdlPEluZGV4PiB3aGVyZSBSIDogUmFuZ2VFeHByZXNzaW9uLCBJbmRleCA9PSBSLkJvdW5kLCBJbmRleCA9PSBTdHJpbmcuSW5kZXgge30KI2VuZGlmCiAgICBwdWJsaWMgZnVuYyByYW5nZTxUPihvZiBhU3RyaW5nOiBULCBvcHRpb25zIG1hc2s6IFN0cmluZy5Db21wYXJlT3B0aW9ucyA9IHgsIHJhbmdlIHNlYXJjaFJhbmdlOiBSYW5nZTxJbmRleD4/ID0geCwgbG9jYWxlOiBMb2NhbGU/ID0geCkgLT4gUmFuZ2U8SW5kZXg+PyB3aGVyZSBUIDogU3RyaW5nUHJvdG9jb2wsIEluZGV4ID09IFN0cmluZy5JbmRleCB7fQogICAgcHVibGljIGZ1bmMgcmFuZ2VPZkNvbXBvc2VkQ2hhcmFjdGVyU2VxdWVuY2VzPFI+KGZvciByYW5nZTogUikgLT4gUmFuZ2U8SW5kZXg+IHdoZXJlIFIgOiBSYW5nZUV4cHJlc3Npb24sIEluZGV4ID09IFIuQm91bmQsIEluZGV4ID09IFN0cmluZy5JbmRleCB7fQogICAgcHVibGljIGZ1bmMgcmVwbGFjaW5nQ2hhcmFjdGVyczxULCBSPihpbiByYW5nZTogUiwgd2l0aCByZXBsYWNlbWVudDogVCkgLT4gU3RyaW5nIHdoZXJlIFIgOiBSYW5nZUV4cHJlc3Npb24sIFQgOiBTdHJpbmdQcm90b2NvbCwgSW5kZXggPT0gUi5Cb3VuZCwgSW5kZXggPT0gU3RyaW5nLkluZGV4IHt9CiAgICBwdWJsaWMgZnVuYyByZXBsYWNpbmdPY2N1cnJlbmNlczxUYXJnZXQsIFJlcGxhY2VtZW50PihvZiB0YXJnZXQ6IFRhcmdldCwgd2l0aCByZXBsYWNlbWVudDogUmVwbGFjZW1lbnQsIG9wdGlvbnM6IFN0cmluZy5Db21wYXJlT3B0aW9ucyA9IHgsIHJhbmdlIHNlYXJjaFJhbmdlOiBSYW5nZTxJbmRleD4/ID0geCkgLT4gU3RyaW5nIHdoZXJlIFJlcGxhY2VtZW50IDogU3RyaW5nUHJvdG9jb2wsIFRhcmdldCA6IFN0cmluZ1Byb3RvY29sLCBJbmRleCA9PSBTdHJpbmcuSW5kZXgge30KICAgIHB1YmxpYyBmdW5jIHdyaXRlPFQ+KHRvRmlsZSBwYXRoOiBULCBhdG9taWNhbGx5IHVzZUF1eGlsaWFyeUZpbGU6IEJvb2wsIGVuY29kaW5nIGVuYzogU3RyaW5nLkVuY29kaW5nKSB0aHJvd3Mgd2hlcmUgVCA6IFN0cmluZ1Byb3RvY29sLCBJbmRleCA9PSBTdHJpbmcuSW5kZXgge30KfQpleHRlbnNpb24gVUludCB7CiAgICBwdWJsaWMgaW5pdChfIHZhbHVlOiBDR0Zsb2F0KSB7fQogICAgcHVibGljIGluaXQ/KGV4YWN0bHkgbnVtYmVyOiBOU051bWJlcikge30KICAgIHB1YmxpYyBpbml0KHRydW5jYXRpbmcgbnVtYmVyOiBOU051bWJlcikge30KfQpleHRlbnNpb24gVUludDE2IHsKICAgIHB1YmxpYyBpbml0KF8gdmFsdWU6IENHRmxvYXQpIHt9CiAgICBwdWJsaWMgaW5pdD8oZXhhY3RseSBudW1iZXI6IE5TTnVtYmVyKSB7fQogICAgcHVibGljIGluaXQodHJ1bmNhdGluZyBudW1iZXI6IE5TTnVtYmVyKSB7fQp9CmV4dGVuc2lvbiBVSW50MzIgewogICAgcHVibGljIGluaXQoXyB2YWx1ZTogQ0dGbG9hdCkge30KICAgIHB1YmxpYyBpbml0PyhleGFjdGx5IG51bWJlcjogTlNOdW1iZXIpIHt9CiAgICBwdWJsaWMgaW5pdCh0cnVuY2F0aW5nIG51bWJlcjogTlNOdW1iZXIpIHt9Cn0KZXh0ZW5zaW9uIFVJbnQ2NCB7CiAgICBwdWJsaWMgaW5pdChfIHZhbHVlOiBDR0Zsb2F0KSB7fQogICAgcHVibGljIGluaXQ/KGV4YWN0bHkgbnVtYmVyOiBOU051bWJlcikge30KICAgIHB1YmxpYyBpbml0KHRydW5jYXRpbmcgbnVtYmVyOiBOU051bWJlcikge30KfQpleHRlbnNpb24gVUludDggewogICAgcHVibGljIGluaXQoXyB2YWx1ZTogQ0dGbG9hdCkge30KICAgIHB1YmxpYyBpbml0PyhleGFjdGx5IG51bWJlcjogTlNOdW1iZXIpIHt9CiAgICBwdWJsaWMgaW5pdCh0cnVuY2F0aW5nIG51bWJlcjogTlNOdW1iZXIpIHt9Cn0KZXh0ZW5zaW9uIFVuc2FmZUJ1ZmZlclBvaW50ZXIgewp9CmV4dGVuc2lvbiBVbnNhZmVNdXRhYmxlQnVmZmVyUG9pbnRlciB7Cn0KZXh0ZW5zaW9uIFVuc2FmZU11dGFibGVSYXdCdWZmZXJQb2ludGVyIHsKfQpleHRlbnNpb24gVW5zYWZlUmF3QnVmZmVyUG9pbnRlciB7Cn0=")!, encoding: String.Encoding.utf8)!
        static let swift = String(data: Data(base64Encoded: "b3BlbiBjbGFzcyBNYW5hZ2VkQnVmZmVyPEhlYWRlciwgRWxlbWVudD4gewogICAgcHVibGljIHZhciBoZWFkZXI6IEhlYWRlciB7IGdldCBzZXQgfQp9CnB1YmxpYyBwcm90b2NvbCBBZGRpdGl2ZUFyaXRobWV0aWMgOiBFcXVhdGFibGUgewogICAgc3RhdGljIHZhciB6ZXJvOiBTZWxmIHsgZ2V0IH0KICAgIHByZWZpeCBmdW5jICsoeDogU2VsZikgLT4gU2VsZgogICAgZnVuYyArKGxoczogU2VsZiwgcmhzOiBTZWxmKSAtPiBTZWxmCiAgICBmdW5jICs9KGxoczogaW5vdXQgU2VsZiwgcmhzOiBTZWxmKQogICAgZnVuYyAtKGxoczogU2VsZiwgcmhzOiBTZWxmKSAtPiBTZWxmCiAgICBmdW5jIC09KGxoczogaW5vdXQgU2VsZiwgcmhzOiBTZWxmKQp9CnB1YmxpYyBwcm90b2NvbCBCaWRpcmVjdGlvbmFsQ29sbGVjdGlvbiA6IENvbGxlY3Rpb24sIFNlcXVlbmNlIHsKICAgIHZhciBsYXN0OiBFbGVtZW50PyB7IGdldCB9CiAgICBmdW5jIGZvcm1JbmRleChiZWZvcmUgaTogaW5vdXQgSW5kZXgpCiAgICBmdW5jIGluZGV4KGJlZm9yZSBpOiBJbmRleCkgLT4gSW5kZXgKICAgIGZ1bmMgbGFzdCh3aGVyZSBwcmVkaWNhdGU6IChFbGVtZW50KSB0aHJvd3MgLT4gQm9vbCkgcmV0aHJvd3MgLT4gRWxlbWVudD8KICAgIGZ1bmMgbGFzdEluZGV4KHdoZXJlIHByZWRpY2F0ZTogKEVsZW1lbnQpIHRocm93cyAtPiBCb29sKSByZXRocm93cyAtPiBJbmRleD8KfQpwdWJsaWMgcHJvdG9jb2wgQmluYXJ5RmxvYXRpbmdQb2ludCA6IEFkZGl0aXZlQXJpdGhtZXRpYywgQ29tcGFyYWJsZSwgRXF1YXRhYmxlLCBFeHByZXNzaWJsZUJ5RmxvYXRMaXRlcmFsLCBFeHByZXNzaWJsZUJ5SW50ZWdlckxpdGVyYWwsIEZsb2F0aW5nUG9pbnQsIEhhc2hhYmxlLCBOdW1lcmljLCBTaWduZWROdW1lcmljLCBTdHJpZGVhYmxlIHsKICAgIGFzc29jaWF0ZWR0eXBlIFJhd0V4cG9uZW50CiAgICBhc3NvY2lhdGVkdHlwZSBSYXdTaWduaWZpY2FuZAogICAgc3RhdGljIHZhciBleHBvbmVudEJpdENvdW50OiBJbnQgeyBnZXQgfQogICAgc3RhdGljIHZhciBzaWduaWZpY2FuZEJpdENvdW50OiBJbnQgeyBnZXQgfQogICAgc3RhdGljIGZ1bmMgcmFuZG9tPFQ+KGluIHJhbmdlOiBDbG9zZWRSYW5nZTxTZWxmPiwgdXNpbmcgZ2VuZXJhdG9yOiBpbm91dCBUKSAtPiBTZWxmIHdoZXJlIFJhd1NpZ25pZmljYW5kIDogRml4ZWRXaWR0aEludGVnZXIsIFQgOiBSYW5kb21OdW1iZXJHZW5lcmF0b3IKICAgIHN0YXRpYyBmdW5jIHJhbmRvbTxUPihpbiByYW5nZTogUmFuZ2U8U2VsZj4sIHVzaW5nIGdlbmVyYXRvcjogaW5vdXQgVCkgLT4gU2VsZiB3aGVyZSBSYXdTaWduaWZpY2FuZCA6IEZpeGVkV2lkdGhJbnRlZ2VyLCBUIDogUmFuZG9tTnVtYmVyR2VuZXJhdG9yCiAgICBpbml0KHNpZ246IEZsb2F0aW5nUG9pbnRTaWduLCBleHBvbmVudEJpdFBhdHRlcm46IFJhd0V4cG9uZW50LCBzaWduaWZpY2FuZEJpdFBhdHRlcm46IFJhd1NpZ25pZmljYW5kKQogICAgdmFyIGJpbmFkZTogU2VsZiB7IGdldCB9CiAgICB2YXIgZXhwb25lbnRCaXRQYXR0ZXJuOiBSYXdFeHBvbmVudCB7IGdldCB9CiAgICB2YXIgc2lnbmlmaWNhbmRCaXRQYXR0ZXJuOiBSYXdTaWduaWZpY2FuZCB7IGdldCB9CiAgICB2YXIgc2lnbmlmaWNhbmRXaWR0aDogSW50IHsgZ2V0IH0KfQpwdWJsaWMgcHJvdG9jb2wgQmluYXJ5SW50ZWdlciA6IEFkZGl0aXZlQXJpdGhtZXRpYywgQ29tcGFyYWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgRXhwcmVzc2libGVCeUludGVnZXJMaXRlcmFsLCBIYXNoYWJsZSwgTnVtZXJpYywgU3RyaWRlYWJsZSB7CiAgICBhc3NvY2lhdGVkdHlwZSBXb3JkcyB3aGVyZSBJbnQgPT0gV29yZHMuSW5kZXgsIFVJbnQgPT0gV29yZHMuRWxlbWVudAogICAgc3RhdGljIHZhciBpc1NpZ25lZDogQm9vbCB7IGdldCB9CiAgICBpbml0KCkKICAgIGluaXQ8VD4oXyBzb3VyY2U6IFQpIHdoZXJlIFQgOiBCaW5hcnlGbG9hdGluZ1BvaW50CiAgICBpbml0PFQ+KF8gc291cmNlOiBUKSB3aGVyZSBUIDogQmluYXJ5SW50ZWdlcgogICAgaW5pdDxUPihjbGFtcGluZyBzb3VyY2U6IFQpIHdoZXJlIFQgOiBCaW5hcnlJbnRlZ2VyCiAgICBpbml0PFQ+KHRydW5jYXRpbmdJZk5lZWRlZCBzb3VyY2U6IFQpIHdoZXJlIFQgOiBCaW5hcnlJbnRlZ2VyCiAgICB2YXIgYml0V2lkdGg6IEludCB7IGdldCB9CiAgICB2YXIgdHJhaWxpbmdaZXJvQml0Q291bnQ6IEludCB7IGdldCB9CiAgICB2YXIgd29yZHM6IFdvcmRzIHsgZ2V0IH0KICAgIGZ1bmMgJShsaHM6IFNlbGYsIHJoczogU2VsZikgLT4gU2VsZgogICAgZnVuYyAlPShsaHM6IGlub3V0IFNlbGYsIHJoczogU2VsZikKICAgIGZ1bmMgJihsaHM6IFNlbGYsIHJoczogU2VsZikgLT4gU2VsZgogICAgZnVuYyAmPShsaHM6IGlub3V0IFNlbGYsIHJoczogU2VsZikKICAgIGZ1bmMgLyhsaHM6IFNlbGYsIHJoczogU2VsZikgLT4gU2VsZgogICAgZnVuYyAvPShsaHM6IGlub3V0IFNlbGYsIHJoczogU2VsZikKICAgIGZ1bmMgPDw8UkhTPihsaHM6IFNlbGYsIHJoczogUkhTKSAtPiBTZWxmIHdoZXJlIFJIUyA6IEJpbmFyeUludGVnZXIKICAgIGZ1bmMgPDw9PFJIUz4obGhzOiBpbm91dCBTZWxmLCByaHM6IFJIUykgd2hlcmUgUkhTIDogQmluYXJ5SW50ZWdlcgogICAgZnVuYyA+PjxSSFM+KGxoczogU2VsZiwgcmhzOiBSSFMpIC0+IFNlbGYgd2hlcmUgUkhTIDogQmluYXJ5SW50ZWdlcgogICAgZnVuYyA+Pj08UkhTPihsaHM6IGlub3V0IFNlbGYsIHJoczogUkhTKSB3aGVyZSBSSFMgOiBCaW5hcnlJbnRlZ2VyCiAgICBmdW5jIF4obGhzOiBTZWxmLCByaHM6IFNlbGYpIC0+IFNlbGYKICAgIGZ1bmMgXj0obGhzOiBpbm91dCBTZWxmLCByaHM6IFNlbGYpCiAgICBmdW5jIGlzTXVsdGlwbGUob2Ygb3RoZXI6IFNlbGYpIC0+IEJvb2wKICAgIGZ1bmMgcXVvdGllbnRBbmRSZW1haW5kZXIoZGl2aWRpbmdCeSByaHM6IFNlbGYpIC0+IChxdW90aWVudCA6IFNlbGYsIHJlbWFpbmRlciA6IFNlbGYpCiAgICBmdW5jIHF1b3RpZW50QW5kUmVtYWluZGVyKGRpdmlkaW5nQnkgcmhzOiBTZWxmKSAtPiAocXVvdGllbnQgOiBTZWxmLCByZW1haW5kZXIgOiBTZWxmKQogICAgZnVuYyBzaWdudW0oKSAtPiBTZWxmCiAgICBmdW5jIHwobGhzOiBTZWxmLCByaHM6IFNlbGYpIC0+IFNlbGYKICAgIGZ1bmMgfD0obGhzOiBpbm91dCBTZWxmLCByaHM6IFNlbGYpCiAgICBwcmVmaXggZnVuYyB+KHg6IFNlbGYpIC0+IFNlbGYKfQpwdWJsaWMgcHJvdG9jb2wgQ1ZhckFyZyB7Cn0KcHVibGljIHByb3RvY29sIENhc2VJdGVyYWJsZSB7CiAgICBhc3NvY2lhdGVkdHlwZSBBbGxDYXNlcyB3aGVyZSBBbGxDYXNlcy5FbGVtZW50ID09IFNlbGYKICAgIHN0YXRpYyB2YXIgYWxsQ2FzZXM6IEFsbENhc2VzIHsgZ2V0IH0KfQpwdWJsaWMgcHJvdG9jb2wgQ29kaW5nS2V5IDogQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUgewogICAgaW5pdD8oaW50VmFsdWU6IEludCkKICAgIGluaXQ/KHN0cmluZ1ZhbHVlOiBTdHJpbmcpCiAgICB2YXIgaW50VmFsdWU6IEludD8geyBnZXQgfQogICAgdmFyIHN0cmluZ1ZhbHVlOiBTdHJpbmcgeyBnZXQgfQp9CnB1YmxpYyBwcm90b2NvbCBDb2xsZWN0aW9uIDogU2VxdWVuY2UgewogICAgYXNzb2NpYXRlZHR5cGUgSW5kZXgKICAgIGFzc29jaWF0ZWR0eXBlIEluZGljZXMgd2hlcmUgSW5kZXggPT0gSW5kaWNlcy5FbGVtZW50LCBJbmRleCA9PSBJbmRpY2VzLkluZGV4LCBJbmRpY2VzID09IEluZGljZXMuU3ViU2VxdWVuY2UKICAgIGFzc29jaWF0ZWR0eXBlIFN1YlNlcXVlbmNlIHdoZXJlIEVsZW1lbnQgPT0gU3ViU2VxdWVuY2UuRWxlbWVudCwgSW5kZXggPT0gU3ViU2VxdWVuY2UuSW5kZXgsIFN1YlNlcXVlbmNlID09IFN1YlNlcXVlbmNlLlN1YlNlcXVlbmNlCiAgICB2YXIgY291bnQ6IEludCB7IGdldCB9CiAgICB2YXIgZW5kSW5kZXg6IEluZGV4IHsgZ2V0IH0KICAgIHZhciBmaXJzdDogRWxlbWVudD8geyBnZXQgfQogICAgdmFyIGluZGljZXM6IEluZGljZXMgeyBnZXQgfQogICAgdmFyIGlzRW1wdHk6IEJvb2wgeyBnZXQgfQogICAgdmFyIGlzRW1wdHk6IEJvb2wgeyBnZXQgfQogICAgdmFyIHN0YXJ0SW5kZXg6IEluZGV4IHsgZ2V0IH0KICAgIHN1YnNjcmlwdChib3VuZHM6IFJhbmdlPEluZGV4PikgLT4gU3ViU2VxdWVuY2UgeyBnZXQgfQogICAgc3Vic2NyaXB0KHBvc2l0aW9uOiBJbmRleCkgLT4gRWxlbWVudCB7IGdldCB9CiAgICBzdWJzY3JpcHQoeDogVW5ib3VuZGVkUmFuZ2UpIC0+IFN1YlNlcXVlbmNlIHsgZ2V0IH0KICAgIHN1YnNjcmlwdDxSPihyOiBSKSAtPiBTdWJTZXF1ZW5jZSB3aGVyZSBSIDogUmFuZ2VFeHByZXNzaW9uLCBJbmRleCA9PSBSLkJvdW5kIHsgZ2V0IH0KICAgIGZ1bmMgZGlzdGFuY2UoZnJvbSBzdGFydDogSW5kZXgsIHRvIGVuZDogSW5kZXgpIC0+IEludAogICAgZnVuYyBmaXJzdEluZGV4KHdoZXJlIHByZWRpY2F0ZTogKEVsZW1lbnQpIHRocm93cyAtPiBCb29sKSByZXRocm93cyAtPiBJbmRleD8KICAgIGZ1bmMgZm9ybUluZGV4KF8gaTogaW5vdXQgSW5kZXgsIG9mZnNldEJ5IGRpc3RhbmNlOiBJbnQpCiAgICBmdW5jIGZvcm1JbmRleChfIGk6IGlub3V0IEluZGV4LCBvZmZzZXRCeSBkaXN0YW5jZTogSW50LCBsaW1pdGVkQnkgbGltaXQ6IEluZGV4KSAtPiBCb29sCiAgICBmdW5jIGZvcm1JbmRleChhZnRlciBpOiBpbm91dCBJbmRleCkKICAgIGZ1bmMgaW5kZXgoXyBpOiBJbmRleCwgb2Zmc2V0QnkgZGlzdGFuY2U6IEludCkgLT4gSW5kZXgKICAgIGZ1bmMgaW5kZXgoXyBpOiBJbmRleCwgb2Zmc2V0QnkgZGlzdGFuY2U6IEludCwgbGltaXRlZEJ5IGxpbWl0OiBJbmRleCkgLT4gSW5kZXg/CiAgICBmdW5jIGluZGV4KGFmdGVyIGk6IEluZGV4KSAtPiBJbmRleAogICAgZnVuYyBwcmVmaXgodGhyb3VnaCBwb3NpdGlvbjogSW5kZXgpIC0+IFN1YlNlcXVlbmNlCiAgICBmdW5jIHByZWZpeCh1cFRvIGVuZDogSW5kZXgpIC0+IFN1YlNlcXVlbmNlCiAgICBmdW5jIHJhbmRvbUVsZW1lbnQoKSAtPiBFbGVtZW50PwogICAgZnVuYyByYW5kb21FbGVtZW50PFQ+KHVzaW5nIGdlbmVyYXRvcjogaW5vdXQgVCkgLT4gRWxlbWVudD8gd2hlcmUgVCA6IFJhbmRvbU51bWJlckdlbmVyYXRvcgogICAgZnVuYyBzdWZmaXgoZnJvbSBzdGFydDogSW5kZXgpIC0+IFN1YlNlcXVlbmNlCn0KcHVibGljIHByb3RvY29sIENvbXBhcmFibGUgOiBFcXVhdGFibGUgewogICAgcG9zdGZpeCBmdW5jIC4uLihtaW5pbXVtOiBTZWxmKSAtPiBQYXJ0aWFsUmFuZ2VGcm9tPFNlbGY+CiAgICBwcmVmaXggZnVuYyAuLi4obWF4aW11bTogU2VsZikgLT4gUGFydGlhbFJhbmdlVGhyb3VnaDxTZWxmPgogICAgZnVuYyAuLi4obWluaW11bTogU2VsZiwgbWF4aW11bTogU2VsZikgLT4gQ2xvc2VkUmFuZ2U8U2VsZj4KICAgIHByZWZpeCBmdW5jIC4uPChtYXhpbXVtOiBTZWxmKSAtPiBQYXJ0aWFsUmFuZ2VVcFRvPFNlbGY+CiAgICBmdW5jIC4uPChtaW5pbXVtOiBTZWxmLCBtYXhpbXVtOiBTZWxmKSAtPiBSYW5nZTxTZWxmPgogICAgZnVuYyA8KGxoczogU2VsZiwgcmhzOiBTZWxmKSAtPiBCb29sCiAgICBmdW5jIDw9KGxoczogU2VsZiwgcmhzOiBTZWxmKSAtPiBCb29sCiAgICBmdW5jIDw9KGxoczogU2VsZiwgcmhzOiBTZWxmKSAtPiBCb29sCiAgICBmdW5jID4obGhzOiBTZWxmLCByaHM6IFNlbGYpIC0+IEJvb2wKICAgIGZ1bmMgPihsaHM6IFNlbGYsIHJoczogU2VsZikgLT4gQm9vbAogICAgZnVuYyA+PShsaHM6IFNlbGYsIHJoczogU2VsZikgLT4gQm9vbAogICAgZnVuYyA+PShsaHM6IFNlbGYsIHJoczogU2VsZikgLT4gQm9vbAp9CnB1YmxpYyBwcm90b2NvbCBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlIHsKICAgIHZhciBkZWJ1Z0Rlc2NyaXB0aW9uOiBTdHJpbmcgeyBnZXQgfQp9CnB1YmxpYyBwcm90b2NvbCBDdXN0b21MZWFmUmVmbGVjdGFibGUgOiBDdXN0b21SZWZsZWN0YWJsZSB7Cn0KcHVibGljIHByb3RvY29sIEN1c3RvbVBsYXlncm91bmREaXNwbGF5Q29udmVydGlibGUgewogICAgdmFyIHBsYXlncm91bmREZXNjcmlwdGlvbjogQW55IHsgZ2V0IH0KfQpwdWJsaWMgcHJvdG9jb2wgQ3VzdG9tUmVmbGVjdGFibGUgewogICAgdmFyIGN1c3RvbU1pcnJvcjogTWlycm9yIHsgZ2V0IH0KfQpwdWJsaWMgcHJvdG9jb2wgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUgewogICAgdmFyIGRlc2NyaXB0aW9uOiBTdHJpbmcgeyBnZXQgfQp9CnB1YmxpYyBwcm90b2NvbCBEZWNvZGFibGUgewogICAgaW5pdChmcm9tIGRlY29kZXI6IERlY29kZXIpIHRocm93cwp9CnB1YmxpYyBwcm90b2NvbCBEZWNvZGVyIHsKICAgIHZhciBjb2RpbmdQYXRoOiBbQ29kaW5nS2V5XSB7IGdldCB9CiAgICB2YXIgdXNlckluZm86IFtDb2RpbmdVc2VySW5mb0tleTogQW55XSB7IGdldCB9CiAgICBmdW5jIGNvbnRhaW5lcjxLZXk+KGtleWVkQnkgdHlwZTogS2V5LlR5cGUpIHRocm93cyAtPiBLZXllZERlY29kaW5nQ29udGFpbmVyPEtleT4KICAgIGZ1bmMgc2luZ2xlVmFsdWVDb250YWluZXIoKSB0aHJvd3MgLT4gU2luZ2xlVmFsdWVEZWNvZGluZ0NvbnRhaW5lcgogICAgZnVuYyB1bmtleWVkQ29udGFpbmVyKCkgdGhyb3dzIC0+IFVua2V5ZWREZWNvZGluZ0NvbnRhaW5lcgp9CnB1YmxpYyBwcm90b2NvbCBFbmNvZGFibGUgewogICAgZnVuYyBlbmNvZGUodG8gZW5jb2RlcjogRW5jb2RlcikgdGhyb3dzCn0KcHVibGljIHByb3RvY29sIEVuY29kZXIgewogICAgdmFyIGNvZGluZ1BhdGg6IFtDb2RpbmdLZXldIHsgZ2V0IH0KICAgIHZhciB1c2VySW5mbzogW0NvZGluZ1VzZXJJbmZvS2V5OiBBbnldIHsgZ2V0IH0KICAgIGZ1bmMgY29udGFpbmVyPEtleT4oa2V5ZWRCeSB0eXBlOiBLZXkuVHlwZSkgLT4gS2V5ZWRFbmNvZGluZ0NvbnRhaW5lcjxLZXk+CiAgICBmdW5jIHNpbmdsZVZhbHVlQ29udGFpbmVyKCkgLT4gU2luZ2xlVmFsdWVFbmNvZGluZ0NvbnRhaW5lcgogICAgZnVuYyB1bmtleWVkQ29udGFpbmVyKCkgLT4gVW5rZXllZEVuY29kaW5nQ29udGFpbmVyCn0KcHVibGljIHByb3RvY29sIEVxdWF0YWJsZSB7CiAgICBmdW5jICE9KGxoczogU2VsZiwgcmhzOiBTZWxmKSAtPiBCb29sCiAgICBmdW5jID09KGxoczogU2VsZiwgcmhzOiBTZWxmKSAtPiBCb29sCn0KcHVibGljIHByb3RvY29sIEVycm9yIHsKfQpwdWJsaWMgcHJvdG9jb2wgRXhwcmVzc2libGVCeUFycmF5TGl0ZXJhbCB7CiAgICBhc3NvY2lhdGVkdHlwZSBBcnJheUxpdGVyYWxFbGVtZW50CiAgICBpbml0KGFycmF5TGl0ZXJhbCBlbGVtZW50czogQXJyYXlMaXRlcmFsRWxlbWVudC4uLikKfQpwdWJsaWMgcHJvdG9jb2wgRXhwcmVzc2libGVCeUJvb2xlYW5MaXRlcmFsIHsKICAgIGFzc29jaWF0ZWR0eXBlIEJvb2xlYW5MaXRlcmFsVHlwZQogICAgaW5pdChib29sZWFuTGl0ZXJhbCB2YWx1ZTogQm9vbGVhbkxpdGVyYWxUeXBlKQp9CnB1YmxpYyBwcm90b2NvbCBFeHByZXNzaWJsZUJ5RGljdGlvbmFyeUxpdGVyYWwgewogICAgYXNzb2NpYXRlZHR5cGUgS2V5CiAgICBhc3NvY2lhdGVkdHlwZSBWYWx1ZQogICAgaW5pdChkaWN0aW9uYXJ5TGl0ZXJhbCBlbGVtZW50czogKEtleSwgVmFsdWUpLi4uKQp9CnB1YmxpYyBwcm90b2NvbCBFeHByZXNzaWJsZUJ5RXh0ZW5kZWRHcmFwaGVtZUNsdXN0ZXJMaXRlcmFsIDogRXhwcmVzc2libGVCeVVuaWNvZGVTY2FsYXJMaXRlcmFsIHsKICAgIGFzc29jaWF0ZWR0eXBlIEV4dGVuZGVkR3JhcGhlbWVDbHVzdGVyTGl0ZXJhbFR5cGUKICAgIGluaXQoZXh0ZW5kZWRHcmFwaGVtZUNsdXN0ZXJMaXRlcmFsIHZhbHVlOiBFeHRlbmRlZEdyYXBoZW1lQ2x1c3RlckxpdGVyYWxUeXBlKQp9CnB1YmxpYyBwcm90b2NvbCBFeHByZXNzaWJsZUJ5RmxvYXRMaXRlcmFsIHsKICAgIGFzc29jaWF0ZWR0eXBlIEZsb2F0TGl0ZXJhbFR5cGUKICAgIGluaXQoZmxvYXRMaXRlcmFsIHZhbHVlOiBGbG9hdExpdGVyYWxUeXBlKQp9CnB1YmxpYyBwcm90b2NvbCBFeHByZXNzaWJsZUJ5SW50ZWdlckxpdGVyYWwgewogICAgYXNzb2NpYXRlZHR5cGUgSW50ZWdlckxpdGVyYWxUeXBlCiAgICBpbml0KGludGVnZXJMaXRlcmFsIHZhbHVlOiBJbnRlZ2VyTGl0ZXJhbFR5cGUpCn0KcHVibGljIHByb3RvY29sIEV4cHJlc3NpYmxlQnlOaWxMaXRlcmFsIHsKICAgIGluaXQobmlsTGl0ZXJhbDogVm9pZCkKfQpwdWJsaWMgcHJvdG9jb2wgRXhwcmVzc2libGVCeVN0cmluZ0ludGVycG9sYXRpb24gOiBFeHByZXNzaWJsZUJ5RXh0ZW5kZWRHcmFwaGVtZUNsdXN0ZXJMaXRlcmFsLCBFeHByZXNzaWJsZUJ5U3RyaW5nTGl0ZXJhbCwgRXhwcmVzc2libGVCeVVuaWNvZGVTY2FsYXJMaXRlcmFsIHsKICAgIGFzc29jaWF0ZWR0eXBlIFN0cmluZ0ludGVycG9sYXRpb24gd2hlcmUgU3RyaW5nSW50ZXJwb2xhdGlvbi5TdHJpbmdMaXRlcmFsVHlwZSA9PSBTdHJpbmdMaXRlcmFsVHlwZQogICAgaW5pdChzdHJpbmdJbnRlcnBvbGF0aW9uOiBTdHJpbmdJbnRlcnBvbGF0aW9uKQp9CnB1YmxpYyBwcm90b2NvbCBFeHByZXNzaWJsZUJ5U3RyaW5nTGl0ZXJhbCA6IEV4cHJlc3NpYmxlQnlFeHRlbmRlZEdyYXBoZW1lQ2x1c3RlckxpdGVyYWwsIEV4cHJlc3NpYmxlQnlVbmljb2RlU2NhbGFyTGl0ZXJhbCB7CiAgICBhc3NvY2lhdGVkdHlwZSBTdHJpbmdMaXRlcmFsVHlwZQogICAgaW5pdChzdHJpbmdMaXRlcmFsIHZhbHVlOiBTdHJpbmdMaXRlcmFsVHlwZSkKfQpwdWJsaWMgcHJvdG9jb2wgRXhwcmVzc2libGVCeVVuaWNvZGVTY2FsYXJMaXRlcmFsIHsKICAgIGFzc29jaWF0ZWR0eXBlIFVuaWNvZGVTY2FsYXJMaXRlcmFsVHlwZQogICAgaW5pdCh1bmljb2RlU2NhbGFyTGl0ZXJhbCB2YWx1ZTogVW5pY29kZVNjYWxhckxpdGVyYWxUeXBlKQp9CnB1YmxpYyBwcm90b2NvbCBGaXhlZFdpZHRoSW50ZWdlciA6IEFkZGl0aXZlQXJpdGhtZXRpYywgQmluYXJ5SW50ZWdlciwgQ29tcGFyYWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgRXhwcmVzc2libGVCeUludGVnZXJMaXRlcmFsLCBIYXNoYWJsZSwgTG9zc2xlc3NTdHJpbmdDb252ZXJ0aWJsZSwgTnVtZXJpYywgU3RyaWRlYWJsZSB7CiAgICBzdGF0aWMgdmFyIGJpdFdpZHRoOiBJbnQgeyBnZXQgfQogICAgc3RhdGljIHZhciBtYXg6IFNlbGYgeyBnZXQgfQogICAgc3RhdGljIHZhciBtaW46IFNlbGYgeyBnZXQgfQogICAgc3RhdGljIGZ1bmMgcmFuZG9tKGluIHJhbmdlOiBDbG9zZWRSYW5nZTxTZWxmPikgLT4gU2VsZgogICAgc3RhdGljIGZ1bmMgcmFuZG9tKGluIHJhbmdlOiBSYW5nZTxTZWxmPikgLT4gU2VsZgogICAgc3RhdGljIGZ1bmMgcmFuZG9tPFQ+KGluIHJhbmdlOiBDbG9zZWRSYW5nZTxTZWxmPiwgdXNpbmcgZ2VuZXJhdG9yOiBpbm91dCBUKSAtPiBTZWxmIHdoZXJlIFQgOiBSYW5kb21OdW1iZXJHZW5lcmF0b3IKICAgIHN0YXRpYyBmdW5jIHJhbmRvbTxUPihpbiByYW5nZTogUmFuZ2U8U2VsZj4sIHVzaW5nIGdlbmVyYXRvcjogaW5vdXQgVCkgLT4gU2VsZiB3aGVyZSBUIDogUmFuZG9tTnVtYmVyR2VuZXJhdG9yCiAgICBpbml0PzxTPihfIHRleHQ6IFMsIHJhZGl4OiBJbnQgPSB4KSB3aGVyZSBTIDogU3RyaW5nUHJvdG9jb2wKICAgIGluaXQoYmlnRW5kaWFuIHZhbHVlOiBTZWxmKQogICAgaW5pdChsaXR0bGVFbmRpYW4gdmFsdWU6IFNlbGYpCiAgICB2YXIgYmlnRW5kaWFuOiBTZWxmIHsgZ2V0IH0KICAgIHZhciBieXRlU3dhcHBlZDogU2VsZiB7IGdldCB9CiAgICB2YXIgbGVhZGluZ1plcm9CaXRDb3VudDogSW50IHsgZ2V0IH0KICAgIHZhciBsaXR0bGVFbmRpYW46IFNlbGYgeyBnZXQgfQogICAgdmFyIG5vbnplcm9CaXRDb3VudDogSW50IHsgZ2V0IH0KICAgIGZ1bmMgJioobGhzOiBTZWxmLCByaHM6IFNlbGYpIC0+IFNlbGYKICAgIGZ1bmMgJio9KGxoczogaW5vdXQgU2VsZiwgcmhzOiBTZWxmKQogICAgZnVuYyAmKyhsaHM6IFNlbGYsIHJoczogU2VsZikgLT4gU2VsZgogICAgZnVuYyAmKz0obGhzOiBpbm91dCBTZWxmLCByaHM6IFNlbGYpCiAgICBmdW5jICYtKGxoczogU2VsZiwgcmhzOiBTZWxmKSAtPiBTZWxmCiAgICBmdW5jICYtPShsaHM6IGlub3V0IFNlbGYsIHJoczogU2VsZikKICAgIGZ1bmMgJjw8KGxoczogU2VsZiwgcmhzOiBTZWxmKSAtPiBTZWxmCiAgICBmdW5jICY8PD0obGhzOiBpbm91dCBTZWxmLCByaHM6IFNlbGYpCiAgICBmdW5jICY+PihsaHM6IFNlbGYsIHJoczogU2VsZikgLT4gU2VsZgogICAgZnVuYyAmPj49KGxoczogaW5vdXQgU2VsZiwgcmhzOiBTZWxmKQogICAgZnVuYyBhZGRpbmdSZXBvcnRpbmdPdmVyZmxvdyhfIHJoczogU2VsZikgLT4gKHBhcnRpYWxWYWx1ZSA6IFNlbGYsIG92ZXJmbG93IDogQm9vbCkKICAgIGZ1bmMgZGl2aWRlZFJlcG9ydGluZ092ZXJmbG93KGJ5IHJoczogU2VsZikgLT4gKHBhcnRpYWxWYWx1ZSA6IFNlbGYsIG92ZXJmbG93IDogQm9vbCkKICAgIGZ1bmMgZGl2aWRpbmdGdWxsV2lkdGgoXyBkaXZpZGVuZDogKGhpZ2ggOiBTZWxmLCBsb3cgOiBNYWduaXR1ZGUpKSAtPiAocXVvdGllbnQgOiBTZWxmLCByZW1haW5kZXIgOiBTZWxmKQogICAgZnVuYyBtdWx0aXBsaWVkRnVsbFdpZHRoKGJ5IG90aGVyOiBTZWxmKSAtPiAoaGlnaCA6IFNlbGYsIGxvdyA6IE1hZ25pdHVkZSkKICAgIGZ1bmMgbXVsdGlwbGllZFJlcG9ydGluZ092ZXJmbG93KGJ5IHJoczogU2VsZikgLT4gKHBhcnRpYWxWYWx1ZSA6IFNlbGYsIG92ZXJmbG93IDogQm9vbCkKICAgIGZ1bmMgcmVtYWluZGVyUmVwb3J0aW5nT3ZlcmZsb3coZGl2aWRpbmdCeSByaHM6IFNlbGYpIC0+IChwYXJ0aWFsVmFsdWUgOiBTZWxmLCBvdmVyZmxvdyA6IEJvb2wpCiAgICBmdW5jIHN1YnRyYWN0aW5nUmVwb3J0aW5nT3ZlcmZsb3coXyByaHM6IFNlbGYpIC0+IChwYXJ0aWFsVmFsdWUgOiBTZWxmLCBvdmVyZmxvdyA6IEJvb2wpCn0KcHVibGljIHByb3RvY29sIEZsb2F0aW5nUG9pbnQgOiBBZGRpdGl2ZUFyaXRobWV0aWMsIENvbXBhcmFibGUsIEVxdWF0YWJsZSwgRXhwcmVzc2libGVCeUludGVnZXJMaXRlcmFsLCBIYXNoYWJsZSwgTnVtZXJpYywgU2lnbmVkTnVtZXJpYywgU3RyaWRlYWJsZSB7CiAgICBhc3NvY2lhdGVkdHlwZSBFeHBvbmVudAogICAgc3RhdGljIHZhciBncmVhdGVzdEZpbml0ZU1hZ25pdHVkZTogU2VsZiB7IGdldCB9CiAgICBzdGF0aWMgdmFyIGluZmluaXR5OiBTZWxmIHsgZ2V0IH0KICAgIHN0YXRpYyB2YXIgbGVhc3ROb256ZXJvTWFnbml0dWRlOiBTZWxmIHsgZ2V0IH0KICAgIHN0YXRpYyB2YXIgbGVhc3ROb3JtYWxNYWduaXR1ZGU6IFNlbGYgeyBnZXQgfQogICAgc3RhdGljIHZhciBuYW46IFNlbGYgeyBnZXQgfQogICAgc3RhdGljIHZhciBwaTogU2VsZiB7IGdldCB9CiAgICBzdGF0aWMgdmFyIHJhZGl4OiBJbnQgeyBnZXQgfQogICAgc3RhdGljIHZhciBzaWduYWxpbmdOYU46IFNlbGYgeyBnZXQgfQogICAgc3RhdGljIHZhciB1bHBPZk9uZTogU2VsZiB7IGdldCB9CiAgICBzdGF0aWMgZnVuYyBtYXhpbXVtKF8geDogU2VsZiwgXyB5OiBTZWxmKSAtPiBTZWxmCiAgICBzdGF0aWMgZnVuYyBtYXhpbXVtTWFnbml0dWRlKF8geDogU2VsZiwgXyB5OiBTZWxmKSAtPiBTZWxmCiAgICBzdGF0aWMgZnVuYyBtaW5pbXVtKF8geDogU2VsZiwgXyB5OiBTZWxmKSAtPiBTZWxmCiAgICBzdGF0aWMgZnVuYyBtaW5pbXVtTWFnbml0dWRlKF8geDogU2VsZiwgXyB5OiBTZWxmKSAtPiBTZWxmCiAgICBpbml0KF8gdmFsdWU6IEludCkKICAgIGluaXQoc2lnbjogRmxvYXRpbmdQb2ludFNpZ24sIGV4cG9uZW50OiBFeHBvbmVudCwgc2lnbmlmaWNhbmQ6IFNlbGYpCiAgICBpbml0KHNpZ25PZjogU2VsZiwgbWFnbml0dWRlT2Y6IFNlbGYpCiAgICB2YXIgZXhwb25lbnQ6IEV4cG9uZW50IHsgZ2V0IH0KICAgIHZhciBmbG9hdGluZ1BvaW50Q2xhc3M6IEZsb2F0aW5nUG9pbnRDbGFzc2lmaWNhdGlvbiB7IGdldCB9CiAgICB2YXIgaXNDYW5vbmljYWw6IEJvb2wgeyBnZXQgfQogICAgdmFyIGlzRmluaXRlOiBCb29sIHsgZ2V0IH0KICAgIHZhciBpc0luZmluaXRlOiBCb29sIHsgZ2V0IH0KICAgIHZhciBpc05hTjogQm9vbCB7IGdldCB9CiAgICB2YXIgaXNOb3JtYWw6IEJvb2wgeyBnZXQgfQogICAgdmFyIGlzU2lnbmFsaW5nTmFOOiBCb29sIHsgZ2V0IH0KICAgIHZhciBpc1N1Ym5vcm1hbDogQm9vbCB7IGdldCB9CiAgICB2YXIgaXNaZXJvOiBCb29sIHsgZ2V0IH0KICAgIHZhciBuZXh0RG93bjogU2VsZiB7IGdldCB9CiAgICB2YXIgbmV4dFVwOiBTZWxmIHsgZ2V0IH0KICAgIHZhciBzaWduOiBGbG9hdGluZ1BvaW50U2lnbiB7IGdldCB9CiAgICB2YXIgc2lnbmlmaWNhbmQ6IFNlbGYgeyBnZXQgfQogICAgdmFyIHVscDogU2VsZiB7IGdldCB9CiAgICBmdW5jIC8obGhzOiBTZWxmLCByaHM6IFNlbGYpIC0+IFNlbGYKICAgIGZ1bmMgLz0obGhzOiBpbm91dCBTZWxmLCByaHM6IFNlbGYpCiAgICBtdXRhdGluZyBmdW5jIGFkZFByb2R1Y3QoXyBsaHM6IFNlbGYsIF8gcmhzOiBTZWxmKQogICAgZnVuYyBhZGRpbmdQcm9kdWN0KF8gbGhzOiBTZWxmLCBfIHJoczogU2VsZikgLT4gU2VsZgogICAgbXV0YXRpbmcgZnVuYyBmb3JtUmVtYWluZGVyKGRpdmlkaW5nQnkgb3RoZXI6IFNlbGYpCiAgICBtdXRhdGluZyBmdW5jIGZvcm1TcXVhcmVSb290KCkKICAgIG11dGF0aW5nIGZ1bmMgZm9ybVRydW5jYXRpbmdSZW1haW5kZXIoZGl2aWRpbmdCeSBvdGhlcjogU2VsZikKICAgIGZ1bmMgaXNFcXVhbCh0byBvdGhlcjogU2VsZikgLT4gQm9vbAogICAgZnVuYyBpc0xlc3ModGhhbiBvdGhlcjogU2VsZikgLT4gQm9vbAogICAgZnVuYyBpc0xlc3NUaGFuT3JFcXVhbFRvKF8gb3RoZXI6IFNlbGYpIC0+IEJvb2wKICAgIGZ1bmMgaXNUb3RhbGx5T3JkZXJlZChiZWxvd09yRXF1YWxUbyBvdGhlcjogU2VsZikgLT4gQm9vbAogICAgZnVuYyByZW1haW5kZXIoZGl2aWRpbmdCeSBvdGhlcjogU2VsZikgLT4gU2VsZgogICAgbXV0YXRpbmcgZnVuYyByb3VuZCgpCiAgICBtdXRhdGluZyBmdW5jIHJvdW5kKF8gcnVsZTogRmxvYXRpbmdQb2ludFJvdW5kaW5nUnVsZSkKICAgIGZ1bmMgcm91bmRlZCgpIC0+IFNlbGYKICAgIGZ1bmMgcm91bmRlZChfIHJ1bGU6IEZsb2F0aW5nUG9pbnRSb3VuZGluZ1J1bGUpIC0+IFNlbGYKICAgIGZ1bmMgc3F1YXJlUm9vdCgpIC0+IFNlbGYKICAgIGZ1bmMgdHJ1bmNhdGluZ1JlbWFpbmRlcihkaXZpZGluZ0J5IG90aGVyOiBTZWxmKSAtPiBTZWxmCn0KcHVibGljIHByb3RvY29sIEhhc2hhYmxlIDogRXF1YXRhYmxlIHsKICAgIHZhciBoYXNoVmFsdWU6IEludCB7IGdldCB9CiAgICBmdW5jIGhhc2goaW50byBoYXNoZXI6IGlub3V0IEhhc2hlcikKfQpwdWJsaWMgcHJvdG9jb2wgSXRlcmF0b3JQcm90b2NvbCB7CiAgICBhc3NvY2lhdGVkdHlwZSBFbGVtZW50CiAgICBtdXRhdGluZyBmdW5jIG5leHQoKSAtPiBFbGVtZW50Pwp9CnB1YmxpYyBwcm90b2NvbCBLZXllZERlY29kaW5nQ29udGFpbmVyUHJvdG9jb2wgewogICAgYXNzb2NpYXRlZHR5cGUgS2V5CiAgICB2YXIgYWxsS2V5czogW0tleV0geyBnZXQgfQogICAgdmFyIGNvZGluZ1BhdGg6IFtDb2RpbmdLZXldIHsgZ2V0IH0KICAgIGZ1bmMgY29udGFpbnMoXyBrZXk6IEtleSkgLT4gQm9vbAogICAgZnVuYyBkZWNvZGUoXyB0eXBlOiBCb29sLlR5cGUsIGZvcktleSBrZXk6IEtleSkgdGhyb3dzIC0+IEJvb2wKICAgIGZ1bmMgZGVjb2RlSWZQcmVzZW50KF8gdHlwZTogQm9vbC5UeXBlLCBmb3JLZXkga2V5OiBLZXkpIHRocm93cyAtPiBCb29sPwogICAgZnVuYyBkZWNvZGVOaWwoZm9yS2V5IGtleTogS2V5KSB0aHJvd3MgLT4gQm9vbAogICAgZnVuYyBuZXN0ZWRDb250YWluZXI8TmVzdGVkS2V5PihrZXllZEJ5IHR5cGU6IE5lc3RlZEtleS5UeXBlLCBmb3JLZXkga2V5OiBLZXkpIHRocm93cyAtPiBLZXllZERlY29kaW5nQ29udGFpbmVyPE5lc3RlZEtleT4KICAgIGZ1bmMgbmVzdGVkVW5rZXllZENvbnRhaW5lcihmb3JLZXkga2V5OiBLZXkpIHRocm93cyAtPiBVbmtleWVkRGVjb2RpbmdDb250YWluZXIKICAgIGZ1bmMgc3VwZXJEZWNvZGVyKCkgdGhyb3dzIC0+IERlY29kZXIKICAgIGZ1bmMgc3VwZXJEZWNvZGVyKGZvcktleSBrZXk6IEtleSkgdGhyb3dzIC0+IERlY29kZXIKfQpwdWJsaWMgcHJvdG9jb2wgS2V5ZWRFbmNvZGluZ0NvbnRhaW5lclByb3RvY29sIHsKICAgIGFzc29jaWF0ZWR0eXBlIEtleQogICAgdmFyIGNvZGluZ1BhdGg6IFtDb2RpbmdLZXldIHsgZ2V0IH0KICAgIG11dGF0aW5nIGZ1bmMgZW5jb2RlKF8gdmFsdWU6IEJvb2wsIGZvcktleSBrZXk6IEtleSkgdGhyb3dzCiAgICBtdXRhdGluZyBmdW5jIGVuY29kZUNvbmRpdGlvbmFsPFQ+KF8gb2JqZWN0OiBULCBmb3JLZXkga2V5OiBLZXkpIHRocm93cyB3aGVyZSBUIDogQW55T2JqZWN0ICYgRW5jb2RhYmxlCiAgICBtdXRhdGluZyBmdW5jIGVuY29kZUlmUHJlc2VudChfIHZhbHVlOiBCb29sPywgZm9yS2V5IGtleTogS2V5KSB0aHJvd3MKICAgIG11dGF0aW5nIGZ1bmMgZW5jb2RlTmlsKGZvcktleSBrZXk6IEtleSkgdGhyb3dzCiAgICBtdXRhdGluZyBmdW5jIG5lc3RlZENvbnRhaW5lcjxOZXN0ZWRLZXk+KGtleWVkQnkga2V5VHlwZTogTmVzdGVkS2V5LlR5cGUsIGZvcktleSBrZXk6IEtleSkgLT4gS2V5ZWRFbmNvZGluZ0NvbnRhaW5lcjxOZXN0ZWRLZXk+CiAgICBtdXRhdGluZyBmdW5jIG5lc3RlZFVua2V5ZWRDb250YWluZXIoZm9yS2V5IGtleTogS2V5KSAtPiBVbmtleWVkRW5jb2RpbmdDb250YWluZXIKICAgIG11dGF0aW5nIGZ1bmMgc3VwZXJFbmNvZGVyKCkgLT4gRW5jb2RlcgogICAgbXV0YXRpbmcgZnVuYyBzdXBlckVuY29kZXIoZm9yS2V5IGtleTogS2V5KSAtPiBFbmNvZGVyCn0KcHVibGljIHByb3RvY29sIExhenlDb2xsZWN0aW9uUHJvdG9jb2wgOiBDb2xsZWN0aW9uLCBMYXp5U2VxdWVuY2VQcm90b2NvbCwgU2VxdWVuY2Ugewp9CnB1YmxpYyBwcm90b2NvbCBMYXp5U2VxdWVuY2VQcm90b2NvbCA6IFNlcXVlbmNlIHsKICAgIGFzc29jaWF0ZWR0eXBlIEVsZW1lbnRzIHdoZXJlIEVsZW1lbnQgPT0gRWxlbWVudHMuRWxlbWVudAogICAgdmFyIGVsZW1lbnRzOiBFbGVtZW50cyB7IGdldCB9Cn0KcHVibGljIHByb3RvY29sIExvc3NsZXNzU3RyaW5nQ29udmVydGlibGUgOiBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSB7CiAgICBpbml0PyhfIGRlc2NyaXB0aW9uOiBTdHJpbmcpCn0KcHVibGljIHByb3RvY29sIE1pcnJvclBhdGggewp9CnB1YmxpYyBwcm90b2NvbCBNdXRhYmxlQ29sbGVjdGlvbiA6IENvbGxlY3Rpb24sIFNlcXVlbmNlIHsKICAgIG11dGF0aW5nIGZ1bmMgcGFydGl0aW9uKGJ5IGJlbG9uZ3NJblNlY29uZFBhcnRpdGlvbjogKEVsZW1lbnQpIHRocm93cyAtPiBCb29sKSByZXRocm93cyAtPiBJbmRleAogICAgbXV0YXRpbmcgZnVuYyBzaHVmZmxlPFQ+KHVzaW5nIGdlbmVyYXRvcjogaW5vdXQgVCkgd2hlcmUgU2VsZiA6IFJhbmRvbUFjY2Vzc0NvbGxlY3Rpb24sIFQgOiBSYW5kb21OdW1iZXJHZW5lcmF0b3IKICAgIG11dGF0aW5nIGZ1bmMgc3dhcEF0KF8gaTogSW5kZXgsIF8gajogSW5kZXgpCiAgICBtdXRhdGluZyBmdW5jIHN3YXBBdChfIGk6IEluZGV4LCBfIGo6IEluZGV4KQogICAgbXV0YXRpbmcgZnVuYyB3aXRoQ29udGlndW91c011dGFibGVTdG9yYWdlSWZBdmFpbGFibGU8Uj4oXyBib2R5OiAoaW5vdXQgVW5zYWZlTXV0YWJsZUJ1ZmZlclBvaW50ZXI8RWxlbWVudD4pIHRocm93cyAtPiBSKSByZXRocm93cyAtPiBSPwp9CnB1YmxpYyBwcm90b2NvbCBOdW1lcmljIDogQWRkaXRpdmVBcml0aG1ldGljLCBFcXVhdGFibGUsIEV4cHJlc3NpYmxlQnlJbnRlZ2VyTGl0ZXJhbCB7CiAgICBhc3NvY2lhdGVkdHlwZSBNYWduaXR1ZGUKICAgIGluaXQ/PFQ+KGV4YWN0bHkgc291cmNlOiBUKSB3aGVyZSBUIDogQmluYXJ5SW50ZWdlcgogICAgdmFyIG1hZ25pdHVkZTogTWFnbml0dWRlIHsgZ2V0IH0KICAgIGZ1bmMgKihsaHM6IFNlbGYsIHJoczogU2VsZikgLT4gU2VsZgogICAgZnVuYyAqPShsaHM6IGlub3V0IFNlbGYsIHJoczogU2VsZikKfQpwdWJsaWMgcHJvdG9jb2wgT3B0aW9uU2V0IDogRXF1YXRhYmxlLCBFeHByZXNzaWJsZUJ5QXJyYXlMaXRlcmFsLCBSYXdSZXByZXNlbnRhYmxlLCBTZXRBbGdlYnJhIHsKfQpwdWJsaWMgcHJvdG9jb2wgUmFuZG9tQWNjZXNzQ29sbGVjdGlvbiA6IEJpZGlyZWN0aW9uYWxDb2xsZWN0aW9uLCBDb2xsZWN0aW9uLCBTZXF1ZW5jZSB7Cn0KcHVibGljIHByb3RvY29sIFJhbmRvbU51bWJlckdlbmVyYXRvciB7CiAgICBtdXRhdGluZyBmdW5jIG5leHQoKSAtPiBVSW50NjQKICAgIG11dGF0aW5nIGZ1bmMgbmV4dDxUPigpIC0+IFQgd2hlcmUgVCA6IEZpeGVkV2lkdGhJbnRlZ2VyICYgVW5zaWduZWRJbnRlZ2VyCiAgICBtdXRhdGluZyBmdW5jIG5leHQ8VD4odXBwZXJCb3VuZDogVCkgLT4gVCB3aGVyZSBUIDogRml4ZWRXaWR0aEludGVnZXIgJiBVbnNpZ25lZEludGVnZXIKfQpwdWJsaWMgcHJvdG9jb2wgUmFuZ2VFeHByZXNzaW9uIHsKICAgIGFzc29jaWF0ZWR0eXBlIEJvdW5kCiAgICBmdW5jIGNvbnRhaW5zKF8gZWxlbWVudDogQm91bmQpIC0+IEJvb2wKICAgIGZ1bmMgcmVsYXRpdmU8Qz4odG8gY29sbGVjdGlvbjogQykgLT4gUmFuZ2U8Qm91bmQ+IHdoZXJlIEMgOiBDb2xsZWN0aW9uLCBCb3VuZCA9PSBDLkluZGV4CiAgICBmdW5jIH49KHBhdHRlcm46IFNlbGYsIHZhbHVlOiBCb3VuZCkgLT4gQm9vbAp9CnB1YmxpYyBwcm90b2NvbCBSYW5nZVJlcGxhY2VhYmxlQ29sbGVjdGlvbiA6IENvbGxlY3Rpb24sIFNlcXVlbmNlIHsKICAgIGluaXQoKQogICAgaW5pdDxTPihfIGVsZW1lbnRzOiBTKSB3aGVyZSBTIDogU2VxdWVuY2UsIEVsZW1lbnQgPT0gUy5FbGVtZW50CiAgICBpbml0PFM+KF8gZWxlbWVudHM6IFMpIHdoZXJlIFMgOiBTZXF1ZW5jZSwgRWxlbWVudCA9PSBTLkVsZW1lbnQKICAgIGluaXQocmVwZWF0aW5nIHJlcGVhdGVkVmFsdWU6IEVsZW1lbnQsIGNvdW50OiBJbnQpCiAgICBpbml0KHJlcGVhdGluZyByZXBlYXRlZFZhbHVlOiBFbGVtZW50LCBjb3VudDogSW50KQogICAgZnVuYyArPE90aGVyPihsaHM6IE90aGVyLCByaHM6IFNlbGYpIC0+IFNlbGYgd2hlcmUgT3RoZXIgOiBTZXF1ZW5jZSwgRWxlbWVudCA9PSBPdGhlci5FbGVtZW50CiAgICBmdW5jICs8T3RoZXI+KGxoczogU2VsZiwgcmhzOiBPdGhlcikgLT4gU2VsZiB3aGVyZSBPdGhlciA6IFJhbmdlUmVwbGFjZWFibGVDb2xsZWN0aW9uLCBFbGVtZW50ID09IE90aGVyLkVsZW1lbnQKICAgIGZ1bmMgKzxPdGhlcj4obGhzOiBTZWxmLCByaHM6IE90aGVyKSAtPiBTZWxmIHdoZXJlIE90aGVyIDogU2VxdWVuY2UsIEVsZW1lbnQgPT0gT3RoZXIuRWxlbWVudAogICAgZnVuYyArPTxPdGhlcj4obGhzOiBpbm91dCBTZWxmLCByaHM6IE90aGVyKSB3aGVyZSBPdGhlciA6IFNlcXVlbmNlLCBFbGVtZW50ID09IE90aGVyLkVsZW1lbnQKICAgIG11dGF0aW5nIGZ1bmMgYXBwZW5kKF8gbmV3RWxlbWVudDogX19vd25lZCBFbGVtZW50KQogICAgbXV0YXRpbmcgZnVuYyBhcHBlbmQ8Uz4oY29udGVudHNPZiBuZXdFbGVtZW50czogX19vd25lZCBTKSB3aGVyZSBTIDogU2VxdWVuY2UsIEVsZW1lbnQgPT0gUy5FbGVtZW50CiAgICBtdXRhdGluZyBmdW5jIGluc2VydChfIG5ld0VsZW1lbnQ6IF9fb3duZWQgRWxlbWVudCwgYXQgaTogSW5kZXgpCiAgICBtdXRhdGluZyBmdW5jIGluc2VydDxDPihjb250ZW50c09mIG5ld0VsZW1lbnRzOiBfX293bmVkIEMsIGF0IGk6IEluZGV4KSB3aGVyZSBDIDogQ29sbGVjdGlvbiwgQy5FbGVtZW50ID09IEVsZW1lbnQKICAgIEBkaXNjYXJkYWJsZVJlc3VsdCBtdXRhdGluZyBmdW5jIHJlbW92ZShhdCBpOiBJbmRleCkgLT4gRWxlbWVudAogICAgQGRpc2NhcmRhYmxlUmVzdWx0IG11dGF0aW5nIGZ1bmMgcmVtb3ZlKGF0IHBvc2l0aW9uOiBJbmRleCkgLT4gRWxlbWVudAogICAgbXV0YXRpbmcgZnVuYyByZW1vdmVBbGwoa2VlcGluZ0NhcGFjaXR5IGtlZXBDYXBhY2l0eTogQm9vbCA9IHgpCiAgICBtdXRhdGluZyBmdW5jIHJlbW92ZUFsbCh3aGVyZSBzaG91bGRCZVJlbW92ZWQ6IChFbGVtZW50KSB0aHJvd3MgLT4gQm9vbCkgcmV0aHJvd3MKICAgIG11dGF0aW5nIGZ1bmMgcmVtb3ZlQWxsKHdoZXJlIHNob3VsZEJlUmVtb3ZlZDogKEVsZW1lbnQpIHRocm93cyAtPiBCb29sKSByZXRocm93cwogICAgbXV0YXRpbmcgZnVuYyByZW1vdmVTdWJyYW5nZShfIGJvdW5kczogUmFuZ2U8SW5kZXg+KQogICAgbXV0YXRpbmcgZnVuYyByZW1vdmVTdWJyYW5nZShfIGJvdW5kczogUmFuZ2U8SW5kZXg+KQogICAgbXV0YXRpbmcgZnVuYyByZXBsYWNlU3VicmFuZ2U8QywgUj4oXyBzdWJyYW5nZTogUiwgd2l0aCBuZXdFbGVtZW50czogX19vd25lZCBDKSB3aGVyZSBDIDogQ29sbGVjdGlvbiwgUiA6IFJhbmdlRXhwcmVzc2lvbiwgQy5FbGVtZW50ID09IEVsZW1lbnQsIEluZGV4ID09IFIuQm91bmQKICAgIG11dGF0aW5nIGZ1bmMgcmVwbGFjZVN1YnJhbmdlPEM+KF8gc3VicmFuZ2U6IFJhbmdlPEluZGV4Piwgd2l0aCBuZXdFbGVtZW50czogX19vd25lZCBDKSB3aGVyZSBDIDogQ29sbGVjdGlvbiwgQy5FbGVtZW50ID09IEVsZW1lbnQKICAgIG11dGF0aW5nIGZ1bmMgcmVzZXJ2ZUNhcGFjaXR5KF8gbjogSW50KQogICAgbXV0YXRpbmcgZnVuYyByZXNlcnZlQ2FwYWNpdHkoXyBuOiBJbnQpCn0KcHVibGljIHByb3RvY29sIFJhd1JlcHJlc2VudGFibGUgewogICAgYXNzb2NpYXRlZHR5cGUgUmF3VmFsdWUKICAgIGluaXQ/KHJhd1ZhbHVlOiBSYXdWYWx1ZSkKICAgIHZhciByYXdWYWx1ZTogUmF3VmFsdWUgeyBnZXQgfQp9CnB1YmxpYyBwcm90b2NvbCBTSU1EIDogQ29kYWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgRXhwcmVzc2libGVCeUFycmF5TGl0ZXJhbCwgSGFzaGFibGUsIFNJTURTdG9yYWdlIHsKICAgIGFzc29jaWF0ZWR0eXBlIE1hc2tTdG9yYWdlIHdoZXJlIE1hc2tTdG9yYWdlLlNjYWxhciA6IEZpeGVkV2lkdGhJbnRlZ2VyICYgU2lnbmVkSW50ZWdlcgp9CnB1YmxpYyBwcm90b2NvbCBTSU1EU2NhbGFyIHsKICAgIGFzc29jaWF0ZWR0eXBlIFNJTUQxNlN0b3JhZ2Ugd2hlcmUgU0lNRDE2U3RvcmFnZS5TY2FsYXIgPT0gU2VsZgogICAgYXNzb2NpYXRlZHR5cGUgU0lNRDJTdG9yYWdlIHdoZXJlIFNJTUQyU3RvcmFnZS5TY2FsYXIgPT0gU2VsZgogICAgYXNzb2NpYXRlZHR5cGUgU0lNRDMyU3RvcmFnZSB3aGVyZSBTSU1EMzJTdG9yYWdlLlNjYWxhciA9PSBTZWxmCiAgICBhc3NvY2lhdGVkdHlwZSBTSU1ENFN0b3JhZ2Ugd2hlcmUgU0lNRDRTdG9yYWdlLlNjYWxhciA9PSBTZWxmCiAgICBhc3NvY2lhdGVkdHlwZSBTSU1ENjRTdG9yYWdlIHdoZXJlIFNJTUQ2NFN0b3JhZ2UuU2NhbGFyID09IFNlbGYKICAgIGFzc29jaWF0ZWR0eXBlIFNJTUQ4U3RvcmFnZSB3aGVyZSBTSU1EOFN0b3JhZ2UuU2NhbGFyID09IFNlbGYKICAgIGFzc29jaWF0ZWR0eXBlIFNJTURNYXNrU2NhbGFyCn0KcHVibGljIHByb3RvY29sIFNJTURTdG9yYWdlIHsKICAgIGFzc29jaWF0ZWR0eXBlIFNjYWxhcgogICAgaW5pdCgpCiAgICB2YXIgc2NhbGFyQ291bnQ6IEludCB7IGdldCB9CiAgICBzdWJzY3JpcHQoaW5kZXg6IEludCkgLT4gU2NhbGFyIHsgZ2V0IHNldCB9Cn0KcHVibGljIHByb3RvY29sIFNlcXVlbmNlIHsKICAgIGFzc29jaWF0ZWR0eXBlIEVsZW1lbnQKICAgIGFzc29jaWF0ZWR0eXBlIEl0ZXJhdG9yIHdoZXJlIEVsZW1lbnQgPT0gSXRlcmF0b3IuRWxlbWVudAogICAgdmFyIGxhenk6IExhenlTZXF1ZW5jZTxTZWxmPiB7IGdldCB9CiAgICB2YXIgdW5kZXJlc3RpbWF0ZWRDb3VudDogSW50IHsgZ2V0IH0KICAgIGZ1bmMgYWxsU2F0aXNmeShfIHByZWRpY2F0ZTogKEVsZW1lbnQpIHRocm93cyAtPiBCb29sKSByZXRocm93cyAtPiBCb29sCiAgICBmdW5jIGNvbXBhY3RNYXA8RWxlbWVudE9mUmVzdWx0PihfIHRyYW5zZm9ybTogKEVsZW1lbnQpIHRocm93cyAtPiBFbGVtZW50T2ZSZXN1bHQ/KSByZXRocm93cyAtPiBbRWxlbWVudE9mUmVzdWx0XQogICAgZnVuYyBjb250YWlucyh3aGVyZSBwcmVkaWNhdGU6IChFbGVtZW50KSB0aHJvd3MgLT4gQm9vbCkgcmV0aHJvd3MgLT4gQm9vbAogICAgZnVuYyBkcm9wKHdoaWxlIHByZWRpY2F0ZTogKEVsZW1lbnQpIHRocm93cyAtPiBCb29sKSByZXRocm93cyAtPiBEcm9wV2hpbGVTZXF1ZW5jZTxTZWxmPgogICAgZnVuYyBkcm9wRmlyc3QoXyBrOiBJbnQgPSB4KSAtPiBEcm9wRmlyc3RTZXF1ZW5jZTxTZWxmPgogICAgZnVuYyBkcm9wTGFzdChfIGs6IEludCA9IHgpIC0+IFtFbGVtZW50XQogICAgZnVuYyBlbGVtZW50c0VxdWFsPE90aGVyU2VxdWVuY2U+KF8gb3RoZXI6IE90aGVyU2VxdWVuY2UpIC0+IEJvb2wgd2hlcmUgRWxlbWVudCA6IEVxdWF0YWJsZSwgT3RoZXJTZXF1ZW5jZSA6IFNlcXVlbmNlLCBFbGVtZW50ID09IE90aGVyU2VxdWVuY2UuRWxlbWVudAogICAgZnVuYyBlbGVtZW50c0VxdWFsPE90aGVyU2VxdWVuY2U+KF8gb3RoZXI6IE90aGVyU2VxdWVuY2UsIGJ5IGFyZUVxdWl2YWxlbnQ6IChFbGVtZW50LCBPdGhlclNlcXVlbmNlLkVsZW1lbnQpIHRocm93cyAtPiBCb29sKSByZXRocm93cyAtPiBCb29sIHdoZXJlIE90aGVyU2VxdWVuY2UgOiBTZXF1ZW5jZQogICAgZnVuYyBlbnVtZXJhdGVkKCkgLT4gRW51bWVyYXRlZFNlcXVlbmNlPFNlbGY+CiAgICBmdW5jIGZpbHRlcihfIGlzSW5jbHVkZWQ6IChFbGVtZW50KSB0aHJvd3MgLT4gQm9vbCkgcmV0aHJvd3MgLT4gW0VsZW1lbnRdCiAgICBmdW5jIGZpcnN0KHdoZXJlIHByZWRpY2F0ZTogKEVsZW1lbnQpIHRocm93cyAtPiBCb29sKSByZXRocm93cyAtPiBFbGVtZW50PwogICAgZnVuYyBmbGF0TWFwPFNlZ21lbnRPZlJlc3VsdD4oXyB0cmFuc2Zvcm06IChFbGVtZW50KSB0aHJvd3MgLT4gU2VnbWVudE9mUmVzdWx0KSByZXRocm93cyAtPiBbU2VnbWVudE9mUmVzdWx0LkVsZW1lbnRdIHdoZXJlIFNlZ21lbnRPZlJlc3VsdCA6IFNlcXVlbmNlCiAgICBmdW5jIGZvckVhY2goXyBib2R5OiAoRWxlbWVudCkgdGhyb3dzIC0+IFZvaWQpIHJldGhyb3dzCiAgICBmdW5jIGpvaW5lZDxTZXBhcmF0b3I+KHNlcGFyYXRvcjogU2VwYXJhdG9yKSAtPiBKb2luZWRTZXF1ZW5jZTxTZWxmPiB3aGVyZSBFbGVtZW50IDogU2VxdWVuY2UsIFNlcGFyYXRvciA6IFNlcXVlbmNlLCBFbGVtZW50LkVsZW1lbnQgPT0gU2VwYXJhdG9yLkVsZW1lbnQKICAgIGZ1bmMgbGV4aWNvZ3JhcGhpY2FsbHlQcmVjZWRlczxPdGhlclNlcXVlbmNlPihfIG90aGVyOiBPdGhlclNlcXVlbmNlKSAtPiBCb29sIHdoZXJlIEVsZW1lbnQgOiBDb21wYXJhYmxlLCBPdGhlclNlcXVlbmNlIDogU2VxdWVuY2UsIEVsZW1lbnQgPT0gT3RoZXJTZXF1ZW5jZS5FbGVtZW50CiAgICBmdW5jIGxleGljb2dyYXBoaWNhbGx5UHJlY2VkZXM8T3RoZXJTZXF1ZW5jZT4oXyBvdGhlcjogT3RoZXJTZXF1ZW5jZSwgYnkgYXJlSW5JbmNyZWFzaW5nT3JkZXI6IChFbGVtZW50LCBFbGVtZW50KSB0aHJvd3MgLT4gQm9vbCkgcmV0aHJvd3MgLT4gQm9vbCB3aGVyZSBPdGhlclNlcXVlbmNlIDogU2VxdWVuY2UsIEVsZW1lbnQgPT0gT3RoZXJTZXF1ZW5jZS5FbGVtZW50CiAgICBmdW5jIG1ha2VJdGVyYXRvcigpIC0+IEl0ZXJhdG9yCiAgICBmdW5jIG1hcDxUPihfIHRyYW5zZm9ybTogKEVsZW1lbnQpIHRocm93cyAtPiBUKSByZXRocm93cyAtPiBbVF0KICAgIGZ1bmMgbWF4KGJ5IGFyZUluSW5jcmVhc2luZ09yZGVyOiAoRWxlbWVudCwgRWxlbWVudCkgdGhyb3dzIC0+IEJvb2wpIHJldGhyb3dzIC0+IEVsZW1lbnQ/CiAgICBmdW5jIG1pbihieSBhcmVJbkluY3JlYXNpbmdPcmRlcjogKEVsZW1lbnQsIEVsZW1lbnQpIHRocm93cyAtPiBCb29sKSByZXRocm93cyAtPiBFbGVtZW50PwogICAgZnVuYyBwcmVmaXgoXyBtYXhMZW5ndGg6IEludCkgLT4gUHJlZml4U2VxdWVuY2U8U2VsZj4KICAgIGZ1bmMgcHJlZml4KHdoaWxlIHByZWRpY2F0ZTogKEVsZW1lbnQpIHRocm93cyAtPiBCb29sKSByZXRocm93cyAtPiBbRWxlbWVudF0KICAgIGZ1bmMgcmVkdWNlPFJlc3VsdD4oXyBpbml0aWFsUmVzdWx0OiBSZXN1bHQsIF8gbmV4dFBhcnRpYWxSZXN1bHQ6IChfIHBhcnRpYWxSZXN1bHQ6IFJlc3VsdCwgRWxlbWVudCkgdGhyb3dzIC0+IFJlc3VsdCkgcmV0aHJvd3MgLT4gUmVzdWx0CiAgICBmdW5jIHJlZHVjZTxSZXN1bHQ+KGludG8gaW5pdGlhbFJlc3VsdDogX19vd25lZCBSZXN1bHQsIF8gdXBkYXRlQWNjdW11bGF0aW5nUmVzdWx0OiAoXyBwYXJ0aWFsUmVzdWx0OiBpbm91dCBSZXN1bHQsIEVsZW1lbnQpIHRocm93cyAtPiBWb2lkKSByZXRocm93cyAtPiBSZXN1bHQKICAgIGZ1bmMgcmV2ZXJzZWQoKSAtPiBbRWxlbWVudF0KICAgIGZ1bmMgc2h1ZmZsZWQoKSAtPiBbRWxlbWVudF0KICAgIGZ1bmMgc2h1ZmZsZWQ8VD4odXNpbmcgZ2VuZXJhdG9yOiBpbm91dCBUKSAtPiBbRWxlbWVudF0gd2hlcmUgVCA6IFJhbmRvbU51bWJlckdlbmVyYXRvcgogICAgZnVuYyBzb3J0ZWQoYnkgYXJlSW5JbmNyZWFzaW5nT3JkZXI6IChFbGVtZW50LCBFbGVtZW50KSB0aHJvd3MgLT4gQm9vbCkgcmV0aHJvd3MgLT4gW0VsZW1lbnRdCiAgICBmdW5jIHNwbGl0KG1heFNwbGl0czogSW50ID0geCwgb21pdHRpbmdFbXB0eVN1YnNlcXVlbmNlczogQm9vbCA9IHgsIHdoZXJlU2VwYXJhdG9yIGlzU2VwYXJhdG9yOiAoRWxlbWVudCkgdGhyb3dzIC0+IEJvb2wpIHJldGhyb3dzIC0+IFtBcnJheVNsaWNlPEVsZW1lbnQ+XQogICAgZnVuYyBzdGFydHM8UG9zc2libGVQcmVmaXg+KHdpdGggcG9zc2libGVQcmVmaXg6IFBvc3NpYmxlUHJlZml4KSAtPiBCb29sIHdoZXJlIEVsZW1lbnQgOiBFcXVhdGFibGUsIFBvc3NpYmxlUHJlZml4IDogU2VxdWVuY2UsIEVsZW1lbnQgPT0gUG9zc2libGVQcmVmaXguRWxlbWVudAogICAgZnVuYyBzdGFydHM8UG9zc2libGVQcmVmaXg+KHdpdGggcG9zc2libGVQcmVmaXg6IFBvc3NpYmxlUHJlZml4LCBieSBhcmVFcXVpdmFsZW50OiAoRWxlbWVudCwgUG9zc2libGVQcmVmaXguRWxlbWVudCkgdGhyb3dzIC0+IEJvb2wpIHJldGhyb3dzIC0+IEJvb2wgd2hlcmUgUG9zc2libGVQcmVmaXggOiBTZXF1ZW5jZQogICAgZnVuYyBzdWZmaXgoXyBtYXhMZW5ndGg6IEludCkgLT4gW0VsZW1lbnRdCiAgICBmdW5jIHdpdGhDb250aWd1b3VzU3RvcmFnZUlmQXZhaWxhYmxlPFI+KF8gYm9keTogKFVuc2FmZUJ1ZmZlclBvaW50ZXI8RWxlbWVudD4pIHRocm93cyAtPiBSKSByZXRocm93cyAtPiBSPwp9CnB1YmxpYyBwcm90b2NvbCBTZXRBbGdlYnJhIDogRXF1YXRhYmxlLCBFeHByZXNzaWJsZUJ5QXJyYXlMaXRlcmFsIHsKICAgIGFzc29jaWF0ZWR0eXBlIEVsZW1lbnQKICAgIGluaXQoKQogICAgaW5pdDxTPihfIHNlcXVlbmNlOiBfX293bmVkIFMpIHdoZXJlIFMgOiBTZXF1ZW5jZSwgRWxlbWVudCA9PSBTLkVsZW1lbnQKICAgIHZhciBpc0VtcHR5OiBCb29sIHsgZ2V0IH0KICAgIGZ1bmMgY29udGFpbnMoXyBtZW1iZXI6IEVsZW1lbnQpIC0+IEJvb2wKICAgIG11dGF0aW5nIGZ1bmMgZm9ybUludGVyc2VjdGlvbihfIG90aGVyOiBTZWxmKQogICAgbXV0YXRpbmcgZnVuYyBmb3JtU3ltbWV0cmljRGlmZmVyZW5jZShfIG90aGVyOiBfX293bmVkIFNlbGYpCiAgICBtdXRhdGluZyBmdW5jIGZvcm1VbmlvbihfIG90aGVyOiBfX293bmVkIFNlbGYpCiAgICBAZGlzY2FyZGFibGVSZXN1bHQgbXV0YXRpbmcgZnVuYyBpbnNlcnQoXyBuZXdNZW1iZXI6IF9fb3duZWQgRWxlbWVudCkgLT4gKGluc2VydGVkIDogQm9vbCwgbWVtYmVyQWZ0ZXJJbnNlcnQgOiBFbGVtZW50KQogICAgZnVuYyBpbnRlcnNlY3Rpb24oXyBvdGhlcjogU2VsZikgLT4gU2VsZgogICAgZnVuYyBpc0Rpc2pvaW50KHdpdGggb3RoZXI6IFNlbGYpIC0+IEJvb2wKICAgIGZ1bmMgaXNTdHJpY3RTdWJzZXQob2Ygb3RoZXI6IFNlbGYpIC0+IEJvb2wKICAgIGZ1bmMgaXNTdHJpY3RTdXBlcnNldChvZiBvdGhlcjogU2VsZikgLT4gQm9vbAogICAgZnVuYyBpc1N1YnNldChvZiBvdGhlcjogU2VsZikgLT4gQm9vbAogICAgZnVuYyBpc1N1cGVyc2V0KG9mIG90aGVyOiBTZWxmKSAtPiBCb29sCiAgICBmdW5jIGlzU3VwZXJzZXQob2Ygb3RoZXI6IFNlbGYpIC0+IEJvb2wKICAgIEBkaXNjYXJkYWJsZVJlc3VsdCBtdXRhdGluZyBmdW5jIHJlbW92ZShfIG1lbWJlcjogRWxlbWVudCkgLT4gRWxlbWVudD8KICAgIG11dGF0aW5nIGZ1bmMgc3VidHJhY3QoXyBvdGhlcjogU2VsZikKICAgIGZ1bmMgc3VidHJhY3RpbmcoXyBvdGhlcjogU2VsZikgLT4gU2VsZgogICAgZnVuYyBzdWJ0cmFjdGluZyhfIG90aGVyOiBTZWxmKSAtPiBTZWxmCiAgICBmdW5jIHN5bW1ldHJpY0RpZmZlcmVuY2UoXyBvdGhlcjogX19vd25lZCBTZWxmKSAtPiBTZWxmCiAgICBmdW5jIHVuaW9uKF8gb3RoZXI6IF9fb3duZWQgU2VsZikgLT4gU2VsZgogICAgQGRpc2NhcmRhYmxlUmVzdWx0IG11dGF0aW5nIGZ1bmMgdXBkYXRlKHdpdGggbmV3TWVtYmVyOiBfX293bmVkIEVsZW1lbnQpIC0+IEVsZW1lbnQ/Cn0KcHVibGljIHByb3RvY29sIFNpZ25lZEludGVnZXIgOiBBZGRpdGl2ZUFyaXRobWV0aWMsIEJpbmFyeUludGVnZXIsIENvbXBhcmFibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEV4cHJlc3NpYmxlQnlJbnRlZ2VyTGl0ZXJhbCwgSGFzaGFibGUsIE51bWVyaWMsIFNpZ25lZE51bWVyaWMsIFN0cmlkZWFibGUgewp9CnB1YmxpYyBwcm90b2NvbCBTaWduZWROdW1lcmljIDogQWRkaXRpdmVBcml0aG1ldGljLCBFcXVhdGFibGUsIEV4cHJlc3NpYmxlQnlJbnRlZ2VyTGl0ZXJhbCwgTnVtZXJpYyB7CiAgICBwcmVmaXggZnVuYyAtKG9wZXJhbmQ6IFNlbGYpIC0+IFNlbGYKICAgIHByZWZpeCBmdW5jIC0ob3BlcmFuZDogU2VsZikgLT4gU2VsZgogICAgbXV0YXRpbmcgZnVuYyBuZWdhdGUoKQp9CnB1YmxpYyBwcm90b2NvbCBTaW5nbGVWYWx1ZURlY29kaW5nQ29udGFpbmVyIHsKICAgIHZhciBjb2RpbmdQYXRoOiBbQ29kaW5nS2V5XSB7IGdldCB9CiAgICBmdW5jIGRlY29kZShfIHR5cGU6IEJvb2wuVHlwZSkgdGhyb3dzIC0+IEJvb2wKICAgIGZ1bmMgZGVjb2RlTmlsKCkgLT4gQm9vbAp9CnB1YmxpYyBwcm90b2NvbCBTaW5nbGVWYWx1ZUVuY29kaW5nQ29udGFpbmVyIHsKICAgIHZhciBjb2RpbmdQYXRoOiBbQ29kaW5nS2V5XSB7IGdldCB9CiAgICBtdXRhdGluZyBmdW5jIGVuY29kZShfIHZhbHVlOiBCb29sKSB0aHJvd3MKICAgIG11dGF0aW5nIGZ1bmMgZW5jb2RlTmlsKCkgdGhyb3dzCn0KcHVibGljIHByb3RvY29sIFN0cmlkZWFibGUgOiBDb21wYXJhYmxlLCBFcXVhdGFibGUgewogICAgYXNzb2NpYXRlZHR5cGUgU3RyaWRlCiAgICBmdW5jIGFkdmFuY2VkKGJ5IG46IFN0cmlkZSkgLT4gU2VsZgogICAgZnVuYyBkaXN0YW5jZSh0byBvdGhlcjogU2VsZikgLT4gU3RyaWRlCn0KcHVibGljIHByb3RvY29sIFN0cmluZ0ludGVycG9sYXRpb25Qcm90b2NvbCB7CiAgICBhc3NvY2lhdGVkdHlwZSBTdHJpbmdMaXRlcmFsVHlwZQogICAgaW5pdChsaXRlcmFsQ2FwYWNpdHk6IEludCwgaW50ZXJwb2xhdGlvbkNvdW50OiBJbnQpCiAgICBtdXRhdGluZyBmdW5jIGFwcGVuZExpdGVyYWwoXyBsaXRlcmFsOiBTdHJpbmdMaXRlcmFsVHlwZSkKfQpwdWJsaWMgcHJvdG9jb2wgU3RyaW5nUHJvdG9jb2wgOiBCaWRpcmVjdGlvbmFsQ29sbGVjdGlvbiwgQ29sbGVjdGlvbiwgQ29tcGFyYWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgRXhwcmVzc2libGVCeUV4dGVuZGVkR3JhcGhlbWVDbHVzdGVyTGl0ZXJhbCwgRXhwcmVzc2libGVCeVN0cmluZ0ludGVycG9sYXRpb24sIEV4cHJlc3NpYmxlQnlTdHJpbmdMaXRlcmFsLCBFeHByZXNzaWJsZUJ5VW5pY29kZVNjYWxhckxpdGVyYWwsIEhhc2hhYmxlLCBMb3NzbGVzc1N0cmluZ0NvbnZlcnRpYmxlLCBTZXF1ZW5jZSwgVGV4dE91dHB1dFN0cmVhbSwgVGV4dE91dHB1dFN0cmVhbWFibGUgewogICAgYXNzb2NpYXRlZHR5cGUgVVRGMTZWaWV3IHdoZXJlIEluZGV4ID09IFVURjE2Vmlldy5JbmRleCwgVUludDE2ID09IFVURjE2Vmlldy5FbGVtZW50CiAgICBhc3NvY2lhdGVkdHlwZSBVVEY4VmlldyB3aGVyZSBJbmRleCA9PSBVVEY4Vmlldy5JbmRleCwgVUludDggPT0gVVRGOFZpZXcuRWxlbWVudAogICAgYXNzb2NpYXRlZHR5cGUgVW5pY29kZVNjYWxhclZpZXcgd2hlcmUgSW5kZXggPT0gVW5pY29kZVNjYWxhclZpZXcuSW5kZXgsIFVuaWNvZGUuU2NhbGFyID09IFVuaWNvZGVTY2FsYXJWaWV3LkVsZW1lbnQKICAgIGluaXQoY1N0cmluZyBudWxsVGVybWluYXRlZFVURjg6IFVuc2FmZVBvaW50ZXI8Q0NoYXI+KQogICAgaW5pdDxDLCBFbmNvZGluZz4oZGVjb2RpbmcgY29kZVVuaXRzOiBDLCBhcyBzb3VyY2VFbmNvZGluZzogRW5jb2RpbmcuVHlwZSkgd2hlcmUgQyA6IENvbGxlY3Rpb24sIEVuY29kaW5nIDogVW5pY29kZS5FbmNvZGluZywgQy5JdGVyYXRvci5FbGVtZW50ID09IEVuY29kaW5nLkNvZGVVbml0CiAgICBpbml0PEVuY29kaW5nPihkZWNvZGluZ0NTdHJpbmcgbnVsbFRlcm1pbmF0ZWRDb2RlVW5pdHM6IFVuc2FmZVBvaW50ZXI8RW5jb2RpbmcuQ29kZVVuaXQ+LCBhcyBzb3VyY2VFbmNvZGluZzogRW5jb2RpbmcuVHlwZSkgd2hlcmUgRW5jb2RpbmcgOiBVbmljb2RlLkVuY29kaW5nCiAgICB2YXIgdW5pY29kZVNjYWxhcnM6IFVuaWNvZGVTY2FsYXJWaWV3IHsgZ2V0IH0KICAgIHZhciB1dGYxNjogVVRGMTZWaWV3IHsgZ2V0IH0KICAgIHZhciB1dGY4OiBVVEY4VmlldyB7IGdldCB9CiAgICBmdW5jIGhhc1ByZWZpeDxQcmVmaXg+KF8gcHJlZml4OiBQcmVmaXgpIC0+IEJvb2wgd2hlcmUgUHJlZml4IDogU3RyaW5nUHJvdG9jb2wKICAgIGZ1bmMgaGFzU3VmZml4PFN1ZmZpeD4oXyBzdWZmaXg6IFN1ZmZpeCkgLT4gQm9vbCB3aGVyZSBTdWZmaXggOiBTdHJpbmdQcm90b2NvbAogICAgZnVuYyBsb3dlcmNhc2VkKCkgLT4gU3RyaW5nCiAgICBmdW5jIHVwcGVyY2FzZWQoKSAtPiBTdHJpbmcKICAgIGZ1bmMgd2l0aENTdHJpbmc8UmVzdWx0PihfIGJvZHk6IChVbnNhZmVQb2ludGVyPENDaGFyPikgdGhyb3dzIC0+IFJlc3VsdCkgcmV0aHJvd3MgLT4gUmVzdWx0CiAgICBmdW5jIHdpdGhDU3RyaW5nPFJlc3VsdCwgRW5jb2Rpbmc+KGVuY29kZWRBcyB0YXJnZXRFbmNvZGluZzogRW5jb2RpbmcuVHlwZSwgXyBib2R5OiAoVW5zYWZlUG9pbnRlcjxFbmNvZGluZy5Db2RlVW5pdD4pIHRocm93cyAtPiBSZXN1bHQpIHJldGhyb3dzIC0+IFJlc3VsdCB3aGVyZSBFbmNvZGluZyA6IFVuaWNvZGUuRW5jb2RpbmcKfQpwdWJsaWMgcHJvdG9jb2wgVGV4dE91dHB1dFN0cmVhbSB7CiAgICBtdXRhdGluZyBmdW5jIHdyaXRlKF8gc3RyaW5nOiBTdHJpbmcpCn0KcHVibGljIHByb3RvY29sIFRleHRPdXRwdXRTdHJlYW1hYmxlIHsKICAgIGZ1bmMgd3JpdGU8VGFyZ2V0Pih0byB0YXJnZXQ6IGlub3V0IFRhcmdldCkgd2hlcmUgVGFyZ2V0IDogVGV4dE91dHB1dFN0cmVhbQp9CnB1YmxpYyBwcm90b2NvbCBVbmljb2RlQ29kZWMgOiBVbmljb2RlLkVuY29kaW5nIHsKICAgIHN0YXRpYyBmdW5jIGVuY29kZShfIGlucHV0OiBVbmljb2RlLlNjYWxhciwgaW50byBwcm9jZXNzQ29kZVVuaXQ6IChDb2RlVW5pdCkgLT4gVm9pZCkKICAgIGluaXQoKQogICAgbXV0YXRpbmcgZnVuYyBkZWNvZGU8ST4oXyBpbnB1dDogaW5vdXQgSSkgLT4gVW5pY29kZURlY29kaW5nUmVzdWx0IHdoZXJlIEkgOiBJdGVyYXRvclByb3RvY29sLCBDb2RlVW5pdCA9PSBJLkVsZW1lbnQKfQpwdWJsaWMgcHJvdG9jb2wgVW5rZXllZERlY29kaW5nQ29udGFpbmVyIHsKICAgIHZhciBjb2RpbmdQYXRoOiBbQ29kaW5nS2V5XSB7IGdldCB9CiAgICB2YXIgY291bnQ6IEludD8geyBnZXQgfQogICAgdmFyIGN1cnJlbnRJbmRleDogSW50IHsgZ2V0IH0KICAgIHZhciBpc0F0RW5kOiBCb29sIHsgZ2V0IH0KICAgIG11dGF0aW5nIGZ1bmMgZGVjb2RlKF8gdHlwZTogQm9vbC5UeXBlKSB0aHJvd3MgLT4gQm9vbAogICAgbXV0YXRpbmcgZnVuYyBkZWNvZGVJZlByZXNlbnQoXyB0eXBlOiBCb29sLlR5cGUpIHRocm93cyAtPiBCb29sPwogICAgbXV0YXRpbmcgZnVuYyBkZWNvZGVOaWwoKSB0aHJvd3MgLT4gQm9vbAogICAgbXV0YXRpbmcgZnVuYyBuZXN0ZWRDb250YWluZXI8TmVzdGVkS2V5PihrZXllZEJ5IHR5cGU6IE5lc3RlZEtleS5UeXBlKSB0aHJvd3MgLT4gS2V5ZWREZWNvZGluZ0NvbnRhaW5lcjxOZXN0ZWRLZXk+CiAgICBtdXRhdGluZyBmdW5jIG5lc3RlZFVua2V5ZWRDb250YWluZXIoKSB0aHJvd3MgLT4gVW5rZXllZERlY29kaW5nQ29udGFpbmVyCiAgICBtdXRhdGluZyBmdW5jIHN1cGVyRGVjb2RlcigpIHRocm93cyAtPiBEZWNvZGVyCn0KcHVibGljIHByb3RvY29sIFVua2V5ZWRFbmNvZGluZ0NvbnRhaW5lciB7CiAgICB2YXIgY29kaW5nUGF0aDogW0NvZGluZ0tleV0geyBnZXQgfQogICAgdmFyIGNvdW50OiBJbnQgeyBnZXQgfQogICAgbXV0YXRpbmcgZnVuYyBlbmNvZGUoXyB2YWx1ZTogQm9vbCkgdGhyb3dzCiAgICBtdXRhdGluZyBmdW5jIGVuY29kZTxUPihjb250ZW50c09mIHNlcXVlbmNlOiBUKSB0aHJvd3Mgd2hlcmUgVCA6IFNlcXVlbmNlLCBCb29sID09IFQuRWxlbWVudAogICAgbXV0YXRpbmcgZnVuYyBlbmNvZGVDb25kaXRpb25hbDxUPihfIG9iamVjdDogVCkgdGhyb3dzIHdoZXJlIFQgOiBBbnlPYmplY3QgJiBFbmNvZGFibGUKICAgIG11dGF0aW5nIGZ1bmMgZW5jb2RlTmlsKCkgdGhyb3dzCiAgICBtdXRhdGluZyBmdW5jIG5lc3RlZENvbnRhaW5lcjxOZXN0ZWRLZXk+KGtleWVkQnkga2V5VHlwZTogTmVzdGVkS2V5LlR5cGUpIC0+IEtleWVkRW5jb2RpbmdDb250YWluZXI8TmVzdGVkS2V5PgogICAgbXV0YXRpbmcgZnVuYyBuZXN0ZWRVbmtleWVkQ29udGFpbmVyKCkgLT4gVW5rZXllZEVuY29kaW5nQ29udGFpbmVyCiAgICBtdXRhdGluZyBmdW5jIHN1cGVyRW5jb2RlcigpIC0+IEVuY29kZXIKfQpwdWJsaWMgcHJvdG9jb2wgVW5zaWduZWRJbnRlZ2VyIDogQWRkaXRpdmVBcml0aG1ldGljLCBCaW5hcnlJbnRlZ2VyLCBDb21wYXJhYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBFeHByZXNzaWJsZUJ5SW50ZWdlckxpdGVyYWwsIEhhc2hhYmxlLCBOdW1lcmljLCBTdHJpZGVhYmxlIHsKfQpleHRlbnNpb24gQW55QmlkaXJlY3Rpb25hbENvbGxlY3Rpb24gewogICAgcHVibGljIGluaXQoXyBvdGhlcjogQW55QmlkaXJlY3Rpb25hbENvbGxlY3Rpb248RWxlbWVudD4pIHt9CiAgICBwdWJsaWMgaW5pdDxDPihfIGJhc2U6IEMpIHdoZXJlIEMgOiBCaWRpcmVjdGlvbmFsQ29sbGVjdGlvbiwgQy5FbGVtZW50ID09IEVsZW1lbnQge30KICAgIHB1YmxpYyBpbml0PyhfIG90aGVyOiBBbnlDb2xsZWN0aW9uPEVsZW1lbnQ+KSB7fQp9CmV4dGVuc2lvbiBBbnlDb2xsZWN0aW9uIHsKICAgIHB1YmxpYyBpbml0KF8gb3RoZXI6IEFueUJpZGlyZWN0aW9uYWxDb2xsZWN0aW9uPEVsZW1lbnQ+KSB7fQogICAgcHVibGljIGluaXQ8Qz4oXyBiYXNlOiBDKSB3aGVyZSBDIDogQmlkaXJlY3Rpb25hbENvbGxlY3Rpb24sIEMuRWxlbWVudCA9PSBFbGVtZW50IHt9Cn0KZXh0ZW5zaW9uIEFueUl0ZXJhdG9yIHsKfQpleHRlbnNpb24gQW55UmFuZG9tQWNjZXNzQ29sbGVjdGlvbiB7CiAgICBwdWJsaWMgaW5pdChfIG90aGVyOiBBbnlSYW5kb21BY2Nlc3NDb2xsZWN0aW9uPEVsZW1lbnQ+KSB7fQogICAgcHVibGljIGluaXQ8Qz4oXyBiYXNlOiBDKSB3aGVyZSBDIDogUmFuZG9tQWNjZXNzQ29sbGVjdGlvbiwgQy5FbGVtZW50ID09IEVsZW1lbnQge30KICAgIHB1YmxpYyBpbml0PyhfIG90aGVyOiBBbnlCaWRpcmVjdGlvbmFsQ29sbGVjdGlvbjxFbGVtZW50Pikge30KfQpleHRlbnNpb24gQW55U2VxdWVuY2UgewogICAgcHVibGljIGluaXQ8Uz4oXyBiYXNlOiBTKSB3aGVyZSBTIDogU2VxdWVuY2UsIEVsZW1lbnQgPT0gUy5FbGVtZW50IHt9Cn0KZXh0ZW5zaW9uIEFycmF5IHsKICAgIHB1YmxpYyB2YXIgY2FwYWNpdHk6IEludCB7IGdldCB9CiAgICBwdWJsaWMgc3Vic2NyaXB0KGluZGV4OiBJbnQpIC0+IEVsZW1lbnQgeyBnZXQgc2V0IH0ge30KICAgIHB1YmxpYyBmdW5jIHdpdGhVbnNhZmVCdWZmZXJQb2ludGVyPFI+KF8gYm9keTogKFVuc2FmZUJ1ZmZlclBvaW50ZXI8RWxlbWVudD4pIHRocm93cyAtPiBSKSByZXRocm93cyAtPiBSIHt9CiAgICBwdWJsaWMgZnVuYyB3aXRoVW5zYWZlQnl0ZXM8Uj4oXyBib2R5OiAoVW5zYWZlUmF3QnVmZmVyUG9pbnRlcikgdGhyb3dzIC0+IFIpIHJldGhyb3dzIC0+IFIge30KICAgIHB1YmxpYyBtdXRhdGluZyBmdW5jIHdpdGhVbnNhZmVNdXRhYmxlQnVmZmVyUG9pbnRlcjxSPihfIGJvZHk6IChpbm91dCBVbnNhZmVNdXRhYmxlQnVmZmVyUG9pbnRlcjxFbGVtZW50PikgdGhyb3dzIC0+IFIpIHJldGhyb3dzIC0+IFIge30KICAgIHB1YmxpYyBtdXRhdGluZyBmdW5jIHdpdGhVbnNhZmVNdXRhYmxlQnl0ZXM8Uj4oXyBib2R5OiAoVW5zYWZlTXV0YWJsZVJhd0J1ZmZlclBvaW50ZXIpIHRocm93cyAtPiBSKSByZXRocm93cyAtPiBSIHt9Cn0KZXh0ZW5zaW9uIEFycmF5U2xpY2UgewogICAgcHVibGljIHZhciBjYXBhY2l0eTogSW50IHsgZ2V0IH0KICAgIHB1YmxpYyBzdWJzY3JpcHQoaW5kZXg6IEludCkgLT4gRWxlbWVudCB7IGdldCBzZXQgfSB7fQogICAgcHVibGljIGZ1bmMgd2l0aFVuc2FmZUJ1ZmZlclBvaW50ZXI8Uj4oXyBib2R5OiAoVW5zYWZlQnVmZmVyUG9pbnRlcjxFbGVtZW50PikgdGhyb3dzIC0+IFIpIHJldGhyb3dzIC0+IFIge30KICAgIHB1YmxpYyBmdW5jIHdpdGhVbnNhZmVCeXRlczxSPihfIGJvZHk6IChVbnNhZmVSYXdCdWZmZXJQb2ludGVyKSB0aHJvd3MgLT4gUikgcmV0aHJvd3MgLT4gUiB7fQogICAgcHVibGljIG11dGF0aW5nIGZ1bmMgd2l0aFVuc2FmZU11dGFibGVCdWZmZXJQb2ludGVyPFI+KF8gYm9keTogKGlub3V0IFVuc2FmZU11dGFibGVCdWZmZXJQb2ludGVyPEVsZW1lbnQ+KSB0aHJvd3MgLT4gUikgcmV0aHJvd3MgLT4gUiB7fQogICAgcHVibGljIG11dGF0aW5nIGZ1bmMgd2l0aFVuc2FmZU11dGFibGVCeXRlczxSPihfIGJvZHk6IChVbnNhZmVNdXRhYmxlUmF3QnVmZmVyUG9pbnRlcikgdGhyb3dzIC0+IFIpIHJldGhyb3dzIC0+IFIge30KfQpleHRlbnNpb24gQXV0b3JlbGVhc2luZ1Vuc2FmZU11dGFibGVQb2ludGVyIHsKfQpleHRlbnNpb24gQ2xvc2VkUmFuZ2UgewogICAgcHVibGljIGZ1bmMgY2xhbXBlZCh0byBsaW1pdHM6IENsb3NlZFJhbmdlKSAtPiBDbG9zZWRSYW5nZSB7fQogICAgcHVibGljIGZ1bmMgb3ZlcmxhcHMoXyBvdGhlcjogQ2xvc2VkUmFuZ2U8Qm91bmQ+KSAtPiBCb29sIHt9Cn0KZXh0ZW5zaW9uIENsb3NlZFJhbmdlLkluZGV4IHsKfQpleHRlbnNpb24gQ29sbGVjdGlvbk9mT25lIHsKfQpleHRlbnNpb24gQ29sbGVjdGlvbk9mT25lLkl0ZXJhdG9yIHsKfQpleHRlbnNpb24gQ29udGlndW91c0FycmF5IHsKICAgIHB1YmxpYyB2YXIgY2FwYWNpdHk6IEludCB7IGdldCB9CiAgICBwdWJsaWMgc3Vic2NyaXB0KGluZGV4OiBJbnQpIC0+IEVsZW1lbnQgeyBnZXQgc2V0IH0ge30KICAgIHB1YmxpYyBmdW5jIHdpdGhVbnNhZmVCdWZmZXJQb2ludGVyPFI+KF8gYm9keTogKFVuc2FmZUJ1ZmZlclBvaW50ZXI8RWxlbWVudD4pIHRocm93cyAtPiBSKSByZXRocm93cyAtPiBSIHt9CiAgICBwdWJsaWMgZnVuYyB3aXRoVW5zYWZlQnl0ZXM8Uj4oXyBib2R5OiAoVW5zYWZlUmF3QnVmZmVyUG9pbnRlcikgdGhyb3dzIC0+IFIpIHJldGhyb3dzIC0+IFIge30KICAgIHB1YmxpYyBtdXRhdGluZyBmdW5jIHdpdGhVbnNhZmVNdXRhYmxlQnVmZmVyUG9pbnRlcjxSPihfIGJvZHk6IChpbm91dCBVbnNhZmVNdXRhYmxlQnVmZmVyUG9pbnRlcjxFbGVtZW50PikgdGhyb3dzIC0+IFIpIHJldGhyb3dzIC0+IFIge30KICAgIHB1YmxpYyBtdXRhdGluZyBmdW5jIHdpdGhVbnNhZmVNdXRhYmxlQnl0ZXM8Uj4oXyBib2R5OiAoVW5zYWZlTXV0YWJsZVJhd0J1ZmZlclBvaW50ZXIpIHRocm93cyAtPiBSKSByZXRocm93cyAtPiBSIHt9Cn0KZXh0ZW5zaW9uIERlZmF1bHRJbmRpY2VzIHsKICAgIHB1YmxpYyBzdWJzY3JpcHQoaTogSW5kZXgpIC0+IEVsZW1lbnRzLkluZGV4IHsgZ2V0IH0ge30KfQpleHRlbnNpb24gRGljdGlvbmFyeSB7CiAgICBwdWJsaWMgdmFyIGNhcGFjaXR5OiBJbnQgeyBnZXQgfQogICAgQGF2YWlsYWJsZShzd2lmdCwgaW50cm9kdWNlZDogNC4wKSBwdWJsaWMgdmFyIGtleXM6IEtleXMgeyBnZXQgfQogICAgQGF2YWlsYWJsZShzd2lmdCwgaW50cm9kdWNlZDogNC4wKSBwdWJsaWMgdmFyIHZhbHVlczogVmFsdWVzIHsgZ2V0IHNldCB9CiAgICBwdWJsaWMgc3Vic2NyaXB0KGtleTogS2V5KSAtPiBWYWx1ZT8geyBnZXQgc2V0IH0ge30KICAgIHB1YmxpYyBzdWJzY3JpcHQoa2V5OiBLZXksIGRlZmF1bHQgZGVmYXVsdFZhbHVlOiBAYXV0b2Nsb3N1cmUgKCkgLT4gVmFsdWUpIC0+IFZhbHVlIHsgZ2V0IHNldCB9IHt9CiAgICBwdWJsaWMgZnVuYyBjb21wYWN0TWFwVmFsdWVzPFQ+KF8gdHJhbnNmb3JtOiAoVmFsdWUpIHRocm93cyAtPiBUPykgcmV0aHJvd3MgLT4gW0tleTogVF0ge30KICAgIHB1YmxpYyBmdW5jIGluZGV4KGZvcktleSBrZXk6IEtleSkgLT4gSW5kZXg/IHt9CiAgICBwdWJsaWMgZnVuYyBtYXBWYWx1ZXM8VD4oXyB0cmFuc2Zvcm06IChWYWx1ZSkgdGhyb3dzIC0+IFQpIHJldGhyb3dzIC0+IFtLZXk6IFRdIHt9CiAgICBwdWJsaWMgbXV0YXRpbmcgZnVuYyBtZXJnZShfIG90aGVyOiBfX293bmVkIFtLZXk6IFZhbHVlXSwgdW5pcXVpbmdLZXlzV2l0aCBjb21iaW5lOiAoVmFsdWUsIFZhbHVlKSB0aHJvd3MgLT4gVmFsdWUpIHJldGhyb3dzIHt9CiAgICBwdWJsaWMgbXV0YXRpbmcgZnVuYyBtZXJnZTxTPihfIG90aGVyOiBfX293bmVkIFMsIHVuaXF1aW5nS2V5c1dpdGggY29tYmluZTogKFZhbHVlLCBWYWx1ZSkgdGhyb3dzIC0+IFZhbHVlKSByZXRocm93cyB3aGVyZSBTIDogU2VxdWVuY2UsIChLZXksIFZhbHVlKSA9PSBTLkVsZW1lbnQge30KICAgIHB1YmxpYyBmdW5jIG1lcmdpbmcoXyBvdGhlcjogX19vd25lZCBbS2V5OiBWYWx1ZV0sIHVuaXF1aW5nS2V5c1dpdGggY29tYmluZTogKFZhbHVlLCBWYWx1ZSkgdGhyb3dzIC0+IFZhbHVlKSByZXRocm93cyAtPiBbS2V5OiBWYWx1ZV0ge30KICAgIHB1YmxpYyBmdW5jIG1lcmdpbmc8Uz4oXyBvdGhlcjogX19vd25lZCBTLCB1bmlxdWluZ0tleXNXaXRoIGNvbWJpbmU6IChWYWx1ZSwgVmFsdWUpIHRocm93cyAtPiBWYWx1ZSkgcmV0aHJvd3MgLT4gW0tleTogVmFsdWVdIHdoZXJlIFMgOiBTZXF1ZW5jZSwgKEtleSwgVmFsdWUpID09IFMuRWxlbWVudCB7fQogICAgQGRpc2NhcmRhYmxlUmVzdWx0IHB1YmxpYyBtdXRhdGluZyBmdW5jIHJlbW92ZShhdCBpbmRleDogSW5kZXgpIC0+IEVsZW1lbnQge30KICAgIHB1YmxpYyBtdXRhdGluZyBmdW5jIHJlbW92ZUFsbChrZWVwaW5nQ2FwYWNpdHkga2VlcENhcGFjaXR5OiBCb29sID0geCkge30KICAgIEBkaXNjYXJkYWJsZVJlc3VsdCBwdWJsaWMgbXV0YXRpbmcgZnVuYyByZW1vdmVWYWx1ZShmb3JLZXkga2V5OiBLZXkpIC0+IFZhbHVlPyB7fQogICAgcHVibGljIG11dGF0aW5nIGZ1bmMgcmVzZXJ2ZUNhcGFjaXR5KF8gbWluaW11bUNhcGFjaXR5OiBJbnQpIHt9CiAgICBAZGlzY2FyZGFibGVSZXN1bHQgcHVibGljIG11dGF0aW5nIGZ1bmMgdXBkYXRlVmFsdWUoXyB2YWx1ZTogX19vd25lZCBWYWx1ZSwgZm9yS2V5IGtleTogS2V5KSAtPiBWYWx1ZT8ge30KfQpleHRlbnNpb24gRGljdGlvbmFyeS5JbmRleCB7Cn0KZXh0ZW5zaW9uIERpY3Rpb25hcnkuSXRlcmF0b3Igewp9CmV4dGVuc2lvbiBEaWN0aW9uYXJ5LktleXMgewogICAgcHVibGljIGZ1bmMgbWFrZUl0ZXJhdG9yKCkgLT4gSXRlcmF0b3Ige30KfQpleHRlbnNpb24gRGljdGlvbmFyeS5WYWx1ZXMgewogICAgcHVibGljIGZ1bmMgbWFrZUl0ZXJhdG9yKCkgLT4gSXRlcmF0b3Ige30KfQpleHRlbnNpb24gRGljdGlvbmFyeS5fVmFyaWFudCB7Cn0KZXh0ZW5zaW9uIERyb3BGaXJzdFNlcXVlbmNlIHsKfQpleHRlbnNpb24gRHJvcFdoaWxlU2VxdWVuY2Ugewp9CmV4dGVuc2lvbiBEcm9wV2hpbGVTZXF1ZW5jZS5JdGVyYXRvciB7Cn0KZXh0ZW5zaW9uIEVtcHR5Q29sbGVjdGlvbiB7Cn0KZXh0ZW5zaW9uIEVtcHR5Q29sbGVjdGlvbi5JdGVyYXRvciB7Cn0KZXh0ZW5zaW9uIEVudW1lcmF0ZWRTZXF1ZW5jZSB7Cn0KZXh0ZW5zaW9uIEVudW1lcmF0ZWRTZXF1ZW5jZS5JdGVyYXRvciB7Cn0KZXh0ZW5zaW9uIEZsYXR0ZW5Db2xsZWN0aW9uIHsKfQpleHRlbnNpb24gRmxhdHRlblNlcXVlbmNlIHsKfQpleHRlbnNpb24gRmxhdHRlblNlcXVlbmNlLkluZGV4IHsKfQpleHRlbnNpb24gRmxhdHRlblNlcXVlbmNlLkl0ZXJhdG9yIHsKfQpleHRlbnNpb24gSW5kZXhpbmdJdGVyYXRvciB7Cn0KZXh0ZW5zaW9uIEl0ZXJhdG9yU2VxdWVuY2Ugewp9CmV4dGVuc2lvbiBKb2luZWRTZXF1ZW5jZSB7Cn0KZXh0ZW5zaW9uIEpvaW5lZFNlcXVlbmNlLkl0ZXJhdG9yIHsKfQpleHRlbnNpb24gS2V5VmFsdWVQYWlycyB7Cn0KZXh0ZW5zaW9uIExhenlDb2xsZWN0aW9uIHsKfQpleHRlbnNpb24gTGF6eURyb3BXaGlsZUNvbGxlY3Rpb24gewp9CmV4dGVuc2lvbiBMYXp5RHJvcFdoaWxlU2VxdWVuY2Ugewp9CmV4dGVuc2lvbiBMYXp5RHJvcFdoaWxlU2VxdWVuY2UuSXRlcmF0b3Igewp9CmV4dGVuc2lvbiBMYXp5RmlsdGVyQ29sbGVjdGlvbiB7Cn0KZXh0ZW5zaW9uIExhenlGaWx0ZXJTZXF1ZW5jZSB7Cn0KZXh0ZW5zaW9uIExhenlGaWx0ZXJTZXF1ZW5jZS5JdGVyYXRvciB7Cn0KZXh0ZW5zaW9uIExhenlNYXBDb2xsZWN0aW9uIHsKfQpleHRlbnNpb24gTGF6eU1hcFNlcXVlbmNlIHsKfQpleHRlbnNpb24gTGF6eU1hcFNlcXVlbmNlLkl0ZXJhdG9yIHsKfQpleHRlbnNpb24gTGF6eVByZWZpeFdoaWxlQ29sbGVjdGlvbiB7Cn0KZXh0ZW5zaW9uIExhenlQcmVmaXhXaGlsZVNlcXVlbmNlIHsKfQpleHRlbnNpb24gTGF6eVByZWZpeFdoaWxlU2VxdWVuY2UuSW5kZXggewp9CmV4dGVuc2lvbiBMYXp5UHJlZml4V2hpbGVTZXF1ZW5jZS5JdGVyYXRvciB7Cn0KZXh0ZW5zaW9uIExhenlTZXF1ZW5jZSB7Cn0KZXh0ZW5zaW9uIE1hbmFnZWRCdWZmZXIgewogICAgcHVibGljIGNsYXNzIGZ1bmMgY3JlYXRlKG1pbmltdW1DYXBhY2l0eTogSW50LCBtYWtpbmdIZWFkZXJXaXRoIGZhY3Rvcnk6IChNYW5hZ2VkQnVmZmVyPEhlYWRlciwgRWxlbWVudD4pIHRocm93cyAtPiBIZWFkZXIpIHJldGhyb3dzIC0+IE1hbmFnZWRCdWZmZXI8SGVhZGVyLCBFbGVtZW50PiB7fQogICAgcHVibGljIHZhciBjYXBhY2l0eTogSW50IHsgZ2V0IH0KICAgIHB1YmxpYyBmdW5jIHdpdGhVbnNhZmVNdXRhYmxlUG9pbnRlclRvRWxlbWVudHM8Uj4oXyBib2R5OiAoVW5zYWZlTXV0YWJsZVBvaW50ZXI8RWxlbWVudD4pIHRocm93cyAtPiBSKSByZXRocm93cyAtPiBSIHt9CiAgICBwdWJsaWMgZnVuYyB3aXRoVW5zYWZlTXV0YWJsZVBvaW50ZXJUb0hlYWRlcjxSPihfIGJvZHk6IChVbnNhZmVNdXRhYmxlUG9pbnRlcjxIZWFkZXI+KSB0aHJvd3MgLT4gUikgcmV0aHJvd3MgLT4gUiB7fQogICAgcHVibGljIGZ1bmMgd2l0aFVuc2FmZU11dGFibGVQb2ludGVyczxSPihfIGJvZHk6IChVbnNhZmVNdXRhYmxlUG9pbnRlcjxIZWFkZXI+LCBVbnNhZmVNdXRhYmxlUG9pbnRlcjxFbGVtZW50PikgdGhyb3dzIC0+IFIpIHJldGhyb3dzIC0+IFIge30KfQpleHRlbnNpb24gTWFuYWdlZEJ1ZmZlclBvaW50ZXIgewogICAgcHVibGljIHZhciBidWZmZXI6IEFueU9iamVjdCB7IGdldCB9CiAgICBwdWJsaWMgdmFyIGNhcGFjaXR5OiBJbnQgeyBnZXQgfQogICAgcHVibGljIHZhciBoZWFkZXI6IEhlYWRlciB7IGdldCBzZXQgfQogICAgcHVibGljIG11dGF0aW5nIGZ1bmMgaXNVbmlxdWVSZWZlcmVuY2UoKSAtPiBCb29sIHt9CiAgICBwdWJsaWMgZnVuYyB3aXRoVW5zYWZlTXV0YWJsZVBvaW50ZXJUb0VsZW1lbnRzPFI+KF8gYm9keTogKFVuc2FmZU11dGFibGVQb2ludGVyPEVsZW1lbnQ+KSB0aHJvd3MgLT4gUikgcmV0aHJvd3MgLT4gUiB7fQogICAgcHVibGljIGZ1bmMgd2l0aFVuc2FmZU11dGFibGVQb2ludGVyVG9IZWFkZXI8Uj4oXyBib2R5OiAoVW5zYWZlTXV0YWJsZVBvaW50ZXI8SGVhZGVyPikgdGhyb3dzIC0+IFIpIHJldGhyb3dzIC0+IFIge30KICAgIHB1YmxpYyBmdW5jIHdpdGhVbnNhZmVNdXRhYmxlUG9pbnRlcnM8Uj4oXyBib2R5OiAoVW5zYWZlTXV0YWJsZVBvaW50ZXI8SGVhZGVyPiwgVW5zYWZlTXV0YWJsZVBvaW50ZXI8RWxlbWVudD4pIHRocm93cyAtPiBSKSByZXRocm93cyAtPiBSIHt9Cn0KZXh0ZW5zaW9uIE1lbW9yeUxheW91dCB7CiAgICBwdWJsaWMgc3RhdGljIGZ1bmMgYWxpZ25tZW50KG9mVmFsdWUgdmFsdWU6IFQpIC0+IEludCB7fQogICAgcHVibGljIHN0YXRpYyBmdW5jIG9mZnNldChvZiBrZXk6IFBhcnRpYWxLZXlQYXRoPFQ+KSAtPiBJbnQ/IHt9CiAgICBwdWJsaWMgc3RhdGljIGZ1bmMgc2l6ZShvZlZhbHVlIHZhbHVlOiBUKSAtPiBJbnQge30KICAgIHB1YmxpYyBzdGF0aWMgZnVuYyBzdHJpZGUob2ZWYWx1ZSB2YWx1ZTogVCkgLT4gSW50IHt9Cn0KZXh0ZW5zaW9uIE9wdGlvbmFsIHsKICAgIHB1YmxpYyBmdW5jIH49KGxoczogX09wdGlvbmFsTmlsQ29tcGFyaXNvblR5cGUsIHJoczogV3JhcHBlZD8pIC0+IEJvb2wge30KfQpleHRlbnNpb24gUGFydGlhbFJhbmdlRnJvbSB7Cn0KZXh0ZW5zaW9uIFBhcnRpYWxSYW5nZVRocm91Z2ggewp9CmV4dGVuc2lvbiBQYXJ0aWFsUmFuZ2VVcFRvIHsKfQpleHRlbnNpb24gUHJlZml4U2VxdWVuY2Ugewp9CmV4dGVuc2lvbiBQcmVmaXhTZXF1ZW5jZS5JdGVyYXRvciB7Cn0KZXh0ZW5zaW9uIFJhbmdlIHsKICAgIHB1YmxpYyBmdW5jIGNsYW1wZWQodG8gbGltaXRzOiBSYW5nZSkgLT4gUmFuZ2Uge30KICAgIHB1YmxpYyBmdW5jIG92ZXJsYXBzKF8gb3RoZXI6IFJhbmdlPEJvdW5kPikgLT4gQm9vbCB7fQp9CmV4dGVuc2lvbiBSZXBlYXRlZCB7Cn0KZXh0ZW5zaW9uIFJlc3VsdCB7Cn0KZXh0ZW5zaW9uIFJldmVyc2VkQ29sbGVjdGlvbiB7Cn0KZXh0ZW5zaW9uIFJldmVyc2VkQ29sbGVjdGlvbi5JbmRleCB7Cn0KZXh0ZW5zaW9uIFJldmVyc2VkQ29sbGVjdGlvbi5JdGVyYXRvciB7Cn0KZXh0ZW5zaW9uIFNJTUQxNiB7Cn0KZXh0ZW5zaW9uIFNJTUQyIHsKfQpleHRlbnNpb24gU0lNRDMgewp9CmV4dGVuc2lvbiBTSU1EMzIgewp9CmV4dGVuc2lvbiBTSU1ENCB7Cn0KZXh0ZW5zaW9uIFNJTUQ2NCB7Cn0KZXh0ZW5zaW9uIFNJTUQ4IHsKfQpleHRlbnNpb24gU2V0IHsKICAgIHB1YmxpYyB2YXIgY2FwYWNpdHk6IEludCB7IGdldCB9CiAgICBAZGlzY2FyZGFibGVSZXN1bHQgcHVibGljIG11dGF0aW5nIGZ1bmMgcmVtb3ZlKGF0IHBvc2l0aW9uOiBJbmRleCkgLT4gRWxlbWVudCB7fQogICAgcHVibGljIG11dGF0aW5nIGZ1bmMgcmVtb3ZlQWxsKGtlZXBpbmdDYXBhY2l0eSBrZWVwQ2FwYWNpdHk6IEJvb2wgPSB4KSB7fQogICAgcHVibGljIG11dGF0aW5nIGZ1bmMgcmVzZXJ2ZUNhcGFjaXR5KF8gbWluaW11bUNhcGFjaXR5OiBJbnQpIHt9Cn0KZXh0ZW5zaW9uIFNldC5JbmRleCB7Cn0KZXh0ZW5zaW9uIFNldC5JdGVyYXRvciB7Cn0KZXh0ZW5zaW9uIFNldC5fVmFyaWFudCB7Cn0KZXh0ZW5zaW9uIFNsaWNlIHsKfQpleHRlbnNpb24gU3RyaWRlVGhyb3VnaCB7Cn0KZXh0ZW5zaW9uIFN0cmlkZVRocm91Z2hJdGVyYXRvciB7Cn0KZXh0ZW5zaW9uIFN0cmlkZVRvIHsKfQpleHRlbnNpb24gU3RyaWRlVG9JdGVyYXRvciB7Cn0KZXh0ZW5zaW9uIFN0cmluZy5VVEYxNlZpZXcgewogICAgcHVibGljIHN1YnNjcmlwdChpOiBJbmRleCkgLT4gVVRGMTYuQ29kZVVuaXQgeyBnZXQgfSB7fQp9CmV4dGVuc2lvbiBTdHJpbmcuVVRGMTZWaWV3LkluZGV4IHsKICAgIHB1YmxpYyBpbml0PyhfIGlkeDogU3RyaW5nLkluZGV4LCB3aXRoaW4gdGFyZ2V0OiBTdHJpbmcuVVRGMTZWaWV3KSB7fQogICAgcHVibGljIGZ1bmMgc2FtZVBvc2l0aW9uKGluIHVuaWNvZGVTY2FsYXJzOiBTdHJpbmcuVW5pY29kZVNjYWxhclZpZXcpIC0+IFN0cmluZy5Vbmljb2RlU2NhbGFySW5kZXg/IHt9Cn0KZXh0ZW5zaW9uIFN0cmluZy5VVEY4VmlldyB7Cn0KZXh0ZW5zaW9uIFN0cmluZy5Vbmljb2RlU2NhbGFySW5kZXggewogICAgcHVibGljIGluaXQ/KF8gc291cmNlUG9zaXRpb246IFN0cmluZy5JbmRleCwgd2l0aGluIHVuaWNvZGVTY2FsYXJzOiBTdHJpbmcuVW5pY29kZVNjYWxhclZpZXcpIHt9CiAgICBwdWJsaWMgZnVuYyBzYW1lUG9zaXRpb24oaW4gY2hhcmFjdGVyczogU3RyaW5nKSAtPiBTdHJpbmcuSW5kZXg/IHt9Cn0KZXh0ZW5zaW9uIFN0cmluZy5Vbmljb2RlU2NhbGFyVmlldyB7Cn0KZXh0ZW5zaW9uIFVURjE2LkNvZGVVbml0IHsKfQpleHRlbnNpb24gVVRGMTYuUmV2ZXJzZVBhcnNlciB7Cn0KZXh0ZW5zaW9uIFVURjMyLlBhcnNlciB7CiAgICBwdWJsaWMgbXV0YXRpbmcgZnVuYyBwYXJzZVNjYWxhcjxJPihmcm9tIGlucHV0OiBpbm91dCBJKSAtPiBVbmljb2RlLlBhcnNlUmVzdWx0PEVuY29kaW5nLkVuY29kZWRTY2FsYXI+IHdoZXJlIEkgOiBJdGVyYXRvclByb3RvY29sLCBFbmNvZGluZy5Db2RlVW5pdCA9PSBJLkVsZW1lbnQge30KfQpleHRlbnNpb24gVVRGOC5Db2RlVW5pdCB7Cn0KZXh0ZW5zaW9uIFVURjguUmV2ZXJzZVBhcnNlciB7Cn0KZXh0ZW5zaW9uIFVURjhWYWxpZGF0aW9uUmVzdWx0IHsKfQpleHRlbnNpb24gVW5pY29kZS5TY2FsYXIgewp9CmV4dGVuc2lvbiBVbmljb2RlLlNjYWxhci5VVEYxNlZpZXcgewp9CmV4dGVuc2lvbiBVbmljb2RlLlVURjE2LkZvcndhcmRQYXJzZXIgewp9CmV4dGVuc2lvbiBVbmljb2RlLlVURjguRm9yd2FyZFBhcnNlciB7Cn0KZXh0ZW5zaW9uIFVuc2FmZUJ1ZmZlclBvaW50ZXIgewogICAgcHVibGljIGluaXQoXyBvdGhlcjogVW5zYWZlTXV0YWJsZUJ1ZmZlclBvaW50ZXI8RWxlbWVudD4pIHt9CiAgICBwdWJsaWMgaW5pdChyZWJhc2luZyBzbGljZTogU2xpY2U8VW5zYWZlQnVmZmVyUG9pbnRlcjxFbGVtZW50Pj4pIHt9CiAgICBwdWJsaWMgaW5pdChzdGFydDogVW5zYWZlUG9pbnRlcjxFbGVtZW50Pj8sIGNvdW50OiBJbnQpIHt9CiAgICBwdWJsaWMgdmFyIGJhc2VBZGRyZXNzOiBVbnNhZmVQb2ludGVyPEVsZW1lbnQ+PyB7IGdldCB9CiAgICBwdWJsaWMgc3Vic2NyaXB0KGk6IEludCkgLT4gRWxlbWVudCB7IGdldCB9IHt9CiAgICBwdWJsaWMgZnVuYyBkZWFsbG9jYXRlKCkge30KICAgIHB1YmxpYyBmdW5jIHdpdGhNZW1vcnlSZWJvdW5kPFQsIFJlc3VsdD4odG8gdHlwZTogVC5UeXBlLCBfIGJvZHk6IChVbnNhZmVCdWZmZXJQb2ludGVyPFQ+KSB0aHJvd3MgLT4gUmVzdWx0KSByZXRocm93cyAtPiBSZXN1bHQge30KfQpleHRlbnNpb24gVW5zYWZlQnVmZmVyUG9pbnRlci5JdGVyYXRvciB7Cn0KZXh0ZW5zaW9uIFVuc2FmZU11dGFibGVCdWZmZXJQb2ludGVyIHsKICAgIHB1YmxpYyBzdGF0aWMgZnVuYyBhbGxvY2F0ZShjYXBhY2l0eSBjb3VudDogSW50KSAtPiBVbnNhZmVNdXRhYmxlQnVmZmVyUG9pbnRlcjxFbGVtZW50PiB7fQogICAgcHVibGljIGluaXQobXV0YXRpbmcgb3RoZXI6IFVuc2FmZUJ1ZmZlclBvaW50ZXI8RWxlbWVudD4pIHt9CiAgICBwdWJsaWMgaW5pdChyZWJhc2luZyBzbGljZTogU2xpY2U8VW5zYWZlTXV0YWJsZUJ1ZmZlclBvaW50ZXI8RWxlbWVudD4+KSB7fQogICAgcHVibGljIGluaXQoc3RhcnQ6IFVuc2FmZU11dGFibGVQb2ludGVyPEVsZW1lbnQ+PywgY291bnQ6IEludCkge30KICAgIHB1YmxpYyB2YXIgYmFzZUFkZHJlc3M6IFVuc2FmZU11dGFibGVQb2ludGVyPEVsZW1lbnQ+PyB7IGdldCB9CiAgICBwdWJsaWMgc3Vic2NyaXB0KGk6IEludCkgLT4gRWxlbWVudCB7IGdldCBzZXQgfSB7fQogICAgcHVibGljIGZ1bmMgYXNzaWduKHJlcGVhdGluZyByZXBlYXRlZFZhbHVlOiBFbGVtZW50KSB7fQogICAgcHVibGljIGZ1bmMgZGVhbGxvY2F0ZSgpIHt9CiAgICBwdWJsaWMgZnVuYyBpbml0aWFsaXplPFM+KGZyb20gc291cmNlOiBTKSAtPiAoUy5JdGVyYXRvciwgSW5kZXgpIHdoZXJlIFMgOiBTZXF1ZW5jZSwgRWxlbWVudCA9PSBTLkVsZW1lbnQge30KICAgIHB1YmxpYyBmdW5jIGluaXRpYWxpemUocmVwZWF0aW5nIHJlcGVhdGVkVmFsdWU6IEVsZW1lbnQpIHt9CiAgICBwdWJsaWMgZnVuYyB3aXRoTWVtb3J5UmVib3VuZDxULCBSZXN1bHQ+KHRvIHR5cGU6IFQuVHlwZSwgXyBib2R5OiAoVW5zYWZlTXV0YWJsZUJ1ZmZlclBvaW50ZXI8VD4pIHRocm93cyAtPiBSZXN1bHQpIHJldGhyb3dzIC0+IFJlc3VsdCB7fQp9CmV4dGVuc2lvbiBVbnNhZmVNdXRhYmxlUG9pbnRlciB7Cn0KZXh0ZW5zaW9uIFVuc2FmZVBvaW50ZXIgewp9CmV4dGVuc2lvbiBaaXAyU2VxdWVuY2Ugewp9CmV4dGVuc2lvbiBaaXAyU2VxdWVuY2UuSXRlcmF0b3Igewp9")!, encoding: String.Encoding.utf8)!
        static let xctest = String(data: Data(base64Encoded: "b3BlbiBjbGFzcyBYQ1ROU05vdGlmaWNhdGlvbkV4cGVjdGF0aW9uIDogQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIFhDVGVzdEV4cGVjdGF0aW9uIHsKICAgIHB1YmxpYyBpbml0KG5hbWUgbm90aWZpY2F0aW9uTmFtZTogTm90aWZpY2F0aW9uLk5hbWUsIG9iamVjdDogQW55PyA9IHgsIG5vdGlmaWNhdGlvbkNlbnRlcjogTm90aWZpY2F0aW9uQ2VudGVyID0geCwgZmlsZTogU3RhdGljU3RyaW5nID0geCwgbGluZTogSW50ID0geCkge30KICAgIG9wZW4gdmFyIGhhbmRsZXI6IEhhbmRsZXI/IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBub3RpZmljYXRpb25DZW50ZXI6IE5vdGlmaWNhdGlvbkNlbnRlciB7IGdldCB9CiAgICBvcGVuIHZhciBub3RpZmljYXRpb25OYW1lOiBOb3RpZmljYXRpb24uTmFtZSB7IGdldCB9CiAgICBvcGVuIHZhciBvYnNlcnZlZE9iamVjdDogQW55PyB7IGdldCB9Cn0Kb3BlbiBjbGFzcyBYQ1ROU1ByZWRpY2F0ZUV4cGVjdGF0aW9uIDogQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIFhDVGVzdEV4cGVjdGF0aW9uIHsKICAgIHB1YmxpYyBpbml0KHByZWRpY2F0ZTogTlNQcmVkaWNhdGUsIG9iamVjdDogQW55PyA9IHgsIGZpbGU6IFN0YXRpY1N0cmluZyA9IHgsIGxpbmU6IEludCA9IHgpIHt9CiAgICBvcGVuIHZhciBoYW5kbGVyOiBIYW5kbGVyPyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgb2JqZWN0OiBBbnk/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHByZWRpY2F0ZTogTlNQcmVkaWNhdGUgeyBnZXQgfQp9Cm9wZW4gY2xhc3MgWENUV2FpdGVyIDogQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgTWFuYWdlYWJsZVdhaXRlciB7CiAgICBvcGVuIGNsYXNzIGZ1bmMgd2FpdChmb3IgZXhwZWN0YXRpb25zOiBbWENUZXN0RXhwZWN0YXRpb25dLCB0aW1lb3V0OiBUaW1lSW50ZXJ2YWwsIGVuZm9yY2VPcmRlcjogQm9vbCA9IHgsIGZpbGU6IFN0YXRpY1N0cmluZyA9IHgsIGxpbmU6IEludCA9IHgpIC0+IFJlc3VsdCB7fQogICAgcHVibGljIGluaXQoZGVsZWdhdGU6IFhDVFdhaXRlckRlbGVnYXRlPyA9IHgpIHt9CiAgICBvcGVuIHZhciBkZWxlZ2F0ZTogWENUV2FpdGVyRGVsZWdhdGU/IHsgZ2V0IHNldCB9CiAgICBwdWJsaWMgdmFyIGRlc2NyaXB0aW9uOiBTdHJpbmcgeyBnZXQgfQogICAgb3BlbiB2YXIgZnVsZmlsbGVkRXhwZWN0YXRpb25zOiBbWENUZXN0RXhwZWN0YXRpb25dIHsgZ2V0IH0KICAgIHB1YmxpYyBmdW5jID09KGxoczogWENUV2FpdGVyLCByaHM6IFhDVFdhaXRlcikgLT4gQm9vbCB7fQogICAgQGRpc2NhcmRhYmxlUmVzdWx0IG9wZW4gZnVuYyB3YWl0KGZvciBleHBlY3RhdGlvbnM6IFtYQ1Rlc3RFeHBlY3RhdGlvbl0sIHRpbWVvdXQ6IFRpbWVJbnRlcnZhbCwgZW5mb3JjZU9yZGVyOiBCb29sID0geCwgZmlsZTogU3RhdGljU3RyaW5nID0geCwgbGluZTogSW50ID0geCkgLT4gUmVzdWx0IHt9Cn0Kb3BlbiBjbGFzcyBYQ1Rlc3QgewogICAgcHVibGljIGluaXQoKSB7fQogICAgb3BlbiB2YXIgbmFtZTogU3RyaW5nIHsgZ2V0IH0KICAgIG9wZW4gdmFyIHRlc3RDYXNlQ291bnQ6IEludCB7IGdldCB9CiAgICBvcGVuIHZhciB0ZXN0UnVuOiBYQ1Rlc3RSdW4/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHRlc3RSdW5DbGFzczogQW55Q2xhc3M/IHsgZ2V0IH0KICAgIG9wZW4gZnVuYyBwZXJmb3JtKF8gcnVuOiBYQ1Rlc3RSdW4pIHt9CiAgICBvcGVuIGZ1bmMgcnVuKCkge30KICAgIG9wZW4gZnVuYyBzZXRVcCgpIHt9CiAgICBvcGVuIGZ1bmMgdGVhckRvd24oKSB7fQp9Cm9wZW4gY2xhc3MgWENUZXN0Q2FzZSA6IEFueU9iamVjdCwgUGVyZm9ybWFuY2VNZXRlckRlbGVnYXRlLCBYQ1RXYWl0ZXJEZWxlZ2F0ZSwgWENUZXN0IHsKICAgIG9wZW4gY2xhc3MgZnVuYyBzZXRVcCgpIHt9CiAgICBvcGVuIGNsYXNzIGZ1bmMgdGVhckRvd24oKSB7fQogICAgcHVibGljIHJlcXVpcmVkIGluaXQobmFtZTogU3RyaW5nLCB0ZXN0Q2xvc3VyZTogQGVzY2FwaW5nIFhDVGVzdENhc2VDbG9zdXJlKSB7fQogICAgb3BlbiB2YXIgY29udGludWVBZnRlckZhaWx1cmU6IEJvb2wgeyBnZXQgc2V0IH0KICAgIG9wZW4gZnVuYyBpbnZva2VUZXN0KCkge30KICAgIG9wZW4gZnVuYyByZWNvcmRGYWlsdXJlKHdpdGhEZXNjcmlwdGlvbiBkZXNjcmlwdGlvbjogU3RyaW5nLCBpbkZpbGUgZmlsZVBhdGg6IFN0cmluZywgYXRMaW5lIGxpbmVOdW1iZXI6IEludCwgZXhwZWN0ZWQ6IEJvb2wpIHt9Cn0Kb3BlbiBjbGFzcyBYQ1Rlc3RDYXNlUnVuIDogWENUZXN0UnVuIHsKfQpvcGVuIGNsYXNzIFhDVGVzdEV4cGVjdGF0aW9uIDogQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUgewogICAgcHVibGljIGluaXQoZGVzY3JpcHRpb246IFN0cmluZyA9IHgsIGZpbGU6IFN0YXRpY1N0cmluZyA9IHgsIGxpbmU6IEludCA9IHgpIHt9CiAgICBvcGVuIHZhciBhc3NlcnRGb3JPdmVyRnVsZmlsbDogQm9vbCB7IGdldCBzZXQgfQogICAgcHVibGljIHZhciBkZXNjcmlwdGlvbjogU3RyaW5nIHsgZ2V0IH0KICAgIG9wZW4gdmFyIGV4cGVjdGF0aW9uRGVzY3JpcHRpb246IFN0cmluZyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgZXhwZWN0ZWRGdWxmaWxsbWVudENvdW50OiBJbnQgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGlzSW52ZXJ0ZWQ6IEJvb2wgeyBnZXQgc2V0IH0KICAgIHB1YmxpYyBmdW5jID09KGxoczogWENUZXN0RXhwZWN0YXRpb24sIHJoczogWENUZXN0RXhwZWN0YXRpb24pIC0+IEJvb2wge30KICAgIG9wZW4gZnVuYyBmdWxmaWxsKF8gZmlsZTogU3RhdGljU3RyaW5nID0geCwgbGluZTogSW50ID0geCkge30KICAgIHB1YmxpYyBmdW5jIGhhc2goaW50byBoYXNoZXI6IGlub3V0IEhhc2hlcikge30KfQpvcGVuIGNsYXNzIFhDVGVzdFJ1biB7CiAgICBwdWJsaWMgcmVxdWlyZWQgaW5pdCh0ZXN0OiBYQ1Rlc3QpIHt9CiAgICBvcGVuIHZhciBleGVjdXRpb25Db3VudDogSW50IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGZhaWx1cmVDb3VudDogSW50IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGhhc1N1Y2NlZWRlZDogQm9vbCB7IGdldCB9CiAgICBvcGVuIHZhciBzdGFydERhdGU6IERhdGU/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHN0b3BEYXRlOiBEYXRlPyB7IGdldCB9CiAgICBwdWJsaWMgdmFyIHRlc3Q6IFhDVGVzdCB7IGdldCB9CiAgICBvcGVuIHZhciB0ZXN0Q2FzZUNvdW50OiBJbnQgeyBnZXQgfQogICAgb3BlbiB2YXIgdGVzdER1cmF0aW9uOiBUaW1lSW50ZXJ2YWwgeyBnZXQgfQogICAgb3BlbiB2YXIgdG90YWxEdXJhdGlvbjogVGltZUludGVydmFsIHsgZ2V0IH0KICAgIG9wZW4gdmFyIHRvdGFsRmFpbHVyZUNvdW50OiBJbnQgeyBnZXQgfQogICAgb3BlbiB2YXIgdW5leHBlY3RlZEV4Y2VwdGlvbkNvdW50OiBJbnQgeyBnZXQgfQogICAgb3BlbiBmdW5jIHN0YXJ0KCkge30KICAgIG9wZW4gZnVuYyBzdG9wKCkge30KfQpvcGVuIGNsYXNzIFhDVGVzdFN1aXRlIDogWENUZXN0IHsKICAgIHB1YmxpYyBpbml0KG5hbWU6IFN0cmluZykge30KICAgIG9wZW4gdmFyIHRlc3RzIHsgZ2V0IH0KICAgIG9wZW4gZnVuYyBhZGRUZXN0KF8gdGVzdDogWENUZXN0KSB7fQp9Cm9wZW4gY2xhc3MgWENUZXN0U3VpdGVSdW4gOiBYQ1Rlc3RSdW4gewogICAgb3BlbiB2YXIgdGVzdFJ1bnMgeyBnZXQgfQogICAgb3BlbiBmdW5jIGFkZFRlc3RSdW4oXyB0ZXN0UnVuOiBYQ1Rlc3RSdW4pIHt9Cn0KcHVibGljIHByb3RvY29sIFhDVFdhaXRlckRlbGVnYXRlIDogQW55T2JqZWN0IHsKICAgIGZ1bmMgbmVzdGVkV2FpdGVyKF8gd2FpdGVyOiBYQ1RXYWl0ZXIsIHdhc0ludGVycnVwdGVkQnlUaW1lZE91dFdhaXRlciBvdXRlcldhaXRlcjogWENUV2FpdGVyKQogICAgZnVuYyB3YWl0ZXIoXyB3YWl0ZXI6IFhDVFdhaXRlciwgZGlkRnVsZmlsbEludmVydGVkRXhwZWN0YXRpb24gZXhwZWN0YXRpb246IFhDVGVzdEV4cGVjdGF0aW9uKQogICAgZnVuYyB3YWl0ZXIoXyB3YWl0ZXI6IFhDVFdhaXRlciwgZGlkVGltZW91dFdpdGhVbmZ1bGZpbGxlZEV4cGVjdGF0aW9ucyB1bmZ1bGZpbGxlZEV4cGVjdGF0aW9uczogW1hDVGVzdEV4cGVjdGF0aW9uXSkKICAgIGZ1bmMgd2FpdGVyKF8gd2FpdGVyOiBYQ1RXYWl0ZXIsIGZ1bGZpbGxtZW50RGlkVmlvbGF0ZU9yZGVyaW5nQ29uc3RyYWludHNGb3IgZXhwZWN0YXRpb246IFhDVGVzdEV4cGVjdGF0aW9uLCByZXF1aXJlZEV4cGVjdGF0aW9uOiBYQ1Rlc3RFeHBlY3RhdGlvbikKfQpwdWJsaWMgcHJvdG9jb2wgWENUZXN0T2JzZXJ2YXRpb24gOiBBbnlPYmplY3QgewogICAgZnVuYyB0ZXN0QnVuZGxlRGlkRmluaXNoKF8gdGVzdEJ1bmRsZTogQnVuZGxlKQogICAgZnVuYyB0ZXN0QnVuZGxlV2lsbFN0YXJ0KF8gdGVzdEJ1bmRsZTogQnVuZGxlKQogICAgZnVuYyB0ZXN0Q2FzZShfIHRlc3RDYXNlOiBYQ1Rlc3RDYXNlLCBkaWRGYWlsV2l0aERlc2NyaXB0aW9uIGRlc2NyaXB0aW9uOiBTdHJpbmcsIGluRmlsZSBmaWxlUGF0aDogU3RyaW5nPywgYXRMaW5lIGxpbmVOdW1iZXI6IEludCkKICAgIGZ1bmMgdGVzdENhc2VEaWRGaW5pc2goXyB0ZXN0Q2FzZTogWENUZXN0Q2FzZSkKICAgIGZ1bmMgdGVzdENhc2VXaWxsU3RhcnQoXyB0ZXN0Q2FzZTogWENUZXN0Q2FzZSkKICAgIGZ1bmMgdGVzdFN1aXRlRGlkRmluaXNoKF8gdGVzdFN1aXRlOiBYQ1Rlc3RTdWl0ZSkKICAgIGZ1bmMgdGVzdFN1aXRlV2lsbFN0YXJ0KF8gdGVzdFN1aXRlOiBYQ1Rlc3RTdWl0ZSkKfQ==")!, encoding: String.Encoding.utf8)!
    }
    static let syntaxHighlighting = String(data: Data(base64Encoded: "LyoKIFN5bnRheCBIaWdobGlnaHRpbmcuY3NzCgogVGhpcyBzb3VyY2UgZmlsZSBpcyBwYXJ0IG9mIHRoZSBTREdTd2lmdCBvcGVuIHNvdXJjZSBwcm9qZWN0LgogaHR0cHM6Ly9zZGdnaWVzYnJlY2h0LmdpdGh1Yi5pby9TREdTd2lmdAoKIENvcHlyaWdodCDCqTIwMTjigJMyMDE5IEplcmVteSBEYXZpZCBHaWVzYnJlY2h0IGFuZCB0aGUgU0RHU3dpZnQgcHJvamVjdCBjb250cmlidXRvcnMuCgogU29saSBEZW8gZ2xvcmlhLgoKIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5jZSwgVmVyc2lvbiAyLjAuCiBTZWUgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wIGZvciBsaWNlbmNlIGluZm9ybWF0aW9uLgogKi8KCi8qIExheW91dCAqLwoKLnN3aWZ0IHsKICAgIGRpc3BsYXk6IGlubGluZTsKICAgIHdoaXRlLXNwYWNlOiBwcmUtd3JhcDsKfQouc3dpZnQuYmxvY2txdW90ZSB7CiAgICBkaXNwbGF5OiBibG9jazsKICAgIG1hcmdpbjogMS40ZW0gMDsKICAgIGJvcmRlcjogMXB4IHNvbGlkOwogICAgIGJvcmRlci1yYWRpdXM6IDAuMzUyOTRlbTsKICAgIHBhZGRpbmc6IDAuMzUyOTRlbSAwLjk0MTE4ZW07Cn0KCi8qIENvbG91ciAqLwoKLnN3aWZ0LmJsb2NrcXVvdGUgewogICAgYmFja2dyb3VuZC1jb2xvcjogI0Y5RkFGQTsKICAgIGJvcmRlci1jb2xvcjogICNFNkU2RTY7Cn0KLnN3aWZ0IHsKICAgIGNvbG9yOiAjMDAwMDAwOwp9Cgouc3dpZnQgLmtleXdvcmQgewogICAgY29sb3I6ICNBQTBEOTE7Cn0KCi5zd2lmdCAucHVuY3R1YXRpb24gewogICAgY29sb3I6ICMwMDAwMDA7Cn0KCi5zd2lmdCAuZXh0ZXJuYWwuaWRlbnRpZmllciB7CiAgICBjb2xvcjogIzVDMjY5OTsKfQouc3dpZnQgLmludGVybmFsLmlkZW50aWZpZXIgewogICAgY29sb3I6ICMzRjZFNzQ7Cn0KCi5zd2lmdCAubnVtYmVyIHsKICAgIGNvbG9yOiAjMEUwRUZGOwp9Cgouc3dpZnQgLnN0cmluZyB7CiAgICBjb2xvcjogI0M0MUExNjsKfQouc3dpZnQgLnN0cmluZ+KAkHB1bmN0dWF0aW9uIHsKICAgIGNvbG9yOiAjNjIyNzBCOwp9Cgouc3dpZnQgLmNvbXBpbGF0aW9u4oCQY29uZGl0aW9uIHsKICAgIGNvbG9yOiAjNjQzODIwOwp9Cgouc3dpZnQgLmNvbW1lbnQgewogICAgY29sb3I6ICMwMDc0MDA7Cn0KLnN3aWZ0IC5jb21tZW504oCQcHVuY3R1YXRpb24gewogICAgY29sb3I6ICMwMDNBMDA7Cn0KLnN3aWZ0IC51cmwgewogICAgY29sb3I6ICMwRTBFRkY7Cn0KCi5zd2lmdCAuY29kZSB7CiAgICBjb2xvcjogIzAwMDAwMDsKfQoKLyogRm9udCAqLwoKLnN3aWZ0IHsKICAgIGZvbnQtZmFtaWx5OiAiU0YgTW9ubyIsIE1lbmxvLCBtb25vc3BhY2UsICJTRiBQcm8gSWNvbnMiOwogICAgbGV0dGVyLXNwYWNpbmc6IC0wLjAyN2VtOwogICAgbGluZS1oZWlnaHQ6IDEuMjY2Njc7Cn0KCi5zd2lmdCAudGV4dCB7CiAgICBmb250LWZhbWlseTogIlNGIFBybyBUZXh0IiwgIlNGIFBybyBJY29ucyIsICItYXBwbGUtc3lzdGVtIiwgIkJsaW5rTWFjU3lzdGVtRm9udCIsICJIZWx2ZXRpY2EgTmV1ZSIsICJIZWx2ZXRpY2EiLCAiQXJpYWwiLCBzYW5zLXNlcmlmOwogICAgbGV0dGVyLXNwYWNpbmc6IDA7Cn0KCi5zd2lmdCAuY29tbWVudOKAkGtleXdvcmQgewogICAgZm9udC13ZWlnaHQ6IGJvbGQ7Cn0KCi5zd2lmdCAudXJsOmxpbmssIC5zd2lmdCAudXJsOnZpc2l0ZWQgewogICAgdGV4dC1kZWNvcmF0aW9uOiBub25lOwp9Ci5zd2lmdCAudXJsOmhvdmVyIHsKICAgIHRleHQtZGVjb3JhdGlvbjogdW5kZXJsaW5lOwp9Cg==")!, encoding: String.Encoding.utf8)!

}
