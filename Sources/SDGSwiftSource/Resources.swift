/*
 Resources.swift

 This source file is part of the SDGSwift open source project.
 https://sdggiesbrecht.github.io/SDGSwift

 Copyright ©2018–2019 Jeremy David Giesbrecht and the SDGSwift project contributors.

 Soli Deo gloria.

 Licensed under the Apache Licence, Version 2.0.
 See http://www.apache.org/licenses/LICENSE-2.0 for licence information.
 */

import Foundation

internal enum Resources {}

extension Resources {
    enum CoreLibraries {
        static let dispatch = String(data: Data(base64Encoded: "cHVibGljIHByb3RvY29sIERpc3BhdGNoU291cmNlRmlsZVN5c3RlbU9iamVjdCA6IERpc3BhdGNoU291cmNlUHJvdG9jb2wgewojaWYgIW9zKExpbnV4KSAmJiAhb3MoQW5kcm9pZCkgJiYgIW9zKFdpbmRvd3MpCiAgICB2YXIgZGF0YTogRGlzcGF0Y2hTb3VyY2UuRmlsZVN5c3RlbUV2ZW50IHsgZ2V0IH0KI2VuZGlmCiNpZiAhb3MoTGludXgpICYmICFvcyhBbmRyb2lkKSAmJiAhb3MoV2luZG93cykKICAgIHZhciBoYW5kbGU6IEludDMyIHsgZ2V0IH0KI2VuZGlmCiNpZiAhb3MoTGludXgpICYmICFvcyhBbmRyb2lkKSAmJiAhb3MoV2luZG93cykKICAgIHZhciBtYXNrOiBEaXNwYXRjaFNvdXJjZS5GaWxlU3lzdGVtRXZlbnQgeyBnZXQgfQojZW5kaWYKfQpwdWJsaWMgcHJvdG9jb2wgRGlzcGF0Y2hTb3VyY2VNYWNoUmVjZWl2ZSA6IERpc3BhdGNoU291cmNlUHJvdG9jb2wgewojaWYgSEFWRV9NQUNICiAgICB2YXIgaGFuZGxlOiBtYWNoX3BvcnRfdCB7IGdldCB9CiNlbmRpZgp9CnB1YmxpYyBwcm90b2NvbCBEaXNwYXRjaFNvdXJjZU1hY2hTZW5kIDogRGlzcGF0Y2hTb3VyY2VQcm90b2NvbCB7CiNpZiBIQVZFX01BQ0gKICAgIHZhciBkYXRhOiBEaXNwYXRjaFNvdXJjZS5NYWNoU2VuZEV2ZW50IHsgZ2V0IH0KI2VuZGlmCiNpZiBIQVZFX01BQ0gKICAgIHZhciBoYW5kbGU6IG1hY2hfcG9ydF90IHsgZ2V0IH0KI2VuZGlmCiNpZiBIQVZFX01BQ0gKICAgIHZhciBtYXNrOiBEaXNwYXRjaFNvdXJjZS5NYWNoU2VuZEV2ZW50IHsgZ2V0IH0KI2VuZGlmCn0KcHVibGljIHByb3RvY29sIERpc3BhdGNoU291cmNlTWVtb3J5UHJlc3N1cmUgOiBEaXNwYXRjaFNvdXJjZVByb3RvY29sIHsKI2lmIEhBVkVfTUFDSAogICAgdmFyIGRhdGE6IERpc3BhdGNoU291cmNlLk1lbW9yeVByZXNzdXJlRXZlbnQgeyBnZXQgfQojZW5kaWYKI2lmIEhBVkVfTUFDSAogICAgdmFyIG1hc2s6IERpc3BhdGNoU291cmNlLk1lbW9yeVByZXNzdXJlRXZlbnQgeyBnZXQgfQojZW5kaWYKfQpwdWJsaWMgcHJvdG9jb2wgRGlzcGF0Y2hTb3VyY2VQcm9jZXNzIDogRGlzcGF0Y2hTb3VyY2VQcm90b2NvbCB7CiNpZiAhb3MoTGludXgpICYmICFvcyhBbmRyb2lkKSAmJiAhb3MoV2luZG93cykKICAgIHZhciBkYXRhOiBEaXNwYXRjaFNvdXJjZS5Qcm9jZXNzRXZlbnQgeyBnZXQgfQojZW5kaWYKI2lmICFvcyhMaW51eCkgJiYgIW9zKEFuZHJvaWQpICYmICFvcyhXaW5kb3dzKQogICAgdmFyIGhhbmRsZTogcGlkX3QgeyBnZXQgfQojZW5kaWYKI2lmICFvcyhMaW51eCkgJiYgIW9zKEFuZHJvaWQpICYmICFvcyhXaW5kb3dzKQogICAgdmFyIG1hc2s6IERpc3BhdGNoU291cmNlLlByb2Nlc3NFdmVudCB7IGdldCB9CiNlbmRpZgp9CnB1YmxpYyBwcm90b2NvbCBEaXNwYXRjaFNvdXJjZVByb3RvY29sIHsKICAgIHZhciBkYXRhOiBVSW50IHsgZ2V0IH0KICAgIHZhciBoYW5kbGU6IFVJbnQgeyBnZXQgfQogICAgdmFyIGlzQ2FuY2VsbGVkOiBCb29sIHsgZ2V0IH0KICAgIHZhciBtYXNrOiBVSW50IHsgZ2V0IH0KICAgIEBhdmFpbGFibGUobWFjT1MgMTAuMTIsIGlPUyAxMC4wLCB0dk9TIDEwLjAsIHdhdGNoT1MgMy4wLCAqKSBmdW5jIGFjdGl2YXRlKCkKICAgIGZ1bmMgY2FuY2VsKCkKICAgIGZ1bmMgcmVzdW1lKCkKICAgIEBhdmFpbGFibGUobWFjT1MgMTAuMTAsIGlPUyA4LjAsICopIGZ1bmMgc2V0Q2FuY2VsSGFuZGxlcihoYW5kbGVyOiBEaXNwYXRjaFdvcmtJdGVtKQogICAgZnVuYyBzZXRDYW5jZWxIYW5kbGVyKHFvczogRGlzcGF0Y2hRb1MgPSB4LCBmbGFnczogRGlzcGF0Y2hXb3JrSXRlbUZsYWdzID0geCwgaGFuZGxlcjogRGlzcGF0Y2hTb3VyY2VIYW5kbGVyPykKICAgIEBhdmFpbGFibGUobWFjT1MgMTAuMTAsIGlPUyA4LjAsICopIGZ1bmMgc2V0RXZlbnRIYW5kbGVyKGhhbmRsZXI6IERpc3BhdGNoV29ya0l0ZW0pCiAgICBmdW5jIHNldEV2ZW50SGFuZGxlcihxb3M6IERpc3BhdGNoUW9TID0geCwgZmxhZ3M6IERpc3BhdGNoV29ya0l0ZW1GbGFncyA9IHgsIGhhbmRsZXI6IERpc3BhdGNoU291cmNlSGFuZGxlcj8pCiAgICBAYXZhaWxhYmxlKG1hY09TIDEwLjEwLCBpT1MgOC4wLCAqKSBmdW5jIHNldFJlZ2lzdHJhdGlvbkhhbmRsZXIoaGFuZGxlcjogRGlzcGF0Y2hXb3JrSXRlbSkKICAgIGZ1bmMgc2V0UmVnaXN0cmF0aW9uSGFuZGxlcihxb3M6IERpc3BhdGNoUW9TID0geCwgZmxhZ3M6IERpc3BhdGNoV29ya0l0ZW1GbGFncyA9IHgsIGhhbmRsZXI6IERpc3BhdGNoU291cmNlSGFuZGxlcj8pCiAgICBmdW5jIHN1c3BlbmQoKQp9CnB1YmxpYyBwcm90b2NvbCBEaXNwYXRjaFNvdXJjZVJlYWQgOiBEaXNwYXRjaFNvdXJjZVByb3RvY29sIHsKfQpwdWJsaWMgcHJvdG9jb2wgRGlzcGF0Y2hTb3VyY2VTaWduYWwgOiBEaXNwYXRjaFNvdXJjZVByb3RvY29sIHsKfQpwdWJsaWMgcHJvdG9jb2wgRGlzcGF0Y2hTb3VyY2VUaW1lciA6IERpc3BhdGNoU291cmNlUHJvdG9jb2wgewogICAgQGF2YWlsYWJsZShzd2lmdCwgaW50cm9kdWNlZDogNCkgZnVuYyBzY2hlZHVsZShkZWFkbGluZTogRGlzcGF0Y2hUaW1lLCByZXBlYXRpbmcgaW50ZXJ2YWw6IERpc3BhdGNoVGltZUludGVydmFsID0geCwgbGVld2F5OiBEaXNwYXRjaFRpbWVJbnRlcnZhbCA9IHgpCiAgICBAYXZhaWxhYmxlKHN3aWZ0LCBpbnRyb2R1Y2VkOiA0KSBmdW5jIHNjaGVkdWxlKGRlYWRsaW5lOiBEaXNwYXRjaFRpbWUsIHJlcGVhdGluZyBpbnRlcnZhbDogRG91YmxlLCBsZWV3YXk6IERpc3BhdGNoVGltZUludGVydmFsID0geCkKICAgIEBhdmFpbGFibGUoc3dpZnQsIGludHJvZHVjZWQ6IDQpIGZ1bmMgc2NoZWR1bGUod2FsbERlYWRsaW5lOiBEaXNwYXRjaFdhbGxUaW1lLCByZXBlYXRpbmcgaW50ZXJ2YWw6IERpc3BhdGNoVGltZUludGVydmFsID0geCwgbGVld2F5OiBEaXNwYXRjaFRpbWVJbnRlcnZhbCA9IHgpCiAgICBAYXZhaWxhYmxlKHN3aWZ0LCBpbnRyb2R1Y2VkOiA0KSBmdW5jIHNjaGVkdWxlKHdhbGxEZWFkbGluZTogRGlzcGF0Y2hXYWxsVGltZSwgcmVwZWF0aW5nIGludGVydmFsOiBEb3VibGUsIGxlZXdheTogRGlzcGF0Y2hUaW1lSW50ZXJ2YWwgPSB4KQogICAgZnVuYyBzY2hlZHVsZU9uZXNob3QoZGVhZGxpbmU6IERpc3BhdGNoVGltZSwgbGVld2F5OiBEaXNwYXRjaFRpbWVJbnRlcnZhbCkKICAgIGZ1bmMgc2NoZWR1bGVPbmVzaG90KHdhbGxEZWFkbGluZTogRGlzcGF0Y2hXYWxsVGltZSwgbGVld2F5OiBEaXNwYXRjaFRpbWVJbnRlcnZhbCkKICAgIGZ1bmMgc2NoZWR1bGVSZXBlYXRpbmcoZGVhZGxpbmU6IERpc3BhdGNoVGltZSwgaW50ZXJ2YWw6IERpc3BhdGNoVGltZUludGVydmFsLCBsZWV3YXk6IERpc3BhdGNoVGltZUludGVydmFsKQogICAgZnVuYyBzY2hlZHVsZVJlcGVhdGluZyh3YWxsRGVhZGxpbmU6IERpc3BhdGNoV2FsbFRpbWUsIGludGVydmFsOiBEaXNwYXRjaFRpbWVJbnRlcnZhbCwgbGVld2F5OiBEaXNwYXRjaFRpbWVJbnRlcnZhbCkKfQpwdWJsaWMgcHJvdG9jb2wgRGlzcGF0Y2hTb3VyY2VVc2VyRGF0YUFkZCA6IERpc3BhdGNoU291cmNlUHJvdG9jb2wgewogICAgZnVuYyBhZGQoZGF0YTogVUludCkKfQpwdWJsaWMgcHJvdG9jb2wgRGlzcGF0Y2hTb3VyY2VVc2VyRGF0YU9yIDogRGlzcGF0Y2hTb3VyY2VQcm90b2NvbCB7CiAgICBmdW5jIG9yKGRhdGE6IFVJbnQpCn0KcHVibGljIHByb3RvY29sIERpc3BhdGNoU291cmNlVXNlckRhdGFSZXBsYWNlIDogRGlzcGF0Y2hTb3VyY2VQcm90b2NvbCB7CiAgICBmdW5jIHJlcGxhY2UoZGF0YTogVUludCkKfQpwdWJsaWMgcHJvdG9jb2wgRGlzcGF0Y2hTb3VyY2VXcml0ZSA6IERpc3BhdGNoU291cmNlUHJvdG9jb2wgewp9")!, encoding: String.Encoding.utf8)!
        static let foundation = String(data: Data(base64Encoded: "b3BlbiBjbGFzcyBCbG9ja09wZXJhdGlvbiA6IEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCwgT3BlcmF0aW9uLCBfIHsKICAgIHB1YmxpYyBpbml0KGJsb2NrOiBAZXNjYXBpbmcgKCkgLT4gVm9pZCkge30KICAgIG9wZW4gdmFyIGV4ZWN1dGlvbkJsb2NrczogWygpIC0+IFZvaWRdIHsgZ2V0IH0KICAgIG9wZW4gZnVuYyBhZGRFeGVjdXRpb25CbG9jayhfIGJsb2NrOiBAZXNjYXBpbmcgKCkgLT4gVm9pZCkge30KfQpvcGVuIGNsYXNzIEJ1bmRsZSA6IEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCwgXyB7CiAgICBvcGVuIGNsYXNzIHZhciBhbGxCdW5kbGVzOiBbQnVuZGxlXSB7IGdldCB9CiAgICBvcGVuIGNsYXNzIHZhciBtYWluOiBCdW5kbGUgeyBnZXQgfQogICAgb3BlbiBjbGFzcyBmdW5jIHBhdGgoZm9yUmVzb3VyY2UgbmFtZTogU3RyaW5nPywgb2ZUeXBlIGV4dDogU3RyaW5nPywgaW5EaXJlY3RvcnkgYnVuZGxlUGF0aDogU3RyaW5nKSAtPiBTdHJpbmc/IHt9CiAgICBvcGVuIGNsYXNzIGZ1bmMgcGF0aHMoZm9yUmVzb3VyY2VzT2ZUeXBlIGV4dDogU3RyaW5nPywgaW5EaXJlY3RvcnkgYnVuZGxlUGF0aDogU3RyaW5nKSAtPiBbU3RyaW5nXSB7fQogICAgb3BlbiBjbGFzcyBmdW5jIHByZWZlcnJlZExvY2FsaXphdGlvbnMoZnJvbSBsb2NhbGl6YXRpb25zQXJyYXk6IFtTdHJpbmddKSAtPiBbU3RyaW5nXSB7fQogICAgb3BlbiBjbGFzcyBmdW5jIHByZWZlcnJlZExvY2FsaXphdGlvbnMoZnJvbSBsb2NhbGl6YXRpb25zQXJyYXk6IFtTdHJpbmddLCBmb3JQcmVmZXJlbmNlcyBwcmVmZXJlbmNlc0FycmF5OiBbU3RyaW5nXT8pIC0+IFtTdHJpbmddIHt9CiAgICBvcGVuIGNsYXNzIGZ1bmMgdXJsKGZvclJlc291cmNlIG5hbWU6IFN0cmluZz8sIHdpdGhFeHRlbnNpb24gZXh0OiBTdHJpbmc/LCBzdWJkaXJlY3Rvcnkgc3VicGF0aDogU3RyaW5nPywgaW4gYnVuZGxlVVJMOiBVUkwpIC0+IFVSTD8ge30KICAgIG9wZW4gY2xhc3MgZnVuYyB1cmxzKGZvclJlc291cmNlc1dpdGhFeHRlbnNpb24gZXh0OiBTdHJpbmc/LCBzdWJkaXJlY3Rvcnkgc3VicGF0aDogU3RyaW5nPywgaW4gYnVuZGxlVVJMOiBOU1VSTCkgLT4gW05TVVJMXT8ge30KICAgIHB1YmxpYyBpbml0KGZvciBhQ2xhc3M6IEFueUNsYXNzKSB7fQogICAgcHVibGljIGluaXQ/KGlkZW50aWZpZXI6IFN0cmluZykge30KICAgIHB1YmxpYyBpbml0PyhwYXRoOiBTdHJpbmcpIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdD8odXJsOiBVUkwpIHt9CiAgICBvcGVuIHZhciBhcHBTdG9yZVJlY2VpcHRVUkw6IFVSTD8geyBnZXQgfQogICAgb3BlbiB2YXIgYnVpbHRJblBsdWdJbnNQYXRoOiBTdHJpbmc/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGJ1aWx0SW5QbHVnSW5zVVJMOiBVUkw/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGJ1bmRsZUlkZW50aWZpZXI6IFN0cmluZz8geyBnZXQgfQogICAgb3BlbiB2YXIgYnVuZGxlUGF0aDogU3RyaW5nIHsgZ2V0IH0KICAgIG9wZW4gdmFyIGJ1bmRsZVVSTDogVVJMIHsgZ2V0IH0KICAgIG9wZW4gdmFyIGRldmVsb3BtZW50TG9jYWxpemF0aW9uOiBTdHJpbmc/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGV4ZWN1dGFibGVBcmNoaXRlY3R1cmVzOiBbTlNOdW1iZXJdPyB7IGdldCB9CiAgICBvcGVuIHZhciBleGVjdXRhYmxlUGF0aDogU3RyaW5nPyB7IGdldCB9CiAgICBvcGVuIHZhciBleGVjdXRhYmxlVVJMOiBVUkw/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGluZm9EaWN0aW9uYXJ5OiBbU3RyaW5nOiBBbnldPyB7IGdldCB9CiAgICBvcGVuIHZhciBpc0xvYWRlZDogQm9vbCB7IGdldCB9CiAgICBvcGVuIHZhciBsb2NhbGl6YXRpb25zOiBbU3RyaW5nXSB7IGdldCB9CiAgICBvcGVuIHZhciBsb2NhbGl6ZWRJbmZvRGljdGlvbmFyeTogW1N0cmluZzogQW55XT8geyBnZXQgfQogICAgb3BlbiB2YXIgcHJlZmVycmVkTG9jYWxpemF0aW9uczogW1N0cmluZ10geyBnZXQgfQogICAgb3BlbiB2YXIgcHJpbmNpcGFsQ2xhc3M6IEFueUNsYXNzPyB7IGdldCB9CiAgICBvcGVuIHZhciBwcml2YXRlRnJhbWV3b3Jrc1BhdGg6IFN0cmluZz8geyBnZXQgfQogICAgb3BlbiB2YXIgcHJpdmF0ZUZyYW1ld29ya3NVUkw6IFVSTD8geyBnZXQgfQogICAgb3BlbiB2YXIgcmVzb3VyY2VQYXRoOiBTdHJpbmc/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHJlc291cmNlVVJMOiBVUkw/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHNoYXJlZEZyYW1ld29ya3NQYXRoOiBTdHJpbmc/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHNoYXJlZEZyYW1ld29ya3NVUkw6IFVSTD8geyBnZXQgfQogICAgb3BlbiB2YXIgc2hhcmVkU3VwcG9ydFBhdGg6IFN0cmluZz8geyBnZXQgfQogICAgb3BlbiB2YXIgc2hhcmVkU3VwcG9ydFVSTDogVVJMPyB7IGdldCB9CiAgICBvcGVuIGZ1bmMgY2xhc3NOYW1lZChfIGNsYXNzTmFtZTogU3RyaW5nKSAtPiBBbnlDbGFzcz8ge30KICAgIG9wZW4gZnVuYyBsb2FkKCkgLT4gQm9vbCB7fQogICAgb3BlbiBmdW5jIGxvYWRBbmRSZXR1cm5FcnJvcigpIHRocm93cyB7fQogICAgb3BlbiBmdW5jIGxvY2FsaXplZFN0cmluZyhmb3JLZXkga2V5OiBTdHJpbmcsIHZhbHVlOiBTdHJpbmc/LCB0YWJsZSB0YWJsZU5hbWU6IFN0cmluZz8pIC0+IFN0cmluZyB7fQogICAgb3BlbiBmdW5jIG9iamVjdChmb3JJbmZvRGljdGlvbmFyeUtleSBrZXk6IFN0cmluZykgLT4gQW55PyB7fQogICAgb3BlbiBmdW5jIHBhdGgoZm9yQXV4aWxpYXJ5RXhlY3V0YWJsZSBleGVjdXRhYmxlTmFtZTogU3RyaW5nKSAtPiBTdHJpbmc/IHt9CiAgICBvcGVuIGZ1bmMgcGF0aChmb3JSZXNvdXJjZSBuYW1lOiBTdHJpbmc/LCBvZlR5cGUgZXh0OiBTdHJpbmc/KSAtPiBTdHJpbmc/IHt9CiAgICBvcGVuIGZ1bmMgcGF0aChmb3JSZXNvdXJjZSBuYW1lOiBTdHJpbmc/LCBvZlR5cGUgZXh0OiBTdHJpbmc/LCBpbkRpcmVjdG9yeSBzdWJwYXRoOiBTdHJpbmc/KSAtPiBTdHJpbmc/IHt9CiAgICBvcGVuIGZ1bmMgcGF0aChmb3JSZXNvdXJjZSBuYW1lOiBTdHJpbmc/LCBvZlR5cGUgZXh0OiBTdHJpbmc/LCBpbkRpcmVjdG9yeSBzdWJwYXRoOiBTdHJpbmc/LCBmb3JMb2NhbGl6YXRpb24gbG9jYWxpemF0aW9uTmFtZTogU3RyaW5nPykgLT4gU3RyaW5nPyB7fQogICAgb3BlbiBmdW5jIHBhdGhzKGZvclJlc291cmNlc09mVHlwZSBleHQ6IFN0cmluZz8sIGluRGlyZWN0b3J5IHN1YnBhdGg6IFN0cmluZz8pIC0+IFtTdHJpbmddIHt9CiAgICBvcGVuIGZ1bmMgcGF0aHMoZm9yUmVzb3VyY2VzT2ZUeXBlIGV4dDogU3RyaW5nPywgaW5EaXJlY3Rvcnkgc3VicGF0aDogU3RyaW5nPywgZm9yTG9jYWxpemF0aW9uIGxvY2FsaXphdGlvbk5hbWU6IFN0cmluZz8pIC0+IFtTdHJpbmddIHt9CiAgICBvcGVuIGZ1bmMgcHJlZmxpZ2h0KCkgdGhyb3dzIHt9CiAgICBvcGVuIGZ1bmMgdXJsKGZvckF1eGlsaWFyeUV4ZWN1dGFibGUgZXhlY3V0YWJsZU5hbWU6IFN0cmluZykgLT4gVVJMPyB7fQogICAgb3BlbiBmdW5jIHVybChmb3JSZXNvdXJjZSBuYW1lOiBTdHJpbmc/LCB3aXRoRXh0ZW5zaW9uIGV4dDogU3RyaW5nPykgLT4gVVJMPyB7fQogICAgb3BlbiBmdW5jIHVybChmb3JSZXNvdXJjZSBuYW1lOiBTdHJpbmc/LCB3aXRoRXh0ZW5zaW9uIGV4dDogU3RyaW5nPywgc3ViZGlyZWN0b3J5IHN1YnBhdGg6IFN0cmluZz8pIC0+IFVSTD8ge30KICAgIG9wZW4gZnVuYyB1cmwoZm9yUmVzb3VyY2UgbmFtZTogU3RyaW5nPywgd2l0aEV4dGVuc2lvbiBleHQ6IFN0cmluZz8sIHN1YmRpcmVjdG9yeSBzdWJwYXRoOiBTdHJpbmc/LCBsb2NhbGl6YXRpb24gbG9jYWxpemF0aW9uTmFtZTogU3RyaW5nPykgLT4gVVJMPyB7fQogICAgb3BlbiBmdW5jIHVybHMoZm9yUmVzb3VyY2VzV2l0aEV4dGVuc2lvbiBleHQ6IFN0cmluZz8sIHN1YmRpcmVjdG9yeSBzdWJwYXRoOiBTdHJpbmc/KSAtPiBbTlNVUkxdPyB7fQogICAgb3BlbiBmdW5jIHVybHMoZm9yUmVzb3VyY2VzV2l0aEV4dGVuc2lvbiBleHQ6IFN0cmluZz8sIHN1YmRpcmVjdG9yeSBzdWJwYXRoOiBTdHJpbmc/LCBsb2NhbGl6YXRpb24gbG9jYWxpemF0aW9uTmFtZTogU3RyaW5nPykgLT4gW05TVVJMXT8ge30KfQpvcGVuIGNsYXNzIEJ5dGVDb3VudEZvcm1hdHRlciA6IEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEZvcm1hdHRlciwgSGFzaGFibGUsIE5TQ29kaW5nLCBOU0NvcHlpbmcsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBfIHsKICAgIG9wZW4gY2xhc3MgZnVuYyBzdHJpbmcoZnJvbUJ5dGVDb3VudCBieXRlQ291bnQ6IEludDY0LCBjb3VudFN0eWxlOiBCeXRlQ291bnRGb3JtYXR0ZXIuQ291bnRTdHlsZSkgLT4gU3RyaW5nIHt9CiAgICBvcGVuIHZhciBhbGxvd2VkVW5pdHM6IFVuaXRzIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBhbGxvd3NOb25udW1lcmljRm9ybWF0dGluZzogQm9vbCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgY291bnRTdHlsZTogQ291bnRTdHlsZSB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgZm9ybWF0dGluZ0NvbnRleHQ6IENvbnRleHQgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGluY2x1ZGVzQWN0dWFsQnl0ZUNvdW50OiBCb29sIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBpbmNsdWRlc0NvdW50OiBCb29sIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBpbmNsdWRlc1VuaXQ6IEJvb2wgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGlzQWRhcHRpdmU6IEJvb2wgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHplcm9QYWRzRnJhY3Rpb25EaWdpdHM6IEJvb2wgeyBnZXQgc2V0IH0KICAgIG9wZW4gZnVuYyBzdHJpbmcoZnJvbUJ5dGVDb3VudCBieXRlQ291bnQ6IEludDY0KSAtPiBTdHJpbmcge30KfQpvcGVuIGNsYXNzIENhY2hlZFVSTFJlc3BvbnNlIDogQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TQ29kaW5nLCBOU0NvcHlpbmcsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBOU1NlY3VyZUNvZGluZywgXyB7CiAgICBwdWJsaWMgaW5pdChyZXNwb25zZTogVVJMUmVzcG9uc2UsIGRhdGE6IERhdGEpIHt9CiAgICBwdWJsaWMgaW5pdChyZXNwb25zZTogVVJMUmVzcG9uc2UsIGRhdGE6IERhdGEsIHVzZXJJbmZvOiBbQW55SGFzaGFibGU6IEFueV0/ID0geCwgc3RvcmFnZVBvbGljeTogVVJMQ2FjaGUuU3RvcmFnZVBvbGljeSkge30KICAgIG9wZW4gdmFyIGRhdGE6IERhdGEgeyBnZXQgfQogICAgb3BlbiB2YXIgcmVzcG9uc2U6IFVSTFJlc3BvbnNlIHsgZ2V0IH0KICAgIG9wZW4gdmFyIHN0b3JhZ2VQb2xpY3k6IFVSTENhY2hlLlN0b3JhZ2VQb2xpY3kgeyBnZXQgfQogICAgb3BlbiB2YXIgdXNlckluZm86IFtBbnlIYXNoYWJsZTogQW55XT8geyBnZXQgfQp9Cm9wZW4gY2xhc3MgRGF0ZUNvbXBvbmVudHNGb3JtYXR0ZXIgOiBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBGb3JtYXR0ZXIsIEhhc2hhYmxlLCBOU0NvZGluZywgTlNDb3B5aW5nLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCwgXyB7CiAgICBvcGVuIGNsYXNzIGZ1bmMgbG9jYWxpemVkU3RyaW5nKGZyb20gY29tcG9uZW50czogRGF0ZUNvbXBvbmVudHMsIHVuaXRzU3R5bGU6IFVuaXRzU3R5bGUpIC0+IFN0cmluZz8ge30KICAgIG9wZW4gdmFyIGFsbG93ZWRVbml0czogTlNDYWxlbmRhci5Vbml0IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBhbGxvd3NGcmFjdGlvbmFsVW5pdHM6IEJvb2wgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGNhbGVuZGFyOiBDYWxlbmRhcj8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGNvbGxhcHNlc0xhcmdlc3RVbml0OiBCb29sIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBmb3JtYXR0aW5nQ29udGV4dDogQ29udGV4dCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgaW5jbHVkZXNBcHByb3hpbWF0aW9uUGhyYXNlOiBCb29sIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBpbmNsdWRlc1RpbWVSZW1haW5pbmdQaHJhc2U6IEJvb2wgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIG1heGltdW1Vbml0Q291bnQ6IEludCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgdW5pdHNTdHlsZTogVW5pdHNTdHlsZSB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgemVyb0Zvcm1hdHRpbmdCZWhhdmlvcjogWmVyb0Zvcm1hdHRpbmdCZWhhdmlvciB7IGdldCBzZXQgfQogICAgb3BlbiBmdW5jIHN0cmluZyhmcm9tIGNvbXBvbmVudHM6IERhdGVDb21wb25lbnRzKSAtPiBTdHJpbmc/IHt9CiAgICBvcGVuIGZ1bmMgc3RyaW5nKGZyb20gc3RhcnREYXRlOiBEYXRlLCB0byBlbmREYXRlOiBEYXRlKSAtPiBTdHJpbmc/IHt9Cn0Kb3BlbiBjbGFzcyBEYXRlRm9ybWF0dGVyIDogQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgRm9ybWF0dGVyLCBIYXNoYWJsZSwgTlNDb2RpbmcsIE5TQ29weWluZywgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wsIF8gewogICAgb3BlbiBjbGFzcyBmdW5jIGRhdGVGb3JtYXQoZnJvbVRlbXBsYXRlIHRtcGxhdGU6IFN0cmluZywgb3B0aW9ucyBvcHRzOiBJbnQsIGxvY2FsZTogTG9jYWxlPykgLT4gU3RyaW5nPyB7fQogICAgb3BlbiBjbGFzcyBmdW5jIGxvY2FsaXplZFN0cmluZyhmcm9tIGRhdGU6IERhdGUsIGRhdGVTdHlsZSBkc3R5bGU6IFN0eWxlLCB0aW1lU3R5bGUgdHN0eWxlOiBTdHlsZSkgLT4gU3RyaW5nIHt9CiAgICBvcGVuIHZhciBhbVN5bWJvbDogU3RyaW5nISB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgY2FsZW5kYXI6IENhbGVuZGFyISB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgZGF0ZUZvcm1hdDogU3RyaW5nISB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgZGF0ZVN0eWxlOiBTdHlsZSB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgZGVmYXVsdERhdGU6IERhdGU/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGRvZXNSZWxhdGl2ZURhdGVGb3JtYXR0aW5nIHsgZ2V0IH0KICAgIG9wZW4gdmFyIGVyYVN5bWJvbHM6IFtTdHJpbmddISB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgZm9ybWF0dGluZ0NvbnRleHQ6IENvbnRleHQgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGdlbmVyYXRlc0NhbGVuZGFyRGF0ZXMgeyBnZXQgfQogICAgb3BlbiB2YXIgZ3JlZ29yaWFuU3RhcnREYXRlOiBEYXRlPyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgaXNMZW5pZW50IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGxvY2FsZTogTG9jYWxlISB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgbG9uZ0VyYVN5bWJvbHM6IFtTdHJpbmddISB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgbW9udGhTeW1ib2xzOiBbU3RyaW5nXSEgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHBtU3ltYm9sOiBTdHJpbmchIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBxdWFydGVyU3ltYm9sczogW1N0cmluZ10hIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBzaG9ydE1vbnRoU3ltYm9sczogW1N0cmluZ10hIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBzaG9ydFF1YXJ0ZXJTeW1ib2xzOiBbU3RyaW5nXSEgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHNob3J0U3RhbmRhbG9uZU1vbnRoU3ltYm9sczogW1N0cmluZ10hIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBzaG9ydFN0YW5kYWxvbmVRdWFydGVyU3ltYm9sczogW1N0cmluZ10hIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBzaG9ydFN0YW5kYWxvbmVXZWVrZGF5U3ltYm9sczogW1N0cmluZ10hIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBzaG9ydFdlZWtkYXlTeW1ib2xzOiBbU3RyaW5nXSEgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHN0YW5kYWxvbmVNb250aFN5bWJvbHM6IFtTdHJpbmddISB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgc3RhbmRhbG9uZVF1YXJ0ZXJTeW1ib2xzOiBbU3RyaW5nXSEgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHN0YW5kYWxvbmVXZWVrZGF5U3ltYm9sczogW1N0cmluZ10hIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciB0aW1lU3R5bGU6IFN0eWxlIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciB0aW1lWm9uZTogVGltZVpvbmUhIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciB0d29EaWdpdFN0YXJ0RGF0ZTogRGF0ZT8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHZlcnlTaG9ydE1vbnRoU3ltYm9sczogW1N0cmluZ10hIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciB2ZXJ5U2hvcnRTdGFuZGFsb25lTW9udGhTeW1ib2xzOiBbU3RyaW5nXSEgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHZlcnlTaG9ydFN0YW5kYWxvbmVXZWVrZGF5U3ltYm9sczogW1N0cmluZ10hIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciB2ZXJ5U2hvcnRXZWVrZGF5U3ltYm9sczogW1N0cmluZ10hIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciB3ZWVrZGF5U3ltYm9sczogW1N0cmluZ10hIHsgZ2V0IHNldCB9CiAgICBvcGVuIGZ1bmMgZGF0ZShmcm9tIHN0cmluZzogU3RyaW5nKSAtPiBEYXRlPyB7fQogICAgb3BlbiBmdW5jIG9iamVjdFZhbHVlKF8gc3RyaW5nOiBTdHJpbmcsIHJhbmdlIHJhbmdlcDogVW5zYWZlTXV0YWJsZVBvaW50ZXI8TlNSYW5nZT4pIHRocm93cyAtPiBBbnlPYmplY3Q/IHt9CiAgICBvcGVuIGZ1bmMgc2V0TG9jYWxpemVkRGF0ZUZvcm1hdEZyb21UZW1wbGF0ZShfIGRhdGVGb3JtYXRUZW1wbGF0ZTogU3RyaW5nKSB7fQogICAgb3BlbiBmdW5jIHN0cmluZyhmcm9tIGRhdGU6IERhdGUpIC0+IFN0cmluZyB7fQp9Cm9wZW4gY2xhc3MgRGF0ZUludGVydmFsRm9ybWF0dGVyIDogQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgRm9ybWF0dGVyLCBIYXNoYWJsZSwgTlNDb2RpbmcsIE5TQ29weWluZywgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wsIF8gewogICAgb3BlbiB2YXIgY2FsZW5kYXI6IENhbGVuZGFyISB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgZGF0ZVN0eWxlOiBTdHlsZSB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgZGF0ZVRlbXBsYXRlOiBTdHJpbmchIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBsb2NhbGU6IExvY2FsZSEgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHRpbWVTdHlsZTogU3R5bGUgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHRpbWVab25lOiBUaW1lWm9uZSEgeyBnZXQgc2V0IH0KICAgIG9wZW4gZnVuYyBzdHJpbmcoZnJvbSBkYXRlSW50ZXJ2YWw6IERhdGVJbnRlcnZhbCkgLT4gU3RyaW5nPyB7fQogICAgb3BlbiBmdW5jIHN0cmluZyhmcm9tIGZyb21EYXRlOiBEYXRlLCB0byB0b0RhdGU6IERhdGUpIC0+IFN0cmluZyB7fQp9Cm9wZW4gY2xhc3MgRGltZW5zaW9uIDogQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TQ29kaW5nLCBOU0NvcHlpbmcsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBOU1NlY3VyZUNvZGluZywgVW5pdCwgXyB7CiAgICBvcGVuIGNsYXNzIGZ1bmMgYmFzZVVuaXQoKSAtPiBTZWxmIHt9CiAgICBwdWJsaWMgcmVxdWlyZWQgaW5pdChzeW1ib2w6IFN0cmluZywgY29udmVydGVyOiBVbml0Q29udmVydGVyKSB7fQogICAgb3BlbiB2YXIgY29udmVydGVyOiBVbml0Q29udmVydGVyIHsgZ2V0IH0KfQpvcGVuIGNsYXNzIEVuZXJneUZvcm1hdHRlciA6IEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEZvcm1hdHRlciwgSGFzaGFibGUsIE5TQ29kaW5nLCBOU0NvcHlpbmcsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBfIHsKICAgIG9wZW4gdmFyIGlzRm9yRm9vZEVuZXJneVVzZTogQm9vbCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgbnVtYmVyRm9ybWF0dGVyOiBOdW1iZXJGb3JtYXR0ZXIhIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciB1bml0U3R5bGU6IFVuaXRTdHlsZSB7IGdldCBzZXQgfQogICAgb3BlbiBmdW5jIHN0cmluZyhmcm9tSm91bGVzIG51bWJlckluSm91bGVzOiBEb3VibGUpIC0+IFN0cmluZyB7fQogICAgb3BlbiBmdW5jIHN0cmluZyhmcm9tVmFsdWUgdmFsdWU6IERvdWJsZSwgdW5pdDogVW5pdCkgLT4gU3RyaW5nIHt9CiAgICBvcGVuIGZ1bmMgdW5pdFN0cmluZyhmcm9tSm91bGVzIG51bWJlckluSm91bGVzOiBEb3VibGUsIHVzZWRVbml0IHVuaXRwOiBVbnNhZmVNdXRhYmxlUG9pbnRlcjxVbml0Pj8pIC0+IFN0cmluZyB7fQogICAgb3BlbiBmdW5jIHVuaXRTdHJpbmcoZnJvbVZhbHVlIHZhbHVlOiBEb3VibGUsIHVuaXQ6IFVuaXQpIC0+IFN0cmluZyB7fQp9Cm9wZW4gY2xhc3MgRmlsZUhhbmRsZSA6IEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU0NvZGluZywgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wsIE5TU2VjdXJlQ29kaW5nLCBfIHsKICAgIG9wZW4gY2xhc3MgdmFyIG51bGxEZXZpY2U6IEZpbGVIYW5kbGUgeyBnZXQgfQogICAgcHVibGljIHN0YXRpYyB2YXIgcmVhZENvbXBsZXRpb25Ob3RpZmljYXRpb24geyBnZXQgfQogICAgb3BlbiBjbGFzcyB2YXIgc3RhbmRhcmRFcnJvcjogRmlsZUhhbmRsZSB7IGdldCB9CiAgICBvcGVuIGNsYXNzIHZhciBzdGFuZGFyZElucHV0OiBGaWxlSGFuZGxlIHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgdmFyIHN0YW5kYXJkT3V0cHV0OiBGaWxlSGFuZGxlIHsgZ2V0IH0KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KGZpbGVEZXNjcmlwdG9yIGZkOiBJbnQzMikge30KICAgIHB1YmxpYyBpbml0KGZpbGVEZXNjcmlwdG9yIGZkOiBJbnQzMiwgY2xvc2VPbkRlYWxsb2MgY2xvc2VvcHQ6IEJvb2wpIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdD8oZm9yUmVhZGluZ0F0UGF0aCBwYXRoOiBTdHJpbmcpIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdChmb3JSZWFkaW5nRnJvbSB1cmw6IFVSTCkgdGhyb3dzIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdChmb3JVcGRhdGluZyB1cmw6IFVSTCkgdGhyb3dzIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdD8oZm9yVXBkYXRpbmdBdFBhdGggcGF0aDogU3RyaW5nKSB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQ/KGZvcldyaXRpbmdBdFBhdGggcGF0aDogU3RyaW5nKSB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQoZm9yV3JpdGluZ1RvIHVybDogVVJMKSB0aHJvd3Mge30KICAgIG9wZW4gdmFyIGF2YWlsYWJsZURhdGE6IERhdGEgeyBnZXQgfQogICAgb3BlbiB2YXIgZmlsZURlc2NyaXB0b3I6IEludDMyIHsgZ2V0IH0KICAgIG9wZW4gdmFyIG9mZnNldEluRmlsZTogVUludDY0IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHJlYWRhYmlsaXR5SGFuZGxlcjogKChGaWxlSGFuZGxlKSAtPiBWb2lkKT8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHdyaXRlYWJpbGl0eUhhbmRsZXI6ICgoRmlsZUhhbmRsZSkgLT4gVm9pZCk/IHsgZ2V0IHNldCB9CiAgICBvcGVuIGZ1bmMgYWNjZXB0Q29ubmVjdGlvbkluQmFja2dyb3VuZEFuZE5vdGlmeSgpIHt9CiAgICBvcGVuIGZ1bmMgYWNjZXB0Q29ubmVjdGlvbkluQmFja2dyb3VuZEFuZE5vdGlmeShmb3JNb2RlcyBtb2RlczogW1J1bkxvb3AuTW9kZV0/KSB7fQogICAgb3BlbiBmdW5jIGNsb3NlRmlsZSgpIHt9CiAgICBvcGVuIGZ1bmMgcmVhZERhdGEob2ZMZW5ndGggbGVuZ3RoOiBJbnQpIC0+IERhdGEge30KICAgIG9wZW4gZnVuYyByZWFkRGF0YVRvRW5kT2ZGaWxlKCkgLT4gRGF0YSB7fQogICAgb3BlbiBmdW5jIHJlYWRJbkJhY2tncm91bmRBbmROb3RpZnkoKSB7fQogICAgb3BlbiBmdW5jIHJlYWRJbkJhY2tncm91bmRBbmROb3RpZnkoZm9yTW9kZXMgbW9kZXM6IFtSdW5Mb29wLk1vZGVdPykge30KICAgIG9wZW4gZnVuYyByZWFkVG9FbmRPZkZpbGVJbkJhY2tncm91bmRBbmROb3RpZnkoKSB7fQogICAgb3BlbiBmdW5jIHJlYWRUb0VuZE9mRmlsZUluQmFja2dyb3VuZEFuZE5vdGlmeShmb3JNb2RlcyBtb2RlczogW1J1bkxvb3AuTW9kZV0/KSB7fQogICAgb3BlbiBmdW5jIHNlZWsodG9GaWxlT2Zmc2V0IG9mZnNldDogVUludDY0KSB7fQogICAgQGRpc2NhcmRhYmxlUmVzdWx0IG9wZW4gZnVuYyBzZWVrVG9FbmRPZkZpbGUoKSAtPiBVSW50NjQge30KICAgIG9wZW4gZnVuYyBzeW5jaHJvbml6ZUZpbGUoKSB7fQogICAgb3BlbiBmdW5jIHRydW5jYXRlRmlsZShhdE9mZnNldCBvZmZzZXQ6IFVJbnQ2NCkge30KICAgIG9wZW4gZnVuYyB3YWl0Rm9yRGF0YUluQmFja2dyb3VuZEFuZE5vdGlmeSgpIHt9CiAgICBvcGVuIGZ1bmMgd2FpdEZvckRhdGFJbkJhY2tncm91bmRBbmROb3RpZnkoZm9yTW9kZXMgbW9kZXM6IFtSdW5Mb29wLk1vZGVdPykge30KICAgIG9wZW4gZnVuYyB3cml0ZShfIGRhdGE6IERhdGEpIHt9Cn0Kb3BlbiBjbGFzcyBGaWxlTWFuYWdlciA6IEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCwgXyB7Cm9wZW4gY2xhc3MgRGlyZWN0b3J5RW51bWVyYXRvciA6IEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU0VudW1lcmF0b3IsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBTZXF1ZW5jZSwgXyB7CiAgICBvcGVuIHZhciBkaXJlY3RvcnlBdHRyaWJ1dGVzOiBbRmlsZUF0dHJpYnV0ZUtleTogQW55XT8geyBnZXQgfQogICAgb3BlbiB2YXIgZmlsZUF0dHJpYnV0ZXM6IFtGaWxlQXR0cmlidXRlS2V5OiBBbnldPyB7IGdldCB9CiAgICBvcGVuIHZhciBsZXZlbDogSW50IHsgZ2V0IH0KICAgIG9wZW4gZnVuYyBza2lwRGVzY2VuZGFudHMoKSB7fQp9CiAgICBvcGVuIGNsYXNzIHZhciBkZWZhdWx0OiBGaWxlTWFuYWdlciB7IGdldCB9CiAgICBvcGVuIHZhciBjdXJyZW50RGlyZWN0b3J5UGF0aDogU3RyaW5nIHsgZ2V0IH0KICAgIG9wZW4gd2VhayB2YXIgZGVsZWdhdGU6IEZpbGVNYW5hZ2VyRGVsZWdhdGU/IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBob21lRGlyZWN0b3J5Rm9yQ3VycmVudFVzZXI6IFVSTCB7IGdldCB9CiAgICBvcGVuIHZhciB0ZW1wb3JhcnlEaXJlY3Rvcnk6IFVSTCB7IGdldCB9CiNpZiAhKG9zKEFuZHJvaWQpKQogICAgb3BlbiBmdW5jIGF0dHJpYnV0ZXNPZkZpbGVTeXN0ZW0oZm9yUGF0aCBwYXRoOiBTdHJpbmcpIHRocm93cyAtPiBbRmlsZUF0dHJpYnV0ZUtleTogQW55XSB7fQojZW5kaWYKICAgIG9wZW4gZnVuYyBhdHRyaWJ1dGVzT2ZJdGVtKGF0UGF0aCBwYXRoOiBTdHJpbmcpIHRocm93cyAtPiBbRmlsZUF0dHJpYnV0ZUtleTogQW55XSB7fQogICAgQGRpc2NhcmRhYmxlUmVzdWx0IG9wZW4gZnVuYyBjaGFuZ2VDdXJyZW50RGlyZWN0b3J5UGF0aChfIHBhdGg6IFN0cmluZykgLT4gQm9vbCB7fQogICAgb3BlbiBmdW5jIGNvbXBvbmVudHNUb0Rpc3BsYXkoZm9yUGF0aCBwYXRoOiBTdHJpbmcpIC0+IFtTdHJpbmddPyB7fQogICAgb3BlbiBmdW5jIGNvbnRlbnRzKGF0UGF0aCBwYXRoOiBTdHJpbmcpIC0+IERhdGE/IHt9CiAgICBvcGVuIGZ1bmMgY29udGVudHNFcXVhbChhdFBhdGggcGF0aDE6IFN0cmluZywgYW5kUGF0aCBwYXRoMjogU3RyaW5nKSAtPiBCb29sIHt9CiAgICBvcGVuIGZ1bmMgY29udGVudHNPZkRpcmVjdG9yeShhdCB1cmw6IFVSTCwgaW5jbHVkaW5nUHJvcGVydGllc0ZvcktleXMga2V5czogW1VSTFJlc291cmNlS2V5XT8sIG9wdGlvbnMgbWFzazogRGlyZWN0b3J5RW51bWVyYXRpb25PcHRpb25zID0geCkgdGhyb3dzIC0+IFtVUkxdIHt9CiAgICBvcGVuIGZ1bmMgY29udGVudHNPZkRpcmVjdG9yeShhdFBhdGggcGF0aDogU3RyaW5nKSB0aHJvd3MgLT4gW1N0cmluZ10ge30KICAgIG9wZW4gZnVuYyBjb3B5SXRlbShhdCBzcmNVUkw6IFVSTCwgdG8gZHN0VVJMOiBVUkwpIHRocm93cyB7fQogICAgb3BlbiBmdW5jIGNvcHlJdGVtKGF0UGF0aCBzcmNQYXRoOiBTdHJpbmcsIHRvUGF0aCBkc3RQYXRoOiBTdHJpbmcpIHRocm93cyB7fQogICAgb3BlbiBmdW5jIGNyZWF0ZURpcmVjdG9yeShhdCB1cmw6IFVSTCwgd2l0aEludGVybWVkaWF0ZURpcmVjdG9yaWVzIGNyZWF0ZUludGVybWVkaWF0ZXM6IEJvb2wsIGF0dHJpYnV0ZXM6IFtGaWxlQXR0cmlidXRlS2V5OiBBbnldPyA9IHgpIHRocm93cyB7fQogICAgb3BlbiBmdW5jIGNyZWF0ZURpcmVjdG9yeShhdFBhdGggcGF0aDogU3RyaW5nLCB3aXRoSW50ZXJtZWRpYXRlRGlyZWN0b3JpZXMgY3JlYXRlSW50ZXJtZWRpYXRlczogQm9vbCwgYXR0cmlidXRlczogW0ZpbGVBdHRyaWJ1dGVLZXk6IEFueV0/ID0geCkgdGhyb3dzIHt9CiAgICBAZGlzY2FyZGFibGVSZXN1bHQgb3BlbiBmdW5jIGNyZWF0ZUZpbGUoYXRQYXRoIHBhdGg6IFN0cmluZywgY29udGVudHMgZGF0YTogRGF0YT8sIGF0dHJpYnV0ZXMgYXR0cjogW0ZpbGVBdHRyaWJ1dGVLZXk6IEFueV0/ID0geCkgLT4gQm9vbCB7fQogICAgb3BlbiBmdW5jIGNyZWF0ZVN5bWJvbGljTGluayhhdCB1cmw6IFVSTCwgd2l0aERlc3RpbmF0aW9uVVJMIGRlc3RVUkw6IFVSTCkgdGhyb3dzIHt9CiAgICBvcGVuIGZ1bmMgY3JlYXRlU3ltYm9saWNMaW5rKGF0UGF0aCBwYXRoOiBTdHJpbmcsIHdpdGhEZXN0aW5hdGlvblBhdGggZGVzdFBhdGg6IFN0cmluZykgdGhyb3dzIHt9CiAgICBvcGVuIGZ1bmMgZGVzdGluYXRpb25PZlN5bWJvbGljTGluayhhdFBhdGggcGF0aDogU3RyaW5nKSB0aHJvd3MgLT4gU3RyaW5nIHt9CiAgICBvcGVuIGZ1bmMgZGlzcGxheU5hbWUoYXRQYXRoIHBhdGg6IFN0cmluZykgLT4gU3RyaW5nIHt9CiAgICBvcGVuIGZ1bmMgZW51bWVyYXRvcihhdCB1cmw6IFVSTCwgaW5jbHVkaW5nUHJvcGVydGllc0ZvcktleXMga2V5czogW1VSTFJlc291cmNlS2V5XT8sIG9wdGlvbnMgbWFzazogRGlyZWN0b3J5RW51bWVyYXRpb25PcHRpb25zID0geCwgZXJyb3JIYW5kbGVyIGhhbmRsZXI6ICgoVVJMLCBFcnJvcikgLT4gQm9vbCk/ID0geCkgLT4gRGlyZWN0b3J5RW51bWVyYXRvcj8ge30KICAgIG9wZW4gZnVuYyBlbnVtZXJhdG9yKGF0UGF0aCBwYXRoOiBTdHJpbmcpIC0+IERpcmVjdG9yeUVudW1lcmF0b3I/IHt9CiAgICBvcGVuIGZ1bmMgZmlsZUV4aXN0cyhhdFBhdGggcGF0aDogU3RyaW5nKSAtPiBCb29sIHt9CiAgICBvcGVuIGZ1bmMgZmlsZUV4aXN0cyhhdFBhdGggcGF0aDogU3RyaW5nLCBpc0RpcmVjdG9yeTogVW5zYWZlTXV0YWJsZVBvaW50ZXI8T2JqQ0Jvb2w+PykgLT4gQm9vbCB7fQogICAgb3BlbiBmdW5jIGZpbGVTeXN0ZW1SZXByZXNlbnRhdGlvbih3aXRoUGF0aCBwYXRoOiBTdHJpbmcpIC0+IFVuc2FmZVBvaW50ZXI8SW50OD4ge30KICAgIG9wZW4gZnVuYyBnZXRSZWxhdGlvbnNoaXAoXyBvdXRSZWxhdGlvbnNoaXA6IFVuc2FmZU11dGFibGVQb2ludGVyPFVSTFJlbGF0aW9uc2hpcD4sIG9mIGRpcmVjdG9yeTogU2VhcmNoUGF0aERpcmVjdG9yeSwgaW4gZG9tYWluTWFzazogU2VhcmNoUGF0aERvbWFpbk1hc2ssIHRvSXRlbUF0IHVybDogVVJMKSB0aHJvd3Mge30KICAgIG9wZW4gZnVuYyBnZXRSZWxhdGlvbnNoaXAoXyBvdXRSZWxhdGlvbnNoaXA6IFVuc2FmZU11dGFibGVQb2ludGVyPFVSTFJlbGF0aW9uc2hpcD4sIG9mRGlyZWN0b3J5QXQgZGlyZWN0b3J5VVJMOiBVUkwsIHRvSXRlbUF0IG90aGVyVVJMOiBVUkwpIHRocm93cyB7fQogICAgb3BlbiBmdW5jIGhvbWVEaXJlY3RvcnkoZm9yVXNlciB1c2VyTmFtZTogU3RyaW5nKSAtPiBVUkw/IHt9CiAgICBvcGVuIGZ1bmMgaXNEZWxldGFibGVGaWxlKGF0UGF0aCBwYXRoOiBTdHJpbmcpIC0+IEJvb2wge30KICAgIG9wZW4gZnVuYyBpc0V4ZWN1dGFibGVGaWxlKGF0UGF0aCBwYXRoOiBTdHJpbmcpIC0+IEJvb2wge30KICAgIG9wZW4gZnVuYyBpc1JlYWRhYmxlRmlsZShhdFBhdGggcGF0aDogU3RyaW5nKSAtPiBCb29sIHt9CiAgICBvcGVuIGZ1bmMgaXNXcml0YWJsZUZpbGUoYXRQYXRoIHBhdGg6IFN0cmluZykgLT4gQm9vbCB7fQogICAgb3BlbiBmdW5jIGxpbmtJdGVtKGF0IHNyY1VSTDogVVJMLCB0byBkc3RVUkw6IFVSTCkgdGhyb3dzIHt9CiAgICBvcGVuIGZ1bmMgbGlua0l0ZW0oYXRQYXRoIHNyY1BhdGg6IFN0cmluZywgdG9QYXRoIGRzdFBhdGg6IFN0cmluZykgdGhyb3dzIHt9CiAgICBvcGVuIGZ1bmMgbW91bnRlZFZvbHVtZVVSTHMoaW5jbHVkaW5nUmVzb3VyY2VWYWx1ZXNGb3JLZXlzIHByb3BlcnR5S2V5czogW1VSTFJlc291cmNlS2V5XT8sIG9wdGlvbnM6IFZvbHVtZUVudW1lcmF0aW9uT3B0aW9ucyA9IHgpIC0+IFtVUkxdPyB7fQogICAgb3BlbiBmdW5jIG1vdmVJdGVtKGF0IHNyY1VSTDogVVJMLCB0byBkc3RVUkw6IFVSTCkgdGhyb3dzIHt9CiAgICBvcGVuIGZ1bmMgbW92ZUl0ZW0oYXRQYXRoIHNyY1BhdGg6IFN0cmluZywgdG9QYXRoIGRzdFBhdGg6IFN0cmluZykgdGhyb3dzIHt9CiAgICBvcGVuIGZ1bmMgcmVtb3ZlSXRlbShhdCB1cmw6IFVSTCkgdGhyb3dzIHt9CiAgICBvcGVuIGZ1bmMgcmVtb3ZlSXRlbShhdFBhdGggcGF0aDogU3RyaW5nKSB0aHJvd3Mge30KICAgIG9wZW4gZnVuYyByZXBsYWNlSXRlbShhdCBvcmlnaW5hbEl0ZW1VUkw6IFVSTCwgd2l0aEl0ZW1BdCBuZXdJdGVtVVJMOiBVUkwsIGJhY2t1cEl0ZW1OYW1lOiBTdHJpbmc/LCBvcHRpb25zOiBJdGVtUmVwbGFjZW1lbnRPcHRpb25zID0geCkgdGhyb3dzIHt9CiAgICBwdWJsaWMgZnVuYyByZXBsYWNlSXRlbUF0KF8gb3JpZ2luYWxJdGVtVVJMOiBVUkwsIHdpdGhJdGVtQXQgbmV3SXRlbVVSTDogVVJMLCBiYWNrdXBJdGVtTmFtZTogU3RyaW5nPyA9IHgsIG9wdGlvbnM6IEl0ZW1SZXBsYWNlbWVudE9wdGlvbnMgPSB4KSB0aHJvd3MgLT4gTlNVUkw/IHt9CiAgICBvcGVuIGZ1bmMgc2V0QXR0cmlidXRlcyhfIGF0dHJpYnV0ZXM6IFtGaWxlQXR0cmlidXRlS2V5OiBBbnldLCBvZkl0ZW1BdFBhdGggcGF0aDogU3RyaW5nKSB0aHJvd3Mge30KICAgIG9wZW4gZnVuYyBzdHJpbmcod2l0aEZpbGVTeXN0ZW1SZXByZXNlbnRhdGlvbiBzdHI6IFVuc2FmZVBvaW50ZXI8SW50OD4sIGxlbmd0aCBsZW46IEludCkgLT4gU3RyaW5nIHt9CiAgICBvcGVuIGZ1bmMgc3VicGF0aHMoYXRQYXRoIHBhdGg6IFN0cmluZykgLT4gW1N0cmluZ10/IHt9CiAgICBvcGVuIGZ1bmMgc3VicGF0aHNPZkRpcmVjdG9yeShhdFBhdGggcGF0aDogU3RyaW5nKSB0aHJvd3MgLT4gW1N0cmluZ10ge30KICAgIG9wZW4gZnVuYyB1cmwoZm9yIGRpcmVjdG9yeTogU2VhcmNoUGF0aERpcmVjdG9yeSwgaW4gZG9tYWluOiBTZWFyY2hQYXRoRG9tYWluTWFzaywgYXBwcm9wcmlhdGVGb3IgdXJsOiBVUkw/LCBjcmVhdGUgc2hvdWxkQ3JlYXRlOiBCb29sKSB0aHJvd3MgLT4gVVJMIHt9CiNpZiAhKG9zKFdpbmRvd3MpICkKICAgIG9wZW4gZnVuYyB1cmxzKGZvciBkaXJlY3Rvcnk6IFNlYXJjaFBhdGhEaXJlY3RvcnksIGluIGRvbWFpbk1hc2s6IFNlYXJjaFBhdGhEb21haW5NYXNrKSAtPiBbVVJMXSB7fQojZW5kaWYKfQpvcGVuIGNsYXNzIEZvcm1hdHRlciA6IEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU0NvZGluZywgTlNDb3B5aW5nLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCwgXyB7CiAgICBvcGVuIGZ1bmMgZWRpdGluZ1N0cmluZyhmb3Igb2JqOiBBbnkpIC0+IFN0cmluZz8ge30KICAgIG9wZW4gZnVuYyBvYmplY3RWYWx1ZShfIHN0cmluZzogU3RyaW5nKSB0aHJvd3MgLT4gQW55PyB7fQogICAgb3BlbiBmdW5jIHN0cmluZyhmb3Igb2JqOiBBbnkpIC0+IFN0cmluZz8ge30KfQpvcGVuIGNsYXNzIEhUVFBDb29raWUgOiBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wsIF8gewogICAgb3BlbiBjbGFzcyBmdW5jIGNvb2tpZXMod2l0aFJlc3BvbnNlSGVhZGVyRmllbGRzIGhlYWRlckZpZWxkczogW1N0cmluZzogU3RyaW5nXSwgZm9yIFVSTDogVVJMKSAtPiBbSFRUUENvb2tpZV0ge30KICAgIG9wZW4gY2xhc3MgZnVuYyByZXF1ZXN0SGVhZGVyRmllbGRzKHdpdGggY29va2llczogW0hUVFBDb29raWVdKSAtPiBbU3RyaW5nOiBTdHJpbmddIHt9CiAgICBwdWJsaWMgaW5pdD8ocHJvcGVydGllczogW0hUVFBDb29raWVQcm9wZXJ0eUtleTogQW55XSkge30KICAgIG9wZW4gdmFyIGNvbW1lbnQ6IFN0cmluZz8geyBnZXQgfQogICAgb3BlbiB2YXIgY29tbWVudFVSTDogVVJMPyB7IGdldCB9CiAgICBvcGVuIHZhciBkb21haW46IFN0cmluZyB7IGdldCB9CiAgICBvcGVuIHZhciBleHBpcmVzRGF0ZTogRGF0ZT8geyBnZXQgfQogICAgb3BlbiB2YXIgaXNIVFRQT25seTogQm9vbCB7IGdldCB9CiAgICBvcGVuIHZhciBpc1NlY3VyZTogQm9vbCB7IGdldCB9CiAgICBvcGVuIHZhciBpc1Nlc3Npb25Pbmx5OiBCb29sIHsgZ2V0IH0KICAgIG9wZW4gdmFyIG5hbWU6IFN0cmluZyB7IGdldCB9CiAgICBvcGVuIHZhciBwYXRoOiBTdHJpbmcgeyBnZXQgfQogICAgb3BlbiB2YXIgcG9ydExpc3Q6IFtOU051bWJlcl0/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHByb3BlcnRpZXM6IFtIVFRQQ29va2llUHJvcGVydHlLZXk6IEFueV0/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHZhbHVlOiBTdHJpbmcgeyBnZXQgfQogICAgb3BlbiB2YXIgdmVyc2lvbjogSW50IHsgZ2V0IH0KfQpvcGVuIGNsYXNzIEhUVFBDb29raWVTdG9yYWdlIDogQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBfIHsKICAgIG9wZW4gY2xhc3MgdmFyIHNoYXJlZDogSFRUUENvb2tpZVN0b3JhZ2UgeyBnZXQgfQogICAgb3BlbiBjbGFzcyBmdW5jIHNoYXJlZENvb2tpZVN0b3JhZ2UoZm9yR3JvdXBDb250YWluZXJJZGVudGlmaWVyIGlkZW50aWZpZXI6IFN0cmluZykgLT4gSFRUUENvb2tpZVN0b3JhZ2Uge30KICAgIG9wZW4gdmFyIGNvb2tpZUFjY2VwdFBvbGljeTogSFRUUENvb2tpZS5BY2NlcHRQb2xpY3kgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGNvb2tpZXM6IFtIVFRQQ29va2llXT8geyBnZXQgfQogICAgb3BlbiBmdW5jIGNvb2tpZXMoZm9yIHVybDogVVJMKSAtPiBbSFRUUENvb2tpZV0/IHt9CiAgICBvcGVuIGZ1bmMgZGVsZXRlQ29va2llKF8gY29va2llOiBIVFRQQ29va2llKSB7fQogICAgb3BlbiBmdW5jIHJlbW92ZUNvb2tpZXMoc2luY2UgZGF0ZTogRGF0ZSkge30KICAgIG9wZW4gZnVuYyBzZXRDb29raWUoXyBjb29raWU6IEhUVFBDb29raWUpIHt9CiAgICBvcGVuIGZ1bmMgc2V0Q29va2llcyhfIGNvb2tpZXM6IFtIVFRQQ29va2llXSwgZm9yIHVybDogVVJMPywgbWFpbkRvY3VtZW50VVJMOiBVUkw/KSB7fQogICAgb3BlbiBmdW5jIHNvcnRlZENvb2tpZXModXNpbmcgc29ydE9yZGVyOiBbTlNTb3J0RGVzY3JpcHRvcl0pIC0+IFtIVFRQQ29va2llXSB7fQp9Cm9wZW4gY2xhc3MgSFRUUFVSTFJlc3BvbnNlIDogQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TQ29kaW5nLCBOU0NvcHlpbmcsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBOU1NlY3VyZUNvZGluZywgVVJMUmVzcG9uc2UsIF8gewogICAgb3BlbiBjbGFzcyBmdW5jIGxvY2FsaXplZFN0cmluZyhmb3JTdGF0dXNDb2RlIHN0YXR1c0NvZGU6IEludCkgLT4gU3RyaW5nIHt9CiAgICBwdWJsaWMgaW5pdD8odXJsOiBVUkwsIHN0YXR1c0NvZGU6IEludCwgaHR0cFZlcnNpb246IFN0cmluZz8sIGhlYWRlckZpZWxkczogW1N0cmluZzogU3RyaW5nXT8pIHt9CiAgICBwdWJsaWMgdmFyIGFsbEhlYWRlckZpZWxkczogW0FueUhhc2hhYmxlOiBBbnldIHsgZ2V0IH0KICAgIHB1YmxpYyB2YXIgc3RhdHVzQ29kZTogSW50IHsgZ2V0IH0KfQpvcGVuIGNsYXNzIEhvc3QgOiBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wsIF8gewogICAgb3BlbiBjbGFzcyBmdW5jIGN1cnJlbnQoKSAtPiBIb3N0IHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdChhZGRyZXNzOiBTdHJpbmcpIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdChuYW1lOiBTdHJpbmc/KSB7fQogICAgb3BlbiB2YXIgYWRkcmVzczogU3RyaW5nPyB7IGdldCB9CiAgICBvcGVuIHZhciBhZGRyZXNzZXM6IFtTdHJpbmddIHsgZ2V0IH0KICAgIG9wZW4gdmFyIGxvY2FsaXplZE5hbWU6IFN0cmluZz8geyBnZXQgfQogICAgb3BlbiB2YXIgbmFtZTogU3RyaW5nPyB7IGdldCB9CiAgICBvcGVuIHZhciBuYW1lczogW1N0cmluZ10geyBnZXQgfQogICAgb3BlbiBmdW5jIGlzRXF1YWwodG8gYUhvc3Q6IEhvc3QpIC0+IEJvb2wge30KfQpvcGVuIGNsYXNzIElTTzg2MDFEYXRlRm9ybWF0dGVyIDogQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgRm9ybWF0dGVyLCBIYXNoYWJsZSwgTlNDb2RpbmcsIE5TQ29weWluZywgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wsIE5TU2VjdXJlQ29kaW5nLCBfIHsKICAgIG9wZW4gY2xhc3MgZnVuYyBzdHJpbmcoZnJvbSBkYXRlOiBEYXRlLCB0aW1lWm9uZTogVGltZVpvbmUsIGZvcm1hdE9wdGlvbnM6IElTTzg2MDFEYXRlRm9ybWF0dGVyLk9wdGlvbnMgPSB4KSAtPiBTdHJpbmcge30KICAgIG9wZW4gdmFyIGZvcm1hdE9wdGlvbnM6IElTTzg2MDFEYXRlRm9ybWF0dGVyLk9wdGlvbnMgeyBnZXQgfQogICAgb3BlbiB2YXIgdGltZVpvbmU6IFRpbWVab25lISB7IGdldCB9CiAgICBvcGVuIGZ1bmMgZGF0ZShmcm9tIHN0cmluZzogU3RyaW5nKSAtPiBEYXRlPyB7fQogICAgb3BlbiBmdW5jIHN0cmluZyhmcm9tIGRhdGU6IERhdGUpIC0+IFN0cmluZyB7fQp9Cm9wZW4gY2xhc3MgSW5wdXRTdHJlYW0gOiBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wsIFN0cmVhbSwgXyB7CiAgICBwdWJsaWMgaW5pdChkYXRhOiBEYXRhKSB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQ/KGZpbGVBdFBhdGggcGF0aDogU3RyaW5nKSB7fQogICAgcHVibGljIGluaXQ/KHVybDogVVJMKSB7fQogICAgb3BlbiB2YXIgaGFzQnl0ZXNBdmFpbGFibGU6IEJvb2wgeyBnZXQgfQogICAgb3BlbiBmdW5jIGdldEJ1ZmZlcihfIGJ1ZmZlcjogVW5zYWZlTXV0YWJsZVBvaW50ZXI8VW5zYWZlTXV0YWJsZVBvaW50ZXI8VUludDg+Pz4sIGxlbmd0aCBsZW46IFVuc2FmZU11dGFibGVQb2ludGVyPEludD4pIC0+IEJvb2wge30KICAgIG9wZW4gZnVuYyByZWFkKF8gYnVmZmVyOiBVbnNhZmVNdXRhYmxlUG9pbnRlcjxVSW50OD4sIG1heExlbmd0aCBsZW46IEludCkgLT4gSW50IHt9Cn0Kb3BlbiBjbGFzcyBKU09ORGVjb2RlciB7CiAgICBwdWJsaWMgaW5pdCgpIHt9CiAgICBvcGVuIHZhciBkYXRhRGVjb2RpbmdTdHJhdGVneTogRGF0YURlY29kaW5nU3RyYXRlZ3kgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGRhdGVEZWNvZGluZ1N0cmF0ZWd5OiBEYXRlRGVjb2RpbmdTdHJhdGVneSB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIga2V5RGVjb2RpbmdTdHJhdGVneTogS2V5RGVjb2RpbmdTdHJhdGVneSB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgbm9uQ29uZm9ybWluZ0Zsb2F0RGVjb2RpbmdTdHJhdGVneTogTm9uQ29uZm9ybWluZ0Zsb2F0RGVjb2RpbmdTdHJhdGVneSB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgdXNlckluZm86IFtDb2RpbmdVc2VySW5mb0tleTogQW55XSB7IGdldCBzZXQgfQogICAgb3BlbiBmdW5jIGRlY29kZTxUPihfIHR5cGU6IFQuVHlwZSwgZnJvbSBkYXRhOiBEYXRhKSB0aHJvd3MgLT4gVCB3aGVyZSBUIDogRGVjb2RhYmxlIHt9Cn0Kb3BlbiBjbGFzcyBKU09ORW5jb2RlciB7CiAgICBwdWJsaWMgaW5pdCgpIHt9CiAgICBvcGVuIHZhciBkYXRhRW5jb2RpbmdTdHJhdGVneTogRGF0YUVuY29kaW5nU3RyYXRlZ3kgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGRhdGVFbmNvZGluZ1N0cmF0ZWd5OiBEYXRlRW5jb2RpbmdTdHJhdGVneSB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIga2V5RW5jb2RpbmdTdHJhdGVneTogS2V5RW5jb2RpbmdTdHJhdGVneSB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgbm9uQ29uZm9ybWluZ0Zsb2F0RW5jb2RpbmdTdHJhdGVneTogTm9uQ29uZm9ybWluZ0Zsb2F0RW5jb2RpbmdTdHJhdGVneSB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgb3V0cHV0Rm9ybWF0dGluZzogT3V0cHV0Rm9ybWF0dGluZyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgdXNlckluZm86IFtDb2RpbmdVc2VySW5mb0tleTogQW55XSB7IGdldCBzZXQgfQogICAgb3BlbiBmdW5jIGVuY29kZTxUPihfIHZhbHVlOiBUKSB0aHJvd3MgLT4gRGF0YSB3aGVyZSBUIDogRW5jb2RhYmxlIHt9Cn0Kb3BlbiBjbGFzcyBKU09OU2VyaWFsaXphdGlvbiA6IEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCwgXyB7CiAgICBvcGVuIGNsYXNzIGZ1bmMgZGF0YSh3aXRoSlNPTk9iamVjdCB2YWx1ZTogQW55LCBvcHRpb25zIG9wdDogV3JpdGluZ09wdGlvbnMgPSB4KSB0aHJvd3MgLT4gRGF0YSB7fQogICAgb3BlbiBjbGFzcyBmdW5jIGlzVmFsaWRKU09OT2JqZWN0KF8gb2JqOiBBbnkpIC0+IEJvb2wge30KICAgIG9wZW4gY2xhc3MgZnVuYyBqc29uT2JqZWN0KHdpdGggZGF0YTogRGF0YSwgb3B0aW9ucyBvcHQ6IFJlYWRpbmdPcHRpb25zID0geCkgdGhyb3dzIC0+IEFueSB7fQogICAgb3BlbiBjbGFzcyBmdW5jIHdyaXRlSlNPTk9iamVjdChfIG9iajogQW55LCB0b1N0cmVhbSBzdHJlYW06IE91dHB1dFN0cmVhbSwgb3B0aW9ucyBvcHQ6IFdyaXRpbmdPcHRpb25zKSB0aHJvd3MgLT4gSW50IHt9Cn0Kb3BlbiBjbGFzcyBMZW5ndGhGb3JtYXR0ZXIgOiBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBGb3JtYXR0ZXIsIEhhc2hhYmxlLCBOU0NvZGluZywgTlNDb3B5aW5nLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCwgXyB7CiAgICBvcGVuIHZhciBpc0ZvclBlcnNvbkhlaWdodFVzZTogQm9vbCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgbnVtYmVyRm9ybWF0dGVyOiBOdW1iZXJGb3JtYXR0ZXIhIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciB1bml0U3R5bGU6IFVuaXRTdHlsZSB7IGdldCBzZXQgfQogICAgb3BlbiBmdW5jIHN0cmluZyhmcm9tTWV0ZXJzIG51bWJlckluTWV0ZXJzOiBEb3VibGUpIC0+IFN0cmluZyB7fQogICAgb3BlbiBmdW5jIHN0cmluZyhmcm9tVmFsdWUgdmFsdWU6IERvdWJsZSwgdW5pdDogTGVuZ3RoRm9ybWF0dGVyLlVuaXQpIC0+IFN0cmluZyB7fQogICAgb3BlbiBmdW5jIHVuaXRTdHJpbmcoZnJvbU1ldGVycyBudW1iZXJJbk1ldGVyczogRG91YmxlLCB1c2VkVW5pdCB1bml0cDogVW5zYWZlTXV0YWJsZVBvaW50ZXI8VW5pdD4/KSAtPiBTdHJpbmcge30KICAgIG9wZW4gZnVuYyB1bml0U3RyaW5nKGZyb21WYWx1ZSB2YWx1ZTogRG91YmxlLCB1bml0OiBVbml0KSAtPiBTdHJpbmcge30KfQpvcGVuIGNsYXNzIE1hc3NGb3JtYXR0ZXIgOiBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBGb3JtYXR0ZXIsIEhhc2hhYmxlLCBOU0NvZGluZywgTlNDb3B5aW5nLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCwgXyB7CiAgICBvcGVuIHZhciBpc0ZvclBlcnNvbk1hc3NVc2U6IEJvb2wgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIG51bWJlckZvcm1hdHRlcjogTnVtYmVyRm9ybWF0dGVyISB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgdW5pdFN0eWxlOiBVbml0U3R5bGUgeyBnZXQgc2V0IH0KICAgIG9wZW4gZnVuYyBzdHJpbmcoZnJvbUtpbG9ncmFtcyBudW1iZXJJbktpbG9ncmFtczogRG91YmxlKSAtPiBTdHJpbmcge30KICAgIG9wZW4gZnVuYyBzdHJpbmcoZnJvbVZhbHVlIHZhbHVlOiBEb3VibGUsIHVuaXQ6IFVuaXQpIC0+IFN0cmluZyB7fQogICAgb3BlbiBmdW5jIHVuaXRTdHJpbmcoZnJvbUtpbG9ncmFtcyBudW1iZXJJbktpbG9ncmFtczogRG91YmxlLCB1c2VkVW5pdCB1bml0cDogVW5zYWZlTXV0YWJsZVBvaW50ZXI8VW5pdD4/KSAtPiBTdHJpbmcge30KICAgIG9wZW4gZnVuYyB1bml0U3RyaW5nKGZyb21WYWx1ZSB2YWx1ZTogRG91YmxlLCB1bml0OiBVbml0KSAtPiBTdHJpbmcge30KICAgIG9wZW4gZnVuYyB1bml0U3RyaW5nRGlzcGxheWVkQWRqYWNlbnQodG9WYWx1ZSB2YWx1ZTogRG91YmxlLCB1bml0OiBVbml0KSAtPiBTdHJpbmcge30KfQpvcGVuIGNsYXNzIE1lYXN1cmVtZW50Rm9ybWF0dGVyIDogQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgRm9ybWF0dGVyLCBIYXNoYWJsZSwgTlNDb2RpbmcsIE5TQ29weWluZywgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wsIE5TU2VjdXJlQ29kaW5nLCBfIHsKICAgIG9wZW4gdmFyIGxvY2FsZTogTG9jYWxlISB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgbnVtYmVyRm9ybWF0dGVyOiBOdW1iZXJGb3JtYXR0ZXIhIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciB1bml0T3B0aW9uczogTWVhc3VyZW1lbnRGb3JtYXR0ZXIuVW5pdE9wdGlvbnMgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHVuaXRTdHlsZTogRm9ybWF0dGVyLlVuaXRTdHlsZSB7IGdldCBzZXQgfQogICAgcHVibGljIGZ1bmMgc3RyaW5nPFVuaXRUeXBlPihmcm9tIG1lYXN1cmVtZW50OiBNZWFzdXJlbWVudDxVbml0VHlwZT4pIC0+IFN0cmluZyB7fQp9Cm9wZW4gY2xhc3MgTWVzc2FnZVBvcnQgOiBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNDb2RpbmcsIE5TQ29weWluZywgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wsIFBvcnQsIF8gewp9Cm9wZW4gY2xhc3MgTlNBZmZpbmVUcmFuc2Zvcm0gOiBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNDb2RpbmcsIE5TQ29weWluZywgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wsIE5TU2VjdXJlQ29kaW5nLCBfLCBfU3RydWN0VHlwZUJyaWRnZWFibGUgewogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQodHJhbnNmb3JtOiBBZmZpbmVUcmFuc2Zvcm0pIHt9CiAgICBwdWJsaWMgdmFyIHRyYW5zZm9ybVN0cnVjdDogTlNBZmZpbmVUcmFuc2Zvcm1TdHJ1Y3QgeyBnZXQgc2V0IH0KICAgIG9wZW4gZnVuYyBhcHBlbmQoXyB0cmFuc2Zvcm06IEFmZmluZVRyYW5zZm9ybSkge30KICAgIG9wZW4gZnVuYyBpbnZlcnQoKSB7fQogICAgb3BlbiBmdW5jIHByZXBlbmQoXyB0cmFuc2Zvcm06IEFmZmluZVRyYW5zZm9ybSkge30KICAgIG9wZW4gZnVuYyByb3RhdGUoYnlEZWdyZWVzIGFuZ2xlOiBDR0Zsb2F0KSB7fQogICAgb3BlbiBmdW5jIHJvdGF0ZShieVJhZGlhbnMgYW5nbGU6IENHRmxvYXQpIHt9CiAgICBvcGVuIGZ1bmMgc2NhbGUoYnkgc2NhbGU6IENHRmxvYXQpIHt9CiAgICBvcGVuIGZ1bmMgc2NhbGVYKGJ5IHNjYWxlWDogQ0dGbG9hdCwgeUJ5IHNjYWxlWTogQ0dGbG9hdCkge30KICAgIG9wZW4gZnVuYyB0cmFuc2Zvcm0oXyBhUG9pbnQ6IE5TUG9pbnQpIC0+IE5TUG9pbnQge30KICAgIG9wZW4gZnVuYyB0cmFuc2Zvcm0oXyBhU2l6ZTogTlNTaXplKSAtPiBOU1NpemUge30KICAgIG9wZW4gZnVuYyB0cmFuc2xhdGVYKGJ5IGRlbHRhWDogQ0dGbG9hdCwgeUJ5IGRlbHRhWTogQ0dGbG9hdCkge30KfQpvcGVuIGNsYXNzIE5TQXJyYXkgOiBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21SZWZsZWN0YWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgRXhwcmVzc2libGVCeUFycmF5TGl0ZXJhbCwgSGFzaGFibGUsIE5TQ29kaW5nLCBOU0NvcHlpbmcsIE5TTXV0YWJsZUNvcHlpbmcsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBOU1NlY3VyZUNvZGluZywgU2VxdWVuY2UsIF8sIF9DRkJyaWRnZWFibGUsIF9TdHJ1Y3RUeXBlQnJpZGdlYWJsZSwgX1N3aWZ0QnJpZGdlYWJsZSB7CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdChhcnJheTogW0FueV0pIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdChhcnJheTogW0FueV0sIGNvcHlJdGVtczogQm9vbCkge30KICAgIHB1YmxpYyByZXF1aXJlZCBjb252ZW5pZW5jZSBpbml0KGFycmF5TGl0ZXJhbCBlbGVtZW50czogQW55Li4uKSB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQoY29udGVudHNPZiB1cmw6IFVSTCwgZXJyb3I6IFZvaWQpIHRocm93cyB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQob2JqZWN0IGFuT2JqZWN0OiBBbnkpIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdChvYmplY3RzIGVsZW1lbnRzOiBBbnlPYmplY3QuLi4pIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdChvYmplY3RzOiBVbnNhZmVQb2ludGVyPEFueU9iamVjdD4sIGNvdW50OiBJbnQpIHt9CiAgICBvcGVuIHZhciBjb3VudDogSW50IHsgZ2V0IH0KICAgIHB1YmxpYyB2YXIgY3VzdG9tTWlycm9yOiBNaXJyb3IgeyBnZXQgfQogICAgb3BlbiB2YXIgZmlyc3RPYmplY3Q6IEFueT8geyBnZXQgfQogICAgb3BlbiB2YXIgbGFzdE9iamVjdDogQW55PyB7IGdldCB9CiAgICBvcGVuIHZhciBzb3J0ZWRBcnJheUhpbnQ6IERhdGEgeyBnZXQgfQogICAgb3BlbiBzdWJzY3JpcHQoaWR4OiBJbnQpIC0+IEFueSB7IGdldCB9IHt9CiAgICBvcGVuIGZ1bmMgYWRkaW5nKF8gYW5PYmplY3Q6IEFueSkgLT4gW0FueV0ge30KICAgIG9wZW4gZnVuYyBhZGRpbmdPYmplY3RzKGZyb20gb3RoZXJBcnJheTogW0FueV0pIC0+IFtBbnldIHt9CiAgICBvcGVuIGZ1bmMgY29tcG9uZW50c0pvaW5lZChieSBzZXBhcmF0b3I6IFN0cmluZykgLT4gU3RyaW5nIHt9CiAgICBvcGVuIGZ1bmMgY29udGFpbnMoXyBhbk9iamVjdDogQW55KSAtPiBCb29sIHt9CiAgICBvcGVuIGZ1bmMgZGVzY3JpcHRpb24od2l0aExvY2FsZSBsb2NhbGU6IExvY2FsZT8pIC0+IFN0cmluZyB7fQogICAgb3BlbiBmdW5jIGRlc2NyaXB0aW9uKHdpdGhMb2NhbGUgbG9jYWxlOiBMb2NhbGU/LCBpbmRlbnQgbGV2ZWw6IEludCkgLT4gU3RyaW5nIHt9CiAgICBvcGVuIGZ1bmMgZW51bWVyYXRlT2JqZWN0cyhfIGJsb2NrOiAoQW55LCBJbnQsIFVuc2FmZU11dGFibGVQb2ludGVyPE9iakNCb29sPikgLT4gU3dpZnQuVm9pZCkge30KICAgIG9wZW4gZnVuYyBlbnVtZXJhdGVPYmplY3RzKGF0IHM6IEluZGV4U2V0LCBvcHRpb25zIG9wdHM6IE5TRW51bWVyYXRpb25PcHRpb25zID0geCwgdXNpbmcgYmxvY2s6IChBbnksIEludCwgVW5zYWZlTXV0YWJsZVBvaW50ZXI8T2JqQ0Jvb2w+KSAtPiBTd2lmdC5Wb2lkKSB7fQogICAgb3BlbiBmdW5jIGVudW1lcmF0ZU9iamVjdHMob3B0aW9ucyBvcHRzOiBOU0VudW1lcmF0aW9uT3B0aW9ucyA9IHgsIHVzaW5nIGJsb2NrOiAoQW55LCBJbnQsIFVuc2FmZU11dGFibGVQb2ludGVyPE9iakNCb29sPikgLT4gU3dpZnQuVm9pZCkge30KICAgIG9wZW4gZnVuYyBmaWx0ZXJlZCh1c2luZyBwcmVkaWNhdGU6IE5TUHJlZGljYXRlKSAtPiBbQW55XSB7fQogICAgb3BlbiBmdW5jIGZpcnN0T2JqZWN0Q29tbW9uKHdpdGggb3RoZXJBcnJheTogW0FueV0pIC0+IEFueT8ge30KICAgIG9wZW4gZnVuYyBpbmRleChvZiBhbk9iamVjdDogQW55KSAtPiBJbnQge30KICAgIG9wZW4gZnVuYyBpbmRleChvZiBhbk9iamVjdDogQW55LCBpbiByYW5nZTogTlNSYW5nZSkgLT4gSW50IHt9CiAgICBvcGVuIGZ1bmMgaW5kZXgob2Ygb2JqOiBBbnksIGluU29ydGVkUmFuZ2UgcjogTlNSYW5nZSwgb3B0aW9ucyBvcHRzOiBOU0JpbmFyeVNlYXJjaGluZ09wdGlvbnMgPSB4LCB1c2luZ0NvbXBhcmF0b3IgY21wOiAoQW55LCBBbnkpIC0+IENvbXBhcmlzb25SZXN1bHQpIC0+IEludCB7fQogICAgb3BlbiBmdW5jIGluZGV4T2ZPYmplY3QoYXQgczogSW5kZXhTZXQsIG9wdGlvbnMgb3B0czogTlNFbnVtZXJhdGlvbk9wdGlvbnMgPSB4LCBwYXNzaW5nVGVzdCBwcmVkaWNhdGU6IChBbnksIEludCwgVW5zYWZlTXV0YWJsZVBvaW50ZXI8T2JqQ0Jvb2w+KSAtPiBCb29sKSAtPiBJbnQge30KICAgIG9wZW4gZnVuYyBpbmRleE9mT2JqZWN0KG9wdGlvbnMgb3B0czogTlNFbnVtZXJhdGlvbk9wdGlvbnMgPSB4LCBwYXNzaW5nVGVzdCBwcmVkaWNhdGU6IChBbnksIEludCwgVW5zYWZlTXV0YWJsZVBvaW50ZXI8T2JqQ0Jvb2w+KSAtPiBCb29sKSAtPiBJbnQge30KICAgIG9wZW4gZnVuYyBpbmRleE9mT2JqZWN0KHBhc3NpbmdUZXN0IHByZWRpY2F0ZTogKEFueSwgSW50LCBVbnNhZmVNdXRhYmxlUG9pbnRlcjxPYmpDQm9vbD4pIC0+IEJvb2wpIC0+IEludCB7fQogICAgb3BlbiBmdW5jIGluZGV4T2ZPYmplY3RJZGVudGljYWwodG8gYW5PYmplY3Q6IEFueSkgLT4gSW50IHt9CiAgICBvcGVuIGZ1bmMgaW5kZXhPZk9iamVjdElkZW50aWNhbCh0byBhbk9iamVjdDogQW55LCBpbiByYW5nZTogTlNSYW5nZSkgLT4gSW50IHt9CiAgICBvcGVuIGZ1bmMgaW5kZXhlc09mT2JqZWN0cyhhdCBzOiBJbmRleFNldCwgb3B0aW9ucyBvcHRzOiBOU0VudW1lcmF0aW9uT3B0aW9ucyA9IHgsIHBhc3NpbmdUZXN0IHByZWRpY2F0ZTogKEFueSwgSW50LCBVbnNhZmVNdXRhYmxlUG9pbnRlcjxPYmpDQm9vbD4pIC0+IEJvb2wpIC0+IEluZGV4U2V0IHt9CiAgICBvcGVuIGZ1bmMgaW5kZXhlc09mT2JqZWN0cyhvcHRpb25zIG9wdHM6IE5TRW51bWVyYXRpb25PcHRpb25zID0geCwgcGFzc2luZ1Rlc3QgcHJlZGljYXRlOiAoQW55LCBJbnQsIFVuc2FmZU11dGFibGVQb2ludGVyPE9iakNCb29sPikgLT4gQm9vbCkgLT4gSW5kZXhTZXQge30KICAgIG9wZW4gZnVuYyBpbmRleGVzT2ZPYmplY3RzKHBhc3NpbmdUZXN0IHByZWRpY2F0ZTogKEFueSwgSW50LCBVbnNhZmVNdXRhYmxlUG9pbnRlcjxPYmpDQm9vbD4pIC0+IEJvb2wpIC0+IEluZGV4U2V0IHt9CiAgICBvcGVuIGZ1bmMgaXNFcXVhbCh0byBvdGhlckFycmF5OiBbQW55XSkgLT4gQm9vbCB7fQogICAgcHVibGljIGZ1bmMgbWFrZUl0ZXJhdG9yKCkgLT4gSXRlcmF0b3Ige30KICAgIG9wZW4gZnVuYyBvYmplY3QoYXQgaW5kZXg6IEludCkgLT4gQW55IHt9CiAgICBvcGVuIGZ1bmMgb2JqZWN0RW51bWVyYXRvcigpIC0+IE5TRW51bWVyYXRvciB7fQogICAgb3BlbiBmdW5jIG9iamVjdHMoYXQgaW5kZXhlczogSW5kZXhTZXQpIC0+IFtBbnldIHt9CiAgICBvcGVuIGZ1bmMgcGF0aHNNYXRjaGluZ0V4dGVuc2lvbnMoXyBmaWx0ZXJUeXBlczogW1N0cmluZ10pIC0+IFtTdHJpbmddIHt9CiAgICBvcGVuIGZ1bmMgcmV2ZXJzZU9iamVjdEVudW1lcmF0b3IoKSAtPiBOU0VudW1lcmF0b3Ige30KICAgIG9wZW4gZnVuYyBzb3J0ZWRBcnJheShfIGNvbXBhcmF0b3I6IChBbnksIEFueSwgVW5zYWZlTXV0YWJsZVJhd1BvaW50ZXI/KSAtPiBJbnQsIGNvbnRleHQ6IFVuc2FmZU11dGFibGVSYXdQb2ludGVyPykgLT4gW0FueV0ge30KICAgIG9wZW4gZnVuYyBzb3J0ZWRBcnJheShfIGNvbXBhcmF0b3I6IChBbnksIEFueSwgVW5zYWZlTXV0YWJsZVJhd1BvaW50ZXI/KSAtPiBJbnQsIGNvbnRleHQ6IFVuc2FmZU11dGFibGVSYXdQb2ludGVyPywgaGludDogRGF0YT8pIC0+IFtBbnldIHt9CiAgICBvcGVuIGZ1bmMgc29ydGVkQXJyYXkoY29tcGFyYXRvciBjbXB0cjogKEFueSwgQW55KSAtPiBDb21wYXJpc29uUmVzdWx0KSAtPiBbQW55XSB7fQogICAgb3BlbiBmdW5jIHNvcnRlZEFycmF5KG9wdGlvbnMgb3B0czogTlNTb3J0T3B0aW9ucyA9IHgsIHVzaW5nQ29tcGFyYXRvciBjbXB0cjogKEFueSwgQW55KSAtPiBDb21wYXJpc29uUmVzdWx0KSAtPiBbQW55XSB7fQogICAgcHVibGljIGZ1bmMgc29ydGVkQXJyYXkodXNpbmcgc29ydERlc2NyaXB0b3JzOiBbTlNTb3J0RGVzY3JpcHRvcl0pIC0+IFtBbnldIHt9CiAgICBvcGVuIGZ1bmMgc3ViYXJyYXkod2l0aCByYW5nZTogTlNSYW5nZSkgLT4gW0FueV0ge30KICAgIG9wZW4gZnVuYyB3cml0ZSh0byB1cmw6IFVSTCkgdGhyb3dzIHt9Cn0Kb3BlbiBjbGFzcyBOU0F0dHJpYnV0ZWRTdHJpbmcgOiBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNDb2RpbmcsIE5TQ29weWluZywgTlNNdXRhYmxlQ29weWluZywgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wsIE5TU2VjdXJlQ29kaW5nLCBfLCBfQ0ZCcmlkZ2VhYmxlIHsKICAgIHB1YmxpYyBpbml0KGF0dHJpYnV0ZWRTdHJpbmc6IE5TQXR0cmlidXRlZFN0cmluZykge30KICAgIHB1YmxpYyBpbml0KHN0cmluZzogU3RyaW5nKSB7fQogICAgcHVibGljIGluaXQoc3RyaW5nOiBTdHJpbmcsIGF0dHJpYnV0ZXMgYXR0cnM6IFtOU0F0dHJpYnV0ZWRTdHJpbmdLZXk6IEFueV0/ID0geCkge30KICAgIG9wZW4gdmFyIGxlbmd0aDogSW50IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHN0cmluZzogU3RyaW5nIHsgZ2V0IH0KICAgIG9wZW4gZnVuYyBhdHRyaWJ1dGUoXyBhdHRyTmFtZTogTlNBdHRyaWJ1dGVkU3RyaW5nS2V5LCBhdCBsb2NhdGlvbjogSW50LCBlZmZlY3RpdmVSYW5nZSByYW5nZTogTlNSYW5nZVBvaW50ZXI/KSAtPiBBbnk/IHt9CiAgICBvcGVuIGZ1bmMgYXR0cmlidXRlKF8gYXR0ck5hbWU6IE5TQXR0cmlidXRlZFN0cmluZ0tleSwgYXQgbG9jYXRpb246IEludCwgbG9uZ2VzdEVmZmVjdGl2ZVJhbmdlIHJhbmdlOiBOU1JhbmdlUG9pbnRlcj8sIGluIHJhbmdlTGltaXQ6IE5TUmFuZ2UpIC0+IEFueT8ge30KICAgIG9wZW4gZnVuYyBhdHRyaWJ1dGVkU3Vic3RyaW5nKGZyb20gcmFuZ2U6IE5TUmFuZ2UpIC0+IE5TQXR0cmlidXRlZFN0cmluZyB7fQogICAgb3BlbiBmdW5jIGF0dHJpYnV0ZXMoYXQgbG9jYXRpb246IEludCwgZWZmZWN0aXZlUmFuZ2UgcmFuZ2U6IE5TUmFuZ2VQb2ludGVyPykgLT4gW05TQXR0cmlidXRlZFN0cmluZ0tleTogQW55XSB7fQogICAgb3BlbiBmdW5jIGF0dHJpYnV0ZXMoYXQgbG9jYXRpb246IEludCwgbG9uZ2VzdEVmZmVjdGl2ZVJhbmdlIHJhbmdlOiBOU1JhbmdlUG9pbnRlcj8sIGluIHJhbmdlTGltaXQ6IE5TUmFuZ2UpIC0+IFtOU0F0dHJpYnV0ZWRTdHJpbmdLZXk6IEFueV0ge30KICAgIG9wZW4gZnVuYyBlbnVtZXJhdGVBdHRyaWJ1dGUoXyBhdHRyTmFtZTogTlNBdHRyaWJ1dGVkU3RyaW5nS2V5LCBpbiBlbnVtZXJhdGlvblJhbmdlOiBOU1JhbmdlLCBvcHRpb25zIG9wdHM6IE5TQXR0cmlidXRlZFN0cmluZy5FbnVtZXJhdGlvbk9wdGlvbnMgPSB4LCB1c2luZyBibG9jazogKEFueT8sIE5TUmFuZ2UsIFVuc2FmZU11dGFibGVQb2ludGVyPE9iakNCb29sPikgLT4gU3dpZnQuVm9pZCkge30KICAgIG9wZW4gZnVuYyBlbnVtZXJhdGVBdHRyaWJ1dGVzKGluIGVudW1lcmF0aW9uUmFuZ2U6IE5TUmFuZ2UsIG9wdGlvbnMgb3B0czogTlNBdHRyaWJ1dGVkU3RyaW5nLkVudW1lcmF0aW9uT3B0aW9ucyA9IHgsIHVzaW5nIGJsb2NrOiAoW05TQXR0cmlidXRlZFN0cmluZ0tleTogQW55XSwgTlNSYW5nZSwgVW5zYWZlTXV0YWJsZVBvaW50ZXI8T2JqQ0Jvb2w+KSAtPiBTd2lmdC5Wb2lkKSB7fQogICAgb3BlbiBmdW5jIGlzRXF1YWwodG8gb3RoZXI6IE5TQXR0cmlidXRlZFN0cmluZykgLT4gQm9vbCB7fQp9Cm9wZW4gY2xhc3MgTlNDYWNoZTxLZXlUeXBlLCBPYmplY3RUeXBlPiA6IEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCwgXyB7CiAgICBvcGVuIHZhciBjb3VudExpbWl0OiBJbnQgeyBnZXQgc2V0IH0KICAgIG9wZW4gd2VhayB2YXIgZGVsZWdhdGU6IE5TQ2FjaGVEZWxlZ2F0ZT8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGV2aWN0c09iamVjdHNXaXRoRGlzY2FyZGVkQ29udGVudDogQm9vbCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgbmFtZTogU3RyaW5nIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciB0b3RhbENvc3RMaW1pdDogSW50IHsgZ2V0IHNldCB9CiAgICBvcGVuIGZ1bmMgb2JqZWN0KGZvcktleSBrZXk6IEtleVR5cGUpIC0+IE9iamVjdFR5cGU/IHt9CiAgICBvcGVuIGZ1bmMgcmVtb3ZlQWxsT2JqZWN0cygpIHt9CiAgICBvcGVuIGZ1bmMgcmVtb3ZlT2JqZWN0KGZvcktleSBrZXk6IEtleVR5cGUpIHt9CiAgICBvcGVuIGZ1bmMgc2V0T2JqZWN0KF8gb2JqOiBPYmplY3RUeXBlLCBmb3JLZXkga2V5OiBLZXlUeXBlKSB7fQogICAgb3BlbiBmdW5jIHNldE9iamVjdChfIG9iajogT2JqZWN0VHlwZSwgZm9yS2V5IGtleTogS2V5VHlwZSwgY29zdCBnOiBJbnQpIHt9Cn0Kb3BlbiBjbGFzcyBOU0NhbGVuZGFyIDogQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TQ29kaW5nLCBOU0NvcHlpbmcsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBOU1NlY3VyZUNvZGluZywgXywgX0NGQnJpZGdlYWJsZSwgX1N0cnVjdFR5cGVCcmlkZ2VhYmxlLCBfU3dpZnRCcmlkZ2VhYmxlIHsKICAgIG9wZW4gY2xhc3MgdmFyIGF1dG91cGRhdGluZ0N1cnJlbnQ6IENhbGVuZGFyIHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgdmFyIGN1cnJlbnQ6IENhbGVuZGFyIHsgZ2V0IH0KICAgIHB1YmxpYyBpbml0PyhjYWxlbmRhcklkZW50aWZpZXIgaWRlbnQ6IElkZW50aWZpZXIpIHt9CiAgICBwdWJsaWMgaW5pdD8oaWRlbnRpZmllciBjYWxlbmRhcklkZW50aWZpZXJDb25zdGFudDogSWRlbnRpZmllcikge30KICAgIG9wZW4gdmFyIGFtU3ltYm9sOiBTdHJpbmcgeyBnZXQgfQogICAgb3BlbiB2YXIgY2FsZW5kYXJJZGVudGlmaWVyOiBJZGVudGlmaWVyIHsgZ2V0IH0KICAgIG9wZW4gdmFyIGVyYVN5bWJvbHM6IFtTdHJpbmddIHsgZ2V0IH0KICAgIG9wZW4gdmFyIGZpcnN0V2Vla2RheTogSW50IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBsb2NhbGU6IExvY2FsZT8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGxvbmdFcmFTeW1ib2xzOiBbU3RyaW5nXSB7IGdldCB9CiAgICBvcGVuIHZhciBtaW5pbXVtRGF5c0luRmlyc3RXZWVrOiBJbnQgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIG1vbnRoU3ltYm9sczogW1N0cmluZ10geyBnZXQgfQogICAgb3BlbiB2YXIgcG1TeW1ib2w6IFN0cmluZyB7IGdldCB9CiAgICBvcGVuIHZhciBxdWFydGVyU3ltYm9sczogW1N0cmluZ10geyBnZXQgfQogICAgb3BlbiB2YXIgc2hvcnRNb250aFN5bWJvbHM6IFtTdHJpbmddIHsgZ2V0IH0KICAgIG9wZW4gdmFyIHNob3J0UXVhcnRlclN5bWJvbHM6IFtTdHJpbmddIHsgZ2V0IH0KICAgIG9wZW4gdmFyIHNob3J0U3RhbmRhbG9uZU1vbnRoU3ltYm9sczogW1N0cmluZ10geyBnZXQgfQogICAgb3BlbiB2YXIgc2hvcnRTdGFuZGFsb25lUXVhcnRlclN5bWJvbHM6IFtTdHJpbmddIHsgZ2V0IH0KICAgIG9wZW4gdmFyIHNob3J0U3RhbmRhbG9uZVdlZWtkYXlTeW1ib2xzOiBbU3RyaW5nXSB7IGdldCB9CiAgICBvcGVuIHZhciBzaG9ydFdlZWtkYXlTeW1ib2xzOiBbU3RyaW5nXSB7IGdldCB9CiAgICBvcGVuIHZhciBzdGFuZGFsb25lTW9udGhTeW1ib2xzOiBbU3RyaW5nXSB7IGdldCB9CiAgICBvcGVuIHZhciBzdGFuZGFsb25lUXVhcnRlclN5bWJvbHM6IFtTdHJpbmddIHsgZ2V0IH0KICAgIG9wZW4gdmFyIHN0YW5kYWxvbmVXZWVrZGF5U3ltYm9sczogW1N0cmluZ10geyBnZXQgfQogICAgb3BlbiB2YXIgdGltZVpvbmU6IFRpbWVab25lIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciB2ZXJ5U2hvcnRNb250aFN5bWJvbHM6IFtTdHJpbmddIHsgZ2V0IH0KICAgIG9wZW4gdmFyIHZlcnlTaG9ydFN0YW5kYWxvbmVNb250aFN5bWJvbHM6IFtTdHJpbmddIHsgZ2V0IH0KICAgIG9wZW4gdmFyIHZlcnlTaG9ydFN0YW5kYWxvbmVXZWVrZGF5U3ltYm9sczogW1N0cmluZ10geyBnZXQgfQogICAgb3BlbiB2YXIgdmVyeVNob3J0V2Vla2RheVN5bWJvbHM6IFtTdHJpbmddIHsgZ2V0IH0KICAgIG9wZW4gdmFyIHdlZWtkYXlTeW1ib2xzOiBbU3RyaW5nXSB7IGdldCB9CiAgICBvcGVuIGZ1bmMgY29tcGFyZShfIGRhdGUxOiBEYXRlLCB0byBkYXRlMjogRGF0ZSwgdG9Vbml0R3JhbnVsYXJpdHkgdW5pdDogVW5pdCkgLT4gQ29tcGFyaXNvblJlc3VsdCB7fQogICAgb3BlbiBmdW5jIGNvbXBvbmVudChfIHVuaXQ6IFVuaXQsIGZyb20gZGF0ZTogRGF0ZSkgLT4gSW50IHt9CiAgICBvcGVuIGZ1bmMgY29tcG9uZW50cyhfIHVuaXRGbGFnczogVW5pdCwgZnJvbSBkYXRlOiBEYXRlKSAtPiBEYXRlQ29tcG9uZW50cyB7fQogICAgb3BlbiBmdW5jIGNvbXBvbmVudHMoXyB1bml0RmxhZ3M6IFVuaXQsIGZyb20gc3RhcnRpbmdEYXRlOiBEYXRlLCB0byByZXN1bHREYXRlOiBEYXRlLCBvcHRpb25zIG9wdHM6IE9wdGlvbnMgPSB4KSAtPiBEYXRlQ29tcG9uZW50cyB7fQogICAgb3BlbiBmdW5jIGNvbXBvbmVudHMoaW4gdGltZXpvbmU6IFRpbWVab25lLCBmcm9tIGRhdGU6IERhdGUpIC0+IERhdGVDb21wb25lbnRzIHt9CiAgICBvcGVuIGZ1bmMgZGF0ZShfIGRhdGU6IERhdGUsIG1hdGNoZXNDb21wb25lbnRzIGNvbXBvbmVudHM6IERhdGVDb21wb25lbnRzKSAtPiBCb29sIHt9CiAgICBvcGVuIGZ1bmMgZGF0ZShieUFkZGluZyBjb21wczogRGF0ZUNvbXBvbmVudHMsIHRvIGRhdGU6IERhdGUsIG9wdGlvbnMgb3B0czogT3B0aW9ucyA9IHgpIC0+IERhdGU/IHt9CiAgICBvcGVuIGZ1bmMgZGF0ZShieUFkZGluZyB1bml0OiBVbml0LCB2YWx1ZTogSW50LCB0byBkYXRlOiBEYXRlLCBvcHRpb25zOiBPcHRpb25zID0geCkgLT4gRGF0ZT8ge30KICAgIG9wZW4gZnVuYyBkYXRlKGJ5U2V0dGluZ0hvdXIgaDogSW50LCBtaW51dGUgbTogSW50LCBzZWNvbmQgczogSW50LCBvZiBkYXRlOiBEYXRlLCBvcHRpb25zIG9wdHM6IE9wdGlvbnMgPSB4KSAtPiBEYXRlPyB7fQogICAgb3BlbiBmdW5jIGRhdGUoYnlTZXR0aW5nVW5pdCB1bml0OiBVbml0LCB2YWx1ZSB2OiBJbnQsIG9mIGRhdGU6IERhdGUsIG9wdGlvbnMgb3B0czogT3B0aW9ucyA9IHgpIC0+IERhdGU/IHt9CiAgICBvcGVuIGZ1bmMgZGF0ZShlcmEgZXJhVmFsdWU6IEludCwgeWVhciB5ZWFyVmFsdWU6IEludCwgbW9udGggbW9udGhWYWx1ZTogSW50LCBkYXkgZGF5VmFsdWU6IEludCwgaG91ciBob3VyVmFsdWU6IEludCwgbWludXRlIG1pbnV0ZVZhbHVlOiBJbnQsIHNlY29uZCBzZWNvbmRWYWx1ZTogSW50LCBuYW5vc2Vjb25kIG5hbm9zZWNvbmRWYWx1ZTogSW50KSAtPiBEYXRlPyB7fQogICAgb3BlbiBmdW5jIGRhdGUoZXJhIGVyYVZhbHVlOiBJbnQsIHllYXJGb3JXZWVrT2ZZZWFyIHllYXJWYWx1ZTogSW50LCB3ZWVrT2ZZZWFyIHdlZWtWYWx1ZTogSW50LCB3ZWVrZGF5IHdlZWtkYXlWYWx1ZTogSW50LCBob3VyIGhvdXJWYWx1ZTogSW50LCBtaW51dGUgbWludXRlVmFsdWU6IEludCwgc2Vjb25kIHNlY29uZFZhbHVlOiBJbnQsIG5hbm9zZWNvbmQgbmFub3NlY29uZFZhbHVlOiBJbnQpIC0+IERhdGU/IHt9CiAgICBvcGVuIGZ1bmMgZGF0ZShmcm9tIGNvbXBzOiBEYXRlQ29tcG9uZW50cykgLT4gRGF0ZT8ge30KICAgIG9wZW4gZnVuYyBlbnVtZXJhdGVEYXRlcyhzdGFydGluZ0FmdGVyIHN0YXJ0OiBEYXRlLCBtYXRjaGluZyBjb21wczogRGF0ZUNvbXBvbmVudHMsIG9wdGlvbnMgb3B0czogTlNDYWxlbmRhci5PcHRpb25zID0geCwgdXNpbmcgYmxvY2s6IChEYXRlPywgQm9vbCwgVW5zYWZlTXV0YWJsZVBvaW50ZXI8T2JqQ0Jvb2w+KSAtPiBTd2lmdC5Wb2lkKSB7fQogICAgb3BlbiBmdW5jIGdldEVyYShfIGVyYVZhbHVlUG9pbnRlcjogVW5zYWZlTXV0YWJsZVBvaW50ZXI8SW50Pj8sIHllYXIgeWVhclZhbHVlUG9pbnRlcjogVW5zYWZlTXV0YWJsZVBvaW50ZXI8SW50Pj8sIG1vbnRoIG1vbnRoVmFsdWVQb2ludGVyOiBVbnNhZmVNdXRhYmxlUG9pbnRlcjxJbnQ+PywgZGF5IGRheVZhbHVlUG9pbnRlcjogVW5zYWZlTXV0YWJsZVBvaW50ZXI8SW50Pj8sIGZyb20gZGF0ZTogRGF0ZSkge30KICAgIG9wZW4gZnVuYyBnZXRFcmEoXyBlcmFWYWx1ZVBvaW50ZXI6IFVuc2FmZU11dGFibGVQb2ludGVyPEludD4/LCB5ZWFyRm9yV2Vla09mWWVhciB5ZWFyVmFsdWVQb2ludGVyOiBVbnNhZmVNdXRhYmxlUG9pbnRlcjxJbnQ+Pywgd2Vla09mWWVhciB3ZWVrVmFsdWVQb2ludGVyOiBVbnNhZmVNdXRhYmxlUG9pbnRlcjxJbnQ+Pywgd2Vla2RheSB3ZWVrZGF5VmFsdWVQb2ludGVyOiBVbnNhZmVNdXRhYmxlUG9pbnRlcjxJbnQ+PywgZnJvbSBkYXRlOiBEYXRlKSB7fQogICAgb3BlbiBmdW5jIGdldEhvdXIoXyBob3VyVmFsdWVQb2ludGVyOiBVbnNhZmVNdXRhYmxlUG9pbnRlcjxJbnQ+PywgbWludXRlIG1pbnV0ZVZhbHVlUG9pbnRlcjogVW5zYWZlTXV0YWJsZVBvaW50ZXI8SW50Pj8sIHNlY29uZCBzZWNvbmRWYWx1ZVBvaW50ZXI6IFVuc2FmZU11dGFibGVQb2ludGVyPEludD4/LCBuYW5vc2Vjb25kIG5hbm9zZWNvbmRWYWx1ZVBvaW50ZXI6IFVuc2FmZU11dGFibGVQb2ludGVyPEludD4/LCBmcm9tIGRhdGU6IERhdGUpIHt9CiAgICBvcGVuIGZ1bmMgaXNEYXRlKF8gZGF0ZTE6IERhdGUsIGVxdWFsVG8gZGF0ZTI6IERhdGUsIHRvVW5pdEdyYW51bGFyaXR5IHVuaXQ6IFVuaXQpIC0+IEJvb2wge30KICAgIG9wZW4gZnVuYyBpc0RhdGUoXyBkYXRlMTogRGF0ZSwgaW5TYW1lRGF5QXMgZGF0ZTI6IERhdGUpIC0+IEJvb2wge30KICAgIG9wZW4gZnVuYyBpc0RhdGVJblRvZGF5KF8gZGF0ZTogRGF0ZSkgLT4gQm9vbCB7fQogICAgb3BlbiBmdW5jIGlzRGF0ZUluVG9tb3Jyb3coXyBkYXRlOiBEYXRlKSAtPiBCb29sIHt9CiAgICBvcGVuIGZ1bmMgaXNEYXRlSW5XZWVrZW5kKF8gZGF0ZTogRGF0ZSkgLT4gQm9vbCB7fQogICAgb3BlbiBmdW5jIGlzRGF0ZUluWWVzdGVyZGF5KF8gZGF0ZTogRGF0ZSkgLT4gQm9vbCB7fQogICAgb3BlbiBmdW5jIG1heGltdW1SYW5nZShvZiB1bml0OiBVbml0KSAtPiBOU1JhbmdlIHt9CiAgICBvcGVuIGZ1bmMgbWluaW11bVJhbmdlKG9mIHVuaXQ6IFVuaXQpIC0+IE5TUmFuZ2Uge30KICAgIG9wZW4gZnVuYyBuZXh0RGF0ZShhZnRlciBkYXRlOiBEYXRlLCBtYXRjaGluZyBjb21wczogRGF0ZUNvbXBvbmVudHMsIG9wdGlvbnM6IE9wdGlvbnMgPSB4KSAtPiBEYXRlPyB7fQogICAgb3BlbiBmdW5jIG5leHREYXRlKGFmdGVyIGRhdGU6IERhdGUsIG1hdGNoaW5nIHVuaXQ6IFVuaXQsIHZhbHVlOiBJbnQsIG9wdGlvbnM6IE9wdGlvbnMgPSB4KSAtPiBEYXRlPyB7fQogICAgb3BlbiBmdW5jIG5leHREYXRlKGFmdGVyIGRhdGU6IERhdGUsIG1hdGNoaW5nSG91ciBob3VyVmFsdWU6IEludCwgbWludXRlIG1pbnV0ZVZhbHVlOiBJbnQsIHNlY29uZCBzZWNvbmRWYWx1ZTogSW50LCBvcHRpb25zOiBPcHRpb25zID0geCkgLT4gRGF0ZT8ge30KICAgIG9wZW4gZnVuYyBuZXh0V2Vla2VuZEFmdGVyKF8gZGF0ZTogRGF0ZSwgb3B0aW9uczogT3B0aW9ucykgLT4gRGF0ZUludGVydmFsPyB7fQogICAgb3BlbiBmdW5jIG9yZGluYWxpdHkob2Ygc21hbGxlcjogVW5pdCwgaW4gbGFyZ2VyOiBVbml0LCBmb3IgZGF0ZTogRGF0ZSkgLT4gSW50IHt9CiAgICBvcGVuIGZ1bmMgcmFuZ2Uob2YgdW5pdDogVW5pdCwgZm9yIGRhdGU6IERhdGUpIC0+IERhdGVJbnRlcnZhbD8ge30KICAgIG9wZW4gZnVuYyByYW5nZShvZiBzbWFsbGVyOiBVbml0LCBpbiBsYXJnZXI6IFVuaXQsIGZvciBkYXRlOiBEYXRlKSAtPiBOU1JhbmdlIHt9CiAgICBvcGVuIGZ1bmMgcmFuZ2Uob2ZXZWVrZW5kQ29udGFpbmluZyBkYXRlOiBEYXRlKSAtPiBEYXRlSW50ZXJ2YWw/IHt9CiAgICBvcGVuIGZ1bmMgc3RhcnRPZkRheShmb3IgZGF0ZTogRGF0ZSkgLT4gRGF0ZSB7fQp9Cm9wZW4gY2xhc3MgTlNDaGFyYWN0ZXJTZXQgOiBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNDb2RpbmcsIE5TQ29weWluZywgTlNNdXRhYmxlQ29weWluZywgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wsIF8sIF9TdHJ1Y3RUeXBlQnJpZGdlYWJsZSwgX1N3aWZ0QnJpZGdlYWJsZSB7CiAgICBvcGVuIGNsYXNzIHZhciBhbHBoYW51bWVyaWNzOiBDaGFyYWN0ZXJTZXQgeyBnZXQgfQogICAgb3BlbiBjbGFzcyB2YXIgY2FwaXRhbGl6ZWRMZXR0ZXJzOiBDaGFyYWN0ZXJTZXQgeyBnZXQgfQogICAgb3BlbiBjbGFzcyB2YXIgY29udHJvbENoYXJhY3RlcnM6IENoYXJhY3RlclNldCB7IGdldCB9CiAgICBvcGVuIGNsYXNzIHZhciBkZWNpbWFsRGlnaXRzOiBDaGFyYWN0ZXJTZXQgeyBnZXQgfQogICAgb3BlbiBjbGFzcyB2YXIgZGVjb21wb3NhYmxlczogQ2hhcmFjdGVyU2V0IHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgdmFyIGlsbGVnYWxDaGFyYWN0ZXJzOiBDaGFyYWN0ZXJTZXQgeyBnZXQgfQogICAgcHVibGljIGNsYXNzIHZhciBsZXR0ZXJzOiBDaGFyYWN0ZXJTZXQgeyBnZXQgfQogICAgb3BlbiBjbGFzcyB2YXIgbG93ZXJjYXNlTGV0dGVyczogQ2hhcmFjdGVyU2V0IHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgdmFyIG5ld2xpbmVzOiBDaGFyYWN0ZXJTZXQgeyBnZXQgfQogICAgb3BlbiBjbGFzcyB2YXIgbm9uQmFzZUNoYXJhY3RlcnM6IENoYXJhY3RlclNldCB7IGdldCB9CiAgICBvcGVuIGNsYXNzIHZhciBwdW5jdHVhdGlvbkNoYXJhY3RlcnM6IENoYXJhY3RlclNldCB7IGdldCB9CiAgICBvcGVuIGNsYXNzIHZhciBzeW1ib2xzOiBDaGFyYWN0ZXJTZXQgeyBnZXQgfQogICAgb3BlbiBjbGFzcyB2YXIgdXBwZXJjYXNlTGV0dGVyczogQ2hhcmFjdGVyU2V0IHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgdmFyIHVybEZyYWdtZW50QWxsb3dlZDogQ2hhcmFjdGVyU2V0IHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgdmFyIHVybEhvc3RBbGxvd2VkOiBDaGFyYWN0ZXJTZXQgeyBnZXQgfQogICAgb3BlbiBjbGFzcyB2YXIgdXJsUGFzc3dvcmRBbGxvd2VkOiBDaGFyYWN0ZXJTZXQgeyBnZXQgfQogICAgb3BlbiBjbGFzcyB2YXIgdXJsUGF0aEFsbG93ZWQ6IENoYXJhY3RlclNldCB7IGdldCB9CiAgICBvcGVuIGNsYXNzIHZhciB1cmxRdWVyeUFsbG93ZWQ6IENoYXJhY3RlclNldCB7IGdldCB9CiAgICBvcGVuIGNsYXNzIHZhciB1cmxVc2VyQWxsb3dlZDogQ2hhcmFjdGVyU2V0IHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgdmFyIHdoaXRlc3BhY2VzOiBDaGFyYWN0ZXJTZXQgeyBnZXQgfQogICAgb3BlbiBjbGFzcyB2YXIgd2hpdGVzcGFjZXNBbmROZXdsaW5lczogQ2hhcmFjdGVyU2V0IHsgZ2V0IH0KICAgIHB1YmxpYyBpbml0KGJpdG1hcFJlcHJlc2VudGF0aW9uIGRhdGE6IERhdGEpIHt9CiAgICBwdWJsaWMgaW5pdChjaGFyYWN0ZXJzSW4gYVN0cmluZzogU3RyaW5nKSB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQ/KGNvbnRlbnRzT2ZGaWxlIGZOYW1lOiBTdHJpbmcpIHt9CiAgICBwdWJsaWMgaW5pdChyYW5nZSBhUmFuZ2U6IE5TUmFuZ2UpIHt9CiAgICBvcGVuIHZhciBiaXRtYXBSZXByZXNlbnRhdGlvbjogRGF0YSB7IGdldCB9CiAgICBvcGVuIHZhciBpbnZlcnRlZDogQ2hhcmFjdGVyU2V0IHsgZ2V0IH0KICAgIG9wZW4gZnVuYyBjaGFyYWN0ZXJJc01lbWJlcihfIGFDaGFyYWN0ZXI6IHVuaWNoYXIpIC0+IEJvb2wge30KICAgIG9wZW4gZnVuYyBoYXNNZW1iZXJJblBsYW5lKF8gdGhlUGxhbmU6IFVJbnQ4KSAtPiBCb29sIHt9CiAgICBvcGVuIGZ1bmMgaXNTdXBlcnNldChvZiB0aGVPdGhlclNldDogQ2hhcmFjdGVyU2V0KSAtPiBCb29sIHt9CiAgICBvcGVuIGZ1bmMgbG9uZ0NoYXJhY3RlcklzTWVtYmVyKF8gdGhlTG9uZ0NoYXI6IFVJbnQzMikgLT4gQm9vbCB7fQp9Cm9wZW4gY2xhc3MgTlNDb2RlciA6IEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCwgXyB7CiAgICBvcGVuIHZhciBhbGxvd2VkQ2xhc3NlczogW0FueUNsYXNzXT8geyBnZXQgfQogICAgb3BlbiB2YXIgYWxsb3dzS2V5ZWRDb2Rpbmc6IEJvb2wgeyBnZXQgfQogICAgb3BlbiB2YXIgZGVjb2RpbmdGYWlsdXJlUG9saWN5OiBOU0NvZGVyLkRlY29kaW5nRmFpbHVyZVBvbGljeSB7IGdldCB9CiAgICBvcGVuIHZhciBlcnJvcjogRXJyb3I/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHJlcXVpcmVzU2VjdXJlQ29kaW5nOiBCb29sIHsgZ2V0IH0KICAgIG9wZW4gdmFyIHN5c3RlbVZlcnNpb246IFVJbnQzMiB7IGdldCB9CiAgICBvcGVuIGZ1bmMgY29udGFpbnNWYWx1ZShmb3JLZXkga2V5OiBTdHJpbmcpIC0+IEJvb2wge30KICAgIG9wZW4gZnVuYyBkZWNvZGVBcnJheShvZk9iakNUeXBlIGl0ZW1UeXBlOiBVbnNhZmVQb2ludGVyPEludDg+LCBjb3VudDogSW50LCBhdCBhcnJheTogVW5zYWZlTXV0YWJsZVJhd1BvaW50ZXIpIHt9CiAgICBvcGVuIGZ1bmMgZGVjb2RlQm9vbChmb3JLZXkga2V5OiBTdHJpbmcpIC0+IEJvb2wge30KICAgIG9wZW4gZnVuYyBkZWNvZGVDSW50KGZvcktleSBrZXk6IFN0cmluZykgLT4gSW50MzIge30KICAgIG9wZW4gZnVuYyBkZWNvZGVEYXRhKCkgLT4gRGF0YT8ge30KICAgIG9wZW4gZnVuYyBkZWNvZGVEb3VibGUoZm9yS2V5IGtleTogU3RyaW5nKSAtPiBEb3VibGUge30KICAgIG9wZW4gZnVuYyBkZWNvZGVGbG9hdChmb3JLZXkga2V5OiBTdHJpbmcpIC0+IEZsb2F0IHt9CiAgICBvcGVuIGZ1bmMgZGVjb2RlSW50MzIoZm9yS2V5IGtleTogU3RyaW5nKSAtPiBJbnQzMiB7fQogICAgb3BlbiBmdW5jIGRlY29kZUludDY0KGZvcktleSBrZXk6IFN0cmluZykgLT4gSW50NjQge30KICAgIG9wZW4gZnVuYyBkZWNvZGVJbnRlZ2VyKGZvcktleSBrZXk6IFN0cmluZykgLT4gSW50IHt9CiAgICBvcGVuIGZ1bmMgZGVjb2RlT2JqZWN0KCkgLT4gQW55PyB7fQogICAgb3BlbiBmdW5jIGRlY29kZU9iamVjdChmb3JLZXkga2V5OiBTdHJpbmcpIC0+IEFueT8ge30KICAgIG9wZW4gZnVuYyBkZWNvZGVPYmplY3Qob2YgY2xhc3NlczogW0FueUNsYXNzXT8sIGZvcktleSBrZXk6IFN0cmluZykgLT4gQW55PyB7fQogICAgcHVibGljIGZ1bmMgZGVjb2RlUG9pbnQoKSAtPiBOU1BvaW50IHt9CiAgICBwdWJsaWMgZnVuYyBkZWNvZGVQb2ludChmb3JLZXkga2V5OiBTdHJpbmcpIC0+IE5TUG9pbnQge30KICAgIG9wZW4gZnVuYyBkZWNvZGVQcm9wZXJ0eUxpc3QoKSAtPiBBbnk/IHt9CiAgICBvcGVuIGZ1bmMgZGVjb2RlUHJvcGVydHlMaXN0KGZvcktleSBrZXk6IFN0cmluZykgLT4gQW55PyB7fQogICAgcHVibGljIGZ1bmMgZGVjb2RlUmVjdCgpIC0+IE5TUmVjdCB7fQogICAgcHVibGljIGZ1bmMgZGVjb2RlUmVjdChmb3JLZXkga2V5OiBTdHJpbmcpIC0+IE5TUmVjdCB7fQogICAgcHVibGljIGZ1bmMgZGVjb2RlU2l6ZSgpIC0+IE5TU2l6ZSB7fQogICAgcHVibGljIGZ1bmMgZGVjb2RlU2l6ZShmb3JLZXkga2V5OiBTdHJpbmcpIC0+IE5TU2l6ZSB7fQogICAgb3BlbiBmdW5jIGRlY29kZVRvcExldmVsT2JqZWN0KCkgdGhyb3dzIC0+IEFueT8ge30KICAgIG9wZW4gZnVuYyBkZWNvZGVUb3BMZXZlbE9iamVjdChmb3JLZXkga2V5OiBTdHJpbmcpIHRocm93cyAtPiBBbnk/IHt9CiAgICBvcGVuIGZ1bmMgZGVjb2RlVG9wTGV2ZWxPYmplY3Qob2YgY2xhc3NlczogW0FueUNsYXNzXSwgZm9yS2V5IGtleTogU3RyaW5nKSB0aHJvd3MgLT4gQW55PyB7fQogICAgb3BlbiBmdW5jIGRlY29kZVZhbHVlKG9mT2JqQ1R5cGUgdHlwZTogVW5zYWZlUG9pbnRlcjxJbnQ4PiwgYXQgZGF0YTogVW5zYWZlTXV0YWJsZVJhd1BvaW50ZXIpIHt9CiAgICBvcGVuIGZ1bmMgZW5jb2RlKF8gZGF0YTogRGF0YSkge30KICAgIG9wZW4gZnVuYyBlbmNvZGUoXyBvYmplY3Q6IEFueT8pIHt9CiAgICBvcGVuIGZ1bmMgZW5jb2RlKF8gYm9vbHY6IEJvb2wsIGZvcktleSBrZXk6IFN0cmluZykge30KICAgIG9wZW4gZnVuYyBlbmNvZGUoXyBpbnR2OiBJbnQsIGZvcktleSBrZXk6IFN0cmluZykge30KICAgIG9wZW4gZnVuYyBlbmNvZGUoXyBpbnR2OiBJbnQzMiwgZm9yS2V5IGtleTogU3RyaW5nKSB7fQogICAgb3BlbiBmdW5jIGVuY29kZShfIGludHY6IEludDY0LCBmb3JLZXkga2V5OiBTdHJpbmcpIHt9CiAgICBvcGVuIGZ1bmMgZW5jb2RlKF8gb2JqdjogQW55PywgZm9yS2V5IGtleTogU3RyaW5nKSB7fQogICAgb3BlbiBmdW5jIGVuY29kZShfIHJlYWx2OiBEb3VibGUsIGZvcktleSBrZXk6IFN0cmluZykge30KICAgIG9wZW4gZnVuYyBlbmNvZGVBcnJheShvZk9iakNUeXBlIHR5cGU6IFVuc2FmZVBvaW50ZXI8SW50OD4sIGNvdW50OiBJbnQsIGF0IGFycmF5OiBVbnNhZmVSYXdQb2ludGVyKSB7fQogICAgb3BlbiBmdW5jIGVuY29kZUJ5Y29weU9iamVjdChfIGFuT2JqZWN0OiBBbnk/KSB7fQogICAgb3BlbiBmdW5jIGVuY29kZUJ5cmVmT2JqZWN0KF8gYW5PYmplY3Q6IEFueT8pIHt9CiAgICBvcGVuIGZ1bmMgZW5jb2RlQnl0ZXMoXyBieXRlYWRkcjogVW5zYWZlUmF3UG9pbnRlcj8sIGxlbmd0aDogSW50KSB7fQogICAgb3BlbiBmdW5jIGVuY29kZUJ5dGVzKF8gYnl0ZXNwOiBVbnNhZmVQb2ludGVyPFVJbnQ4Pj8sIGxlbmd0aCBsZW52OiBJbnQsIGZvcktleSBrZXk6IFN0cmluZykge30KICAgIG9wZW4gZnVuYyBlbmNvZGVDb25kaXRpb25hbE9iamVjdChfIG9iamVjdDogQW55Pykge30KICAgIG9wZW4gZnVuYyBlbmNvZGVDb25kaXRpb25hbE9iamVjdChfIG9ianY6IEFueT8sIGZvcktleSBrZXk6IFN0cmluZykge30KICAgIG9wZW4gZnVuYyBlbmNvZGVQcm9wZXJ0eUxpc3QoXyBhUHJvcGVydHlMaXN0OiBBbnkpIHt9CiAgICBvcGVuIGZ1bmMgZW5jb2RlUm9vdE9iamVjdChfIHJvb3RPYmplY3Q6IEFueSkge30KICAgIG9wZW4gZnVuYyBlbmNvZGVWYWx1ZShvZk9iakNUeXBlIHR5cGU6IFVuc2FmZVBvaW50ZXI8SW50OD4sIGF0IGFkZHI6IFVuc2FmZVJhd1BvaW50ZXIpIHt9CiAgICBvcGVuIGZ1bmMgZmFpbFdpdGhFcnJvcihfIGVycm9yOiBFcnJvcikge30KICAgIG9wZW4gZnVuYyB2ZXJzaW9uKGZvckNsYXNzTmFtZSBjbGFzc05hbWU6IFN0cmluZykgLT4gSW50IHt9CiAgICBvcGVuIGZ1bmMgd2l0aERlY29kZWRVbnNhZmVCdWZmZXJQb2ludGVyPFJlc3VsdFR5cGU+KGZvcktleSBrZXk6IFN0cmluZywgYm9keTogKFVuc2FmZUJ1ZmZlclBvaW50ZXI8VUludDg+PykgdGhyb3dzIC0+IFJlc3VsdFR5cGUpIHJldGhyb3dzIC0+IFJlc3VsdFR5cGUge30KfQpvcGVuIGNsYXNzIE5TQ29tcGFyaXNvblByZWRpY2F0ZSA6IEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU0NvZGluZywgTlNDb3B5aW5nLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCwgTlNQcmVkaWNhdGUsIE5TU2VjdXJlQ29kaW5nLCBfIHsKICAgIHB1YmxpYyBpbml0KGxlZnRFeHByZXNzaW9uIGxoczogTlNFeHByZXNzaW9uLCByaWdodEV4cHJlc3Npb24gcmhzOiBOU0V4cHJlc3Npb24sIG1vZGlmaWVyOiBNb2RpZmllciwgdHlwZTogT3BlcmF0b3IsIG9wdGlvbnM6IE9wdGlvbnMpIHt9CiAgICBvcGVuIHZhciBjb21wYXJpc29uUHJlZGljYXRlTW9kaWZpZXI6IE1vZGlmaWVyIHsgZ2V0IH0KICAgIG9wZW4gdmFyIGxlZnRFeHByZXNzaW9uOiBOU0V4cHJlc3Npb24geyBnZXQgfQogICAgb3BlbiB2YXIgb3B0aW9uczogT3B0aW9ucyB7IGdldCB9CiAgICBvcGVuIHZhciBwcmVkaWNhdGVPcGVyYXRvclR5cGU6IE9wZXJhdG9yIHsgZ2V0IH0KICAgIG9wZW4gdmFyIHJpZ2h0RXhwcmVzc2lvbjogTlNFeHByZXNzaW9uIHsgZ2V0IH0KfQpvcGVuIGNsYXNzIE5TQ29tcG91bmRQcmVkaWNhdGUgOiBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNDb2RpbmcsIE5TQ29weWluZywgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wsIE5TUHJlZGljYXRlLCBOU1NlY3VyZUNvZGluZywgXyB7CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdChhbmRQcmVkaWNhdGVXaXRoU3VicHJlZGljYXRlcyBzdWJwcmVkaWNhdGVzOiBbTlNQcmVkaWNhdGVdKSB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQobm90UHJlZGljYXRlV2l0aFN1YnByZWRpY2F0ZSBwcmVkaWNhdGU6IE5TUHJlZGljYXRlKSB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQob3JQcmVkaWNhdGVXaXRoU3VicHJlZGljYXRlcyBzdWJwcmVkaWNhdGVzOiBbTlNQcmVkaWNhdGVdKSB7fQogICAgcHVibGljIGluaXQodHlwZTogTG9naWNhbFR5cGUsIHN1YnByZWRpY2F0ZXM6IFtOU1ByZWRpY2F0ZV0pIHt9CiAgICBvcGVuIHZhciBjb21wb3VuZFByZWRpY2F0ZVR5cGU6IExvZ2ljYWxUeXBlIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBzdWJwcmVkaWNhdGVzOiBbTlNQcmVkaWNhdGVdIHsgZ2V0IHNldCB9Cn0Kb3BlbiBjbGFzcyBOU0NvbmRpdGlvbiA6IEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU0xvY2tpbmcsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBfIHsKICAgIG9wZW4gdmFyIG5hbWU6IFN0cmluZz8geyBnZXQgc2V0IH0KICAgIG9wZW4gZnVuYyBicm9hZGNhc3QoKSB7fQogICAgb3BlbiBmdW5jIHNpZ25hbCgpIHt9CiAgICBvcGVuIGZ1bmMgd2FpdCgpIHt9CiAgICBvcGVuIGZ1bmMgd2FpdCh1bnRpbCBsaW1pdDogRGF0ZSkgLT4gQm9vbCB7fQp9Cm9wZW4gY2xhc3MgTlNDb25kaXRpb25Mb2NrIDogQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TTG9ja2luZywgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wsIF8gewogICAgcHVibGljIGluaXQoY29uZGl0aW9uOiBJbnQpIHt9CiAgICBvcGVuIHZhciBjb25kaXRpb246IEludCB7IGdldCB9CiAgICBvcGVuIHZhciBuYW1lOiBTdHJpbmc/IHsgZ2V0IHNldCB9CiAgICBvcGVuIGZ1bmMgbG9jayhiZWZvcmUgbGltaXQ6IERhdGUpIC0+IEJvb2wge30KICAgIG9wZW4gZnVuYyBsb2NrKHdoZW5Db25kaXRpb24gY29uZGl0aW9uOiBJbnQpIHt9CiAgICBvcGVuIGZ1bmMgbG9jayh3aGVuQ29uZGl0aW9uIGNvbmRpdGlvbjogSW50LCBiZWZvcmUgbGltaXQ6IERhdGUpIC0+IEJvb2wge30KICAgIG9wZW4gZnVuYyB0cnkoKSAtPiBCb29sIHt9CiAgICBvcGVuIGZ1bmMgdHJ5TG9jayh3aGVuQ29uZGl0aW9uIGNvbmRpdGlvbjogSW50KSAtPiBCb29sIHt9CiAgICBvcGVuIGZ1bmMgdW5sb2NrKHdpdGhDb25kaXRpb24gY29uZGl0aW9uOiBJbnQpIHt9Cn0Kb3BlbiBjbGFzcyBOU0NvdW50ZWRTZXQgOiBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21SZWZsZWN0YWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TQ29kaW5nLCBOU0NvcHlpbmcsIE5TTXV0YWJsZUNvcHlpbmcsIE5TTXV0YWJsZVNldCwgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wsIE5TU2VjdXJlQ29kaW5nLCBOU1NldCwgU2VxdWVuY2UsIF8sIF9DRkJyaWRnZWFibGUsIF9TdHJ1Y3RUeXBlQnJpZGdlYWJsZSwgX1N3aWZ0QnJpZGdlYWJsZSB7CiAgICBvcGVuIGZ1bmMgY291bnQoZm9yIG9iamVjdDogQW55KSAtPiBJbnQge30KfQpvcGVuIGNsYXNzIE5TRGF0YSA6IEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBEYXRhUHJvdG9jb2wsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TQ29kaW5nLCBOU0NvcHlpbmcsIE5TTXV0YWJsZUNvcHlpbmcsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBOU1NlY3VyZUNvZGluZywgUmFuZG9tQWNjZXNzQ29sbGVjdGlvbiwgXywgX0NGQnJpZGdlYWJsZSwgX0hhc0N1c3RvbUFueUhhc2hhYmxlUmVwcmVzZW50YXRpb24sIF9TdHJ1Y3RUeXBlQnJpZGdlYWJsZSwgX1N3aWZ0QnJpZGdlYWJsZSB7CiAgICBwdWJsaWMgaW5pdD8oYmFzZTY0RW5jb2RlZCBiYXNlNjREYXRhOiBEYXRhLCBvcHRpb25zOiBCYXNlNjREZWNvZGluZ09wdGlvbnMgPSB4KSB7fQogICAgcHVibGljIGluaXQ/KGJhc2U2NEVuY29kZWQgYmFzZTY0U3RyaW5nOiBTdHJpbmcsIG9wdGlvbnM6IEJhc2U2NERlY29kaW5nT3B0aW9ucyA9IHgpIHt9CiAgICBwdWJsaWMgaW5pdChieXRlczogVW5zYWZlUmF3UG9pbnRlcj8sIGxlbmd0aDogSW50KSB7fQogICAgcHVibGljIGluaXQoYnl0ZXNOb0NvcHkgYnl0ZXM6IFVuc2FmZU11dGFibGVSYXdQb2ludGVyLCBsZW5ndGg6IEludCkge30KICAgIHB1YmxpYyBpbml0KGJ5dGVzTm9Db3B5IGJ5dGVzOiBVbnNhZmVNdXRhYmxlUmF3UG9pbnRlciwgbGVuZ3RoOiBJbnQsIGRlYWxsb2NhdG9yOiAoKFVuc2FmZU11dGFibGVSYXdQb2ludGVyLCBJbnQpIC0+IFZvaWQpPyA9IHgpIHt9CiAgICBwdWJsaWMgaW5pdChieXRlc05vQ29weSBieXRlczogVW5zYWZlTXV0YWJsZVJhd1BvaW50ZXIsIGxlbmd0aDogSW50LCBmcmVlV2hlbkRvbmU6IEJvb2wpIHt9CiAgICBwdWJsaWMgaW5pdD8oY29udGVudHNPZiB1cmw6IFVSTCkge30KICAgIHB1YmxpYyBpbml0KGNvbnRlbnRzT2YgdXJsOiBVUkwsIG9wdGlvbnMgcmVhZE9wdGlvbnNNYXNrOiBSZWFkaW5nT3B0aW9ucyA9IHgpIHRocm93cyB7fQogICAgcHVibGljIGluaXQ/KGNvbnRlbnRzT2ZGaWxlIHBhdGg6IFN0cmluZykge30KICAgIHB1YmxpYyBpbml0KGNvbnRlbnRzT2ZGaWxlIHBhdGg6IFN0cmluZywgb3B0aW9ucyByZWFkT3B0aW9uc01hc2s6IFJlYWRpbmdPcHRpb25zID0geCkgdGhyb3dzIHt9CiAgICBwdWJsaWMgaW5pdChkYXRhOiBEYXRhKSB7fQogICAgb3BlbiB2YXIgYnl0ZXM6IFVuc2FmZVJhd1BvaW50ZXIgeyBnZXQgfQogICAgQG5vbm9iamMgcHVibGljIHZhciBlbmRJbmRleDogSW50IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGxlbmd0aDogSW50IHsgZ2V0IH0KICAgIEBub25vYmpjIHB1YmxpYyB2YXIgc3RhcnRJbmRleDogSW50IHsgZ2V0IH0KICAgIEBub25vYmpjIHB1YmxpYyBzdWJzY3JpcHQocG9zaXRpb246IEludCkgLT4gVUludDggeyBnZXQgfSB7fQogICAgb3BlbiBmdW5jIGJhc2U2NEVuY29kZWREYXRhKG9wdGlvbnM6IEJhc2U2NEVuY29kaW5nT3B0aW9ucyA9IHgpIC0+IERhdGEge30KICAgIG9wZW4gZnVuYyBiYXNlNjRFbmNvZGVkU3RyaW5nKG9wdGlvbnM6IEJhc2U2NEVuY29kaW5nT3B0aW9ucyA9IHgpIC0+IFN0cmluZyB7fQogICAgb3BlbiBmdW5jIGVudW1lcmF0ZUJ5dGVzKF8gYmxvY2s6IChVbnNhZmVSYXdQb2ludGVyLCBOU1JhbmdlLCBVbnNhZmVNdXRhYmxlUG9pbnRlcjxCb29sPikgLT4gVm9pZCkge30KICAgIG9wZW4gZnVuYyBnZXRCeXRlcyhfIGJ1ZmZlcjogVW5zYWZlTXV0YWJsZVJhd1BvaW50ZXIsIGxlbmd0aDogSW50KSB7fQogICAgb3BlbiBmdW5jIGdldEJ5dGVzKF8gYnVmZmVyOiBVbnNhZmVNdXRhYmxlUmF3UG9pbnRlciwgcmFuZ2U6IE5TUmFuZ2UpIHt9CiAgICBvcGVuIGZ1bmMgaXNFcXVhbCh0byBvdGhlcjogRGF0YSkgLT4gQm9vbCB7fQogICAgb3BlbiBmdW5jIHJhbmdlKG9mIGRhdGFUb0ZpbmQ6IERhdGEsIG9wdGlvbnMgbWFzazogU2VhcmNoT3B0aW9ucyA9IHgsIGluIHNlYXJjaFJhbmdlOiBOU1JhbmdlKSAtPiBOU1JhbmdlIHt9CiAgICBvcGVuIGZ1bmMgc3ViZGF0YSh3aXRoIHJhbmdlOiBOU1JhbmdlKSAtPiBEYXRhIHt9CiAgICBvcGVuIGZ1bmMgd3JpdGUodG8gdXJsOiBVUkwsIGF0b21pY2FsbHk6IEJvb2wpIC0+IEJvb2wge30KICAgIG9wZW4gZnVuYyB3cml0ZSh0byB1cmw6IFVSTCwgb3B0aW9ucyB3cml0ZU9wdGlvbnNNYXNrOiBXcml0aW5nT3B0aW9ucyA9IHgpIHRocm93cyB7fQogICAgb3BlbiBmdW5jIHdyaXRlKHRvRmlsZSBwYXRoOiBTdHJpbmcsIGF0b21pY2FsbHkgdXNlQXV4aWxpYXJ5RmlsZTogQm9vbCkgLT4gQm9vbCB7fQogICAgb3BlbiBmdW5jIHdyaXRlKHRvRmlsZSBwYXRoOiBTdHJpbmcsIG9wdGlvbnMgd3JpdGVPcHRpb25zTWFzazogV3JpdGluZ09wdGlvbnMgPSB4KSB0aHJvd3Mge30KfQpvcGVuIGNsYXNzIE5TRGF0ZSA6IEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU0NvZGluZywgTlNDb3B5aW5nLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCwgTlNTZWN1cmVDb2RpbmcsIF8sIF9DRkJyaWRnZWFibGUsIF9TdHJ1Y3RUeXBlQnJpZGdlYWJsZSwgX1N3aWZ0QnJpZGdlYWJsZSB7CiAgICBvcGVuIGNsYXNzIHZhciBkaXN0YW50RnV0dXJlOiBEYXRlIHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgdmFyIGRpc3RhbnRQYXN0OiBEYXRlIHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgdmFyIHRpbWVJbnRlcnZhbFNpbmNlUmVmZXJlbmNlRGF0ZTogVGltZUludGVydmFsIHsgZ2V0IH0KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KHRpbWVJbnRlcnZhbCBzZWNzVG9CZUFkZGVkOiBUaW1lSW50ZXJ2YWwsIHNpbmNlIGRhdGU6IERhdGUpIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdCh0aW1lSW50ZXJ2YWxTaW5jZTE5NzAgc2VjczogVGltZUludGVydmFsKSB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQodGltZUludGVydmFsU2luY2VOb3cgc2VjczogVGltZUludGVydmFsKSB7fQogICAgcHVibGljIHJlcXVpcmVkIGluaXQodGltZUludGVydmFsU2luY2VSZWZlcmVuY2VEYXRlIHRpOiBUaW1lSW50ZXJ2YWwpIHt9CiAgICBvcGVuIHZhciB0aW1lSW50ZXJ2YWxTaW5jZTE5NzA6IFRpbWVJbnRlcnZhbCB7IGdldCB9CiAgICBvcGVuIHZhciB0aW1lSW50ZXJ2YWxTaW5jZU5vdzogVGltZUludGVydmFsIHsgZ2V0IH0KICAgIG9wZW4gdmFyIHRpbWVJbnRlcnZhbFNpbmNlUmVmZXJlbmNlRGF0ZTogVGltZUludGVydmFsIHsgZ2V0IH0KICAgIG9wZW4gZnVuYyBhZGRpbmdUaW1lSW50ZXJ2YWwoXyB0aTogVGltZUludGVydmFsKSAtPiBEYXRlIHt9CiAgICBvcGVuIGZ1bmMgY29tcGFyZShfIG90aGVyOiBEYXRlKSAtPiBDb21wYXJpc29uUmVzdWx0IHt9CiAgICBvcGVuIGZ1bmMgZGVzY3JpcHRpb24od2l0aCBsb2NhbGU6IExvY2FsZT8pIC0+IFN0cmluZyB7fQogICAgb3BlbiBmdW5jIGVhcmxpZXJEYXRlKF8gYW5vdGhlckRhdGU6IERhdGUpIC0+IERhdGUge30KICAgIG9wZW4gZnVuYyBpc0VxdWFsKHRvIG90aGVyRGF0ZTogRGF0ZSkgLT4gQm9vbCB7fQogICAgb3BlbiBmdW5jIGxhdGVyRGF0ZShfIGFub3RoZXJEYXRlOiBEYXRlKSAtPiBEYXRlIHt9CiAgICBvcGVuIGZ1bmMgdGltZUludGVydmFsU2luY2UoXyBhbm90aGVyRGF0ZTogRGF0ZSkgLT4gVGltZUludGVydmFsIHt9Cn0Kb3BlbiBjbGFzcyBOU0RhdGVDb21wb25lbnRzIDogQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TQ29kaW5nLCBOU0NvcHlpbmcsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBOU1NlY3VyZUNvZGluZywgXywgX1N0cnVjdFR5cGVCcmlkZ2VhYmxlLCBfU3dpZnRCcmlkZ2VhYmxlIHsKICAgIG9wZW4gdmFyIGNhbGVuZGFyOiBDYWxlbmRhcj8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGRhdGU6IERhdGU/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGRheTogSW50IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBlcmE6IEludCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgaG91cjogSW50IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBpc0xlYXBNb250aDogQm9vbCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgaXNWYWxpZERhdGU6IEJvb2wgeyBnZXQgfQogICAgb3BlbiB2YXIgbWludXRlOiBJbnQgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIG1vbnRoOiBJbnQgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIG5hbm9zZWNvbmQ6IEludCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgcXVhcnRlcjogSW50IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBzZWNvbmQ6IEludCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgdGltZVpvbmU6IFRpbWVab25lPyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgd2Vla09mTW9udGg6IEludCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgd2Vla09mWWVhcjogSW50IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciB3ZWVrZGF5OiBJbnQgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHdlZWtkYXlPcmRpbmFsOiBJbnQgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHllYXI6IEludCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgeWVhckZvcldlZWtPZlllYXI6IEludCB7IGdldCBzZXQgfQogICAgb3BlbiBmdW5jIGlzVmFsaWREYXRlKGluIGNhbGVuZGFyOiBDYWxlbmRhcikgLT4gQm9vbCB7fQogICAgb3BlbiBmdW5jIHNldFZhbHVlKF8gdmFsdWU6IEludCwgZm9yQ29tcG9uZW50IHVuaXQ6IE5TQ2FsZW5kYXIuVW5pdCkge30KICAgIG9wZW4gZnVuYyB2YWx1ZShmb3JDb21wb25lbnQgdW5pdDogTlNDYWxlbmRhci5Vbml0KSAtPiBJbnQge30KfQpvcGVuIGNsYXNzIE5TRGF0ZUludGVydmFsIDogQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TQ29kaW5nLCBOU0NvcHlpbmcsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBOU1NlY3VyZUNvZGluZywgXywgX1N0cnVjdFR5cGVCcmlkZ2VhYmxlIHsKICAgIHB1YmxpYyBpbml0KHN0YXJ0IHN0YXJ0RGF0ZTogRGF0ZSwgZHVyYXRpb246IFRpbWVJbnRlcnZhbCkge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KHN0YXJ0IHN0YXJ0RGF0ZTogRGF0ZSwgZW5kIGVuZERhdGU6IERhdGUpIHt9CiAgICBvcGVuIHZhciBkdXJhdGlvbjogVGltZUludGVydmFsIHsgZ2V0IH0KICAgIG9wZW4gdmFyIGVuZERhdGU6IERhdGUgeyBnZXQgfQogICAgb3BlbiB2YXIgc3RhcnREYXRlOiBEYXRlIHsgZ2V0IH0KICAgIG9wZW4gZnVuYyBjb21wYXJlKF8gZGF0ZUludGVydmFsOiBEYXRlSW50ZXJ2YWwpIC0+IENvbXBhcmlzb25SZXN1bHQge30KICAgIG9wZW4gZnVuYyBjb250YWlucyhfIGRhdGU6IERhdGUpIC0+IEJvb2wge30KICAgIG9wZW4gZnVuYyBpbnRlcnNlY3Rpb24od2l0aCBkYXRlSW50ZXJ2YWw6IERhdGVJbnRlcnZhbCkgLT4gRGF0ZUludGVydmFsPyB7fQogICAgb3BlbiBmdW5jIGludGVyc2VjdHMoXyBkYXRlSW50ZXJ2YWw6IERhdGVJbnRlcnZhbCkgLT4gQm9vbCB7fQogICAgb3BlbiBmdW5jIGlzRXF1YWwodG8gZGF0ZUludGVydmFsOiBEYXRlSW50ZXJ2YWwpIC0+IEJvb2wge30KfQpvcGVuIGNsYXNzIE5TRGVjaW1hbE51bWJlciA6IEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEV4cHJlc3NpYmxlQnlCb29sZWFuTGl0ZXJhbCwgRXhwcmVzc2libGVCeUZsb2F0TGl0ZXJhbCwgRXhwcmVzc2libGVCeUludGVnZXJMaXRlcmFsLCBIYXNoYWJsZSwgTlNDb2RpbmcsIE5TQ29weWluZywgTlNOdW1iZXIsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBOU1NlY3VyZUNvZGluZywgTlNWYWx1ZSwgXywgX0ZhY3RvcnksIF9OU051bWJlckNhc3RpbmdXaXRob3V0QnJpZGdpbmcgewogICAgb3BlbiBjbGFzcyB2YXIgZGVmYXVsdEJlaGF2aW9yOiBOU0RlY2ltYWxOdW1iZXJCZWhhdmlvcnMgeyBnZXQgfQogICAgb3BlbiBjbGFzcyB2YXIgbWF4aW11bTogTlNEZWNpbWFsTnVtYmVyIHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgdmFyIG1pbmltdW06IE5TRGVjaW1hbE51bWJlciB7IGdldCB9CiAgICBvcGVuIGNsYXNzIHZhciBub3RBTnVtYmVyOiBOU0RlY2ltYWxOdW1iZXIgeyBnZXQgfQogICAgb3BlbiBjbGFzcyB2YXIgb25lOiBOU0RlY2ltYWxOdW1iZXIgeyBnZXQgfQogICAgb3BlbiBjbGFzcyB2YXIgemVybzogTlNEZWNpbWFsTnVtYmVyIHsgZ2V0IH0KICAgIHB1YmxpYyBpbml0KGRlY2ltYWwgZGNtOiBEZWNpbWFsKSB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQobWFudGlzc2E6IFVJbnQ2NCwgZXhwb25lbnQ6IEludDE2LCBpc05lZ2F0aXZlOiBCb29sKSB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQoc3RyaW5nIG51bWJlclZhbHVlOiBTdHJpbmc/KSB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQoc3RyaW5nIG51bWJlclZhbHVlOiBTdHJpbmc/LCBsb2NhbGU6IEFueT8pIHt9CiAgICBvcGVuIGZ1bmMgYWRkaW5nKF8gb3RoZXI6IE5TRGVjaW1hbE51bWJlcikgLT4gTlNEZWNpbWFsTnVtYmVyIHt9CiAgICBvcGVuIGZ1bmMgYWRkaW5nKF8gb3RoZXI6IE5TRGVjaW1hbE51bWJlciwgd2l0aEJlaGF2aW9yIGI6IE5TRGVjaW1hbE51bWJlckJlaGF2aW9ycz8pIC0+IE5TRGVjaW1hbE51bWJlciB7fQogICAgb3BlbiBmdW5jIGRpdmlkaW5nKGJ5IG90aGVyOiBOU0RlY2ltYWxOdW1iZXIpIC0+IE5TRGVjaW1hbE51bWJlciB7fQogICAgb3BlbiBmdW5jIGRpdmlkaW5nKGJ5IG90aGVyOiBOU0RlY2ltYWxOdW1iZXIsIHdpdGhCZWhhdmlvciBiOiBOU0RlY2ltYWxOdW1iZXJCZWhhdmlvcnM/KSAtPiBOU0RlY2ltYWxOdW1iZXIge30KICAgIG9wZW4gZnVuYyBtdWx0aXBseWluZyhieSBvdGhlcjogTlNEZWNpbWFsTnVtYmVyKSAtPiBOU0RlY2ltYWxOdW1iZXIge30KICAgIG9wZW4gZnVuYyBtdWx0aXBseWluZyhieSBvdGhlcjogTlNEZWNpbWFsTnVtYmVyLCB3aXRoQmVoYXZpb3IgYjogTlNEZWNpbWFsTnVtYmVyQmVoYXZpb3JzPykgLT4gTlNEZWNpbWFsTnVtYmVyIHt9CiAgICBvcGVuIGZ1bmMgbXVsdGlwbHlpbmcoYnlQb3dlck9mMTAgcG93ZXI6IEludDE2KSAtPiBOU0RlY2ltYWxOdW1iZXIge30KICAgIG9wZW4gZnVuYyBtdWx0aXBseWluZyhieVBvd2VyT2YxMCBwb3dlcjogSW50MTYsIHdpdGhCZWhhdmlvciBiOiBOU0RlY2ltYWxOdW1iZXJCZWhhdmlvcnM/KSAtPiBOU0RlY2ltYWxOdW1iZXIge30KICAgIG9wZW4gZnVuYyByYWlzaW5nKHRvUG93ZXIgcG93ZXI6IEludCkgLT4gTlNEZWNpbWFsTnVtYmVyIHt9CiAgICBvcGVuIGZ1bmMgcmFpc2luZyh0b1Bvd2VyIHBvd2VyOiBJbnQsIHdpdGhCZWhhdmlvciBiOiBOU0RlY2ltYWxOdW1iZXJCZWhhdmlvcnM/KSAtPiBOU0RlY2ltYWxOdW1iZXIge30KICAgIG9wZW4gZnVuYyByb3VuZGluZyhhY2NvcmRpbmdUb0JlaGF2aW9yIGI6IE5TRGVjaW1hbE51bWJlckJlaGF2aW9ycz8pIC0+IE5TRGVjaW1hbE51bWJlciB7fQogICAgb3BlbiBmdW5jIHN1YnRyYWN0aW5nKF8gb3RoZXI6IE5TRGVjaW1hbE51bWJlcikgLT4gTlNEZWNpbWFsTnVtYmVyIHt9CiAgICBvcGVuIGZ1bmMgc3VidHJhY3RpbmcoXyBvdGhlcjogTlNEZWNpbWFsTnVtYmVyLCB3aXRoQmVoYXZpb3IgYjogTlNEZWNpbWFsTnVtYmVyQmVoYXZpb3JzPykgLT4gTlNEZWNpbWFsTnVtYmVyIHt9Cn0Kb3BlbiBjbGFzcyBOU0RlY2ltYWxOdW1iZXJIYW5kbGVyIDogQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TQ29kaW5nLCBOU0RlY2ltYWxOdW1iZXJCZWhhdmlvcnMsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBfIHsKICAgIG9wZW4gY2xhc3MgdmFyIGRlZmF1bHQ6IE5TRGVjaW1hbE51bWJlckhhbmRsZXIgeyBnZXQgfQogICAgcHVibGljIGluaXQocm91bmRpbmdNb2RlOiBOU0RlY2ltYWxOdW1iZXIuUm91bmRpbmdNb2RlLCBzY2FsZTogSW50MTYsIHJhaXNlT25FeGFjdG5lc3MgZXhhY3Q6IEJvb2wsIHJhaXNlT25PdmVyZmxvdyBvdmVyZmxvdzogQm9vbCwgcmFpc2VPblVuZGVyZmxvdyB1bmRlcmZsb3c6IEJvb2wsIHJhaXNlT25EaXZpZGVCeVplcm8gZGl2aWRlQnlaZXJvOiBCb29sKSB7fQp9Cm9wZW4gY2xhc3MgTlNEaWN0aW9uYXJ5IDogQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tUmVmbGVjdGFibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEV4cHJlc3NpYmxlQnlEaWN0aW9uYXJ5TGl0ZXJhbCwgSGFzaGFibGUsIE5TQ29kaW5nLCBOU0NvcHlpbmcsIE5TTXV0YWJsZUNvcHlpbmcsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBOU1NlY3VyZUNvZGluZywgU2VxdWVuY2UsIF8sIF9DRkJyaWRnZWFibGUsIF9TdHJ1Y3RUeXBlQnJpZGdlYWJsZSwgX1N3aWZ0QnJpZGdlYWJsZSB7CiAgICBvcGVuIGNsYXNzIGZ1bmMgc2hhcmVkS2V5U2V0KGZvcktleXMga2V5czogW05TQ29weWluZ10pIC0+IEFueSB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQoZGljdGlvbmFyeSBvdGhlckRpY3Rpb25hcnk6IFtBbnlIYXNoYWJsZTogQW55XSkge30KICAgIHB1YmxpYyByZXF1aXJlZCBjb252ZW5pZW5jZSBpbml0KGRpY3Rpb25hcnlMaXRlcmFsIGVsZW1lbnRzOiAoQW55LCBBbnkpLi4uKSB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQob2JqZWN0OiBBbnksIGZvcktleSBrZXk6IE5TQ29weWluZykge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KG9iamVjdHM6IFtBbnldLCBmb3JLZXlzIGtleXM6IFtOU09iamVjdF0pIHt9CiAgICBwdWJsaWMgcmVxdWlyZWQgaW5pdChvYmplY3RzOiBVbnNhZmVQb2ludGVyPEFueU9iamVjdD4hLCBmb3JLZXlzIGtleXM6IFVuc2FmZVBvaW50ZXI8TlNPYmplY3Q+ISwgY291bnQgY250OiBJbnQpIHt9CiAgICBvcGVuIHZhciBhbGxLZXlzOiBbQW55XSB7IGdldCB9CiAgICBvcGVuIHZhciBhbGxWYWx1ZXM6IFtBbnldIHsgZ2V0IH0KICAgIG9wZW4gdmFyIGNvdW50OiBJbnQgeyBnZXQgfQogICAgcHVibGljIHZhciBjdXN0b21NaXJyb3I6IE1pcnJvciB7IGdldCB9CiAgICBvcGVuIHZhciBkZXNjcmlwdGlvbkluU3RyaW5nc0ZpbGVGb3JtYXQ6IFN0cmluZyB7IGdldCB9CiAgICBvcGVuIHN1YnNjcmlwdChrZXk6IEFueSkgLT4gQW55PyB7IGdldCB9IHt9CiAgICBvcGVuIGZ1bmMgYWxsS2V5cyhmb3IgYW5PYmplY3Q6IEFueSkgLT4gW0FueV0ge30KICAgIG9wZW4gZnVuYyBkZXNjcmlwdGlvbih3aXRoTG9jYWxlIGxvY2FsZTogTG9jYWxlPykgLT4gU3RyaW5nIHt9CiAgICBvcGVuIGZ1bmMgZGVzY3JpcHRpb24od2l0aExvY2FsZSBsb2NhbGU6IExvY2FsZT8sIGluZGVudCBsZXZlbDogSW50KSAtPiBTdHJpbmcge30KICAgIG9wZW4gZnVuYyBlbnVtZXJhdGVLZXlzQW5kT2JqZWN0cyhfIGJsb2NrOiAoQW55LCBBbnksIFVuc2FmZU11dGFibGVQb2ludGVyPE9iakNCb29sPikgLT4gU3dpZnQuVm9pZCkge30KICAgIG9wZW4gZnVuYyBlbnVtZXJhdGVLZXlzQW5kT2JqZWN0cyhvcHRpb25zIG9wdHM6IE5TRW51bWVyYXRpb25PcHRpb25zID0geCwgdXNpbmcgYmxvY2s6IChBbnksIEFueSwgVW5zYWZlTXV0YWJsZVBvaW50ZXI8T2JqQ0Jvb2w+KSAtPiBWb2lkKSB7fQogICAgb3BlbiBmdW5jIGdldE9iamVjdHMoXyBvYmplY3RzOiBpbm91dCBbQW55XSwgYW5kS2V5cyBrZXlzOiBpbm91dCBbQW55XSwgY291bnQ6IEludCkge30KICAgIG9wZW4gZnVuYyBpc0VxdWFsKHRvIG90aGVyRGljdGlvbmFyeTogW0FueUhhc2hhYmxlOiBBbnldKSAtPiBCb29sIHt9CiAgICBvcGVuIGZ1bmMga2V5RW51bWVyYXRvcigpIC0+IE5TRW51bWVyYXRvciB7fQogICAgb3BlbiBmdW5jIGtleXNPZkVudHJpZXMob3B0aW9ucyBvcHRzOiBOU0VudW1lcmF0aW9uT3B0aW9ucyA9IHgsIHBhc3NpbmdUZXN0IHByZWRpY2F0ZTogKEFueSwgQW55LCBVbnNhZmVNdXRhYmxlUG9pbnRlcjxPYmpDQm9vbD4pIC0+IEJvb2wpIC0+IFNldDxBbnlIYXNoYWJsZT4ge30KICAgIG9wZW4gZnVuYyBrZXlzT2ZFbnRyaWVzKHBhc3NpbmdUZXN0IHByZWRpY2F0ZTogKEFueSwgQW55LCBVbnNhZmVNdXRhYmxlUG9pbnRlcjxPYmpDQm9vbD4pIC0+IEJvb2wpIC0+IFNldDxBbnlIYXNoYWJsZT4ge30KICAgIG9wZW4gZnVuYyBrZXlzU29ydGVkQnlWYWx1ZShjb21wYXJhdG9yIGNtcHRyOiAoQW55LCBBbnkpIC0+IENvbXBhcmlzb25SZXN1bHQpIC0+IFtBbnldIHt9CiAgICBvcGVuIGZ1bmMga2V5c1NvcnRlZEJ5VmFsdWUob3B0aW9ucyBvcHRzOiBOU1NvcnRPcHRpb25zID0geCwgdXNpbmdDb21wYXJhdG9yIGNtcHRyOiAoQW55LCBBbnkpIC0+IENvbXBhcmlzb25SZXN1bHQpIC0+IFtBbnldIHt9CiAgICBwdWJsaWMgZnVuYyBtYWtlSXRlcmF0b3IoKSAtPiBJdGVyYXRvciB7fQogICAgb3BlbiBmdW5jIG9iamVjdChmb3JLZXkgYUtleTogQW55KSAtPiBBbnk/IHt9CiAgICBvcGVuIGZ1bmMgb2JqZWN0RW51bWVyYXRvcigpIC0+IE5TRW51bWVyYXRvciB7fQogICAgb3BlbiBmdW5jIG9iamVjdHMoZm9yS2V5cyBrZXlzOiBbQW55XSwgbm90Rm91bmRNYXJrZXIgbWFya2VyOiBBbnkpIC0+IFtBbnldIHt9CiAgICBvcGVuIGZ1bmMgdmFsdWUoZm9yS2V5IGtleTogU3RyaW5nKSAtPiBBbnk/IHt9CiAgICBvcGVuIGZ1bmMgd3JpdGUodG8gdXJsOiBVUkwsIGF0b21pY2FsbHk6IEJvb2wpIC0+IEJvb2wge30KICAgIG9wZW4gZnVuYyB3cml0ZSh0b0ZpbGUgcGF0aDogU3RyaW5nLCBhdG9taWNhbGx5IHVzZUF1eGlsaWFyeUZpbGU6IEJvb2wpIC0+IEJvb2wge30KfQpvcGVuIGNsYXNzIE5TRW51bWVyYXRvciA6IEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCwgU2VxdWVuY2UsIF8gewogICAgcHVibGljIHZhciBhbGxPYmplY3RzOiBbQW55XSB7IGdldCB9CiAgICBwdWJsaWMgZnVuYyBtYWtlSXRlcmF0b3IoKSAtPiBJdGVyYXRvciB7fQogICAgb3BlbiBmdW5jIG5leHRPYmplY3QoKSAtPiBBbnk/IHt9Cn0Kb3BlbiBjbGFzcyBOU0Vycm9yIDogQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TQ29kaW5nLCBOU0NvcHlpbmcsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBOU1NlY3VyZUNvZGluZywgU3dpZnQuRXJyb3IsIF8sIF9DRkJyaWRnZWFibGUgewogICAgb3BlbiBjbGFzcyBmdW5jIHNldFVzZXJJbmZvVmFsdWVQcm92aWRlcihmb3JEb21haW4gZXJyb3JEb21haW46IFN0cmluZywgcHJvdmlkZXI6ICgoRXJyb3IsIFN0cmluZykgLT4gQW55Pyk/KSB7fQogICAgb3BlbiBjbGFzcyBmdW5jIHVzZXJJbmZvVmFsdWVQcm92aWRlcihmb3JEb21haW4gZXJyb3JEb21haW46IFN0cmluZykgLT4gKChFcnJvciwgU3RyaW5nKSAtPiBBbnk/KT8ge30KICAgIHB1YmxpYyBpbml0KGRvbWFpbjogU3RyaW5nLCBjb2RlOiBJbnQsIHVzZXJJbmZvIGRpY3Q6IFtTdHJpbmc6IEFueV0/ID0geCkge30KICAgIG9wZW4gdmFyIGNvZGU6IEludCB7IGdldCB9CiAgICBvcGVuIHZhciBkb21haW46IFN0cmluZyB7IGdldCB9CiAgICBvcGVuIHZhciBoZWxwQW5jaG9yOiBTdHJpbmc/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGxvY2FsaXplZERlc2NyaXB0aW9uOiBTdHJpbmcgeyBnZXQgfQogICAgb3BlbiB2YXIgbG9jYWxpemVkRmFpbHVyZVJlYXNvbjogU3RyaW5nPyB7IGdldCB9CiAgICBvcGVuIHZhciBsb2NhbGl6ZWRSZWNvdmVyeU9wdGlvbnM6IFtTdHJpbmddPyB7IGdldCB9CiAgICBvcGVuIHZhciBsb2NhbGl6ZWRSZWNvdmVyeVN1Z2dlc3Rpb246IFN0cmluZz8geyBnZXQgfQogICAgb3BlbiB2YXIgcmVjb3ZlcnlBdHRlbXB0ZXI6IEFueT8geyBnZXQgfQogICAgb3BlbiB2YXIgdXNlckluZm86IFtTdHJpbmc6IEFueV0geyBnZXQgfQp9Cm9wZW4gY2xhc3MgTlNFeHByZXNzaW9uIDogQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TQ29kaW5nLCBOU0NvcHlpbmcsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBOU1NlY3VyZUNvZGluZywgXyB7CiAgICBvcGVuIGNsYXNzIGZ1bmMgZXhwcmVzc2lvbkZvckFueUtleSgpIC0+IE5TRXhwcmVzc2lvbiB7fQogICAgb3BlbiBjbGFzcyBmdW5jIGV4cHJlc3Npb25Gb3JFdmFsdWF0ZWRPYmplY3QoKSAtPiBOU0V4cHJlc3Npb24ge30KICAgIHB1YmxpYyBpbml0KGJsb2NrOiBAZXNjYXBpbmcgKEFueT8sIFtBbnldLCBOU011dGFibGVEaWN0aW9uYXJ5PykgLT4gQW55LCBhcmd1bWVudHM6IFtOU0V4cHJlc3Npb25dPykge30KICAgIHB1YmxpYyBpbml0KGV4cHJlc3Npb25UeXBlIHR5cGU6IEV4cHJlc3Npb25UeXBlKSB7fQogICAgcHVibGljIGluaXQoZm9yQWdncmVnYXRlIHN1YmV4cHJlc3Npb25zOiBbQW55XSkge30KICAgIHB1YmxpYyBpbml0KGZvckNvbmRpdGlvbmFsIHByZWRpY2F0ZTogQW55LCB0cnVlRXhwcmVzc2lvbjogTlNFeHByZXNzaW9uLCBmYWxzZUV4cHJlc3Npb246IE5TRXhwcmVzc2lvbikge30KICAgIHB1YmxpYyBpbml0KGZvckNvbnN0YW50VmFsdWUgb2JqOiBBbnk/KSB7fQogICAgcHVibGljIGluaXQoZm9yRnVuY3Rpb24gbmFtZTogU3RyaW5nLCBhcmd1bWVudHMgcGFyYW1ldGVyczogW0FueV0pIHt9CiAgICBwdWJsaWMgaW5pdChmb3JGdW5jdGlvbiB0YXJnZXQ6IE5TRXhwcmVzc2lvbiwgc2VsZWN0b3JOYW1lIG5hbWU6IFN0cmluZywgYXJndW1lbnRzIHBhcmFtZXRlcnM6IFtBbnldPykge30KICAgIHB1YmxpYyBpbml0KGZvckludGVyc2VjdFNldCBsZWZ0OiBOU0V4cHJlc3Npb24sIHdpdGggcmlnaHQ6IE5TRXhwcmVzc2lvbikge30KICAgIHB1YmxpYyBpbml0KGZvcktleVBhdGgga2V5UGF0aDogU3RyaW5nKSB7fQogICAgcHVibGljIGluaXQoZm9yTWludXNTZXQgbGVmdDogTlNFeHByZXNzaW9uLCB3aXRoIHJpZ2h0OiBOU0V4cHJlc3Npb24pIHt9CiAgICBwdWJsaWMgaW5pdChmb3JTdWJxdWVyeSBleHByZXNzaW9uOiBOU0V4cHJlc3Npb24sIHVzaW5nSXRlcmF0b3JWYXJpYWJsZSB2YXJpYWJsZTogU3RyaW5nLCBwcmVkaWNhdGU6IEFueSkge30KICAgIHB1YmxpYyBpbml0KGZvclVuaW9uU2V0IGxlZnQ6IE5TRXhwcmVzc2lvbiwgd2l0aCByaWdodDogTlNFeHByZXNzaW9uKSB7fQogICAgcHVibGljIGluaXQoZm9yVmFyaWFibGUgc3RyaW5nOiBTdHJpbmcpIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdChmb3JtYXQgZXhwcmVzc2lvbkZvcm1hdDogU3RyaW5nLCBfIGFyZ3M6IENWYXJBcmcuLi4pIHt9CiAgICBwdWJsaWMgaW5pdChmb3JtYXQgZXhwcmVzc2lvbkZvcm1hdDogU3RyaW5nLCBhcmd1bWVudEFycmF5IGFyZ3VtZW50czogW0FueV0pIHt9CiAgICBwdWJsaWMgaW5pdChmb3JtYXQgZXhwcmVzc2lvbkZvcm1hdDogU3RyaW5nLCBhcmd1bWVudHMgYXJnTGlzdDogQ1ZhTGlzdFBvaW50ZXIpIHt9CiAgICBvcGVuIHZhciBhcmd1bWVudHM6IFtOU0V4cHJlc3Npb25dPyB7IGdldCB9CiAgICBvcGVuIHZhciBjb2xsZWN0aW9uOiBBbnkgeyBnZXQgfQogICAgb3BlbiB2YXIgY29uc3RhbnRWYWx1ZTogQW55IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGV4cHJlc3Npb25CbG9jazogKEFueT8sIFtBbnldLCBOU011dGFibGVEaWN0aW9uYXJ5PykgLT4gQW55IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGV4cHJlc3Npb25UeXBlOiBFeHByZXNzaW9uVHlwZSB7IGdldCB9CiAgICBvcGVuIHZhciBmYWxzZTogTlNFeHByZXNzaW9uIHsgZ2V0IH0KICAgIG9wZW4gdmFyIGZ1bmN0aW9uOiBTdHJpbmcgeyBnZXQgfQogICAgb3BlbiB2YXIga2V5UGF0aDogU3RyaW5nIHsgZ2V0IH0KICAgIG9wZW4gdmFyIGxlZnQ6IE5TRXhwcmVzc2lvbiB7IGdldCB9CiAgICBvcGVuIHZhciBvcGVyYW5kOiBOU0V4cHJlc3Npb24geyBnZXQgfQogICAgb3BlbiB2YXIgcHJlZGljYXRlOiBOU1ByZWRpY2F0ZSB7IGdldCB9CiAgICBvcGVuIHZhciByaWdodDogTlNFeHByZXNzaW9uIHsgZ2V0IH0KICAgIG9wZW4gdmFyIHRydWU6IE5TRXhwcmVzc2lvbiB7IGdldCB9CiAgICBvcGVuIHZhciB2YXJpYWJsZTogU3RyaW5nIHsgZ2V0IH0KICAgIG9wZW4gZnVuYyBhbGxvd0V2YWx1YXRpb24oKSB7fQogICAgb3BlbiBmdW5jIGV4cHJlc3Npb25WYWx1ZSh3aXRoIG9iamVjdDogQW55PywgY29udGV4dDogTlNNdXRhYmxlRGljdGlvbmFyeT8pIC0+IEFueT8ge30KfQpvcGVuIGNsYXNzIE5TSW5kZXhQYXRoIDogQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TQ29kaW5nLCBOU0NvcHlpbmcsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBOU1NlY3VyZUNvZGluZywgXywgX0hhc0N1c3RvbUFueUhhc2hhYmxlUmVwcmVzZW50YXRpb24sIF9TdHJ1Y3RUeXBlQnJpZGdlYWJsZSB7CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdChpbmRleDogSW50KSB7fQogICAgcHVibGljIGluaXQoaW5kZXhlczogVW5zYWZlUG9pbnRlcjxJbnQ+PywgbGVuZ3RoOiBJbnQpIHt9CiAgICBvcGVuIHZhciBsZW5ndGg6IEludCB7IGdldCB9CiAgICBvcGVuIGZ1bmMgYWRkaW5nKF8gaW5kZXg6IEludCkgLT4gSW5kZXhQYXRoIHt9CiAgICBvcGVuIGZ1bmMgY29tcGFyZShfIG90aGVyT2JqZWN0OiBJbmRleFBhdGgpIC0+IENvbXBhcmlzb25SZXN1bHQge30KICAgIG9wZW4gZnVuYyBnZXRJbmRleGVzKF8gaW5kZXhlczogVW5zYWZlTXV0YWJsZVBvaW50ZXI8SW50PiwgcmFuZ2UgcG9zaXRpb25SYW5nZTogTlNSYW5nZSkge30KICAgIG9wZW4gZnVuYyBpbmRleChhdFBvc2l0aW9uIHBvc2l0aW9uOiBJbnQpIC0+IEludCB7fQogICAgb3BlbiBmdW5jIHJlbW92aW5nTGFzdEluZGV4KCkgLT4gSW5kZXhQYXRoIHt9Cn0Kb3BlbiBjbGFzcyBOU0luZGV4U2V0IDogQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TQ29kaW5nLCBOU0NvcHlpbmcsIE5TTXV0YWJsZUNvcHlpbmcsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBOU1NlY3VyZUNvZGluZywgU2VxdWVuY2UsIF8sIF9IYXNDdXN0b21BbnlIYXNoYWJsZVJlcHJlc2VudGF0aW9uLCBfU3RydWN0VHlwZUJyaWRnZWFibGUgewogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQoaW5kZXggdmFsdWU6IEludCkge30KICAgIHB1YmxpYyBpbml0KGluZGV4U2V0OiBJbmRleFNldCkge30KICAgIHB1YmxpYyBpbml0KGluZGV4ZXNJbiByYW5nZTogTlNSYW5nZSkge30KICAgIG9wZW4gdmFyIGNvdW50OiBJbnQgeyBnZXQgfQogICAgb3BlbiB2YXIgZmlyc3RJbmRleDogSW50IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGxhc3RJbmRleDogSW50IHsgZ2V0IH0KICAgIG9wZW4gZnVuYyBjb250YWlucyhfIGluZGV4U2V0OiBJbmRleFNldCkgLT4gQm9vbCB7fQogICAgb3BlbiBmdW5jIGNvbnRhaW5zKGluIHJhbmdlOiBOU1JhbmdlKSAtPiBCb29sIHt9CiAgICBvcGVuIGZ1bmMgY291bnRPZkluZGV4ZXMoaW4gcmFuZ2U6IE5TUmFuZ2UpIC0+IEludCB7fQogICAgb3BlbiBmdW5jIGVudW1lcmF0ZShfIGJsb2NrOiAoSW50LCBVbnNhZmVNdXRhYmxlUG9pbnRlcjxPYmpDQm9vbD4pIC0+IFZvaWQpIHt9CiAgICBvcGVuIGZ1bmMgZW51bWVyYXRlKGluIHJhbmdlOiBOU1JhbmdlLCBvcHRpb25zIG9wdHM6IE5TRW51bWVyYXRpb25PcHRpb25zID0geCwgdXNpbmcgYmxvY2s6IChJbnQsIFVuc2FmZU11dGFibGVQb2ludGVyPE9iakNCb29sPikgLT4gVm9pZCkge30KICAgIG9wZW4gZnVuYyBlbnVtZXJhdGUob3B0aW9ucyBvcHRzOiBOU0VudW1lcmF0aW9uT3B0aW9ucyA9IHgsIHVzaW5nIGJsb2NrOiAoSW50LCBVbnNhZmVNdXRhYmxlUG9pbnRlcjxPYmpDQm9vbD4pIC0+IFZvaWQpIHt9CiAgICBvcGVuIGZ1bmMgZW51bWVyYXRlUmFuZ2VzKF8gYmxvY2s6IChOU1JhbmdlLCBVbnNhZmVNdXRhYmxlUG9pbnRlcjxPYmpDQm9vbD4pIC0+IFZvaWQpIHt9CiAgICBvcGVuIGZ1bmMgZW51bWVyYXRlUmFuZ2VzKGluIHJhbmdlOiBOU1JhbmdlLCBvcHRpb25zIG9wdHM6IE5TRW51bWVyYXRpb25PcHRpb25zID0geCwgdXNpbmcgYmxvY2s6IChOU1JhbmdlLCBVbnNhZmVNdXRhYmxlUG9pbnRlcjxPYmpDQm9vbD4pIC0+IFZvaWQpIHt9CiAgICBvcGVuIGZ1bmMgZW51bWVyYXRlUmFuZ2VzKG9wdGlvbnMgb3B0czogTlNFbnVtZXJhdGlvbk9wdGlvbnMgPSB4LCB1c2luZyBibG9jazogKE5TUmFuZ2UsIFVuc2FmZU11dGFibGVQb2ludGVyPE9iakNCb29sPikgLT4gVm9pZCkge30KICAgIG9wZW4gZnVuYyBnZXRJbmRleGVzKF8gaW5kZXhCdWZmZXI6IFVuc2FmZU11dGFibGVQb2ludGVyPEludD4sIG1heENvdW50IGJ1ZmZlclNpemU6IEludCwgaW5JbmRleFJhbmdlIHJhbmdlOiBOU1JhbmdlUG9pbnRlcj8pIC0+IEludCB7fQogICAgb3BlbiBmdW5jIGluZGV4KGluIHJhbmdlOiBOU1JhbmdlLCBvcHRpb25zIG9wdHM6IE5TRW51bWVyYXRpb25PcHRpb25zID0geCwgcGFzc2luZ1Rlc3QgcHJlZGljYXRlOiAoSW50LCBVbnNhZmVNdXRhYmxlUG9pbnRlcjxPYmpDQm9vbD4pIC0+IEJvb2wpIC0+IEludCB7fQogICAgb3BlbiBmdW5jIGluZGV4KG9wdGlvbnMgb3B0czogTlNFbnVtZXJhdGlvbk9wdGlvbnMgPSB4LCBwYXNzaW5nVGVzdCBwcmVkaWNhdGU6IChJbnQsIFVuc2FmZU11dGFibGVQb2ludGVyPE9iakNCb29sPikgLT4gQm9vbCkgLT4gSW50IHt9CiAgICBvcGVuIGZ1bmMgaW5kZXgocGFzc2luZ1Rlc3QgcHJlZGljYXRlOiAoSW50LCBVbnNhZmVNdXRhYmxlUG9pbnRlcjxPYmpDQm9vbD4pIC0+IEJvb2wpIC0+IEludCB7fQogICAgb3BlbiBmdW5jIGluZGV4R3JlYXRlclRoYW5JbmRleChfIHZhbHVlOiBJbnQpIC0+IEludCB7fQogICAgb3BlbiBmdW5jIGluZGV4R3JlYXRlclRoYW5PckVxdWFsKHRvIHZhbHVlOiBJbnQpIC0+IEludCB7fQogICAgb3BlbiBmdW5jIGluZGV4TGVzc1RoYW5JbmRleChfIHZhbHVlOiBJbnQpIC0+IEludCB7fQogICAgb3BlbiBmdW5jIGluZGV4TGVzc1RoYW5PckVxdWFsKHRvIHZhbHVlOiBJbnQpIC0+IEludCB7fQogICAgb3BlbiBmdW5jIGluZGV4ZXMoaW4gcmFuZ2U6IE5TUmFuZ2UsIG9wdGlvbnMgb3B0czogTlNFbnVtZXJhdGlvbk9wdGlvbnMgPSB4LCBwYXNzaW5nVGVzdCBwcmVkaWNhdGU6IChJbnQsIFVuc2FmZU11dGFibGVQb2ludGVyPE9iakNCb29sPikgLT4gQm9vbCkgLT4gSW5kZXhTZXQge30KICAgIG9wZW4gZnVuYyBpbmRleGVzKG9wdGlvbnMgb3B0czogTlNFbnVtZXJhdGlvbk9wdGlvbnMgPSB4LCBwYXNzaW5nVGVzdCBwcmVkaWNhdGU6IChJbnQsIFVuc2FmZU11dGFibGVQb2ludGVyPE9iakNCb29sPikgLT4gQm9vbCkgLT4gSW5kZXhTZXQge30KICAgIG9wZW4gZnVuYyBpbmRleGVzKHBhc3NpbmdUZXN0IHByZWRpY2F0ZTogKEludCwgVW5zYWZlTXV0YWJsZVBvaW50ZXI8T2JqQ0Jvb2w+KSAtPiBCb29sKSAtPiBJbmRleFNldCB7fQogICAgb3BlbiBmdW5jIGludGVyc2VjdHMoaW4gcmFuZ2U6IE5TUmFuZ2UpIC0+IEJvb2wge30KICAgIG9wZW4gZnVuYyBpc0VxdWFsKHRvIGluZGV4U2V0OiBJbmRleFNldCkgLT4gQm9vbCB7fQogICAgcHVibGljIGZ1bmMgbWFrZUl0ZXJhdG9yKCkgLT4gTlNJbmRleFNldEl0ZXJhdG9yIHt9Cn0Kb3BlbiBjbGFzcyBOU0tleWVkQXJjaGl2ZXIgOiBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNDb2RlciwgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wsIF8gewogICAgb3BlbiBjbGFzcyBmdW5jIGFyY2hpdmVSb290T2JqZWN0KF8gcm9vdE9iamVjdDogQW55LCB0b0ZpbGUgcGF0aDogU3RyaW5nKSAtPiBCb29sIHt9CiAgICBvcGVuIGNsYXNzIGZ1bmMgYXJjaGl2ZWREYXRhKHdpdGhSb290T2JqZWN0IHJvb3RPYmplY3Q6IEFueSkgLT4gRGF0YSB7fQogICAgb3BlbiBjbGFzcyBmdW5jIGNsYXNzTmFtZUZvckNsYXNzKF8gY2xzOiBBbnlDbGFzcykgLT4gU3RyaW5nPyB7fQogICAgb3BlbiBjbGFzcyBmdW5jIHNldENsYXNzTmFtZShfIGNvZGVkTmFtZTogU3RyaW5nPywgZm9yIGNsczogQW55Q2xhc3MpIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdChmb3JXcml0aW5nV2l0aCBkYXRhOiBOU011dGFibGVEYXRhKSB7fQogICAgb3BlbiB3ZWFrIHZhciBkZWxlZ2F0ZTogTlNLZXllZEFyY2hpdmVyRGVsZWdhdGU/IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBlbmNvZGVkRGF0YTogRGF0YSB7IGdldCB9CiAgICBvcGVuIHZhciBvdXRwdXRGb3JtYXQgeyBnZXQgfQogICAgb3BlbiBmdW5jIGNsYXNzTmFtZUZvckNsYXNzKF8gY2xzOiBBbnlDbGFzcykgLT4gU3RyaW5nPyB7fQogICAgb3BlbiBmdW5jIGVuY29kZVByb3BlcnR5TGlzdChfIGFQcm9wZXJ0eUxpc3Q6IEFueSwgZm9yS2V5IGtleTogU3RyaW5nKSB7fQogICAgb3BlbiBmdW5jIGZpbmlzaEVuY29kaW5nKCkge30KICAgIG9wZW4gZnVuYyBzZXRDbGFzc05hbWUoXyBjb2RlZE5hbWU6IFN0cmluZz8sIGZvciBjbHM6IEFueUNsYXNzKSB7fQp9Cm9wZW4gY2xhc3MgTlNLZXllZFVuYXJjaGl2ZXIgOiBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNDb2RlciwgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wsIF8gewogICAgb3BlbiBjbGFzcyBmdW5jIGNsYXNzKGZvckNsYXNzTmFtZSBjb2RlZE5hbWU6IFN0cmluZykgLT4gQW55Q2xhc3M/IHt9CiAgICBvcGVuIGNsYXNzIGZ1bmMgc2V0Q2xhc3MoXyBjbHM6IEFueUNsYXNzPywgZm9yQ2xhc3NOYW1lIGNvZGVkTmFtZTogU3RyaW5nKSB7fQogICAgb3BlbiBjbGFzcyBmdW5jIHVuYXJjaGl2ZU9iamVjdCh3aXRoIGRhdGE6IERhdGEpIC0+IEFueT8ge30KICAgIG9wZW4gY2xhc3MgZnVuYyB1bmFyY2hpdmVPYmplY3Qod2l0aEZpbGUgcGF0aDogU3RyaW5nKSAtPiBBbnk/IHt9CiAgICBvcGVuIGNsYXNzIGZ1bmMgdW5hcmNoaXZlVG9wTGV2ZWxPYmplY3RXaXRoRGF0YShfIGRhdGE6IERhdGEpIHRocm93cyAtPiBBbnk/IHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdChmb3JSZWFkaW5nV2l0aCBkYXRhOiBEYXRhKSB7fQogICAgb3BlbiB3ZWFrIHZhciBkZWxlZ2F0ZTogTlNLZXllZFVuYXJjaGl2ZXJEZWxlZ2F0ZT8geyBnZXQgc2V0IH0KICAgIG9wZW4gZnVuYyBjbGFzcyhmb3JDbGFzc05hbWUgY29kZWROYW1lOiBTdHJpbmcpIC0+IEFueUNsYXNzPyB7fQogICAgb3BlbiBmdW5jIGZpbmlzaERlY29kaW5nKCkge30KICAgIG9wZW4gZnVuYyBzZXRDbGFzcyhfIGNsczogQW55Q2xhc3M/LCBmb3JDbGFzc05hbWUgY29kZWROYW1lOiBTdHJpbmcpIHt9Cn0Kb3BlbiBjbGFzcyBOU0xvY2FsZSA6IEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU0NvZGluZywgTlNDb3B5aW5nLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCwgTlNTZWN1cmVDb2RpbmcsIF8sIF9TdHJ1Y3RUeXBlQnJpZGdlYWJsZSwgX1N3aWZ0QnJpZGdlYWJsZSB7CiAgICBvcGVuIGNsYXNzIHZhciBhdmFpbGFibGVMb2NhbGVJZGVudGlmaWVyczogW1N0cmluZ10geyBnZXQgfQogICAgb3BlbiBjbGFzcyB2YXIgY29tbW9uSVNPQ3VycmVuY3lDb2RlczogW1N0cmluZ10geyBnZXQgfQogICAgb3BlbiBjbGFzcyB2YXIgY3VycmVudDogTG9jYWxlIHsgZ2V0IH0KICAgIHB1YmxpYyBzdGF0aWMgdmFyIGN1cnJlbnRMb2NhbGVEaWRDaGFuZ2VOb3RpZmljYXRpb24geyBnZXQgfQogICAgb3BlbiBjbGFzcyB2YXIgaXNvQ291bnRyeUNvZGVzOiBbU3RyaW5nXSB7IGdldCB9CiAgICBvcGVuIGNsYXNzIHZhciBpc29DdXJyZW5jeUNvZGVzOiBbU3RyaW5nXSB7IGdldCB9CiAgICBvcGVuIGNsYXNzIHZhciBpc29MYW5ndWFnZUNvZGVzOiBbU3RyaW5nXSB7IGdldCB9CiAgICBvcGVuIGNsYXNzIHZhciBwcmVmZXJyZWRMYW5ndWFnZXM6IFtTdHJpbmddIHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgdmFyIHN5c3RlbTogTG9jYWxlIHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgZnVuYyBjYW5vbmljYWxMYW5ndWFnZUlkZW50aWZpZXIoZnJvbSBzdHJpbmc6IFN0cmluZykgLT4gU3RyaW5nIHt9CiAgICBvcGVuIGNsYXNzIGZ1bmMgY2Fub25pY2FsTG9jYWxlSWRlbnRpZmllcihmcm9tIHN0cmluZzogU3RyaW5nKSAtPiBTdHJpbmcge30KICAgIG9wZW4gY2xhc3MgZnVuYyBjaGFyYWN0ZXJEaXJlY3Rpb24oZm9yTGFuZ3VhZ2UgaXNvTGFuZ0NvZGU6IFN0cmluZykgLT4gTlNMb2NhbGUuTGFuZ3VhZ2VEaXJlY3Rpb24ge30KICAgIG9wZW4gY2xhc3MgZnVuYyBjb21wb25lbnRzKGZyb21Mb2NhbGVJZGVudGlmaWVyIHN0cmluZzogU3RyaW5nKSAtPiBbU3RyaW5nOiBTdHJpbmddIHt9CiAgICBvcGVuIGNsYXNzIGZ1bmMgbGluZURpcmVjdGlvbihmb3JMYW5ndWFnZSBpc29MYW5nQ29kZTogU3RyaW5nKSAtPiBOU0xvY2FsZS5MYW5ndWFnZURpcmVjdGlvbiB7fQogICAgb3BlbiBjbGFzcyBmdW5jIGxvY2FsZUlkZW50aWZpZXIoZnJvbUNvbXBvbmVudHMgZGljdDogW1N0cmluZzogU3RyaW5nXSkgLT4gU3RyaW5nIHt9CiAgICBvcGVuIGNsYXNzIGZ1bmMgbG9jYWxlSWRlbnRpZmllcihmcm9tV2luZG93c0xvY2FsZUNvZGUgbGNpZDogVUludDMyKSAtPiBTdHJpbmc/IHt9CiAgICBvcGVuIGNsYXNzIGZ1bmMgd2luZG93c0xvY2FsZUNvZGUoZnJvbUxvY2FsZUlkZW50aWZpZXIgbG9jYWxlSWRlbnRpZmllcjogU3RyaW5nKSAtPiBVSW50MzIge30KICAgIHB1YmxpYyBpbml0KGxvY2FsZUlkZW50aWZpZXIgc3RyaW5nOiBTdHJpbmcpIHt9CiAgICBwdWJsaWMgdmFyIGxvY2FsZUlkZW50aWZpZXI6IFN0cmluZyB7IGdldCB9CiAgICBvcGVuIGZ1bmMgZGlzcGxheU5hbWUoZm9yS2V5IGtleTogS2V5LCB2YWx1ZTogU3RyaW5nKSAtPiBTdHJpbmc/IHt9CiAgICBvcGVuIGZ1bmMgb2JqZWN0KGZvcktleSBrZXk6IE5TTG9jYWxlLktleSkgLT4gQW55PyB7fQp9Cm9wZW4gY2xhc3MgTlNMb2NrIDogQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TTG9ja2luZywgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wsIF8gewogICAgb3BlbiB2YXIgbmFtZTogU3RyaW5nPyB7IGdldCBzZXQgfQogICAgb3BlbiBmdW5jIGxvY2soYmVmb3JlIGxpbWl0OiBEYXRlKSAtPiBCb29sIHt9CiAgICBvcGVuIGZ1bmMgdHJ5KCkgLT4gQm9vbCB7fQp9Cm9wZW4gY2xhc3MgTlNNZWFzdXJlbWVudCA6IEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU0NvZGluZywgTlNDb3B5aW5nLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCwgTlNTZWN1cmVDb2RpbmcsIF8sIF9IYXNDdXN0b21BbnlIYXNoYWJsZVJlcHJlc2VudGF0aW9uLCBfU3RydWN0VHlwZUJyaWRnZWFibGUgewogICAgcHVibGljIGluaXQoZG91YmxlVmFsdWU6IERvdWJsZSwgdW5pdDogVW5pdCkge30KICAgIG9wZW4gdmFyIGRvdWJsZVZhbHVlOiBEb3VibGUgeyBnZXQgfQogICAgb3BlbiB2YXIgdW5pdDogVW5pdCB7IGdldCB9CiAgICBvcGVuIGZ1bmMgYWRkaW5nKF8gbWVhc3VyZW1lbnQ6IE1lYXN1cmVtZW50PFVuaXQ+KSAtPiBNZWFzdXJlbWVudDxVbml0PiB7fQogICAgb3BlbiBmdW5jIGNhbkJlQ29udmVydGVkKHRvIHVuaXQ6IFVuaXQpIC0+IEJvb2wge30KICAgIG9wZW4gZnVuYyBjb252ZXJ0aW5nKHRvIHVuaXQ6IFVuaXQpIC0+IE1lYXN1cmVtZW50PFVuaXQ+IHt9CiAgICBvcGVuIGZ1bmMgc3VidHJhY3RpbmcoXyBtZWFzdXJlbWVudDogTWVhc3VyZW1lbnQ8VW5pdD4pIC0+IE1lYXN1cmVtZW50PFVuaXQ+IHt9Cn0Kb3BlbiBjbGFzcyBOU011dGFibGVBcnJheSA6IEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVJlZmxlY3RhYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBFeHByZXNzaWJsZUJ5QXJyYXlMaXRlcmFsLCBIYXNoYWJsZSwgTlNBcnJheSwgTlNDb2RpbmcsIE5TQ29weWluZywgTlNNdXRhYmxlQ29weWluZywgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wsIE5TU2VjdXJlQ29kaW5nLCBTZXF1ZW5jZSwgXywgX0NGQnJpZGdlYWJsZSwgX1N0cnVjdFR5cGVCcmlkZ2VhYmxlLCBfU3dpZnRCcmlkZ2VhYmxlIHsKICAgIHB1YmxpYyBpbml0KGNhcGFjaXR5IG51bUl0ZW1zOiBJbnQpIHt9CiAgICBvcGVuIGZ1bmMgYWRkKF8gYW5PYmplY3Q6IEFueSkge30KICAgIG9wZW4gZnVuYyBhZGRPYmplY3RzKGZyb20gb3RoZXJBcnJheTogW0FueV0pIHt9CiAgICBvcGVuIGZ1bmMgZXhjaGFuZ2VPYmplY3QoYXQgaWR4MTogSW50LCB3aXRoT2JqZWN0QXQgaWR4MjogSW50KSB7fQogICAgb3BlbiBmdW5jIGZpbHRlcih1c2luZyBwcmVkaWNhdGU6IE5TUHJlZGljYXRlKSB7fQogICAgb3BlbiBmdW5jIGluc2VydChfIGFuT2JqZWN0OiBBbnksIGF0IGluZGV4OiBJbnQpIHt9CiAgICBvcGVuIGZ1bmMgcmVtb3ZlKF8gYW5PYmplY3Q6IEFueSkge30KICAgIG9wZW4gZnVuYyByZW1vdmUoXyBhbk9iamVjdDogQW55LCBpbiByYW5nZTogTlNSYW5nZSkge30KICAgIG9wZW4gZnVuYyByZW1vdmVBbGxPYmplY3RzKCkge30KICAgIG9wZW4gZnVuYyByZW1vdmVMYXN0T2JqZWN0KCkge30KICAgIG9wZW4gZnVuYyByZW1vdmVPYmplY3QoYXQgaW5kZXg6IEludCkge30KICAgIG9wZW4gZnVuYyByZW1vdmVPYmplY3QoaWRlbnRpY2FsVG8gYW5PYmplY3Q6IEFueSkge30KICAgIG9wZW4gZnVuYyByZW1vdmVPYmplY3QoaWRlbnRpY2FsVG8gYW5PYmplY3Q6IEFueSwgaW4gcmFuZ2U6IE5TUmFuZ2UpIHt9CiAgICBvcGVuIGZ1bmMgcmVtb3ZlT2JqZWN0cyhhdCBpbmRleGVzOiBJbmRleFNldCkge30KICAgIG9wZW4gZnVuYyByZW1vdmVPYmplY3RzKGluIG90aGVyQXJyYXk6IFtBbnldKSB7fQogICAgb3BlbiBmdW5jIHJlcGxhY2VPYmplY3QoYXQgaW5kZXg6IEludCwgd2l0aCBhbk9iamVjdDogQW55KSB7fQogICAgb3BlbiBmdW5jIHJlcGxhY2VPYmplY3RzKGF0IGluZGV4ZXM6IEluZGV4U2V0LCB3aXRoIG9iamVjdHM6IFtBbnldKSB7fQogICAgb3BlbiBmdW5jIHJlcGxhY2VPYmplY3RzKGluIHJhbmdlOiBOU1JhbmdlLCB3aXRoT2JqZWN0c0Zyb20gb3RoZXJBcnJheTogW0FueV0pIHt9CiAgICBvcGVuIGZ1bmMgcmVwbGFjZU9iamVjdHMoaW4gcmFuZ2U6IE5TUmFuZ2UsIHdpdGhPYmplY3RzRnJvbSBvdGhlckFycmF5OiBbQW55XSwgcmFuZ2Ugb3RoZXJSYW5nZTogTlNSYW5nZSkge30KICAgIG9wZW4gZnVuYyBzZXRBcnJheShfIG90aGVyQXJyYXk6IFtBbnldKSB7fQogICAgb3BlbiBmdW5jIHNvcnQoXyBjb21wYXJlOiAoQW55LCBBbnksIFVuc2FmZU11dGFibGVSYXdQb2ludGVyPykgLT4gSW50LCBjb250ZXh0OiBVbnNhZmVNdXRhYmxlUmF3UG9pbnRlcj8pIHt9CiAgICBvcGVuIGZ1bmMgc29ydChjb21wYXJhdG9yOiBDb21wYXJhdG9yKSB7fQogICAgb3BlbiBmdW5jIHNvcnQob3B0aW9ucyBvcHRzOiBOU1NvcnRPcHRpb25zID0geCwgdXNpbmdDb21wYXJhdG9yIGNtcHRyOiBDb21wYXJhdG9yKSB7fQogICAgcHVibGljIGZ1bmMgc29ydCh1c2luZyBzb3J0RGVzY3JpcHRvcnM6IFtOU1NvcnREZXNjcmlwdG9yXSkge30KfQpvcGVuIGNsYXNzIE5TTXV0YWJsZUF0dHJpYnV0ZWRTdHJpbmcgOiBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNBdHRyaWJ1dGVkU3RyaW5nLCBOU0NvZGluZywgTlNDb3B5aW5nLCBOU011dGFibGVDb3B5aW5nLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCwgTlNTZWN1cmVDb2RpbmcsIF8sIF9DRkJyaWRnZWFibGUgewogICAgb3BlbiB2YXIgbXV0YWJsZVN0cmluZzogTlNNdXRhYmxlU3RyaW5nIHsgZ2V0IH0KICAgIG9wZW4gZnVuYyBhZGRBdHRyaWJ1dGUoXyBuYW1lOiBOU0F0dHJpYnV0ZWRTdHJpbmdLZXksIHZhbHVlOiBBbnksIHJhbmdlOiBOU1JhbmdlKSB7fQogICAgb3BlbiBmdW5jIGFkZEF0dHJpYnV0ZXMoXyBhdHRyczogW05TQXR0cmlidXRlZFN0cmluZ0tleTogQW55XSwgcmFuZ2U6IE5TUmFuZ2UpIHt9CiAgICBvcGVuIGZ1bmMgYXBwZW5kKF8gYXR0clN0cmluZzogTlNBdHRyaWJ1dGVkU3RyaW5nKSB7fQogICAgb3BlbiBmdW5jIGJlZ2luRWRpdGluZygpIHt9CiAgICBvcGVuIGZ1bmMgZGVsZXRlQ2hhcmFjdGVycyhpbiByYW5nZTogTlNSYW5nZSkge30KICAgIG9wZW4gZnVuYyBlbmRFZGl0aW5nKCkge30KICAgIG9wZW4gZnVuYyBpbnNlcnQoXyBhdHRyU3RyaW5nOiBOU0F0dHJpYnV0ZWRTdHJpbmcsIGF0IGxvYzogSW50KSB7fQogICAgb3BlbiBmdW5jIHJlbW92ZUF0dHJpYnV0ZShfIG5hbWU6IE5TQXR0cmlidXRlZFN0cmluZ0tleSwgcmFuZ2U6IE5TUmFuZ2UpIHt9CiAgICBvcGVuIGZ1bmMgcmVwbGFjZUNoYXJhY3RlcnMoaW4gcmFuZ2U6IE5TUmFuZ2UsIHdpdGggYXR0clN0cmluZzogTlNBdHRyaWJ1dGVkU3RyaW5nKSB7fQogICAgb3BlbiBmdW5jIHNldEF0dHJpYnV0ZWRTdHJpbmcoXyBhdHRyU3RyaW5nOiBOU0F0dHJpYnV0ZWRTdHJpbmcpIHt9CiAgICBvcGVuIGZ1bmMgc2V0QXR0cmlidXRlcyhfIGF0dHJzOiBbTlNBdHRyaWJ1dGVkU3RyaW5nS2V5OiBBbnldPywgcmFuZ2U6IE5TUmFuZ2UpIHt9Cn0Kb3BlbiBjbGFzcyBOU011dGFibGVDaGFyYWN0ZXJTZXQgOiBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNDaGFyYWN0ZXJTZXQsIE5TQ29kaW5nLCBOU0NvcHlpbmcsIE5TTXV0YWJsZUNvcHlpbmcsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBfLCBfU3RydWN0VHlwZUJyaWRnZWFibGUsIF9Td2lmdEJyaWRnZWFibGUgewogICAgb3BlbiBjbGFzcyBmdW5jIGFscGhhbnVtZXJpYygpIC0+IE5TTXV0YWJsZUNoYXJhY3RlclNldCB7fQogICAgb3BlbiBjbGFzcyBmdW5jIGNhcGl0YWxpemVkTGV0dGVyKCkgLT4gTlNNdXRhYmxlQ2hhcmFjdGVyU2V0IHt9CiAgICBvcGVuIGNsYXNzIGZ1bmMgY29udHJvbCgpIC0+IE5TTXV0YWJsZUNoYXJhY3RlclNldCB7fQogICAgb3BlbiBjbGFzcyBmdW5jIGRlY2ltYWxEaWdpdCgpIC0+IE5TTXV0YWJsZUNoYXJhY3RlclNldCB7fQogICAgb3BlbiBjbGFzcyBmdW5jIGRlY29tcG9zYWJsZSgpIC0+IE5TTXV0YWJsZUNoYXJhY3RlclNldCB7fQogICAgb3BlbiBjbGFzcyBmdW5jIGlsbGVnYWwoKSAtPiBOU011dGFibGVDaGFyYWN0ZXJTZXQge30KICAgIHB1YmxpYyBjbGFzcyBmdW5jIGxldHRlcigpIC0+IE5TTXV0YWJsZUNoYXJhY3RlclNldCB7fQogICAgb3BlbiBjbGFzcyBmdW5jIGxvd2VyY2FzZUxldHRlcigpIC0+IE5TTXV0YWJsZUNoYXJhY3RlclNldCB7fQogICAgb3BlbiBjbGFzcyBmdW5jIG5ld2xpbmUoKSAtPiBOU011dGFibGVDaGFyYWN0ZXJTZXQge30KICAgIG9wZW4gY2xhc3MgZnVuYyBub25CYXNlKCkgLT4gTlNNdXRhYmxlQ2hhcmFjdGVyU2V0IHt9CiAgICBvcGVuIGNsYXNzIGZ1bmMgcHVuY3R1YXRpb24oKSAtPiBOU011dGFibGVDaGFyYWN0ZXJTZXQge30KICAgIG9wZW4gY2xhc3MgZnVuYyBzeW1ib2woKSAtPiBOU011dGFibGVDaGFyYWN0ZXJTZXQge30KICAgIG9wZW4gY2xhc3MgZnVuYyB1cHBlcmNhc2VMZXR0ZXIoKSAtPiBOU011dGFibGVDaGFyYWN0ZXJTZXQge30KICAgIG9wZW4gY2xhc3MgZnVuYyB3aGl0ZXNwYWNlKCkgLT4gTlNNdXRhYmxlQ2hhcmFjdGVyU2V0IHt9CiAgICBvcGVuIGNsYXNzIGZ1bmMgd2hpdGVzcGFjZUFuZE5ld2xpbmUoKSAtPiBOU011dGFibGVDaGFyYWN0ZXJTZXQge30KICAgIG9wZW4gZnVuYyBhZGRDaGFyYWN0ZXJzKGluIGFSYW5nZTogTlNSYW5nZSkge30KICAgIG9wZW4gZnVuYyBmb3JtSW50ZXJzZWN0aW9uKHdpdGggb3RoZXJTZXQ6IENoYXJhY3RlclNldCkge30KICAgIG9wZW4gZnVuYyBmb3JtVW5pb24od2l0aCBvdGhlclNldDogQ2hhcmFjdGVyU2V0KSB7fQogICAgb3BlbiBmdW5jIGludmVydCgpIHt9CiAgICBvcGVuIGZ1bmMgcmVtb3ZlQ2hhcmFjdGVycyhpbiBhUmFuZ2U6IE5TUmFuZ2UpIHt9Cn0Kb3BlbiBjbGFzcyBOU011dGFibGVEYXRhIDogQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TQ29kaW5nLCBOU0NvcHlpbmcsIE5TRGF0YSwgTlNNdXRhYmxlQ29weWluZywgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wsIE5TU2VjdXJlQ29kaW5nLCBfLCBfQ0ZCcmlkZ2VhYmxlLCBfU3RydWN0VHlwZUJyaWRnZWFibGUsIF9Td2lmdEJyaWRnZWFibGUgewogICAgcHVibGljIGluaXQ/KGNhcGFjaXR5OiBJbnQpIHt9CiAgICBwdWJsaWMgaW5pdD8obGVuZ3RoOiBJbnQpIHt9CiAgICBvcGVuIHZhciBtdXRhYmxlQnl0ZXM6IFVuc2FmZU11dGFibGVSYXdQb2ludGVyIHsgZ2V0IH0KICAgIG9wZW4gZnVuYyBhcHBlbmQoXyBvdGhlcjogRGF0YSkge30KICAgIG9wZW4gZnVuYyBhcHBlbmQoXyBieXRlczogVW5zYWZlUmF3UG9pbnRlciwgbGVuZ3RoOiBJbnQpIHt9CiAgICBvcGVuIGZ1bmMgaW5jcmVhc2VMZW5ndGgoYnkgZXh0cmFMZW5ndGg6IEludCkge30KICAgIG9wZW4gZnVuYyByZXBsYWNlQnl0ZXMoaW4gcmFuZ2U6IE5TUmFuZ2UsIHdpdGhCeXRlcyBieXRlczogVW5zYWZlUmF3UG9pbnRlcikge30KICAgIG9wZW4gZnVuYyByZXBsYWNlQnl0ZXMoaW4gcmFuZ2U6IE5TUmFuZ2UsIHdpdGhCeXRlcyByZXBsYWNlbWVudEJ5dGVzOiBVbnNhZmVSYXdQb2ludGVyPywgbGVuZ3RoIHJlcGxhY2VtZW50TGVuZ3RoOiBJbnQpIHt9CiAgICBvcGVuIGZ1bmMgcmVzZXRCeXRlcyhpbiByYW5nZTogTlNSYW5nZSkge30KICAgIG9wZW4gZnVuYyBzZXREYXRhKF8gZGF0YTogRGF0YSkge30KfQpvcGVuIGNsYXNzIE5TTXV0YWJsZURpY3Rpb25hcnkgOiBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21SZWZsZWN0YWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgRXhwcmVzc2libGVCeURpY3Rpb25hcnlMaXRlcmFsLCBIYXNoYWJsZSwgTlNDb2RpbmcsIE5TQ29weWluZywgTlNEaWN0aW9uYXJ5LCBOU011dGFibGVDb3B5aW5nLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCwgTlNTZWN1cmVDb2RpbmcsIFNlcXVlbmNlLCBfLCBfQ0ZCcmlkZ2VhYmxlLCBfU3RydWN0VHlwZUJyaWRnZWFibGUsIF9Td2lmdEJyaWRnZWFibGUgewogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQoY2FwYWNpdHkgbnVtSXRlbXM6IEludCkge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KHNoYXJlZEtleVNldCBrZXlzZXQ6IEFueSkge30KICAgIG9wZW4gZnVuYyBhZGRFbnRyaWVzKGZyb20gb3RoZXJEaWN0aW9uYXJ5OiBbQW55SGFzaGFibGU6IEFueV0pIHt9CiAgICBvcGVuIGZ1bmMgcmVtb3ZlQWxsT2JqZWN0cygpIHt9CiAgICBvcGVuIGZ1bmMgcmVtb3ZlT2JqZWN0KGZvcktleSBhS2V5OiBBbnkpIHt9CiAgICBvcGVuIGZ1bmMgcmVtb3ZlT2JqZWN0cyhmb3JLZXlzIGtleUFycmF5OiBbQW55XSkge30KICAgIG9wZW4gZnVuYyBzZXREaWN0aW9uYXJ5KF8gb3RoZXJEaWN0aW9uYXJ5OiBbQW55SGFzaGFibGU6IEFueV0pIHt9CiAgICBvcGVuIGZ1bmMgc2V0T2JqZWN0KF8gYW5PYmplY3Q6IEFueSwgZm9yS2V5IGFLZXk6IEFueUhhc2hhYmxlKSB7fQp9Cm9wZW4gY2xhc3MgTlNNdXRhYmxlSW5kZXhTZXQgOiBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNDb2RpbmcsIE5TQ29weWluZywgTlNJbmRleFNldCwgTlNNdXRhYmxlQ29weWluZywgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wsIE5TU2VjdXJlQ29kaW5nLCBTZXF1ZW5jZSwgXywgX1N0cnVjdFR5cGVCcmlkZ2VhYmxlIHsKICAgIG9wZW4gZnVuYyBhZGQoXyBpbmRleFNldDogSW5kZXhTZXQpIHt9CiAgICBvcGVuIGZ1bmMgYWRkKGluIHI6IE5TUmFuZ2UpIHt9CiAgICBvcGVuIGZ1bmMgcmVtb3ZlKF8gaW5kZXhTZXQ6IEluZGV4U2V0KSB7fQogICAgb3BlbiBmdW5jIHJlbW92ZShpbiByYW5nZTogTlNSYW5nZSkge30KICAgIG9wZW4gZnVuYyByZW1vdmVBbGxJbmRleGVzKCkge30KICAgIG9wZW4gZnVuYyBzaGlmdEluZGV4ZXNTdGFydGluZyhhdCBpbmRleDogSW50LCBieSBkZWx0YTogSW50KSB7fQp9Cm9wZW4gY2xhc3MgTlNNdXRhYmxlT3JkZXJlZFNldCA6IEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEV4cHJlc3NpYmxlQnlBcnJheUxpdGVyYWwsIEhhc2hhYmxlLCBOU0NvZGluZywgTlNDb3B5aW5nLCBOU011dGFibGVDb3B5aW5nLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCwgTlNPcmRlcmVkU2V0LCBOU1NlY3VyZUNvZGluZywgU2VxdWVuY2UsIF8gewogICAgcHVibGljIGluaXQoY2FwYWNpdHkgbnVtSXRlbXM6IEludCkge30KICAgIG9wZW4gZnVuYyBhZGQoXyBvYmplY3Q6IEFueSkge30KICAgIG9wZW4gZnVuYyBhZGQoXyBvYmplY3RzOiBVbnNhZmVQb2ludGVyPEFueU9iamVjdD4hLCBjb3VudDogSW50KSB7fQogICAgb3BlbiBmdW5jIGFkZE9iamVjdHMoZnJvbSBhcnJheTogW0FueV0pIHt9CiAgICBvcGVuIGZ1bmMgZXhjaGFuZ2VPYmplY3QoYXQgaWR4MTogSW50LCB3aXRoT2JqZWN0QXQgaWR4MjogSW50KSB7fQogICAgb3BlbiBmdW5jIGZpbHRlcih1c2luZyBwcmVkaWNhdGU6IE5TUHJlZGljYXRlKSB7fQogICAgb3BlbiBmdW5jIGluc2VydChfIG9iamVjdDogQW55LCBhdCBpZHg6IEludCkge30KICAgIG9wZW4gZnVuYyBpbnRlcnNlY3QoXyBvdGhlcjogTlNPcmRlcmVkU2V0KSB7fQogICAgb3BlbiBmdW5jIGludGVyc2VjdFNldChfIG90aGVyOiBTZXQ8QW55SGFzaGFibGU+KSB7fQogICAgb3BlbiBmdW5jIG1pbnVzKF8gb3RoZXI6IE5TT3JkZXJlZFNldCkge30KICAgIG9wZW4gZnVuYyBtaW51c1NldChfIG90aGVyOiBTZXQ8QW55SGFzaGFibGU+KSB7fQogICAgb3BlbiBmdW5jIG1vdmVPYmplY3RzKGF0IGluZGV4ZXM6IEluZGV4U2V0LCB0byBpZHg6IEludCkge30KICAgIG9wZW4gZnVuYyByZW1vdmUoXyB2YWw6IEFueSkge30KICAgIHB1YmxpYyBmdW5jIHJlbW92ZUFsbE9iamVjdHMoKSB7fQogICAgb3BlbiBmdW5jIHJlbW92ZU9iamVjdChhdCBpZHg6IEludCkge30KICAgIG9wZW4gZnVuYyByZW1vdmVPYmplY3RzKGF0IGluZGV4ZXM6IEluZGV4U2V0KSB7fQogICAgb3BlbiBmdW5jIHJlbW92ZU9iamVjdHMoaW4gYXJyYXk6IFtBbnldKSB7fQogICAgb3BlbiBmdW5jIHJlcGxhY2VPYmplY3QoYXQgaWR4OiBJbnQsIHdpdGggb2JqOiBBbnkpIHt9CiAgICBvcGVuIGZ1bmMgcmVwbGFjZU9iamVjdHMoYXQgaW5kZXhlczogSW5kZXhTZXQsIHdpdGggb2JqZWN0czogW0FueV0pIHt9CiAgICBvcGVuIGZ1bmMgcmVwbGFjZU9iamVjdHMoaW4gcmFuZ2U6IE5TUmFuZ2UsIHdpdGggb2JqZWN0czogVW5zYWZlUG9pbnRlcjxBbnlPYmplY3Q+ISwgY291bnQ6IEludCkge30KICAgIG9wZW4gZnVuYyBzZXRPYmplY3QoXyBvYmo6IEFueSwgYXQgaWR4OiBJbnQpIHt9CiAgICBvcGVuIGZ1bmMgc29ydChjb21wYXJhdG9yIGNtcHRyOiAoQW55LCBBbnkpIC0+IENvbXBhcmlzb25SZXN1bHQpIHt9CiAgICBvcGVuIGZ1bmMgc29ydChvcHRpb25zIG9wdHM6IE5TU29ydE9wdGlvbnMgPSB4LCB1c2luZ0NvbXBhcmF0b3IgY21wdHI6IChBbnksIEFueSkgLT4gQ29tcGFyaXNvblJlc3VsdCkge30KICAgIHB1YmxpYyBmdW5jIHNvcnQodXNpbmcgc29ydERlc2NyaXB0b3JzOiBbTlNTb3J0RGVzY3JpcHRvcl0pIHt9CiAgICBvcGVuIGZ1bmMgc29ydFJhbmdlKF8gcmFuZ2U6IE5TUmFuZ2UsIG9wdGlvbnMgb3B0czogTlNTb3J0T3B0aW9ucyA9IHgsIHVzaW5nQ29tcGFyYXRvciBjbXB0cjogKEFueSwgQW55KSAtPiBDb21wYXJpc29uUmVzdWx0KSB7fQogICAgb3BlbiBmdW5jIHVuaW9uKF8gb3RoZXI6IE5TT3JkZXJlZFNldCkge30KICAgIG9wZW4gZnVuYyB1bmlvblNldChfIG90aGVyOiBTZXQ8QW55SGFzaGFibGU+KSB7fQp9Cm9wZW4gY2xhc3MgTlNNdXRhYmxlU2V0IDogQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tUmVmbGVjdGFibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU0NvZGluZywgTlNDb3B5aW5nLCBOU011dGFibGVDb3B5aW5nLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCwgTlNTZWN1cmVDb2RpbmcsIE5TU2V0LCBTZXF1ZW5jZSwgXywgX0NGQnJpZGdlYWJsZSwgX1N0cnVjdFR5cGVCcmlkZ2VhYmxlLCBfU3dpZnRCcmlkZ2VhYmxlIHsKICAgIHB1YmxpYyByZXF1aXJlZCBpbml0KGNhcGFjaXR5IG51bUl0ZW1zOiBJbnQpIHt9CiAgICBvcGVuIGZ1bmMgYWRkKF8gb2JqZWN0OiBBbnkpIHt9CiAgICBvcGVuIGZ1bmMgYWRkT2JqZWN0cyhmcm9tIGFycmF5OiBbQW55XSkge30KICAgIG9wZW4gZnVuYyBmaWx0ZXIodXNpbmcgcHJlZGljYXRlOiBOU1ByZWRpY2F0ZSkge30KICAgIG9wZW4gZnVuYyBpbnRlcnNlY3QoXyBvdGhlclNldDogU2V0PEFueUhhc2hhYmxlPikge30KICAgIG9wZW4gZnVuYyBtaW51cyhfIG90aGVyU2V0OiBTZXQ8QW55SGFzaGFibGU+KSB7fQogICAgb3BlbiBmdW5jIHJlbW92ZShfIG9iamVjdDogQW55KSB7fQogICAgb3BlbiBmdW5jIHJlbW92ZUFsbE9iamVjdHMoKSB7fQogICAgb3BlbiBmdW5jIHNldFNldChfIG90aGVyU2V0OiBTZXQ8QW55SGFzaGFibGU+KSB7fQogICAgb3BlbiBmdW5jIHVuaW9uKF8gb3RoZXJTZXQ6IFNldDxBbnlIYXNoYWJsZT4pIHt9Cn0Kb3BlbiBjbGFzcyBOU011dGFibGVTdHJpbmcgOiBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBFeHByZXNzaWJsZUJ5U3RyaW5nTGl0ZXJhbCwgSGFzaGFibGUsIE5TQ29kaW5nLCBOU0NvcHlpbmcsIE5TTXV0YWJsZUNvcHlpbmcsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBOU1NlY3VyZUNvZGluZywgTlNTdHJpbmcsIF8sIF9DRkJyaWRnZWFibGUsIF9TdHJ1Y3RUeXBlQnJpZGdlYWJsZSwgX1N3aWZ0QnJpZGdlYWJsZSB7CiAgICBwdWJsaWMgcmVxdWlyZWQgaW5pdChjYXBhY2l0eTogSW50KSB7fQogICAgcHVibGljIGZ1bmMgYXBwZW5kKF8gYVN0cmluZzogU3RyaW5nKSB7fQogICAgcHVibGljIGZ1bmMgYXBwbHlUcmFuc2Zvcm0oXyB0cmFuc2Zvcm06IFN0cmluZywgcmV2ZXJzZTogQm9vbCwgcmFuZ2U6IE5TUmFuZ2UsIHVwZGF0ZWRSYW5nZSByZXN1bHRpbmdSYW5nZTogTlNSYW5nZVBvaW50ZXI/KSAtPiBCb29sIHt9CiAgICBwdWJsaWMgZnVuYyBkZWxldGVDaGFyYWN0ZXJzKGluIHJhbmdlOiBOU1JhbmdlKSB7fQogICAgcHVibGljIGZ1bmMgaW5zZXJ0KF8gYVN0cmluZzogU3RyaW5nLCBhdCBsb2M6IEludCkge30KICAgIG9wZW4gZnVuYyByZXBsYWNlQ2hhcmFjdGVycyhpbiByYW5nZTogTlNSYW5nZSwgd2l0aCBhU3RyaW5nOiBTdHJpbmcpIHt9CiAgICBwdWJsaWMgZnVuYyByZXBsYWNlT2NjdXJyZW5jZXMob2YgdGFyZ2V0OiBTdHJpbmcsIHdpdGggcmVwbGFjZW1lbnQ6IFN0cmluZywgb3B0aW9uczogQ29tcGFyZU9wdGlvbnMgPSB4LCByYW5nZSBzZWFyY2hSYW5nZTogTlNSYW5nZSkgLT4gSW50IHt9CiAgICBwdWJsaWMgZnVuYyBzZXRTdHJpbmcoXyBhU3RyaW5nOiBTdHJpbmcpIHt9Cn0Kb3BlbiBjbGFzcyBOU011dGFibGVVUkxSZXF1ZXN0IDogQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TQ29kaW5nLCBOU0NvcHlpbmcsIE5TTXV0YWJsZUNvcHlpbmcsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBOU1NlY3VyZUNvZGluZywgTlNVUkxSZXF1ZXN0LCBfLCBfU3RydWN0VHlwZUJyaWRnZWFibGUgewogICAgb3BlbiBmdW5jIGFkZFZhbHVlKF8gdmFsdWU6IFN0cmluZywgZm9ySFRUUEhlYWRlckZpZWxkIGZpZWxkOiBTdHJpbmcpIHt9CiAgICBvcGVuIGZ1bmMgc2V0VmFsdWUoXyB2YWx1ZTogU3RyaW5nPywgZm9ySFRUUEhlYWRlckZpZWxkIGZpZWxkOiBTdHJpbmcpIHt9Cn0Kb3BlbiBjbGFzcyBOU05vdGlmaWNhdGlvbiA6IEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU0NvZGluZywgTlNDb3B5aW5nLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCwgXyB7CiAgICBwdWJsaWMgaW5pdChuYW1lOiBOYW1lLCBvYmplY3Q6IEFueT8sIHVzZXJJbmZvOiBbQW55SGFzaGFibGU6IEFueV0/ID0geCkge30KICAgIG9wZW4gdmFyIG5hbWU6IE5hbWUgeyBnZXQgfQogICAgb3BlbiB2YXIgb2JqZWN0OiBBbnk/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHVzZXJJbmZvOiBbQW55SGFzaGFibGU6IEFueV0/IHsgZ2V0IH0KfQpvcGVuIGNsYXNzIE5TTnVsbCA6IEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU0NvZGluZywgTlNDb3B5aW5nLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCwgTlNTZWN1cmVDb2RpbmcsIF8gewp9Cm9wZW4gY2xhc3MgTlNOdW1iZXIgOiBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBFeHByZXNzaWJsZUJ5Qm9vbGVhbkxpdGVyYWwsIEV4cHJlc3NpYmxlQnlGbG9hdExpdGVyYWwsIEV4cHJlc3NpYmxlQnlJbnRlZ2VyTGl0ZXJhbCwgSGFzaGFibGUsIE5TQ29kaW5nLCBOU0NvcHlpbmcsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBOU1NlY3VyZUNvZGluZywgTlNWYWx1ZSwgXywgX0ZhY3RvcnksIF9OU051bWJlckNhc3RpbmdXaXRob3V0QnJpZGdpbmcgewogICAgcHVibGljIHJlcXVpcmVkIGNvbnZlbmllbmNlIGluaXQoYm9vbGVhbkxpdGVyYWwgdmFsdWU6IEJvb2wpIHt9CiAgICBwdWJsaWMgcmVxdWlyZWQgY29udmVuaWVuY2UgaW5pdChmbG9hdExpdGVyYWwgdmFsdWU6IERvdWJsZSkge30KICAgIHB1YmxpYyByZXF1aXJlZCBjb252ZW5pZW5jZSBpbml0KGludGVnZXJMaXRlcmFsIHZhbHVlOiBJbnQpIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdCh2YWx1ZTogQm9vbCkge30KICAgIG9wZW4gdmFyIGJvb2xWYWx1ZTogQm9vbCB7IGdldCB9CiAgICBwdWJsaWMgdmFyIGRlY2ltYWxWYWx1ZTogRGVjaW1hbCB7IGdldCB9CiAgICBvcGVuIHZhciBkb3VibGVWYWx1ZTogRG91YmxlIHsgZ2V0IH0KICAgIG9wZW4gdmFyIGZsb2F0VmFsdWU6IEZsb2F0IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGludDE2VmFsdWU6IEludDE2IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGludDMyVmFsdWU6IEludDMyIHsgZ2V0IH0KICAgIG9wZW4gdmFyIGludDY0VmFsdWU6IEludDY0IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGludDhWYWx1ZTogSW50OCB7IGdldCB9CiAgICBvcGVuIHZhciBpbnRWYWx1ZTogSW50IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHN0cmluZ1ZhbHVlOiBTdHJpbmcgeyBnZXQgfQogICAgb3BlbiB2YXIgdWludDE2VmFsdWU6IFVJbnQxNiB7IGdldCB9CiAgICBvcGVuIHZhciB1aW50MzJWYWx1ZTogVUludDMyIHsgZ2V0IH0KICAgIG9wZW4gdmFyIHVpbnQ2NFZhbHVlOiBVSW50NjQgeyBnZXQgfQogICAgb3BlbiB2YXIgdWludDhWYWx1ZTogVUludDggeyBnZXQgfQogICAgb3BlbiB2YXIgdWludFZhbHVlOiBVSW50IHsgZ2V0IH0KICAgIG9wZW4gZnVuYyBjb21wYXJlKF8gb3RoZXJOdW1iZXI6IE5TTnVtYmVyKSAtPiBDb21wYXJpc29uUmVzdWx0IHt9CiAgICBvcGVuIGZ1bmMgZGVzY3JpcHRpb24od2l0aExvY2FsZSBsb2NhbGU6IExvY2FsZT8pIC0+IFN0cmluZyB7fQp9Cm9wZW4gY2xhc3MgTlNPYmplY3QgOiBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNPYmplY3RQcm90b2NvbCwgXyB7CiAgICBvcGVuIGNsYXNzIGZ1bmMgY2xhc3NGYWxsYmFja3NGb3JLZXllZEFyY2hpdmVyKCkgLT4gW1N0cmluZ10ge30KICAgIG9wZW4gY2xhc3MgZnVuYyBjbGFzc0ZvcktleWVkVW5hcmNoaXZlcigpIC0+IEFueUNsYXNzIHt9CiAgICBwdWJsaWMgaW5pdCgpIHt9CiAgICBvcGVuIHZhciBjbGFzc0ZvckNvZGVyOiBBbnlDbGFzcyB7IGdldCB9CiAgICBvcGVuIHZhciBjbGFzc0ZvcktleWVkQXJjaGl2ZXI6IEFueUNsYXNzPyB7IGdldCB9CiAgICBwdWJsaWMgdmFyIGhhc2hWYWx1ZTogSW50IHsgZ2V0IH0KICAgIHB1YmxpYyBmdW5jID09KGxoczogTlNPYmplY3QsIHJoczogTlNPYmplY3QpIC0+IEJvb2wge30KICAgIG9wZW4gZnVuYyBjb3B5KCkgLT4gQW55IHt9CiAgICBwdWJsaWMgZnVuYyBoYXNoKGludG8gaGFzaGVyOiBpbm91dCBIYXNoZXIpIHt9CiAgICBvcGVuIGZ1bmMgbXV0YWJsZUNvcHkoKSAtPiBBbnkge30KICAgIG9wZW4gZnVuYyByZXBsYWNlbWVudE9iamVjdChmb3IgYUNvZGVyOiBOU0NvZGVyKSAtPiBBbnk/IHt9CiAgICBvcGVuIGZ1bmMgcmVwbGFjZW1lbnRPYmplY3QoZm9yIGFyY2hpdmVyOiBOU0tleWVkQXJjaGl2ZXIpIC0+IEFueT8ge30KfQpvcGVuIGNsYXNzIE5TT3JkZXJlZFNldCA6IEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEV4cHJlc3NpYmxlQnlBcnJheUxpdGVyYWwsIEhhc2hhYmxlLCBOU0NvZGluZywgTlNDb3B5aW5nLCBOU011dGFibGVDb3B5aW5nLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCwgTlNTZWN1cmVDb2RpbmcsIFNlcXVlbmNlLCBfIHsKICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KGFycmF5OiBbQW55XSkge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KGFycmF5IHNldDogW0FueV0sIGNvcHlJdGVtcyBmbGFnOiBCb29sKSB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQoYXJyYXkgc2V0OiBbQW55XSwgcmFuZ2U6IE5TUmFuZ2UsIGNvcHlJdGVtcyBmbGFnOiBCb29sKSB7fQogICAgcHVibGljIHJlcXVpcmVkIGNvbnZlbmllbmNlIGluaXQoYXJyYXlMaXRlcmFsIGVsZW1lbnRzOiBBbnkuLi4pIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdChvYmplY3Q6IEFueSkge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KG9iamVjdHMgZWxlbWVudHM6IEFueS4uLikge30KICAgIHB1YmxpYyBpbml0KG9iamVjdHM6IFVuc2FmZVBvaW50ZXI8QW55T2JqZWN0PiEsIGNvdW50IGNudDogSW50KSB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQob3JkZXJlZFNldCBzZXQ6IE5TT3JkZXJlZFNldCkge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KG9yZGVyZWRTZXQgc2V0OiBOU09yZGVyZWRTZXQsIGNvcHlJdGVtcyBmbGFnOiBCb29sKSB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQob3JkZXJlZFNldCBzZXQ6IE5TT3JkZXJlZFNldCwgcmFuZ2U6IE5TUmFuZ2UsIGNvcHlJdGVtcyBmbGFnOiBCb29sKSB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQoc2V0OiBTZXQ8QW55SGFzaGFibGU+KSB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQoc2V0OiBTZXQ8QW55SGFzaGFibGU+LCBjb3B5SXRlbXMgZmxhZzogQm9vbCkge30KICAgIHB1YmxpYyB2YXIgYXJyYXk6IFtBbnldIHsgZ2V0IH0KICAgIG9wZW4gdmFyIGNvdW50OiBJbnQgeyBnZXQgfQogICAgcHVibGljIHZhciBmaXJzdE9iamVjdDogQW55PyB7IGdldCB9CiAgICBwdWJsaWMgdmFyIGxhc3RPYmplY3Q6IEFueT8geyBnZXQgfQogICAgcHVibGljIHZhciByZXZlcnNlZDogTlNPcmRlcmVkU2V0IHsgZ2V0IH0KICAgIHB1YmxpYyB2YXIgc2V0OiBTZXQ8QW55SGFzaGFibGU+IHsgZ2V0IH0KICAgIG9wZW4gc3Vic2NyaXB0KGlkeDogSW50KSAtPiBBbnkgeyBnZXQgfSB7fQogICAgb3BlbiBmdW5jIGNvbnRhaW5zKF8gb2JqZWN0OiBBbnkpIC0+IEJvb2wge30KICAgIHB1YmxpYyBmdW5jIGRlc2NyaXB0aW9uKHdpdGhMb2NhbGUgbG9jYWxlOiBMb2NhbGU/KSAtPiBTdHJpbmcge30KICAgIHB1YmxpYyBmdW5jIGRlc2NyaXB0aW9uKHdpdGhMb2NhbGUgbG9jYWxlOiBMb2NhbGU/LCBpbmRlbnQgbGV2ZWw6IEludCkgLT4gU3RyaW5nIHt9CiAgICBvcGVuIGZ1bmMgZW51bWVyYXRlT2JqZWN0cyhfIGJsb2NrOiAoQW55LCBJbnQsIFVuc2FmZU11dGFibGVQb2ludGVyPE9iakNCb29sPikgLT4gU3dpZnQuVm9pZCkge30KICAgIG9wZW4gZnVuYyBlbnVtZXJhdGVPYmplY3RzKGF0IHM6IEluZGV4U2V0LCBvcHRpb25zIG9wdHM6IE5TRW51bWVyYXRpb25PcHRpb25zID0geCwgdXNpbmcgYmxvY2s6IChBbnksIEludCwgVW5zYWZlTXV0YWJsZVBvaW50ZXI8T2JqQ0Jvb2w+KSAtPiBTd2lmdC5Wb2lkKSB7fQogICAgb3BlbiBmdW5jIGVudW1lcmF0ZU9iamVjdHMob3B0aW9ucyBvcHRzOiBOU0VudW1lcmF0aW9uT3B0aW9ucyA9IHgsIHVzaW5nIGJsb2NrOiAoQW55LCBJbnQsIFVuc2FmZU11dGFibGVQb2ludGVyPE9iakNCb29sPikgLT4gU3dpZnQuVm9pZCkge30KICAgIG9wZW4gZnVuYyBmaWx0ZXJlZCh1c2luZyBwcmVkaWNhdGU6IE5TUHJlZGljYXRlKSAtPiBOU09yZGVyZWRTZXQge30KICAgIHB1YmxpYyBmdW5jIGdldE9iamVjdHMoXyBvYmplY3RzOiBpbm91dCBbQW55T2JqZWN0XSwgcmFuZ2U6IE5TUmFuZ2UpIHt9CiAgICBvcGVuIGZ1bmMgaW5kZXgoXyBvcHRzOiBOU0VudW1lcmF0aW9uT3B0aW9ucyA9IHgsIG9mT2JqZWN0UGFzc2luZ1Rlc3QgcHJlZGljYXRlOiAoQW55LCBJbnQsIFVuc2FmZU11dGFibGVQb2ludGVyPE9iakNCb29sPikgLT4gQm9vbCkgLT4gSW50IHt9CiAgICBvcGVuIGZ1bmMgaW5kZXgob2Ygb2JqZWN0OiBBbnkpIC0+IEludCB7fQogICAgb3BlbiBmdW5jIGluZGV4KG9mIG9iamVjdDogQW55LCBpblNvcnRlZFJhbmdlIHJhbmdlOiBOU1JhbmdlLCBvcHRpb25zIG9wdHM6IE5TQmluYXJ5U2VhcmNoaW5nT3B0aW9ucyA9IHgsIHVzaW5nQ29tcGFyYXRvciBjbXA6IChBbnksIEFueSkgLT4gQ29tcGFyaXNvblJlc3VsdCkgLT4gSW50IHt9CiAgICBvcGVuIGZ1bmMgaW5kZXgob2ZPYmplY3RBdCBzOiBJbmRleFNldCwgb3B0aW9ucyBvcHRzOiBOU0VudW1lcmF0aW9uT3B0aW9ucyA9IHgsIHBhc3NpbmdUZXN0IHByZWRpY2F0ZTogKEFueSwgSW50LCBVbnNhZmVNdXRhYmxlUG9pbnRlcjxPYmpDQm9vbD4pIC0+IEJvb2wpIC0+IEludCB7fQogICAgb3BlbiBmdW5jIGluZGV4KG9mT2JqZWN0UGFzc2luZ1Rlc3QgcHJlZGljYXRlOiAoQW55LCBJbnQsIFVuc2FmZU11dGFibGVQb2ludGVyPE9iakNCb29sPikgLT4gQm9vbCkgLT4gSW50IHt9CiAgICBvcGVuIGZ1bmMgaW5kZXhlcyhvZk9iamVjdHNBdCBzOiBJbmRleFNldCwgb3B0aW9ucyBvcHRzOiBOU0VudW1lcmF0aW9uT3B0aW9ucyA9IHgsIHBhc3NpbmdUZXN0IHByZWRpY2F0ZTogKEFueSwgSW50LCBVbnNhZmVNdXRhYmxlUG9pbnRlcjxPYmpDQm9vbD4pIC0+IEJvb2wpIC0+IEluZGV4U2V0IHt9CiAgICBvcGVuIGZ1bmMgaW5kZXhlcyhvZk9iamVjdHNQYXNzaW5nVGVzdCBwcmVkaWNhdGU6IChBbnksIEludCwgVW5zYWZlTXV0YWJsZVBvaW50ZXI8T2JqQ0Jvb2w+KSAtPiBCb29sKSAtPiBJbmRleFNldCB7fQogICAgb3BlbiBmdW5jIGluZGV4ZXMob3B0aW9ucyBvcHRzOiBOU0VudW1lcmF0aW9uT3B0aW9ucyA9IHgsIG9mT2JqZWN0c1Bhc3NpbmdUZXN0IHByZWRpY2F0ZTogKEFueSwgSW50LCBVbnNhZmVNdXRhYmxlUG9pbnRlcjxPYmpDQm9vbD4pIC0+IEJvb2wpIC0+IEluZGV4U2V0IHt9CiAgICBvcGVuIGZ1bmMgaW50ZXJzZWN0cyhfIG90aGVyOiBOU09yZGVyZWRTZXQpIC0+IEJvb2wge30KICAgIG9wZW4gZnVuYyBpbnRlcnNlY3RzU2V0KF8gc2V0OiBTZXQ8QW55SGFzaGFibGU+KSAtPiBCb29sIHt9CiAgICBvcGVuIGZ1bmMgaXNFcXVhbCh0byBvdGhlcjogTlNPcmRlcmVkU2V0KSAtPiBCb29sIHt9CiAgICBvcGVuIGZ1bmMgaXNTdWJzZXQob2Ygb3RoZXI6IE5TT3JkZXJlZFNldCkgLT4gQm9vbCB7fQogICAgcHVibGljIGZ1bmMgbWFrZUl0ZXJhdG9yKCkgLT4gSXRlcmF0b3Ige30KICAgIG9wZW4gZnVuYyBvYmplY3QoYXQgaWR4OiBJbnQpIC0+IEFueSB7fQogICAgcHVibGljIGZ1bmMgb2JqZWN0RW51bWVyYXRvcigpIC0+IE5TRW51bWVyYXRvciB7fQogICAgb3BlbiBmdW5jIG9iamVjdHMoYXQgaW5kZXhlczogSW5kZXhTZXQpIC0+IFtBbnldIHt9CiAgICBwdWJsaWMgZnVuYyByZXZlcnNlT2JqZWN0RW51bWVyYXRvcigpIC0+IE5TRW51bWVyYXRvciB7fQogICAgb3BlbiBmdW5jIHNvcnRlZEFycmF5KGNvbXBhcmF0b3IgY21wdHI6IChBbnksIEFueSkgLT4gQ29tcGFyaXNvblJlc3VsdCkgLT4gW0FueV0ge30KICAgIG9wZW4gZnVuYyBzb3J0ZWRBcnJheShvcHRpb25zIG9wdHM6IE5TU29ydE9wdGlvbnMgPSB4LCB1c2luZ0NvbXBhcmF0b3IgY21wdHI6IChBbnksIEFueSkgLT4gQ29tcGFyaXNvblJlc3VsdCkgLT4gW0FueV0ge30KICAgIHB1YmxpYyBmdW5jIHNvcnRlZEFycmF5KHVzaW5nIHNvcnREZXNjcmlwdG9yczogW05TU29ydERlc2NyaXB0b3JdKSAtPiBbQW55XSB7fQp9Cm9wZW4gY2xhc3MgTlNQZXJzb25OYW1lQ29tcG9uZW50cyA6IEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU0NvZGluZywgTlNDb3B5aW5nLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCwgTlNTZWN1cmVDb2RpbmcsIF8sIF9IYXNDdXN0b21BbnlIYXNoYWJsZVJlcHJlc2VudGF0aW9uLCBfU3RydWN0VHlwZUJyaWRnZWFibGUgewogICAgb3BlbiB2YXIgZmFtaWx5TmFtZTogU3RyaW5nPyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgZ2l2ZW5OYW1lOiBTdHJpbmc/IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBtaWRkbGVOYW1lOiBTdHJpbmc/IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBuYW1lUHJlZml4OiBTdHJpbmc/IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBuYW1lU3VmZml4OiBTdHJpbmc/IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBuaWNrbmFtZTogU3RyaW5nPyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgcGhvbmV0aWNSZXByZXNlbnRhdGlvbjogUGVyc29uTmFtZUNvbXBvbmVudHM/IHsgZ2V0IHNldCB9Cn0Kb3BlbiBjbGFzcyBOU1ByZWRpY2F0ZSA6IEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU0NvZGluZywgTlNDb3B5aW5nLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCwgTlNTZWN1cmVDb2RpbmcsIF8gewogICAgcHVibGljIGluaXQoYmxvY2s6IEBlc2NhcGluZyAoQW55PywgW1N0cmluZzogQW55XT8pIC0+IEJvb2wpIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdChmb3JtYXQgcHJlZGljYXRlRm9ybWF0OiBTdHJpbmcsIF8gYXJnczogQ1ZhckFyZy4uLikge30KICAgIHB1YmxpYyBpbml0KGZvcm1hdCBwcmVkaWNhdGVGb3JtYXQ6IFN0cmluZywgYXJndW1lbnRBcnJheSBhcmd1bWVudHM6IFtBbnldPykge30KICAgIHB1YmxpYyBpbml0KGZvcm1hdCBwcmVkaWNhdGVGb3JtYXQ6IFN0cmluZywgYXJndW1lbnRzIGFyZ0xpc3Q6IENWYUxpc3RQb2ludGVyKSB7fQogICAgcHVibGljIGluaXQ/KGZyb21NZXRhZGF0YVF1ZXJ5U3RyaW5nIHF1ZXJ5U3RyaW5nOiBTdHJpbmcpIHt9CiAgICBwdWJsaWMgaW5pdCh2YWx1ZTogQm9vbCkge30KICAgIG9wZW4gdmFyIHByZWRpY2F0ZUZvcm1hdDogU3RyaW5nIHsgZ2V0IH0KICAgIG9wZW4gZnVuYyBhbGxvd0V2YWx1YXRpb24oKSB7fQogICAgb3BlbiBmdW5jIGV2YWx1YXRlKHdpdGggb2JqZWN0OiBBbnk/KSAtPiBCb29sIHt9CiAgICBvcGVuIGZ1bmMgZXZhbHVhdGUod2l0aCBvYmplY3Q6IEFueT8sIHN1YnN0aXR1dGlvblZhcmlhYmxlcyBiaW5kaW5nczogW1N0cmluZzogQW55XT8pIC0+IEJvb2wge30KICAgIG9wZW4gZnVuYyB3aXRoU3Vic3RpdHV0aW9uVmFyaWFibGVzKF8gdmFyaWFibGVzOiBbU3RyaW5nOiBBbnldKSAtPiBTZWxmIHt9Cn0Kb3BlbiBjbGFzcyBOU1JlY3Vyc2l2ZUxvY2sgOiBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNMb2NraW5nLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCwgXyB7CiAgICBvcGVuIHZhciBuYW1lOiBTdHJpbmc/IHsgZ2V0IHNldCB9CiAgICBvcGVuIGZ1bmMgbG9jayhiZWZvcmUgbGltaXQ6IERhdGUpIC0+IEJvb2wge30KICAgIG9wZW4gZnVuYyB0cnkoKSAtPiBCb29sIHt9Cn0Kb3BlbiBjbGFzcyBOU1JlZ3VsYXJFeHByZXNzaW9uIDogQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TQ29kaW5nLCBOU0NvcHlpbmcsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBfIHsKICAgIG9wZW4gY2xhc3MgZnVuYyBlc2NhcGVkUGF0dGVybihmb3Igc3RyaW5nOiBTdHJpbmcpIC0+IFN0cmluZyB7fQogICAgb3BlbiBjbGFzcyBmdW5jIGVzY2FwZWRUZW1wbGF0ZShmb3Igc3RyaW5nOiBTdHJpbmcpIC0+IFN0cmluZyB7fQogICAgcHVibGljIGluaXQocGF0dGVybjogU3RyaW5nLCBvcHRpb25zOiBPcHRpb25zID0geCkgdGhyb3dzIHt9CiAgICBvcGVuIHZhciBudW1iZXJPZkNhcHR1cmVHcm91cHM6IEludCB7IGdldCB9CiAgICBvcGVuIHZhciBvcHRpb25zOiBPcHRpb25zIHsgZ2V0IH0KICAgIG9wZW4gdmFyIHBhdHRlcm46IFN0cmluZyB7IGdldCB9CiAgICBwdWJsaWMgZnVuYyBlbnVtZXJhdGVNYXRjaGVzKGluIHN0cmluZzogU3RyaW5nLCBvcHRpb25zOiBOU1JlZ3VsYXJFeHByZXNzaW9uLk1hdGNoaW5nT3B0aW9ucyA9IHgsIHJhbmdlOiBOU1JhbmdlLCB1c2luZyBibG9jazogQGVzY2FwaW5nIChOU1RleHRDaGVja2luZ1Jlc3VsdD8sIE5TUmVndWxhckV4cHJlc3Npb24uTWF0Y2hpbmdGbGFncywgVW5zYWZlTXV0YWJsZVBvaW50ZXI8T2JqQ0Jvb2w+KSAtPiBTd2lmdC5Wb2lkKSB7fQogICAgcHVibGljIGZ1bmMgZmlyc3RNYXRjaChpbiBzdHJpbmc6IFN0cmluZywgb3B0aW9uczogTlNSZWd1bGFyRXhwcmVzc2lvbi5NYXRjaGluZ09wdGlvbnMgPSB4LCByYW5nZTogTlNSYW5nZSkgLT4gTlNUZXh0Q2hlY2tpbmdSZXN1bHQ/IHt9CiAgICBwdWJsaWMgZnVuYyBtYXRjaGVzKGluIHN0cmluZzogU3RyaW5nLCBvcHRpb25zOiBOU1JlZ3VsYXJFeHByZXNzaW9uLk1hdGNoaW5nT3B0aW9ucyA9IHgsIHJhbmdlOiBOU1JhbmdlKSAtPiBbTlNUZXh0Q2hlY2tpbmdSZXN1bHRdIHt9CiAgICBwdWJsaWMgZnVuYyBudW1iZXJPZk1hdGNoZXMoaW4gc3RyaW5nOiBTdHJpbmcsIG9wdGlvbnM6IE5TUmVndWxhckV4cHJlc3Npb24uTWF0Y2hpbmdPcHRpb25zID0geCwgcmFuZ2U6IE5TUmFuZ2UpIC0+IEludCB7fQogICAgcHVibGljIGZ1bmMgcmFuZ2VPZkZpcnN0TWF0Y2goaW4gc3RyaW5nOiBTdHJpbmcsIG9wdGlvbnM6IE5TUmVndWxhckV4cHJlc3Npb24uTWF0Y2hpbmdPcHRpb25zID0geCwgcmFuZ2U6IE5TUmFuZ2UpIC0+IE5TUmFuZ2Uge30KICAgIHB1YmxpYyBmdW5jIHJlcGxhY2VNYXRjaGVzKGluIHN0cmluZzogTlNNdXRhYmxlU3RyaW5nLCBvcHRpb25zOiBOU1JlZ3VsYXJFeHByZXNzaW9uLk1hdGNoaW5nT3B0aW9ucyA9IHgsIHJhbmdlOiBOU1JhbmdlLCB3aXRoVGVtcGxhdGUgdGVtcGw6IFN0cmluZykgLT4gSW50IHt9CiAgICBwdWJsaWMgZnVuYyByZXBsYWNlbWVudFN0cmluZyhmb3IgcmVzdWx0OiBOU1RleHRDaGVja2luZ1Jlc3VsdCwgaW4gc3RyaW5nOiBTdHJpbmcsIG9mZnNldDogSW50LCB0ZW1wbGF0ZSB0ZW1wbDogU3RyaW5nKSAtPiBTdHJpbmcge30KICAgIHB1YmxpYyBmdW5jIHN0cmluZ0J5UmVwbGFjaW5nTWF0Y2hlcyhpbiBzdHJpbmc6IFN0cmluZywgb3B0aW9uczogTlNSZWd1bGFyRXhwcmVzc2lvbi5NYXRjaGluZ09wdGlvbnMgPSB4LCByYW5nZTogTlNSYW5nZSwgd2l0aFRlbXBsYXRlIHRlbXBsOiBTdHJpbmcpIC0+IFN0cmluZyB7fQp9Cm9wZW4gY2xhc3MgTlNTZXQgOiBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21SZWZsZWN0YWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TQ29kaW5nLCBOU0NvcHlpbmcsIE5TTXV0YWJsZUNvcHlpbmcsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBOU1NlY3VyZUNvZGluZywgU2VxdWVuY2UsIF8sIF9DRkJyaWRnZWFibGUsIF9TdHJ1Y3RUeXBlQnJpZGdlYWJsZSwgX1N3aWZ0QnJpZGdlYWJsZSB7CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdChhcnJheTogW0FueV0pIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdChvYmplY3Q6IEFueSkge30KICAgIHB1YmxpYyBpbml0KG9iamVjdHM6IFVuc2FmZVBvaW50ZXI8QW55T2JqZWN0PiEsIGNvdW50IGNudDogSW50KSB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQoc2V0OiBTZXQ8QW55SGFzaGFibGU+KSB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQoc2V0OiBTZXQ8QW55SGFzaGFibGU+LCBjb3B5SXRlbXMgZmxhZzogQm9vbCkge30KICAgIG9wZW4gdmFyIGFsbE9iamVjdHM6IFtBbnldIHsgZ2V0IH0KICAgIG9wZW4gdmFyIGNvdW50OiBJbnQgeyBnZXQgfQogICAgcHVibGljIHZhciBjdXN0b21NaXJyb3I6IE1pcnJvciB7IGdldCB9CiAgICBvcGVuIGZ1bmMgYWRkaW5nKF8gYW5PYmplY3Q6IEFueSkgLT4gU2V0PEFueUhhc2hhYmxlPiB7fQogICAgb3BlbiBmdW5jIGFkZGluZ09iamVjdHMoZnJvbSBvdGhlcjogU2V0PEFueUhhc2hhYmxlPikgLT4gU2V0PEFueUhhc2hhYmxlPiB7fQogICAgb3BlbiBmdW5jIGFueU9iamVjdCgpIC0+IEFueT8ge30KICAgIG9wZW4gZnVuYyBjb250YWlucyhfIGFuT2JqZWN0OiBBbnkpIC0+IEJvb2wge30KICAgIG9wZW4gZnVuYyBkZXNjcmlwdGlvbih3aXRoTG9jYWxlIGxvY2FsZTogTG9jYWxlPykgLT4gU3RyaW5nIHt9CiAgICBvcGVuIGZ1bmMgZW51bWVyYXRlT2JqZWN0cyhfIGJsb2NrOiAoQW55LCBVbnNhZmVNdXRhYmxlUG9pbnRlcjxPYmpDQm9vbD4pIC0+IFN3aWZ0LlZvaWQpIHt9CiAgICBvcGVuIGZ1bmMgZW51bWVyYXRlT2JqZWN0cyhvcHRpb25zIG9wdHM6IE5TRW51bWVyYXRpb25PcHRpb25zID0geCwgdXNpbmcgYmxvY2s6IChBbnksIFVuc2FmZU11dGFibGVQb2ludGVyPE9iakNCb29sPikgLT4gU3dpZnQuVm9pZCkge30KICAgIG9wZW4gZnVuYyBmaWx0ZXJlZCh1c2luZyBwcmVkaWNhdGU6IE5TUHJlZGljYXRlKSAtPiBTZXQ8QW55SGFzaGFibGU+IHt9CiAgICBvcGVuIGZ1bmMgaW50ZXJzZWN0cyhfIG90aGVyU2V0OiBTZXQ8QW55SGFzaGFibGU+KSAtPiBCb29sIHt9CiAgICBvcGVuIGZ1bmMgaXNFcXVhbCh0byBvdGhlclNldDogU2V0PEFueUhhc2hhYmxlPikgLT4gQm9vbCB7fQogICAgb3BlbiBmdW5jIGlzU3Vic2V0KG9mIG90aGVyU2V0OiBTZXQ8QW55SGFzaGFibGU+KSAtPiBCb29sIHt9CiAgICBwdWJsaWMgZnVuYyBtYWtlSXRlcmF0b3IoKSAtPiBJdGVyYXRvciB7fQogICAgb3BlbiBmdW5jIG1lbWJlcihfIG9iamVjdDogQW55KSAtPiBBbnk/IHt9CiAgICBvcGVuIGZ1bmMgb2JqZWN0RW51bWVyYXRvcigpIC0+IE5TRW51bWVyYXRvciB7fQogICAgb3BlbiBmdW5jIG9iamVjdHMob3B0aW9ucyBvcHRzOiBOU0VudW1lcmF0aW9uT3B0aW9ucyA9IHgsIHBhc3NpbmdUZXN0IHByZWRpY2F0ZTogKEFueSwgVW5zYWZlTXV0YWJsZVBvaW50ZXI8T2JqQ0Jvb2w+KSAtPiBCb29sKSAtPiBTZXQ8QW55SGFzaGFibGU+IHt9CiAgICBvcGVuIGZ1bmMgb2JqZWN0cyhwYXNzaW5nVGVzdCBwcmVkaWNhdGU6IChBbnksIFVuc2FmZU11dGFibGVQb2ludGVyPE9iakNCb29sPikgLT4gQm9vbCkgLT4gU2V0PEFueUhhc2hhYmxlPiB7fQogICAgcHVibGljIGZ1bmMgc29ydGVkQXJyYXkodXNpbmcgc29ydERlc2NyaXB0b3JzOiBbTlNTb3J0RGVzY3JpcHRvcl0pIC0+IFtBbnldIHt9Cn0Kb3BlbiBjbGFzcyBOU1NvcnREZXNjcmlwdG9yIDogQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TQ29kaW5nLCBOU0NvcHlpbmcsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBOU1NlY3VyZUNvZGluZywgXyB7CiAgICBwdWJsaWMgaW5pdChrZXk6IFN0cmluZz8sIGFzY2VuZGluZzogQm9vbCkge30KICAgIHB1YmxpYyBpbml0KGtleTogU3RyaW5nPywgYXNjZW5kaW5nOiBCb29sLCBjb21wYXJhdG9yIGNtcHRyOiBDb21wYXJhdG9yKSB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQ8Um9vdCwgVmFsdWU+KGtleVBhdGg6IEtleVBhdGg8Um9vdCwgVmFsdWU+LCBhc2NlbmRpbmc6IEJvb2wpIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdDxSb290LCBWYWx1ZT4oa2V5UGF0aDogS2V5UGF0aDxSb290LCBWYWx1ZT4sIGFzY2VuZGluZzogQm9vbCwgY29tcGFyYXRvciBjbXB0cjogQGVzY2FwaW5nIENvbXBhcmF0b3IpIHt9CiAgICBvcGVuIHZhciBhc2NlbmRpbmc6IEJvb2wgeyBnZXQgfQogICAgb3BlbiB2YXIgY29tcGFyYXRvcjogQ29tcGFyYXRvciB7IGdldCB9CiAgICBvcGVuIHZhciBrZXk6IFN0cmluZz8geyBnZXQgfQogICAgcHVibGljIHZhciBrZXlQYXRoOiBBbnlLZXlQYXRoPyB7IGdldCB9CiAgICBvcGVuIHZhciByZXZlcnNlZFNvcnREZXNjcmlwdG9yOiBBbnkgeyBnZXQgfQogICAgb3BlbiBmdW5jIGFsbG93RXZhbHVhdGlvbigpIHt9CiAgICBvcGVuIGZ1bmMgY29tcGFyZShfIG9iamVjdDE6IEFueSwgdG8gb2JqZWN0MjogQW55KSAtPiBDb21wYXJpc29uUmVzdWx0IHt9Cn0Kb3BlbiBjbGFzcyBOU1N0cmluZyA6IEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEV4cHJlc3NpYmxlQnlTdHJpbmdMaXRlcmFsLCBIYXNoYWJsZSwgTlNDb2RpbmcsIE5TQ29weWluZywgTlNNdXRhYmxlQ29weWluZywgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wsIE5TU2VjdXJlQ29kaW5nLCBfLCBfQ0ZCcmlkZ2VhYmxlLCBfU3RydWN0VHlwZUJyaWRnZWFibGUsIF9Td2lmdEJyaWRnZWFibGUgewogICAgb3BlbiBjbGFzcyB2YXIgYXZhaWxhYmxlU3RyaW5nRW5jb2RpbmdzOiBVbnNhZmVQb2ludGVyPFVJbnQ+IHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgdmFyIGRlZmF1bHRDU3RyaW5nRW5jb2Rpbmc6IFVJbnQgeyBnZXQgfQogICAgb3BlbiBjbGFzcyBmdW5jIGxvY2FsaXplZE5hbWUob2YgZW5jb2Rpbmc6IFVJbnQpIC0+IFN0cmluZyB7fQogICAgcHVibGljIHN0YXRpYyBmdW5jIHBhdGhXaXRoQ29tcG9uZW50cyhfIGNvbXBvbmVudHM6IFtTdHJpbmddKSAtPiBTdHJpbmcge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0PyhieXRlczogVW5zYWZlUmF3UG9pbnRlciwgbGVuZ3RoIGxlbjogSW50LCBlbmNvZGluZzogVUludCkge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0PyhieXRlc05vQ29weSBieXRlczogVW5zYWZlTXV0YWJsZVJhd1BvaW50ZXIsIGxlbmd0aCBsZW46IEludCwgZW5jb2Rpbmc6IFVJbnQsIGZyZWVXaGVuRG9uZSBmcmVlQnVmZmVyOiBCb29sKSB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQ/KGNTdHJpbmcgbnVsbFRlcm1pbmF0ZWRDU3RyaW5nOiBVbnNhZmVQb2ludGVyPEludDg+LCBlbmNvZGluZzogVUludCkge30KICAgIHB1YmxpYyBpbml0KGNoYXJhY3RlcnM6IFVuc2FmZVBvaW50ZXI8dW5pY2hhcj4sIGxlbmd0aDogSW50KSB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQoY2hhcmFjdGVyc05vQ29weSBjaGFyYWN0ZXJzOiBVbnNhZmVNdXRhYmxlUG9pbnRlcjx1bmljaGFyPiwgbGVuZ3RoOiBJbnQsIGZyZWVXaGVuRG9uZSBmcmVlQnVmZmVyOiBCb29sKSB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQoY29udGVudHNPZiB1cmw6IFVSTCwgZW5jb2RpbmcgZW5jOiBVSW50KSB0aHJvd3Mge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KGNvbnRlbnRzT2YgdXJsOiBVUkwsIHVzZWRFbmNvZGluZyBlbmM6IFVuc2FmZU11dGFibGVQb2ludGVyPFVJbnQ+PykgdGhyb3dzIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdChjb250ZW50c09mRmlsZSBwYXRoOiBTdHJpbmcsIGVuY29kaW5nIGVuYzogVUludCkgdGhyb3dzIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdChjb250ZW50c09mRmlsZSBwYXRoOiBTdHJpbmcsIHVzZWRFbmNvZGluZyBlbmM6IFVuc2FmZU11dGFibGVQb2ludGVyPFVJbnQ+PykgdGhyb3dzIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdD8oZGF0YTogRGF0YSwgZW5jb2Rpbmc6IFVJbnQpIHt9CiAgICBwdWJsaWMgcmVxdWlyZWQgY29udmVuaWVuY2UgaW5pdChleHRlbmRlZEdyYXBoZW1lQ2x1c3RlckxpdGVyYWwgdmFsdWU6IFN0YXRpY1N0cmluZykge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KGZvcm1hdDogTlNTdHJpbmcsIF8gYXJnczogQ1ZhckFyZy4uLikge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KGZvcm1hdDogU3RyaW5nLCBhcmd1bWVudHMgYXJnTGlzdDogQ1ZhTGlzdFBvaW50ZXIpIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdChmb3JtYXQ6IFN0cmluZywgbG9jYWxlOiBBbnlPYmplY3Q/LCBhcmd1bWVudHMgYXJnTGlzdDogQ1ZhTGlzdFBvaW50ZXIpIHt9CiAgICBwdWJsaWMgcmVxdWlyZWQgY29udmVuaWVuY2UgaW5pdChzdHJpbmcgYVN0cmluZzogU3RyaW5nKSB7fQogICAgcHVibGljIHJlcXVpcmVkIGluaXQoc3RyaW5nTGl0ZXJhbCB2YWx1ZTogU3RhdGljU3RyaW5nKSB7fQogICAgcHVibGljIHJlcXVpcmVkIGNvbnZlbmllbmNlIGluaXQodW5pY29kZVNjYWxhckxpdGVyYWwgdmFsdWU6IFN0YXRpY1N0cmluZykge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0Pyh1dGY4U3RyaW5nIG51bGxUZXJtaW5hdGVkQ1N0cmluZzogVW5zYWZlUG9pbnRlcjxJbnQ4Pikge30KICAgIHB1YmxpYyB2YXIgYm9vbFZhbHVlOiBCb29sIHsgZ2V0IH0KICAgIHB1YmxpYyB2YXIgY2FwaXRhbGl6ZWQ6IFN0cmluZyB7IGdldCB9CiAgICBvcGVuIHZhciBkZWNvbXBvc2VkU3RyaW5nV2l0aENhbm9uaWNhbE1hcHBpbmc6IFN0cmluZyB7IGdldCB9CiAgICBvcGVuIHZhciBkZWNvbXBvc2VkU3RyaW5nV2l0aENvbXBhdGliaWxpdHlNYXBwaW5nOiBTdHJpbmcgeyBnZXQgfQogICAgcHVibGljIHZhciBkZWxldGluZ0xhc3RQYXRoQ29tcG9uZW50OiBTdHJpbmcgeyBnZXQgfQogICAgcHVibGljIHZhciBkZWxldGluZ1BhdGhFeHRlbnNpb246IFN0cmluZyB7IGdldCB9CiAgICBwdWJsaWMgdmFyIGRvdWJsZVZhbHVlOiBEb3VibGUgeyBnZXQgfQogICAgcHVibGljIHZhciBleHBhbmRpbmdUaWxkZUluUGF0aDogU3RyaW5nIHsgZ2V0IH0KICAgIHB1YmxpYyB2YXIgZmFzdGVzdEVuY29kaW5nOiBVSW50IHsgZ2V0IH0KICAgIHB1YmxpYyB2YXIgZmlsZVN5c3RlbVJlcHJlc2VudGF0aW9uOiBVbnNhZmVQb2ludGVyPEludDg+IHsgZ2V0IH0KICAgIHB1YmxpYyB2YXIgZmxvYXRWYWx1ZTogRmxvYXQgeyBnZXQgfQogICAgcHVibGljIHZhciBpbnRWYWx1ZTogSW50MzIgeyBnZXQgfQogICAgcHVibGljIHZhciBpbnRlZ2VyVmFsdWU6IEludCB7IGdldCB9CiAgICBwdWJsaWMgdmFyIGlzQWJzb2x1dGVQYXRoOiBCb29sIHsgZ2V0IH0KICAgIHB1YmxpYyB2YXIgbGFzdFBhdGhDb21wb25lbnQ6IFN0cmluZyB7IGdldCB9CiAgICBvcGVuIHZhciBsZW5ndGg6IEludCB7IGdldCB9CiAgICBwdWJsaWMgdmFyIGxvY2FsaXplZENhcGl0YWxpemVkOiBTdHJpbmcgeyBnZXQgfQogICAgcHVibGljIHZhciBsb2NhbGl6ZWRMb3dlcmNhc2U6IFN0cmluZyB7IGdldCB9CiAgICBwdWJsaWMgdmFyIGxvY2FsaXplZFVwcGVyY2FzZTogU3RyaW5nIHsgZ2V0IH0KICAgIHB1YmxpYyB2YXIgbG9uZ0xvbmdWYWx1ZTogSW50NjQgeyBnZXQgfQogICAgcHVibGljIHZhciBsb3dlcmNhc2VkOiBTdHJpbmcgeyBnZXQgfQogICAgcHVibGljIHZhciBwYXRoQ29tcG9uZW50czogW1N0cmluZ10geyBnZXQgfQogICAgcHVibGljIHZhciBwYXRoRXh0ZW5zaW9uOiBTdHJpbmcgeyBnZXQgfQogICAgb3BlbiB2YXIgcHJlY29tcG9zZWRTdHJpbmdXaXRoQ2Fub25pY2FsTWFwcGluZzogU3RyaW5nIHsgZ2V0IH0KICAgIG9wZW4gdmFyIHByZWNvbXBvc2VkU3RyaW5nV2l0aENvbXBhdGliaWxpdHlNYXBwaW5nOiBTdHJpbmcgeyBnZXQgfQogICAgb3BlbiB2YXIgcmVtb3ZpbmdQZXJjZW50RW5jb2Rpbmc6IFN0cmluZz8geyBnZXQgfQogICAgcHVibGljIHZhciByZXNvbHZpbmdTeW1saW5rc0luUGF0aDogU3RyaW5nIHsgZ2V0IH0KICAgIHB1YmxpYyB2YXIgc21hbGxlc3RFbmNvZGluZzogVUludCB7IGdldCB9CiAgICBwdWJsaWMgdmFyIHN0YW5kYXJkaXppbmdQYXRoOiBTdHJpbmcgeyBnZXQgfQogICAgcHVibGljIHZhciB1cHBlcmNhc2VkOiBTdHJpbmcgeyBnZXQgfQogICAgcHVibGljIHZhciB1dGY4U3RyaW5nOiBVbnNhZmVQb2ludGVyPEludDg+PyB7IGdldCB9CiAgICBvcGVuIGZ1bmMgYWRkaW5nUGVyY2VudEVuY29kaW5nKHdpdGhBbGxvd2VkQ2hhcmFjdGVycyBhbGxvd2VkQ2hhcmFjdGVyczogQ2hhcmFjdGVyU2V0KSAtPiBTdHJpbmc/IHt9CiAgICBwdWJsaWMgZnVuYyBhcHBlbmRpbmcoXyBhU3RyaW5nOiBTdHJpbmcpIC0+IFN0cmluZyB7fQogICAgcHVibGljIGZ1bmMgYXBwZW5kaW5nUGF0aENvbXBvbmVudChfIHN0cjogU3RyaW5nKSAtPiBTdHJpbmcge30KICAgIHB1YmxpYyBmdW5jIGFwcGVuZGluZ1BhdGhFeHRlbnNpb24oXyBzdHI6IFN0cmluZykgLT4gU3RyaW5nPyB7fQogICAgb3BlbiBmdW5jIGFwcGx5aW5nVHJhbnNmb3JtKF8gdHJhbnNmb3JtOiBTdHJpbmcsIHJldmVyc2U6IEJvb2wpIC0+IFN0cmluZz8ge30KICAgIHB1YmxpYyBmdW5jIGNTdHJpbmcodXNpbmcgZW5jb2Rpbmc6IFVJbnQpIC0+IFVuc2FmZVBvaW50ZXI8SW50OD4/IHt9CiAgICBwdWJsaWMgZnVuYyBjYW5CZUNvbnZlcnRlZCh0byBlbmNvZGluZzogVUludCkgLT4gQm9vbCB7fQogICAgcHVibGljIGZ1bmMgY2FwaXRhbGl6ZWQod2l0aCBsb2NhbGU6IExvY2FsZT8pIC0+IFN0cmluZyB7fQogICAgcHVibGljIGZ1bmMgY2FzZUluc2Vuc2l0aXZlQ29tcGFyZShfIHN0cmluZzogU3RyaW5nKSAtPiBDb21wYXJpc29uUmVzdWx0IHt9CiAgICBvcGVuIGZ1bmMgY2hhcmFjdGVyKGF0IGluZGV4OiBJbnQpIC0+IHVuaWNoYXIge30KICAgIHB1YmxpYyBmdW5jIGNvbW1vblByZWZpeCh3aXRoIHN0cjogU3RyaW5nLCBvcHRpb25zIG1hc2s6IENvbXBhcmVPcHRpb25zID0geCkgLT4gU3RyaW5nIHt9CiAgICBwdWJsaWMgZnVuYyBjb21wYXJlKF8gc3RyaW5nOiBTdHJpbmcpIC0+IENvbXBhcmlzb25SZXN1bHQge30KICAgIHB1YmxpYyBmdW5jIGNvbXBhcmUoXyBzdHJpbmc6IFN0cmluZywgb3B0aW9ucyBtYXNrOiBDb21wYXJlT3B0aW9ucykgLT4gQ29tcGFyaXNvblJlc3VsdCB7fQogICAgcHVibGljIGZ1bmMgY29tcGFyZShfIHN0cmluZzogU3RyaW5nLCBvcHRpb25zIG1hc2s6IENvbXBhcmVPcHRpb25zLCByYW5nZSBjb21wYXJlUmFuZ2U6IE5TUmFuZ2UpIC0+IENvbXBhcmlzb25SZXN1bHQge30KICAgIHB1YmxpYyBmdW5jIGNvbXBhcmUoXyBzdHJpbmc6IFN0cmluZywgb3B0aW9ucyBtYXNrOiBDb21wYXJlT3B0aW9ucywgcmFuZ2UgY29tcGFyZVJhbmdlOiBOU1JhbmdlLCBsb2NhbGU6IEFueT8pIC0+IENvbXBhcmlzb25SZXN1bHQge30KICAgIHB1YmxpYyBmdW5jIGNvbXBsZXRlUGF0aChpbnRvIG91dHB1dE5hbWU6IGlub3V0IFN0cmluZz8sIGNhc2VTZW5zaXRpdmUgZmxhZzogQm9vbCwgbWF0Y2hlc0ludG8gb3V0cHV0QXJyYXk6IGlub3V0IFtTdHJpbmddLCBmaWx0ZXJUeXBlczogW1N0cmluZ10/KSAtPiBJbnQge30KICAgIG9wZW4gZnVuYyBjb21wb25lbnRzKHNlcGFyYXRlZEJ5IHNlcGFyYXRvcjogQ2hhcmFjdGVyU2V0KSAtPiBbU3RyaW5nXSB7fQogICAgcHVibGljIGZ1bmMgY29udGFpbnMoXyBzdHI6IFN0cmluZykgLT4gQm9vbCB7fQogICAgcHVibGljIGZ1bmMgZGF0YSh1c2luZyBlbmNvZGluZzogVUludCkgLT4gRGF0YT8ge30KICAgIHB1YmxpYyBmdW5jIGRhdGEodXNpbmcgZW5jb2Rpbmc6IFVJbnQsIGFsbG93TG9zc3lDb252ZXJzaW9uIGxvc3N5OiBCb29sID0geCkgLT4gRGF0YT8ge30KICAgIHB1YmxpYyBmdW5jIGVudW1lcmF0ZUxpbmVzKF8gYmxvY2s6IChTdHJpbmcsIFVuc2FmZU11dGFibGVQb2ludGVyPE9iakNCb29sPikgLT4gVm9pZCkge30KICAgIHB1YmxpYyBmdW5jIGVudW1lcmF0ZVN1YnN0cmluZ3MoaW4gcmFuZ2U6IE5TUmFuZ2UsIG9wdGlvbnMgb3B0czogRW51bWVyYXRpb25PcHRpb25zID0geCwgdXNpbmcgYmxvY2s6IChTdHJpbmc/LCBOU1JhbmdlLCBOU1JhbmdlLCBVbnNhZmVNdXRhYmxlUG9pbnRlcjxPYmpDQm9vbD4pIC0+IFZvaWQpIHt9CiAgICBvcGVuIGZ1bmMgZm9sZGluZyhvcHRpb25zOiBDb21wYXJlT3B0aW9ucyA9IHgsIGxvY2FsZTogTG9jYWxlPykgLT4gU3RyaW5nIHt9CiAgICBwdWJsaWMgZnVuYyBnZXRCeXRlcyhfIGJ1ZmZlcjogVW5zYWZlTXV0YWJsZVJhd1BvaW50ZXI/LCBtYXhMZW5ndGggbWF4QnVmZmVyQ291bnQ6IEludCwgdXNlZExlbmd0aCB1c2VkQnVmZmVyQ291bnQ6IFVuc2FmZU11dGFibGVQb2ludGVyPEludD4/LCBlbmNvZGluZzogVUludCwgb3B0aW9uczogRW5jb2RpbmdDb252ZXJzaW9uT3B0aW9ucyA9IHgsIHJhbmdlOiBOU1JhbmdlLCByZW1haW5pbmcgbGVmdG92ZXI6IE5TUmFuZ2VQb2ludGVyPykgLT4gQm9vbCB7fQogICAgcHVibGljIGZ1bmMgZ2V0Q1N0cmluZyhfIGJ1ZmZlcjogVW5zYWZlTXV0YWJsZVBvaW50ZXI8SW50OD4sIG1heExlbmd0aCBtYXhCdWZmZXJDb3VudDogSW50LCBlbmNvZGluZzogVUludCkgLT4gQm9vbCB7fQogICAgcHVibGljIGZ1bmMgZ2V0Q2hhcmFjdGVycyhfIGJ1ZmZlcjogVW5zYWZlTXV0YWJsZVBvaW50ZXI8dW5pY2hhcj4sIHJhbmdlOiBOU1JhbmdlKSB7fQogICAgcHVibGljIGZ1bmMgZ2V0RmlsZVN5c3RlbVJlcHJlc2VudGF0aW9uKF8gY25hbWU6IFVuc2FmZU11dGFibGVQb2ludGVyPEludDg+LCBtYXhMZW5ndGggbWF4OiBJbnQpIC0+IEJvb2wge30KICAgIHB1YmxpYyBmdW5jIGdldExpbmVTdGFydChfIHN0YXJ0UHRyOiBVbnNhZmVNdXRhYmxlUG9pbnRlcjxJbnQ+PywgZW5kIGxpbmVFbmRQdHI6IFVuc2FmZU11dGFibGVQb2ludGVyPEludD4/LCBjb250ZW50c0VuZCBjb250ZW50c0VuZFB0cjogVW5zYWZlTXV0YWJsZVBvaW50ZXI8SW50Pj8sIGZvciByYW5nZTogTlNSYW5nZSkge30KICAgIHB1YmxpYyBmdW5jIGdldFBhcmFncmFwaFN0YXJ0KF8gc3RhcnRQdHI6IFVuc2FmZU11dGFibGVQb2ludGVyPEludD4/LCBlbmQgcGFyRW5kUHRyOiBVbnNhZmVNdXRhYmxlUG9pbnRlcjxJbnQ+PywgY29udGVudHNFbmQgY29udGVudHNFbmRQdHI6IFVuc2FmZU11dGFibGVQb2ludGVyPEludD4/LCBmb3IgcmFuZ2U6IE5TUmFuZ2UpIHt9CiAgICBwdWJsaWMgZnVuYyBoYXNQcmVmaXgoXyBzdHI6IFN0cmluZykgLT4gQm9vbCB7fQogICAgcHVibGljIGZ1bmMgaGFzU3VmZml4KF8gc3RyOiBTdHJpbmcpIC0+IEJvb2wge30KICAgIHB1YmxpYyBmdW5jIGlzRXF1YWwodG8gYVN0cmluZzogU3RyaW5nKSAtPiBCb29sIHt9CiAgICBwdWJsaWMgZnVuYyBsZW5ndGhPZkJ5dGVzKHVzaW5nIGVuYzogVUludCkgLT4gSW50IHt9CiAgICBwdWJsaWMgZnVuYyBsaW5lUmFuZ2UoZm9yIHJhbmdlOiBOU1JhbmdlKSAtPiBOU1JhbmdlIHt9CiAgICBwdWJsaWMgZnVuYyBsb2NhbGl6ZWRDYXNlSW5zZW5zaXRpdmVDb21wYXJlKF8gc3RyaW5nOiBTdHJpbmcpIC0+IENvbXBhcmlzb25SZXN1bHQge30KICAgIHB1YmxpYyBmdW5jIGxvY2FsaXplZENhc2VJbnNlbnNpdGl2ZUNvbnRhaW5zKF8gc3RyOiBTdHJpbmcpIC0+IEJvb2wge30KICAgIHB1YmxpYyBmdW5jIGxvY2FsaXplZENvbXBhcmUoXyBzdHJpbmc6IFN0cmluZykgLT4gQ29tcGFyaXNvblJlc3VsdCB7fQogICAgcHVibGljIGZ1bmMgbG9jYWxpemVkU3RhbmRhcmRDb21wYXJlKF8gc3RyaW5nOiBTdHJpbmcpIC0+IENvbXBhcmlzb25SZXN1bHQge30KICAgIHB1YmxpYyBmdW5jIGxvY2FsaXplZFN0YW5kYXJkQ29udGFpbnMoXyBzdHI6IFN0cmluZykgLT4gQm9vbCB7fQogICAgcHVibGljIGZ1bmMgbG9jYWxpemVkU3RhbmRhcmRSYW5nZShvZiBzdHI6IFN0cmluZykgLT4gTlNSYW5nZSB7fQogICAgcHVibGljIGZ1bmMgbG93ZXJjYXNlZCh3aXRoIGxvY2FsZTogTG9jYWxlPykgLT4gU3RyaW5nIHt9CiAgICBwdWJsaWMgZnVuYyBtYXhpbXVtTGVuZ3RoT2ZCeXRlcyh1c2luZyBlbmM6IFVJbnQpIC0+IEludCB7fQogICAgb3BlbiBmdW5jIHBhZGRpbmcodG9MZW5ndGggbmV3TGVuZ3RoOiBJbnQsIHdpdGhQYWQgcGFkU3RyaW5nOiBTdHJpbmcsIHN0YXJ0aW5nQXQgcGFkSW5kZXg6IEludCkgLT4gU3RyaW5nIHt9CiAgICBwdWJsaWMgZnVuYyBwYXJhZ3JhcGhSYW5nZShmb3IgcmFuZ2U6IE5TUmFuZ2UpIC0+IE5TUmFuZ2Uge30KICAgIHB1YmxpYyBmdW5jIHJhbmdlKG9mIHNlYXJjaFN0cmluZzogU3RyaW5nKSAtPiBOU1JhbmdlIHt9CiAgICBwdWJsaWMgZnVuYyByYW5nZShvZiBzZWFyY2hTdHJpbmc6IFN0cmluZywgb3B0aW9ucyBtYXNrOiBDb21wYXJlT3B0aW9ucyA9IHgpIC0+IE5TUmFuZ2Uge30KICAgIHB1YmxpYyBmdW5jIHJhbmdlKG9mIHNlYXJjaFN0cmluZzogU3RyaW5nLCBvcHRpb25zIG1hc2s6IENvbXBhcmVPcHRpb25zID0geCwgcmFuZ2Ugc2VhcmNoUmFuZ2U6IE5TUmFuZ2UpIC0+IE5TUmFuZ2Uge30KICAgIHB1YmxpYyBmdW5jIHJhbmdlKG9mIHNlYXJjaFN0cmluZzogU3RyaW5nLCBvcHRpb25zIG1hc2s6IENvbXBhcmVPcHRpb25zID0geCwgcmFuZ2Ugc2VhcmNoUmFuZ2U6IE5TUmFuZ2UsIGxvY2FsZTogTG9jYWxlPykgLT4gTlNSYW5nZSB7fQogICAgcHVibGljIGZ1bmMgcmFuZ2VPZkNoYXJhY3Rlcihmcm9tIHNlYXJjaFNldDogQ2hhcmFjdGVyU2V0KSAtPiBOU1JhbmdlIHt9CiAgICBwdWJsaWMgZnVuYyByYW5nZU9mQ2hhcmFjdGVyKGZyb20gc2VhcmNoU2V0OiBDaGFyYWN0ZXJTZXQsIG9wdGlvbnMgbWFzazogQ29tcGFyZU9wdGlvbnMgPSB4KSAtPiBOU1JhbmdlIHt9CiAgICBwdWJsaWMgZnVuYyByYW5nZU9mQ2hhcmFjdGVyKGZyb20gc2VhcmNoU2V0OiBDaGFyYWN0ZXJTZXQsIG9wdGlvbnMgbWFzazogQ29tcGFyZU9wdGlvbnMgPSB4LCByYW5nZSBzZWFyY2hSYW5nZTogTlNSYW5nZSkgLT4gTlNSYW5nZSB7fQogICAgcHVibGljIGZ1bmMgcmFuZ2VPZkNvbXBvc2VkQ2hhcmFjdGVyU2VxdWVuY2UoYXQgaW5kZXg6IEludCkgLT4gTlNSYW5nZSB7fQogICAgcHVibGljIGZ1bmMgcmFuZ2VPZkNvbXBvc2VkQ2hhcmFjdGVyU2VxdWVuY2VzKGZvciByYW5nZTogTlNSYW5nZSkgLT4gTlNSYW5nZSB7fQogICAgb3BlbiBmdW5jIHJlcGxhY2luZ0NoYXJhY3RlcnMoaW4gcmFuZ2U6IE5TUmFuZ2UsIHdpdGggcmVwbGFjZW1lbnQ6IFN0cmluZykgLT4gU3RyaW5nIHt9CiAgICBvcGVuIGZ1bmMgcmVwbGFjaW5nT2NjdXJyZW5jZXMob2YgdGFyZ2V0OiBTdHJpbmcsIHdpdGggcmVwbGFjZW1lbnQ6IFN0cmluZykgLT4gU3RyaW5nIHt9CiAgICBvcGVuIGZ1bmMgcmVwbGFjaW5nT2NjdXJyZW5jZXMob2YgdGFyZ2V0OiBTdHJpbmcsIHdpdGggcmVwbGFjZW1lbnQ6IFN0cmluZywgb3B0aW9uczogQ29tcGFyZU9wdGlvbnMgPSB4LCByYW5nZSBzZWFyY2hSYW5nZTogTlNSYW5nZSkgLT4gU3RyaW5nIHt9CiAgICBwdWJsaWMgZnVuYyBzdHJpbmdzQnlBcHBlbmRpbmdQYXRocyhfIHBhdGhzOiBbU3RyaW5nXSkgLT4gW1N0cmluZ10ge30KICAgIHB1YmxpYyBmdW5jIHN1YnN0cmluZyhmcm9tOiBJbnQpIC0+IFN0cmluZyB7fQogICAgcHVibGljIGZ1bmMgc3Vic3RyaW5nKHRvOiBJbnQpIC0+IFN0cmluZyB7fQogICAgcHVibGljIGZ1bmMgc3Vic3RyaW5nKHdpdGggcmFuZ2U6IE5TUmFuZ2UpIC0+IFN0cmluZyB7fQogICAgb3BlbiBmdW5jIHRyaW1taW5nQ2hhcmFjdGVycyhpbiBzZXQ6IENoYXJhY3RlclNldCkgLT4gU3RyaW5nIHt9CiAgICBwdWJsaWMgZnVuYyB1cHBlcmNhc2VkKHdpdGggbG9jYWxlOiBMb2NhbGU/KSAtPiBTdHJpbmcge30KICAgIG9wZW4gZnVuYyB3cml0ZSh0byB1cmw6IFVSTCwgYXRvbWljYWxseSB1c2VBdXhpbGlhcnlGaWxlOiBCb29sLCBlbmNvZGluZyBlbmM6IFVJbnQpIHRocm93cyB7fQogICAgb3BlbiBmdW5jIHdyaXRlKHRvRmlsZSBwYXRoOiBTdHJpbmcsIGF0b21pY2FsbHkgdXNlQXV4aWxpYXJ5RmlsZTogQm9vbCwgZW5jb2RpbmcgZW5jOiBVSW50KSB0aHJvd3Mge30KfQpvcGVuIGNsYXNzIE5TVGV4dENoZWNraW5nUmVzdWx0IDogQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TQ29kaW5nLCBOU0NvcHlpbmcsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBfIHsKICAgIG9wZW4gY2xhc3MgZnVuYyByZWd1bGFyRXhwcmVzc2lvbkNoZWNraW5nUmVzdWx0V2l0aFJhbmdlcyhfIHJhbmdlczogTlNSYW5nZVBvaW50ZXIsIGNvdW50OiBJbnQsIHJlZ3VsYXJFeHByZXNzaW9uOiBOU1JlZ3VsYXJFeHByZXNzaW9uKSAtPiBOU1RleHRDaGVja2luZ1Jlc3VsdCB7fQogICAgb3BlbiB2YXIgbnVtYmVyT2ZSYW5nZXM6IEludCB7IGdldCB9CiAgICBvcGVuIHZhciByYW5nZTogTlNSYW5nZSB7IGdldCB9CiAgICBvcGVuIHZhciByZWd1bGFyRXhwcmVzc2lvbjogTlNSZWd1bGFyRXhwcmVzc2lvbj8geyBnZXQgfQogICAgb3BlbiB2YXIgcmVzdWx0VHlwZTogQ2hlY2tpbmdUeXBlIHsgZ2V0IH0KICAgIHB1YmxpYyBmdW5jIGFkanVzdGluZ1JhbmdlcyhvZmZzZXQ6IEludCkgLT4gTlNUZXh0Q2hlY2tpbmdSZXN1bHQge30KICAgIG9wZW4gZnVuYyByYW5nZShhdCBpZHg6IEludCkgLT4gTlNSYW5nZSB7fQp9Cm9wZW4gY2xhc3MgTlNUaW1lWm9uZSA6IEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU0NvZGluZywgTlNDb3B5aW5nLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCwgTlNTZWN1cmVDb2RpbmcsIF8sIF9DRkJyaWRnZWFibGUsIF9Td2lmdEJyaWRnZWFibGUgewogICAgb3BlbiBjbGFzcyB2YXIgYWJicmV2aWF0aW9uRGljdGlvbmFyeTogW1N0cmluZzogU3RyaW5nXSB7IGdldCBzZXQgfQogICAgb3BlbiBjbGFzcyB2YXIgZGVmYXVsdDogVGltZVpvbmUgeyBnZXQgc2V0IH0KICAgIG9wZW4gY2xhc3MgdmFyIGtub3duVGltZVpvbmVOYW1lczogW1N0cmluZ10geyBnZXQgfQogICAgb3BlbiBjbGFzcyB2YXIgbG9jYWw6IFRpbWVab25lIHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgdmFyIHN5c3RlbTogVGltZVpvbmUgeyBnZXQgfQogICAgb3BlbiBjbGFzcyB2YXIgdGltZVpvbmVEYXRhVmVyc2lvbjogU3RyaW5nIHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgZnVuYyByZXNldFN5c3RlbVRpbWVab25lKCkge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0PyhhYmJyZXZpYXRpb246IFN0cmluZykge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KGZvclNlY29uZHNGcm9tR01UIHNlY29uZHM6IEludCkge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0PyhuYW1lIHR6TmFtZTogU3RyaW5nKSB7fQogICAgcHVibGljIGluaXQ/KG5hbWUgdHpOYW1lOiBTdHJpbmcsIGRhdGEgYURhdGE6IERhdGE/KSB7fQogICAgb3BlbiB2YXIgYWJicmV2aWF0aW9uOiBTdHJpbmc/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGRhdGE6IERhdGEgeyBnZXQgfQogICAgb3BlbiB2YXIgZGF5bGlnaHRTYXZpbmdUaW1lT2Zmc2V0OiBUaW1lSW50ZXJ2YWwgeyBnZXQgfQogICAgb3BlbiB2YXIgaXNEYXlsaWdodFNhdmluZ1RpbWU6IEJvb2wgeyBnZXQgfQogICAgb3BlbiB2YXIgbmFtZTogU3RyaW5nIHsgZ2V0IH0KICAgIG9wZW4gdmFyIG5leHREYXlsaWdodFNhdmluZ1RpbWVUcmFuc2l0aW9uOiBEYXRlPyB7IGdldCB9CiAgICBvcGVuIHZhciBzZWNvbmRzRnJvbUdNVDogSW50IHsgZ2V0IH0KICAgIG9wZW4gZnVuYyBhYmJyZXZpYXRpb24oZm9yIGFEYXRlOiBEYXRlKSAtPiBTdHJpbmc/IHt9CiAgICBvcGVuIGZ1bmMgZGF5bGlnaHRTYXZpbmdUaW1lT2Zmc2V0KGZvciBhRGF0ZTogRGF0ZSkgLT4gVGltZUludGVydmFsIHt9CiAgICBvcGVuIGZ1bmMgaXNEYXlsaWdodFNhdmluZ1RpbWUoZm9yIGFEYXRlOiBEYXRlKSAtPiBCb29sIHt9CiAgICBvcGVuIGZ1bmMgaXNFcXVhbCh0byBhVGltZVpvbmU6IFRpbWVab25lKSAtPiBCb29sIHt9CiAgICBvcGVuIGZ1bmMgbG9jYWxpemVkTmFtZShfIHN0eWxlOiBOYW1lU3R5bGUsIGxvY2FsZTogTG9jYWxlPykgLT4gU3RyaW5nPyB7fQogICAgb3BlbiBmdW5jIG5leHREYXlsaWdodFNhdmluZ1RpbWVUcmFuc2l0aW9uKGFmdGVyIGFEYXRlOiBEYXRlKSAtPiBEYXRlPyB7fQogICAgb3BlbiBmdW5jIHNlY29uZHNGcm9tR01UKGZvciBhRGF0ZTogRGF0ZSkgLT4gSW50IHt9Cn0Kb3BlbiBjbGFzcyBOU1VSTCA6IEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU0NvZGluZywgTlNDb3B5aW5nLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCwgTlNTZWN1cmVDb2RpbmcsIF8sIF9DRkJyaWRnZWFibGUsIF9TdHJ1Y3RUeXBlQnJpZGdlYWJsZSwgX1N3aWZ0QnJpZGdlYWJsZSB7CiAgICBvcGVuIGNsYXNzIGZ1bmMgZmlsZVVSTCh3aXRoUGF0aENvbXBvbmVudHMgY29tcG9uZW50czogW1N0cmluZ10pIC0+IFVSTD8ge30KICAgIHB1YmxpYyBpbml0KGFic29sdXRlVVJMV2l0aERhdGFSZXByZXNlbnRhdGlvbiBkYXRhOiBEYXRhLCByZWxhdGl2ZVRvIGJhc2VVUkw6IFVSTD8pIHt9CiAgICBwdWJsaWMgaW5pdChkYXRhUmVwcmVzZW50YXRpb24gZGF0YTogRGF0YSwgcmVsYXRpdmVUbyBiYXNlVVJMOiBVUkw/KSB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQoZmlsZVVSTFdpdGhGaWxlU3lzdGVtUmVwcmVzZW50YXRpb24gcGF0aDogVW5zYWZlUG9pbnRlcjxJbnQ4PiwgaXNEaXJlY3RvcnkgaXNEaXI6IEJvb2wsIHJlbGF0aXZlVG8gYmFzZVVSTDogVVJMPykge30KICAgIHB1YmxpYyBpbml0KGZpbGVVUkxXaXRoUGF0aCBwYXRoOiBTdHJpbmcpIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdChmaWxlVVJMV2l0aFBhdGggcGF0aDogU3RyaW5nLCBpc0RpcmVjdG9yeSBpc0RpcjogQm9vbCkge30KICAgIHB1YmxpYyBpbml0KGZpbGVVUkxXaXRoUGF0aCBwYXRoOiBTdHJpbmcsIGlzRGlyZWN0b3J5IGlzRGlyOiBCb29sLCByZWxhdGl2ZVRvIGJhc2VVUkw6IFVSTD8pIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdChmaWxlVVJMV2l0aFBhdGggcGF0aDogU3RyaW5nLCByZWxhdGl2ZVRvIGJhc2VVUkw6IFVSTD8pIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdD8oc3RyaW5nIFVSTFN0cmluZzogU3RyaW5nKSB7fQogICAgcHVibGljIGluaXQ/KHN0cmluZyBVUkxTdHJpbmc6IFN0cmluZywgcmVsYXRpdmVUbyBiYXNlVVJMOiBVUkw/KSB7fQogICAgb3BlbiB2YXIgYWJzb2x1dGVTdHJpbmc6IFN0cmluZyB7IGdldCB9CiAgICBvcGVuIHZhciBhYnNvbHV0ZVVSTDogVVJMPyB7IGdldCB9CiAgICBvcGVuIHZhciBiYXNlVVJMOiBVUkw/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGRhdGFSZXByZXNlbnRhdGlvbjogRGF0YSB7IGdldCB9CiAgICBvcGVuIHZhciBkZWxldGluZ0xhc3RQYXRoQ29tcG9uZW50OiBVUkw/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGRlbGV0aW5nUGF0aEV4dGVuc2lvbjogVVJMPyB7IGdldCB9CiAgICBvcGVuIHZhciBmaWxlUGF0aFVSTDogVVJMPyB7IGdldCB9CiAgICBvcGVuIHZhciBmaWxlU3lzdGVtUmVwcmVzZW50YXRpb246IFVuc2FmZVBvaW50ZXI8SW50OD4geyBnZXQgfQogICAgb3BlbiB2YXIgZnJhZ21lbnQ6IFN0cmluZz8geyBnZXQgfQogICAgb3BlbiB2YXIgaGFzRGlyZWN0b3J5UGF0aDogQm9vbCB7IGdldCB9CiAgICBvcGVuIHZhciBob3N0OiBTdHJpbmc/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGlzRmlsZVVSTDogQm9vbCB7IGdldCB9CiAgICBvcGVuIHZhciBsYXN0UGF0aENvbXBvbmVudDogU3RyaW5nPyB7IGdldCB9CiAgICBvcGVuIHZhciBwYXJhbWV0ZXJTdHJpbmc6IFN0cmluZz8geyBnZXQgfQogICAgb3BlbiB2YXIgcGFzc3dvcmQ6IFN0cmluZz8geyBnZXQgfQogICAgb3BlbiB2YXIgcGF0aDogU3RyaW5nPyB7IGdldCB9CiAgICBvcGVuIHZhciBwYXRoQ29tcG9uZW50czogW1N0cmluZ10/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHBhdGhFeHRlbnNpb246IFN0cmluZz8geyBnZXQgfQogICAgb3BlbiB2YXIgcG9ydDogTlNOdW1iZXI/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHF1ZXJ5OiBTdHJpbmc/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHJlbGF0aXZlUGF0aDogU3RyaW5nPyB7IGdldCB9CiAgICBvcGVuIHZhciByZWxhdGl2ZVN0cmluZzogU3RyaW5nIHsgZ2V0IH0KICAgIG9wZW4gdmFyIHJlc29sdmluZ1N5bWxpbmtzSW5QYXRoOiBVUkw/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHJlc291cmNlU3BlY2lmaWVyOiBTdHJpbmc/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHNjaGVtZTogU3RyaW5nPyB7IGdldCB9CiAgICBvcGVuIHZhciBzdGFuZGFyZGl6ZWQ6IFVSTD8geyBnZXQgfQogICAgb3BlbiB2YXIgc3RhbmRhcmRpemluZ1BhdGg6IFVSTD8geyBnZXQgfQogICAgb3BlbiB2YXIgdXNlcjogU3RyaW5nPyB7IGdldCB9CiAgICBvcGVuIGZ1bmMgYXBwZW5kaW5nUGF0aENvbXBvbmVudChfIHBhdGhDb21wb25lbnQ6IFN0cmluZykgLT4gVVJMPyB7fQogICAgb3BlbiBmdW5jIGFwcGVuZGluZ1BhdGhDb21wb25lbnQoXyBwYXRoQ29tcG9uZW50OiBTdHJpbmcsIGlzRGlyZWN0b3J5OiBCb29sKSAtPiBVUkw/IHt9CiAgICBvcGVuIGZ1bmMgYXBwZW5kaW5nUGF0aEV4dGVuc2lvbihfIHBhdGhFeHRlbnNpb246IFN0cmluZykgLT4gVVJMPyB7fQogICAgb3BlbiBmdW5jIGNoZWNrUmVzb3VyY2VJc1JlYWNoYWJsZSgpIHRocm93cyAtPiBCb29sIHt9CiAgICBvcGVuIGZ1bmMgZ2V0RmlsZVN5c3RlbVJlcHJlc2VudGF0aW9uKF8gYnVmZmVyOiBVbnNhZmVNdXRhYmxlUG9pbnRlcjxJbnQ4PiwgbWF4TGVuZ3RoIG1heEJ1ZmZlckxlbmd0aDogSW50KSAtPiBCb29sIHt9CiAgICBvcGVuIGZ1bmMgcmVtb3ZlQWxsQ2FjaGVkUmVzb3VyY2VWYWx1ZXMoKSB7fQogICAgb3BlbiBmdW5jIHJlbW92ZUNhY2hlZFJlc291cmNlVmFsdWUoZm9yS2V5IGtleTogVVJMUmVzb3VyY2VLZXkpIHt9CiAgICBvcGVuIGZ1bmMgcmVzb3VyY2VWYWx1ZXMoZm9yS2V5cyBrZXlzOiBbVVJMUmVzb3VyY2VLZXldKSB0aHJvd3MgLT4gW1VSTFJlc291cmNlS2V5OiBBbnldIHt9CiAgICBvcGVuIGZ1bmMgc2V0UmVzb3VyY2VWYWx1ZShfIHZhbHVlOiBBbnk/LCBmb3JLZXkga2V5OiBVUkxSZXNvdXJjZUtleSkgdGhyb3dzIHt9CiAgICBvcGVuIGZ1bmMgc2V0UmVzb3VyY2VWYWx1ZXMoXyBrZXllZFZhbHVlczogW1VSTFJlc291cmNlS2V5OiBBbnldKSB0aHJvd3Mge30KICAgIG9wZW4gZnVuYyBzZXRUZW1wb3JhcnlSZXNvdXJjZVZhbHVlKF8gdmFsdWU6IEFueT8sIGZvcktleSBrZXk6IFVSTFJlc291cmNlS2V5KSB7fQp9Cm9wZW4gY2xhc3MgTlNVUkxDb21wb25lbnRzIDogQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TQ29weWluZywgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wsIF8sIF9TdHJ1Y3RUeXBlQnJpZGdlYWJsZSwgX1N3aWZ0QnJpZGdlYWJsZSB7CiAgICBwdWJsaWMgaW5pdD8oc3RyaW5nIFVSTFN0cmluZzogU3RyaW5nKSB7fQogICAgcHVibGljIGluaXQ/KHVybDogVVJMLCByZXNvbHZpbmdBZ2FpbnN0QmFzZVVSTCByZXNvbHZlOiBCb29sKSB7fQogICAgb3BlbiB2YXIgZnJhZ21lbnQ6IFN0cmluZz8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGhvc3Q6IFN0cmluZz8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHBhc3N3b3JkOiBTdHJpbmc/IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBwYXRoOiBTdHJpbmc/IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBwZXJjZW50RW5jb2RlZEZyYWdtZW50OiBTdHJpbmc/IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBwZXJjZW50RW5jb2RlZEhvc3Q6IFN0cmluZz8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHBlcmNlbnRFbmNvZGVkUGFzc3dvcmQ6IFN0cmluZz8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHBlcmNlbnRFbmNvZGVkUGF0aDogU3RyaW5nPyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgcGVyY2VudEVuY29kZWRRdWVyeTogU3RyaW5nPyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgcGVyY2VudEVuY29kZWRVc2VyOiBTdHJpbmc/IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBwb3J0OiBOU051bWJlcj8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHF1ZXJ5OiBTdHJpbmc/IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBxdWVyeUl0ZW1zOiBbVVJMUXVlcnlJdGVtXT8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHJhbmdlT2ZGcmFnbWVudDogTlNSYW5nZSB7IGdldCB9CiAgICBvcGVuIHZhciByYW5nZU9mSG9zdDogTlNSYW5nZSB7IGdldCB9CiAgICBvcGVuIHZhciByYW5nZU9mUGFzc3dvcmQ6IE5TUmFuZ2UgeyBnZXQgfQogICAgb3BlbiB2YXIgcmFuZ2VPZlBhdGg6IE5TUmFuZ2UgeyBnZXQgfQogICAgb3BlbiB2YXIgcmFuZ2VPZlBvcnQ6IE5TUmFuZ2UgeyBnZXQgfQogICAgb3BlbiB2YXIgcmFuZ2VPZlF1ZXJ5OiBOU1JhbmdlIHsgZ2V0IH0KICAgIG9wZW4gdmFyIHJhbmdlT2ZTY2hlbWU6IE5TUmFuZ2UgeyBnZXQgfQogICAgb3BlbiB2YXIgcmFuZ2VPZlVzZXI6IE5TUmFuZ2UgeyBnZXQgfQogICAgb3BlbiB2YXIgc2NoZW1lOiBTdHJpbmc/IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBzdHJpbmc6IFN0cmluZz8geyBnZXQgfQogICAgb3BlbiB2YXIgdXJsOiBVUkw/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHVzZXI6IFN0cmluZz8geyBnZXQgc2V0IH0KICAgIG9wZW4gZnVuYyB1cmwocmVsYXRpdmVUbyBiYXNlVVJMOiBVUkw/KSAtPiBVUkw/IHt9Cn0Kb3BlbiBjbGFzcyBOU1VSTFF1ZXJ5SXRlbSA6IEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU0NvZGluZywgTlNDb3B5aW5nLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCwgTlNTZWN1cmVDb2RpbmcsIF8sIF9TdHJ1Y3RUeXBlQnJpZGdlYWJsZSwgX1N3aWZ0QnJpZGdlYWJsZSB7CiAgICBwdWJsaWMgaW5pdChuYW1lOiBTdHJpbmcsIHZhbHVlOiBTdHJpbmc/KSB7fQogICAgb3BlbiB2YXIgbmFtZTogU3RyaW5nIHsgZ2V0IH0KICAgIG9wZW4gdmFyIHZhbHVlOiBTdHJpbmc/IHsgZ2V0IH0KfQpvcGVuIGNsYXNzIE5TVVJMUmVxdWVzdCA6IEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU0NvZGluZywgTlNDb3B5aW5nLCBOU011dGFibGVDb3B5aW5nLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCwgTlNTZWN1cmVDb2RpbmcsIF8sIF9TdHJ1Y3RUeXBlQnJpZGdlYWJsZSB7CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdCh1cmw6IFVSTCkge30KICAgIHB1YmxpYyBpbml0KHVybDogVVJMLCBjYWNoZVBvbGljeTogTlNVUkxSZXF1ZXN0LkNhY2hlUG9saWN5LCB0aW1lb3V0SW50ZXJ2YWw6IFRpbWVJbnRlcnZhbCkge30KICAgIG9wZW4gdmFyIGFsbEhUVFBIZWFkZXJGaWVsZHM6IFtTdHJpbmc6IFN0cmluZ10/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGFsbG93c0NlbGx1bGFyQWNjZXNzOiBCb29sIHsgZ2V0IH0KICAgIG9wZW4gdmFyIGNhY2hlUG9saWN5OiBDYWNoZVBvbGljeSB7IGdldCB9CiAgICBvcGVuIHZhciBodHRwQm9keTogRGF0YT8geyBnZXQgfQogICAgb3BlbiB2YXIgaHR0cEJvZHlTdHJlYW06IElucHV0U3RyZWFtPyB7IGdldCB9CiAgICBvcGVuIHZhciBodHRwTWV0aG9kOiBTdHJpbmc/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGh0dHBTaG91bGRIYW5kbGVDb29raWVzOiBCb29sIHsgZ2V0IH0KICAgIG9wZW4gdmFyIGh0dHBTaG91bGRVc2VQaXBlbGluaW5nOiBCb29sIHsgZ2V0IH0KICAgIG9wZW4gdmFyIG1haW5Eb2N1bWVudFVSTDogVVJMPyB7IGdldCB9CiAgICBvcGVuIHZhciBuZXR3b3JrU2VydmljZVR5cGU6IE5ldHdvcmtTZXJ2aWNlVHlwZSB7IGdldCB9CiAgICBvcGVuIHZhciB0aW1lb3V0SW50ZXJ2YWw6IFRpbWVJbnRlcnZhbCB7IGdldCB9CiAgICBvcGVuIHZhciB1cmw6IFVSTD8geyBnZXQgfQogICAgb3BlbiBmdW5jIHZhbHVlKGZvckhUVFBIZWFkZXJGaWVsZCBmaWVsZDogU3RyaW5nKSAtPiBTdHJpbmc/IHt9Cn0Kb3BlbiBjbGFzcyBOU1VVSUQgOiBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNDb2RpbmcsIE5TQ29weWluZywgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wsIE5TU2VjdXJlQ29kaW5nLCBfLCBfSGFzQ3VzdG9tQW55SGFzaGFibGVSZXByZXNlbnRhdGlvbiwgX1N0cnVjdFR5cGVCcmlkZ2VhYmxlIHsKICAgIHB1YmxpYyBpbml0KHV1aWRCeXRlcyBieXRlczogVW5zYWZlUG9pbnRlcjxVSW50OD4pIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdD8odXVpZFN0cmluZyBzdHJpbmc6IFN0cmluZykge30KICAgIG9wZW4gdmFyIHV1aWRTdHJpbmc6IFN0cmluZyB7IGdldCB9CiAgICBvcGVuIGZ1bmMgZ2V0Qnl0ZXMoXyB1dWlkOiBVbnNhZmVNdXRhYmxlUG9pbnRlcjxVSW50OD4pIHt9Cn0Kb3BlbiBjbGFzcyBOU1ZhbHVlIDogQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TQ29kaW5nLCBOU0NvcHlpbmcsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBOU1NlY3VyZUNvZGluZywgXywgX0ZhY3RvcnkgewogICAgcHVibGljIHJlcXVpcmVkIGNvbnZlbmllbmNlIGluaXQoYnl0ZXMgdmFsdWU6IFVuc2FmZVJhd1BvaW50ZXIsIG9iakNUeXBlIHR5cGU6IFVuc2FmZVBvaW50ZXI8SW50OD4pIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdChlZGdlSW5zZXRzIGluc2V0czogTlNFZGdlSW5zZXRzKSB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQocG9pbnQ6IE5TUG9pbnQpIHt9CiNpZiBERVBMT1lNRU5UX1JVTlRJTUVfU1dJRlQKICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KHJhbmdlOiBOU1JhbmdlKSB7fQojZW5kaWYKICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KHJlY3Q6IE5TUmVjdCkge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KHNpemU6IE5TU2l6ZSkge30KICAgIHB1YmxpYyB2YXIgZWRnZUluc2V0c1ZhbHVlOiBOU0VkZ2VJbnNldHMgeyBnZXQgfQogICAgb3BlbiB2YXIgb2JqQ1R5cGU6IFVuc2FmZVBvaW50ZXI8SW50OD4geyBnZXQgfQogICAgcHVibGljIHZhciBwb2ludFZhbHVlOiBOU1BvaW50IHsgZ2V0IH0KI2lmIERFUExPWU1FTlRfUlVOVElNRV9TV0lGVAogICAgcHVibGljIHZhciByYW5nZVZhbHVlOiBOU1JhbmdlIHsgZ2V0IH0KI2VuZGlmCiAgICBwdWJsaWMgdmFyIHJlY3RWYWx1ZTogTlNSZWN0IHsgZ2V0IH0KICAgIHB1YmxpYyB2YXIgc2l6ZVZhbHVlOiBOU1NpemUgeyBnZXQgfQogICAgb3BlbiBmdW5jIGdldFZhbHVlKF8gdmFsdWU6IFVuc2FmZU11dGFibGVSYXdQb2ludGVyKSB7fQp9Cm9wZW4gY2xhc3MgTm90aWZpY2F0aW9uQ2VudGVyIDogQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBfIHsKICAgIG9wZW4gY2xhc3MgdmFyIGRlZmF1bHQ6IE5vdGlmaWNhdGlvbkNlbnRlciB7IGdldCB9CiAgICBvcGVuIGZ1bmMgYWRkT2JzZXJ2ZXIoZm9yTmFtZSBuYW1lOiBOU05vdGlmaWNhdGlvbi5OYW1lPywgb2JqZWN0IG9iajogQW55PywgcXVldWU6IE9wZXJhdGlvblF1ZXVlPywgdXNpbmcgYmxvY2s6IEBlc2NhcGluZyAoTm90aWZpY2F0aW9uKSAtPiBWb2lkKSAtPiBOU09iamVjdFByb3RvY29sIHt9CiAgICBvcGVuIGZ1bmMgcG9zdChfIG5vdGlmaWNhdGlvbjogTm90aWZpY2F0aW9uKSB7fQogICAgb3BlbiBmdW5jIHBvc3QobmFtZSBhTmFtZTogTlNOb3RpZmljYXRpb24uTmFtZSwgb2JqZWN0IGFuT2JqZWN0OiBBbnk/LCB1c2VySW5mbyBhVXNlckluZm86IFtBbnlIYXNoYWJsZTogQW55XT8gPSB4KSB7fQogICAgb3BlbiBmdW5jIHJlbW92ZU9ic2VydmVyKF8gb2JzZXJ2ZXI6IEFueSkge30KICAgIG9wZW4gZnVuYyByZW1vdmVPYnNlcnZlcihfIG9ic2VydmVyOiBBbnksIG5hbWUgYU5hbWU6IE5TTm90aWZpY2F0aW9uLk5hbWU/LCBvYmplY3Q6IEFueT8pIHt9Cn0Kb3BlbiBjbGFzcyBOb3RpZmljYXRpb25RdWV1ZSA6IEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCwgXyB7CiAgICBvcGVuIGNsYXNzIHZhciBkZWZhdWx0OiBOb3RpZmljYXRpb25RdWV1ZSB7IGdldCB9CiAgICBwdWJsaWMgaW5pdChub3RpZmljYXRpb25DZW50ZXI6IE5vdGlmaWNhdGlvbkNlbnRlcikge30KICAgIG9wZW4gZnVuYyBkZXF1ZXVlTm90aWZpY2F0aW9ucyhtYXRjaGluZyBub3RpZmljYXRpb246IE5vdGlmaWNhdGlvbiwgY29hbGVzY2VNYXNrOiBOb3RpZmljYXRpb25Db2FsZXNjaW5nKSB7fQogICAgb3BlbiBmdW5jIGVucXVldWUoXyBub3RpZmljYXRpb246IE5vdGlmaWNhdGlvbiwgcG9zdGluZ1N0eWxlOiBQb3N0aW5nU3R5bGUpIHt9CiAgICBvcGVuIGZ1bmMgZW5xdWV1ZShfIG5vdGlmaWNhdGlvbjogTm90aWZpY2F0aW9uLCBwb3N0aW5nU3R5bGU6IFBvc3RpbmdTdHlsZSwgY29hbGVzY2VNYXNrOiBOb3RpZmljYXRpb25Db2FsZXNjaW5nLCBmb3JNb2RlcyBtb2RlczogW1J1bkxvb3AuTW9kZV0/KSB7fQp9Cm9wZW4gY2xhc3MgTnVtYmVyRm9ybWF0dGVyIDogQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgRm9ybWF0dGVyLCBIYXNoYWJsZSwgTlNDb2RpbmcsIE5TQ29weWluZywgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wsIF8gewogICAgb3BlbiBjbGFzcyBmdW5jIGxvY2FsaXplZFN0cmluZyhmcm9tIG51bTogTlNOdW1iZXIsIG51bWJlciBuc3R5bGU6IFN0eWxlKSAtPiBTdHJpbmcge30KICAgIG9wZW4gdmFyIGFsbG93c0Zsb2F0czogQm9vbCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgYWx3YXlzU2hvd3NEZWNpbWFsU2VwYXJhdG9yOiBCb29sIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBhdHRyaWJ1dGVkU3RyaW5nRm9yTmlsOiBOU0F0dHJpYnV0ZWRTdHJpbmcgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGF0dHJpYnV0ZWRTdHJpbmdGb3JOb3RBTnVtYmVyOiBOU0F0dHJpYnV0ZWRTdHJpbmcgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGF0dHJpYnV0ZWRTdHJpbmdGb3JaZXJvOiBOU0F0dHJpYnV0ZWRTdHJpbmcgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGN1cnJlbmN5Q29kZTogU3RyaW5nISB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgY3VycmVuY3lEZWNpbWFsU2VwYXJhdG9yOiBTdHJpbmchIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBjdXJyZW5jeUdyb3VwaW5nU2VwYXJhdG9yOiBTdHJpbmchIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBjdXJyZW5jeVN5bWJvbDogU3RyaW5nISB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgZGVjaW1hbFNlcGFyYXRvcjogU3RyaW5nISB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgZXhwb25lbnRTeW1ib2w6IFN0cmluZyEgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGZvcm1hdDogU3RyaW5nIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBmb3JtYXRXaWR0aDogSW50IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBmb3JtYXR0aW5nQ29udGV4dDogQ29udGV4dCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgZ2VuZXJhdGVzRGVjaW1hbE51bWJlcnM6IEJvb2wgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGdyb3VwaW5nU2VwYXJhdG9yOiBTdHJpbmchIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBncm91cGluZ1NpemU6IEludCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgaGFzVGhvdXNhbmRTZXBhcmF0b3JzOiBCb29sIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBpbnRlcm5hdGlvbmFsQ3VycmVuY3lTeW1ib2w6IFN0cmluZyEgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGlzTGVuaWVudDogQm9vbCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgaXNQYXJ0aWFsU3RyaW5nVmFsaWRhdGlvbkVuYWJsZWQ6IEJvb2wgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGxvY2FsZTogTG9jYWxlISB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgbG9jYWxpemVzRm9ybWF0OiBCb29sIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBtYXhpbXVtOiBOU051bWJlcj8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIG1heGltdW1GcmFjdGlvbkRpZ2l0czogSW50IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBtYXhpbXVtSW50ZWdlckRpZ2l0czogSW50IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBtYXhpbXVtU2lnbmlmaWNhbnREaWdpdHM6IEludCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgbWluaW11bTogTlNOdW1iZXI/IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBtaW5pbXVtRnJhY3Rpb25EaWdpdHM6IEludCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgbWluaW11bUludGVnZXJEaWdpdHM6IEludCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgbWluaW11bVNpZ25pZmljYW50RGlnaXRzOiBJbnQgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIG1pbnVzU2lnbjogU3RyaW5nISB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgbXVsdGlwbGllcjogTlNOdW1iZXI/IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBuZWdhdGl2ZUZvcm1hdDogU3RyaW5nISB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgbmVnYXRpdmVJbmZpbml0eVN5bWJvbDogU3RyaW5nIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBuZWdhdGl2ZVByZWZpeDogU3RyaW5nISB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgbmVnYXRpdmVTdWZmaXg6IFN0cmluZyEgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIG5pbFN5bWJvbDogU3RyaW5nIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBub3RBTnVtYmVyU3ltYm9sOiBTdHJpbmchIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBudW1iZXJTdHlsZTogU3R5bGUgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHBhZGRpbmdDaGFyYWN0ZXI6IFN0cmluZyEgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHBhZGRpbmdQb3NpdGlvbjogUGFkUG9zaXRpb24geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHBlck1pbGxTeW1ib2w6IFN0cmluZyEgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHBlcmNlbnRTeW1ib2w6IFN0cmluZyEgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHBsdXNTaWduOiBTdHJpbmchIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBwb3NpdGl2ZUZvcm1hdDogU3RyaW5nISB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgcG9zaXRpdmVJbmZpbml0eVN5bWJvbDogU3RyaW5nIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBwb3NpdGl2ZVByZWZpeDogU3RyaW5nISB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgcG9zaXRpdmVTdWZmaXg6IFN0cmluZyEgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHJvdW5kaW5nQmVoYXZpb3I6IE5TRGVjaW1hbE51bWJlckhhbmRsZXIgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHJvdW5kaW5nSW5jcmVtZW50OiBOU051bWJlciEgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHJvdW5kaW5nTW9kZTogUm91bmRpbmdNb2RlIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBzZWNvbmRhcnlHcm91cGluZ1NpemU6IEludCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgdGV4dEF0dHJpYnV0ZXNGb3JOZWdhdGl2ZUluZmluaXR5OiBbU3RyaW5nOiBBbnldPyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgdGV4dEF0dHJpYnV0ZXNGb3JOZWdhdGl2ZVZhbHVlczogW1N0cmluZzogQW55XT8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHRleHRBdHRyaWJ1dGVzRm9yTmlsOiBbU3RyaW5nOiBBbnldPyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgdGV4dEF0dHJpYnV0ZXNGb3JOb3RBTnVtYmVyOiBbU3RyaW5nOiBBbnldPyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgdGV4dEF0dHJpYnV0ZXNGb3JQb3NpdGl2ZUluZmluaXR5OiBbU3RyaW5nOiBBbnldPyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgdGV4dEF0dHJpYnV0ZXNGb3JQb3NpdGl2ZVZhbHVlczogW1N0cmluZzogQW55XT8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHRleHRBdHRyaWJ1dGVzRm9yWmVybzogW1N0cmluZzogQW55XT8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHRob3VzYW5kU2VwYXJhdG9yOiBTdHJpbmchIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciB1c2VzR3JvdXBpbmdTZXBhcmF0b3I6IEJvb2wgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHVzZXNTaWduaWZpY2FudERpZ2l0czogQm9vbCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgemVyb1N5bWJvbDogU3RyaW5nPyB7IGdldCBzZXQgfQogICAgb3BlbiBmdW5jIG51bWJlcihmcm9tIHN0cmluZzogU3RyaW5nKSAtPiBOU051bWJlcj8ge30KICAgIG9wZW4gZnVuYyBvYmplY3RWYWx1ZShfIHN0cmluZzogU3RyaW5nLCByYW5nZTogaW5vdXQgTlNSYW5nZSkgdGhyb3dzIC0+IEFueT8ge30KICAgIG9wZW4gZnVuYyBzdHJpbmcoZnJvbSBudW1iZXI6IE5TTnVtYmVyKSAtPiBTdHJpbmc/IHt9Cn0Kb3BlbiBjbGFzcyBPcGVyYXRpb24gOiBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wsIF8gewogICAgcHVibGljIHZhciBjb21wbGV0aW9uQmxvY2s6ICgoKSAtPiBWb2lkKT8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGRlcGVuZGVuY2llczogW09wZXJhdGlvbl0geyBnZXQgfQogICAgb3BlbiB2YXIgaXNBc3luY2hyb25vdXM6IEJvb2wgeyBnZXQgfQogICAgb3BlbiB2YXIgaXNDYW5jZWxsZWQ6IEJvb2wgeyBnZXQgfQogICAgb3BlbiB2YXIgaXNFeGVjdXRpbmc6IEJvb2wgeyBnZXQgfQogICAgb3BlbiB2YXIgaXNGaW5pc2hlZDogQm9vbCB7IGdldCB9CiAgICBvcGVuIHZhciBpc1JlYWR5OiBCb29sIHsgZ2V0IH0KICAgIG9wZW4gdmFyIG5hbWU6IFN0cmluZz8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHF1YWxpdHlPZlNlcnZpY2U6IFF1YWxpdHlPZlNlcnZpY2UgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHF1ZXVlUHJpb3JpdHk6IFF1ZXVlUHJpb3JpdHkgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHRocmVhZFByaW9yaXR5OiBEb3VibGUgeyBnZXQgc2V0IH0KICAgIG9wZW4gZnVuYyBhZGREZXBlbmRlbmN5KF8gb3A6IE9wZXJhdGlvbikge30KICAgIG9wZW4gZnVuYyBjYW5jZWwoKSB7fQogICAgcHVibGljIGZ1bmMgZGlkQ2hhbmdlVmFsdWUoZm9yS2V5IGtleTogU3RyaW5nKSB7fQogICAgb3BlbiBmdW5jIG1haW4oKSB7fQogICAgb3BlbiBmdW5jIHJlbW92ZURlcGVuZGVuY3koXyBvcDogT3BlcmF0aW9uKSB7fQogICAgb3BlbiBmdW5jIHN0YXJ0KCkge30KICAgIG9wZW4gZnVuYyB3YWl0VW50aWxGaW5pc2hlZCgpIHt9CiAgICBwdWJsaWMgZnVuYyB3aWxsQ2hhbmdlVmFsdWUoZm9yS2V5IGtleTogU3RyaW5nKSB7fQp9Cm9wZW4gY2xhc3MgT3BlcmF0aW9uUXVldWUgOiBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wsIF8gewogICAgb3BlbiBjbGFzcyB2YXIgY3VycmVudDogT3BlcmF0aW9uUXVldWU/IHsgZ2V0IH0KICAgIHB1YmxpYyBzdGF0aWMgdmFyIGRlZmF1bHRNYXhDb25jdXJyZW50T3BlcmF0aW9uQ291bnQ6IEludCB7IGdldCB9CiAgICBvcGVuIGNsYXNzIHZhciBtYWluOiBPcGVyYXRpb25RdWV1ZSB7IGdldCB9CiAgICBvcGVuIHZhciBpc1N1c3BlbmRlZDogQm9vbCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgbWF4Q29uY3VycmVudE9wZXJhdGlvbkNvdW50OiBJbnQgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIG5hbWU6IFN0cmluZz8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIG9wZXJhdGlvbkNvdW50OiBJbnQgeyBnZXQgfQogICAgb3BlbiB2YXIgb3BlcmF0aW9uczogW09wZXJhdGlvbl0geyBnZXQgfQogICAgb3BlbiB2YXIgcXVhbGl0eU9mU2VydmljZTogUXVhbGl0eU9mU2VydmljZSB7IGdldCBzZXQgfQojaWYgREVQTE9ZTUVOVF9FTkFCTEVfTElCRElTUEFUQ0gKICAgIG9wZW4gdmFyIHVuZGVybHlpbmdRdWV1ZTogRGlzcGF0Y2hRdWV1ZT8geyBnZXQgc2V0IH0KI2VuZGlmCiAgICBvcGVuIGZ1bmMgYWRkT3BlcmF0aW9uKF8gYmxvY2s6IEBlc2NhcGluZyAoKSAtPiBTd2lmdC5Wb2lkKSB7fQogICAgb3BlbiBmdW5jIGFkZE9wZXJhdGlvbnMoXyBvcHM6IFtPcGVyYXRpb25dLCB3YWl0VW50aWxGaW5pc2hlZCB3YWl0OiBCb29sKSB7fQogICAgb3BlbiBmdW5jIGNhbmNlbEFsbE9wZXJhdGlvbnMoKSB7fQogICAgb3BlbiBmdW5jIHdhaXRVbnRpbEFsbE9wZXJhdGlvbnNBcmVGaW5pc2hlZCgpIHt9Cn0Kb3BlbiBjbGFzcyBPdXRwdXRTdHJlYW0gOiBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wsIFN0cmVhbSwgXyB7CiAgICBvcGVuIGNsYXNzIGZ1bmMgdG9NZW1vcnkoKSAtPiBTZWxmIHt9CiAgICBwdWJsaWMgaW5pdCh0b0J1ZmZlciBidWZmZXI6IFVuc2FmZU11dGFibGVQb2ludGVyPFVJbnQ4PiwgY2FwYWNpdHk6IEludCkge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0Pyh0b0ZpbGVBdFBhdGggcGF0aDogU3RyaW5nLCBhcHBlbmQgc2hvdWxkQXBwZW5kOiBCb29sKSB7fQogICAgcHVibGljIHJlcXVpcmVkIGluaXQodG9NZW1vcnk6IFZvaWQpIHt9CiAgICBwdWJsaWMgaW5pdD8odXJsOiBVUkwsIGFwcGVuZCBzaG91bGRBcHBlbmQ6IEJvb2wpIHt9CiAgICBvcGVuIHZhciBoYXNTcGFjZUF2YWlsYWJsZTogQm9vbCB7IGdldCB9CiAgICBvcGVuIGZ1bmMgd3JpdGUoXyBidWZmZXI6IFVuc2FmZVBvaW50ZXI8VUludDg+LCBtYXhMZW5ndGggbGVuOiBJbnQpIC0+IEludCB7fQp9Cm9wZW4gY2xhc3MgUGVyc29uTmFtZUNvbXBvbmVudHNGb3JtYXR0ZXIgOiBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBGb3JtYXR0ZXIsIEhhc2hhYmxlLCBOU0NvZGluZywgTlNDb3B5aW5nLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCwgXyB7CiAgICBvcGVuIGNsYXNzIGZ1bmMgbG9jYWxpemVkU3RyaW5nKGZyb20gY29tcG9uZW50czogUGVyc29uTmFtZUNvbXBvbmVudHMsIHN0eWxlIG5hbWVGb3JtYXRTdHlsZTogU3R5bGUsIG9wdGlvbnMgbmFtZU9wdGlvbnM6IE9wdGlvbnMgPSB4KSAtPiBTdHJpbmcge30KICAgIG9wZW4gdmFyIGlzUGhvbmV0aWM6IEJvb2wgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHN0eWxlOiBTdHlsZSB7IGdldCBzZXQgfQogICAgb3BlbiBmdW5jIGFubm90YXRlZFN0cmluZyhmcm9tIGNvbXBvbmVudHM6IFBlcnNvbk5hbWVDb21wb25lbnRzKSAtPiBOU0F0dHJpYnV0ZWRTdHJpbmcge30KICAgIG9wZW4gZnVuYyBwZXJzb25OYW1lQ29tcG9uZW50cyhmcm9tIHN0cmluZzogU3RyaW5nKSAtPiBQZXJzb25OYW1lQ29tcG9uZW50cz8ge30KICAgIG9wZW4gZnVuYyBzdHJpbmcoZnJvbSBjb21wb25lbnRzOiBQZXJzb25OYW1lQ29tcG9uZW50cykgLT4gU3RyaW5nIHt9Cn0Kb3BlbiBjbGFzcyBQaXBlIDogQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBfIHsKICAgIHB1YmxpYyB2YXIgZmlsZUhhbmRsZUZvclJlYWRpbmc6IEZpbGVIYW5kbGUgeyBnZXQgfQogICAgcHVibGljIHZhciBmaWxlSGFuZGxlRm9yV3JpdGluZzogRmlsZUhhbmRsZSB7IGdldCB9Cn0Kb3BlbiBjbGFzcyBQb3J0IDogQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TQ29kaW5nLCBOU0NvcHlpbmcsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBfIHsKICAgIHB1YmxpYyBzdGF0aWMgdmFyIGRpZEJlY29tZUludmFsaWROb3RpZmljYXRpb24geyBnZXQgfQogICAgb3BlbiB2YXIgaXNWYWxpZDogQm9vbCB7IGdldCB9CiAgICBvcGVuIHZhciByZXNlcnZlZFNwYWNlTGVuZ3RoOiBJbnQgeyBnZXQgfQogICAgb3BlbiBmdW5jIGludmFsaWRhdGUoKSB7fQogICAgb3BlbiBmdW5jIHJlbW92ZShmcm9tIHJ1bkxvb3A6IFJ1bkxvb3AsIGZvck1vZGUgbW9kZTogUnVuTG9vcC5Nb2RlKSB7fQogICAgb3BlbiBmdW5jIHNjaGVkdWxlKGluIHJ1bkxvb3A6IFJ1bkxvb3AsIGZvck1vZGUgbW9kZTogUnVuTG9vcC5Nb2RlKSB7fQogICAgb3BlbiBmdW5jIHNlbmRCZWZvcmVEYXRlKF8gbGltaXREYXRlOiBEYXRlLCBjb21wb25lbnRzOiBOU011dGFibGVBcnJheT8sIGZyb20gcmVjZWl2ZVBvcnQ6IFBvcnQ/LCByZXNlcnZlZCBoZWFkZXJTcGFjZVJlc2VydmVkOiBJbnQpIC0+IEJvb2wge30KICAgIG9wZW4gZnVuYyBzZW5kQmVmb3JlRGF0ZShfIGxpbWl0RGF0ZTogRGF0ZSwgbXNnaWQgbXNnSUQ6IEludCwgY29tcG9uZW50czogTlNNdXRhYmxlQXJyYXk/LCBmcm9tIHJlY2VpdmVQb3J0OiBQb3J0PywgcmVzZXJ2ZWQgaGVhZGVyU3BhY2VSZXNlcnZlZDogSW50KSAtPiBCb29sIHt9Cn0Kb3BlbiBjbGFzcyBQb3J0TWVzc2FnZSA6IEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCwgXyB7CiAgICBwdWJsaWMgaW5pdChzZW5kUG9ydDogUG9ydD8sIHJlY2VpdmVQb3J0IHJlcGx5UG9ydDogUG9ydD8sIGNvbXBvbmVudHM6IFtBbnlPYmplY3RdPykge30KICAgIG9wZW4gdmFyIGNvbXBvbmVudHM6IFtBbnlPYmplY3RdPyB7IGdldCB9CiAgICBvcGVuIHZhciBtc2dpZDogVUludDMyIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciByZWNlaXZlUG9ydDogUG9ydD8geyBnZXQgfQogICAgb3BlbiB2YXIgc2VuZFBvcnQ6IFBvcnQ/IHsgZ2V0IH0KICAgIG9wZW4gZnVuYyBzZW5kQmVmb3JlRGF0ZShfIGRhdGU6IERhdGUpIC0+IEJvb2wge30KfQpvcGVuIGNsYXNzIFByb2Nlc3MgOiBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wsIF8gewogICAgcHVibGljIHN0YXRpYyB2YXIgZGlkVGVybWluYXRlTm90aWZpY2F0aW9uIHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgZnVuYyBydW4oXyB1cmw6IFVSTCwgYXJndW1lbnRzOiBbU3RyaW5nXSwgdGVybWluYXRpb25IYW5kbGVyOiAoKFByb2Nlc3MpIC0+IFZvaWQpPyA9IHgpIHRocm93cyAtPiBQcm9jZXNzIHt9CiAgICBvcGVuIHZhciBhcmd1bWVudHM6IFtTdHJpbmddPyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgY3VycmVudERpcmVjdG9yeVVSTCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgZW52aXJvbm1lbnQ6IFtTdHJpbmc6IFN0cmluZ10/IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBleGVjdXRhYmxlVVJMOiBVUkw/IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBpc1J1bm5pbmc6IEJvb2wgeyBnZXQgfQogICAgb3BlbiB2YXIgcHJvY2Vzc0lkZW50aWZpZXI6IEludDMyIHsgZ2V0IH0KICAgIG9wZW4gdmFyIHF1YWxpdHlPZlNlcnZpY2U6IFF1YWxpdHlPZlNlcnZpY2UgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHN0YW5kYXJkRXJyb3I6IEFueT8geyBnZXQgfQogICAgb3BlbiB2YXIgc3RhbmRhcmRJbnB1dDogQW55PyB7IGdldCB9CiAgICBvcGVuIHZhciBzdGFuZGFyZE91dHB1dDogQW55PyB7IGdldCB9CiAgICBvcGVuIHZhciB0ZXJtaW5hdGlvbkhhbmRsZXI6ICgoUHJvY2VzcykgLT4gVm9pZCk/IHsgZ2V0IHNldCB9CiAgICBwdWJsaWMgdmFyIHRlcm1pbmF0aW9uUmVhc29uOiBUZXJtaW5hdGlvblJlYXNvbiB7IGdldCB9CiAgICBwdWJsaWMgdmFyIHRlcm1pbmF0aW9uU3RhdHVzOiBJbnQzMiB7IGdldCB9CiAgICBvcGVuIGZ1bmMgaW50ZXJydXB0KCkge30KICAgIG9wZW4gZnVuYyByZXN1bWUoKSAtPiBCb29sIHt9CiAgICBvcGVuIGZ1bmMgcnVuKCkgdGhyb3dzIHt9CiAgICBvcGVuIGZ1bmMgc3VzcGVuZCgpIC0+IEJvb2wge30KICAgIG9wZW4gZnVuYyB0ZXJtaW5hdGUoKSB7fQogICAgb3BlbiBmdW5jIHdhaXRVbnRpbEV4aXQoKSB7fQp9Cm9wZW4gY2xhc3MgUHJvY2Vzc0luZm8gOiBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wsIF8gewogICAgcHVibGljIHN0YXRpYyB2YXIgcHJvY2Vzc0luZm8geyBnZXQgfQogICAgb3BlbiB2YXIgYWN0aXZlUHJvY2Vzc29yQ291bnQ6IEludCB7IGdldCB9CiAgICBvcGVuIHZhciBhcmd1bWVudHM6IFtTdHJpbmddIHsgZ2V0IH0KICAgIG9wZW4gdmFyIGVudmlyb25tZW50OiBbU3RyaW5nOiBTdHJpbmddIHsgZ2V0IH0KICAgIG9wZW4gdmFyIGZ1bGxVc2VyTmFtZTogU3RyaW5nIHsgZ2V0IH0KICAgIG9wZW4gdmFyIGdsb2JhbGx5VW5pcXVlU3RyaW5nOiBTdHJpbmcgeyBnZXQgfQogICAgb3BlbiB2YXIgaG9zdE5hbWU6IFN0cmluZyB7IGdldCB9CiAgICBvcGVuIHZhciBvcGVyYXRpbmdTeXN0ZW1WZXJzaW9uOiBPcGVyYXRpbmdTeXN0ZW1WZXJzaW9uIHsgZ2V0IH0KICAgIG9wZW4gdmFyIG9wZXJhdGluZ1N5c3RlbVZlcnNpb25TdHJpbmc6IFN0cmluZyB7IGdldCB9CiAgICBvcGVuIHZhciBwaHlzaWNhbE1lbW9yeTogVUludDY0IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHByb2Nlc3NJZGVudGlmaWVyOiBJbnQzMiB7IGdldCB9CiAgICBvcGVuIHZhciBwcm9jZXNzTmFtZTogU3RyaW5nIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBwcm9jZXNzb3JDb3VudDogSW50IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHN5c3RlbVVwdGltZTogVGltZUludGVydmFsIHsgZ2V0IH0KICAgIG9wZW4gdmFyIHVzZXJOYW1lOiBTdHJpbmcgeyBnZXQgfQogICAgb3BlbiBmdW5jIGlzT3BlcmF0aW5nU3lzdGVtQXRMZWFzdChfIHZlcnNpb246IE9wZXJhdGluZ1N5c3RlbVZlcnNpb24pIC0+IEJvb2wge30KfQpvcGVuIGNsYXNzIFByb2dyZXNzIDogQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBfIHsKICAgIG9wZW4gY2xhc3MgZnVuYyBjdXJyZW50KCkgLT4gUHJvZ3Jlc3M/IHt9CiAgICBvcGVuIGNsYXNzIGZ1bmMgZGlzY3JldGVQcm9ncmVzcyh0b3RhbFVuaXRDb3VudCB1bml0Q291bnQ6IEludDY0KSAtPiBQcm9ncmVzcyB7fQogICAgcHVibGljIGluaXQocGFyZW50IHBhcmVudFByb2dyZXNzOiBQcm9ncmVzcz8sIHVzZXJJbmZvIHVzZXJJbmZvT3JOaWw6IFtQcm9ncmVzc1VzZXJJbmZvS2V5OiBBbnldPyA9IHgpIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdCh0b3RhbFVuaXRDb3VudCB1bml0Q291bnQ6IEludDY0KSB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQodG90YWxVbml0Q291bnQgdW5pdENvdW50OiBJbnQ2NCwgcGFyZW50OiBQcm9ncmVzcywgcGVuZGluZ1VuaXRDb3VudCBwb3J0aW9uT2ZQYXJlbnRUb3RhbFVuaXRDb3VudDogSW50NjQpIHt9CiAgICBvcGVuIHZhciBjYW5jZWxsYXRpb25IYW5kbGVyOiAoKCkgLT4gVm9pZCk/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGNvbXBsZXRlZFVuaXRDb3VudDogSW50NjQgeyBnZXQgc2V0IH0KICAgIHB1YmxpYyB2YXIgZnJhY3Rpb25Db21wbGV0ZWQ6IERvdWJsZSB7IGdldCB9CiAgICBvcGVuIHZhciBpc0NhbmNlbGxhYmxlOiBCb29sIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBpc0NhbmNlbGxlZDogQm9vbCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgaXNGaW5pc2hlZDogQm9vbCB7IGdldCB9CiAgICBvcGVuIHZhciBpc0luZGV0ZXJtaW5hdGU6IEJvb2wgeyBnZXQgfQogICAgb3BlbiB2YXIgaXNQYXVzYWJsZTogQm9vbCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgaXNQYXVzZWQ6IEJvb2wgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGtpbmQ6IFByb2dyZXNzS2luZD8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGxvY2FsaXplZEFkZGl0aW9uYWxEZXNjcmlwdGlvbjogU3RyaW5nISB7IGdldCB9CiAgICBvcGVuIHZhciBsb2NhbGl6ZWREZXNjcmlwdGlvbjogU3RyaW5nISB7IGdldCB9CiAgICBvcGVuIHZhciBwYXVzaW5nSGFuZGxlcjogKCgpIC0+IFZvaWQpPyB7IGdldCB9CiAgICBvcGVuIHZhciByZXN1bWluZ0hhbmRsZXI6ICgoKSAtPiBWb2lkKT8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHRvdGFsVW5pdENvdW50OiBJbnQ2NCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgdXNlckluZm86IFtQcm9ncmVzc1VzZXJJbmZvS2V5OiBBbnldIHsgZ2V0IH0KICAgIG9wZW4gZnVuYyBhZGRDaGlsZChfIGNoaWxkOiBQcm9ncmVzcywgd2l0aFBlbmRpbmdVbml0Q291bnQgaW5Vbml0Q291bnQ6IEludDY0KSB7fQogICAgb3BlbiBmdW5jIGJlY29tZUN1cnJlbnQod2l0aFBlbmRpbmdVbml0Q291bnQgdW5pdENvdW50OiBJbnQ2NCkge30KICAgIG9wZW4gZnVuYyBjYW5jZWwoKSB7fQogICAgb3BlbiBmdW5jIHBhdXNlKCkge30KICAgIG9wZW4gZnVuYyByZXNpZ25DdXJyZW50KCkge30KICAgIG9wZW4gZnVuYyByZXN1bWUoKSB7fQogICAgb3BlbiBmdW5jIHNldFVzZXJJbmZvT2JqZWN0KF8gb2JqZWN0T3JOaWw6IEFueT8sIGZvcktleSBrZXk6IFByb2dyZXNzVXNlckluZm9LZXkpIHt9Cn0Kb3BlbiBjbGFzcyBQcm9wZXJ0eUxpc3RTZXJpYWxpemF0aW9uIDogQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBfIHsKICAgIG9wZW4gY2xhc3MgZnVuYyBkYXRhKGZyb21Qcm9wZXJ0eUxpc3QgcGxpc3Q6IEFueSwgZm9ybWF0OiBQcm9wZXJ0eUxpc3RGb3JtYXQsIG9wdGlvbnMgb3B0OiBXcml0ZU9wdGlvbnMpIHRocm93cyAtPiBEYXRhIHt9CiAgICBvcGVuIGNsYXNzIGZ1bmMgcHJvcGVydHlMaXN0KF8gcGxpc3Q6IEFueSwgaXNWYWxpZEZvciBmb3JtYXQ6IFByb3BlcnR5TGlzdEZvcm1hdCkgLT4gQm9vbCB7fQogICAgb3BlbiBjbGFzcyBmdW5jIHByb3BlcnR5TGlzdChmcm9tIGRhdGE6IERhdGEsIG9wdGlvbnMgb3B0OiBSZWFkT3B0aW9ucyA9IHgsIGZvcm1hdDogVW5zYWZlTXV0YWJsZVBvaW50ZXI8UHJvcGVydHlMaXN0Rm9ybWF0Pj8pIHRocm93cyAtPiBBbnkge30KICAgIG9wZW4gY2xhc3MgZnVuYyBwcm9wZXJ0eUxpc3Qod2l0aCBzdHJlYW06IElucHV0U3RyZWFtLCBvcHRpb25zIG9wdDogUmVhZE9wdGlvbnMgPSB4LCBmb3JtYXQ6IFVuc2FmZU11dGFibGVQb2ludGVyPFByb3BlcnR5TGlzdEZvcm1hdD4/KSB0aHJvd3MgLT4gQW55IHt9Cn0Kb3BlbiBjbGFzcyBSdW5Mb29wIDogQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBfIHsKICAgIG9wZW4gY2xhc3MgdmFyIGN1cnJlbnQ6IFJ1bkxvb3AgeyBnZXQgfQogICAgb3BlbiBjbGFzcyB2YXIgbWFpbjogUnVuTG9vcCB7IGdldCB9CiAgICBvcGVuIHZhciBjdXJyZW50TW9kZTogUnVuTG9vcC5Nb2RlPyB7IGdldCB9CiAgICBvcGVuIGZ1bmMgYWNjZXB0SW5wdXQoZm9yTW9kZSBtb2RlOiBTdHJpbmcsIGJlZm9yZSBsaW1pdERhdGU6IERhdGUpIHt9CiAgICBvcGVuIGZ1bmMgYWRkKF8gYVBvcnQ6IFBvcnQsIGZvck1vZGUgbW9kZTogUnVuTG9vcC5Nb2RlKSB7fQogICAgb3BlbiBmdW5jIGdldENGUnVuTG9vcCgpIC0+IENGUnVuTG9vcCB7fQogICAgb3BlbiBmdW5jIGxpbWl0RGF0ZShmb3JNb2RlIG1vZGU6IFJ1bkxvb3AuTW9kZSkgLT4gRGF0ZT8ge30KICAgIHB1YmxpYyBmdW5jIHBlcmZvcm0oXyBibG9jazogQGVzY2FwaW5nICgpIC0+IFZvaWQpIHt9CiAgICBwdWJsaWMgZnVuYyBwZXJmb3JtKGluTW9kZXMgbW9kZXM6IFtSdW5Mb29wLk1vZGVdLCBibG9jazogQGVzY2FwaW5nICgpIC0+IFZvaWQpIHt9CiAgICBvcGVuIGZ1bmMgcmVtb3ZlKF8gYVBvcnQ6IFBvcnQsIGZvck1vZGUgbW9kZTogUnVuTG9vcC5Nb2RlKSB7fQogICAgcHVibGljIGZ1bmMgcnVuKCkge30KICAgIHB1YmxpYyBmdW5jIHJ1bihtb2RlOiBSdW5Mb29wLk1vZGUsIGJlZm9yZSBsaW1pdERhdGU6IERhdGUpIC0+IEJvb2wge30KICAgIHB1YmxpYyBmdW5jIHJ1bih1bnRpbCBsaW1pdERhdGU6IERhdGUpIHt9Cn0Kb3BlbiBjbGFzcyBTY2FubmVyIDogQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TQ29weWluZywgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wsIF8gewogICAgb3BlbiBjbGFzcyBmdW5jIGxvY2FsaXplZFNjYW5uZXJXaXRoU3RyaW5nKF8gc3RyaW5nOiBTdHJpbmcpIC0+IEFueU9iamVjdCB7fQogICAgcHVibGljIGluaXQoc3RyaW5nOiBTdHJpbmcpIHt9CiAgICBvcGVuIHZhciBjYXNlU2Vuc2l0aXZlOiBCb29sIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBjaGFyYWN0ZXJzVG9CZVNraXBwZWQ6IENoYXJhY3RlclNldD8geyBnZXQgc2V0IH0KICAgIHB1YmxpYyB2YXIgaXNBdEVuZDogQm9vbCB7IGdldCB9CiAgICBvcGVuIHZhciBsb2NhbGU6IExvY2FsZT8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHNjYW5Mb2NhdGlvbjogSW50IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBzdHJpbmc6IFN0cmluZyB7IGdldCB9CiAgICBwdWJsaWMgZnVuYyBzY2FuQ2hhcmFjdGVyc0Zyb21TZXQoXyBzZXQ6IENoYXJhY3RlclNldCkgLT4gU3RyaW5nPyB7fQogICAgcHVibGljIGZ1bmMgc2NhbkRlY2ltYWwoKSAtPiBEZWNpbWFsPyB7fQogICAgcHVibGljIGZ1bmMgc2NhbkRlY2ltYWwoXyBkY206IGlub3V0IERlY2ltYWwpIC0+IEJvb2wge30KICAgIHB1YmxpYyBmdW5jIHNjYW5Eb3VibGUoKSAtPiBEb3VibGU/IHt9CiAgICBAZGlzY2FyZGFibGVSZXN1bHQgcHVibGljIGZ1bmMgc2NhbkRvdWJsZShfIHJlc3VsdDogVW5zYWZlTXV0YWJsZVBvaW50ZXI8RG91YmxlPikgLT4gQm9vbCB7fQogICAgcHVibGljIGZ1bmMgc2NhbkZsb2F0KCkgLT4gRmxvYXQ/IHt9CiAgICBAZGlzY2FyZGFibGVSZXN1bHQgcHVibGljIGZ1bmMgc2NhbkZsb2F0KF8gcmVzdWx0OiBVbnNhZmVNdXRhYmxlUG9pbnRlcjxGbG9hdD4pIC0+IEJvb2wge30KICAgIHB1YmxpYyBmdW5jIHNjYW5IZXhEb3VibGUoKSAtPiBEb3VibGU/IHt9CiAgICBAZGlzY2FyZGFibGVSZXN1bHQgcHVibGljIGZ1bmMgc2NhbkhleERvdWJsZShfIHJlc3VsdDogVW5zYWZlTXV0YWJsZVBvaW50ZXI8RG91YmxlPikgLT4gQm9vbCB7fQogICAgcHVibGljIGZ1bmMgc2NhbkhleEZsb2F0KCkgLT4gRmxvYXQ/IHt9CiAgICBAZGlzY2FyZGFibGVSZXN1bHQgcHVibGljIGZ1bmMgc2NhbkhleEZsb2F0KF8gcmVzdWx0OiBVbnNhZmVNdXRhYmxlUG9pbnRlcjxGbG9hdD4pIC0+IEJvb2wge30KICAgIHB1YmxpYyBmdW5jIHNjYW5IZXhJbnQzMigpIC0+IFVJbnQzMj8ge30KICAgIEBkaXNjYXJkYWJsZVJlc3VsdCBwdWJsaWMgZnVuYyBzY2FuSGV4SW50MzIoXyByZXN1bHQ6IFVuc2FmZU11dGFibGVQb2ludGVyPFVJbnQzMj4pIC0+IEJvb2wge30KICAgIHB1YmxpYyBmdW5jIHNjYW5IZXhJbnQ2NCgpIC0+IFVJbnQ2ND8ge30KICAgIEBkaXNjYXJkYWJsZVJlc3VsdCBwdWJsaWMgZnVuYyBzY2FuSGV4SW50NjQoXyByZXN1bHQ6IFVuc2FmZU11dGFibGVQb2ludGVyPFVJbnQ2ND4pIC0+IEJvb2wge30KICAgIHB1YmxpYyBmdW5jIHNjYW5JbnQoKSAtPiBJbnQ/IHt9CiAgICBAZGlzY2FyZGFibGVSZXN1bHQgcHVibGljIGZ1bmMgc2NhbkludChfIHJlc3VsdDogVW5zYWZlTXV0YWJsZVBvaW50ZXI8SW50PikgLT4gQm9vbCB7fQogICAgcHVibGljIGZ1bmMgc2NhbkludDMyKCkgLT4gSW50MzI/IHt9CiAgICBAZGlzY2FyZGFibGVSZXN1bHQgcHVibGljIGZ1bmMgc2NhbkludDMyKF8gcmVzdWx0OiBVbnNhZmVNdXRhYmxlUG9pbnRlcjxJbnQzMj4pIC0+IEJvb2wge30KICAgIHB1YmxpYyBmdW5jIHNjYW5JbnQ2NCgpIC0+IEludDY0PyB7fQogICAgQGRpc2NhcmRhYmxlUmVzdWx0IHB1YmxpYyBmdW5jIHNjYW5JbnQ2NChfIHJlc3VsdDogVW5zYWZlTXV0YWJsZVBvaW50ZXI8SW50NjQ+KSAtPiBCb29sIHt9CiAgICBwdWJsaWMgZnVuYyBzY2FuU3RyaW5nKF8gc2VhcmNoU3RyaW5nOiBTdHJpbmcpIC0+IFN0cmluZz8ge30KICAgIEBkaXNjYXJkYWJsZVJlc3VsdCBwdWJsaWMgZnVuYyBzY2FuU3RyaW5nKF8gc3RyaW5nOiBTdHJpbmcsIGludG8gcHRyOiBVbnNhZmVNdXRhYmxlUG9pbnRlcjxTdHJpbmc/Pj8pIC0+IEJvb2wge30KICAgIHB1YmxpYyBmdW5jIHNjYW5VbnNpZ25lZExvbmdMb25nKCkgLT4gVUludDY0PyB7fQogICAgQGRpc2NhcmRhYmxlUmVzdWx0IHB1YmxpYyBmdW5jIHNjYW5VbnNpZ25lZExvbmdMb25nKF8gcmVzdWx0OiBVbnNhZmVNdXRhYmxlUG9pbnRlcjxVSW50NjQ+KSAtPiBCb29sIHt9CiAgICBAZGlzY2FyZGFibGVSZXN1bHQgcHVibGljIGZ1bmMgc2NhblVwVG9DaGFyYWN0ZXJzKGZyb20gc2V0OiBDaGFyYWN0ZXJTZXQsIGludG8gcHRyOiBVbnNhZmVNdXRhYmxlUG9pbnRlcjxTdHJpbmc/Pj8pIC0+IEJvb2wge30KICAgIHB1YmxpYyBmdW5jIHNjYW5VcFRvQ2hhcmFjdGVyc0Zyb21TZXQoXyBzZXQ6IENoYXJhY3RlclNldCkgLT4gU3RyaW5nPyB7fQogICAgcHVibGljIGZ1bmMgc2NhblVwVG9TdHJpbmcoXyBzdHJpbmc6IFN0cmluZykgLT4gU3RyaW5nPyB7fQp9Cm9wZW4gY2xhc3MgU29ja2V0UG9ydCA6IEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU0NvZGluZywgTlNDb3B5aW5nLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCwgUG9ydCwgXyB7CiAgICBwdWJsaWMgaW5pdD8ocHJvdG9jb2xGYW1pbHkgZmFtaWx5OiBJbnQzMiwgc29ja2V0VHlwZSB0eXBlOiBJbnQzMiwgcHJvdG9jb2w6IEludDMyLCBhZGRyZXNzOiBEYXRhKSB7fQogICAgcHVibGljIGluaXQ/KHByb3RvY29sRmFtaWx5IGZhbWlseTogSW50MzIsIHNvY2tldFR5cGUgdHlwZTogSW50MzIsIHByb3RvY29sOiBJbnQzMiwgc29ja2V0IHNvY2s6IFNvY2tldE5hdGl2ZUhhbmRsZSkge30KICAgIHB1YmxpYyBpbml0KHJlbW90ZVdpdGhQcm90b2NvbEZhbWlseSBmYW1pbHk6IEludDMyLCBzb2NrZXRUeXBlIHR5cGU6IEludDMyLCBwcm90b2NvbDogSW50MzIsIGFkZHJlc3M6IERhdGEpIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdD8ocmVtb3RlV2l0aFRDUFBvcnQgcG9ydDogVUludDE2LCBob3N0IGhvc3ROYW1lOiBTdHJpbmc/KSB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQ/KHRjcFBvcnQgcG9ydDogVUludDE2KSB7fQogICAgb3BlbiB2YXIgYWRkcmVzczogRGF0YSB7IGdldCB9CiAgICBvcGVuIHZhciBwcm90b2NvbDogSW50MzIgeyBnZXQgfQogICAgb3BlbiB2YXIgcHJvdG9jb2xGYW1pbHk6IEludDMyIHsgZ2V0IH0KICAgIG9wZW4gdmFyIHNvY2tldDogU29ja2V0TmF0aXZlSGFuZGxlIHsgZ2V0IH0KICAgIG9wZW4gdmFyIHNvY2tldFR5cGU6IEludDMyIHsgZ2V0IH0KfQpvcGVuIGNsYXNzIFN0cmVhbSA6IEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCwgXyB7CiNpZiBmYWxzZQogICAgb3BlbiBjbGFzcyBmdW5jIGdldEJvdW5kU3RyZWFtcyh3aXRoQnVmZmVyU2l6ZSBidWZmZXJTaXplOiBJbnQsIGlucHV0U3RyZWFtOiBBdXRvcmVsZWFzaW5nVW5zYWZlTXV0YWJsZVBvaW50ZXI8SW5wdXRTdHJlYW0/Pj8sIG91dHB1dFN0cmVhbTogQXV0b3JlbGVhc2luZ1Vuc2FmZU11dGFibGVQb2ludGVyPE91dHB1dFN0cmVhbT8+Pykge30KI2VuZGlmCiNpZiBmYWxzZQogICAgb3BlbiBjbGFzcyBmdW5jIGdldFN0cmVhbXNUb0hvc3Qod2l0aE5hbWUgaG9zdG5hbWU6IFN0cmluZywgcG9ydDogSW50LCBpbnB1dFN0cmVhbTogQXV0b3JlbGVhc2luZ1Vuc2FmZU11dGFibGVQb2ludGVyPElucHV0U3RyZWFtPz4/LCBvdXRwdXRTdHJlYW06IEF1dG9yZWxlYXNpbmdVbnNhZmVNdXRhYmxlUG9pbnRlcjxPdXRwdXRTdHJlYW0/Pj8pIHt9CiNlbmRpZgogICAgb3BlbiB3ZWFrIHZhciBkZWxlZ2F0ZTogU3RyZWFtRGVsZWdhdGU/IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBzdHJlYW1FcnJvcjogRXJyb3I/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHN0cmVhbVN0YXR1czogU3RhdHVzIHsgZ2V0IH0KICAgIG9wZW4gZnVuYyBjbG9zZSgpIHt9CiAgICBvcGVuIGZ1bmMgb3BlbigpIHt9CiAgICBvcGVuIGZ1bmMgcHJvcGVydHkoZm9yS2V5IGtleTogUHJvcGVydHlLZXkpIC0+IEFueU9iamVjdD8ge30KICAgIG9wZW4gZnVuYyByZW1vdmUoZnJvbSBhUnVuTG9vcDogUnVuTG9vcCwgZm9yTW9kZSBtb2RlOiBSdW5Mb29wLk1vZGUpIHt9CiAgICBvcGVuIGZ1bmMgc2NoZWR1bGUoaW4gYVJ1bkxvb3A6IFJ1bkxvb3AsIGZvck1vZGUgbW9kZTogUnVuTG9vcC5Nb2RlKSB7fQogICAgb3BlbiBmdW5jIHNldFByb3BlcnR5KF8gcHJvcGVydHk6IEFueU9iamVjdD8sIGZvcktleSBrZXk6IFByb3BlcnR5S2V5KSAtPiBCb29sIHt9Cn0Kb3BlbiBjbGFzcyBUaHJlYWQgOiBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wsIF8gewogICAgb3BlbiBjbGFzcyB2YXIgY2FsbFN0YWNrUmV0dXJuQWRkcmVzc2VzOiBbTlNOdW1iZXJdIHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgdmFyIGNhbGxTdGFja1N5bWJvbHM6IFtTdHJpbmddIHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgdmFyIGN1cnJlbnQ6IFRocmVhZCB7IGdldCB9CiAgICBvcGVuIGNsYXNzIHZhciBpc01haW5UaHJlYWQ6IEJvb2wgeyBnZXQgfQogICAgb3BlbiBjbGFzcyB2YXIgbWFpblRocmVhZDogVGhyZWFkIHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgZnVuYyBkZXRhY2hOZXdUaHJlYWQoXyBibG9jazogQGVzY2FwaW5nICgpIC0+IFN3aWZ0LlZvaWQpIHt9CiAgICBvcGVuIGNsYXNzIGZ1bmMgZXhpdCgpIHt9CiAgICBvcGVuIGNsYXNzIGZ1bmMgaXNNdWx0aVRocmVhZGVkKCkgLT4gQm9vbCB7fQogICAgb3BlbiBjbGFzcyBmdW5jIHNsZWVwKGZvclRpbWVJbnRlcnZhbCBpbnRlcnZhbDogVGltZUludGVydmFsKSB7fQogICAgb3BlbiBjbGFzcyBmdW5jIHNsZWVwKHVudGlsIGRhdGU6IERhdGUpIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdChibG9jazogQGVzY2FwaW5nICgpIC0+IFN3aWZ0LlZvaWQpIHt9CiAgICBvcGVuIHZhciBpc0NhbmNlbGxlZDogQm9vbCB7IGdldCB9CiAgICBvcGVuIHZhciBpc0V4ZWN1dGluZzogQm9vbCB7IGdldCB9CiAgICBvcGVuIHZhciBpc0ZpbmlzaGVkOiBCb29sIHsgZ2V0IH0KICAgIG9wZW4gdmFyIGlzTWFpblRocmVhZDogQm9vbCB7IGdldCB9CiAgICBvcGVuIHZhciBuYW1lOiBTdHJpbmc/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHN0YWNrU2l6ZTogSW50IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciB0aHJlYWREaWN0aW9uYXJ5OiBOU011dGFibGVEaWN0aW9uYXJ5IHsgZ2V0IH0KICAgIG9wZW4gZnVuYyBjYW5jZWwoKSB7fQogICAgb3BlbiBmdW5jIG1haW4oKSB7fQogICAgb3BlbiBmdW5jIHN0YXJ0KCkge30KfQpvcGVuIGNsYXNzIFRpbWVyIDogQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBfIHsKICAgIG9wZW4gY2xhc3MgZnVuYyBzY2hlZHVsZWRUaW1lcih3aXRoVGltZUludGVydmFsIGludGVydmFsOiBUaW1lSW50ZXJ2YWwsIHJlcGVhdHM6IEJvb2wsIGJsb2NrOiBAZXNjYXBpbmcgKFRpbWVyKSAtPiBWb2lkKSAtPiBUaW1lciB7fQogICAgcHVibGljIGluaXQoZmlyZSBkYXRlOiBEYXRlLCBpbnRlcnZhbDogVGltZUludGVydmFsLCByZXBlYXRzOiBCb29sLCBibG9jazogQGVzY2FwaW5nIChUaW1lcikgLT4gU3dpZnQuVm9pZCkge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KHRpbWVJbnRlcnZhbCBpbnRlcnZhbDogVGltZUludGVydmFsLCByZXBlYXRzOiBCb29sLCBibG9jazogQGVzY2FwaW5nIChUaW1lcikgLT4gU3dpZnQuVm9pZCkge30KICAgIG9wZW4gdmFyIGZpcmVEYXRlOiBEYXRlIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBpc1ZhbGlkOiBCb29sIHsgZ2V0IH0KICAgIG9wZW4gdmFyIHRpbWVJbnRlcnZhbDogVGltZUludGVydmFsIHsgZ2V0IH0KICAgIG9wZW4gdmFyIHRvbGVyYW5jZTogVGltZUludGVydmFsIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciB1c2VySW5mbzogQW55PyB7IGdldCB9CiAgICBvcGVuIGZ1bmMgZmlyZSgpIHt9CiAgICBvcGVuIGZ1bmMgaW52YWxpZGF0ZSgpIHt9Cn0Kb3BlbiBjbGFzcyBVUkxBdXRoZW50aWNhdGlvbkNoYWxsZW5nZSA6IEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU0NvZGluZywgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wsIE5TU2VjdXJlQ29kaW5nLCBfIHsKICAgIHB1YmxpYyBpbml0KGF1dGhlbnRpY2F0aW9uQ2hhbGxlbmdlIGNoYWxsZW5nZTogVVJMQXV0aGVudGljYXRpb25DaGFsbGVuZ2UsIHNlbmRlcjogVVJMQXV0aGVudGljYXRpb25DaGFsbGVuZ2VTZW5kZXIpIHt9CiAgICBwdWJsaWMgaW5pdChwcm90ZWN0aW9uU3BhY2Ugc3BhY2U6IFVSTFByb3RlY3Rpb25TcGFjZSwgcHJvcG9zZWRDcmVkZW50aWFsIGNyZWRlbnRpYWw6IFVSTENyZWRlbnRpYWw/LCBwcmV2aW91c0ZhaWx1cmVDb3VudDogSW50LCBmYWlsdXJlUmVzcG9uc2UgcmVzcG9uc2U6IFVSTFJlc3BvbnNlPywgZXJyb3I6IEVycm9yPywgc2VuZGVyOiBVUkxBdXRoZW50aWNhdGlvbkNoYWxsZW5nZVNlbmRlcikge30KICAgIG9wZW4gdmFyIGVycm9yOiBFcnJvcj8geyBnZXQgfQogICAgb3BlbiB2YXIgZmFpbHVyZVJlc3BvbnNlOiBVUkxSZXNwb25zZT8geyBnZXQgfQogICAgb3BlbiB2YXIgcHJldmlvdXNGYWlsdXJlQ291bnQ6IEludCB7IGdldCB9CiAgICBvcGVuIHZhciBwcm9wb3NlZENyZWRlbnRpYWw6IFVSTENyZWRlbnRpYWw/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHByb3RlY3Rpb25TcGFjZTogVVJMUHJvdGVjdGlvblNwYWNlIHsgZ2V0IH0KICAgIG9wZW4gdmFyIHNlbmRlcjogVVJMQXV0aGVudGljYXRpb25DaGFsbGVuZ2VTZW5kZXI/IHsgZ2V0IH0KfQpvcGVuIGNsYXNzIFVSTENhY2hlIDogQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBfIHsKICAgIG9wZW4gY2xhc3MgdmFyIHNoYXJlZDogVVJMQ2FjaGUgeyBnZXQgc2V0IH0KICAgIHB1YmxpYyBpbml0KG1lbW9yeUNhcGFjaXR5OiBJbnQsIGRpc2tDYXBhY2l0eTogSW50LCBkaXNrUGF0aCBwYXRoOiBTdHJpbmc/KSB7fQogICAgb3BlbiB2YXIgY3VycmVudERpc2tVc2FnZTogSW50IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGN1cnJlbnRNZW1vcnlVc2FnZTogSW50IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGRpc2tDYXBhY2l0eTogSW50IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBtZW1vcnlDYXBhY2l0eTogSW50IHsgZ2V0IHNldCB9CiAgICBvcGVuIGZ1bmMgY2FjaGVkUmVzcG9uc2UoZm9yIHJlcXVlc3Q6IFVSTFJlcXVlc3QpIC0+IENhY2hlZFVSTFJlc3BvbnNlPyB7fQogICAgcHVibGljIGZ1bmMgZ2V0Q2FjaGVkUmVzcG9uc2UoZm9yIGRhdGFUYXNrOiBVUkxTZXNzaW9uRGF0YVRhc2ssIGNvbXBsZXRpb25IYW5kbGVyOiAoQ2FjaGVkVVJMUmVzcG9uc2U/KSAtPiBWb2lkKSB7fQogICAgb3BlbiBmdW5jIHJlbW92ZUFsbENhY2hlZFJlc3BvbnNlcygpIHt9CiAgICBwdWJsaWMgZnVuYyByZW1vdmVDYWNoZWRSZXNwb25zZShmb3IgZGF0YVRhc2s6IFVSTFNlc3Npb25EYXRhVGFzaykge30KICAgIG9wZW4gZnVuYyByZW1vdmVDYWNoZWRSZXNwb25zZXMoc2luY2UgZGF0ZTogRGF0ZSkge30KICAgIHB1YmxpYyBmdW5jIHN0b3JlQ2FjaGVkUmVzcG9uc2UoXyBjYWNoZWRSZXNwb25zZTogQ2FjaGVkVVJMUmVzcG9uc2UsIGZvciBkYXRhVGFzazogVVJMU2Vzc2lvbkRhdGFUYXNrKSB7fQp9Cm9wZW4gY2xhc3MgVVJMQ3JlZGVudGlhbCA6IEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU0NvZGluZywgTlNDb3B5aW5nLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCwgTlNTZWN1cmVDb2RpbmcsIF8gewogICAgcHVibGljIGluaXQodXNlcjogU3RyaW5nLCBwYXNzd29yZDogU3RyaW5nLCBwZXJzaXN0ZW5jZTogUGVyc2lzdGVuY2UpIHt9CiAgICBvcGVuIHZhciBoYXNQYXNzd29yZDogQm9vbCB7IGdldCB9CiAgICBvcGVuIHZhciBwYXNzd29yZDogU3RyaW5nPyB7IGdldCB9CiAgICBvcGVuIHZhciBwZXJzaXN0ZW5jZTogUGVyc2lzdGVuY2UgeyBnZXQgfQogICAgb3BlbiB2YXIgdXNlcjogU3RyaW5nPyB7IGdldCB9Cn0Kb3BlbiBjbGFzcyBVUkxDcmVkZW50aWFsU3RvcmFnZSA6IEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCwgXyB7CiAgICBvcGVuIGNsYXNzIHZhciBzaGFyZWQ6IFVSTENyZWRlbnRpYWxTdG9yYWdlIHsgZ2V0IH0KICAgIG9wZW4gdmFyIGFsbENyZWRlbnRpYWxzOiBbVVJMUHJvdGVjdGlvblNwYWNlOiBbU3RyaW5nOiBVUkxDcmVkZW50aWFsXV0geyBnZXQgfQogICAgb3BlbiBmdW5jIGNyZWRlbnRpYWxzKGZvciBzcGFjZTogVVJMUHJvdGVjdGlvblNwYWNlKSAtPiBbU3RyaW5nOiBVUkxDcmVkZW50aWFsXT8ge30KICAgIG9wZW4gZnVuYyBkZWZhdWx0Q3JlZGVudGlhbChmb3Igc3BhY2U6IFVSTFByb3RlY3Rpb25TcGFjZSkgLT4gVVJMQ3JlZGVudGlhbD8ge30KICAgIHB1YmxpYyBmdW5jIGdldENyZWRlbnRpYWxzKGZvciBwcm90ZWN0aW9uU3BhY2U6IFVSTFByb3RlY3Rpb25TcGFjZSwgdGFzazogVVJMU2Vzc2lvblRhc2ssIGNvbXBsZXRpb25IYW5kbGVyOiAoW1N0cmluZzogVVJMQ3JlZGVudGlhbF0/KSAtPiBWb2lkKSB7fQogICAgcHVibGljIGZ1bmMgZ2V0RGVmYXVsdENyZWRlbnRpYWwoZm9yIHNwYWNlOiBVUkxQcm90ZWN0aW9uU3BhY2UsIHRhc2s6IFVSTFNlc3Npb25UYXNrLCBjb21wbGV0aW9uSGFuZGxlcjogKFVSTENyZWRlbnRpYWw/KSAtPiBWb2lkKSB7fQogICAgb3BlbiBmdW5jIHJlbW92ZShfIGNyZWRlbnRpYWw6IFVSTENyZWRlbnRpYWwsIGZvciBzcGFjZTogVVJMUHJvdGVjdGlvblNwYWNlKSB7fQogICAgb3BlbiBmdW5jIHJlbW92ZShfIGNyZWRlbnRpYWw6IFVSTENyZWRlbnRpYWwsIGZvciBzcGFjZTogVVJMUHJvdGVjdGlvblNwYWNlLCBvcHRpb25zOiBbU3RyaW5nOiBBbnlPYmplY3RdPyA9IHgpIHt9CiAgICBwdWJsaWMgZnVuYyByZW1vdmUoXyBjcmVkZW50aWFsOiBVUkxDcmVkZW50aWFsLCBmb3IgcHJvdGVjdGlvblNwYWNlOiBVUkxQcm90ZWN0aW9uU3BhY2UsIG9wdGlvbnM6IFtTdHJpbmc6IEFueU9iamVjdF0/ID0geCwgdGFzazogVVJMU2Vzc2lvblRhc2spIHt9CiAgICBvcGVuIGZ1bmMgc2V0KF8gY3JlZGVudGlhbDogVVJMQ3JlZGVudGlhbCwgZm9yIHNwYWNlOiBVUkxQcm90ZWN0aW9uU3BhY2UpIHt9CiAgICBwdWJsaWMgZnVuYyBzZXQoXyBjcmVkZW50aWFsOiBVUkxDcmVkZW50aWFsLCBmb3IgcHJvdGVjdGlvblNwYWNlOiBVUkxQcm90ZWN0aW9uU3BhY2UsIHRhc2s6IFVSTFNlc3Npb25UYXNrKSB7fQogICAgb3BlbiBmdW5jIHNldERlZmF1bHRDcmVkZW50aWFsKF8gY3JlZGVudGlhbDogVVJMQ3JlZGVudGlhbCwgZm9yIHNwYWNlOiBVUkxQcm90ZWN0aW9uU3BhY2UpIHt9CiAgICBwdWJsaWMgZnVuYyBzZXREZWZhdWx0Q3JlZGVudGlhbChfIGNyZWRlbnRpYWw6IFVSTENyZWRlbnRpYWwsIGZvciBwcm90ZWN0aW9uU3BhY2U6IFVSTFByb3RlY3Rpb25TcGFjZSwgdGFzazogVVJMU2Vzc2lvblRhc2spIHt9Cn0Kb3BlbiBjbGFzcyBVUkxQcm90ZWN0aW9uU3BhY2UgOiBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNDb2RpbmcsIE5TQ29weWluZywgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wsIE5TU2VjdXJlQ29kaW5nLCBfIHsKICAgIHB1YmxpYyBpbml0KGhvc3Q6IFN0cmluZywgcG9ydDogSW50LCBwcm90b2NvbDogU3RyaW5nPywgcmVhbG06IFN0cmluZz8sIGF1dGhlbnRpY2F0aW9uTWV0aG9kOiBTdHJpbmc/KSB7fQogICAgcHVibGljIGluaXQocHJveHlIb3N0IGhvc3Q6IFN0cmluZywgcG9ydDogSW50LCB0eXBlOiBTdHJpbmc/LCByZWFsbTogU3RyaW5nPywgYXV0aGVudGljYXRpb25NZXRob2Q6IFN0cmluZz8pIHt9CiAgICBvcGVuIHZhciBhdXRoZW50aWNhdGlvbk1ldGhvZDogU3RyaW5nIHsgZ2V0IH0KICAgIHB1YmxpYyB2YXIgZGlzdGluZ3Vpc2hlZE5hbWVzOiBbRGF0YV0/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGhvc3Q6IFN0cmluZyB7IGdldCB9CiAgICBvcGVuIHZhciBwb3J0OiBJbnQgeyBnZXQgfQogICAgb3BlbiB2YXIgcHJvdG9jb2w6IFN0cmluZz8geyBnZXQgfQogICAgb3BlbiB2YXIgcHJveHlUeXBlOiBTdHJpbmc/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHJlYWxtOiBTdHJpbmc/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHJlY2VpdmVzQ3JlZGVudGlhbFNlY3VyZWx5OiBCb29sIHsgZ2V0IH0KfQpvcGVuIGNsYXNzIFVSTFByb3RvY29sIDogQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBfIHsKICAgIG9wZW4gY2xhc3MgZnVuYyBjYW5Jbml0KHdpdGggcmVxdWVzdDogVVJMUmVxdWVzdCkgLT4gQm9vbCB7fQogICAgb3BlbiBjbGFzcyBmdW5jIGNhbm9uaWNhbFJlcXVlc3QoZm9yIHJlcXVlc3Q6IFVSTFJlcXVlc3QpIC0+IFVSTFJlcXVlc3Qge30KICAgIG9wZW4gY2xhc3MgZnVuYyBwcm9wZXJ0eShmb3JLZXkga2V5OiBTdHJpbmcsIGluIHJlcXVlc3Q6IFVSTFJlcXVlc3QpIC0+IEFueT8ge30KICAgIG9wZW4gY2xhc3MgZnVuYyByZWdpc3RlckNsYXNzKF8gcHJvdG9jb2xDbGFzczogQW55Q2xhc3MpIC0+IEJvb2wge30KICAgIG9wZW4gY2xhc3MgZnVuYyByZW1vdmVQcm9wZXJ0eShmb3JLZXkga2V5OiBTdHJpbmcsIGluIHJlcXVlc3Q6IE5TTXV0YWJsZVVSTFJlcXVlc3QpIHt9CiAgICBvcGVuIGNsYXNzIGZ1bmMgcmVxdWVzdElzQ2FjaGVFcXVpdmFsZW50KF8gYTogVVJMUmVxdWVzdCwgdG8gYjogVVJMUmVxdWVzdCkgLT4gQm9vbCB7fQogICAgb3BlbiBjbGFzcyBmdW5jIHNldFByb3BlcnR5KF8gdmFsdWU6IEFueSwgZm9yS2V5IGtleTogU3RyaW5nLCBpbiByZXF1ZXN0OiBOU011dGFibGVVUkxSZXF1ZXN0KSB7fQogICAgb3BlbiBjbGFzcyBmdW5jIHVucmVnaXN0ZXJDbGFzcyhfIHByb3RvY29sQ2xhc3M6IEFueUNsYXNzKSB7fQogICAgcHVibGljIHJlcXVpcmVkIGluaXQocmVxdWVzdDogVVJMUmVxdWVzdCwgY2FjaGVkUmVzcG9uc2U6IENhY2hlZFVSTFJlc3BvbnNlPywgY2xpZW50OiBVUkxQcm90b2NvbENsaWVudD8pIHt9CiAgICBwdWJsaWMgcmVxdWlyZWQgY29udmVuaWVuY2UgaW5pdCh0YXNrOiBVUkxTZXNzaW9uVGFzaywgY2FjaGVkUmVzcG9uc2U6IENhY2hlZFVSTFJlc3BvbnNlPywgY2xpZW50OiBVUkxQcm90b2NvbENsaWVudD8pIHt9CiAgICBvcGVuIHZhciBjYWNoZWRSZXNwb25zZTogQ2FjaGVkVVJMUmVzcG9uc2U/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGNsaWVudDogVVJMUHJvdG9jb2xDbGllbnQ/IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciByZXF1ZXN0OiBVUkxSZXF1ZXN0IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHRhc2s6IFVSTFNlc3Npb25UYXNrPyB7IGdldCBzZXQgfQogICAgb3BlbiBmdW5jIHN0YXJ0TG9hZGluZygpIHt9CiAgICBvcGVuIGZ1bmMgc3RvcExvYWRpbmcoKSB7fQp9Cm9wZW4gY2xhc3MgVVJMUmVzcG9uc2UgOiBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNDb2RpbmcsIE5TQ29weWluZywgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wsIE5TU2VjdXJlQ29kaW5nLCBfIHsKICAgIHB1YmxpYyBpbml0KHVybDogVVJMLCBtaW1lVHlwZTogU3RyaW5nPywgZXhwZWN0ZWRDb250ZW50TGVuZ3RoIGxlbmd0aDogSW50LCB0ZXh0RW5jb2RpbmdOYW1lIG5hbWU6IFN0cmluZz8pIHt9CiAgICBvcGVuIHZhciBleHBlY3RlZENvbnRlbnRMZW5ndGg6IEludDY0IHsgZ2V0IH0KICAgIG9wZW4gdmFyIG1pbWVUeXBlOiBTdHJpbmc/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHN1Z2dlc3RlZEZpbGVuYW1lOiBTdHJpbmc/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHRleHRFbmNvZGluZ05hbWU6IFN0cmluZz8geyBnZXQgfQogICAgb3BlbiB2YXIgdXJsOiBVUkw/IHsgZ2V0IH0KfQpvcGVuIGNsYXNzIFVSTFNlc3Npb24gOiBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wsIFVSTFNlc3Npb25Qcm90b2NvbCwgXyB7CiAgICBvcGVuIGNsYXNzIHZhciBzaGFyZWQ6IFVSTFNlc3Npb24geyBnZXQgfQogICAgcHVibGljIGluaXQoY29uZmlndXJhdGlvbjogVVJMU2Vzc2lvbkNvbmZpZ3VyYXRpb24pIHt9CiAgICBwdWJsaWMgaW5pdChjb25maWd1cmF0aW9uOiBVUkxTZXNzaW9uQ29uZmlndXJhdGlvbiwgZGVsZWdhdGU6IFVSTFNlc3Npb25EZWxlZ2F0ZT8sIGRlbGVnYXRlUXVldWUgcXVldWU6IE9wZXJhdGlvblF1ZXVlPykge30KICAgIG9wZW4gdmFyIGNvbmZpZ3VyYXRpb246IFVSTFNlc3Npb25Db25maWd1cmF0aW9uIHsgZ2V0IH0KICAgIG9wZW4gdmFyIGRlbGVnYXRlOiBVUkxTZXNzaW9uRGVsZWdhdGU/IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBkZWxlZ2F0ZVF1ZXVlOiBPcGVyYXRpb25RdWV1ZSB7IGdldCB9CiAgICBvcGVuIHZhciBzZXNzaW9uRGVzY3JpcHRpb246IFN0cmluZz8geyBnZXQgc2V0IH0KICAgIG9wZW4gZnVuYyBkYXRhVGFzayh3aXRoIHJlcXVlc3Q6IFVSTFJlcXVlc3QpIC0+IFVSTFNlc3Npb25EYXRhVGFzayB7fQogICAgb3BlbiBmdW5jIGRhdGFUYXNrKHdpdGggcmVxdWVzdDogVVJMUmVxdWVzdCwgY29tcGxldGlvbkhhbmRsZXI6IEBlc2NhcGluZyAoRGF0YT8sIFVSTFJlc3BvbnNlPywgRXJyb3I/KSAtPiBWb2lkKSAtPiBVUkxTZXNzaW9uRGF0YVRhc2sge30KICAgIG9wZW4gZnVuYyBkb3dubG9hZFRhc2sod2l0aCByZXF1ZXN0OiBVUkxSZXF1ZXN0KSAtPiBVUkxTZXNzaW9uRG93bmxvYWRUYXNrIHt9CiAgICBvcGVuIGZ1bmMgZG93bmxvYWRUYXNrKHdpdGggcmVxdWVzdDogVVJMUmVxdWVzdCwgY29tcGxldGlvbkhhbmRsZXI6IEBlc2NhcGluZyAoVVJMPywgVVJMUmVzcG9uc2U/LCBFcnJvcj8pIC0+IFZvaWQpIC0+IFVSTFNlc3Npb25Eb3dubG9hZFRhc2sge30KICAgIG9wZW4gZnVuYyBkb3dubG9hZFRhc2sod2l0aFJlc3VtZURhdGEgcmVzdW1lRGF0YTogRGF0YSkgLT4gVVJMU2Vzc2lvbkRvd25sb2FkVGFzayB7fQogICAgb3BlbiBmdW5jIGRvd25sb2FkVGFzayh3aXRoUmVzdW1lRGF0YSByZXN1bWVEYXRhOiBEYXRhLCBjb21wbGV0aW9uSGFuZGxlcjogQGVzY2FwaW5nIChVUkw/LCBVUkxSZXNwb25zZT8sIEVycm9yPykgLT4gVm9pZCkgLT4gVVJMU2Vzc2lvbkRvd25sb2FkVGFzayB7fQogICAgb3BlbiBmdW5jIGZpbmlzaFRhc2tzQW5kSW52YWxpZGF0ZSgpIHt9CiAgICBvcGVuIGZ1bmMgZmx1c2goY29tcGxldGlvbkhhbmRsZXI6IEBlc2NhcGluZyAoKSAtPiBWb2lkKSB7fQogICAgb3BlbiBmdW5jIGdldEFsbFRhc2tzKGNvbXBsZXRpb25IYW5kbGVyOiBAZXNjYXBpbmcgKFtVUkxTZXNzaW9uVGFza10pIC0+IFZvaWQpIHt9CiAgICBvcGVuIGZ1bmMgZ2V0VGFza3NXaXRoQ29tcGxldGlvbkhhbmRsZXIoY29tcGxldGlvbkhhbmRsZXI6IEBlc2NhcGluZyAoW1VSTFNlc3Npb25EYXRhVGFza10sIFtVUkxTZXNzaW9uVXBsb2FkVGFza10sIFtVUkxTZXNzaW9uRG93bmxvYWRUYXNrXSkgLT4gVm9pZCkge30KICAgIG9wZW4gZnVuYyBpbnZhbGlkYXRlQW5kQ2FuY2VsKCkge30KICAgIG9wZW4gZnVuYyByZXNldChjb21wbGV0aW9uSGFuZGxlcjogQGVzY2FwaW5nICgpIC0+IFZvaWQpIHt9CiAgICBvcGVuIGZ1bmMgc3RyZWFtVGFzayh3aXRoSG9zdE5hbWUgaG9zdG5hbWU6IFN0cmluZywgcG9ydDogSW50KSAtPiBVUkxTZXNzaW9uU3RyZWFtVGFzayB7fQogICAgb3BlbiBmdW5jIHVwbG9hZFRhc2sod2l0aCByZXF1ZXN0OiBVUkxSZXF1ZXN0LCBmcm9tIGJvZHlEYXRhOiBEYXRhKSAtPiBVUkxTZXNzaW9uVXBsb2FkVGFzayB7fQogICAgb3BlbiBmdW5jIHVwbG9hZFRhc2sod2l0aCByZXF1ZXN0OiBVUkxSZXF1ZXN0LCBmcm9tIGJvZHlEYXRhOiBEYXRhPywgY29tcGxldGlvbkhhbmRsZXI6IEBlc2NhcGluZyAoRGF0YT8sIFVSTFJlc3BvbnNlPywgRXJyb3I/KSAtPiBWb2lkKSAtPiBVUkxTZXNzaW9uVXBsb2FkVGFzayB7fQogICAgb3BlbiBmdW5jIHVwbG9hZFRhc2sod2l0aCByZXF1ZXN0OiBVUkxSZXF1ZXN0LCBmcm9tRmlsZSBmaWxlVVJMOiBVUkwpIC0+IFVSTFNlc3Npb25VcGxvYWRUYXNrIHt9CiAgICBvcGVuIGZ1bmMgdXBsb2FkVGFzayh3aXRoIHJlcXVlc3Q6IFVSTFJlcXVlc3QsIGZyb21GaWxlIGZpbGVVUkw6IFVSTCwgY29tcGxldGlvbkhhbmRsZXI6IEBlc2NhcGluZyAoRGF0YT8sIFVSTFJlc3BvbnNlPywgRXJyb3I/KSAtPiBWb2lkKSAtPiBVUkxTZXNzaW9uVXBsb2FkVGFzayB7fQogICAgb3BlbiBmdW5jIHVwbG9hZFRhc2sod2l0aFN0cmVhbWVkUmVxdWVzdCByZXF1ZXN0OiBVUkxSZXF1ZXN0KSAtPiBVUkxTZXNzaW9uVXBsb2FkVGFzayB7fQp9Cm9wZW4gY2xhc3MgVVJMU2Vzc2lvbkNvbmZpZ3VyYXRpb24gOiBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNDb3B5aW5nLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCwgXyB7CiAgICBvcGVuIGNsYXNzIHZhciBkZWZhdWx0OiBVUkxTZXNzaW9uQ29uZmlndXJhdGlvbiB7IGdldCB9CiAgICBvcGVuIGNsYXNzIHZhciBlcGhlbWVyYWw6IFVSTFNlc3Npb25Db25maWd1cmF0aW9uIHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgZnVuYyBiYWNrZ3JvdW5kKHdpdGhJZGVudGlmaWVyIGlkZW50aWZpZXI6IFN0cmluZykgLT4gVVJMU2Vzc2lvbkNvbmZpZ3VyYXRpb24ge30KICAgIG9wZW4gdmFyIGFsbG93c0NlbGx1bGFyQWNjZXNzOiBCb29sIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBjb25uZWN0aW9uUHJveHlEaWN0aW9uYXJ5OiBbQW55SGFzaGFibGU6IEFueV0/IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBodHRwQWRkaXRpb25hbEhlYWRlcnM6IFtBbnlIYXNoYWJsZTogQW55XT8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGh0dHBDb29raWVBY2NlcHRQb2xpY3k6IEhUVFBDb29raWUuQWNjZXB0UG9saWN5IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBodHRwQ29va2llU3RvcmFnZTogSFRUUENvb2tpZVN0b3JhZ2U/IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBodHRwTWF4aW11bUNvbm5lY3Rpb25zUGVySG9zdDogSW50IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBodHRwU2hvdWxkU2V0Q29va2llczogQm9vbCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgaHR0cFNob3VsZFVzZVBpcGVsaW5pbmc6IEJvb2wgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGlkZW50aWZpZXI6IFN0cmluZz8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGlzRGlzY3JldGlvbmFyeTogQm9vbCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgbmV0d29ya1NlcnZpY2VUeXBlOiBVUkxSZXF1ZXN0Lk5ldHdvcmtTZXJ2aWNlVHlwZSB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgcHJvdG9jb2xDbGFzc2VzOiBbQW55Q2xhc3NdPyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgcmVxdWVzdENhY2hlUG9saWN5OiBVUkxSZXF1ZXN0LkNhY2hlUG9saWN5IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBzaGFyZWRDb250YWluZXJJZGVudGlmaWVyOiBTdHJpbmc/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHNob3VsZFVzZUV4dGVuZGVkQmFja2dyb3VuZElkbGVNb2RlOiBCb29sIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciB0aW1lb3V0SW50ZXJ2YWxGb3JSZXF1ZXN0OiBUaW1lSW50ZXJ2YWwgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHRpbWVvdXRJbnRlcnZhbEZvclJlc291cmNlOiBUaW1lSW50ZXJ2YWwgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHVybENhY2hlOiBVUkxDYWNoZT8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHVybENyZWRlbnRpYWxTdG9yYWdlOiBVUkxDcmVkZW50aWFsU3RvcmFnZT8geyBnZXQgc2V0IH0KfQpvcGVuIGNsYXNzIFVSTFNlc3Npb25EYXRhVGFzayA6IEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU0NvcHlpbmcsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBQcm9ncmVzc1JlcG9ydGluZywgVVJMU2Vzc2lvblRhc2ssIF8gewp9Cm9wZW4gY2xhc3MgVVJMU2Vzc2lvbkRvd25sb2FkVGFzayA6IEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU0NvcHlpbmcsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBQcm9ncmVzc1JlcG9ydGluZywgVVJMU2Vzc2lvblRhc2ssIF8gewogICAgb3BlbiBmdW5jIGNhbmNlbChieVByb2R1Y2luZ1Jlc3VtZURhdGEgY29tcGxldGlvbkhhbmRsZXI6IEBlc2NhcGluZyAoRGF0YT8pIC0+IFZvaWQpIHt9Cn0Kb3BlbiBjbGFzcyBVUkxTZXNzaW9uU3RyZWFtVGFzayA6IEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU0NvcHlpbmcsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBQcm9ncmVzc1JlcG9ydGluZywgVVJMU2Vzc2lvblRhc2ssIF8gewogICAgb3BlbiBmdW5jIGNhcHR1cmVTdHJlYW1zKCkge30KICAgIG9wZW4gZnVuYyBjbG9zZVJlYWQoKSB7fQogICAgb3BlbiBmdW5jIGNsb3NlV3JpdGUoKSB7fQogICAgb3BlbiBmdW5jIHJlYWREYXRhKG9mTWluTGVuZ3RoIG1pbkJ5dGVzOiBJbnQsIG1heExlbmd0aCBtYXhCeXRlczogSW50LCB0aW1lb3V0OiBUaW1lSW50ZXJ2YWwsIGNvbXBsZXRpb25IYW5kbGVyOiBAZXNjYXBpbmcgKERhdGE/LCBCb29sLCBFcnJvcj8pIC0+IFZvaWQpIHt9CiAgICBvcGVuIGZ1bmMgc3RhcnRTZWN1cmVDb25uZWN0aW9uKCkge30KICAgIG9wZW4gZnVuYyBzdG9wU2VjdXJlQ29ubmVjdGlvbigpIHt9CiAgICBvcGVuIGZ1bmMgd3JpdGUoXyBkYXRhOiBEYXRhLCB0aW1lb3V0OiBUaW1lSW50ZXJ2YWwsIGNvbXBsZXRpb25IYW5kbGVyOiBAZXNjYXBpbmcgKEVycm9yPykgLT4gVm9pZCkge30KfQpvcGVuIGNsYXNzIFVSTFNlc3Npb25UYXNrIDogQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TQ29weWluZywgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wsIFByb2dyZXNzUmVwb3J0aW5nLCBfIHsKICAgIHB1YmxpYyBzdGF0aWMgdmFyIGRlZmF1bHRQcmlvcml0eTogRmxvYXQgeyBnZXQgfQogICAgcHVibGljIHN0YXRpYyB2YXIgaGlnaFByaW9yaXR5OiBGbG9hdCB7IGdldCB9CiAgICBwdWJsaWMgc3RhdGljIHZhciBsb3dQcmlvcml0eTogRmxvYXQgeyBnZXQgfQogICAgcHVibGljIHZhciBjb3VudE9mQnl0ZXNDbGllbnRFeHBlY3RzVG9SZWNlaXZlOiBJbnQ2NCB7IGdldCB9CiAgICBwdWJsaWMgdmFyIGNvdW50T2ZCeXRlc0NsaWVudEV4cGVjdHNUb1NlbmQ6IEludDY0IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGNvdW50T2ZCeXRlc0V4cGVjdGVkVG9SZWNlaXZlOiBJbnQ2NCB7IGdldCB9CiAgICBvcGVuIHZhciBjb3VudE9mQnl0ZXNFeHBlY3RlZFRvU2VuZDogSW50NjQgeyBnZXQgfQogICAgb3BlbiB2YXIgY291bnRPZkJ5dGVzUmVjZWl2ZWQ6IEludDY0IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGNvdW50T2ZCeXRlc1NlbnQ6IEludDY0IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGN1cnJlbnRSZXF1ZXN0OiBVUkxSZXF1ZXN0PyB7IGdldCB9CiAgICBwdWJsaWMgdmFyIGVhcmxpZXN0QmVnaW5EYXRlOiBEYXRlPyB7IGdldCB9CiAgICBvcGVuIHZhciBlcnJvcjogRXJyb3I/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIG9yaWdpbmFsUmVxdWVzdDogVVJMUmVxdWVzdD8geyBnZXQgfQogICAgb3BlbiB2YXIgcHJpb3JpdHk6IEZsb2F0IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciByZXNwb25zZTogVVJMUmVzcG9uc2U/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHN0YXRlOiBVUkxTZXNzaW9uVGFzay5TdGF0ZSB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgdGFza0Rlc2NyaXB0aW9uOiBTdHJpbmc/IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciB0YXNrSWRlbnRpZmllcjogSW50IHsgZ2V0IH0KICAgIG9wZW4gZnVuYyBjYW5jZWwoKSB7fQogICAgb3BlbiBmdW5jIHJlc3VtZSgpIHt9CiAgICBvcGVuIGZ1bmMgc3VzcGVuZCgpIHt9Cn0Kb3BlbiBjbGFzcyBVUkxTZXNzaW9uVXBsb2FkVGFzayA6IEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU0NvcHlpbmcsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBQcm9ncmVzc1JlcG9ydGluZywgVVJMU2Vzc2lvbkRhdGFUYXNrLCBVUkxTZXNzaW9uVGFzaywgXyB7Cn0Kb3BlbiBjbGFzcyBVbml0IDogQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TQ29kaW5nLCBOU0NvcHlpbmcsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBOU1NlY3VyZUNvZGluZywgXyB7CiAgICBwdWJsaWMgcmVxdWlyZWQgaW5pdChzeW1ib2w6IFN0cmluZykge30KICAgIG9wZW4gdmFyIHN5bWJvbDogU3RyaW5nIHsgZ2V0IH0KfQpvcGVuIGNsYXNzIFVuaXRDb252ZXJ0ZXIgOiBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wsIF8gewogICAgb3BlbiBmdW5jIGJhc2VVbml0VmFsdWUoZnJvbVZhbHVlIHZhbHVlOiBEb3VibGUpIC0+IERvdWJsZSB7fQogICAgb3BlbiBmdW5jIHZhbHVlKGZyb21CYXNlVW5pdFZhbHVlIGJhc2VVbml0VmFsdWU6IERvdWJsZSkgLT4gRG91YmxlIHt9Cn0Kb3BlbiBjbGFzcyBVbml0Q29udmVydGVyTGluZWFyIDogQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TQ29kaW5nLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCwgTlNTZWN1cmVDb2RpbmcsIFVuaXRDb252ZXJ0ZXIsIF8gewogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQoY29lZmZpY2llbnQ6IERvdWJsZSkge30KICAgIHB1YmxpYyBpbml0KGNvZWZmaWNpZW50OiBEb3VibGUsIGNvbnN0YW50OiBEb3VibGUpIHt9CiAgICBvcGVuIHZhciBjb2VmZmljaWVudDogRG91YmxlIHsgZ2V0IH0KICAgIG9wZW4gdmFyIGNvbnN0YW50OiBEb3VibGUgeyBnZXQgfQp9Cm9wZW4gY2xhc3MgVXNlckRlZmF1bHRzIDogQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBfIHsKICAgIHB1YmxpYyBzdGF0aWMgdmFyIGFyZ3VtZW50RG9tYWluOiBTdHJpbmcgeyBnZXQgfQogICAgcHVibGljIHN0YXRpYyB2YXIgZGlkQ2hhbmdlTm90aWZpY2F0aW9uIHsgZ2V0IH0KICAgIHB1YmxpYyBzdGF0aWMgdmFyIGdsb2JhbERvbWFpbjogU3RyaW5nIHsgZ2V0IH0KICAgIHB1YmxpYyBzdGF0aWMgdmFyIHJlZ2lzdHJhdGlvbkRvbWFpbjogU3RyaW5nIHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgdmFyIHN0YW5kYXJkOiBVc2VyRGVmYXVsdHMgeyBnZXQgfQogICAgb3BlbiBjbGFzcyBmdW5jIHJlc2V0U3RhbmRhcmRVc2VyRGVmYXVsdHMoKSB7fQogICAgcHVibGljIGluaXQ/KHN1aXRlTmFtZSBzdWl0ZW5hbWU6IFN0cmluZz8pIHt9CiAgICBvcGVuIHZhciB2b2xhdGlsZURvbWFpbk5hbWVzOiBbU3RyaW5nXSB7IGdldCB9CiAgICBvcGVuIGZ1bmMgYWRkU3VpdGUobmFtZWQgc3VpdGVOYW1lOiBTdHJpbmcpIHt9CiAgICBvcGVuIGZ1bmMgYXJyYXkoZm9yS2V5IGRlZmF1bHROYW1lOiBTdHJpbmcpIC0+IFtBbnldPyB7fQogICAgb3BlbiBmdW5jIGJvb2woZm9yS2V5IGRlZmF1bHROYW1lOiBTdHJpbmcpIC0+IEJvb2wge30KICAgIG9wZW4gZnVuYyBkYXRhKGZvcktleSBkZWZhdWx0TmFtZTogU3RyaW5nKSAtPiBEYXRhPyB7fQogICAgb3BlbiBmdW5jIGRpY3Rpb25hcnkoZm9yS2V5IGRlZmF1bHROYW1lOiBTdHJpbmcpIC0+IFtTdHJpbmc6IEFueV0/IHt9CiAgICBvcGVuIGZ1bmMgZGljdGlvbmFyeVJlcHJlc2VudGF0aW9uKCkgLT4gW1N0cmluZzogQW55XSB7fQogICAgb3BlbiBmdW5jIGRvdWJsZShmb3JLZXkgZGVmYXVsdE5hbWU6IFN0cmluZykgLT4gRG91YmxlIHt9CiAgICBvcGVuIGZ1bmMgZmxvYXQoZm9yS2V5IGRlZmF1bHROYW1lOiBTdHJpbmcpIC0+IEZsb2F0IHt9CiAgICBvcGVuIGZ1bmMgaW50ZWdlcihmb3JLZXkgZGVmYXVsdE5hbWU6IFN0cmluZykgLT4gSW50IHt9CiAgICBvcGVuIGZ1bmMgb2JqZWN0KGZvcktleSBkZWZhdWx0TmFtZTogU3RyaW5nKSAtPiBBbnk/IHt9CiAgICBvcGVuIGZ1bmMgb2JqZWN0SXNGb3JjZWQoZm9yS2V5IGtleTogU3RyaW5nKSAtPiBCb29sIHt9CiAgICBvcGVuIGZ1bmMgb2JqZWN0SXNGb3JjZWQoZm9yS2V5IGtleTogU3RyaW5nLCBpbkRvbWFpbiBkb21haW46IFN0cmluZykgLT4gQm9vbCB7fQogICAgb3BlbiBmdW5jIHBlcnNpc3RlbnREb21haW4oZm9yTmFtZSBkb21haW5OYW1lOiBTdHJpbmcpIC0+IFtTdHJpbmc6IEFueV0/IHt9CiAgICBvcGVuIGZ1bmMgcmVnaXN0ZXIoZGVmYXVsdHMgcmVnaXN0cmF0aW9uRGljdGlvbmFyeTogW1N0cmluZzogQW55XSkge30KICAgIG9wZW4gZnVuYyByZW1vdmVPYmplY3QoZm9yS2V5IGRlZmF1bHROYW1lOiBTdHJpbmcpIHt9CiAgICBvcGVuIGZ1bmMgcmVtb3ZlUGVyc2lzdGVudERvbWFpbihmb3JOYW1lIGRvbWFpbk5hbWU6IFN0cmluZykge30KICAgIG9wZW4gZnVuYyByZW1vdmVTdWl0ZShuYW1lZCBzdWl0ZU5hbWU6IFN0cmluZykge30KICAgIG9wZW4gZnVuYyByZW1vdmVWb2xhdGlsZURvbWFpbihmb3JOYW1lIGRvbWFpbk5hbWU6IFN0cmluZykge30KICAgIG9wZW4gZnVuYyBzZXQoXyB1cmw6IFVSTD8sIGZvcktleSBkZWZhdWx0TmFtZTogU3RyaW5nKSB7fQogICAgb3BlbiBmdW5jIHNldFBlcnNpc3RlbnREb21haW4oXyBkb21haW46IFtTdHJpbmc6IEFueV0sIGZvck5hbWUgZG9tYWluTmFtZTogU3RyaW5nKSB7fQogICAgb3BlbiBmdW5jIHNldFZvbGF0aWxlRG9tYWluKF8gZG9tYWluOiBbU3RyaW5nOiBBbnldLCBmb3JOYW1lIGRvbWFpbk5hbWU6IFN0cmluZykge30KICAgIG9wZW4gZnVuYyBzdHJpbmcoZm9yS2V5IGRlZmF1bHROYW1lOiBTdHJpbmcpIC0+IFN0cmluZz8ge30KICAgIG9wZW4gZnVuYyBzdHJpbmdBcnJheShmb3JLZXkgZGVmYXVsdE5hbWU6IFN0cmluZykgLT4gW1N0cmluZ10/IHt9CiAgICBAZGlzY2FyZGFibGVSZXN1bHQgb3BlbiBmdW5jIHN5bmNocm9uaXplKCkgLT4gQm9vbCB7fQogICAgb3BlbiBmdW5jIHVybChmb3JLZXkgZGVmYXVsdE5hbWU6IFN0cmluZykgLT4gVVJMPyB7fQogICAgb3BlbiBmdW5jIHZvbGF0aWxlRG9tYWluKGZvck5hbWUgZG9tYWluTmFtZTogU3RyaW5nKSAtPiBbU3RyaW5nOiBBbnldIHt9Cn0Kb3BlbiBjbGFzcyBYTUxEVEQgOiBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNDb3B5aW5nLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCwgWE1MTm9kZSwgXywgX05TWE1MTm9kZUNvbGxlY3Rpb25UeXBlIHsKICAgIG9wZW4gY2xhc3MgZnVuYyBwcmVkZWZpbmVkRW50aXR5RGVjbGFyYXRpb24oZm9yTmFtZSBuYW1lOiBTdHJpbmcpIC0+IFhNTERURE5vZGU/IHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdChjb250ZW50c09mIHVybDogVVJMLCBvcHRpb25zIG1hc2s6IFhNTE5vZGUuT3B0aW9ucyA9IHgpIHRocm93cyB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQoZGF0YTogRGF0YSwgb3B0aW9ucyBtYXNrOiBYTUxOb2RlLk9wdGlvbnMgPSB4KSB0aHJvd3Mge30KICAgIG9wZW4gdmFyIHB1YmxpY0lEOiBTdHJpbmc/IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBzeXN0ZW1JRDogU3RyaW5nPyB7IGdldCBzZXQgfQogICAgb3BlbiBmdW5jIGFkZENoaWxkKF8gY2hpbGQ6IFhNTE5vZGUpIHt9CiAgICBvcGVuIGZ1bmMgYXR0cmlidXRlRGVjbGFyYXRpb24oZm9yTmFtZSBuYW1lOiBTdHJpbmcsIGVsZW1lbnROYW1lOiBTdHJpbmcpIC0+IFhNTERURE5vZGU/IHt9CiAgICBvcGVuIGZ1bmMgZWxlbWVudERlY2xhcmF0aW9uKGZvck5hbWUgbmFtZTogU3RyaW5nKSAtPiBYTUxEVEROb2RlPyB7fQogICAgb3BlbiBmdW5jIGVudGl0eURlY2xhcmF0aW9uKGZvck5hbWUgbmFtZTogU3RyaW5nKSAtPiBYTUxEVEROb2RlPyB7fQogICAgb3BlbiBmdW5jIGluc2VydENoaWxkKF8gY2hpbGQ6IFhNTE5vZGUsIGF0IGluZGV4OiBJbnQpIHt9CiAgICBvcGVuIGZ1bmMgaW5zZXJ0Q2hpbGRyZW4oXyBjaGlsZHJlbjogW1hNTE5vZGVdLCBhdCBpbmRleDogSW50KSB7fQogICAgb3BlbiBmdW5jIG5vdGF0aW9uRGVjbGFyYXRpb24oZm9yTmFtZSBuYW1lOiBTdHJpbmcpIC0+IFhNTERURE5vZGU/IHt9CiAgICBvcGVuIGZ1bmMgcmVtb3ZlQ2hpbGQoYXQgaW5kZXg6IEludCkge30KICAgIG9wZW4gZnVuYyByZXBsYWNlQ2hpbGQoYXQgaW5kZXg6IEludCwgd2l0aCBub2RlOiBYTUxOb2RlKSB7fQogICAgb3BlbiBmdW5jIHNldENoaWxkcmVuKF8gY2hpbGRyZW46IFtYTUxOb2RlXT8pIHt9Cn0Kb3BlbiBjbGFzcyBYTUxEVEROb2RlIDogQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TQ29weWluZywgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wsIFhNTE5vZGUsIF8sIF9OU1hNTE5vZGVDb2xsZWN0aW9uVHlwZSB7CiAgICBwdWJsaWMgaW5pdD8oeG1sU3RyaW5nIHN0cmluZzogU3RyaW5nKSB7fQogICAgb3BlbiB2YXIgZHRkS2luZDogWE1MRFRETm9kZS5EVERLaW5kIHsgZ2V0IH0KICAgIG9wZW4gdmFyIGlzRXh0ZXJuYWw6IEJvb2wgeyBnZXQgfQogICAgb3BlbiB2YXIgbm90YXRpb25OYW1lOiBTdHJpbmc/IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBwdWJsaWNJRDogU3RyaW5nPyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgc3lzdGVtSUQ6IFN0cmluZz8geyBnZXQgc2V0IH0KfQpvcGVuIGNsYXNzIFhNTERvY3VtZW50IDogQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TQ29weWluZywgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wsIFhNTE5vZGUsIF8sIF9OU1hNTE5vZGVDb2xsZWN0aW9uVHlwZSB7CiAgICBvcGVuIGNsYXNzIGZ1bmMgcmVwbGFjZW1lbnRDbGFzcyhmb3IgY2xzOiBBbnlDbGFzcykgLT4gQW55Q2xhc3Mge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KGNvbnRlbnRzT2YgdXJsOiBVUkwsIG9wdGlvbnMgbWFzazogWE1MTm9kZS5PcHRpb25zID0geCkgdGhyb3dzIHt9CiAgICBwdWJsaWMgaW5pdChkYXRhOiBEYXRhLCBvcHRpb25zIG1hc2s6IFhNTE5vZGUuT3B0aW9ucyA9IHgpIHRocm93cyB7fQogICAgcHVibGljIGluaXQocm9vdEVsZW1lbnQgZWxlbWVudDogWE1MRWxlbWVudD8pIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdCh4bWxTdHJpbmcgc3RyaW5nOiBTdHJpbmcsIG9wdGlvbnMgbWFzazogWE1MTm9kZS5PcHRpb25zID0geCkgdGhyb3dzIHt9CiAgICBvcGVuIHZhciBjaGFyYWN0ZXJFbmNvZGluZzogU3RyaW5nPyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgZG9jdW1lbnRDb250ZW50S2luZDogWE1MRG9jdW1lbnQuQ29udGVudEtpbmQgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGR0ZDogWE1MRFREPyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgaXNTdGFuZGFsb25lOiBCb29sIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBtaW1lVHlwZTogU3RyaW5nPyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgdmVyc2lvbjogU3RyaW5nPyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgeG1sRGF0YTogRGF0YSB7IGdldCB9CiAgICBvcGVuIGZ1bmMgYWRkQ2hpbGQoXyBjaGlsZDogWE1MTm9kZSkge30KICAgIG9wZW4gZnVuYyBpbnNlcnRDaGlsZChfIGNoaWxkOiBYTUxOb2RlLCBhdCBpbmRleDogSW50KSB7fQogICAgb3BlbiBmdW5jIGluc2VydENoaWxkcmVuKF8gY2hpbGRyZW46IFtYTUxOb2RlXSwgYXQgaW5kZXg6IEludCkge30KICAgIG9wZW4gZnVuYyBvYmplY3QoYnlBcHBseWluZ1hTTFQgeHNsdDogRGF0YSwgYXJndW1lbnRzOiBbU3RyaW5nOiBTdHJpbmddPykgdGhyb3dzIC0+IEFueSB7fQogICAgb3BlbiBmdW5jIG9iamVjdChieUFwcGx5aW5nWFNMVFN0cmluZyB4c2x0OiBTdHJpbmcsIGFyZ3VtZW50czogW1N0cmluZzogU3RyaW5nXT8pIHRocm93cyAtPiBBbnkge30KICAgIG9wZW4gZnVuYyBvYmplY3RCeUFwcGx5aW5nWFNMVChhdCB4c2x0VVJMOiBVUkwsIGFyZ3VtZW50cyBhcmd1bWVudDogW1N0cmluZzogU3RyaW5nXT8pIHRocm93cyAtPiBBbnkge30KICAgIG9wZW4gZnVuYyByZW1vdmVDaGlsZChhdCBpbmRleDogSW50KSB7fQogICAgb3BlbiBmdW5jIHJlcGxhY2VDaGlsZChhdCBpbmRleDogSW50LCB3aXRoIG5vZGU6IFhNTE5vZGUpIHt9CiAgICBvcGVuIGZ1bmMgcm9vdEVsZW1lbnQoKSAtPiBYTUxFbGVtZW50PyB7fQogICAgb3BlbiBmdW5jIHNldENoaWxkcmVuKF8gY2hpbGRyZW46IFtYTUxOb2RlXT8pIHt9CiAgICBvcGVuIGZ1bmMgc2V0Um9vdEVsZW1lbnQoXyByb290OiBYTUxFbGVtZW50KSB7fQogICAgb3BlbiBmdW5jIHZhbGlkYXRlKCkgdGhyb3dzIHt9CiAgICBvcGVuIGZ1bmMgeG1sRGF0YShvcHRpb25zOiBYTUxOb2RlLk9wdGlvbnMgPSB4KSAtPiBEYXRhIHt9Cn0Kb3BlbiBjbGFzcyBYTUxFbGVtZW50IDogQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TQ29weWluZywgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wsIFhNTE5vZGUsIF8sIF9OU1hNTE5vZGVDb2xsZWN0aW9uVHlwZSB7CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdChuYW1lOiBTdHJpbmcpIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdChuYW1lOiBTdHJpbmcsIHN0cmluZ1ZhbHVlIHN0cmluZzogU3RyaW5nPykge30KICAgIHB1YmxpYyBpbml0KG5hbWU6IFN0cmluZywgdXJpIFVSSTogU3RyaW5nPykge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KHhtbFN0cmluZyBzdHJpbmc6IFN0cmluZykgdGhyb3dzIHt9CiAgICBvcGVuIHZhciBhdHRyaWJ1dGVzOiBbWE1MTm9kZV0/IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBuYW1lc3BhY2VzOiBbWE1MTm9kZV0/IHsgZ2V0IHNldCB9CiAgICBvcGVuIGZ1bmMgYWRkQXR0cmlidXRlKF8gYXR0cmlidXRlOiBYTUxOb2RlKSB7fQogICAgb3BlbiBmdW5jIGFkZENoaWxkKF8gY2hpbGQ6IFhNTE5vZGUpIHt9CiAgICBvcGVuIGZ1bmMgYWRkTmFtZXNwYWNlKF8gYU5hbWVzcGFjZTogWE1MTm9kZSkge30KICAgIG9wZW4gZnVuYyBhdHRyaWJ1dGUoZm9yTG9jYWxOYW1lIGxvY2FsTmFtZTogU3RyaW5nLCB1cmkgVVJJOiBTdHJpbmc/KSAtPiBYTUxOb2RlPyB7fQogICAgb3BlbiBmdW5jIGF0dHJpYnV0ZShmb3JOYW1lIG5hbWU6IFN0cmluZykgLT4gWE1MTm9kZT8ge30KICAgIG9wZW4gZnVuYyBlbGVtZW50cyhmb3JMb2NhbE5hbWUgbG9jYWxOYW1lOiBTdHJpbmcsIHVyaSBVUkk6IFN0cmluZz8pIC0+IFtYTUxFbGVtZW50XSB7fQogICAgb3BlbiBmdW5jIGVsZW1lbnRzKGZvck5hbWUgbmFtZTogU3RyaW5nKSAtPiBbWE1MRWxlbWVudF0ge30KICAgIG9wZW4gZnVuYyBpbnNlcnRDaGlsZChfIGNoaWxkOiBYTUxOb2RlLCBhdCBpbmRleDogSW50KSB7fQogICAgb3BlbiBmdW5jIGluc2VydENoaWxkcmVuKF8gY2hpbGRyZW46IFtYTUxOb2RlXSwgYXQgaW5kZXg6IEludCkge30KICAgIG9wZW4gZnVuYyBuYW1lc3BhY2UoZm9yUHJlZml4IG5hbWU6IFN0cmluZykgLT4gWE1MTm9kZT8ge30KICAgIG9wZW4gZnVuYyBub3JtYWxpemVBZGphY2VudFRleHROb2Rlc1ByZXNlcnZpbmdDREFUQShfIHByZXNlcnZlOiBCb29sKSB7fQogICAgb3BlbiBmdW5jIHJlbW92ZUF0dHJpYnV0ZShmb3JOYW1lIG5hbWU6IFN0cmluZykge30KICAgIG9wZW4gZnVuYyByZW1vdmVDaGlsZChhdCBpbmRleDogSW50KSB7fQogICAgb3BlbiBmdW5jIHJlbW92ZU5hbWVzcGFjZShmb3JQcmVmaXggbmFtZTogU3RyaW5nKSB7fQogICAgb3BlbiBmdW5jIHJlcGxhY2VDaGlsZChhdCBpbmRleDogSW50LCB3aXRoIG5vZGU6IFhNTE5vZGUpIHt9CiAgICBvcGVuIGZ1bmMgcmVzb2x2ZU5hbWVzcGFjZShmb3JOYW1lIG5hbWU6IFN0cmluZykgLT4gWE1MTm9kZT8ge30KICAgIG9wZW4gZnVuYyByZXNvbHZlUHJlZml4KGZvck5hbWVzcGFjZVVSSSBuYW1lc3BhY2VVUkk6IFN0cmluZykgLT4gU3RyaW5nPyB7fQogICAgb3BlbiBmdW5jIHNldEF0dHJpYnV0ZXNXaXRoKF8gYXR0cmlidXRlczogW1N0cmluZzogU3RyaW5nXSkge30KICAgIG9wZW4gZnVuYyBzZXRDaGlsZHJlbihfIGNoaWxkcmVuOiBbWE1MTm9kZV0/KSB7fQp9Cm9wZW4gY2xhc3MgWE1MTm9kZSA6IEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU0NvcHlpbmcsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBfLCBfTlNYTUxOb2RlQ29sbGVjdGlvblR5cGUgewogICAgb3BlbiBjbGFzcyBmdW5jIGF0dHJpYnV0ZSh3aXRoTmFtZSBuYW1lOiBTdHJpbmcsIHN0cmluZ1ZhbHVlOiBTdHJpbmcpIC0+IEFueSB7fQogICAgb3BlbiBjbGFzcyBmdW5jIGF0dHJpYnV0ZSh3aXRoTmFtZSBuYW1lOiBTdHJpbmcsIHVyaTogU3RyaW5nLCBzdHJpbmdWYWx1ZTogU3RyaW5nKSAtPiBBbnkge30KICAgIG9wZW4gY2xhc3MgZnVuYyBjb21tZW50KHdpdGhTdHJpbmdWYWx1ZSBzdHJpbmdWYWx1ZTogU3RyaW5nKSAtPiBBbnkge30KICAgIG9wZW4gY2xhc3MgZnVuYyBkb2N1bWVudCgpIC0+IEFueSB7fQogICAgb3BlbiBjbGFzcyBmdW5jIGRvY3VtZW50KHdpdGhSb290RWxlbWVudCBlbGVtZW50OiBYTUxFbGVtZW50KSAtPiBBbnkge30KICAgIG9wZW4gY2xhc3MgZnVuYyBkdGROb2RlKHdpdGhYTUxTdHJpbmcgc3RyaW5nOiBTdHJpbmcpIC0+IEFueT8ge30KICAgIG9wZW4gY2xhc3MgZnVuYyBlbGVtZW50KHdpdGhOYW1lIG5hbWU6IFN0cmluZykgLT4gQW55IHt9CiAgICBvcGVuIGNsYXNzIGZ1bmMgZWxlbWVudCh3aXRoTmFtZSBuYW1lOiBTdHJpbmcsIGNoaWxkcmVuOiBbWE1MTm9kZV0/LCBhdHRyaWJ1dGVzOiBbWE1MTm9kZV0/KSAtPiBBbnkge30KICAgIG9wZW4gY2xhc3MgZnVuYyBlbGVtZW50KHdpdGhOYW1lIG5hbWU6IFN0cmluZywgc3RyaW5nVmFsdWUgc3RyaW5nOiBTdHJpbmcpIC0+IEFueSB7fQogICAgb3BlbiBjbGFzcyBmdW5jIGVsZW1lbnQod2l0aE5hbWUgbmFtZTogU3RyaW5nLCB1cmk6IFN0cmluZykgLT4gQW55IHt9CiAgICBvcGVuIGNsYXNzIGZ1bmMgbG9jYWxOYW1lKGZvck5hbWUgbmFtZTogU3RyaW5nKSAtPiBTdHJpbmcge30KICAgIG9wZW4gY2xhc3MgZnVuYyBuYW1lc3BhY2Uod2l0aE5hbWUgbmFtZTogU3RyaW5nLCBzdHJpbmdWYWx1ZTogU3RyaW5nKSAtPiBBbnkge30KICAgIG9wZW4gY2xhc3MgZnVuYyBwcmVkZWZpbmVkTmFtZXNwYWNlKGZvclByZWZpeCBuYW1lOiBTdHJpbmcpIC0+IFhNTE5vZGU/IHt9CiAgICBvcGVuIGNsYXNzIGZ1bmMgcHJlZml4KGZvck5hbWUgbmFtZTogU3RyaW5nKSAtPiBTdHJpbmc/IHt9CiAgICBwdWJsaWMgY2xhc3MgZnVuYyBwcm9jZXNzaW5nSW5zdHJ1Y3Rpb24od2l0aE5hbWUgbmFtZTogU3RyaW5nLCBzdHJpbmdWYWx1ZTogU3RyaW5nKSAtPiBBbnkge30KICAgIG9wZW4gY2xhc3MgZnVuYyB0ZXh0KHdpdGhTdHJpbmdWYWx1ZSBzdHJpbmdWYWx1ZTogU3RyaW5nKSAtPiBBbnkge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KGtpbmQ6IFhNTE5vZGUuS2luZCkge30KICAgIHB1YmxpYyBpbml0KGtpbmQ6IFhNTE5vZGUuS2luZCwgb3B0aW9uczogWE1MTm9kZS5PcHRpb25zID0geCkge30KICAgIG9wZW4gdmFyIGNoaWxkQ291bnQ6IEludCB7IGdldCB9CiAgICBvcGVuIHZhciBjaGlsZHJlbjogW1hNTE5vZGVdPyB7IGdldCB9CiAgICBwdWJsaWMgdmFyIGVuZEluZGV4OiBJbmRleCB7IGdldCB9CiAgICBvcGVuIHZhciBpbmRleDogSW50IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGtpbmQ6IFhNTE5vZGUuS2luZCB7IGdldCB9CiAgICBvcGVuIHZhciBsZXZlbDogSW50IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGxvY2FsTmFtZTogU3RyaW5nPyB7IGdldCB9CiAgICBvcGVuIHZhciBuYW1lOiBTdHJpbmc/IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBuZXh0OiBYTUxOb2RlPyB7IGdldCB9CiAgICBvcGVuIHZhciBuZXh0U2libGluZzogWE1MTm9kZT8geyBnZXQgfQogICAgb3BlbiB2YXIgb2JqZWN0VmFsdWU6IEFueT8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHBhcmVudDogWE1MTm9kZT8geyBnZXQgfQogICAgb3BlbiB2YXIgcHJlZml4OiBTdHJpbmc/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHByZXZpb3VzOiBYTUxOb2RlPyB7IGdldCB9CiAgICBvcGVuIHZhciBwcmV2aW91c1NpYmxpbmc6IFhNTE5vZGU/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHJvb3REb2N1bWVudDogWE1MRG9jdW1lbnQ/IHsgZ2V0IH0KICAgIHB1YmxpYyB2YXIgc3RhcnRJbmRleDogSW5kZXggeyBnZXQgfQogICAgb3BlbiB2YXIgc3RyaW5nVmFsdWU6IFN0cmluZz8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHVyaTogU3RyaW5nPyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgeFBhdGg6IFN0cmluZz8geyBnZXQgfQogICAgb3BlbiB2YXIgeG1sU3RyaW5nOiBTdHJpbmcgeyBnZXQgfQogICAgcHVibGljIHN1YnNjcmlwdChpbmRleDogSW5kZXgpIC0+IFhNTE5vZGUgeyBnZXQgfSB7fQogICAgb3BlbiBmdW5jIGNhbm9uaWNhbFhNTFN0cmluZ1ByZXNlcnZpbmdDb21tZW50cyhfIGNvbW1lbnRzOiBCb29sKSAtPiBTdHJpbmcge30KICAgIG9wZW4gZnVuYyBjaGlsZChhdCBpbmRleDogSW50KSAtPiBYTUxOb2RlPyB7fQogICAgb3BlbiBmdW5jIGRldGFjaCgpIHt9CiAgICBwdWJsaWMgZnVuYyBpbmRleChhZnRlciBpOiBJbmRleCkgLT4gSW5kZXgge30KICAgIG9wZW4gZnVuYyBub2Rlcyhmb3JYUGF0aCB4cGF0aDogU3RyaW5nKSB0aHJvd3MgLT4gW1hNTE5vZGVdIHt9CiAgICBvcGVuIGZ1bmMgb2JqZWN0cyhmb3JYUXVlcnkgeHF1ZXJ5OiBTdHJpbmcpIHRocm93cyAtPiBbQW55XSB7fQogICAgb3BlbiBmdW5jIG9iamVjdHMoZm9yWFF1ZXJ5IHhxdWVyeTogU3RyaW5nLCBjb25zdGFudHM6IFtTdHJpbmc6IEFueV0/KSB0aHJvd3MgLT4gW0FueV0ge30KICAgIG9wZW4gZnVuYyBzZXRTdHJpbmdWYWx1ZShfIHN0cmluZzogU3RyaW5nLCByZXNvbHZpbmdFbnRpdGllcyByZXNvbHZlOiBCb29sKSB7fQogICAgb3BlbiBmdW5jIHhtbFN0cmluZyhvcHRpb25zOiBPcHRpb25zKSAtPiBTdHJpbmcge30KfQpvcGVuIGNsYXNzIFhNTFBhcnNlciA6IEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCwgXyB7CiAgICBwdWJsaWMgc3RhdGljIHZhciBlcnJvckRvbWFpbjogU3RyaW5nIHsgZ2V0IH0KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0Pyhjb250ZW50c09mIHVybDogVVJMKSB7fQogICAgcHVibGljIGluaXQoZGF0YTogRGF0YSkge30KICAgIHB1YmxpYyBpbml0KHN0cmVhbTogSW5wdXRTdHJlYW0pIHt9CiAgICBvcGVuIHZhciBhbGxvd2VkRXh0ZXJuYWxFbnRpdHlVUkxzOiBTZXQ8VVJMPj8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGNvbHVtbk51bWJlcjogSW50IHsgZ2V0IH0KICAgIG9wZW4gd2VhayB2YXIgZGVsZWdhdGU6IFhNTFBhcnNlckRlbGVnYXRlPyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgZXh0ZXJuYWxFbnRpdHlSZXNvbHZpbmdQb2xpY3k6IEV4dGVybmFsRW50aXR5UmVzb2x2aW5nUG9saWN5IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBsaW5lTnVtYmVyOiBJbnQgeyBnZXQgfQogICAgb3BlbiB2YXIgcGFyc2VyRXJyb3I6IEVycm9yPyB7IGdldCB9CiAgICBvcGVuIHZhciBwdWJsaWNJRDogU3RyaW5nPyB7IGdldCB9CiAgICBvcGVuIHZhciBzaG91bGRQcm9jZXNzTmFtZXNwYWNlczogQm9vbCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgc2hvdWxkUmVwb3J0TmFtZXNwYWNlUHJlZml4ZXM6IEJvb2wgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHNob3VsZFJlc29sdmVFeHRlcm5hbEVudGl0aWVzOiBCb29sIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBzeXN0ZW1JRDogU3RyaW5nPyB7IGdldCB9CiAgICBvcGVuIGZ1bmMgYWJvcnRQYXJzaW5nKCkge30KICAgIG9wZW4gZnVuYyBwYXJzZSgpIC0+IEJvb2wge30KfQpwdWJsaWMgcHJvdG9jb2wgQ29udGlndW91c0J5dGVzIHsKICAgIGZ1bmMgd2l0aFVuc2FmZUJ5dGVzPFI+KF8gYm9keTogKFVuc2FmZVJhd0J1ZmZlclBvaW50ZXIpIHRocm93cyAtPiBSKSByZXRocm93cyAtPiBSCn0KcHVibGljIHByb3RvY29sIEN1c3RvbU5TRXJyb3IgOiBFcnJvciB7CiAgICBzdGF0aWMgdmFyIGVycm9yRG9tYWluOiBTdHJpbmcgeyBnZXQgfQogICAgdmFyIGVycm9yQ29kZTogSW50IHsgZ2V0IH0KICAgIHZhciBlcnJvclVzZXJJbmZvOiBbU3RyaW5nOiBBbnldIHsgZ2V0IH0KfQpwdWJsaWMgcHJvdG9jb2wgRGF0YVByb3RvY29sIDogUmFuZG9tQWNjZXNzQ29sbGVjdGlvbiB7CiAgICBhc3NvY2lhdGVkdHlwZSBSZWdpb25zIHdoZXJlIFJlZ2lvbnMuRWxlbWVudCA6IENvbnRpZ3VvdXNCeXRlcyAmIERhdGFQcm90b2NvbCwgUmVnaW9ucy5FbGVtZW50LlN1YlNlcXVlbmNlIDogQ29udGlndW91c0J5dGVzCiAgICB2YXIgcmVnaW9uczogUmVnaW9ucyB7IGdldCB9CiAgICBAZGlzY2FyZGFibGVSZXN1bHQgZnVuYyBjb3B5Qnl0ZXModG8gcHRyOiBVbnNhZmVNdXRhYmxlUmF3QnVmZmVyUG9pbnRlcikgLT4gSW50CiAgICBAZGlzY2FyZGFibGVSZXN1bHQgZnVuYyBjb3B5Qnl0ZXModG86IFVuc2FmZU11dGFibGVSYXdCdWZmZXJQb2ludGVyLCBjb3VudDogSW50KSAtPiBJbnQKICAgIEBkaXNjYXJkYWJsZVJlc3VsdCBmdW5jIGNvcHlCeXRlczxEZXN0aW5hdGlvblR5cGUsIFI+KHRvOiBVbnNhZmVNdXRhYmxlQnVmZmVyUG9pbnRlcjxEZXN0aW5hdGlvblR5cGU+LCBmcm9tOiBSKSAtPiBJbnQgd2hlcmUgUiA6IFJhbmdlRXhwcmVzc2lvbiwgSW5kZXggPT0gUi5Cb3VuZAogICAgZnVuYyBmaXJzdFJhbmdlPEQ+KG9mIGRhdGE6IEQpIC0+IFJhbmdlPEluZGV4Pj8gd2hlcmUgRCA6IERhdGFQcm90b2NvbAogICAgZnVuYyBmaXJzdFJhbmdlPEQsIFI+KG9mOiBELCBpbjogUikgLT4gUmFuZ2U8SW5kZXg+PyB3aGVyZSBEIDogRGF0YVByb3RvY29sLCBSIDogUmFuZ2VFeHByZXNzaW9uLCBJbmRleCA9PSBSLkJvdW5kCiAgICBmdW5jIGxhc3RSYW5nZTxEPihvZiBkYXRhOiBEKSAtPiBSYW5nZTxJbmRleD4/IHdoZXJlIEQgOiBEYXRhUHJvdG9jb2wKICAgIGZ1bmMgbGFzdFJhbmdlPEQsIFI+KG9mOiBELCBpbjogUikgLT4gUmFuZ2U8SW5kZXg+PyB3aGVyZSBEIDogRGF0YVByb3RvY29sLCBSIDogUmFuZ2VFeHByZXNzaW9uLCBJbmRleCA9PSBSLkJvdW5kCn0KcHVibGljIHByb3RvY29sIEZpbGVNYW5hZ2VyRGVsZWdhdGUgOiBOU09iamVjdFByb3RvY29sLCBfIHsKICAgIGZ1bmMgZmlsZU1hbmFnZXIoXyBmaWxlTWFuYWdlcjogRmlsZU1hbmFnZXIsIHNob3VsZENvcHlJdGVtQXQgc3JjVVJMOiBVUkwsIHRvIGRzdFVSTDogVVJMKSAtPiBCb29sCiAgICBmdW5jIGZpbGVNYW5hZ2VyKF8gZmlsZU1hbmFnZXI6IEZpbGVNYW5hZ2VyLCBzaG91bGRDb3B5SXRlbUF0UGF0aCBzcmNQYXRoOiBTdHJpbmcsIHRvUGF0aCBkc3RQYXRoOiBTdHJpbmcpIC0+IEJvb2wKICAgIGZ1bmMgZmlsZU1hbmFnZXIoXyBmaWxlTWFuYWdlcjogRmlsZU1hbmFnZXIsIHNob3VsZExpbmtJdGVtQXQgc3JjVVJMOiBVUkwsIHRvIGRzdFVSTDogVVJMKSAtPiBCb29sCiAgICBmdW5jIGZpbGVNYW5hZ2VyKF8gZmlsZU1hbmFnZXI6IEZpbGVNYW5hZ2VyLCBzaG91bGRMaW5rSXRlbUF0UGF0aCBzcmNQYXRoOiBTdHJpbmcsIHRvUGF0aCBkc3RQYXRoOiBTdHJpbmcpIC0+IEJvb2wKICAgIGZ1bmMgZmlsZU1hbmFnZXIoXyBmaWxlTWFuYWdlcjogRmlsZU1hbmFnZXIsIHNob3VsZE1vdmVJdGVtQXQgc3JjVVJMOiBVUkwsIHRvIGRzdFVSTDogVVJMKSAtPiBCb29sCiAgICBmdW5jIGZpbGVNYW5hZ2VyKF8gZmlsZU1hbmFnZXI6IEZpbGVNYW5hZ2VyLCBzaG91bGRNb3ZlSXRlbUF0UGF0aCBzcmNQYXRoOiBTdHJpbmcsIHRvUGF0aCBkc3RQYXRoOiBTdHJpbmcpIC0+IEJvb2wKICAgIGZ1bmMgZmlsZU1hbmFnZXIoXyBmaWxlTWFuYWdlcjogRmlsZU1hbmFnZXIsIHNob3VsZFByb2NlZWRBZnRlckVycm9yIGVycm9yOiBFcnJvciwgY29weWluZ0l0ZW1BdCBzcmNVUkw6IFVSTCwgdG8gZHN0VVJMOiBVUkwpIC0+IEJvb2wKICAgIGZ1bmMgZmlsZU1hbmFnZXIoXyBmaWxlTWFuYWdlcjogRmlsZU1hbmFnZXIsIHNob3VsZFByb2NlZWRBZnRlckVycm9yIGVycm9yOiBFcnJvciwgY29weWluZ0l0ZW1BdFBhdGggc3JjUGF0aDogU3RyaW5nLCB0b1BhdGggZHN0UGF0aDogU3RyaW5nKSAtPiBCb29sCiAgICBmdW5jIGZpbGVNYW5hZ2VyKF8gZmlsZU1hbmFnZXI6IEZpbGVNYW5hZ2VyLCBzaG91bGRQcm9jZWVkQWZ0ZXJFcnJvciBlcnJvcjogRXJyb3IsIGxpbmtpbmdJdGVtQXQgc3JjVVJMOiBVUkwsIHRvIGRzdFVSTDogVVJMKSAtPiBCb29sCiAgICBmdW5jIGZpbGVNYW5hZ2VyKF8gZmlsZU1hbmFnZXI6IEZpbGVNYW5hZ2VyLCBzaG91bGRQcm9jZWVkQWZ0ZXJFcnJvciBlcnJvcjogRXJyb3IsIGxpbmtpbmdJdGVtQXRQYXRoIHNyY1BhdGg6IFN0cmluZywgdG9QYXRoIGRzdFBhdGg6IFN0cmluZykgLT4gQm9vbAogICAgZnVuYyBmaWxlTWFuYWdlcihfIGZpbGVNYW5hZ2VyOiBGaWxlTWFuYWdlciwgc2hvdWxkUHJvY2VlZEFmdGVyRXJyb3IgZXJyb3I6IEVycm9yLCBtb3ZpbmdJdGVtQXQgc3JjVVJMOiBVUkwsIHRvIGRzdFVSTDogVVJMKSAtPiBCb29sCiAgICBmdW5jIGZpbGVNYW5hZ2VyKF8gZmlsZU1hbmFnZXI6IEZpbGVNYW5hZ2VyLCBzaG91bGRQcm9jZWVkQWZ0ZXJFcnJvciBlcnJvcjogRXJyb3IsIG1vdmluZ0l0ZW1BdFBhdGggc3JjUGF0aDogU3RyaW5nLCB0b1BhdGggZHN0UGF0aDogU3RyaW5nKSAtPiBCb29sCiAgICBmdW5jIGZpbGVNYW5hZ2VyKF8gZmlsZU1hbmFnZXI6IEZpbGVNYW5hZ2VyLCBzaG91bGRQcm9jZWVkQWZ0ZXJFcnJvciBlcnJvcjogRXJyb3IsIHJlbW92aW5nSXRlbUF0IFVSTDogVVJMKSAtPiBCb29sCiAgICBmdW5jIGZpbGVNYW5hZ2VyKF8gZmlsZU1hbmFnZXI6IEZpbGVNYW5hZ2VyLCBzaG91bGRQcm9jZWVkQWZ0ZXJFcnJvciBlcnJvcjogRXJyb3IsIHJlbW92aW5nSXRlbUF0UGF0aCBwYXRoOiBTdHJpbmcpIC0+IEJvb2wKICAgIGZ1bmMgZmlsZU1hbmFnZXIoXyBmaWxlTWFuYWdlcjogRmlsZU1hbmFnZXIsIHNob3VsZFJlbW92ZUl0ZW1BdCBVUkw6IFVSTCkgLT4gQm9vbAogICAgZnVuYyBmaWxlTWFuYWdlcihfIGZpbGVNYW5hZ2VyOiBGaWxlTWFuYWdlciwgc2hvdWxkUmVtb3ZlSXRlbUF0UGF0aCBwYXRoOiBTdHJpbmcpIC0+IEJvb2wKfQpwdWJsaWMgcHJvdG9jb2wgTG9jYWxpemVkRXJyb3IgOiBFcnJvciB7CiAgICB2YXIgZXJyb3JEZXNjcmlwdGlvbjogU3RyaW5nPyB7IGdldCB9CiAgICB2YXIgZmFpbHVyZVJlYXNvbjogU3RyaW5nPyB7IGdldCB9CiAgICB2YXIgaGVscEFuY2hvcjogU3RyaW5nPyB7IGdldCB9CiAgICB2YXIgcmVjb3ZlcnlTdWdnZXN0aW9uOiBTdHJpbmc/IHsgZ2V0IH0KfQpwdWJsaWMgcHJvdG9jb2wgTXV0YWJsZURhdGFQcm90b2NvbCA6IERhdGFQcm90b2NvbCwgTXV0YWJsZUNvbGxlY3Rpb24sIFJhbmRvbUFjY2Vzc0NvbGxlY3Rpb24sIFJhbmdlUmVwbGFjZWFibGVDb2xsZWN0aW9uIHsKICAgIG11dGF0aW5nIGZ1bmMgcmVzZXRCeXRlczxSPihpbiByYW5nZTogUikgd2hlcmUgUiA6IFJhbmdlRXhwcmVzc2lvbiwgSW5kZXggPT0gUi5Cb3VuZAp9CnB1YmxpYyBwcm90b2NvbCBOU0NhY2hlRGVsZWdhdGUgOiBOU09iamVjdFByb3RvY29sLCBfIHsKICAgIGZ1bmMgY2FjaGUoXyBjYWNoZTogTlNDYWNoZTxBbnlPYmplY3QsIEFueU9iamVjdD4sIHdpbGxFdmljdE9iamVjdCBvYmo6IEFueSkKfQpwdWJsaWMgcHJvdG9jb2wgTlNDb2RpbmcgewogICAgaW5pdD8oY29kZXIgYURlY29kZXI6IE5TQ29kZXIpCiAgICBmdW5jIGVuY29kZSh3aXRoIGFDb2RlcjogTlNDb2RlcikKfQpwdWJsaWMgcHJvdG9jb2wgTlNDb3B5aW5nIHsKICAgIGZ1bmMgY29weSgpIC0+IEFueQogICAgZnVuYyBjb3B5KHdpdGggem9uZTogTlNab25lPykgLT4gQW55Cn0KcHVibGljIHByb3RvY29sIE5TRGVjaW1hbE51bWJlckJlaGF2aW9ycyB7CiAgICBmdW5jIHJvdW5kaW5nTW9kZSgpIC0+IE5TRGVjaW1hbE51bWJlci5Sb3VuZGluZ01vZGUKICAgIGZ1bmMgc2NhbGUoKSAtPiBJbnQxNgp9CnB1YmxpYyBwcm90b2NvbCBOU0tleWVkQXJjaGl2ZXJEZWxlZ2F0ZSA6IF8gewogICAgZnVuYyBhcmNoaXZlcihfIGFyY2hpdmVyOiBOU0tleWVkQXJjaGl2ZXIsIGRpZEVuY29kZSBvYmplY3Q6IEFueT8pCiAgICBmdW5jIGFyY2hpdmVyKF8gYXJjaGl2ZXI6IE5TS2V5ZWRBcmNoaXZlciwgd2lsbEVuY29kZSBvYmplY3Q6IEFueSkgLT4gQW55PwogICAgZnVuYyBhcmNoaXZlcihfIGFyY2hpdmVyOiBOU0tleWVkQXJjaGl2ZXIsIHdpbGxSZXBsYWNlIG9iamVjdDogQW55Pywgd2l0aE9iamVjdCBuZXdPYmplY3Q6IEFueT8pCiAgICBmdW5jIGFyY2hpdmVyRGlkRmluaXNoKF8gYXJjaGl2ZXI6IE5TS2V5ZWRBcmNoaXZlcikKICAgIGZ1bmMgYXJjaGl2ZXJXaWxsRmluaXNoKF8gYXJjaGl2ZXI6IE5TS2V5ZWRBcmNoaXZlcikKfQpwdWJsaWMgcHJvdG9jb2wgTlNLZXllZFVuYXJjaGl2ZXJEZWxlZ2F0ZSA6IF8gewogICAgZnVuYyB1bmFyY2hpdmVyKF8gdW5hcmNoaXZlcjogTlNLZXllZFVuYXJjaGl2ZXIsIGNhbm5vdERlY29kZU9iamVjdE9mQ2xhc3NOYW1lIG5hbWU6IFN0cmluZywgb3JpZ2luYWxDbGFzc2VzIGNsYXNzTmFtZXM6IFtTdHJpbmddKSAtPiBBbnlDbGFzcz8KICAgIGZ1bmMgdW5hcmNoaXZlcihfIHVuYXJjaGl2ZXI6IE5TS2V5ZWRVbmFyY2hpdmVyLCBkaWREZWNvZGUgb2JqZWN0OiBBbnk/KSAtPiBBbnk/CiAgICBmdW5jIHVuYXJjaGl2ZXIoXyB1bmFyY2hpdmVyOiBOU0tleWVkVW5hcmNoaXZlciwgd2lsbFJlcGxhY2Ugb2JqZWN0OiBBbnksIHdpdGggbmV3T2JqZWN0OiBBbnkpCiAgICBmdW5jIHVuYXJjaGl2ZXJEaWRGaW5pc2goXyB1bmFyY2hpdmVyOiBOU0tleWVkVW5hcmNoaXZlcikKICAgIGZ1bmMgdW5hcmNoaXZlcldpbGxGaW5pc2goXyB1bmFyY2hpdmVyOiBOU0tleWVkVW5hcmNoaXZlcikKfQpwdWJsaWMgcHJvdG9jb2wgTlNMb2NraW5nIHsKICAgIGZ1bmMgbG9jaygpCiAgICBmdW5jIHVubG9jaygpCn0KcHVibGljIHByb3RvY29sIE5TTXV0YWJsZUNvcHlpbmcgewogICAgZnVuYyBtdXRhYmxlQ29weSgpIC0+IEFueQogICAgZnVuYyBtdXRhYmxlQ29weSh3aXRoIHpvbmU6IE5TWm9uZT8pIC0+IEFueQp9CnB1YmxpYyBwcm90b2NvbCBOU09iamVjdFByb3RvY29sIDogXyB7CiAgICB2YXIgZGVidWdEZXNjcmlwdGlvbjogU3RyaW5nIHsgZ2V0IH0KICAgIHZhciBkZXNjcmlwdGlvbjogU3RyaW5nIHsgZ2V0IH0KICAgIHZhciBoYXNoOiBJbnQgeyBnZXQgfQogICAgZnVuYyBpc0VxdWFsKF8gb2JqZWN0OiBBbnk/KSAtPiBCb29sCiAgICBmdW5jIGlzUHJveHkoKSAtPiBCb29sCiAgICBmdW5jIHNlbGYoKSAtPiBTZWxmCn0KcHVibGljIHByb3RvY29sIE5TU2VjdXJlQ29kaW5nIDogTlNDb2RpbmcgewogICAgc3RhdGljIHZhciBzdXBwb3J0c1NlY3VyZUNvZGluZzogQm9vbCB7IGdldCB9Cn0KcHVibGljIHByb3RvY29sIFBvcnREZWxlZ2F0ZSA6IF8gewogICAgZnVuYyBoYW5kbGVQb3J0TWVzc2FnZShfIG1lc3NhZ2U6IFBvcnRNZXNzYWdlKQp9CnB1YmxpYyBwcm90b2NvbCBQcm9ncmVzc1JlcG9ydGluZyA6IE5TT2JqZWN0UHJvdG9jb2wsIF8gewogICAgdmFyIHByb2dyZXNzOiBQcm9ncmVzcyB7IGdldCB9Cn0KcHVibGljIHByb3RvY29sIFJlY292ZXJhYmxlRXJyb3IgOiBFcnJvciB7CiAgICB2YXIgcmVjb3ZlcnlPcHRpb25zOiBbU3RyaW5nXSB7IGdldCB9CiAgICBmdW5jIGF0dGVtcHRSZWNvdmVyeShvcHRpb25JbmRleCByZWNvdmVyeU9wdGlvbkluZGV4OiBJbnQpIC0+IEJvb2wKICAgIGZ1bmMgYXR0ZW1wdFJlY292ZXJ5KG9wdGlvbkluZGV4IHJlY292ZXJ5T3B0aW9uSW5kZXg6IEludCwgcmVzdWx0SGFuZGxlciBoYW5kbGVyOiAoXyByZWNvdmVyZWQ6IEJvb2wpIC0+IFZvaWQpCn0KcHVibGljIHByb3RvY29sIFJlZmVyZW5jZUNvbnZlcnRpYmxlIDogQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEhhc2hhYmxlIHsKICAgIGFzc29jaWF0ZWR0eXBlIFJlZmVyZW5jZVR5cGUKfQpwdWJsaWMgcHJvdG9jb2wgU3RyZWFtRGVsZWdhdGUgOiBfIHsKICAgIGZ1bmMgc3RyZWFtKF8gYVN0cmVhbTogU3RyZWFtLCBoYW5kbGUgZXZlbnRDb2RlOiBTdHJlYW0uRXZlbnQpCn0KcHVibGljIHByb3RvY29sIFVSTEF1dGhlbnRpY2F0aW9uQ2hhbGxlbmdlU2VuZGVyIDogTlNPYmplY3RQcm90b2NvbCwgXyB7CiAgICBmdW5jIGNhbmNlbChfIGNoYWxsZW5nZTogVVJMQXV0aGVudGljYXRpb25DaGFsbGVuZ2UpCiAgICBmdW5jIGNvbnRpbnVlV2l0aG91dENyZWRlbnRpYWwoZm9yIGNoYWxsZW5nZTogVVJMQXV0aGVudGljYXRpb25DaGFsbGVuZ2UpCiAgICBmdW5jIHBlcmZvcm1EZWZhdWx0SGFuZGxpbmcoZm9yIGNoYWxsZW5nZTogVVJMQXV0aGVudGljYXRpb25DaGFsbGVuZ2UpCiAgICBmdW5jIHJlamVjdFByb3RlY3Rpb25TcGFjZUFuZENvbnRpbnVlKHdpdGggY2hhbGxlbmdlOiBVUkxBdXRoZW50aWNhdGlvbkNoYWxsZW5nZSkKICAgIGZ1bmMgdXNlKF8gY3JlZGVudGlhbDogVVJMQ3JlZGVudGlhbCwgZm9yIGNoYWxsZW5nZTogVVJMQXV0aGVudGljYXRpb25DaGFsbGVuZ2UpCn0KcHVibGljIHByb3RvY29sIFVSTFByb3RvY29sQ2xpZW50IDogTlNPYmplY3RQcm90b2NvbCwgXyB7CiAgICBmdW5jIHVybFByb3RvY29sKF8gcHJvdG9jb2w6IFVSTFByb3RvY29sLCBjYWNoZWRSZXNwb25zZUlzVmFsaWQgY2FjaGVkUmVzcG9uc2U6IENhY2hlZFVSTFJlc3BvbnNlKQogICAgZnVuYyB1cmxQcm90b2NvbChfIHByb3RvY29sOiBVUkxQcm90b2NvbCwgZGlkQ2FuY2VsIGNoYWxsZW5nZTogVVJMQXV0aGVudGljYXRpb25DaGFsbGVuZ2UpCiAgICBmdW5jIHVybFByb3RvY29sKF8gcHJvdG9jb2w6IFVSTFByb3RvY29sLCBkaWRGYWlsV2l0aEVycm9yIGVycm9yOiBFcnJvcikKICAgIGZ1bmMgdXJsUHJvdG9jb2woXyBwcm90b2NvbDogVVJMUHJvdG9jb2wsIGRpZExvYWQgZGF0YTogRGF0YSkKICAgIGZ1bmMgdXJsUHJvdG9jb2woXyBwcm90b2NvbDogVVJMUHJvdG9jb2wsIGRpZFJlY2VpdmUgY2hhbGxlbmdlOiBVUkxBdXRoZW50aWNhdGlvbkNoYWxsZW5nZSkKICAgIGZ1bmMgdXJsUHJvdG9jb2woXyBwcm90b2NvbDogVVJMUHJvdG9jb2wsIGRpZFJlY2VpdmUgcmVzcG9uc2U6IFVSTFJlc3BvbnNlLCBjYWNoZVN0b3JhZ2VQb2xpY3kgcG9saWN5OiBVUkxDYWNoZS5TdG9yYWdlUG9saWN5KQogICAgZnVuYyB1cmxQcm90b2NvbChfIHByb3RvY29sOiBVUkxQcm90b2NvbCwgd2FzUmVkaXJlY3RlZFRvIHJlcXVlc3Q6IFVSTFJlcXVlc3QsIHJlZGlyZWN0UmVzcG9uc2U6IFVSTFJlc3BvbnNlKQogICAgZnVuYyB1cmxQcm90b2NvbERpZEZpbmlzaExvYWRpbmcoXyBwcm90b2NvbDogVVJMUHJvdG9jb2wpCn0KcHVibGljIHByb3RvY29sIFVSTFNlc3Npb25EYXRhRGVsZWdhdGUgOiBOU09iamVjdFByb3RvY29sLCBVUkxTZXNzaW9uRGVsZWdhdGUsIFVSTFNlc3Npb25UYXNrRGVsZWdhdGUsIF8gewogICAgZnVuYyB1cmxTZXNzaW9uKF8gc2Vzc2lvbjogVVJMU2Vzc2lvbiwgZGF0YVRhc2s6IFVSTFNlc3Npb25EYXRhVGFzaywgZGlkQmVjb21lIGRvd25sb2FkVGFzazogVVJMU2Vzc2lvbkRvd25sb2FkVGFzaykKICAgIGZ1bmMgdXJsU2Vzc2lvbihfIHNlc3Npb246IFVSTFNlc3Npb24sIGRhdGFUYXNrOiBVUkxTZXNzaW9uRGF0YVRhc2ssIGRpZFJlY2VpdmUgZGF0YTogRGF0YSkKICAgIGZ1bmMgdXJsU2Vzc2lvbihfIHNlc3Npb246IFVSTFNlc3Npb24sIGRhdGFUYXNrOiBVUkxTZXNzaW9uRGF0YVRhc2ssIGRpZFJlY2VpdmUgcmVzcG9uc2U6IFVSTFJlc3BvbnNlLCBjb21wbGV0aW9uSGFuZGxlcjogQGVzY2FwaW5nIChVUkxTZXNzaW9uLlJlc3BvbnNlRGlzcG9zaXRpb24pIC0+IFZvaWQpCiAgICBmdW5jIHVybFNlc3Npb24oXyBzZXNzaW9uOiBVUkxTZXNzaW9uLCBkYXRhVGFzazogVVJMU2Vzc2lvbkRhdGFUYXNrLCB3aWxsQ2FjaGVSZXNwb25zZSBwcm9wb3NlZFJlc3BvbnNlOiBDYWNoZWRVUkxSZXNwb25zZSwgY29tcGxldGlvbkhhbmRsZXI6IEBlc2NhcGluZyAoQ2FjaGVkVVJMUmVzcG9uc2U/KSAtPiBWb2lkKQp9CnB1YmxpYyBwcm90b2NvbCBVUkxTZXNzaW9uRGVsZWdhdGUgOiBOU09iamVjdFByb3RvY29sLCBfIHsKICAgIGZ1bmMgdXJsU2Vzc2lvbihfIHNlc3Npb246IFVSTFNlc3Npb24sIGRpZEJlY29tZUludmFsaWRXaXRoRXJyb3IgZXJyb3I6IEVycm9yPykKICAgIGZ1bmMgdXJsU2Vzc2lvbihfIHNlc3Npb246IFVSTFNlc3Npb24sIGRpZFJlY2VpdmUgY2hhbGxlbmdlOiBVUkxBdXRoZW50aWNhdGlvbkNoYWxsZW5nZSwgY29tcGxldGlvbkhhbmRsZXI6IEBlc2NhcGluZyAoVVJMU2Vzc2lvbi5BdXRoQ2hhbGxlbmdlRGlzcG9zaXRpb24sIFVSTENyZWRlbnRpYWw/KSAtPiBWb2lkKQp9CnB1YmxpYyBwcm90b2NvbCBVUkxTZXNzaW9uRG93bmxvYWREZWxlZ2F0ZSA6IE5TT2JqZWN0UHJvdG9jb2wsIFVSTFNlc3Npb25EZWxlZ2F0ZSwgVVJMU2Vzc2lvblRhc2tEZWxlZ2F0ZSwgXyB7CiAgICBmdW5jIHVybFNlc3Npb24oXyBzZXNzaW9uOiBVUkxTZXNzaW9uLCBkb3dubG9hZFRhc2s6IFVSTFNlc3Npb25Eb3dubG9hZFRhc2ssIGRpZEZpbmlzaERvd25sb2FkaW5nVG8gbG9jYXRpb246IFVSTCkKICAgIGZ1bmMgdXJsU2Vzc2lvbihfIHNlc3Npb246IFVSTFNlc3Npb24sIGRvd25sb2FkVGFzazogVVJMU2Vzc2lvbkRvd25sb2FkVGFzaywgZGlkUmVzdW1lQXRPZmZzZXQgZmlsZU9mZnNldDogSW50NjQsIGV4cGVjdGVkVG90YWxCeXRlczogSW50NjQpCiAgICBmdW5jIHVybFNlc3Npb24oXyBzZXNzaW9uOiBVUkxTZXNzaW9uLCBkb3dubG9hZFRhc2s6IFVSTFNlc3Npb25Eb3dubG9hZFRhc2ssIGRpZFdyaXRlRGF0YSBieXRlc1dyaXR0ZW46IEludDY0LCB0b3RhbEJ5dGVzV3JpdHRlbjogSW50NjQsIHRvdGFsQnl0ZXNFeHBlY3RlZFRvV3JpdGU6IEludDY0KQp9CnB1YmxpYyBwcm90b2NvbCBVUkxTZXNzaW9uU3RyZWFtRGVsZWdhdGUgOiBOU09iamVjdFByb3RvY29sLCBVUkxTZXNzaW9uRGVsZWdhdGUsIFVSTFNlc3Npb25UYXNrRGVsZWdhdGUsIF8gewogICAgZnVuYyB1cmxTZXNzaW9uKF8gc2Vzc2lvbjogVVJMU2Vzc2lvbiwgYmV0dGVyUm91dGVEaXNjb3ZlcmVkRm9yIHN0cmVhbVRhc2s6IFVSTFNlc3Npb25TdHJlYW1UYXNrKQogICAgZnVuYyB1cmxTZXNzaW9uKF8gc2Vzc2lvbjogVVJMU2Vzc2lvbiwgcmVhZENsb3NlZEZvciBzdHJlYW1UYXNrOiBVUkxTZXNzaW9uU3RyZWFtVGFzaykKICAgIGZ1bmMgdXJsU2Vzc2lvbihfIHNlc3Npb246IFVSTFNlc3Npb24sIHN0cmVhbVRhc2s6IFVSTFNlc3Npb25TdHJlYW1UYXNrLCBkaWRCZWNvbWUgaW5wdXRTdHJlYW06IElucHV0U3RyZWFtLCBvdXRwdXRTdHJlYW06IE91dHB1dFN0cmVhbSkKICAgIGZ1bmMgdXJsU2Vzc2lvbihfIHNlc3Npb246IFVSTFNlc3Npb24sIHdyaXRlQ2xvc2VkRm9yIHN0cmVhbVRhc2s6IFVSTFNlc3Npb25TdHJlYW1UYXNrKQp9CnB1YmxpYyBwcm90b2NvbCBVUkxTZXNzaW9uVGFza0RlbGVnYXRlIDogTlNPYmplY3RQcm90b2NvbCwgVVJMU2Vzc2lvbkRlbGVnYXRlLCBfIHsKICAgIGZ1bmMgdXJsU2Vzc2lvbihfIHNlc3Npb246IFVSTFNlc3Npb24sIHRhc2s6IFVSTFNlc3Npb25UYXNrLCBkaWRDb21wbGV0ZVdpdGhFcnJvciBlcnJvcjogRXJyb3I/KQogICAgZnVuYyB1cmxTZXNzaW9uKF8gc2Vzc2lvbjogVVJMU2Vzc2lvbiwgdGFzazogVVJMU2Vzc2lvblRhc2ssIGRpZFJlY2VpdmUgY2hhbGxlbmdlOiBVUkxBdXRoZW50aWNhdGlvbkNoYWxsZW5nZSwgY29tcGxldGlvbkhhbmRsZXI6IEBlc2NhcGluZyAoVVJMU2Vzc2lvbi5BdXRoQ2hhbGxlbmdlRGlzcG9zaXRpb24sIFVSTENyZWRlbnRpYWw/KSAtPiBWb2lkKQogICAgZnVuYyB1cmxTZXNzaW9uKF8gc2Vzc2lvbjogVVJMU2Vzc2lvbiwgdGFzazogVVJMU2Vzc2lvblRhc2ssIGRpZFNlbmRCb2R5RGF0YSBieXRlc1NlbnQ6IEludDY0LCB0b3RhbEJ5dGVzU2VudDogSW50NjQsIHRvdGFsQnl0ZXNFeHBlY3RlZFRvU2VuZDogSW50NjQpCiAgICBmdW5jIHVybFNlc3Npb24oXyBzZXNzaW9uOiBVUkxTZXNzaW9uLCB0YXNrOiBVUkxTZXNzaW9uVGFzaywgbmVlZE5ld0JvZHlTdHJlYW0gY29tcGxldGlvbkhhbmRsZXI6IEBlc2NhcGluZyAoSW5wdXRTdHJlYW0/KSAtPiBWb2lkKQogICAgZnVuYyB1cmxTZXNzaW9uKF8gc2Vzc2lvbjogVVJMU2Vzc2lvbiwgdGFzazogVVJMU2Vzc2lvblRhc2ssIHdpbGxCZWdpbkRlbGF5ZWRSZXF1ZXN0IHJlcXVlc3Q6IFVSTFJlcXVlc3QsIGNvbXBsZXRpb25IYW5kbGVyOiBAZXNjYXBpbmcgKFVSTFNlc3Npb24uRGVsYXllZFJlcXVlc3REaXNwb3NpdGlvbiwgVVJMUmVxdWVzdD8pIC0+IFZvaWQpCiAgICBmdW5jIHVybFNlc3Npb24oXyBzZXNzaW9uOiBVUkxTZXNzaW9uLCB0YXNrOiBVUkxTZXNzaW9uVGFzaywgd2lsbFBlcmZvcm1IVFRQUmVkaXJlY3Rpb24gcmVzcG9uc2U6IEhUVFBVUkxSZXNwb25zZSwgbmV3UmVxdWVzdCByZXF1ZXN0OiBVUkxSZXF1ZXN0LCBjb21wbGV0aW9uSGFuZGxlcjogQGVzY2FwaW5nIChVUkxSZXF1ZXN0PykgLT4gVm9pZCkKfQpwdWJsaWMgcHJvdG9jb2wgWE1MUGFyc2VyRGVsZWdhdGUgOiBfIHsKICAgIGZ1bmMgcGFyc2VyKF8gcGFyc2VyOiBYTUxQYXJzZXIsIGRpZEVuZEVsZW1lbnQgZWxlbWVudE5hbWU6IFN0cmluZywgbmFtZXNwYWNlVVJJOiBTdHJpbmc/LCBxdWFsaWZpZWROYW1lIHFOYW1lOiBTdHJpbmc/KQogICAgZnVuYyBwYXJzZXIoXyBwYXJzZXI6IFhNTFBhcnNlciwgZGlkRW5kTWFwcGluZ1ByZWZpeCBwcmVmaXg6IFN0cmluZykKICAgIGZ1bmMgcGFyc2VyKF8gcGFyc2VyOiBYTUxQYXJzZXIsIGRpZFN0YXJ0RWxlbWVudCBlbGVtZW50TmFtZTogU3RyaW5nLCBuYW1lc3BhY2VVUkk6IFN0cmluZz8sIHF1YWxpZmllZE5hbWUgcU5hbWU6IFN0cmluZz8sIGF0dHJpYnV0ZXMgYXR0cmlidXRlRGljdDogW1N0cmluZzogU3RyaW5nXSkKICAgIGZ1bmMgcGFyc2VyKF8gcGFyc2VyOiBYTUxQYXJzZXIsIGRpZFN0YXJ0TWFwcGluZ1ByZWZpeCBwcmVmaXg6IFN0cmluZywgdG9VUkkgbmFtZXNwYWNlVVJJOiBTdHJpbmcpCiAgICBmdW5jIHBhcnNlcihfIHBhcnNlcjogWE1MUGFyc2VyLCBmb3VuZEF0dHJpYnV0ZURlY2xhcmF0aW9uV2l0aE5hbWUgYXR0cmlidXRlTmFtZTogU3RyaW5nLCBmb3JFbGVtZW50IGVsZW1lbnROYW1lOiBTdHJpbmcsIHR5cGU6IFN0cmluZz8sIGRlZmF1bHRWYWx1ZTogU3RyaW5nPykKICAgIGZ1bmMgcGFyc2VyKF8gcGFyc2VyOiBYTUxQYXJzZXIsIGZvdW5kQ0RBVEEgQ0RBVEFCbG9jazogRGF0YSkKICAgIGZ1bmMgcGFyc2VyKF8gcGFyc2VyOiBYTUxQYXJzZXIsIGZvdW5kQ2hhcmFjdGVycyBzdHJpbmc6IFN0cmluZykKICAgIGZ1bmMgcGFyc2VyKF8gcGFyc2VyOiBYTUxQYXJzZXIsIGZvdW5kQ29tbWVudCBjb21tZW50OiBTdHJpbmcpCiAgICBmdW5jIHBhcnNlcihfIHBhcnNlcjogWE1MUGFyc2VyLCBmb3VuZEVsZW1lbnREZWNsYXJhdGlvbldpdGhOYW1lIGVsZW1lbnROYW1lOiBTdHJpbmcsIG1vZGVsOiBTdHJpbmcpCiAgICBmdW5jIHBhcnNlcihfIHBhcnNlcjogWE1MUGFyc2VyLCBmb3VuZEV4dGVybmFsRW50aXR5RGVjbGFyYXRpb25XaXRoTmFtZSBuYW1lOiBTdHJpbmcsIHB1YmxpY0lEOiBTdHJpbmc/LCBzeXN0ZW1JRDogU3RyaW5nPykKICAgIGZ1bmMgcGFyc2VyKF8gcGFyc2VyOiBYTUxQYXJzZXIsIGZvdW5kSWdub3JhYmxlV2hpdGVzcGFjZSB3aGl0ZXNwYWNlU3RyaW5nOiBTdHJpbmcpCiAgICBmdW5jIHBhcnNlcihfIHBhcnNlcjogWE1MUGFyc2VyLCBmb3VuZEludGVybmFsRW50aXR5RGVjbGFyYXRpb25XaXRoTmFtZSBuYW1lOiBTdHJpbmcsIHZhbHVlOiBTdHJpbmc/KQogICAgZnVuYyBwYXJzZXIoXyBwYXJzZXI6IFhNTFBhcnNlciwgZm91bmROb3RhdGlvbkRlY2xhcmF0aW9uV2l0aE5hbWUgbmFtZTogU3RyaW5nLCBwdWJsaWNJRDogU3RyaW5nPywgc3lzdGVtSUQ6IFN0cmluZz8pCiAgICBmdW5jIHBhcnNlcihfIHBhcnNlcjogWE1MUGFyc2VyLCBmb3VuZFByb2Nlc3NpbmdJbnN0cnVjdGlvbldpdGhUYXJnZXQgdGFyZ2V0OiBTdHJpbmcsIGRhdGE6IFN0cmluZz8pCiAgICBmdW5jIHBhcnNlcihfIHBhcnNlcjogWE1MUGFyc2VyLCBmb3VuZFVucGFyc2VkRW50aXR5RGVjbGFyYXRpb25XaXRoTmFtZSBuYW1lOiBTdHJpbmcsIHB1YmxpY0lEOiBTdHJpbmc/LCBzeXN0ZW1JRDogU3RyaW5nPywgbm90YXRpb25OYW1lOiBTdHJpbmc/KQogICAgZnVuYyBwYXJzZXIoXyBwYXJzZXI6IFhNTFBhcnNlciwgcGFyc2VFcnJvck9jY3VycmVkIHBhcnNlRXJyb3I6IEVycm9yKQogICAgZnVuYyBwYXJzZXIoXyBwYXJzZXI6IFhNTFBhcnNlciwgcmVzb2x2ZUV4dGVybmFsRW50aXR5TmFtZSBuYW1lOiBTdHJpbmcsIHN5c3RlbUlEOiBTdHJpbmc/KSAtPiBEYXRhPwogICAgZnVuYyBwYXJzZXIoXyBwYXJzZXI6IFhNTFBhcnNlciwgdmFsaWRhdGlvbkVycm9yT2NjdXJyZWQgdmFsaWRhdGlvbkVycm9yOiBFcnJvcikKICAgIGZ1bmMgcGFyc2VyRGlkRW5kRG9jdW1lbnQoXyBwYXJzZXI6IFhNTFBhcnNlcikKICAgIGZ1bmMgcGFyc2VyRGlkU3RhcnREb2N1bWVudChfIHBhcnNlcjogWE1MUGFyc2VyKQp9CmV4dGVuc2lvbiBBcnJheSB7Cn0KZXh0ZW5zaW9uIEFycmF5U2xpY2Ugewp9CmV4dGVuc2lvbiBCb29sIHsKICAgIHB1YmxpYyBpbml0PyhleGFjdGx5IG51bWJlcjogTlNOdW1iZXIpIHt9CiAgICBwdWJsaWMgaW5pdCh0cnVuY2F0aW5nIG51bWJlcjogTlNOdW1iZXIpIHt9Cn0KZXh0ZW5zaW9uIENGQXJyYXkgewp9CmV4dGVuc2lvbiBDRkNhbGVuZGFyIHsKfQpleHRlbnNpb24gQ0ZDaGFyYWN0ZXJTZXQgewp9CmV4dGVuc2lvbiBDRkRhdGEgewp9CmV4dGVuc2lvbiBDRkRhdGUgewp9CmV4dGVuc2lvbiBDRkRpY3Rpb25hcnkgewp9CmV4dGVuc2lvbiBDRkVycm9yIHsKfQpleHRlbnNpb24gQ0ZLZXllZEFyY2hpdmVyVUlEIHsKfQpleHRlbnNpb24gQ0ZMb2NhbGUgewp9CmV4dGVuc2lvbiBDRk51bWJlciB7Cn0KZXh0ZW5zaW9uIENGU2V0IHsKfQpleHRlbnNpb24gQ0ZTdHJpbmcgewp9CmV4dGVuc2lvbiBDRlRpbWVab25lIHsKfQpleHRlbnNpb24gQ0ZVUkwgewp9CmV4dGVuc2lvbiBDRlVSTFNlc3Npb25FYXN5Q29kZSB7CiAgICBwdWJsaWMgZnVuYyA9PShsaHM6IENGVVJMU2Vzc2lvbkVhc3lDb2RlLCByaHM6IENGVVJMU2Vzc2lvbkVhc3lDb2RlKSAtPiBCb29sIHt9Cn0KZXh0ZW5zaW9uIENGVVJMU2Vzc2lvbkluZm8gewogICAgcHVibGljIHZhciBkZWJ1Z0hlYWRlcjogU3RyaW5nIHsgZ2V0IH0KICAgIHB1YmxpYyBmdW5jID09KGxoczogQ0ZVUkxTZXNzaW9uSW5mbywgcmhzOiBDRlVSTFNlc3Npb25JbmZvKSAtPiBCb29sIHt9Cn0KZXh0ZW5zaW9uIENGVVJMU2Vzc2lvbk11bHRpQ29kZSB7CiAgICBwdWJsaWMgZnVuYyA9PShsaHM6IENGVVJMU2Vzc2lvbk11bHRpQ29kZSwgcmhzOiBDRlVSTFNlc3Npb25NdWx0aUNvZGUpIC0+IEJvb2wge30KfQpleHRlbnNpb24gQ0ZVUkxTZXNzaW9uUG9sbCB7CiAgICBwdWJsaWMgZnVuYyA9PShsaHM6IENGVVJMU2Vzc2lvblBvbGwsIHJoczogQ0ZVUkxTZXNzaW9uUG9sbCkgLT4gQm9vbCB7fQp9CmV4dGVuc2lvbiBDb2xsZWN0aW9uT2ZPbmUgewp9CmV4dGVuc2lvbiBDb250aWd1b3VzQXJyYXkgewp9CmV4dGVuc2lvbiBEZWNvZGluZ0Vycm9yIHsKfQpleHRlbnNpb24gRGljdGlvbmFyeSB7Cn0KZXh0ZW5zaW9uIERpc3BhdGNoRGF0YSB7Cn0KZXh0ZW5zaW9uIERvdWJsZSB7CiAgICBwdWJsaWMgaW5pdChfIHZhbHVlOiBDR0Zsb2F0KSB7fQogICAgcHVibGljIGluaXQ/KGV4YWN0bHkgbnVtYmVyOiBOU051bWJlcikge30KICAgIHB1YmxpYyBpbml0KHRydW5jYXRpbmcgbnVtYmVyOiBOU051bWJlcikge30KfQpleHRlbnNpb24gRW1wdHlDb2xsZWN0aW9uIHsKfQpleHRlbnNpb24gRW5jb2RpbmdFcnJvciB7Cn0KZXh0ZW5zaW9uIEZsb2F0IHsKICAgIHB1YmxpYyBpbml0KF8gdmFsdWU6IENHRmxvYXQpIHt9CiAgICBwdWJsaWMgaW5pdD8oZXhhY3RseSBudW1iZXI6IE5TTnVtYmVyKSB7fQogICAgcHVibGljIGluaXQodHJ1bmNhdGluZyBudW1iZXI6IE5TTnVtYmVyKSB7fQp9CmV4dGVuc2lvbiBJbnQgewogICAgcHVibGljIGluaXQoXyB2YWx1ZTogQ0dGbG9hdCkge30KICAgIHB1YmxpYyBpbml0PyhleGFjdGx5IG51bWJlcjogTlNOdW1iZXIpIHt9CiAgICBwdWJsaWMgaW5pdCh0cnVuY2F0aW5nIG51bWJlcjogTlNOdW1iZXIpIHt9Cn0KZXh0ZW5zaW9uIEludDE2IHsKICAgIHB1YmxpYyBpbml0KF8gdmFsdWU6IENHRmxvYXQpIHt9CiAgICBwdWJsaWMgaW5pdD8oZXhhY3RseSBudW1iZXI6IE5TTnVtYmVyKSB7fQogICAgcHVibGljIGluaXQodHJ1bmNhdGluZyBudW1iZXI6IE5TTnVtYmVyKSB7fQp9CmV4dGVuc2lvbiBJbnQzMiB7CiAgICBwdWJsaWMgaW5pdChfIHZhbHVlOiBDR0Zsb2F0KSB7fQogICAgcHVibGljIGluaXQ/KGV4YWN0bHkgbnVtYmVyOiBOU051bWJlcikge30KICAgIHB1YmxpYyBpbml0KHRydW5jYXRpbmcgbnVtYmVyOiBOU051bWJlcikge30KfQpleHRlbnNpb24gSW50NjQgewogICAgcHVibGljIGluaXQoXyB2YWx1ZTogQ0dGbG9hdCkge30KICAgIHB1YmxpYyBpbml0PyhleGFjdGx5IG51bWJlcjogTlNOdW1iZXIpIHt9CiAgICBwdWJsaWMgaW5pdCh0cnVuY2F0aW5nIG51bWJlcjogTlNOdW1iZXIpIHt9Cn0KZXh0ZW5zaW9uIEludDggewogICAgcHVibGljIGluaXQoXyB2YWx1ZTogQ0dGbG9hdCkge30KICAgIHB1YmxpYyBpbml0PyhleGFjdGx5IG51bWJlcjogTlNOdW1iZXIpIHt9CiAgICBwdWJsaWMgaW5pdCh0cnVuY2F0aW5nIG51bWJlcjogTlNOdW1iZXIpIHt9Cn0KZXh0ZW5zaW9uIE1lYXN1cmVtZW50IHsKICAgIHB1YmxpYyBpbml0KGZyb20gZGVjb2RlcjogRGVjb2RlcikgdGhyb3dzIHt9CiAgICBwdWJsaWMgdmFyIGN1c3RvbU1pcnJvcjogTWlycm9yIHsgZ2V0IH0KICAgIHB1YmxpYyB2YXIgZGVidWdEZXNjcmlwdGlvbjogU3RyaW5nIHsgZ2V0IH0KICAgIHB1YmxpYyB2YXIgZGVzY3JpcHRpb246IFN0cmluZyB7IGdldCB9CiAgICBwdWJsaWMgZnVuYyAqKGxoczogRG91YmxlLCByaHM6IE1lYXN1cmVtZW50PFVuaXRUeXBlPikgLT4gTWVhc3VyZW1lbnQ8VW5pdFR5cGU+IHt9CiAgICBwdWJsaWMgZnVuYyAqKGxoczogTWVhc3VyZW1lbnQ8VW5pdFR5cGU+LCByaHM6IERvdWJsZSkgLT4gTWVhc3VyZW1lbnQ8VW5pdFR5cGU+IHt9CiAgICBwdWJsaWMgZnVuYyArKGxoczogTWVhc3VyZW1lbnQ8VW5pdFR5cGU+LCByaHM6IE1lYXN1cmVtZW50PFVuaXRUeXBlPikgLT4gTWVhc3VyZW1lbnQ8VW5pdFR5cGU+IHt9CiAgICBwdWJsaWMgZnVuYyArKGxoczogTWVhc3VyZW1lbnQ8VW5pdFR5cGU+LCByaHM6IE1lYXN1cmVtZW50PFVuaXRUeXBlPikgLT4gTWVhc3VyZW1lbnQ8VW5pdFR5cGU+IHdoZXJlIFVuaXRUeXBlIDogRGltZW5zaW9uIHt9CiAgICBwdWJsaWMgZnVuYyAtKGxoczogTWVhc3VyZW1lbnQ8VW5pdFR5cGU+LCByaHM6IE1lYXN1cmVtZW50PFVuaXRUeXBlPikgLT4gTWVhc3VyZW1lbnQ8VW5pdFR5cGU+IHt9CiAgICBwdWJsaWMgZnVuYyAtKGxoczogTWVhc3VyZW1lbnQ8VW5pdFR5cGU+LCByaHM6IE1lYXN1cmVtZW50PFVuaXRUeXBlPikgLT4gTWVhc3VyZW1lbnQ8VW5pdFR5cGU+IHdoZXJlIFVuaXRUeXBlIDogRGltZW5zaW9uIHt9CiAgICBwdWJsaWMgZnVuYyAvKGxoczogRG91YmxlLCByaHM6IE1lYXN1cmVtZW50PFVuaXRUeXBlPikgLT4gTWVhc3VyZW1lbnQ8VW5pdFR5cGU+IHt9CiAgICBwdWJsaWMgZnVuYyAvKGxoczogTWVhc3VyZW1lbnQ8VW5pdFR5cGU+LCByaHM6IERvdWJsZSkgLT4gTWVhc3VyZW1lbnQ8VW5pdFR5cGU+IHt9CiAgICBwdWJsaWMgZnVuYyA8PExlZnRIYW5kU2lkZVR5cGUsIFJpZ2h0SGFuZFNpZGVUeXBlPihsaHM6IE1lYXN1cmVtZW50PExlZnRIYW5kU2lkZVR5cGU+LCByaHM6IE1lYXN1cmVtZW50PFJpZ2h0SGFuZFNpZGVUeXBlPikgLT4gQm9vbCB7fQogICAgcHVibGljIGZ1bmMgPT08TGVmdEhhbmRTaWRlVHlwZSwgUmlnaHRIYW5kU2lkZVR5cGU+KGxoczogTWVhc3VyZW1lbnQ8TGVmdEhhbmRTaWRlVHlwZT4sIHJoczogTWVhc3VyZW1lbnQ8UmlnaHRIYW5kU2lkZVR5cGU+KSAtPiBCb29sIHt9CiAgICBwdWJsaWMgbXV0YXRpbmcgZnVuYyBjb252ZXJ0KHRvIG90aGVyVW5pdDogVW5pdFR5cGUpIHdoZXJlIFVuaXRUeXBlIDogRGltZW5zaW9uIHt9CiAgICBwdWJsaWMgZnVuYyBjb252ZXJ0ZWQodG8gb3RoZXJVbml0OiBVbml0VHlwZSkgLT4gTWVhc3VyZW1lbnQ8VW5pdFR5cGU+IHdoZXJlIFVuaXRUeXBlIDogRGltZW5zaW9uIHt9CiAgICBwdWJsaWMgZnVuYyBlbmNvZGUodG8gZW5jb2RlcjogRW5jb2RlcikgdGhyb3dzIHt9Cn0KZXh0ZW5zaW9uIE9wdGlvbmFsIHsKfQpleHRlbnNpb24gUmFuZ2UgewogICAgcHVibGljIGluaXQ/KF8gcmFuZ2U6IE5TUmFuZ2UpIHdoZXJlIEJvdW5kIDogQmluYXJ5SW50ZWdlciB7fQogICAgcHVibGljIGluaXQ/KF8gcmFuZ2U6IE5TUmFuZ2UsIGluIHN0cmluZzogU3RyaW5nKSB3aGVyZSBCb3VuZCA9PSBTdHJpbmcuSW5kZXgge30KfQpleHRlbnNpb24gUmVwZWF0ZWQgewp9CmV4dGVuc2lvbiBTZXQgewp9CmV4dGVuc2lvbiBTbGljZSB7Cn0KZXh0ZW5zaW9uIFN0cmluZyB7CiAgICBwdWJsaWMgc3RhdGljIHZhciBhdmFpbGFibGVTdHJpbmdFbmNvZGluZ3M6IFtFbmNvZGluZ10geyBnZXQgfQogICAgcHVibGljIHN0YXRpYyB2YXIgZGVmYXVsdENTdHJpbmdFbmNvZGluZzogRW5jb2RpbmcgeyBnZXQgfQogICAgcHVibGljIHN0YXRpYyBmdW5jIGxvY2FsaXplZE5hbWUob2YgZW5jb2Rpbmc6IEVuY29kaW5nKSAtPiBTdHJpbmcge30KICAgIHB1YmxpYyBzdGF0aWMgZnVuYyBsb2NhbGl6ZWRTdHJpbmdXaXRoRm9ybWF0KF8gZm9ybWF0OiBTdHJpbmcsIF8gYXJndW1lbnRzOiBDVmFyQXJnLi4uKSAtPiBTdHJpbmcge30KICAgIHB1YmxpYyBpbml0PzxTPihieXRlczogX19zaGFyZWQgUywgZW5jb2Rpbmc6IEVuY29kaW5nKSB3aGVyZSBTIDogU2VxdWVuY2UsIFMuSXRlcmF0b3IuRWxlbWVudCA9PSBVSW50OCB7fQogICAgcHVibGljIGluaXQ/KGJ5dGVzTm9Db3B5IGJ5dGVzOiBVbnNhZmVNdXRhYmxlUmF3UG9pbnRlciwgbGVuZ3RoOiBJbnQsIGVuY29kaW5nOiBFbmNvZGluZywgZnJlZVdoZW5Eb25lIGZsYWc6IEJvb2wpIHt9CiAgICBwdWJsaWMgaW5pdD8oY1N0cmluZzogVW5zYWZlUG9pbnRlcjxDQ2hhcj4sIGVuY29kaW5nIGVuYzogRW5jb2RpbmcpIHt9CiAgICBwdWJsaWMgaW5pdChjb250ZW50c09mIHVybDogX19zaGFyZWQgVVJMKSB0aHJvd3Mge30KICAgIHB1YmxpYyBpbml0KGNvbnRlbnRzT2YgdXJsOiBfX3NoYXJlZCBVUkwsIGVuY29kaW5nIGVuYzogRW5jb2RpbmcpIHRocm93cyB7fQogICAgcHVibGljIGluaXQoY29udGVudHNPZiB1cmw6IF9fc2hhcmVkIFVSTCwgdXNlZEVuY29kaW5nOiBpbm91dCBFbmNvZGluZykgdGhyb3dzIHt9CiAgICBwdWJsaWMgaW5pdChjb250ZW50c09mRmlsZSBwYXRoOiBfX3NoYXJlZCBTdHJpbmcpIHRocm93cyB7fQogICAgcHVibGljIGluaXQoY29udGVudHNPZkZpbGUgcGF0aDogX19zaGFyZWQgU3RyaW5nLCBlbmNvZGluZyBlbmM6IEVuY29kaW5nKSB0aHJvd3Mge30KICAgIHB1YmxpYyBpbml0KGNvbnRlbnRzT2ZGaWxlIHBhdGg6IF9fc2hhcmVkIFN0cmluZywgdXNlZEVuY29kaW5nOiBpbm91dCBFbmNvZGluZykgdGhyb3dzIHt9CiAgICBwdWJsaWMgaW5pdD8oZGF0YTogX19zaGFyZWQgRGF0YSwgZW5jb2Rpbmc6IEVuY29kaW5nKSB7fQogICAgcHVibGljIGluaXQoZm9ybWF0OiBfX3NoYXJlZCBTdHJpbmcsIF8gYXJndW1lbnRzOiBDVmFyQXJnLi4uKSB7fQogICAgcHVibGljIGluaXQoZm9ybWF0OiBfX3NoYXJlZCBTdHJpbmcsIGFyZ3VtZW50czogX19zaGFyZWQgW0NWYXJBcmddKSB7fQogICAgcHVibGljIGluaXQoZm9ybWF0OiBfX3NoYXJlZCBTdHJpbmcsIGxvY2FsZTogX19zaGFyZWQgTG9jYWxlPywgXyBhcmdzOiBDVmFyQXJnLi4uKSB7fQogICAgcHVibGljIGluaXQoZm9ybWF0OiBfX3NoYXJlZCBTdHJpbmcsIGxvY2FsZTogX19zaGFyZWQgTG9jYWxlPywgYXJndW1lbnRzOiBfX3NoYXJlZCBbQ1ZhckFyZ10pIHt9CiAgICBwdWJsaWMgaW5pdCh1dGYxNkNvZGVVbml0czogVW5zYWZlUG9pbnRlcjx1bmljaGFyPiwgY291bnQ6IEludCkge30KICAgIHB1YmxpYyBpbml0KHV0ZjE2Q29kZVVuaXRzTm9Db3B5OiBVbnNhZmVQb2ludGVyPHVuaWNoYXI+LCBjb3VudDogSW50LCBmcmVlV2hlbkRvbmUgZmxhZzogQm9vbCkge30KICAgIHB1YmxpYyBpbml0Pyh1dGY4U3RyaW5nIGJ5dGVzOiBVbnNhZmVQb2ludGVyPENDaGFyPikge30KfQpleHRlbnNpb24gU3RyaW5nLkVuY29kaW5nIHsKICAgIHB1YmxpYyB2YXIgZGVzY3JpcHRpb246IFN0cmluZyB7IGdldCB9CiAgICBwdWJsaWMgdmFyIGhhc2hWYWx1ZTogSW50IHsgZ2V0IH0KICAgIHB1YmxpYyBmdW5jID09KGxoczogU3RyaW5nLkVuY29kaW5nLCByaHM6IFN0cmluZy5FbmNvZGluZykgLT4gQm9vbCB7fQp9CmV4dGVuc2lvbiBTdHJpbmdQcm90b2NvbCB7CiAgICBwdWJsaWMgdmFyIGNhcGl0YWxpemVkOiBTdHJpbmcgeyBnZXQgfSB3aGVyZSBJbmRleCA9PSBTdHJpbmcuSW5kZXgKICAgIHB1YmxpYyB2YXIgZGVjb21wb3NlZFN0cmluZ1dpdGhDYW5vbmljYWxNYXBwaW5nOiBTdHJpbmcgeyBnZXQgfSB3aGVyZSBJbmRleCA9PSBTdHJpbmcuSW5kZXgKICAgIHB1YmxpYyB2YXIgZGVjb21wb3NlZFN0cmluZ1dpdGhDb21wYXRpYmlsaXR5TWFwcGluZzogU3RyaW5nIHsgZ2V0IH0gd2hlcmUgSW5kZXggPT0gU3RyaW5nLkluZGV4CiAgICBwdWJsaWMgdmFyIGZhc3Rlc3RFbmNvZGluZzogU3RyaW5nLkVuY29kaW5nIHsgZ2V0IH0gd2hlcmUgSW5kZXggPT0gU3RyaW5nLkluZGV4CiAgICBwdWJsaWMgdmFyIGhhc2g6IEludCB7IGdldCB9IHdoZXJlIEluZGV4ID09IFN0cmluZy5JbmRleAogICAgQGF2YWlsYWJsZShtYWNPUyAxMC4xMSwgaU9TIDkuMCwgKikgcHVibGljIHZhciBsb2NhbGl6ZWRDYXBpdGFsaXplZDogU3RyaW5nIHsgZ2V0IH0gd2hlcmUgSW5kZXggPT0gU3RyaW5nLkluZGV4CiAgICBAYXZhaWxhYmxlKG1hY09TIDEwLjExLCBpT1MgOS4wLCAqKSBwdWJsaWMgdmFyIGxvY2FsaXplZExvd2VyY2FzZTogU3RyaW5nIHsgZ2V0IH0gd2hlcmUgSW5kZXggPT0gU3RyaW5nLkluZGV4CiAgICBAYXZhaWxhYmxlKG1hY09TIDEwLjExLCBpT1MgOS4wLCAqKSBwdWJsaWMgdmFyIGxvY2FsaXplZFVwcGVyY2FzZTogU3RyaW5nIHsgZ2V0IH0gd2hlcmUgSW5kZXggPT0gU3RyaW5nLkluZGV4CiAgICBwdWJsaWMgdmFyIHByZWNvbXBvc2VkU3RyaW5nV2l0aENhbm9uaWNhbE1hcHBpbmc6IFN0cmluZyB7IGdldCB9IHdoZXJlIEluZGV4ID09IFN0cmluZy5JbmRleAogICAgcHVibGljIHZhciBwcmVjb21wb3NlZFN0cmluZ1dpdGhDb21wYXRpYmlsaXR5TWFwcGluZzogU3RyaW5nIHsgZ2V0IH0gd2hlcmUgSW5kZXggPT0gU3RyaW5nLkluZGV4CiAgICBwdWJsaWMgdmFyIHJlbW92aW5nUGVyY2VudEVuY29kaW5nOiBTdHJpbmc/IHsgZ2V0IH0gd2hlcmUgSW5kZXggPT0gU3RyaW5nLkluZGV4CiAgICBwdWJsaWMgdmFyIHNtYWxsZXN0RW5jb2Rpbmc6IFN0cmluZy5FbmNvZGluZyB7IGdldCB9IHdoZXJlIEluZGV4ID09IFN0cmluZy5JbmRleAogICAgcHVibGljIGZ1bmMgYWRkaW5nUGVyY2VudEVuY29kaW5nKHdpdGhBbGxvd2VkQ2hhcmFjdGVycyBhbGxvd2VkQ2hhcmFjdGVyczogQ2hhcmFjdGVyU2V0KSAtPiBTdHJpbmc/IHdoZXJlIEluZGV4ID09IFN0cmluZy5JbmRleCB7fQogICAgcHVibGljIGZ1bmMgYXBwZW5kaW5nPFQ+KF8gYVN0cmluZzogVCkgLT4gU3RyaW5nIHdoZXJlIFQgOiBTdHJpbmdQcm90b2NvbCwgSW5kZXggPT0gU3RyaW5nLkluZGV4IHt9CiAgICBwdWJsaWMgZnVuYyBhcHBlbmRpbmdGb3JtYXQ8VD4oXyBmb3JtYXQ6IFQsIF8gYXJndW1lbnRzOiBDVmFyQXJnLi4uKSAtPiBTdHJpbmcgd2hlcmUgVCA6IFN0cmluZ1Byb3RvY29sLCBJbmRleCA9PSBTdHJpbmcuSW5kZXgge30KI2lmICFERVBMT1lNRU5UX1JVTlRJTUVfU1dJRlQKICAgIEBhdmFpbGFibGUobWFjT1MgMTAuMTEsIGlPUyA5LjAsICopIHB1YmxpYyBmdW5jIGFwcGx5aW5nVHJhbnNmb3JtKF8gdHJhbnNmb3JtOiBTdHJpbmdUcmFuc2Zvcm0sIHJldmVyc2U6IEJvb2wpIC0+IFN0cmluZz8gd2hlcmUgSW5kZXggPT0gU3RyaW5nLkluZGV4IHt9CiNlbmRpZgogICAgcHVibGljIGZ1bmMgY1N0cmluZyh1c2luZyBlbmNvZGluZzogU3RyaW5nLkVuY29kaW5nKSAtPiBbQ0NoYXJdPyB3aGVyZSBJbmRleCA9PSBTdHJpbmcuSW5kZXgge30KICAgIHB1YmxpYyBmdW5jIGNhbkJlQ29udmVydGVkKHRvIGVuY29kaW5nOiBTdHJpbmcuRW5jb2RpbmcpIC0+IEJvb2wgd2hlcmUgSW5kZXggPT0gU3RyaW5nLkluZGV4IHt9CiAgICBwdWJsaWMgZnVuYyBjYXBpdGFsaXplZCh3aXRoIGxvY2FsZTogTG9jYWxlPykgLT4gU3RyaW5nIHdoZXJlIEluZGV4ID09IFN0cmluZy5JbmRleCB7fQogICAgcHVibGljIGZ1bmMgY2FzZUluc2Vuc2l0aXZlQ29tcGFyZTxUPihfIGFTdHJpbmc6IFQpIC0+IENvbXBhcmlzb25SZXN1bHQgd2hlcmUgVCA6IFN0cmluZ1Byb3RvY29sLCBJbmRleCA9PSBTdHJpbmcuSW5kZXgge30KICAgIHB1YmxpYyBmdW5jIGNvbW1vblByZWZpeDxUPih3aXRoIGFTdHJpbmc6IFQsIG9wdGlvbnM6IFN0cmluZy5Db21wYXJlT3B0aW9ucyA9IHgpIC0+IFN0cmluZyB3aGVyZSBUIDogU3RyaW5nUHJvdG9jb2wsIEluZGV4ID09IFN0cmluZy5JbmRleCB7fQogICAgcHVibGljIGZ1bmMgY29tcGFyZTxUPihfIGFTdHJpbmc6IFQsIG9wdGlvbnMgbWFzazogU3RyaW5nLkNvbXBhcmVPcHRpb25zID0geCwgcmFuZ2U6IFJhbmdlPEluZGV4Pj8gPSB4LCBsb2NhbGU6IExvY2FsZT8gPSB4KSAtPiBDb21wYXJpc29uUmVzdWx0IHdoZXJlIFQgOiBTdHJpbmdQcm90b2NvbCwgSW5kZXggPT0gU3RyaW5nLkluZGV4IHt9CiAgICBwdWJsaWMgZnVuYyBjb21wbGV0ZVBhdGgoaW50byBvdXRwdXROYW1lOiBVbnNhZmVNdXRhYmxlUG9pbnRlcjxTdHJpbmc+PyA9IHgsIGNhc2VTZW5zaXRpdmU6IEJvb2wsIG1hdGNoZXNJbnRvIG91dHB1dEFycmF5OiBVbnNhZmVNdXRhYmxlUG9pbnRlcjxbU3RyaW5nXT4/ID0geCwgZmlsdGVyVHlwZXM6IFtTdHJpbmddPyA9IHgpIC0+IEludCB3aGVyZSBJbmRleCA9PSBTdHJpbmcuSW5kZXgge30KICAgIHB1YmxpYyBmdW5jIGNvbXBvbmVudHMoc2VwYXJhdGVkQnkgc2VwYXJhdG9yOiBDaGFyYWN0ZXJTZXQpIC0+IFtTdHJpbmddIHdoZXJlIEluZGV4ID09IFN0cmluZy5JbmRleCB7fQogICAgcHVibGljIGZ1bmMgY29tcG9uZW50czxUPihzZXBhcmF0ZWRCeSBzZXBhcmF0b3I6IFQpIC0+IFtTdHJpbmddIHdoZXJlIFQgOiBTdHJpbmdQcm90b2NvbCwgSW5kZXggPT0gU3RyaW5nLkluZGV4IHt9CiAgICBwdWJsaWMgZnVuYyBjb250YWluczxUPihfIG90aGVyOiBUKSAtPiBCb29sIHdoZXJlIFQgOiBTdHJpbmdQcm90b2NvbCwgSW5kZXggPT0gU3RyaW5nLkluZGV4IHt9CiAgICBwdWJsaWMgZnVuYyBkYXRhKHVzaW5nIGVuY29kaW5nOiBTdHJpbmcuRW5jb2RpbmcsIGFsbG93TG9zc3lDb252ZXJzaW9uOiBCb29sID0geCkgLT4gRGF0YT8gd2hlcmUgSW5kZXggPT0gU3RyaW5nLkluZGV4IHt9CiAgICBwdWJsaWMgZnVuYyBlbnVtZXJhdGVMaW5lcyhpbnZva2luZyBib2R5OiBAZXNjYXBpbmcgKF8gbGluZTogU3RyaW5nLCBfIHN0b3A6IGlub3V0IEJvb2wpIC0+IFZvaWQpIHdoZXJlIEluZGV4ID09IFN0cmluZy5JbmRleCB7fQojaWYgIURFUExPWU1FTlRfUlVOVElNRV9TV0lGVAogICAgcHVibGljIGZ1bmMgZW51bWVyYXRlTGluZ3Vpc3RpY1RhZ3M8VCwgUj4oaW4gcmFuZ2U6IFIsIHNjaGVtZSB0YWdTY2hlbWU6IFQsIG9wdGlvbnMgb3B0czogTlNMaW5ndWlzdGljVGFnZ2VyLk9wdGlvbnMgPSB4LCBvcnRob2dyYXBoeTogTlNPcnRob2dyYXBoeT8gPSB4LCBpbnZva2luZyBib2R5OiAoU3RyaW5nLCBSYW5nZTxJbmRleD4sIFJhbmdlPEluZGV4PiwgaW5vdXQgQm9vbCkgLT4gVm9pZCkgd2hlcmUgUiA6IFJhbmdlRXhwcmVzc2lvbiwgVCA6IFN0cmluZ1Byb3RvY29sLCBJbmRleCA9PSBSLkJvdW5kLCBJbmRleCA9PSBTdHJpbmcuSW5kZXgge30KI2VuZGlmCiAgICBwdWJsaWMgZnVuYyBlbnVtZXJhdGVTdWJzdHJpbmdzPFI+KGluIHJhbmdlOiBSLCBvcHRpb25zIG9wdHM6IFN0cmluZy5FbnVtZXJhdGlvbk9wdGlvbnMgPSB4LCBfIGJvZHk6IEBlc2NhcGluZyAoXyBzdWJzdHJpbmc6IFN0cmluZz8sIF8gc3Vic3RyaW5nUmFuZ2U6IFJhbmdlPEluZGV4PiwgXyBlbmNsb3NpbmdSYW5nZTogUmFuZ2U8SW5kZXg+LCBpbm91dCBCb29sKSAtPiBWb2lkKSB3aGVyZSBSIDogUmFuZ2VFeHByZXNzaW9uLCBJbmRleCA9PSBSLkJvdW5kLCBJbmRleCA9PSBTdHJpbmcuSW5kZXgge30KICAgIHB1YmxpYyBmdW5jIGZvbGRpbmcob3B0aW9uczogU3RyaW5nLkNvbXBhcmVPcHRpb25zID0geCwgbG9jYWxlOiBMb2NhbGU/KSAtPiBTdHJpbmcgd2hlcmUgSW5kZXggPT0gU3RyaW5nLkluZGV4IHt9CiAgICBwdWJsaWMgZnVuYyBnZXRCeXRlczxSPihfIGJ1ZmZlcjogaW5vdXQgW1VJbnQ4XSwgbWF4TGVuZ3RoIG1heEJ1ZmZlckNvdW50OiBJbnQsIHVzZWRMZW5ndGggdXNlZEJ1ZmZlckNvdW50OiBVbnNhZmVNdXRhYmxlUG9pbnRlcjxJbnQ+LCBlbmNvZGluZzogU3RyaW5nLkVuY29kaW5nLCBvcHRpb25zOiBTdHJpbmcuRW5jb2RpbmdDb252ZXJzaW9uT3B0aW9ucyA9IHgsIHJhbmdlOiBSLCByZW1haW5pbmcgbGVmdG92ZXI6IFVuc2FmZU11dGFibGVQb2ludGVyPFJhbmdlPEluZGV4Pj4pIC0+IEJvb2wgd2hlcmUgUiA6IFJhbmdlRXhwcmVzc2lvbiwgSW5kZXggPT0gUi5Cb3VuZCwgSW5kZXggPT0gU3RyaW5nLkluZGV4IHt9CiAgICBwdWJsaWMgZnVuYyBnZXRDU3RyaW5nKF8gYnVmZmVyOiBpbm91dCBbQ0NoYXJdLCBtYXhMZW5ndGg6IEludCwgZW5jb2Rpbmc6IFN0cmluZy5FbmNvZGluZykgLT4gQm9vbCB3aGVyZSBJbmRleCA9PSBTdHJpbmcuSW5kZXgge30KICAgIHB1YmxpYyBmdW5jIGdldExpbmVTdGFydDxSPihfIHN0YXJ0OiBVbnNhZmVNdXRhYmxlUG9pbnRlcjxJbmRleD4sIGVuZDogVW5zYWZlTXV0YWJsZVBvaW50ZXI8SW5kZXg+LCBjb250ZW50c0VuZDogVW5zYWZlTXV0YWJsZVBvaW50ZXI8SW5kZXg+LCBmb3IgcmFuZ2U6IFIpIHdoZXJlIFIgOiBSYW5nZUV4cHJlc3Npb24sIEluZGV4ID09IFIuQm91bmQsIEluZGV4ID09IFN0cmluZy5JbmRleCB7fQogICAgcHVibGljIGZ1bmMgZ2V0UGFyYWdyYXBoU3RhcnQ8Uj4oXyBzdGFydDogVW5zYWZlTXV0YWJsZVBvaW50ZXI8SW5kZXg+LCBlbmQ6IFVuc2FmZU11dGFibGVQb2ludGVyPEluZGV4PiwgY29udGVudHNFbmQ6IFVuc2FmZU11dGFibGVQb2ludGVyPEluZGV4PiwgZm9yIHJhbmdlOiBSKSB3aGVyZSBSIDogUmFuZ2VFeHByZXNzaW9uLCBJbmRleCA9PSBSLkJvdW5kLCBJbmRleCA9PSBTdHJpbmcuSW5kZXgge30KICAgIHB1YmxpYyBmdW5jIGxlbmd0aE9mQnl0ZXModXNpbmcgZW5jb2Rpbmc6IFN0cmluZy5FbmNvZGluZykgLT4gSW50IHdoZXJlIEluZGV4ID09IFN0cmluZy5JbmRleCB7fQogICAgcHVibGljIGZ1bmMgbGluZVJhbmdlPFI+KGZvciBhUmFuZ2U6IFIpIC0+IFJhbmdlPEluZGV4PiB3aGVyZSBSIDogUmFuZ2VFeHByZXNzaW9uLCBJbmRleCA9PSBSLkJvdW5kLCBJbmRleCA9PSBTdHJpbmcuSW5kZXgge30KI2lmICFERVBMT1lNRU5UX1JVTlRJTUVfU1dJRlQKICAgIHB1YmxpYyBmdW5jIGxpbmd1aXN0aWNUYWdzPFQsIFI+KGluIHJhbmdlOiBSLCBzY2hlbWUgdGFnU2NoZW1lOiBULCBvcHRpb25zIG9wdHM6IE5TTGluZ3Vpc3RpY1RhZ2dlci5PcHRpb25zID0geCwgb3J0aG9ncmFwaHk6IE5TT3J0aG9ncmFwaHk/ID0geCwgdG9rZW5SYW5nZXM6IFVuc2FmZU11dGFibGVQb2ludGVyPFtSYW5nZTxJbmRleD5dPj8gPSB4KSAtPiBbU3RyaW5nXSB3aGVyZSBSIDogUmFuZ2VFeHByZXNzaW9uLCBUIDogU3RyaW5nUHJvdG9jb2wsIEluZGV4ID09IFIuQm91bmQsIEluZGV4ID09IFN0cmluZy5JbmRleCB7fQojZW5kaWYKICAgIHB1YmxpYyBmdW5jIGxvY2FsaXplZENhc2VJbnNlbnNpdGl2ZUNvbXBhcmU8VD4oXyBhU3RyaW5nOiBUKSAtPiBDb21wYXJpc29uUmVzdWx0IHdoZXJlIFQgOiBTdHJpbmdQcm90b2NvbCwgSW5kZXggPT0gU3RyaW5nLkluZGV4IHt9CiAgICBwdWJsaWMgZnVuYyBsb2NhbGl6ZWRDYXNlSW5zZW5zaXRpdmVDb250YWluczxUPihfIG90aGVyOiBUKSAtPiBCb29sIHdoZXJlIFQgOiBTdHJpbmdQcm90b2NvbCwgSW5kZXggPT0gU3RyaW5nLkluZGV4IHt9CiAgICBwdWJsaWMgZnVuYyBsb2NhbGl6ZWRDb21wYXJlPFQ+KF8gYVN0cmluZzogVCkgLT4gQ29tcGFyaXNvblJlc3VsdCB3aGVyZSBUIDogU3RyaW5nUHJvdG9jb2wsIEluZGV4ID09IFN0cmluZy5JbmRleCB7fQogICAgcHVibGljIGZ1bmMgbG9jYWxpemVkU3RhbmRhcmRDb21wYXJlPFQ+KF8gc3RyaW5nOiBUKSAtPiBDb21wYXJpc29uUmVzdWx0IHdoZXJlIFQgOiBTdHJpbmdQcm90b2NvbCwgSW5kZXggPT0gU3RyaW5nLkluZGV4IHt9CiAgICBAYXZhaWxhYmxlKG1hY09TIDEwLjExLCBpT1MgOS4wLCAqKSBwdWJsaWMgZnVuYyBsb2NhbGl6ZWRTdGFuZGFyZENvbnRhaW5zPFQ+KF8gc3RyaW5nOiBUKSAtPiBCb29sIHdoZXJlIFQgOiBTdHJpbmdQcm90b2NvbCwgSW5kZXggPT0gU3RyaW5nLkluZGV4IHt9CiAgICBAYXZhaWxhYmxlKG1hY09TIDEwLjExLCBpT1MgOS4wLCAqKSBwdWJsaWMgZnVuYyBsb2NhbGl6ZWRTdGFuZGFyZFJhbmdlPFQ+KG9mIHN0cmluZzogVCkgLT4gUmFuZ2U8SW5kZXg+PyB3aGVyZSBUIDogU3RyaW5nUHJvdG9jb2wsIEluZGV4ID09IFN0cmluZy5JbmRleCB7fQogICAgcHVibGljIGZ1bmMgbG93ZXJjYXNlZCh3aXRoIGxvY2FsZTogTG9jYWxlPykgLT4gU3RyaW5nIHdoZXJlIEluZGV4ID09IFN0cmluZy5JbmRleCB7fQogICAgcHVibGljIGZ1bmMgbWF4aW11bUxlbmd0aE9mQnl0ZXModXNpbmcgZW5jb2Rpbmc6IFN0cmluZy5FbmNvZGluZykgLT4gSW50IHdoZXJlIEluZGV4ID09IFN0cmluZy5JbmRleCB7fQogICAgcHVibGljIGZ1bmMgcGFkZGluZzxUPih0b0xlbmd0aCBuZXdMZW5ndGg6IEludCwgd2l0aFBhZCBwYWRTdHJpbmc6IFQsIHN0YXJ0aW5nQXQgcGFkSW5kZXg6IEludCkgLT4gU3RyaW5nIHdoZXJlIFQgOiBTdHJpbmdQcm90b2NvbCwgSW5kZXggPT0gU3RyaW5nLkluZGV4IHt9CiNpZiAhREVQTE9ZTUVOVF9SVU5USU1FX1NXSUZUCiAgICBwdWJsaWMgZnVuYyBwYXJhZ3JhcGhSYW5nZTxSPihmb3IgYVJhbmdlOiBSKSAtPiBSYW5nZTxJbmRleD4gd2hlcmUgUiA6IFJhbmdlRXhwcmVzc2lvbiwgSW5kZXggPT0gUi5Cb3VuZCwgSW5kZXggPT0gU3RyaW5nLkluZGV4IHt9CiNlbmRpZgojaWYgIURFUExPWU1FTlRfUlVOVElNRV9TV0lGVAogICAgcHVibGljIGZ1bmMgcHJvcGVydHlMaXN0KCkgLT4gQW55IHdoZXJlIEluZGV4ID09IFN0cmluZy5JbmRleCB7fQojZW5kaWYKI2lmICFERVBMT1lNRU5UX1JVTlRJTUVfU1dJRlQKICAgIHB1YmxpYyBmdW5jIHByb3BlcnR5TGlzdEZyb21TdHJpbmdzRmlsZUZvcm1hdCgpIC0+IFtTdHJpbmc6IFN0cmluZ10gd2hlcmUgSW5kZXggPT0gU3RyaW5nLkluZGV4IHt9CiNlbmRpZgogICAgcHVibGljIGZ1bmMgcmFuZ2U8VD4ob2YgYVN0cmluZzogVCwgb3B0aW9ucyBtYXNrOiBTdHJpbmcuQ29tcGFyZU9wdGlvbnMgPSB4LCByYW5nZSBzZWFyY2hSYW5nZTogUmFuZ2U8SW5kZXg+PyA9IHgsIGxvY2FsZTogTG9jYWxlPyA9IHgpIC0+IFJhbmdlPEluZGV4Pj8gd2hlcmUgVCA6IFN0cmluZ1Byb3RvY29sLCBJbmRleCA9PSBTdHJpbmcuSW5kZXgge30KICAgIHB1YmxpYyBmdW5jIHJhbmdlT2ZDaGFyYWN0ZXIoZnJvbSBhU2V0OiBDaGFyYWN0ZXJTZXQsIG9wdGlvbnMgbWFzazogU3RyaW5nLkNvbXBhcmVPcHRpb25zID0geCwgcmFuZ2UgYVJhbmdlOiBSYW5nZTxJbmRleD4/ID0geCkgLT4gUmFuZ2U8SW5kZXg+PyB3aGVyZSBJbmRleCA9PSBTdHJpbmcuSW5kZXgge30KICAgIHB1YmxpYyBmdW5jIHJhbmdlT2ZDb21wb3NlZENoYXJhY3RlclNlcXVlbmNlKGF0IGFuSW5kZXg6IEluZGV4KSAtPiBSYW5nZTxJbmRleD4gd2hlcmUgSW5kZXggPT0gU3RyaW5nLkluZGV4IHt9CiAgICBwdWJsaWMgZnVuYyByYW5nZU9mQ29tcG9zZWRDaGFyYWN0ZXJTZXF1ZW5jZXM8Uj4oZm9yIHJhbmdlOiBSKSAtPiBSYW5nZTxJbmRleD4gd2hlcmUgUiA6IFJhbmdlRXhwcmVzc2lvbiwgSW5kZXggPT0gUi5Cb3VuZCwgSW5kZXggPT0gU3RyaW5nLkluZGV4IHt9CiAgICBwdWJsaWMgZnVuYyByZXBsYWNpbmdDaGFyYWN0ZXJzPFQsIFI+KGluIHJhbmdlOiBSLCB3aXRoIHJlcGxhY2VtZW50OiBUKSAtPiBTdHJpbmcgd2hlcmUgUiA6IFJhbmdlRXhwcmVzc2lvbiwgVCA6IFN0cmluZ1Byb3RvY29sLCBJbmRleCA9PSBSLkJvdW5kLCBJbmRleCA9PSBTdHJpbmcuSW5kZXgge30KICAgIHB1YmxpYyBmdW5jIHJlcGxhY2luZ09jY3VycmVuY2VzPFRhcmdldCwgUmVwbGFjZW1lbnQ+KG9mIHRhcmdldDogVGFyZ2V0LCB3aXRoIHJlcGxhY2VtZW50OiBSZXBsYWNlbWVudCwgb3B0aW9uczogU3RyaW5nLkNvbXBhcmVPcHRpb25zID0geCwgcmFuZ2Ugc2VhcmNoUmFuZ2U6IFJhbmdlPEluZGV4Pj8gPSB4KSAtPiBTdHJpbmcgd2hlcmUgUmVwbGFjZW1lbnQgOiBTdHJpbmdQcm90b2NvbCwgVGFyZ2V0IDogU3RyaW5nUHJvdG9jb2wsIEluZGV4ID09IFN0cmluZy5JbmRleCB7fQogICAgcHVibGljIGZ1bmMgdHJpbW1pbmdDaGFyYWN0ZXJzKGluIHNldDogQ2hhcmFjdGVyU2V0KSAtPiBTdHJpbmcgd2hlcmUgSW5kZXggPT0gU3RyaW5nLkluZGV4IHt9CiAgICBwdWJsaWMgZnVuYyB1cHBlcmNhc2VkKHdpdGggbG9jYWxlOiBMb2NhbGU/KSAtPiBTdHJpbmcgd2hlcmUgSW5kZXggPT0gU3RyaW5nLkluZGV4IHt9CiAgICBwdWJsaWMgZnVuYyB3cml0ZSh0byB1cmw6IFVSTCwgYXRvbWljYWxseSB1c2VBdXhpbGlhcnlGaWxlOiBCb29sLCBlbmNvZGluZyBlbmM6IFN0cmluZy5FbmNvZGluZykgdGhyb3dzIHdoZXJlIEluZGV4ID09IFN0cmluZy5JbmRleCB7fQogICAgcHVibGljIGZ1bmMgd3JpdGU8VD4odG9GaWxlIHBhdGg6IFQsIGF0b21pY2FsbHkgdXNlQXV4aWxpYXJ5RmlsZTogQm9vbCwgZW5jb2RpbmcgZW5jOiBTdHJpbmcuRW5jb2RpbmcpIHRocm93cyB3aGVyZSBUIDogU3RyaW5nUHJvdG9jb2wsIEluZGV4ID09IFN0cmluZy5JbmRleCB7fQp9CmV4dGVuc2lvbiBVSW50IHsKICAgIHB1YmxpYyBpbml0KF8gdmFsdWU6IENHRmxvYXQpIHt9CiAgICBwdWJsaWMgaW5pdD8oZXhhY3RseSBudW1iZXI6IE5TTnVtYmVyKSB7fQogICAgcHVibGljIGluaXQodHJ1bmNhdGluZyBudW1iZXI6IE5TTnVtYmVyKSB7fQp9CmV4dGVuc2lvbiBVSW50MTYgewogICAgcHVibGljIGluaXQoXyB2YWx1ZTogQ0dGbG9hdCkge30KICAgIHB1YmxpYyBpbml0PyhleGFjdGx5IG51bWJlcjogTlNOdW1iZXIpIHt9CiAgICBwdWJsaWMgaW5pdCh0cnVuY2F0aW5nIG51bWJlcjogTlNOdW1iZXIpIHt9Cn0KZXh0ZW5zaW9uIFVJbnQzMiB7CiAgICBwdWJsaWMgaW5pdChfIHZhbHVlOiBDR0Zsb2F0KSB7fQogICAgcHVibGljIGluaXQ/KGV4YWN0bHkgbnVtYmVyOiBOU051bWJlcikge30KICAgIHB1YmxpYyBpbml0KHRydW5jYXRpbmcgbnVtYmVyOiBOU051bWJlcikge30KfQpleHRlbnNpb24gVUludDY0IHsKICAgIHB1YmxpYyBpbml0KF8gdmFsdWU6IENHRmxvYXQpIHt9CiAgICBwdWJsaWMgaW5pdD8oZXhhY3RseSBudW1iZXI6IE5TTnVtYmVyKSB7fQogICAgcHVibGljIGluaXQodHJ1bmNhdGluZyBudW1iZXI6IE5TTnVtYmVyKSB7fQp9CmV4dGVuc2lvbiBVSW50OCB7CiAgICBwdWJsaWMgaW5pdChfIHZhbHVlOiBDR0Zsb2F0KSB7fQogICAgcHVibGljIGluaXQ/KGV4YWN0bHkgbnVtYmVyOiBOU051bWJlcikge30KICAgIHB1YmxpYyBpbml0KHRydW5jYXRpbmcgbnVtYmVyOiBOU051bWJlcikge30KfQpleHRlbnNpb24gVW5zYWZlQnVmZmVyUG9pbnRlciB7Cn0KZXh0ZW5zaW9uIFVuc2FmZU11dGFibGVCdWZmZXJQb2ludGVyIHsKfQpleHRlbnNpb24gVW5zYWZlTXV0YWJsZVJhd0J1ZmZlclBvaW50ZXIgewp9CmV4dGVuc2lvbiBVbnNhZmVSYXdCdWZmZXJQb2ludGVyIHsKfQ==")!, encoding: String.Encoding.utf8)!
        static let swift = String(data: Data(base64Encoded: "b3BlbiBjbGFzcyBNYW5hZ2VkQnVmZmVyPEhlYWRlciwgRWxlbWVudD4gewogICAgcHVibGljIHZhciBoZWFkZXI6IEhlYWRlciB7IGdldCBzZXQgfQp9CnB1YmxpYyBwcm90b2NvbCBBZGRpdGl2ZUFyaXRobWV0aWMgOiBFcXVhdGFibGUgewogICAgc3RhdGljIHZhciB6ZXJvOiBTZWxmIHsgZ2V0IH0KICAgIHByZWZpeCBmdW5jICsoeDogU2VsZikgLT4gU2VsZgogICAgZnVuYyArKGxoczogU2VsZiwgcmhzOiBTZWxmKSAtPiBTZWxmCiAgICBmdW5jICs9KGxoczogaW5vdXQgU2VsZiwgcmhzOiBTZWxmKQogICAgZnVuYyAtKGxoczogU2VsZiwgcmhzOiBTZWxmKSAtPiBTZWxmCiAgICBmdW5jIC09KGxoczogaW5vdXQgU2VsZiwgcmhzOiBTZWxmKQp9CnB1YmxpYyBwcm90b2NvbCBCaWRpcmVjdGlvbmFsQ29sbGVjdGlvbiA6IENvbGxlY3Rpb24sIFNlcXVlbmNlIHsKICAgIHZhciBsYXN0OiBFbGVtZW50PyB7IGdldCB9CiAgICBmdW5jIGZvcm1JbmRleChiZWZvcmUgaTogaW5vdXQgSW5kZXgpCiAgICBmdW5jIGluZGV4KGJlZm9yZSBpOiBJbmRleCkgLT4gSW5kZXgKICAgIGZ1bmMgbGFzdCh3aGVyZSBwcmVkaWNhdGU6IChFbGVtZW50KSB0aHJvd3MgLT4gQm9vbCkgcmV0aHJvd3MgLT4gRWxlbWVudD8KICAgIGZ1bmMgbGFzdEluZGV4KG9mIGVsZW1lbnQ6IEVsZW1lbnQpIC0+IEluZGV4PyB3aGVyZSBFbGVtZW50IDogRXF1YXRhYmxlCiAgICBmdW5jIGxhc3RJbmRleCh3aGVyZSBwcmVkaWNhdGU6IChFbGVtZW50KSB0aHJvd3MgLT4gQm9vbCkgcmV0aHJvd3MgLT4gSW5kZXg/CiAgICBtdXRhdGluZyBmdW5jIHBvcExhc3QoKSAtPiBFbGVtZW50PyB3aGVyZSBTZWxmID09IFN1YlNlcXVlbmNlCiAgICBAZGlzY2FyZGFibGVSZXN1bHQgbXV0YXRpbmcgZnVuYyByZW1vdmVMYXN0KCkgLT4gRWxlbWVudCB3aGVyZSBTZWxmID09IFN1YlNlcXVlbmNlCiAgICBtdXRhdGluZyBmdW5jIHJlbW92ZUxhc3QoXyBrOiBJbnQpIHdoZXJlIFNlbGYgPT0gU3ViU2VxdWVuY2UKfQpwdWJsaWMgcHJvdG9jb2wgQmluYXJ5RmxvYXRpbmdQb2ludCA6IEFkZGl0aXZlQXJpdGhtZXRpYywgQ29tcGFyYWJsZSwgRXF1YXRhYmxlLCBFeHByZXNzaWJsZUJ5RmxvYXRMaXRlcmFsLCBFeHByZXNzaWJsZUJ5SW50ZWdlckxpdGVyYWwsIEZsb2F0aW5nUG9pbnQsIEhhc2hhYmxlLCBOdW1lcmljLCBTaWduZWROdW1lcmljLCBTdHJpZGVhYmxlIHsKICAgIGFzc29jaWF0ZWR0eXBlIFJhd0V4cG9uZW50CiAgICBhc3NvY2lhdGVkdHlwZSBSYXdTaWduaWZpY2FuZAogICAgc3RhdGljIHZhciBleHBvbmVudEJpdENvdW50OiBJbnQgeyBnZXQgfQogICAgc3RhdGljIHZhciBzaWduaWZpY2FuZEJpdENvdW50OiBJbnQgeyBnZXQgfQogICAgc3RhdGljIGZ1bmMgcmFuZG9tKGluIHJhbmdlOiBDbG9zZWRSYW5nZTxTZWxmPikgLT4gU2VsZiB3aGVyZSBSYXdTaWduaWZpY2FuZCA6IEZpeGVkV2lkdGhJbnRlZ2VyCiAgICBzdGF0aWMgZnVuYyByYW5kb20oaW4gcmFuZ2U6IFJhbmdlPFNlbGY+KSAtPiBTZWxmIHdoZXJlIFJhd1NpZ25pZmljYW5kIDogRml4ZWRXaWR0aEludGVnZXIKICAgIHN0YXRpYyBmdW5jIHJhbmRvbTxUPihpbiByYW5nZTogQ2xvc2VkUmFuZ2U8U2VsZj4sIHVzaW5nIGdlbmVyYXRvcjogaW5vdXQgVCkgLT4gU2VsZiB3aGVyZSBSYXdTaWduaWZpY2FuZCA6IEZpeGVkV2lkdGhJbnRlZ2VyLCBUIDogUmFuZG9tTnVtYmVyR2VuZXJhdG9yCiAgICBzdGF0aWMgZnVuYyByYW5kb208VD4oaW4gcmFuZ2U6IFJhbmdlPFNlbGY+LCB1c2luZyBnZW5lcmF0b3I6IGlub3V0IFQpIC0+IFNlbGYgd2hlcmUgUmF3U2lnbmlmaWNhbmQgOiBGaXhlZFdpZHRoSW50ZWdlciwgVCA6IFJhbmRvbU51bWJlckdlbmVyYXRvcgogICAgaW5pdChzaWduOiBGbG9hdGluZ1BvaW50U2lnbiwgZXhwb25lbnRCaXRQYXR0ZXJuOiBSYXdFeHBvbmVudCwgc2lnbmlmaWNhbmRCaXRQYXR0ZXJuOiBSYXdTaWduaWZpY2FuZCkKICAgIHZhciBiaW5hZGU6IFNlbGYgeyBnZXQgfQogICAgdmFyIGV4cG9uZW50Qml0UGF0dGVybjogUmF3RXhwb25lbnQgeyBnZXQgfQogICAgdmFyIHNpZ25pZmljYW5kQml0UGF0dGVybjogUmF3U2lnbmlmaWNhbmQgeyBnZXQgfQogICAgdmFyIHNpZ25pZmljYW5kV2lkdGg6IEludCB7IGdldCB9Cn0KcHVibGljIHByb3RvY29sIEJpbmFyeUludGVnZXIgOiBBZGRpdGl2ZUFyaXRobWV0aWMsIENvbXBhcmFibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEV4cHJlc3NpYmxlQnlJbnRlZ2VyTGl0ZXJhbCwgSGFzaGFibGUsIE51bWVyaWMsIFN0cmlkZWFibGUgewogICAgYXNzb2NpYXRlZHR5cGUgV29yZHMgd2hlcmUgSW50ID09IFdvcmRzLkluZGV4LCBVSW50ID09IFdvcmRzLkVsZW1lbnQKICAgIHN0YXRpYyB2YXIgaXNTaWduZWQ6IEJvb2wgeyBnZXQgfQogICAgaW5pdCgpCiAgICBpbml0PFQ+KF8gc291cmNlOiBUKSB3aGVyZSBUIDogQmluYXJ5RmxvYXRpbmdQb2ludAogICAgaW5pdDxUPihfIHNvdXJjZTogVCkgd2hlcmUgVCA6IEJpbmFyeUludGVnZXIKICAgIGluaXQ8VD4oY2xhbXBpbmcgc291cmNlOiBUKSB3aGVyZSBUIDogQmluYXJ5SW50ZWdlcgogICAgaW5pdDxUPih0cnVuY2F0aW5nSWZOZWVkZWQgc291cmNlOiBUKSB3aGVyZSBUIDogQmluYXJ5SW50ZWdlcgogICAgdmFyIGJpdFdpZHRoOiBJbnQgeyBnZXQgfQogICAgdmFyIHRyYWlsaW5nWmVyb0JpdENvdW50OiBJbnQgeyBnZXQgfQogICAgdmFyIHdvcmRzOiBXb3JkcyB7IGdldCB9CiAgICBmdW5jICUobGhzOiBTZWxmLCByaHM6IFNlbGYpIC0+IFNlbGYKICAgIGZ1bmMgJT0obGhzOiBpbm91dCBTZWxmLCByaHM6IFNlbGYpCiAgICBmdW5jICYobGhzOiBTZWxmLCByaHM6IFNlbGYpIC0+IFNlbGYKICAgIGZ1bmMgJj0obGhzOiBpbm91dCBTZWxmLCByaHM6IFNlbGYpCiAgICBmdW5jIC8obGhzOiBTZWxmLCByaHM6IFNlbGYpIC0+IFNlbGYKICAgIGZ1bmMgLz0obGhzOiBpbm91dCBTZWxmLCByaHM6IFNlbGYpCiAgICBmdW5jIDw8PFJIUz4obGhzOiBTZWxmLCByaHM6IFJIUykgLT4gU2VsZiB3aGVyZSBSSFMgOiBCaW5hcnlJbnRlZ2VyCiAgICBmdW5jIDw8PTxSSFM+KGxoczogaW5vdXQgU2VsZiwgcmhzOiBSSFMpIHdoZXJlIFJIUyA6IEJpbmFyeUludGVnZXIKICAgIGZ1bmMgPj48UkhTPihsaHM6IFNlbGYsIHJoczogUkhTKSAtPiBTZWxmIHdoZXJlIFJIUyA6IEJpbmFyeUludGVnZXIKICAgIGZ1bmMgPj49PFJIUz4obGhzOiBpbm91dCBTZWxmLCByaHM6IFJIUykgd2hlcmUgUkhTIDogQmluYXJ5SW50ZWdlcgogICAgZnVuYyBeKGxoczogU2VsZiwgcmhzOiBTZWxmKSAtPiBTZWxmCiAgICBmdW5jIF49KGxoczogaW5vdXQgU2VsZiwgcmhzOiBTZWxmKQogICAgZnVuYyBpc011bHRpcGxlKG9mIG90aGVyOiBTZWxmKSAtPiBCb29sCiAgICBmdW5jIHF1b3RpZW50QW5kUmVtYWluZGVyKGRpdmlkaW5nQnkgcmhzOiBTZWxmKSAtPiAocXVvdGllbnQgOiBTZWxmLCByZW1haW5kZXIgOiBTZWxmKQogICAgZnVuYyBxdW90aWVudEFuZFJlbWFpbmRlcihkaXZpZGluZ0J5IHJoczogU2VsZikgLT4gKHF1b3RpZW50IDogU2VsZiwgcmVtYWluZGVyIDogU2VsZikKICAgIGZ1bmMgc2lnbnVtKCkgLT4gU2VsZgogICAgZnVuYyB8KGxoczogU2VsZiwgcmhzOiBTZWxmKSAtPiBTZWxmCiAgICBmdW5jIHw9KGxoczogaW5vdXQgU2VsZiwgcmhzOiBTZWxmKQogICAgcHJlZml4IGZ1bmMgfih4OiBTZWxmKSAtPiBTZWxmCn0KcHVibGljIHByb3RvY29sIENWYXJBcmcgewp9CnB1YmxpYyBwcm90b2NvbCBDYXNlSXRlcmFibGUgewogICAgYXNzb2NpYXRlZHR5cGUgQWxsQ2FzZXMgd2hlcmUgQWxsQ2FzZXMuRWxlbWVudCA9PSBTZWxmCiAgICBzdGF0aWMgdmFyIGFsbENhc2VzOiBBbGxDYXNlcyB7IGdldCB9Cn0KcHVibGljIHByb3RvY29sIENvZGluZ0tleSA6IEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlIHsKICAgIGluaXQ/KGludFZhbHVlOiBJbnQpCiAgICBpbml0PyhzdHJpbmdWYWx1ZTogU3RyaW5nKQogICAgdmFyIGludFZhbHVlOiBJbnQ/IHsgZ2V0IH0KICAgIHZhciBzdHJpbmdWYWx1ZTogU3RyaW5nIHsgZ2V0IH0KfQpwdWJsaWMgcHJvdG9jb2wgQ29sbGVjdGlvbiA6IFNlcXVlbmNlIHsKICAgIGFzc29jaWF0ZWR0eXBlIEluZGV4CiAgICBhc3NvY2lhdGVkdHlwZSBJbmRpY2VzIHdoZXJlIEluZGV4ID09IEluZGljZXMuRWxlbWVudCwgSW5kZXggPT0gSW5kaWNlcy5JbmRleCwgSW5kaWNlcyA9PSBJbmRpY2VzLlN1YlNlcXVlbmNlCiAgICBhc3NvY2lhdGVkdHlwZSBTdWJTZXF1ZW5jZSB3aGVyZSBFbGVtZW50ID09IFN1YlNlcXVlbmNlLkVsZW1lbnQsIEluZGV4ID09IFN1YlNlcXVlbmNlLkluZGV4LCBTdWJTZXF1ZW5jZSA9PSBTdWJTZXF1ZW5jZS5TdWJTZXF1ZW5jZQogICAgdmFyIGNvdW50OiBJbnQgeyBnZXQgfQogICAgdmFyIGVuZEluZGV4OiBJbmRleCB7IGdldCB9CiAgICB2YXIgZmlyc3Q6IEVsZW1lbnQ/IHsgZ2V0IH0KICAgIHZhciBpbmRpY2VzOiBEZWZhdWx0SW5kaWNlczxTZWxmPiB7IGdldCB9IHdoZXJlIERlZmF1bHRJbmRpY2VzPFNlbGY+ID09IEluZGljZXMKICAgIHZhciBpbmRpY2VzOiBJbmRpY2VzIHsgZ2V0IH0KICAgIHZhciBpc0VtcHR5OiBCb29sIHsgZ2V0IH0KICAgIHZhciBpc0VtcHR5OiBCb29sIHsgZ2V0IH0KICAgIHZhciBzdGFydEluZGV4OiBJbmRleCB7IGdldCB9CiAgICBzdWJzY3JpcHQoYm91bmRzOiBSYW5nZTxJbmRleD4pIC0+IFNsaWNlPFNlbGY+IHsgZ2V0IH0gd2hlcmUgU2xpY2U8U2VsZj4gPT0gU3ViU2VxdWVuY2UKICAgIHN1YnNjcmlwdChib3VuZHM6IFJhbmdlPEluZGV4PikgLT4gU3ViU2VxdWVuY2UgeyBnZXQgfQogICAgc3Vic2NyaXB0KHBvc2l0aW9uOiBJbmRleCkgLT4gRWxlbWVudCB7IGdldCB9CiAgICBzdWJzY3JpcHQoeDogVW5ib3VuZGVkUmFuZ2UpIC0+IFN1YlNlcXVlbmNlIHsgZ2V0IH0KICAgIHN1YnNjcmlwdDxSPihyOiBSKSAtPiBTdWJTZXF1ZW5jZSB7IGdldCB9IHdoZXJlIFIgOiBSYW5nZUV4cHJlc3Npb24sIEluZGV4ID09IFIuQm91bmQKICAgIGZ1bmMgZGlzdGFuY2UoZnJvbSBzdGFydDogSW5kZXgsIHRvIGVuZDogSW5kZXgpIC0+IEludAogICAgZnVuYyBmaXJzdEluZGV4KG9mIGVsZW1lbnQ6IEVsZW1lbnQpIC0+IEluZGV4PyB3aGVyZSBFbGVtZW50IDogRXF1YXRhYmxlCiAgICBmdW5jIGZpcnN0SW5kZXgod2hlcmUgcHJlZGljYXRlOiAoRWxlbWVudCkgdGhyb3dzIC0+IEJvb2wpIHJldGhyb3dzIC0+IEluZGV4PwogICAgZnVuYyBmb3JtSW5kZXgoXyBpOiBpbm91dCBJbmRleCwgb2Zmc2V0QnkgZGlzdGFuY2U6IEludCkKICAgIGZ1bmMgZm9ybUluZGV4KF8gaTogaW5vdXQgSW5kZXgsIG9mZnNldEJ5IGRpc3RhbmNlOiBJbnQsIGxpbWl0ZWRCeSBsaW1pdDogSW5kZXgpIC0+IEJvb2wKICAgIGZ1bmMgZm9ybUluZGV4KGFmdGVyIGk6IGlub3V0IEluZGV4KQogICAgZnVuYyBpbmRleChfIGk6IEluZGV4LCBvZmZzZXRCeSBkaXN0YW5jZTogSW50KSAtPiBJbmRleAogICAgZnVuYyBpbmRleChfIGk6IEluZGV4LCBvZmZzZXRCeSBkaXN0YW5jZTogSW50LCBsaW1pdGVkQnkgbGltaXQ6IEluZGV4KSAtPiBJbmRleD8KICAgIGZ1bmMgaW5kZXgoYWZ0ZXIgaTogSW5kZXgpIC0+IEluZGV4CiAgICBtdXRhdGluZyBmdW5jIHBvcEZpcnN0KCkgLT4gRWxlbWVudD8gd2hlcmUgU2VsZiA9PSBTdWJTZXF1ZW5jZQogICAgZnVuYyBwcmVmaXgodGhyb3VnaCBwb3NpdGlvbjogSW5kZXgpIC0+IFN1YlNlcXVlbmNlCiAgICBmdW5jIHByZWZpeCh1cFRvIGVuZDogSW5kZXgpIC0+IFN1YlNlcXVlbmNlCiAgICBmdW5jIHJhbmRvbUVsZW1lbnQoKSAtPiBFbGVtZW50PwogICAgZnVuYyByYW5kb21FbGVtZW50PFQ+KHVzaW5nIGdlbmVyYXRvcjogaW5vdXQgVCkgLT4gRWxlbWVudD8gd2hlcmUgVCA6IFJhbmRvbU51bWJlckdlbmVyYXRvcgogICAgQGRpc2NhcmRhYmxlUmVzdWx0IG11dGF0aW5nIGZ1bmMgcmVtb3ZlRmlyc3QoKSAtPiBFbGVtZW50IHdoZXJlIFNlbGYgPT0gU3ViU2VxdWVuY2UKICAgIG11dGF0aW5nIGZ1bmMgcmVtb3ZlRmlyc3QoXyBrOiBJbnQpIHdoZXJlIFNlbGYgPT0gU3ViU2VxdWVuY2UKICAgIGZ1bmMgc3VmZml4KGZyb20gc3RhcnQ6IEluZGV4KSAtPiBTdWJTZXF1ZW5jZQp9CnB1YmxpYyBwcm90b2NvbCBDb21wYXJhYmxlIDogRXF1YXRhYmxlIHsKICAgIHBvc3RmaXggZnVuYyAuLi4obWluaW11bTogU2VsZikgLT4gUGFydGlhbFJhbmdlRnJvbTxTZWxmPgogICAgcHJlZml4IGZ1bmMgLi4uKG1heGltdW06IFNlbGYpIC0+IFBhcnRpYWxSYW5nZVRocm91Z2g8U2VsZj4KICAgIGZ1bmMgLi4uKG1pbmltdW06IFNlbGYsIG1heGltdW06IFNlbGYpIC0+IENsb3NlZFJhbmdlPFNlbGY+CiAgICBwcmVmaXggZnVuYyAuLjwobWF4aW11bTogU2VsZikgLT4gUGFydGlhbFJhbmdlVXBUbzxTZWxmPgogICAgZnVuYyAuLjwobWluaW11bTogU2VsZiwgbWF4aW11bTogU2VsZikgLT4gUmFuZ2U8U2VsZj4KICAgIGZ1bmMgPChsaHM6IFNlbGYsIHJoczogU2VsZikgLT4gQm9vbAogICAgZnVuYyA8PShsaHM6IFNlbGYsIHJoczogU2VsZikgLT4gQm9vbAogICAgZnVuYyA8PShsaHM6IFNlbGYsIHJoczogU2VsZikgLT4gQm9vbAogICAgZnVuYyA+KGxoczogU2VsZiwgcmhzOiBTZWxmKSAtPiBCb29sCiAgICBmdW5jID4obGhzOiBTZWxmLCByaHM6IFNlbGYpIC0+IEJvb2wKICAgIGZ1bmMgPj0obGhzOiBTZWxmLCByaHM6IFNlbGYpIC0+IEJvb2wKICAgIGZ1bmMgPj0obGhzOiBTZWxmLCByaHM6IFNlbGYpIC0+IEJvb2wKfQpwdWJsaWMgcHJvdG9jb2wgQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSB7CiAgICB2YXIgZGVidWdEZXNjcmlwdGlvbjogU3RyaW5nIHsgZ2V0IH0KfQpwdWJsaWMgcHJvdG9jb2wgQ3VzdG9tTGVhZlJlZmxlY3RhYmxlIDogQ3VzdG9tUmVmbGVjdGFibGUgewp9CnB1YmxpYyBwcm90b2NvbCBDdXN0b21QbGF5Z3JvdW5kRGlzcGxheUNvbnZlcnRpYmxlIHsKICAgIHZhciBwbGF5Z3JvdW5kRGVzY3JpcHRpb246IEFueSB7IGdldCB9Cn0KcHVibGljIHByb3RvY29sIEN1c3RvbVJlZmxlY3RhYmxlIHsKICAgIHZhciBjdXN0b21NaXJyb3I6IE1pcnJvciB7IGdldCB9Cn0KcHVibGljIHByb3RvY29sIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlIHsKICAgIHZhciBkZXNjcmlwdGlvbjogU3RyaW5nIHsgZ2V0IH0KfQpwdWJsaWMgcHJvdG9jb2wgRGVjb2RhYmxlIHsKICAgIGluaXQoZnJvbSBkZWNvZGVyOiBEZWNvZGVyKSB0aHJvd3MKfQpwdWJsaWMgcHJvdG9jb2wgRGVjb2RlciB7CiAgICB2YXIgY29kaW5nUGF0aDogW0NvZGluZ0tleV0geyBnZXQgfQogICAgdmFyIHVzZXJJbmZvOiBbQ29kaW5nVXNlckluZm9LZXk6IEFueV0geyBnZXQgfQogICAgZnVuYyBjb250YWluZXI8S2V5PihrZXllZEJ5IHR5cGU6IEtleS5UeXBlKSB0aHJvd3MgLT4gS2V5ZWREZWNvZGluZ0NvbnRhaW5lcjxLZXk+CiAgICBmdW5jIHNpbmdsZVZhbHVlQ29udGFpbmVyKCkgdGhyb3dzIC0+IFNpbmdsZVZhbHVlRGVjb2RpbmdDb250YWluZXIKICAgIGZ1bmMgdW5rZXllZENvbnRhaW5lcigpIHRocm93cyAtPiBVbmtleWVkRGVjb2RpbmdDb250YWluZXIKfQpwdWJsaWMgcHJvdG9jb2wgRW5jb2RhYmxlIHsKICAgIGZ1bmMgZW5jb2RlKHRvIGVuY29kZXI6IEVuY29kZXIpIHRocm93cwp9CnB1YmxpYyBwcm90b2NvbCBFbmNvZGVyIHsKICAgIHZhciBjb2RpbmdQYXRoOiBbQ29kaW5nS2V5XSB7IGdldCB9CiAgICB2YXIgdXNlckluZm86IFtDb2RpbmdVc2VySW5mb0tleTogQW55XSB7IGdldCB9CiAgICBmdW5jIGNvbnRhaW5lcjxLZXk+KGtleWVkQnkgdHlwZTogS2V5LlR5cGUpIC0+IEtleWVkRW5jb2RpbmdDb250YWluZXI8S2V5PgogICAgZnVuYyBzaW5nbGVWYWx1ZUNvbnRhaW5lcigpIC0+IFNpbmdsZVZhbHVlRW5jb2RpbmdDb250YWluZXIKICAgIGZ1bmMgdW5rZXllZENvbnRhaW5lcigpIC0+IFVua2V5ZWRFbmNvZGluZ0NvbnRhaW5lcgp9CnB1YmxpYyBwcm90b2NvbCBFcXVhdGFibGUgewogICAgZnVuYyAhPShsaHM6IFNlbGYsIHJoczogU2VsZikgLT4gQm9vbAogICAgZnVuYyA9PShsaHM6IFNlbGYsIHJoczogU2VsZikgLT4gQm9vbAp9CnB1YmxpYyBwcm90b2NvbCBFcnJvciB7Cn0KcHVibGljIHByb3RvY29sIEV4cHJlc3NpYmxlQnlBcnJheUxpdGVyYWwgewogICAgYXNzb2NpYXRlZHR5cGUgQXJyYXlMaXRlcmFsRWxlbWVudAogICAgaW5pdChhcnJheUxpdGVyYWwgZWxlbWVudHM6IEFycmF5TGl0ZXJhbEVsZW1lbnQuLi4pCn0KcHVibGljIHByb3RvY29sIEV4cHJlc3NpYmxlQnlCb29sZWFuTGl0ZXJhbCB7CiAgICBhc3NvY2lhdGVkdHlwZSBCb29sZWFuTGl0ZXJhbFR5cGUKICAgIGluaXQoYm9vbGVhbkxpdGVyYWwgdmFsdWU6IEJvb2xlYW5MaXRlcmFsVHlwZSkKfQpwdWJsaWMgcHJvdG9jb2wgRXhwcmVzc2libGVCeURpY3Rpb25hcnlMaXRlcmFsIHsKICAgIGFzc29jaWF0ZWR0eXBlIEtleQogICAgYXNzb2NpYXRlZHR5cGUgVmFsdWUKICAgIGluaXQoZGljdGlvbmFyeUxpdGVyYWwgZWxlbWVudHM6IChLZXksIFZhbHVlKS4uLikKfQpwdWJsaWMgcHJvdG9jb2wgRXhwcmVzc2libGVCeUV4dGVuZGVkR3JhcGhlbWVDbHVzdGVyTGl0ZXJhbCA6IEV4cHJlc3NpYmxlQnlVbmljb2RlU2NhbGFyTGl0ZXJhbCB7CiAgICBhc3NvY2lhdGVkdHlwZSBFeHRlbmRlZEdyYXBoZW1lQ2x1c3RlckxpdGVyYWxUeXBlCiAgICBpbml0KGV4dGVuZGVkR3JhcGhlbWVDbHVzdGVyTGl0ZXJhbCB2YWx1ZTogRXh0ZW5kZWRHcmFwaGVtZUNsdXN0ZXJMaXRlcmFsVHlwZSkKfQpwdWJsaWMgcHJvdG9jb2wgRXhwcmVzc2libGVCeUZsb2F0TGl0ZXJhbCB7CiAgICBhc3NvY2lhdGVkdHlwZSBGbG9hdExpdGVyYWxUeXBlCiAgICBpbml0KGZsb2F0TGl0ZXJhbCB2YWx1ZTogRmxvYXRMaXRlcmFsVHlwZSkKfQpwdWJsaWMgcHJvdG9jb2wgRXhwcmVzc2libGVCeUludGVnZXJMaXRlcmFsIHsKICAgIGFzc29jaWF0ZWR0eXBlIEludGVnZXJMaXRlcmFsVHlwZQogICAgaW5pdChpbnRlZ2VyTGl0ZXJhbCB2YWx1ZTogSW50ZWdlckxpdGVyYWxUeXBlKQp9CnB1YmxpYyBwcm90b2NvbCBFeHByZXNzaWJsZUJ5TmlsTGl0ZXJhbCB7CiAgICBpbml0KG5pbExpdGVyYWw6IFZvaWQpCn0KcHVibGljIHByb3RvY29sIEV4cHJlc3NpYmxlQnlTdHJpbmdJbnRlcnBvbGF0aW9uIDogRXhwcmVzc2libGVCeUV4dGVuZGVkR3JhcGhlbWVDbHVzdGVyTGl0ZXJhbCwgRXhwcmVzc2libGVCeVN0cmluZ0xpdGVyYWwsIEV4cHJlc3NpYmxlQnlVbmljb2RlU2NhbGFyTGl0ZXJhbCB7CiAgICBhc3NvY2lhdGVkdHlwZSBTdHJpbmdJbnRlcnBvbGF0aW9uIHdoZXJlIFN0cmluZ0ludGVycG9sYXRpb24uU3RyaW5nTGl0ZXJhbFR5cGUgPT0gU3RyaW5nTGl0ZXJhbFR5cGUKICAgIGluaXQoc3RyaW5nSW50ZXJwb2xhdGlvbjogRGVmYXVsdFN0cmluZ0ludGVycG9sYXRpb24pIHdoZXJlIERlZmF1bHRTdHJpbmdJbnRlcnBvbGF0aW9uID09IFN0cmluZ0ludGVycG9sYXRpb24KICAgIGluaXQoc3RyaW5nSW50ZXJwb2xhdGlvbjogU3RyaW5nSW50ZXJwb2xhdGlvbikKfQpwdWJsaWMgcHJvdG9jb2wgRXhwcmVzc2libGVCeVN0cmluZ0xpdGVyYWwgOiBFeHByZXNzaWJsZUJ5RXh0ZW5kZWRHcmFwaGVtZUNsdXN0ZXJMaXRlcmFsLCBFeHByZXNzaWJsZUJ5VW5pY29kZVNjYWxhckxpdGVyYWwgewogICAgYXNzb2NpYXRlZHR5cGUgU3RyaW5nTGl0ZXJhbFR5cGUKICAgIGluaXQoc3RyaW5nTGl0ZXJhbCB2YWx1ZTogU3RyaW5nTGl0ZXJhbFR5cGUpCn0KcHVibGljIHByb3RvY29sIEV4cHJlc3NpYmxlQnlVbmljb2RlU2NhbGFyTGl0ZXJhbCB7CiAgICBhc3NvY2lhdGVkdHlwZSBVbmljb2RlU2NhbGFyTGl0ZXJhbFR5cGUKICAgIGluaXQodW5pY29kZVNjYWxhckxpdGVyYWwgdmFsdWU6IFVuaWNvZGVTY2FsYXJMaXRlcmFsVHlwZSkKfQpwdWJsaWMgcHJvdG9jb2wgRml4ZWRXaWR0aEludGVnZXIgOiBBZGRpdGl2ZUFyaXRobWV0aWMsIEJpbmFyeUludGVnZXIsIENvbXBhcmFibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEV4cHJlc3NpYmxlQnlJbnRlZ2VyTGl0ZXJhbCwgSGFzaGFibGUsIExvc3NsZXNzU3RyaW5nQ29udmVydGlibGUsIE51bWVyaWMsIFN0cmlkZWFibGUgewogICAgc3RhdGljIHZhciBiaXRXaWR0aDogSW50IHsgZ2V0IH0KICAgIHN0YXRpYyB2YXIgbWF4OiBTZWxmIHsgZ2V0IH0KICAgIHN0YXRpYyB2YXIgbWluOiBTZWxmIHsgZ2V0IH0KICAgIHN0YXRpYyBmdW5jIHJhbmRvbShpbiByYW5nZTogQ2xvc2VkUmFuZ2U8U2VsZj4pIC0+IFNlbGYKICAgIHN0YXRpYyBmdW5jIHJhbmRvbShpbiByYW5nZTogUmFuZ2U8U2VsZj4pIC0+IFNlbGYKICAgIHN0YXRpYyBmdW5jIHJhbmRvbTxUPihpbiByYW5nZTogQ2xvc2VkUmFuZ2U8U2VsZj4sIHVzaW5nIGdlbmVyYXRvcjogaW5vdXQgVCkgLT4gU2VsZiB3aGVyZSBUIDogUmFuZG9tTnVtYmVyR2VuZXJhdG9yCiAgICBzdGF0aWMgZnVuYyByYW5kb208VD4oaW4gcmFuZ2U6IFJhbmdlPFNlbGY+LCB1c2luZyBnZW5lcmF0b3I6IGlub3V0IFQpIC0+IFNlbGYgd2hlcmUgVCA6IFJhbmRvbU51bWJlckdlbmVyYXRvcgogICAgaW5pdD88Uz4oXyB0ZXh0OiBTLCByYWRpeDogSW50ID0geCkgd2hlcmUgUyA6IFN0cmluZ1Byb3RvY29sCiAgICBpbml0KGJpZ0VuZGlhbiB2YWx1ZTogU2VsZikKICAgIGluaXQobGl0dGxlRW5kaWFuIHZhbHVlOiBTZWxmKQogICAgdmFyIGJpZ0VuZGlhbjogU2VsZiB7IGdldCB9CiAgICB2YXIgYnl0ZVN3YXBwZWQ6IFNlbGYgeyBnZXQgfQogICAgdmFyIGxlYWRpbmdaZXJvQml0Q291bnQ6IEludCB7IGdldCB9CiAgICB2YXIgbGl0dGxlRW5kaWFuOiBTZWxmIHsgZ2V0IH0KICAgIHZhciBub256ZXJvQml0Q291bnQ6IEludCB7IGdldCB9CiAgICBmdW5jICYqKGxoczogU2VsZiwgcmhzOiBTZWxmKSAtPiBTZWxmCiAgICBmdW5jICYqPShsaHM6IGlub3V0IFNlbGYsIHJoczogU2VsZikKICAgIGZ1bmMgJisobGhzOiBTZWxmLCByaHM6IFNlbGYpIC0+IFNlbGYKICAgIGZ1bmMgJis9KGxoczogaW5vdXQgU2VsZiwgcmhzOiBTZWxmKQogICAgZnVuYyAmLShsaHM6IFNlbGYsIHJoczogU2VsZikgLT4gU2VsZgogICAgZnVuYyAmLT0obGhzOiBpbm91dCBTZWxmLCByaHM6IFNlbGYpCiAgICBmdW5jICY8PChsaHM6IFNlbGYsIHJoczogU2VsZikgLT4gU2VsZgogICAgZnVuYyAmPDw9KGxoczogaW5vdXQgU2VsZiwgcmhzOiBTZWxmKQogICAgZnVuYyAmPj4obGhzOiBTZWxmLCByaHM6IFNlbGYpIC0+IFNlbGYKICAgIGZ1bmMgJj4+PShsaHM6IGlub3V0IFNlbGYsIHJoczogU2VsZikKICAgIGZ1bmMgYWRkaW5nUmVwb3J0aW5nT3ZlcmZsb3coXyByaHM6IFNlbGYpIC0+IChwYXJ0aWFsVmFsdWUgOiBTZWxmLCBvdmVyZmxvdyA6IEJvb2wpCiAgICBmdW5jIGRpdmlkZWRSZXBvcnRpbmdPdmVyZmxvdyhieSByaHM6IFNlbGYpIC0+IChwYXJ0aWFsVmFsdWUgOiBTZWxmLCBvdmVyZmxvdyA6IEJvb2wpCiAgICBmdW5jIGRpdmlkaW5nRnVsbFdpZHRoKF8gZGl2aWRlbmQ6IChoaWdoIDogU2VsZiwgbG93IDogTWFnbml0dWRlKSkgLT4gKHF1b3RpZW50IDogU2VsZiwgcmVtYWluZGVyIDogU2VsZikKICAgIGZ1bmMgbXVsdGlwbGllZEZ1bGxXaWR0aChieSBvdGhlcjogU2VsZikgLT4gKGhpZ2ggOiBTZWxmLCBsb3cgOiBNYWduaXR1ZGUpCiAgICBmdW5jIG11bHRpcGxpZWRSZXBvcnRpbmdPdmVyZmxvdyhieSByaHM6IFNlbGYpIC0+IChwYXJ0aWFsVmFsdWUgOiBTZWxmLCBvdmVyZmxvdyA6IEJvb2wpCiAgICBmdW5jIHJlbWFpbmRlclJlcG9ydGluZ092ZXJmbG93KGRpdmlkaW5nQnkgcmhzOiBTZWxmKSAtPiAocGFydGlhbFZhbHVlIDogU2VsZiwgb3ZlcmZsb3cgOiBCb29sKQogICAgZnVuYyBzdWJ0cmFjdGluZ1JlcG9ydGluZ092ZXJmbG93KF8gcmhzOiBTZWxmKSAtPiAocGFydGlhbFZhbHVlIDogU2VsZiwgb3ZlcmZsb3cgOiBCb29sKQp9CnB1YmxpYyBwcm90b2NvbCBGbG9hdGluZ1BvaW50IDogQWRkaXRpdmVBcml0aG1ldGljLCBDb21wYXJhYmxlLCBFcXVhdGFibGUsIEV4cHJlc3NpYmxlQnlJbnRlZ2VyTGl0ZXJhbCwgSGFzaGFibGUsIE51bWVyaWMsIFNpZ25lZE51bWVyaWMsIFN0cmlkZWFibGUgewogICAgYXNzb2NpYXRlZHR5cGUgRXhwb25lbnQKICAgIHN0YXRpYyB2YXIgZ3JlYXRlc3RGaW5pdGVNYWduaXR1ZGU6IFNlbGYgeyBnZXQgfQogICAgc3RhdGljIHZhciBpbmZpbml0eTogU2VsZiB7IGdldCB9CiAgICBzdGF0aWMgdmFyIGxlYXN0Tm9uemVyb01hZ25pdHVkZTogU2VsZiB7IGdldCB9CiAgICBzdGF0aWMgdmFyIGxlYXN0Tm9ybWFsTWFnbml0dWRlOiBTZWxmIHsgZ2V0IH0KICAgIHN0YXRpYyB2YXIgbmFuOiBTZWxmIHsgZ2V0IH0KICAgIHN0YXRpYyB2YXIgcGk6IFNlbGYgeyBnZXQgfQogICAgc3RhdGljIHZhciByYWRpeDogSW50IHsgZ2V0IH0KICAgIHN0YXRpYyB2YXIgc2lnbmFsaW5nTmFOOiBTZWxmIHsgZ2V0IH0KICAgIHN0YXRpYyB2YXIgdWxwT2ZPbmU6IFNlbGYgeyBnZXQgfQogICAgc3RhdGljIGZ1bmMgbWF4aW11bShfIHg6IFNlbGYsIF8geTogU2VsZikgLT4gU2VsZgogICAgc3RhdGljIGZ1bmMgbWF4aW11bU1hZ25pdHVkZShfIHg6IFNlbGYsIF8geTogU2VsZikgLT4gU2VsZgogICAgc3RhdGljIGZ1bmMgbWluaW11bShfIHg6IFNlbGYsIF8geTogU2VsZikgLT4gU2VsZgogICAgc3RhdGljIGZ1bmMgbWluaW11bU1hZ25pdHVkZShfIHg6IFNlbGYsIF8geTogU2VsZikgLT4gU2VsZgogICAgaW5pdChfIHZhbHVlOiBJbnQpCiAgICBpbml0KHNpZ246IEZsb2F0aW5nUG9pbnRTaWduLCBleHBvbmVudDogRXhwb25lbnQsIHNpZ25pZmljYW5kOiBTZWxmKQogICAgaW5pdChzaWduT2Y6IFNlbGYsIG1hZ25pdHVkZU9mOiBTZWxmKQogICAgdmFyIGV4cG9uZW50OiBFeHBvbmVudCB7IGdldCB9CiAgICB2YXIgZmxvYXRpbmdQb2ludENsYXNzOiBGbG9hdGluZ1BvaW50Q2xhc3NpZmljYXRpb24geyBnZXQgfQogICAgdmFyIGlzQ2Fub25pY2FsOiBCb29sIHsgZ2V0IH0KICAgIHZhciBpc0Zpbml0ZTogQm9vbCB7IGdldCB9CiAgICB2YXIgaXNJbmZpbml0ZTogQm9vbCB7IGdldCB9CiAgICB2YXIgaXNOYU46IEJvb2wgeyBnZXQgfQogICAgdmFyIGlzTm9ybWFsOiBCb29sIHsgZ2V0IH0KICAgIHZhciBpc1NpZ25hbGluZ05hTjogQm9vbCB7IGdldCB9CiAgICB2YXIgaXNTdWJub3JtYWw6IEJvb2wgeyBnZXQgfQogICAgdmFyIGlzWmVybzogQm9vbCB7IGdldCB9CiAgICB2YXIgbmV4dERvd246IFNlbGYgeyBnZXQgfQogICAgdmFyIG5leHRVcDogU2VsZiB7IGdldCB9CiAgICB2YXIgc2lnbjogRmxvYXRpbmdQb2ludFNpZ24geyBnZXQgfQogICAgdmFyIHNpZ25pZmljYW5kOiBTZWxmIHsgZ2V0IH0KICAgIHZhciB1bHA6IFNlbGYgeyBnZXQgfQogICAgZnVuYyAvKGxoczogU2VsZiwgcmhzOiBTZWxmKSAtPiBTZWxmCiAgICBmdW5jIC89KGxoczogaW5vdXQgU2VsZiwgcmhzOiBTZWxmKQogICAgbXV0YXRpbmcgZnVuYyBhZGRQcm9kdWN0KF8gbGhzOiBTZWxmLCBfIHJoczogU2VsZikKICAgIGZ1bmMgYWRkaW5nUHJvZHVjdChfIGxoczogU2VsZiwgXyByaHM6IFNlbGYpIC0+IFNlbGYKICAgIG11dGF0aW5nIGZ1bmMgZm9ybVJlbWFpbmRlcihkaXZpZGluZ0J5IG90aGVyOiBTZWxmKQogICAgbXV0YXRpbmcgZnVuYyBmb3JtU3F1YXJlUm9vdCgpCiAgICBtdXRhdGluZyBmdW5jIGZvcm1UcnVuY2F0aW5nUmVtYWluZGVyKGRpdmlkaW5nQnkgb3RoZXI6IFNlbGYpCiAgICBmdW5jIGlzRXF1YWwodG8gb3RoZXI6IFNlbGYpIC0+IEJvb2wKICAgIGZ1bmMgaXNMZXNzKHRoYW4gb3RoZXI6IFNlbGYpIC0+IEJvb2wKICAgIGZ1bmMgaXNMZXNzVGhhbk9yRXF1YWxUbyhfIG90aGVyOiBTZWxmKSAtPiBCb29sCiAgICBmdW5jIGlzVG90YWxseU9yZGVyZWQoYmVsb3dPckVxdWFsVG8gb3RoZXI6IFNlbGYpIC0+IEJvb2wKICAgIGZ1bmMgcmVtYWluZGVyKGRpdmlkaW5nQnkgb3RoZXI6IFNlbGYpIC0+IFNlbGYKICAgIG11dGF0aW5nIGZ1bmMgcm91bmQoKQogICAgbXV0YXRpbmcgZnVuYyByb3VuZChfIHJ1bGU6IEZsb2F0aW5nUG9pbnRSb3VuZGluZ1J1bGUpCiAgICBmdW5jIHJvdW5kZWQoKSAtPiBTZWxmCiAgICBmdW5jIHJvdW5kZWQoXyBydWxlOiBGbG9hdGluZ1BvaW50Um91bmRpbmdSdWxlKSAtPiBTZWxmCiAgICBmdW5jIHNxdWFyZVJvb3QoKSAtPiBTZWxmCiAgICBmdW5jIHRydW5jYXRpbmdSZW1haW5kZXIoZGl2aWRpbmdCeSBvdGhlcjogU2VsZikgLT4gU2VsZgp9CnB1YmxpYyBwcm90b2NvbCBIYXNoYWJsZSA6IEVxdWF0YWJsZSB7CiAgICB2YXIgaGFzaFZhbHVlOiBJbnQgeyBnZXQgfQogICAgZnVuYyBoYXNoKGludG8gaGFzaGVyOiBpbm91dCBIYXNoZXIpCn0KcHVibGljIHByb3RvY29sIEl0ZXJhdG9yUHJvdG9jb2wgewogICAgYXNzb2NpYXRlZHR5cGUgRWxlbWVudAogICAgbXV0YXRpbmcgZnVuYyBuZXh0KCkgLT4gRWxlbWVudD8KfQpwdWJsaWMgcHJvdG9jb2wgS2V5ZWREZWNvZGluZ0NvbnRhaW5lclByb3RvY29sIHsKICAgIGFzc29jaWF0ZWR0eXBlIEtleQogICAgdmFyIGFsbEtleXM6IFtLZXldIHsgZ2V0IH0KICAgIHZhciBjb2RpbmdQYXRoOiBbQ29kaW5nS2V5XSB7IGdldCB9CiAgICBmdW5jIGNvbnRhaW5zKF8ga2V5OiBLZXkpIC0+IEJvb2wKICAgIGZ1bmMgZGVjb2RlKF8gdHlwZTogQm9vbC5UeXBlLCBmb3JLZXkga2V5OiBLZXkpIHRocm93cyAtPiBCb29sCiAgICBmdW5jIGRlY29kZUlmUHJlc2VudChfIHR5cGU6IEJvb2wuVHlwZSwgZm9yS2V5IGtleTogS2V5KSB0aHJvd3MgLT4gQm9vbD8KICAgIGZ1bmMgZGVjb2RlTmlsKGZvcktleSBrZXk6IEtleSkgdGhyb3dzIC0+IEJvb2wKICAgIGZ1bmMgbmVzdGVkQ29udGFpbmVyPE5lc3RlZEtleT4oa2V5ZWRCeSB0eXBlOiBOZXN0ZWRLZXkuVHlwZSwgZm9yS2V5IGtleTogS2V5KSB0aHJvd3MgLT4gS2V5ZWREZWNvZGluZ0NvbnRhaW5lcjxOZXN0ZWRLZXk+CiAgICBmdW5jIG5lc3RlZFVua2V5ZWRDb250YWluZXIoZm9yS2V5IGtleTogS2V5KSB0aHJvd3MgLT4gVW5rZXllZERlY29kaW5nQ29udGFpbmVyCiAgICBmdW5jIHN1cGVyRGVjb2RlcigpIHRocm93cyAtPiBEZWNvZGVyCiAgICBmdW5jIHN1cGVyRGVjb2Rlcihmb3JLZXkga2V5OiBLZXkpIHRocm93cyAtPiBEZWNvZGVyCn0KcHVibGljIHByb3RvY29sIEtleWVkRW5jb2RpbmdDb250YWluZXJQcm90b2NvbCB7CiAgICBhc3NvY2lhdGVkdHlwZSBLZXkKICAgIHZhciBjb2RpbmdQYXRoOiBbQ29kaW5nS2V5XSB7IGdldCB9CiAgICBtdXRhdGluZyBmdW5jIGVuY29kZShfIHZhbHVlOiBCb29sLCBmb3JLZXkga2V5OiBLZXkpIHRocm93cwogICAgbXV0YXRpbmcgZnVuYyBlbmNvZGVDb25kaXRpb25hbDxUPihfIG9iamVjdDogVCwgZm9yS2V5IGtleTogS2V5KSB0aHJvd3Mgd2hlcmUgVCA6IEFueU9iamVjdCAmIEVuY29kYWJsZQogICAgbXV0YXRpbmcgZnVuYyBlbmNvZGVJZlByZXNlbnQoXyB2YWx1ZTogQm9vbD8sIGZvcktleSBrZXk6IEtleSkgdGhyb3dzCiAgICBtdXRhdGluZyBmdW5jIGVuY29kZU5pbChmb3JLZXkga2V5OiBLZXkpIHRocm93cwogICAgbXV0YXRpbmcgZnVuYyBuZXN0ZWRDb250YWluZXI8TmVzdGVkS2V5PihrZXllZEJ5IGtleVR5cGU6IE5lc3RlZEtleS5UeXBlLCBmb3JLZXkga2V5OiBLZXkpIC0+IEtleWVkRW5jb2RpbmdDb250YWluZXI8TmVzdGVkS2V5PgogICAgbXV0YXRpbmcgZnVuYyBuZXN0ZWRVbmtleWVkQ29udGFpbmVyKGZvcktleSBrZXk6IEtleSkgLT4gVW5rZXllZEVuY29kaW5nQ29udGFpbmVyCiAgICBtdXRhdGluZyBmdW5jIHN1cGVyRW5jb2RlcigpIC0+IEVuY29kZXIKICAgIG11dGF0aW5nIGZ1bmMgc3VwZXJFbmNvZGVyKGZvcktleSBrZXk6IEtleSkgLT4gRW5jb2Rlcgp9CnB1YmxpYyBwcm90b2NvbCBMYXp5Q29sbGVjdGlvblByb3RvY29sIDogQ29sbGVjdGlvbiwgTGF6eVNlcXVlbmNlUHJvdG9jb2wsIFNlcXVlbmNlIHsKfQpwdWJsaWMgcHJvdG9jb2wgTGF6eVNlcXVlbmNlUHJvdG9jb2wgOiBTZXF1ZW5jZSB7CiAgICBhc3NvY2lhdGVkdHlwZSBFbGVtZW50cyB3aGVyZSBFbGVtZW50ID09IEVsZW1lbnRzLkVsZW1lbnQKICAgIHZhciBlbGVtZW50czogRWxlbWVudHMgeyBnZXQgfQogICAgdmFyIGVsZW1lbnRzOiBTZWxmIHsgZ2V0IH0gd2hlcmUgRWxlbWVudHMgPT0gU2VsZgp9CnB1YmxpYyBwcm90b2NvbCBMb3NzbGVzc1N0cmluZ0NvbnZlcnRpYmxlIDogQ3VzdG9tU3RyaW5nQ29udmVydGlibGUgewogICAgaW5pdD8oXyBkZXNjcmlwdGlvbjogU3RyaW5nKQp9CnB1YmxpYyBwcm90b2NvbCBNaXJyb3JQYXRoIHsKfQpwdWJsaWMgcHJvdG9jb2wgTXV0YWJsZUNvbGxlY3Rpb24gOiBDb2xsZWN0aW9uLCBTZXF1ZW5jZSB7CiAgICBtdXRhdGluZyBmdW5jIHBhcnRpdGlvbihieSBiZWxvbmdzSW5TZWNvbmRQYXJ0aXRpb246IChFbGVtZW50KSB0aHJvd3MgLT4gQm9vbCkgcmV0aHJvd3MgLT4gSW5kZXgKICAgIG11dGF0aW5nIGZ1bmMgcmV2ZXJzZSgpIHdoZXJlIFNlbGYgOiBCaWRpcmVjdGlvbmFsQ29sbGVjdGlvbgogICAgbXV0YXRpbmcgZnVuYyBzaHVmZmxlKCkgd2hlcmUgU2VsZiA6IFJhbmRvbUFjY2Vzc0NvbGxlY3Rpb24KICAgIG11dGF0aW5nIGZ1bmMgc2h1ZmZsZTxUPih1c2luZyBnZW5lcmF0b3I6IGlub3V0IFQpIHdoZXJlIFNlbGYgOiBSYW5kb21BY2Nlc3NDb2xsZWN0aW9uLCBUIDogUmFuZG9tTnVtYmVyR2VuZXJhdG9yCiAgICBtdXRhdGluZyBmdW5jIHNvcnQoKSB3aGVyZSBFbGVtZW50IDogQ29tcGFyYWJsZSwgU2VsZiA6IFJhbmRvbUFjY2Vzc0NvbGxlY3Rpb24KICAgIG11dGF0aW5nIGZ1bmMgc29ydChieSBhcmVJbkluY3JlYXNpbmdPcmRlcjogKEVsZW1lbnQsIEVsZW1lbnQpIHRocm93cyAtPiBCb29sKSByZXRocm93cyB3aGVyZSBTZWxmIDogUmFuZG9tQWNjZXNzQ29sbGVjdGlvbgogICAgbXV0YXRpbmcgZnVuYyBzd2FwQXQoXyBpOiBJbmRleCwgXyBqOiBJbmRleCkKICAgIG11dGF0aW5nIGZ1bmMgc3dhcEF0KF8gaTogSW5kZXgsIF8gajogSW5kZXgpCiAgICBtdXRhdGluZyBmdW5jIHdpdGhDb250aWd1b3VzTXV0YWJsZVN0b3JhZ2VJZkF2YWlsYWJsZTxSPihfIGJvZHk6IChpbm91dCBVbnNhZmVNdXRhYmxlQnVmZmVyUG9pbnRlcjxFbGVtZW50PikgdGhyb3dzIC0+IFIpIHJldGhyb3dzIC0+IFI/Cn0KcHVibGljIHByb3RvY29sIE51bWVyaWMgOiBBZGRpdGl2ZUFyaXRobWV0aWMsIEVxdWF0YWJsZSwgRXhwcmVzc2libGVCeUludGVnZXJMaXRlcmFsIHsKICAgIGFzc29jaWF0ZWR0eXBlIE1hZ25pdHVkZQogICAgaW5pdD88VD4oZXhhY3RseSBzb3VyY2U6IFQpIHdoZXJlIFQgOiBCaW5hcnlJbnRlZ2VyCiAgICB2YXIgbWFnbml0dWRlOiBNYWduaXR1ZGUgeyBnZXQgfQogICAgZnVuYyAqKGxoczogU2VsZiwgcmhzOiBTZWxmKSAtPiBTZWxmCiAgICBmdW5jICo9KGxoczogaW5vdXQgU2VsZiwgcmhzOiBTZWxmKQp9CnB1YmxpYyBwcm90b2NvbCBPcHRpb25TZXQgOiBFcXVhdGFibGUsIEV4cHJlc3NpYmxlQnlBcnJheUxpdGVyYWwsIFJhd1JlcHJlc2VudGFibGUsIFNldEFsZ2VicmEgewp9CnB1YmxpYyBwcm90b2NvbCBSYW5kb21BY2Nlc3NDb2xsZWN0aW9uIDogQmlkaXJlY3Rpb25hbENvbGxlY3Rpb24sIENvbGxlY3Rpb24sIFNlcXVlbmNlIHsKfQpwdWJsaWMgcHJvdG9jb2wgUmFuZG9tTnVtYmVyR2VuZXJhdG9yIHsKICAgIG11dGF0aW5nIGZ1bmMgbmV4dCgpIC0+IFVJbnQ2NAogICAgbXV0YXRpbmcgZnVuYyBuZXh0PFQ+KCkgLT4gVCB3aGVyZSBUIDogRml4ZWRXaWR0aEludGVnZXIgJiBVbnNpZ25lZEludGVnZXIKICAgIG11dGF0aW5nIGZ1bmMgbmV4dDxUPih1cHBlckJvdW5kOiBUKSAtPiBUIHdoZXJlIFQgOiBGaXhlZFdpZHRoSW50ZWdlciAmIFVuc2lnbmVkSW50ZWdlcgp9CnB1YmxpYyBwcm90b2NvbCBSYW5nZUV4cHJlc3Npb24gewogICAgYXNzb2NpYXRlZHR5cGUgQm91bmQKICAgIGZ1bmMgY29udGFpbnMoXyBlbGVtZW50OiBCb3VuZCkgLT4gQm9vbAogICAgZnVuYyByZWxhdGl2ZTxDPih0byBjb2xsZWN0aW9uOiBDKSAtPiBSYW5nZTxCb3VuZD4gd2hlcmUgQyA6IENvbGxlY3Rpb24sIEJvdW5kID09IEMuSW5kZXgKICAgIGZ1bmMgfj0ocGF0dGVybjogU2VsZiwgdmFsdWU6IEJvdW5kKSAtPiBCb29sCn0KcHVibGljIHByb3RvY29sIFJhbmdlUmVwbGFjZWFibGVDb2xsZWN0aW9uIDogQ29sbGVjdGlvbiwgU2VxdWVuY2UgewogICAgaW5pdCgpCiAgICBpbml0PFM+KF8gZWxlbWVudHM6IFMpIHdoZXJlIFMgOiBTZXF1ZW5jZSwgRWxlbWVudCA9PSBTLkVsZW1lbnQKICAgIGluaXQ8Uz4oXyBlbGVtZW50czogUykgd2hlcmUgUyA6IFNlcXVlbmNlLCBFbGVtZW50ID09IFMuRWxlbWVudAogICAgaW5pdChyZXBlYXRpbmcgcmVwZWF0ZWRWYWx1ZTogRWxlbWVudCwgY291bnQ6IEludCkKICAgIGluaXQocmVwZWF0aW5nIHJlcGVhdGVkVmFsdWU6IEVsZW1lbnQsIGNvdW50OiBJbnQpCiAgICBmdW5jICs8T3RoZXI+KGxoczogT3RoZXIsIHJoczogU2VsZikgLT4gU2VsZiB3aGVyZSBPdGhlciA6IFNlcXVlbmNlLCBFbGVtZW50ID09IE90aGVyLkVsZW1lbnQKICAgIGZ1bmMgKzxPdGhlcj4obGhzOiBTZWxmLCByaHM6IE90aGVyKSAtPiBTZWxmIHdoZXJlIE90aGVyIDogUmFuZ2VSZXBsYWNlYWJsZUNvbGxlY3Rpb24sIEVsZW1lbnQgPT0gT3RoZXIuRWxlbWVudAogICAgZnVuYyArPE90aGVyPihsaHM6IFNlbGYsIHJoczogT3RoZXIpIC0+IFNlbGYgd2hlcmUgT3RoZXIgOiBTZXF1ZW5jZSwgRWxlbWVudCA9PSBPdGhlci5FbGVtZW50CiAgICBmdW5jICs9PE90aGVyPihsaHM6IGlub3V0IFNlbGYsIHJoczogT3RoZXIpIHdoZXJlIE90aGVyIDogU2VxdWVuY2UsIEVsZW1lbnQgPT0gT3RoZXIuRWxlbWVudAogICAgbXV0YXRpbmcgZnVuYyBhcHBlbmQoXyBuZXdFbGVtZW50OiBfX293bmVkIEVsZW1lbnQpCiAgICBtdXRhdGluZyBmdW5jIGFwcGVuZDxTPihjb250ZW50c09mIG5ld0VsZW1lbnRzOiBfX293bmVkIFMpIHdoZXJlIFMgOiBTZXF1ZW5jZSwgRWxlbWVudCA9PSBTLkVsZW1lbnQKICAgIG11dGF0aW5nIGZ1bmMgaW5zZXJ0KF8gbmV3RWxlbWVudDogX19vd25lZCBFbGVtZW50LCBhdCBpOiBJbmRleCkKICAgIG11dGF0aW5nIGZ1bmMgaW5zZXJ0PEM+KGNvbnRlbnRzT2YgbmV3RWxlbWVudHM6IF9fb3duZWQgQywgYXQgaTogSW5kZXgpIHdoZXJlIEMgOiBDb2xsZWN0aW9uLCBDLkVsZW1lbnQgPT0gRWxlbWVudAogICAgbXV0YXRpbmcgZnVuYyBwb3BMYXN0KCkgLT4gRWxlbWVudD8gd2hlcmUgU2VsZiA6IEJpZGlyZWN0aW9uYWxDb2xsZWN0aW9uCiAgICBAZGlzY2FyZGFibGVSZXN1bHQgbXV0YXRpbmcgZnVuYyByZW1vdmUoYXQgaTogSW5kZXgpIC0+IEVsZW1lbnQKICAgIEBkaXNjYXJkYWJsZVJlc3VsdCBtdXRhdGluZyBmdW5jIHJlbW92ZShhdCBwb3NpdGlvbjogSW5kZXgpIC0+IEVsZW1lbnQKICAgIG11dGF0aW5nIGZ1bmMgcmVtb3ZlQWxsKGtlZXBpbmdDYXBhY2l0eSBrZWVwQ2FwYWNpdHk6IEJvb2wgPSB4KQogICAgbXV0YXRpbmcgZnVuYyByZW1vdmVBbGwod2hlcmUgc2hvdWxkQmVSZW1vdmVkOiAoRWxlbWVudCkgdGhyb3dzIC0+IEJvb2wpIHJldGhyb3dzCiAgICBtdXRhdGluZyBmdW5jIHJlbW92ZUFsbCh3aGVyZSBzaG91bGRCZVJlbW92ZWQ6IChFbGVtZW50KSB0aHJvd3MgLT4gQm9vbCkgcmV0aHJvd3MKICAgIEBkaXNjYXJkYWJsZVJlc3VsdCBtdXRhdGluZyBmdW5jIHJlbW92ZUxhc3QoKSAtPiBFbGVtZW50IHdoZXJlIFNlbGYgOiBCaWRpcmVjdGlvbmFsQ29sbGVjdGlvbgogICAgbXV0YXRpbmcgZnVuYyByZW1vdmVMYXN0KF8gazogSW50KSB3aGVyZSBTZWxmIDogQmlkaXJlY3Rpb25hbENvbGxlY3Rpb24KICAgIG11dGF0aW5nIGZ1bmMgcmVtb3ZlU3VicmFuZ2UoXyBib3VuZHM6IFJhbmdlPEluZGV4PikKICAgIG11dGF0aW5nIGZ1bmMgcmVtb3ZlU3VicmFuZ2UoXyBib3VuZHM6IFJhbmdlPEluZGV4PikKICAgIG11dGF0aW5nIGZ1bmMgcmVwbGFjZVN1YnJhbmdlPEMsIFI+KF8gc3VicmFuZ2U6IFIsIHdpdGggbmV3RWxlbWVudHM6IF9fb3duZWQgQykgd2hlcmUgQyA6IENvbGxlY3Rpb24sIFIgOiBSYW5nZUV4cHJlc3Npb24sIEMuRWxlbWVudCA9PSBFbGVtZW50LCBJbmRleCA9PSBSLkJvdW5kCiAgICBtdXRhdGluZyBmdW5jIHJlcGxhY2VTdWJyYW5nZTxDPihfIHN1YnJhbmdlOiBSYW5nZTxJbmRleD4sIHdpdGggbmV3RWxlbWVudHM6IF9fb3duZWQgQykgd2hlcmUgQyA6IENvbGxlY3Rpb24sIEMuRWxlbWVudCA9PSBFbGVtZW50CiAgICBtdXRhdGluZyBmdW5jIHJlc2VydmVDYXBhY2l0eShfIG46IEludCkKICAgIG11dGF0aW5nIGZ1bmMgcmVzZXJ2ZUNhcGFjaXR5KF8gbjogSW50KQp9CnB1YmxpYyBwcm90b2NvbCBSYXdSZXByZXNlbnRhYmxlIHsKICAgIGFzc29jaWF0ZWR0eXBlIFJhd1ZhbHVlCiAgICBpbml0KGZyb20gZGVjb2RlcjogRGVjb2RlcikgdGhyb3dzIHdoZXJlIFNlbGYgOiBEZWNvZGFibGUsIEJvb2wgPT0gUmF3VmFsdWUKICAgIGluaXQoZnJvbSBkZWNvZGVyOiBEZWNvZGVyKSB0aHJvd3Mgd2hlcmUgU2VsZiA6IERlY29kYWJsZSwgRG91YmxlID09IFJhd1ZhbHVlCiAgICBpbml0KGZyb20gZGVjb2RlcjogRGVjb2RlcikgdGhyb3dzIHdoZXJlIFNlbGYgOiBEZWNvZGFibGUsIEZsb2F0ID09IFJhd1ZhbHVlCiAgICBpbml0KGZyb20gZGVjb2RlcjogRGVjb2RlcikgdGhyb3dzIHdoZXJlIFNlbGYgOiBEZWNvZGFibGUsIEludCA9PSBSYXdWYWx1ZQogICAgaW5pdChmcm9tIGRlY29kZXI6IERlY29kZXIpIHRocm93cyB3aGVyZSBTZWxmIDogRGVjb2RhYmxlLCBJbnQxNiA9PSBSYXdWYWx1ZQogICAgaW5pdChmcm9tIGRlY29kZXI6IERlY29kZXIpIHRocm93cyB3aGVyZSBTZWxmIDogRGVjb2RhYmxlLCBJbnQzMiA9PSBSYXdWYWx1ZQogICAgaW5pdChmcm9tIGRlY29kZXI6IERlY29kZXIpIHRocm93cyB3aGVyZSBTZWxmIDogRGVjb2RhYmxlLCBJbnQ2NCA9PSBSYXdWYWx1ZQogICAgaW5pdChmcm9tIGRlY29kZXI6IERlY29kZXIpIHRocm93cyB3aGVyZSBTZWxmIDogRGVjb2RhYmxlLCBJbnQ4ID09IFJhd1ZhbHVlCiAgICBpbml0KGZyb20gZGVjb2RlcjogRGVjb2RlcikgdGhyb3dzIHdoZXJlIFNlbGYgOiBEZWNvZGFibGUsIFJhd1ZhbHVlID09IFN0cmluZwogICAgaW5pdChmcm9tIGRlY29kZXI6IERlY29kZXIpIHRocm93cyB3aGVyZSBTZWxmIDogRGVjb2RhYmxlLCBSYXdWYWx1ZSA9PSBVSW50CiAgICBpbml0KGZyb20gZGVjb2RlcjogRGVjb2RlcikgdGhyb3dzIHdoZXJlIFNlbGYgOiBEZWNvZGFibGUsIFJhd1ZhbHVlID09IFVJbnQxNgogICAgaW5pdChmcm9tIGRlY29kZXI6IERlY29kZXIpIHRocm93cyB3aGVyZSBTZWxmIDogRGVjb2RhYmxlLCBSYXdWYWx1ZSA9PSBVSW50MzIKICAgIGluaXQoZnJvbSBkZWNvZGVyOiBEZWNvZGVyKSB0aHJvd3Mgd2hlcmUgU2VsZiA6IERlY29kYWJsZSwgUmF3VmFsdWUgPT0gVUludDY0CiAgICBpbml0KGZyb20gZGVjb2RlcjogRGVjb2RlcikgdGhyb3dzIHdoZXJlIFNlbGYgOiBEZWNvZGFibGUsIFJhd1ZhbHVlID09IFVJbnQ4CiAgICBpbml0PyhyYXdWYWx1ZTogUmF3VmFsdWUpCiAgICB2YXIgaGFzaFZhbHVlOiBJbnQgeyBnZXQgfSB3aGVyZSBSYXdWYWx1ZSA6IEhhc2hhYmxlLCBTZWxmIDogSGFzaGFibGUKICAgIHZhciByYXdWYWx1ZTogUmF3VmFsdWUgeyBnZXQgfQogICAgZnVuYyBlbmNvZGUodG8gZW5jb2RlcjogRW5jb2RlcikgdGhyb3dzIHdoZXJlIFNlbGYgOiBFbmNvZGFibGUsIEJvb2wgPT0gUmF3VmFsdWUKICAgIGZ1bmMgZW5jb2RlKHRvIGVuY29kZXI6IEVuY29kZXIpIHRocm93cyB3aGVyZSBTZWxmIDogRW5jb2RhYmxlLCBEb3VibGUgPT0gUmF3VmFsdWUKICAgIGZ1bmMgZW5jb2RlKHRvIGVuY29kZXI6IEVuY29kZXIpIHRocm93cyB3aGVyZSBTZWxmIDogRW5jb2RhYmxlLCBGbG9hdCA9PSBSYXdWYWx1ZQogICAgZnVuYyBlbmNvZGUodG8gZW5jb2RlcjogRW5jb2RlcikgdGhyb3dzIHdoZXJlIFNlbGYgOiBFbmNvZGFibGUsIEludCA9PSBSYXdWYWx1ZQogICAgZnVuYyBlbmNvZGUodG8gZW5jb2RlcjogRW5jb2RlcikgdGhyb3dzIHdoZXJlIFNlbGYgOiBFbmNvZGFibGUsIEludDE2ID09IFJhd1ZhbHVlCiAgICBmdW5jIGVuY29kZSh0byBlbmNvZGVyOiBFbmNvZGVyKSB0aHJvd3Mgd2hlcmUgU2VsZiA6IEVuY29kYWJsZSwgSW50MzIgPT0gUmF3VmFsdWUKICAgIGZ1bmMgZW5jb2RlKHRvIGVuY29kZXI6IEVuY29kZXIpIHRocm93cyB3aGVyZSBTZWxmIDogRW5jb2RhYmxlLCBJbnQ2NCA9PSBSYXdWYWx1ZQogICAgZnVuYyBlbmNvZGUodG8gZW5jb2RlcjogRW5jb2RlcikgdGhyb3dzIHdoZXJlIFNlbGYgOiBFbmNvZGFibGUsIEludDggPT0gUmF3VmFsdWUKICAgIGZ1bmMgZW5jb2RlKHRvIGVuY29kZXI6IEVuY29kZXIpIHRocm93cyB3aGVyZSBTZWxmIDogRW5jb2RhYmxlLCBSYXdWYWx1ZSA9PSBTdHJpbmcKICAgIGZ1bmMgZW5jb2RlKHRvIGVuY29kZXI6IEVuY29kZXIpIHRocm93cyB3aGVyZSBTZWxmIDogRW5jb2RhYmxlLCBSYXdWYWx1ZSA9PSBVSW50CiAgICBmdW5jIGVuY29kZSh0byBlbmNvZGVyOiBFbmNvZGVyKSB0aHJvd3Mgd2hlcmUgU2VsZiA6IEVuY29kYWJsZSwgUmF3VmFsdWUgPT0gVUludDE2CiAgICBmdW5jIGVuY29kZSh0byBlbmNvZGVyOiBFbmNvZGVyKSB0aHJvd3Mgd2hlcmUgU2VsZiA6IEVuY29kYWJsZSwgUmF3VmFsdWUgPT0gVUludDMyCiAgICBmdW5jIGVuY29kZSh0byBlbmNvZGVyOiBFbmNvZGVyKSB0aHJvd3Mgd2hlcmUgU2VsZiA6IEVuY29kYWJsZSwgUmF3VmFsdWUgPT0gVUludDY0CiAgICBmdW5jIGVuY29kZSh0byBlbmNvZGVyOiBFbmNvZGVyKSB0aHJvd3Mgd2hlcmUgU2VsZiA6IEVuY29kYWJsZSwgUmF3VmFsdWUgPT0gVUludDgKICAgIGZ1bmMgaGFzaChpbnRvIGhhc2hlcjogaW5vdXQgSGFzaGVyKSB3aGVyZSBSYXdWYWx1ZSA6IEhhc2hhYmxlLCBTZWxmIDogSGFzaGFibGUKfQpwdWJsaWMgcHJvdG9jb2wgU0lNRCA6IENvZGFibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEV4cHJlc3NpYmxlQnlBcnJheUxpdGVyYWwsIEhhc2hhYmxlLCBTSU1EU3RvcmFnZSB7CiAgICBhc3NvY2lhdGVkdHlwZSBNYXNrU3RvcmFnZSB3aGVyZSBNYXNrU3RvcmFnZS5TY2FsYXIgOiBGaXhlZFdpZHRoSW50ZWdlciAmIFNpZ25lZEludGVnZXIKfQpwdWJsaWMgcHJvdG9jb2wgU0lNRFNjYWxhciB7CiAgICBhc3NvY2lhdGVkdHlwZSBTSU1EMTZTdG9yYWdlIHdoZXJlIFNJTUQxNlN0b3JhZ2UuU2NhbGFyID09IFNlbGYKICAgIGFzc29jaWF0ZWR0eXBlIFNJTUQyU3RvcmFnZSB3aGVyZSBTSU1EMlN0b3JhZ2UuU2NhbGFyID09IFNlbGYKICAgIGFzc29jaWF0ZWR0eXBlIFNJTUQzMlN0b3JhZ2Ugd2hlcmUgU0lNRDMyU3RvcmFnZS5TY2FsYXIgPT0gU2VsZgogICAgYXNzb2NpYXRlZHR5cGUgU0lNRDRTdG9yYWdlIHdoZXJlIFNJTUQ0U3RvcmFnZS5TY2FsYXIgPT0gU2VsZgogICAgYXNzb2NpYXRlZHR5cGUgU0lNRDY0U3RvcmFnZSB3aGVyZSBTSU1ENjRTdG9yYWdlLlNjYWxhciA9PSBTZWxmCiAgICBhc3NvY2lhdGVkdHlwZSBTSU1EOFN0b3JhZ2Ugd2hlcmUgU0lNRDhTdG9yYWdlLlNjYWxhciA9PSBTZWxmCiAgICBhc3NvY2lhdGVkdHlwZSBTSU1ETWFza1NjYWxhcgp9CnB1YmxpYyBwcm90b2NvbCBTSU1EU3RvcmFnZSB7CiAgICBhc3NvY2lhdGVkdHlwZSBTY2FsYXIKICAgIGluaXQoKQogICAgdmFyIHNjYWxhckNvdW50OiBJbnQgeyBnZXQgfQogICAgc3Vic2NyaXB0KGluZGV4OiBJbnQpIC0+IFNjYWxhciB7IGdldCBzZXQgfQp9CnB1YmxpYyBwcm90b2NvbCBTZXF1ZW5jZSB7CiAgICBhc3NvY2lhdGVkdHlwZSBFbGVtZW50CiAgICBhc3NvY2lhdGVkdHlwZSBJdGVyYXRvciB3aGVyZSBFbGVtZW50ID09IEl0ZXJhdG9yLkVsZW1lbnQKICAgIHZhciBsYXp5OiBMYXp5U2VxdWVuY2U8U2VsZj4geyBnZXQgfQogICAgdmFyIHVuZGVyZXN0aW1hdGVkQ291bnQ6IEludCB7IGdldCB9CiAgICBmdW5jIGFsbFNhdGlzZnkoXyBwcmVkaWNhdGU6IChFbGVtZW50KSB0aHJvd3MgLT4gQm9vbCkgcmV0aHJvd3MgLT4gQm9vbAogICAgZnVuYyBjb21wYWN0TWFwPEVsZW1lbnRPZlJlc3VsdD4oXyB0cmFuc2Zvcm06IChFbGVtZW50KSB0aHJvd3MgLT4gRWxlbWVudE9mUmVzdWx0PykgcmV0aHJvd3MgLT4gW0VsZW1lbnRPZlJlc3VsdF0KICAgIGZ1bmMgY29udGFpbnMoXyBlbGVtZW50OiBFbGVtZW50KSAtPiBCb29sIHdoZXJlIEVsZW1lbnQgOiBFcXVhdGFibGUKICAgIGZ1bmMgY29udGFpbnMod2hlcmUgcHJlZGljYXRlOiAoRWxlbWVudCkgdGhyb3dzIC0+IEJvb2wpIHJldGhyb3dzIC0+IEJvb2wKICAgIGZ1bmMgZHJvcCh3aGlsZSBwcmVkaWNhdGU6IChFbGVtZW50KSB0aHJvd3MgLT4gQm9vbCkgcmV0aHJvd3MgLT4gRHJvcFdoaWxlU2VxdWVuY2U8U2VsZj4KICAgIGZ1bmMgZHJvcEZpcnN0KF8gazogSW50ID0geCkgLT4gRHJvcEZpcnN0U2VxdWVuY2U8U2VsZj4KICAgIGZ1bmMgZHJvcExhc3QoXyBrOiBJbnQgPSB4KSAtPiBbRWxlbWVudF0KICAgIGZ1bmMgZWxlbWVudHNFcXVhbDxPdGhlclNlcXVlbmNlPihfIG90aGVyOiBPdGhlclNlcXVlbmNlKSAtPiBCb29sIHdoZXJlIEVsZW1lbnQgOiBFcXVhdGFibGUsIE90aGVyU2VxdWVuY2UgOiBTZXF1ZW5jZSwgRWxlbWVudCA9PSBPdGhlclNlcXVlbmNlLkVsZW1lbnQKICAgIGZ1bmMgZWxlbWVudHNFcXVhbDxPdGhlclNlcXVlbmNlPihfIG90aGVyOiBPdGhlclNlcXVlbmNlLCBieSBhcmVFcXVpdmFsZW50OiAoRWxlbWVudCwgT3RoZXJTZXF1ZW5jZS5FbGVtZW50KSB0aHJvd3MgLT4gQm9vbCkgcmV0aHJvd3MgLT4gQm9vbCB3aGVyZSBPdGhlclNlcXVlbmNlIDogU2VxdWVuY2UKICAgIGZ1bmMgZW51bWVyYXRlZCgpIC0+IEVudW1lcmF0ZWRTZXF1ZW5jZTxTZWxmPgogICAgZnVuYyBmaWx0ZXIoXyBpc0luY2x1ZGVkOiAoRWxlbWVudCkgdGhyb3dzIC0+IEJvb2wpIHJldGhyb3dzIC0+IFtFbGVtZW50XQogICAgZnVuYyBmaXJzdCh3aGVyZSBwcmVkaWNhdGU6IChFbGVtZW50KSB0aHJvd3MgLT4gQm9vbCkgcmV0aHJvd3MgLT4gRWxlbWVudD8KICAgIGZ1bmMgZmxhdE1hcDxTZWdtZW50T2ZSZXN1bHQ+KF8gdHJhbnNmb3JtOiAoRWxlbWVudCkgdGhyb3dzIC0+IFNlZ21lbnRPZlJlc3VsdCkgcmV0aHJvd3MgLT4gW1NlZ21lbnRPZlJlc3VsdC5FbGVtZW50XSB3aGVyZSBTZWdtZW50T2ZSZXN1bHQgOiBTZXF1ZW5jZQogICAgZnVuYyBmb3JFYWNoKF8gYm9keTogKEVsZW1lbnQpIHRocm93cyAtPiBWb2lkKSByZXRocm93cwogICAgZnVuYyBqb2luZWQoKSAtPiBGbGF0dGVuU2VxdWVuY2U8U2VsZj4gd2hlcmUgRWxlbWVudCA6IFNlcXVlbmNlCiAgICBmdW5jIGpvaW5lZChzZXBhcmF0b3I6IFN0cmluZyA9IHgpIC0+IFN0cmluZyB3aGVyZSBFbGVtZW50IDogU3RyaW5nUHJvdG9jb2wKICAgIGZ1bmMgam9pbmVkPFNlcGFyYXRvcj4oc2VwYXJhdG9yOiBTZXBhcmF0b3IpIC0+IEpvaW5lZFNlcXVlbmNlPFNlbGY+IHdoZXJlIEVsZW1lbnQgOiBTZXF1ZW5jZSwgU2VwYXJhdG9yIDogU2VxdWVuY2UsIEVsZW1lbnQuRWxlbWVudCA9PSBTZXBhcmF0b3IuRWxlbWVudAogICAgZnVuYyBsZXhpY29ncmFwaGljYWxseVByZWNlZGVzPE90aGVyU2VxdWVuY2U+KF8gb3RoZXI6IE90aGVyU2VxdWVuY2UpIC0+IEJvb2wgd2hlcmUgRWxlbWVudCA6IENvbXBhcmFibGUsIE90aGVyU2VxdWVuY2UgOiBTZXF1ZW5jZSwgRWxlbWVudCA9PSBPdGhlclNlcXVlbmNlLkVsZW1lbnQKICAgIGZ1bmMgbGV4aWNvZ3JhcGhpY2FsbHlQcmVjZWRlczxPdGhlclNlcXVlbmNlPihfIG90aGVyOiBPdGhlclNlcXVlbmNlLCBieSBhcmVJbkluY3JlYXNpbmdPcmRlcjogKEVsZW1lbnQsIEVsZW1lbnQpIHRocm93cyAtPiBCb29sKSByZXRocm93cyAtPiBCb29sIHdoZXJlIE90aGVyU2VxdWVuY2UgOiBTZXF1ZW5jZSwgRWxlbWVudCA9PSBPdGhlclNlcXVlbmNlLkVsZW1lbnQKICAgIGZ1bmMgbWFrZUl0ZXJhdG9yKCkgLT4gSXRlcmF0b3IKICAgIGZ1bmMgbWFwPFQ+KF8gdHJhbnNmb3JtOiAoRWxlbWVudCkgdGhyb3dzIC0+IFQpIHJldGhyb3dzIC0+IFtUXQogICAgZnVuYyBtYXgoKSAtPiBFbGVtZW50PyB3aGVyZSBFbGVtZW50IDogQ29tcGFyYWJsZQogICAgZnVuYyBtYXgoYnkgYXJlSW5JbmNyZWFzaW5nT3JkZXI6IChFbGVtZW50LCBFbGVtZW50KSB0aHJvd3MgLT4gQm9vbCkgcmV0aHJvd3MgLT4gRWxlbWVudD8KICAgIGZ1bmMgbWluKCkgLT4gRWxlbWVudD8gd2hlcmUgRWxlbWVudCA6IENvbXBhcmFibGUKICAgIGZ1bmMgbWluKGJ5IGFyZUluSW5jcmVhc2luZ09yZGVyOiAoRWxlbWVudCwgRWxlbWVudCkgdGhyb3dzIC0+IEJvb2wpIHJldGhyb3dzIC0+IEVsZW1lbnQ/CiAgICBmdW5jIHByZWZpeChfIG1heExlbmd0aDogSW50KSAtPiBQcmVmaXhTZXF1ZW5jZTxTZWxmPgogICAgZnVuYyBwcmVmaXgod2hpbGUgcHJlZGljYXRlOiAoRWxlbWVudCkgdGhyb3dzIC0+IEJvb2wpIHJldGhyb3dzIC0+IFtFbGVtZW50XQogICAgZnVuYyByZWR1Y2U8UmVzdWx0PihfIGluaXRpYWxSZXN1bHQ6IFJlc3VsdCwgXyBuZXh0UGFydGlhbFJlc3VsdDogKF8gcGFydGlhbFJlc3VsdDogUmVzdWx0LCBFbGVtZW50KSB0aHJvd3MgLT4gUmVzdWx0KSByZXRocm93cyAtPiBSZXN1bHQKICAgIGZ1bmMgcmVkdWNlPFJlc3VsdD4oaW50byBpbml0aWFsUmVzdWx0OiBfX293bmVkIFJlc3VsdCwgXyB1cGRhdGVBY2N1bXVsYXRpbmdSZXN1bHQ6IChfIHBhcnRpYWxSZXN1bHQ6IGlub3V0IFJlc3VsdCwgRWxlbWVudCkgdGhyb3dzIC0+IFZvaWQpIHJldGhyb3dzIC0+IFJlc3VsdAogICAgZnVuYyByZXZlcnNlZCgpIC0+IFtFbGVtZW50XQogICAgZnVuYyBzaHVmZmxlZCgpIC0+IFtFbGVtZW50XQogICAgZnVuYyBzaHVmZmxlZDxUPih1c2luZyBnZW5lcmF0b3I6IGlub3V0IFQpIC0+IFtFbGVtZW50XSB3aGVyZSBUIDogUmFuZG9tTnVtYmVyR2VuZXJhdG9yCiAgICBmdW5jIHNvcnRlZCgpIC0+IFtFbGVtZW50XSB3aGVyZSBFbGVtZW50IDogQ29tcGFyYWJsZQogICAgZnVuYyBzb3J0ZWQoYnkgYXJlSW5JbmNyZWFzaW5nT3JkZXI6IChFbGVtZW50LCBFbGVtZW50KSB0aHJvd3MgLT4gQm9vbCkgcmV0aHJvd3MgLT4gW0VsZW1lbnRdCiAgICBmdW5jIHNwbGl0KG1heFNwbGl0czogSW50ID0geCwgb21pdHRpbmdFbXB0eVN1YnNlcXVlbmNlczogQm9vbCA9IHgsIHdoZXJlU2VwYXJhdG9yIGlzU2VwYXJhdG9yOiAoRWxlbWVudCkgdGhyb3dzIC0+IEJvb2wpIHJldGhyb3dzIC0+IFtBcnJheVNsaWNlPEVsZW1lbnQ+XQogICAgZnVuYyBzcGxpdChzZXBhcmF0b3I6IEVsZW1lbnQsIG1heFNwbGl0czogSW50ID0geCwgb21pdHRpbmdFbXB0eVN1YnNlcXVlbmNlczogQm9vbCA9IHgpIC0+IFtBcnJheVNsaWNlPEVsZW1lbnQ+XSB3aGVyZSBFbGVtZW50IDogRXF1YXRhYmxlCiAgICBmdW5jIHN0YXJ0czxQb3NzaWJsZVByZWZpeD4od2l0aCBwb3NzaWJsZVByZWZpeDogUG9zc2libGVQcmVmaXgpIC0+IEJvb2wgd2hlcmUgRWxlbWVudCA6IEVxdWF0YWJsZSwgUG9zc2libGVQcmVmaXggOiBTZXF1ZW5jZSwgRWxlbWVudCA9PSBQb3NzaWJsZVByZWZpeC5FbGVtZW50CiAgICBmdW5jIHN0YXJ0czxQb3NzaWJsZVByZWZpeD4od2l0aCBwb3NzaWJsZVByZWZpeDogUG9zc2libGVQcmVmaXgsIGJ5IGFyZUVxdWl2YWxlbnQ6IChFbGVtZW50LCBQb3NzaWJsZVByZWZpeC5FbGVtZW50KSB0aHJvd3MgLT4gQm9vbCkgcmV0aHJvd3MgLT4gQm9vbCB3aGVyZSBQb3NzaWJsZVByZWZpeCA6IFNlcXVlbmNlCiAgICBmdW5jIHN1ZmZpeChfIG1heExlbmd0aDogSW50KSAtPiBbRWxlbWVudF0KICAgIGZ1bmMgd2l0aENvbnRpZ3VvdXNTdG9yYWdlSWZBdmFpbGFibGU8Uj4oXyBib2R5OiAoVW5zYWZlQnVmZmVyUG9pbnRlcjxFbGVtZW50PikgdGhyb3dzIC0+IFIpIHJldGhyb3dzIC0+IFI/Cn0KcHVibGljIHByb3RvY29sIFNldEFsZ2VicmEgOiBFcXVhdGFibGUsIEV4cHJlc3NpYmxlQnlBcnJheUxpdGVyYWwgewogICAgYXNzb2NpYXRlZHR5cGUgRWxlbWVudAogICAgaW5pdCgpCiAgICBpbml0PFM+KF8gc2VxdWVuY2U6IF9fb3duZWQgUykgd2hlcmUgUyA6IFNlcXVlbmNlLCBFbGVtZW50ID09IFMuRWxlbWVudAogICAgdmFyIGlzRW1wdHk6IEJvb2wgeyBnZXQgfQogICAgZnVuYyBjb250YWlucyhfIG1lbWJlcjogRWxlbWVudCkgLT4gQm9vbAogICAgbXV0YXRpbmcgZnVuYyBmb3JtSW50ZXJzZWN0aW9uKF8gb3RoZXI6IFNlbGYpCiAgICBtdXRhdGluZyBmdW5jIGZvcm1TeW1tZXRyaWNEaWZmZXJlbmNlKF8gb3RoZXI6IF9fb3duZWQgU2VsZikKICAgIG11dGF0aW5nIGZ1bmMgZm9ybVVuaW9uKF8gb3RoZXI6IF9fb3duZWQgU2VsZikKICAgIEBkaXNjYXJkYWJsZVJlc3VsdCBtdXRhdGluZyBmdW5jIGluc2VydChfIG5ld01lbWJlcjogX19vd25lZCBFbGVtZW50KSAtPiAoaW5zZXJ0ZWQgOiBCb29sLCBtZW1iZXJBZnRlckluc2VydCA6IEVsZW1lbnQpCiAgICBmdW5jIGludGVyc2VjdGlvbihfIG90aGVyOiBTZWxmKSAtPiBTZWxmCiAgICBmdW5jIGlzRGlzam9pbnQod2l0aCBvdGhlcjogU2VsZikgLT4gQm9vbAogICAgZnVuYyBpc1N0cmljdFN1YnNldChvZiBvdGhlcjogU2VsZikgLT4gQm9vbAogICAgZnVuYyBpc1N0cmljdFN1cGVyc2V0KG9mIG90aGVyOiBTZWxmKSAtPiBCb29sCiAgICBmdW5jIGlzU3Vic2V0KG9mIG90aGVyOiBTZWxmKSAtPiBCb29sCiAgICBmdW5jIGlzU3VwZXJzZXQob2Ygb3RoZXI6IFNlbGYpIC0+IEJvb2wKICAgIGZ1bmMgaXNTdXBlcnNldChvZiBvdGhlcjogU2VsZikgLT4gQm9vbAogICAgQGRpc2NhcmRhYmxlUmVzdWx0IG11dGF0aW5nIGZ1bmMgcmVtb3ZlKF8gbWVtYmVyOiBFbGVtZW50KSAtPiBFbGVtZW50PwogICAgbXV0YXRpbmcgZnVuYyBzdWJ0cmFjdChfIG90aGVyOiBTZWxmKQogICAgZnVuYyBzdWJ0cmFjdGluZyhfIG90aGVyOiBTZWxmKSAtPiBTZWxmCiAgICBmdW5jIHN1YnRyYWN0aW5nKF8gb3RoZXI6IFNlbGYpIC0+IFNlbGYKICAgIGZ1bmMgc3ltbWV0cmljRGlmZmVyZW5jZShfIG90aGVyOiBfX293bmVkIFNlbGYpIC0+IFNlbGYKICAgIGZ1bmMgdW5pb24oXyBvdGhlcjogX19vd25lZCBTZWxmKSAtPiBTZWxmCiAgICBAZGlzY2FyZGFibGVSZXN1bHQgbXV0YXRpbmcgZnVuYyB1cGRhdGUod2l0aCBuZXdNZW1iZXI6IF9fb3duZWQgRWxlbWVudCkgLT4gRWxlbWVudD8KfQpwdWJsaWMgcHJvdG9jb2wgU2lnbmVkSW50ZWdlciA6IEFkZGl0aXZlQXJpdGhtZXRpYywgQmluYXJ5SW50ZWdlciwgQ29tcGFyYWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgRXhwcmVzc2libGVCeUludGVnZXJMaXRlcmFsLCBIYXNoYWJsZSwgTnVtZXJpYywgU2lnbmVkTnVtZXJpYywgU3RyaWRlYWJsZSB7CiAgICBzdGF0aWMgdmFyIG1heDogU2VsZiB7IGdldCB9IHdoZXJlIFNlbGYgOiBGaXhlZFdpZHRoSW50ZWdlcgogICAgc3RhdGljIHZhciBtaW46IFNlbGYgeyBnZXQgfSB3aGVyZSBTZWxmIDogRml4ZWRXaWR0aEludGVnZXIKICAgIGZ1bmMgJisobGhzOiBTZWxmLCByaHM6IFNlbGYpIC0+IFNlbGYgd2hlcmUgU2VsZiA6IEZpeGVkV2lkdGhJbnRlZ2VyCiAgICBmdW5jICYtKGxoczogU2VsZiwgcmhzOiBTZWxmKSAtPiBTZWxmIHdoZXJlIFNlbGYgOiBGaXhlZFdpZHRoSW50ZWdlcgp9CnB1YmxpYyBwcm90b2NvbCBTaWduZWROdW1lcmljIDogQWRkaXRpdmVBcml0aG1ldGljLCBFcXVhdGFibGUsIEV4cHJlc3NpYmxlQnlJbnRlZ2VyTGl0ZXJhbCwgTnVtZXJpYyB7CiAgICBwcmVmaXggZnVuYyAtKG9wZXJhbmQ6IFNlbGYpIC0+IFNlbGYKICAgIHByZWZpeCBmdW5jIC0ob3BlcmFuZDogU2VsZikgLT4gU2VsZgogICAgbXV0YXRpbmcgZnVuYyBuZWdhdGUoKQp9CnB1YmxpYyBwcm90b2NvbCBTaW5nbGVWYWx1ZURlY29kaW5nQ29udGFpbmVyIHsKICAgIHZhciBjb2RpbmdQYXRoOiBbQ29kaW5nS2V5XSB7IGdldCB9CiAgICBmdW5jIGRlY29kZShfIHR5cGU6IEJvb2wuVHlwZSkgdGhyb3dzIC0+IEJvb2wKICAgIGZ1bmMgZGVjb2RlTmlsKCkgLT4gQm9vbAp9CnB1YmxpYyBwcm90b2NvbCBTaW5nbGVWYWx1ZUVuY29kaW5nQ29udGFpbmVyIHsKICAgIHZhciBjb2RpbmdQYXRoOiBbQ29kaW5nS2V5XSB7IGdldCB9CiAgICBtdXRhdGluZyBmdW5jIGVuY29kZShfIHZhbHVlOiBCb29sKSB0aHJvd3MKICAgIG11dGF0aW5nIGZ1bmMgZW5jb2RlTmlsKCkgdGhyb3dzCn0KcHVibGljIHByb3RvY29sIFN0cmlkZWFibGUgOiBDb21wYXJhYmxlLCBFcXVhdGFibGUgewogICAgYXNzb2NpYXRlZHR5cGUgU3RyaWRlCiAgICBmdW5jICsobGhzOiBTZWxmLCByaHM6IFN0cmlkZSkgLT4gU2VsZiB3aGVyZSBTZWxmIDogX1BvaW50ZXIKICAgIGZ1bmMgKz0obGhzOiBpbm91dCBTZWxmLCByaHM6IFN0cmlkZSkgd2hlcmUgU2VsZiA6IF9Qb2ludGVyCiAgICBmdW5jIC0obGhzOiBTZWxmLCByaHM6IFNlbGYpIC0+IFN0cmlkZSB3aGVyZSBTZWxmIDogX1BvaW50ZXIKICAgIGZ1bmMgLT0obGhzOiBpbm91dCBTZWxmLCByaHM6IFN0cmlkZSkgd2hlcmUgU2VsZiA6IF9Qb2ludGVyCiAgICBmdW5jIGFkdmFuY2VkKGJ5IG46IFN0cmlkZSkgLT4gU2VsZgogICAgZnVuYyBkaXN0YW5jZSh0byBvdGhlcjogU2VsZikgLT4gU3RyaWRlCn0KcHVibGljIHByb3RvY29sIFN0cmluZ0ludGVycG9sYXRpb25Qcm90b2NvbCB7CiAgICBhc3NvY2lhdGVkdHlwZSBTdHJpbmdMaXRlcmFsVHlwZQogICAgaW5pdChsaXRlcmFsQ2FwYWNpdHk6IEludCwgaW50ZXJwb2xhdGlvbkNvdW50OiBJbnQpCiAgICBtdXRhdGluZyBmdW5jIGFwcGVuZExpdGVyYWwoXyBsaXRlcmFsOiBTdHJpbmdMaXRlcmFsVHlwZSkKfQpwdWJsaWMgcHJvdG9jb2wgU3RyaW5nUHJvdG9jb2wgOiBCaWRpcmVjdGlvbmFsQ29sbGVjdGlvbiwgQ29sbGVjdGlvbiwgQ29tcGFyYWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgRXhwcmVzc2libGVCeUV4dGVuZGVkR3JhcGhlbWVDbHVzdGVyTGl0ZXJhbCwgRXhwcmVzc2libGVCeVN0cmluZ0ludGVycG9sYXRpb24sIEV4cHJlc3NpYmxlQnlTdHJpbmdMaXRlcmFsLCBFeHByZXNzaWJsZUJ5VW5pY29kZVNjYWxhckxpdGVyYWwsIEhhc2hhYmxlLCBMb3NzbGVzc1N0cmluZ0NvbnZlcnRpYmxlLCBTZXF1ZW5jZSwgVGV4dE91dHB1dFN0cmVhbSwgVGV4dE91dHB1dFN0cmVhbWFibGUgewogICAgYXNzb2NpYXRlZHR5cGUgVVRGMTZWaWV3IHdoZXJlIEluZGV4ID09IFVURjE2Vmlldy5JbmRleCwgVUludDE2ID09IFVURjE2Vmlldy5FbGVtZW50CiAgICBhc3NvY2lhdGVkdHlwZSBVVEY4VmlldyB3aGVyZSBJbmRleCA9PSBVVEY4Vmlldy5JbmRleCwgVUludDggPT0gVVRGOFZpZXcuRWxlbWVudAogICAgYXNzb2NpYXRlZHR5cGUgVW5pY29kZVNjYWxhclZpZXcgd2hlcmUgSW5kZXggPT0gVW5pY29kZVNjYWxhclZpZXcuSW5kZXgsIFVuaWNvZGUuU2NhbGFyID09IFVuaWNvZGVTY2FsYXJWaWV3LkVsZW1lbnQKICAgIGluaXQoY1N0cmluZyBudWxsVGVybWluYXRlZFVURjg6IFVuc2FmZVBvaW50ZXI8Q0NoYXI+KQogICAgaW5pdDxDLCBFbmNvZGluZz4oZGVjb2RpbmcgY29kZVVuaXRzOiBDLCBhcyBzb3VyY2VFbmNvZGluZzogRW5jb2RpbmcuVHlwZSkgd2hlcmUgQyA6IENvbGxlY3Rpb24sIEVuY29kaW5nIDogVW5pY29kZS5FbmNvZGluZywgQy5JdGVyYXRvci5FbGVtZW50ID09IEVuY29kaW5nLkNvZGVVbml0CiAgICBpbml0PEVuY29kaW5nPihkZWNvZGluZ0NTdHJpbmcgbnVsbFRlcm1pbmF0ZWRDb2RlVW5pdHM6IFVuc2FmZVBvaW50ZXI8RW5jb2RpbmcuQ29kZVVuaXQ+LCBhcyBzb3VyY2VFbmNvZGluZzogRW5jb2RpbmcuVHlwZSkgd2hlcmUgRW5jb2RpbmcgOiBVbmljb2RlLkVuY29kaW5nCiAgICB2YXIgdW5pY29kZVNjYWxhcnM6IFVuaWNvZGVTY2FsYXJWaWV3IHsgZ2V0IH0KICAgIHZhciB1dGYxNjogVVRGMTZWaWV3IHsgZ2V0IH0KICAgIHZhciB1dGY4OiBVVEY4VmlldyB7IGdldCB9CiAgICBmdW5jIGhhc1ByZWZpeDxQcmVmaXg+KF8gcHJlZml4OiBQcmVmaXgpIC0+IEJvb2wgd2hlcmUgUHJlZml4IDogU3RyaW5nUHJvdG9jb2wKICAgIGZ1bmMgaGFzU3VmZml4PFN1ZmZpeD4oXyBzdWZmaXg6IFN1ZmZpeCkgLT4gQm9vbCB3aGVyZSBTdWZmaXggOiBTdHJpbmdQcm90b2NvbAogICAgZnVuYyBsb3dlcmNhc2VkKCkgLT4gU3RyaW5nCiAgICBmdW5jIHVwcGVyY2FzZWQoKSAtPiBTdHJpbmcKICAgIGZ1bmMgd2l0aENTdHJpbmc8UmVzdWx0PihfIGJvZHk6IChVbnNhZmVQb2ludGVyPENDaGFyPikgdGhyb3dzIC0+IFJlc3VsdCkgcmV0aHJvd3MgLT4gUmVzdWx0CiAgICBmdW5jIHdpdGhDU3RyaW5nPFJlc3VsdCwgRW5jb2Rpbmc+KGVuY29kZWRBcyB0YXJnZXRFbmNvZGluZzogRW5jb2RpbmcuVHlwZSwgXyBib2R5OiAoVW5zYWZlUG9pbnRlcjxFbmNvZGluZy5Db2RlVW5pdD4pIHRocm93cyAtPiBSZXN1bHQpIHJldGhyb3dzIC0+IFJlc3VsdCB3aGVyZSBFbmNvZGluZyA6IFVuaWNvZGUuRW5jb2RpbmcKfQpwdWJsaWMgcHJvdG9jb2wgVGV4dE91dHB1dFN0cmVhbSB7CiAgICBtdXRhdGluZyBmdW5jIHdyaXRlKF8gc3RyaW5nOiBTdHJpbmcpCn0KcHVibGljIHByb3RvY29sIFRleHRPdXRwdXRTdHJlYW1hYmxlIHsKICAgIGZ1bmMgd3JpdGU8VGFyZ2V0Pih0byB0YXJnZXQ6IGlub3V0IFRhcmdldCkgd2hlcmUgVGFyZ2V0IDogVGV4dE91dHB1dFN0cmVhbQp9CnB1YmxpYyBwcm90b2NvbCBVbmljb2RlQ29kZWMgOiBVbmljb2RlLkVuY29kaW5nIHsKICAgIHN0YXRpYyBmdW5jIGVuY29kZShfIGlucHV0OiBVbmljb2RlLlNjYWxhciwgaW50byBwcm9jZXNzQ29kZVVuaXQ6IChDb2RlVW5pdCkgLT4gVm9pZCkKICAgIGluaXQoKQogICAgbXV0YXRpbmcgZnVuYyBkZWNvZGU8ST4oXyBpbnB1dDogaW5vdXQgSSkgLT4gVW5pY29kZURlY29kaW5nUmVzdWx0IHdoZXJlIEkgOiBJdGVyYXRvclByb3RvY29sLCBDb2RlVW5pdCA9PSBJLkVsZW1lbnQKfQpwdWJsaWMgcHJvdG9jb2wgVW5rZXllZERlY29kaW5nQ29udGFpbmVyIHsKICAgIHZhciBjb2RpbmdQYXRoOiBbQ29kaW5nS2V5XSB7IGdldCB9CiAgICB2YXIgY291bnQ6IEludD8geyBnZXQgfQogICAgdmFyIGN1cnJlbnRJbmRleDogSW50IHsgZ2V0IH0KICAgIHZhciBpc0F0RW5kOiBCb29sIHsgZ2V0IH0KICAgIG11dGF0aW5nIGZ1bmMgZGVjb2RlKF8gdHlwZTogQm9vbC5UeXBlKSB0aHJvd3MgLT4gQm9vbAogICAgbXV0YXRpbmcgZnVuYyBkZWNvZGVJZlByZXNlbnQoXyB0eXBlOiBCb29sLlR5cGUpIHRocm93cyAtPiBCb29sPwogICAgbXV0YXRpbmcgZnVuYyBkZWNvZGVOaWwoKSB0aHJvd3MgLT4gQm9vbAogICAgbXV0YXRpbmcgZnVuYyBuZXN0ZWRDb250YWluZXI8TmVzdGVkS2V5PihrZXllZEJ5IHR5cGU6IE5lc3RlZEtleS5UeXBlKSB0aHJvd3MgLT4gS2V5ZWREZWNvZGluZ0NvbnRhaW5lcjxOZXN0ZWRLZXk+CiAgICBtdXRhdGluZyBmdW5jIG5lc3RlZFVua2V5ZWRDb250YWluZXIoKSB0aHJvd3MgLT4gVW5rZXllZERlY29kaW5nQ29udGFpbmVyCiAgICBtdXRhdGluZyBmdW5jIHN1cGVyRGVjb2RlcigpIHRocm93cyAtPiBEZWNvZGVyCn0KcHVibGljIHByb3RvY29sIFVua2V5ZWRFbmNvZGluZ0NvbnRhaW5lciB7CiAgICB2YXIgY29kaW5nUGF0aDogW0NvZGluZ0tleV0geyBnZXQgfQogICAgdmFyIGNvdW50OiBJbnQgeyBnZXQgfQogICAgbXV0YXRpbmcgZnVuYyBlbmNvZGUoXyB2YWx1ZTogQm9vbCkgdGhyb3dzCiAgICBtdXRhdGluZyBmdW5jIGVuY29kZTxUPihjb250ZW50c09mIHNlcXVlbmNlOiBUKSB0aHJvd3Mgd2hlcmUgVCA6IFNlcXVlbmNlLCBCb29sID09IFQuRWxlbWVudAogICAgbXV0YXRpbmcgZnVuYyBlbmNvZGVDb25kaXRpb25hbDxUPihfIG9iamVjdDogVCkgdGhyb3dzIHdoZXJlIFQgOiBBbnlPYmplY3QgJiBFbmNvZGFibGUKICAgIG11dGF0aW5nIGZ1bmMgZW5jb2RlTmlsKCkgdGhyb3dzCiAgICBtdXRhdGluZyBmdW5jIG5lc3RlZENvbnRhaW5lcjxOZXN0ZWRLZXk+KGtleWVkQnkga2V5VHlwZTogTmVzdGVkS2V5LlR5cGUpIC0+IEtleWVkRW5jb2RpbmdDb250YWluZXI8TmVzdGVkS2V5PgogICAgbXV0YXRpbmcgZnVuYyBuZXN0ZWRVbmtleWVkQ29udGFpbmVyKCkgLT4gVW5rZXllZEVuY29kaW5nQ29udGFpbmVyCiAgICBtdXRhdGluZyBmdW5jIHN1cGVyRW5jb2RlcigpIC0+IEVuY29kZXIKfQpwdWJsaWMgcHJvdG9jb2wgVW5zaWduZWRJbnRlZ2VyIDogQWRkaXRpdmVBcml0aG1ldGljLCBCaW5hcnlJbnRlZ2VyLCBDb21wYXJhYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBFeHByZXNzaWJsZUJ5SW50ZWdlckxpdGVyYWwsIEhhc2hhYmxlLCBOdW1lcmljLCBTdHJpZGVhYmxlIHsKICAgIHN0YXRpYyB2YXIgbWF4OiBTZWxmIHsgZ2V0IH0gd2hlcmUgU2VsZiA6IEZpeGVkV2lkdGhJbnRlZ2VyCiAgICBzdGF0aWMgdmFyIG1pbjogU2VsZiB7IGdldCB9IHdoZXJlIFNlbGYgOiBGaXhlZFdpZHRoSW50ZWdlcgp9CmV4dGVuc2lvbiBBbnlCaWRpcmVjdGlvbmFsQ29sbGVjdGlvbiB7CiAgICBwdWJsaWMgaW5pdChfIG90aGVyOiBBbnlCaWRpcmVjdGlvbmFsQ29sbGVjdGlvbjxFbGVtZW50Pikge30KICAgIHB1YmxpYyBpbml0PEM+KF8gYmFzZTogQykgd2hlcmUgQyA6IEJpZGlyZWN0aW9uYWxDb2xsZWN0aW9uLCBDLkVsZW1lbnQgPT0gRWxlbWVudCB7fQogICAgcHVibGljIGluaXQ/KF8gb3RoZXI6IEFueUNvbGxlY3Rpb248RWxlbWVudD4pIHt9Cn0KZXh0ZW5zaW9uIEFueUNvbGxlY3Rpb24gewogICAgcHVibGljIGluaXQoXyBvdGhlcjogQW55QmlkaXJlY3Rpb25hbENvbGxlY3Rpb248RWxlbWVudD4pIHt9CiAgICBwdWJsaWMgaW5pdDxDPihfIGJhc2U6IEMpIHdoZXJlIEMgOiBCaWRpcmVjdGlvbmFsQ29sbGVjdGlvbiwgQy5FbGVtZW50ID09IEVsZW1lbnQge30KfQpleHRlbnNpb24gQW55SXRlcmF0b3Igewp9CmV4dGVuc2lvbiBBbnlSYW5kb21BY2Nlc3NDb2xsZWN0aW9uIHsKICAgIHB1YmxpYyBpbml0KF8gb3RoZXI6IEFueVJhbmRvbUFjY2Vzc0NvbGxlY3Rpb248RWxlbWVudD4pIHt9CiAgICBwdWJsaWMgaW5pdDxDPihfIGJhc2U6IEMpIHdoZXJlIEMgOiBSYW5kb21BY2Nlc3NDb2xsZWN0aW9uLCBDLkVsZW1lbnQgPT0gRWxlbWVudCB7fQogICAgcHVibGljIGluaXQ/KF8gb3RoZXI6IEFueUJpZGlyZWN0aW9uYWxDb2xsZWN0aW9uPEVsZW1lbnQ+KSB7fQp9CmV4dGVuc2lvbiBBbnlTZXF1ZW5jZSB7CiAgICBwdWJsaWMgaW5pdDxTPihfIGJhc2U6IFMpIHdoZXJlIFMgOiBTZXF1ZW5jZSwgRWxlbWVudCA9PSBTLkVsZW1lbnQge30KfQpleHRlbnNpb24gQXJyYXkgewogICAgcHVibGljIHZhciBjYXBhY2l0eTogSW50IHsgZ2V0IH0KICAgIHB1YmxpYyBzdWJzY3JpcHQoaW5kZXg6IEludCkgLT4gRWxlbWVudCB7IGdldCBzZXQgfSB7fQogICAgcHVibGljIGZ1bmMgd2l0aFVuc2FmZUJ1ZmZlclBvaW50ZXI8Uj4oXyBib2R5OiAoVW5zYWZlQnVmZmVyUG9pbnRlcjxFbGVtZW50PikgdGhyb3dzIC0+IFIpIHJldGhyb3dzIC0+IFIge30KICAgIHB1YmxpYyBmdW5jIHdpdGhVbnNhZmVCeXRlczxSPihfIGJvZHk6IChVbnNhZmVSYXdCdWZmZXJQb2ludGVyKSB0aHJvd3MgLT4gUikgcmV0aHJvd3MgLT4gUiB7fQogICAgcHVibGljIG11dGF0aW5nIGZ1bmMgd2l0aFVuc2FmZU11dGFibGVCdWZmZXJQb2ludGVyPFI+KF8gYm9keTogKGlub3V0IFVuc2FmZU11dGFibGVCdWZmZXJQb2ludGVyPEVsZW1lbnQ+KSB0aHJvd3MgLT4gUikgcmV0aHJvd3MgLT4gUiB7fQogICAgcHVibGljIG11dGF0aW5nIGZ1bmMgd2l0aFVuc2FmZU11dGFibGVCeXRlczxSPihfIGJvZHk6IChVbnNhZmVNdXRhYmxlUmF3QnVmZmVyUG9pbnRlcikgdGhyb3dzIC0+IFIpIHJldGhyb3dzIC0+IFIge30KfQpleHRlbnNpb24gQXJyYXlTbGljZSB7CiAgICBwdWJsaWMgdmFyIGNhcGFjaXR5OiBJbnQgeyBnZXQgfQogICAgcHVibGljIHN1YnNjcmlwdChpbmRleDogSW50KSAtPiBFbGVtZW50IHsgZ2V0IHNldCB9IHt9CiAgICBwdWJsaWMgZnVuYyB3aXRoVW5zYWZlQnVmZmVyUG9pbnRlcjxSPihfIGJvZHk6IChVbnNhZmVCdWZmZXJQb2ludGVyPEVsZW1lbnQ+KSB0aHJvd3MgLT4gUikgcmV0aHJvd3MgLT4gUiB7fQogICAgcHVibGljIGZ1bmMgd2l0aFVuc2FmZUJ5dGVzPFI+KF8gYm9keTogKFVuc2FmZVJhd0J1ZmZlclBvaW50ZXIpIHRocm93cyAtPiBSKSByZXRocm93cyAtPiBSIHt9CiAgICBwdWJsaWMgbXV0YXRpbmcgZnVuYyB3aXRoVW5zYWZlTXV0YWJsZUJ1ZmZlclBvaW50ZXI8Uj4oXyBib2R5OiAoaW5vdXQgVW5zYWZlTXV0YWJsZUJ1ZmZlclBvaW50ZXI8RWxlbWVudD4pIHRocm93cyAtPiBSKSByZXRocm93cyAtPiBSIHt9CiAgICBwdWJsaWMgbXV0YXRpbmcgZnVuYyB3aXRoVW5zYWZlTXV0YWJsZUJ5dGVzPFI+KF8gYm9keTogKFVuc2FmZU11dGFibGVSYXdCdWZmZXJQb2ludGVyKSB0aHJvd3MgLT4gUikgcmV0aHJvd3MgLT4gUiB7fQp9CmV4dGVuc2lvbiBBdXRvcmVsZWFzaW5nVW5zYWZlTXV0YWJsZVBvaW50ZXIgewp9CmV4dGVuc2lvbiBDbG9zZWRSYW5nZSB7CiAgICBwdWJsaWMgaW5pdChfIG90aGVyOiBSYW5nZTxCb3VuZD4pIHdoZXJlIEJvdW5kIDogU3RyaWRlYWJsZSwgQm91bmQuU3RyaWRlIDogU2lnbmVkSW50ZWdlciB7fQogICAgcHVibGljIGZ1bmMgY2xhbXBlZCh0byBsaW1pdHM6IENsb3NlZFJhbmdlKSAtPiBDbG9zZWRSYW5nZSB7fQogICAgcHVibGljIGZ1bmMgb3ZlcmxhcHMoXyBvdGhlcjogQ2xvc2VkUmFuZ2U8Qm91bmQ+KSAtPiBCb29sIHt9Cn0KZXh0ZW5zaW9uIENsb3NlZFJhbmdlLkluZGV4IHsKfQpleHRlbnNpb24gQ29sbGVjdGlvbk9mT25lIHsKfQpleHRlbnNpb24gQ29sbGVjdGlvbk9mT25lLkl0ZXJhdG9yIHsKfQpleHRlbnNpb24gQ29udGlndW91c0FycmF5IHsKICAgIHB1YmxpYyB2YXIgY2FwYWNpdHk6IEludCB7IGdldCB9CiAgICBwdWJsaWMgc3Vic2NyaXB0KGluZGV4OiBJbnQpIC0+IEVsZW1lbnQgeyBnZXQgc2V0IH0ge30KICAgIHB1YmxpYyBmdW5jIHdpdGhVbnNhZmVCdWZmZXJQb2ludGVyPFI+KF8gYm9keTogKFVuc2FmZUJ1ZmZlclBvaW50ZXI8RWxlbWVudD4pIHRocm93cyAtPiBSKSByZXRocm93cyAtPiBSIHt9CiAgICBwdWJsaWMgZnVuYyB3aXRoVW5zYWZlQnl0ZXM8Uj4oXyBib2R5OiAoVW5zYWZlUmF3QnVmZmVyUG9pbnRlcikgdGhyb3dzIC0+IFIpIHJldGhyb3dzIC0+IFIge30KICAgIHB1YmxpYyBtdXRhdGluZyBmdW5jIHdpdGhVbnNhZmVNdXRhYmxlQnVmZmVyUG9pbnRlcjxSPihfIGJvZHk6IChpbm91dCBVbnNhZmVNdXRhYmxlQnVmZmVyUG9pbnRlcjxFbGVtZW50PikgdGhyb3dzIC0+IFIpIHJldGhyb3dzIC0+IFIge30KICAgIHB1YmxpYyBtdXRhdGluZyBmdW5jIHdpdGhVbnNhZmVNdXRhYmxlQnl0ZXM8Uj4oXyBib2R5OiAoVW5zYWZlTXV0YWJsZVJhd0J1ZmZlclBvaW50ZXIpIHRocm93cyAtPiBSKSByZXRocm93cyAtPiBSIHt9Cn0KZXh0ZW5zaW9uIERlZmF1bHRJbmRpY2VzIHsKICAgIHB1YmxpYyBzdWJzY3JpcHQoaTogSW5kZXgpIC0+IEVsZW1lbnRzLkluZGV4IHsgZ2V0IH0ge30KfQpleHRlbnNpb24gRGljdGlvbmFyeSB7CiAgICBwdWJsaWMgdmFyIGNhcGFjaXR5OiBJbnQgeyBnZXQgfQogICAgQGF2YWlsYWJsZShzd2lmdCwgaW50cm9kdWNlZDogNC4wKSBwdWJsaWMgdmFyIGtleXM6IEtleXMgeyBnZXQgfQogICAgQGF2YWlsYWJsZShzd2lmdCwgaW50cm9kdWNlZDogNC4wKSBwdWJsaWMgdmFyIHZhbHVlczogVmFsdWVzIHsgZ2V0IHNldCB9CiAgICBwdWJsaWMgc3Vic2NyaXB0KGtleTogS2V5KSAtPiBWYWx1ZT8geyBnZXQgc2V0IH0ge30KICAgIHB1YmxpYyBzdWJzY3JpcHQoa2V5OiBLZXksIGRlZmF1bHQgZGVmYXVsdFZhbHVlOiBAYXV0b2Nsb3N1cmUgKCkgLT4gVmFsdWUpIC0+IFZhbHVlIHsgZ2V0IHNldCB9IHt9CiAgICBwdWJsaWMgZnVuYyBjb21wYWN0TWFwVmFsdWVzPFQ+KF8gdHJhbnNmb3JtOiAoVmFsdWUpIHRocm93cyAtPiBUPykgcmV0aHJvd3MgLT4gW0tleTogVF0ge30KICAgIHB1YmxpYyBmdW5jIGluZGV4KGZvcktleSBrZXk6IEtleSkgLT4gSW5kZXg/IHt9CiAgICBwdWJsaWMgZnVuYyBtYXBWYWx1ZXM8VD4oXyB0cmFuc2Zvcm06IChWYWx1ZSkgdGhyb3dzIC0+IFQpIHJldGhyb3dzIC0+IFtLZXk6IFRdIHt9CiAgICBwdWJsaWMgbXV0YXRpbmcgZnVuYyBtZXJnZShfIG90aGVyOiBfX293bmVkIFtLZXk6IFZhbHVlXSwgdW5pcXVpbmdLZXlzV2l0aCBjb21iaW5lOiAoVmFsdWUsIFZhbHVlKSB0aHJvd3MgLT4gVmFsdWUpIHJldGhyb3dzIHt9CiAgICBwdWJsaWMgbXV0YXRpbmcgZnVuYyBtZXJnZTxTPihfIG90aGVyOiBfX293bmVkIFMsIHVuaXF1aW5nS2V5c1dpdGggY29tYmluZTogKFZhbHVlLCBWYWx1ZSkgdGhyb3dzIC0+IFZhbHVlKSByZXRocm93cyB3aGVyZSBTIDogU2VxdWVuY2UsIChLZXksIFZhbHVlKSA9PSBTLkVsZW1lbnQge30KICAgIHB1YmxpYyBmdW5jIG1lcmdpbmcoXyBvdGhlcjogX19vd25lZCBbS2V5OiBWYWx1ZV0sIHVuaXF1aW5nS2V5c1dpdGggY29tYmluZTogKFZhbHVlLCBWYWx1ZSkgdGhyb3dzIC0+IFZhbHVlKSByZXRocm93cyAtPiBbS2V5OiBWYWx1ZV0ge30KICAgIHB1YmxpYyBmdW5jIG1lcmdpbmc8Uz4oXyBvdGhlcjogX19vd25lZCBTLCB1bmlxdWluZ0tleXNXaXRoIGNvbWJpbmU6IChWYWx1ZSwgVmFsdWUpIHRocm93cyAtPiBWYWx1ZSkgcmV0aHJvd3MgLT4gW0tleTogVmFsdWVdIHdoZXJlIFMgOiBTZXF1ZW5jZSwgKEtleSwgVmFsdWUpID09IFMuRWxlbWVudCB7fQogICAgQGRpc2NhcmRhYmxlUmVzdWx0IHB1YmxpYyBtdXRhdGluZyBmdW5jIHJlbW92ZShhdCBpbmRleDogSW5kZXgpIC0+IEVsZW1lbnQge30KICAgIHB1YmxpYyBtdXRhdGluZyBmdW5jIHJlbW92ZUFsbChrZWVwaW5nQ2FwYWNpdHkga2VlcENhcGFjaXR5OiBCb29sID0geCkge30KICAgIEBkaXNjYXJkYWJsZVJlc3VsdCBwdWJsaWMgbXV0YXRpbmcgZnVuYyByZW1vdmVWYWx1ZShmb3JLZXkga2V5OiBLZXkpIC0+IFZhbHVlPyB7fQogICAgcHVibGljIG11dGF0aW5nIGZ1bmMgcmVzZXJ2ZUNhcGFjaXR5KF8gbWluaW11bUNhcGFjaXR5OiBJbnQpIHt9CiAgICBAZGlzY2FyZGFibGVSZXN1bHQgcHVibGljIG11dGF0aW5nIGZ1bmMgdXBkYXRlVmFsdWUoXyB2YWx1ZTogX19vd25lZCBWYWx1ZSwgZm9yS2V5IGtleTogS2V5KSAtPiBWYWx1ZT8ge30KfQpleHRlbnNpb24gRGljdGlvbmFyeS5JbmRleCB7Cn0KZXh0ZW5zaW9uIERpY3Rpb25hcnkuSXRlcmF0b3Igewp9CmV4dGVuc2lvbiBEaWN0aW9uYXJ5LktleXMgewogICAgcHVibGljIGZ1bmMgbWFrZUl0ZXJhdG9yKCkgLT4gSXRlcmF0b3Ige30KfQpleHRlbnNpb24gRGljdGlvbmFyeS5WYWx1ZXMgewogICAgcHVibGljIGZ1bmMgbWFrZUl0ZXJhdG9yKCkgLT4gSXRlcmF0b3Ige30KfQpleHRlbnNpb24gRGljdGlvbmFyeS5fVmFyaWFudCB7Cn0KZXh0ZW5zaW9uIERyb3BGaXJzdFNlcXVlbmNlIHsKfQpleHRlbnNpb24gRHJvcFdoaWxlU2VxdWVuY2Ugewp9CmV4dGVuc2lvbiBEcm9wV2hpbGVTZXF1ZW5jZS5JdGVyYXRvciB7Cn0KZXh0ZW5zaW9uIEVtcHR5Q29sbGVjdGlvbiB7Cn0KZXh0ZW5zaW9uIEVtcHR5Q29sbGVjdGlvbi5JdGVyYXRvciB7Cn0KZXh0ZW5zaW9uIEVudW1lcmF0ZWRTZXF1ZW5jZSB7Cn0KZXh0ZW5zaW9uIEVudW1lcmF0ZWRTZXF1ZW5jZS5JdGVyYXRvciB7Cn0KZXh0ZW5zaW9uIEZsYXR0ZW5Db2xsZWN0aW9uIHsKfQpleHRlbnNpb24gRmxhdHRlblNlcXVlbmNlIHsKfQpleHRlbnNpb24gRmxhdHRlblNlcXVlbmNlLkluZGV4IHsKfQpleHRlbnNpb24gRmxhdHRlblNlcXVlbmNlLkl0ZXJhdG9yIHsKfQpleHRlbnNpb24gSW5kZXhpbmdJdGVyYXRvciB7Cn0KZXh0ZW5zaW9uIEl0ZXJhdG9yU2VxdWVuY2Ugewp9CmV4dGVuc2lvbiBKb2luZWRTZXF1ZW5jZSB7Cn0KZXh0ZW5zaW9uIEpvaW5lZFNlcXVlbmNlLkl0ZXJhdG9yIHsKfQpleHRlbnNpb24gS2V5VmFsdWVQYWlycyB7Cn0KZXh0ZW5zaW9uIExhenlDb2xsZWN0aW9uIHsKfQpleHRlbnNpb24gTGF6eURyb3BXaGlsZUNvbGxlY3Rpb24gewp9CmV4dGVuc2lvbiBMYXp5RHJvcFdoaWxlU2VxdWVuY2Ugewp9CmV4dGVuc2lvbiBMYXp5RHJvcFdoaWxlU2VxdWVuY2UuSXRlcmF0b3Igewp9CmV4dGVuc2lvbiBMYXp5RmlsdGVyQ29sbGVjdGlvbiB7Cn0KZXh0ZW5zaW9uIExhenlGaWx0ZXJTZXF1ZW5jZSB7Cn0KZXh0ZW5zaW9uIExhenlGaWx0ZXJTZXF1ZW5jZS5JdGVyYXRvciB7Cn0KZXh0ZW5zaW9uIExhenlNYXBDb2xsZWN0aW9uIHsKfQpleHRlbnNpb24gTGF6eU1hcFNlcXVlbmNlIHsKfQpleHRlbnNpb24gTGF6eU1hcFNlcXVlbmNlLkl0ZXJhdG9yIHsKfQpleHRlbnNpb24gTGF6eVByZWZpeFdoaWxlQ29sbGVjdGlvbiB7Cn0KZXh0ZW5zaW9uIExhenlQcmVmaXhXaGlsZVNlcXVlbmNlIHsKfQpleHRlbnNpb24gTGF6eVByZWZpeFdoaWxlU2VxdWVuY2UuSW5kZXggewp9CmV4dGVuc2lvbiBMYXp5UHJlZml4V2hpbGVTZXF1ZW5jZS5JdGVyYXRvciB7Cn0KZXh0ZW5zaW9uIExhenlTZXF1ZW5jZSB7Cn0KZXh0ZW5zaW9uIE1hbmFnZWRCdWZmZXIgewogICAgcHVibGljIGNsYXNzIGZ1bmMgY3JlYXRlKG1pbmltdW1DYXBhY2l0eTogSW50LCBtYWtpbmdIZWFkZXJXaXRoIGZhY3Rvcnk6IChNYW5hZ2VkQnVmZmVyPEhlYWRlciwgRWxlbWVudD4pIHRocm93cyAtPiBIZWFkZXIpIHJldGhyb3dzIC0+IE1hbmFnZWRCdWZmZXI8SGVhZGVyLCBFbGVtZW50PiB7fQogICAgcHVibGljIHZhciBjYXBhY2l0eTogSW50IHsgZ2V0IH0KICAgIHB1YmxpYyBmdW5jIHdpdGhVbnNhZmVNdXRhYmxlUG9pbnRlclRvRWxlbWVudHM8Uj4oXyBib2R5OiAoVW5zYWZlTXV0YWJsZVBvaW50ZXI8RWxlbWVudD4pIHRocm93cyAtPiBSKSByZXRocm93cyAtPiBSIHt9CiAgICBwdWJsaWMgZnVuYyB3aXRoVW5zYWZlTXV0YWJsZVBvaW50ZXJUb0hlYWRlcjxSPihfIGJvZHk6IChVbnNhZmVNdXRhYmxlUG9pbnRlcjxIZWFkZXI+KSB0aHJvd3MgLT4gUikgcmV0aHJvd3MgLT4gUiB7fQogICAgcHVibGljIGZ1bmMgd2l0aFVuc2FmZU11dGFibGVQb2ludGVyczxSPihfIGJvZHk6IChVbnNhZmVNdXRhYmxlUG9pbnRlcjxIZWFkZXI+LCBVbnNhZmVNdXRhYmxlUG9pbnRlcjxFbGVtZW50PikgdGhyb3dzIC0+IFIpIHJldGhyb3dzIC0+IFIge30KfQpleHRlbnNpb24gTWFuYWdlZEJ1ZmZlclBvaW50ZXIgewogICAgcHVibGljIHZhciBidWZmZXI6IEFueU9iamVjdCB7IGdldCB9CiAgICBwdWJsaWMgdmFyIGNhcGFjaXR5OiBJbnQgeyBnZXQgfQogICAgcHVibGljIHZhciBoZWFkZXI6IEhlYWRlciB7IGdldCBzZXQgfQogICAgcHVibGljIG11dGF0aW5nIGZ1bmMgaXNVbmlxdWVSZWZlcmVuY2UoKSAtPiBCb29sIHt9CiAgICBwdWJsaWMgZnVuYyB3aXRoVW5zYWZlTXV0YWJsZVBvaW50ZXJUb0VsZW1lbnRzPFI+KF8gYm9keTogKFVuc2FmZU11dGFibGVQb2ludGVyPEVsZW1lbnQ+KSB0aHJvd3MgLT4gUikgcmV0aHJvd3MgLT4gUiB7fQogICAgcHVibGljIGZ1bmMgd2l0aFVuc2FmZU11dGFibGVQb2ludGVyVG9IZWFkZXI8Uj4oXyBib2R5OiAoVW5zYWZlTXV0YWJsZVBvaW50ZXI8SGVhZGVyPikgdGhyb3dzIC0+IFIpIHJldGhyb3dzIC0+IFIge30KICAgIHB1YmxpYyBmdW5jIHdpdGhVbnNhZmVNdXRhYmxlUG9pbnRlcnM8Uj4oXyBib2R5OiAoVW5zYWZlTXV0YWJsZVBvaW50ZXI8SGVhZGVyPiwgVW5zYWZlTXV0YWJsZVBvaW50ZXI8RWxlbWVudD4pIHRocm93cyAtPiBSKSByZXRocm93cyAtPiBSIHt9Cn0KZXh0ZW5zaW9uIE1lbW9yeUxheW91dCB7CiAgICBwdWJsaWMgc3RhdGljIGZ1bmMgYWxpZ25tZW50KG9mVmFsdWUgdmFsdWU6IFQpIC0+IEludCB7fQogICAgcHVibGljIHN0YXRpYyBmdW5jIG9mZnNldChvZiBrZXk6IFBhcnRpYWxLZXlQYXRoPFQ+KSAtPiBJbnQ/IHt9CiAgICBwdWJsaWMgc3RhdGljIGZ1bmMgc2l6ZShvZlZhbHVlIHZhbHVlOiBUKSAtPiBJbnQge30KICAgIHB1YmxpYyBzdGF0aWMgZnVuYyBzdHJpZGUob2ZWYWx1ZSB2YWx1ZTogVCkgLT4gSW50IHt9Cn0KZXh0ZW5zaW9uIE9wdGlvbmFsIHsKICAgIHB1YmxpYyBmdW5jIH49KGxoczogX09wdGlvbmFsTmlsQ29tcGFyaXNvblR5cGUsIHJoczogV3JhcHBlZD8pIC0+IEJvb2wge30KfQpleHRlbnNpb24gUGFydGlhbFJhbmdlRnJvbSB7Cn0KZXh0ZW5zaW9uIFBhcnRpYWxSYW5nZVRocm91Z2ggewp9CmV4dGVuc2lvbiBQYXJ0aWFsUmFuZ2VVcFRvIHsKfQpleHRlbnNpb24gUHJlZml4U2VxdWVuY2Ugewp9CmV4dGVuc2lvbiBQcmVmaXhTZXF1ZW5jZS5JdGVyYXRvciB7Cn0KZXh0ZW5zaW9uIFJhbmdlIHsKICAgIHB1YmxpYyBpbml0KF8gb3RoZXI6IENsb3NlZFJhbmdlPEJvdW5kPikgd2hlcmUgQm91bmQgOiBTdHJpZGVhYmxlLCBCb3VuZC5TdHJpZGUgOiBTaWduZWRJbnRlZ2VyIHt9CiAgICBwdWJsaWMgZnVuYyBjbGFtcGVkKHRvIGxpbWl0czogUmFuZ2UpIC0+IFJhbmdlIHt9CiAgICBwdWJsaWMgZnVuYyBvdmVybGFwcyhfIG90aGVyOiBSYW5nZTxCb3VuZD4pIC0+IEJvb2wge30KfQpleHRlbnNpb24gUmVwZWF0ZWQgewp9CmV4dGVuc2lvbiBSZXN1bHQgewogICAgcHVibGljIGluaXQoY2F0Y2hpbmcgYm9keTogKCkgdGhyb3dzIC0+IFN1Y2Nlc3MpIHdoZXJlIEZhaWx1cmUgPT0gU3dpZnQuRXJyb3Ige30KfQpleHRlbnNpb24gUmV2ZXJzZWRDb2xsZWN0aW9uIHsKfQpleHRlbnNpb24gUmV2ZXJzZWRDb2xsZWN0aW9uLkluZGV4IHsKfQpleHRlbnNpb24gUmV2ZXJzZWRDb2xsZWN0aW9uLkl0ZXJhdG9yIHsKfQpleHRlbnNpb24gU0lNRDE2IHsKfQpleHRlbnNpb24gU0lNRDIgewp9CmV4dGVuc2lvbiBTSU1EMyB7Cn0KZXh0ZW5zaW9uIFNJTUQzMiB7Cn0KZXh0ZW5zaW9uIFNJTUQ0IHsKfQpleHRlbnNpb24gU0lNRDY0IHsKfQpleHRlbnNpb24gU0lNRDggewp9CmV4dGVuc2lvbiBTZXQgewogICAgcHVibGljIHZhciBjYXBhY2l0eTogSW50IHsgZ2V0IH0KICAgIEBkaXNjYXJkYWJsZVJlc3VsdCBwdWJsaWMgbXV0YXRpbmcgZnVuYyByZW1vdmUoYXQgcG9zaXRpb246IEluZGV4KSAtPiBFbGVtZW50IHt9CiAgICBwdWJsaWMgbXV0YXRpbmcgZnVuYyByZW1vdmVBbGwoa2VlcGluZ0NhcGFjaXR5IGtlZXBDYXBhY2l0eTogQm9vbCA9IHgpIHt9CiAgICBwdWJsaWMgbXV0YXRpbmcgZnVuYyByZXNlcnZlQ2FwYWNpdHkoXyBtaW5pbXVtQ2FwYWNpdHk6IEludCkge30KfQpleHRlbnNpb24gU2V0LkluZGV4IHsKfQpleHRlbnNpb24gU2V0Lkl0ZXJhdG9yIHsKfQpleHRlbnNpb24gU2V0Ll9WYXJpYW50IHsKfQpleHRlbnNpb24gU2xpY2UgewogICAgcHVibGljIHN1YnNjcmlwdChpbmRleDogSW5kZXgpIC0+IEJhc2UuRWxlbWVudCB7IGdldCBzZXQgfSB3aGVyZSBCYXNlIDogTXV0YWJsZUNvbGxlY3Rpb24ge30KfQpleHRlbnNpb24gU3RyaWRlVGhyb3VnaCB7Cn0KZXh0ZW5zaW9uIFN0cmlkZVRocm91Z2hJdGVyYXRvciB7Cn0KZXh0ZW5zaW9uIFN0cmlkZVRvIHsKfQpleHRlbnNpb24gU3RyaWRlVG9JdGVyYXRvciB7Cn0KZXh0ZW5zaW9uIFN0cmluZy5VVEYxNlZpZXcgewp9CmV4dGVuc2lvbiBTdHJpbmcuVVRGOFZpZXcgewp9CmV4dGVuc2lvbiBTdHJpbmcuVVRGOFZpZXcuSW5kZXggewogICAgcHVibGljIGluaXQ/KF8gaWR4OiBTdHJpbmcuSW5kZXgsIHdpdGhpbiB0YXJnZXQ6IFN0cmluZy5VVEY4Vmlldykge30KfQpleHRlbnNpb24gU3RyaW5nLlVuaWNvZGVTY2FsYXJWaWV3IHsKfQpleHRlbnNpb24gVVRGMTYuQ29kZVVuaXQgewp9CmV4dGVuc2lvbiBVVEYxNi5SZXZlcnNlUGFyc2VyIHsKfQpleHRlbnNpb24gVVRGMzIuUGFyc2VyIHsKICAgIHB1YmxpYyBtdXRhdGluZyBmdW5jIHBhcnNlU2NhbGFyPEk+KGZyb20gaW5wdXQ6IGlub3V0IEkpIC0+IFVuaWNvZGUuUGFyc2VSZXN1bHQ8RW5jb2RpbmcuRW5jb2RlZFNjYWxhcj4gd2hlcmUgSSA6IEl0ZXJhdG9yUHJvdG9jb2wsIEVuY29kaW5nLkNvZGVVbml0ID09IEkuRWxlbWVudCB7fQp9CmV4dGVuc2lvbiBVVEY4LkNvZGVVbml0IHsKfQpleHRlbnNpb24gVVRGOC5SZXZlcnNlUGFyc2VyIHsKfQpleHRlbnNpb24gVVRGOFZhbGlkYXRpb25SZXN1bHQgewp9CmV4dGVuc2lvbiBVbmljb2RlLkFTQ0lJLlBhcnNlciB7CiAgICBwdWJsaWMgbXV0YXRpbmcgZnVuYyBwYXJzZVNjYWxhcjxJPihmcm9tIGlucHV0OiBpbm91dCBJKSAtPiBVbmljb2RlLlBhcnNlUmVzdWx0PEVuY29kaW5nLkVuY29kZWRTY2FsYXI+IHdoZXJlIEkgOiBJdGVyYXRvclByb3RvY29sLCBFbmNvZGluZy5Db2RlVW5pdCA9PSBJLkVsZW1lbnQge30KfQpleHRlbnNpb24gVW5pY29kZS5TY2FsYXIgewp9CmV4dGVuc2lvbiBVbmljb2RlLlNjYWxhci5Qcm9wZXJ0aWVzIHsKICAgIHB1YmxpYyB2YXIgYWdlOiBVbmljb2RlLlZlcnNpb24/IHsgZ2V0IH0KICAgIHB1YmxpYyB2YXIgY2Fub25pY2FsQ29tYmluaW5nQ2xhc3M6IFVuaWNvZGUuQ2Fub25pY2FsQ29tYmluaW5nQ2xhc3MgeyBnZXQgfQogICAgcHVibGljIHZhciBjaGFuZ2VzV2hlbkNhc2VGb2xkZWQ6IEJvb2wgeyBnZXQgfQogICAgcHVibGljIHZhciBjaGFuZ2VzV2hlbkNhc2VNYXBwZWQ6IEJvb2wgeyBnZXQgfQogICAgcHVibGljIHZhciBjaGFuZ2VzV2hlbkxvd2VyY2FzZWQ6IEJvb2wgeyBnZXQgfQogICAgcHVibGljIHZhciBjaGFuZ2VzV2hlbk5GS0NDYXNlRm9sZGVkOiBCb29sIHsgZ2V0IH0KICAgIHB1YmxpYyB2YXIgY2hhbmdlc1doZW5UaXRsZWNhc2VkOiBCb29sIHsgZ2V0IH0KICAgIHB1YmxpYyB2YXIgY2hhbmdlc1doZW5VcHBlcmNhc2VkOiBCb29sIHsgZ2V0IH0KICAgIHB1YmxpYyB2YXIgZ2VuZXJhbENhdGVnb3J5OiBVbmljb2RlLkdlbmVyYWxDYXRlZ29yeSB7IGdldCB9CiAgICBwdWJsaWMgdmFyIGlzQVNDSUlIZXhEaWdpdDogQm9vbCB7IGdldCB9CiAgICBwdWJsaWMgdmFyIGlzQWxwaGFiZXRpYzogQm9vbCB7IGdldCB9CiAgICBwdWJsaWMgdmFyIGlzQmlkaUNvbnRyb2w6IEJvb2wgeyBnZXQgfQogICAgcHVibGljIHZhciBpc0JpZGlNaXJyb3JlZDogQm9vbCB7IGdldCB9CiAgICBwdWJsaWMgdmFyIGlzQ2FzZUlnbm9yYWJsZTogQm9vbCB7IGdldCB9CiAgICBwdWJsaWMgdmFyIGlzQ2FzZWQ6IEJvb2wgeyBnZXQgfQogICAgcHVibGljIHZhciBpc0Rhc2g6IEJvb2wgeyBnZXQgfQogICAgcHVibGljIHZhciBpc0RlZmF1bHRJZ25vcmFibGVDb2RlUG9pbnQ6IEJvb2wgeyBnZXQgfQogICAgcHVibGljIHZhciBpc0RlcHJlY2F0ZWQ6IEJvb2wgeyBnZXQgfQogICAgcHVibGljIHZhciBpc0RpYWNyaXRpYzogQm9vbCB7IGdldCB9CiNpZiBvcyhtYWNPUykgfHwgb3MoaU9TKSB8fCBvcyh3YXRjaE9TKSB8fCBvcyh0dk9TKQogICAgQGF2YWlsYWJsZShtYWNPUyAxMC4xMi4yLCBpT1MgMTAuMiwgdHZPUyAxMC4xLCB3YXRjaE9TIDMuMS4xLCAqKSBwdWJsaWMgdmFyIGlzRW1vamk6IEJvb2wgeyBnZXQgfQojZW5kaWYKI2lmIG9zKG1hY09TKSB8fCBvcyhpT1MpIHx8IG9zKHdhdGNoT1MpIHx8IG9zKHR2T1MpCiAgICBAYXZhaWxhYmxlKG1hY09TIDEwLjEyLjIsIGlPUyAxMC4yLCB0dk9TIDEwLjEsIHdhdGNoT1MgMy4xLjEsICopIHB1YmxpYyB2YXIgaXNFbW9qaU1vZGlmaWVyOiBCb29sIHsgZ2V0IH0KI2VuZGlmCiNpZiBvcyhtYWNPUykgfHwgb3MoaU9TKSB8fCBvcyh3YXRjaE9TKSB8fCBvcyh0dk9TKQogICAgQGF2YWlsYWJsZShtYWNPUyAxMC4xMi4yLCBpT1MgMTAuMiwgdHZPUyAxMC4xLCB3YXRjaE9TIDMuMS4xLCAqKSBwdWJsaWMgdmFyIGlzRW1vamlNb2RpZmllckJhc2U6IEJvb2wgeyBnZXQgfQojZW5kaWYKI2lmIG9zKG1hY09TKSB8fCBvcyhpT1MpIHx8IG9zKHdhdGNoT1MpIHx8IG9zKHR2T1MpCiAgICBAYXZhaWxhYmxlKG1hY09TIDEwLjEyLjIsIGlPUyAxMC4yLCB0dk9TIDEwLjEsIHdhdGNoT1MgMy4xLjEsICopIHB1YmxpYyB2YXIgaXNFbW9qaVByZXNlbnRhdGlvbjogQm9vbCB7IGdldCB9CiNlbmRpZgogICAgcHVibGljIHZhciBpc0V4dGVuZGVyOiBCb29sIHsgZ2V0IH0KICAgIHB1YmxpYyB2YXIgaXNGdWxsQ29tcG9zaXRpb25FeGNsdXNpb246IEJvb2wgeyBnZXQgfQogICAgcHVibGljIHZhciBpc0dyYXBoZW1lQmFzZTogQm9vbCB7IGdldCB9CiAgICBwdWJsaWMgdmFyIGlzR3JhcGhlbWVFeHRlbmQ6IEJvb2wgeyBnZXQgfQogICAgcHVibGljIHZhciBpc0hleERpZ2l0OiBCb29sIHsgZ2V0IH0KICAgIHB1YmxpYyB2YXIgaXNJRENvbnRpbnVlOiBCb29sIHsgZ2V0IH0KICAgIHB1YmxpYyB2YXIgaXNJRFNCaW5hcnlPcGVyYXRvcjogQm9vbCB7IGdldCB9CiAgICBwdWJsaWMgdmFyIGlzSURTVHJpbmFyeU9wZXJhdG9yOiBCb29sIHsgZ2V0IH0KICAgIHB1YmxpYyB2YXIgaXNJRFN0YXJ0OiBCb29sIHsgZ2V0IH0KICAgIHB1YmxpYyB2YXIgaXNJZGVvZ3JhcGhpYzogQm9vbCB7IGdldCB9CiAgICBwdWJsaWMgdmFyIGlzSm9pbkNvbnRyb2w6IEJvb2wgeyBnZXQgfQogICAgcHVibGljIHZhciBpc0xvZ2ljYWxPcmRlckV4Y2VwdGlvbjogQm9vbCB7IGdldCB9CiAgICBwdWJsaWMgdmFyIGlzTG93ZXJjYXNlOiBCb29sIHsgZ2V0IH0KICAgIHB1YmxpYyB2YXIgaXNNYXRoOiBCb29sIHsgZ2V0IH0KICAgIHB1YmxpYyB2YXIgaXNOb25jaGFyYWN0ZXJDb2RlUG9pbnQ6IEJvb2wgeyBnZXQgfQogICAgcHVibGljIHZhciBpc1BhdHRlcm5TeW50YXg6IEJvb2wgeyBnZXQgfQogICAgcHVibGljIHZhciBpc1BhdHRlcm5XaGl0ZXNwYWNlOiBCb29sIHsgZ2V0IH0KICAgIHB1YmxpYyB2YXIgaXNRdW90YXRpb25NYXJrOiBCb29sIHsgZ2V0IH0KICAgIHB1YmxpYyB2YXIgaXNSYWRpY2FsOiBCb29sIHsgZ2V0IH0KICAgIHB1YmxpYyB2YXIgaXNTZW50ZW5jZVRlcm1pbmFsOiBCb29sIHsgZ2V0IH0KICAgIHB1YmxpYyB2YXIgaXNTb2Z0RG90dGVkOiBCb29sIHsgZ2V0IH0KICAgIHB1YmxpYyB2YXIgaXNUZXJtaW5hbFB1bmN0dWF0aW9uOiBCb29sIHsgZ2V0IH0KICAgIHB1YmxpYyB2YXIgaXNVbmlmaWVkSWRlb2dyYXBoOiBCb29sIHsgZ2V0IH0KICAgIHB1YmxpYyB2YXIgaXNVcHBlcmNhc2U6IEJvb2wgeyBnZXQgfQogICAgcHVibGljIHZhciBpc1ZhcmlhdGlvblNlbGVjdG9yOiBCb29sIHsgZ2V0IH0KICAgIHB1YmxpYyB2YXIgaXNXaGl0ZXNwYWNlOiBCb29sIHsgZ2V0IH0KICAgIHB1YmxpYyB2YXIgaXNYSURDb250aW51ZTogQm9vbCB7IGdldCB9CiAgICBwdWJsaWMgdmFyIGlzWElEU3RhcnQ6IEJvb2wgeyBnZXQgfQogICAgcHVibGljIHZhciBsb3dlcmNhc2VNYXBwaW5nOiBTdHJpbmcgeyBnZXQgfQogICAgcHVibGljIHZhciBuYW1lOiBTdHJpbmc/IHsgZ2V0IH0KICAgIHB1YmxpYyB2YXIgbmFtZUFsaWFzOiBTdHJpbmc/IHsgZ2V0IH0KICAgIHB1YmxpYyB2YXIgbnVtZXJpY1R5cGU6IFVuaWNvZGUuTnVtZXJpY1R5cGU/IHsgZ2V0IH0KICAgIHB1YmxpYyB2YXIgbnVtZXJpY1ZhbHVlOiBEb3VibGU/IHsgZ2V0IH0KICAgIHB1YmxpYyB2YXIgdGl0bGVjYXNlTWFwcGluZzogU3RyaW5nIHsgZ2V0IH0KICAgIHB1YmxpYyB2YXIgdXBwZXJjYXNlTWFwcGluZzogU3RyaW5nIHsgZ2V0IH0KfQpleHRlbnNpb24gVW5pY29kZS5TY2FsYXIuVVRGMTZWaWV3IHsKfQpleHRlbnNpb24gVW5pY29kZS5VVEY4LkZvcndhcmRQYXJzZXIgewp9CmV4dGVuc2lvbiBVbnNhZmVCdWZmZXJQb2ludGVyIHsKICAgIHB1YmxpYyBpbml0KF8gb3RoZXI6IFVuc2FmZU11dGFibGVCdWZmZXJQb2ludGVyPEVsZW1lbnQ+KSB7fQogICAgcHVibGljIGluaXQocmViYXNpbmcgc2xpY2U6IFNsaWNlPFVuc2FmZUJ1ZmZlclBvaW50ZXI8RWxlbWVudD4+KSB7fQogICAgcHVibGljIGluaXQoc3RhcnQ6IFVuc2FmZVBvaW50ZXI8RWxlbWVudD4/LCBjb3VudDogSW50KSB7fQogICAgcHVibGljIHZhciBiYXNlQWRkcmVzczogVW5zYWZlUG9pbnRlcjxFbGVtZW50Pj8geyBnZXQgfQogICAgcHVibGljIHN1YnNjcmlwdChpOiBJbnQpIC0+IEVsZW1lbnQgeyBnZXQgfSB7fQogICAgcHVibGljIGZ1bmMgZGVhbGxvY2F0ZSgpIHt9CiAgICBwdWJsaWMgZnVuYyB3aXRoTWVtb3J5UmVib3VuZDxULCBSZXN1bHQ+KHRvIHR5cGU6IFQuVHlwZSwgXyBib2R5OiAoVW5zYWZlQnVmZmVyUG9pbnRlcjxUPikgdGhyb3dzIC0+IFJlc3VsdCkgcmV0aHJvd3MgLT4gUmVzdWx0IHt9Cn0KZXh0ZW5zaW9uIFVuc2FmZUJ1ZmZlclBvaW50ZXIuSXRlcmF0b3Igewp9CmV4dGVuc2lvbiBVbnNhZmVNdXRhYmxlQnVmZmVyUG9pbnRlciB7CiAgICBwdWJsaWMgc3RhdGljIGZ1bmMgYWxsb2NhdGUoY2FwYWNpdHkgY291bnQ6IEludCkgLT4gVW5zYWZlTXV0YWJsZUJ1ZmZlclBvaW50ZXI8RWxlbWVudD4ge30KICAgIHB1YmxpYyBpbml0KG11dGF0aW5nIG90aGVyOiBVbnNhZmVCdWZmZXJQb2ludGVyPEVsZW1lbnQ+KSB7fQogICAgcHVibGljIGluaXQocmViYXNpbmcgc2xpY2U6IFNsaWNlPFVuc2FmZU11dGFibGVCdWZmZXJQb2ludGVyPEVsZW1lbnQ+Pikge30KICAgIHB1YmxpYyBpbml0KHN0YXJ0OiBVbnNhZmVNdXRhYmxlUG9pbnRlcjxFbGVtZW50Pj8sIGNvdW50OiBJbnQpIHt9CiAgICBwdWJsaWMgdmFyIGJhc2VBZGRyZXNzOiBVbnNhZmVNdXRhYmxlUG9pbnRlcjxFbGVtZW50Pj8geyBnZXQgfQogICAgcHVibGljIHN1YnNjcmlwdChpOiBJbnQpIC0+IEVsZW1lbnQgeyBnZXQgc2V0IH0ge30KICAgIHB1YmxpYyBmdW5jIGFzc2lnbihyZXBlYXRpbmcgcmVwZWF0ZWRWYWx1ZTogRWxlbWVudCkge30KICAgIHB1YmxpYyBmdW5jIGRlYWxsb2NhdGUoKSB7fQogICAgcHVibGljIGZ1bmMgaW5pdGlhbGl6ZTxTPihmcm9tIHNvdXJjZTogUykgLT4gKFMuSXRlcmF0b3IsIEluZGV4KSB3aGVyZSBTIDogU2VxdWVuY2UsIEVsZW1lbnQgPT0gUy5FbGVtZW50IHt9CiAgICBwdWJsaWMgZnVuYyBpbml0aWFsaXplKHJlcGVhdGluZyByZXBlYXRlZFZhbHVlOiBFbGVtZW50KSB7fQogICAgcHVibGljIGZ1bmMgd2l0aE1lbW9yeVJlYm91bmQ8VCwgUmVzdWx0Pih0byB0eXBlOiBULlR5cGUsIF8gYm9keTogKFVuc2FmZU11dGFibGVCdWZmZXJQb2ludGVyPFQ+KSB0aHJvd3MgLT4gUmVzdWx0KSByZXRocm93cyAtPiBSZXN1bHQge30KfQpleHRlbnNpb24gVW5zYWZlTXV0YWJsZVBvaW50ZXIgewp9CmV4dGVuc2lvbiBVbnNhZmVQb2ludGVyIHsKfQpleHRlbnNpb24gWmlwMlNlcXVlbmNlIHsKfQpleHRlbnNpb24gWmlwMlNlcXVlbmNlLkl0ZXJhdG9yIHsKfQ==")!, encoding: String.Encoding.utf8)!
        static let xctest = String(data: Data(base64Encoded: "b3BlbiBjbGFzcyBYQ1ROU05vdGlmaWNhdGlvbkV4cGVjdGF0aW9uIDogQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIFhDVGVzdEV4cGVjdGF0aW9uIHsKICAgIHB1YmxpYyBpbml0KG5hbWUgbm90aWZpY2F0aW9uTmFtZTogTm90aWZpY2F0aW9uLk5hbWUsIG9iamVjdDogQW55PyA9IHgsIG5vdGlmaWNhdGlvbkNlbnRlcjogTm90aWZpY2F0aW9uQ2VudGVyID0geCwgZmlsZTogU3RhdGljU3RyaW5nID0geCwgbGluZTogSW50ID0geCkge30KICAgIG9wZW4gdmFyIGhhbmRsZXI6IEhhbmRsZXI/IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBub3RpZmljYXRpb25DZW50ZXI6IE5vdGlmaWNhdGlvbkNlbnRlciB7IGdldCB9CiAgICBvcGVuIHZhciBub3RpZmljYXRpb25OYW1lOiBOb3RpZmljYXRpb24uTmFtZSB7IGdldCB9CiAgICBvcGVuIHZhciBvYnNlcnZlZE9iamVjdDogQW55PyB7IGdldCB9Cn0Kb3BlbiBjbGFzcyBYQ1ROU1ByZWRpY2F0ZUV4cGVjdGF0aW9uIDogQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIFhDVGVzdEV4cGVjdGF0aW9uIHsKICAgIHB1YmxpYyBpbml0KHByZWRpY2F0ZTogTlNQcmVkaWNhdGUsIG9iamVjdDogQW55PyA9IHgsIGZpbGU6IFN0YXRpY1N0cmluZyA9IHgsIGxpbmU6IEludCA9IHgpIHt9CiAgICBvcGVuIHZhciBoYW5kbGVyOiBIYW5kbGVyPyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgb2JqZWN0OiBBbnk/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHByZWRpY2F0ZTogTlNQcmVkaWNhdGUgeyBnZXQgfQp9Cm9wZW4gY2xhc3MgWENUV2FpdGVyIDogQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgTWFuYWdlYWJsZVdhaXRlciB7CiAgICBvcGVuIGNsYXNzIGZ1bmMgd2FpdChmb3IgZXhwZWN0YXRpb25zOiBbWENUZXN0RXhwZWN0YXRpb25dLCB0aW1lb3V0OiBUaW1lSW50ZXJ2YWwsIGVuZm9yY2VPcmRlcjogQm9vbCA9IHgsIGZpbGU6IFN0YXRpY1N0cmluZyA9IHgsIGxpbmU6IEludCA9IHgpIC0+IFJlc3VsdCB7fQogICAgcHVibGljIGluaXQoZGVsZWdhdGU6IFhDVFdhaXRlckRlbGVnYXRlPyA9IHgpIHt9CiAgICBvcGVuIHZhciBkZWxlZ2F0ZTogWENUV2FpdGVyRGVsZWdhdGU/IHsgZ2V0IHNldCB9CiAgICBwdWJsaWMgdmFyIGRlc2NyaXB0aW9uOiBTdHJpbmcgeyBnZXQgfQogICAgb3BlbiB2YXIgZnVsZmlsbGVkRXhwZWN0YXRpb25zOiBbWENUZXN0RXhwZWN0YXRpb25dIHsgZ2V0IH0KICAgIHB1YmxpYyBmdW5jID09KGxoczogWENUV2FpdGVyLCByaHM6IFhDVFdhaXRlcikgLT4gQm9vbCB7fQogICAgQGRpc2NhcmRhYmxlUmVzdWx0IG9wZW4gZnVuYyB3YWl0KGZvciBleHBlY3RhdGlvbnM6IFtYQ1Rlc3RFeHBlY3RhdGlvbl0sIHRpbWVvdXQ6IFRpbWVJbnRlcnZhbCwgZW5mb3JjZU9yZGVyOiBCb29sID0geCwgZmlsZTogU3RhdGljU3RyaW5nID0geCwgbGluZTogSW50ID0geCkgLT4gUmVzdWx0IHt9Cn0Kb3BlbiBjbGFzcyBYQ1Rlc3QgewogICAgcHVibGljIGluaXQoKSB7fQogICAgb3BlbiB2YXIgbmFtZTogU3RyaW5nIHsgZ2V0IH0KICAgIG9wZW4gdmFyIHRlc3RDYXNlQ291bnQ6IEludCB7IGdldCB9CiAgICBvcGVuIHZhciB0ZXN0UnVuOiBYQ1Rlc3RSdW4/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHRlc3RSdW5DbGFzczogQW55Q2xhc3M/IHsgZ2V0IH0KICAgIG9wZW4gZnVuYyBwZXJmb3JtKF8gcnVuOiBYQ1Rlc3RSdW4pIHt9CiAgICBvcGVuIGZ1bmMgcnVuKCkge30KICAgIG9wZW4gZnVuYyBzZXRVcCgpIHt9CiAgICBvcGVuIGZ1bmMgdGVhckRvd24oKSB7fQp9Cm9wZW4gY2xhc3MgWENUZXN0Q2FzZSA6IEFueU9iamVjdCwgUGVyZm9ybWFuY2VNZXRlckRlbGVnYXRlLCBYQ1RXYWl0ZXJEZWxlZ2F0ZSwgWENUZXN0IHsKICAgIG9wZW4gY2xhc3MgZnVuYyBzZXRVcCgpIHt9CiAgICBvcGVuIGNsYXNzIGZ1bmMgdGVhckRvd24oKSB7fQogICAgcHVibGljIHJlcXVpcmVkIGluaXQobmFtZTogU3RyaW5nLCB0ZXN0Q2xvc3VyZTogQGVzY2FwaW5nIFhDVGVzdENhc2VDbG9zdXJlKSB7fQogICAgb3BlbiB2YXIgY29udGludWVBZnRlckZhaWx1cmU6IEJvb2wgeyBnZXQgc2V0IH0KICAgIG9wZW4gZnVuYyBpbnZva2VUZXN0KCkge30KICAgIG9wZW4gZnVuYyByZWNvcmRGYWlsdXJlKHdpdGhEZXNjcmlwdGlvbiBkZXNjcmlwdGlvbjogU3RyaW5nLCBpbkZpbGUgZmlsZVBhdGg6IFN0cmluZywgYXRMaW5lIGxpbmVOdW1iZXI6IEludCwgZXhwZWN0ZWQ6IEJvb2wpIHt9Cn0Kb3BlbiBjbGFzcyBYQ1Rlc3RDYXNlUnVuIDogWENUZXN0UnVuIHsKfQpvcGVuIGNsYXNzIFhDVGVzdEV4cGVjdGF0aW9uIDogQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUgewogICAgcHVibGljIGluaXQoZGVzY3JpcHRpb246IFN0cmluZyA9IHgsIGZpbGU6IFN0YXRpY1N0cmluZyA9IHgsIGxpbmU6IEludCA9IHgpIHt9CiAgICBvcGVuIHZhciBhc3NlcnRGb3JPdmVyRnVsZmlsbDogQm9vbCB7IGdldCBzZXQgfQogICAgcHVibGljIHZhciBkZXNjcmlwdGlvbjogU3RyaW5nIHsgZ2V0IH0KICAgIG9wZW4gdmFyIGV4cGVjdGF0aW9uRGVzY3JpcHRpb246IFN0cmluZyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgZXhwZWN0ZWRGdWxmaWxsbWVudENvdW50OiBJbnQgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGlzSW52ZXJ0ZWQ6IEJvb2wgeyBnZXQgc2V0IH0KICAgIHB1YmxpYyBmdW5jID09KGxoczogWENUZXN0RXhwZWN0YXRpb24sIHJoczogWENUZXN0RXhwZWN0YXRpb24pIC0+IEJvb2wge30KICAgIG9wZW4gZnVuYyBmdWxmaWxsKF8gZmlsZTogU3RhdGljU3RyaW5nID0geCwgbGluZTogSW50ID0geCkge30KICAgIHB1YmxpYyBmdW5jIGhhc2goaW50byBoYXNoZXI6IGlub3V0IEhhc2hlcikge30KfQpvcGVuIGNsYXNzIFhDVGVzdFJ1biB7CiAgICBwdWJsaWMgcmVxdWlyZWQgaW5pdCh0ZXN0OiBYQ1Rlc3QpIHt9CiAgICBvcGVuIHZhciBleGVjdXRpb25Db3VudDogSW50IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGZhaWx1cmVDb3VudDogSW50IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGhhc1N1Y2NlZWRlZDogQm9vbCB7IGdldCB9CiAgICBvcGVuIHZhciBzdGFydERhdGU6IERhdGU/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHN0b3BEYXRlOiBEYXRlPyB7IGdldCB9CiAgICBwdWJsaWMgdmFyIHRlc3Q6IFhDVGVzdCB7IGdldCB9CiAgICBvcGVuIHZhciB0ZXN0Q2FzZUNvdW50OiBJbnQgeyBnZXQgfQogICAgb3BlbiB2YXIgdGVzdER1cmF0aW9uOiBUaW1lSW50ZXJ2YWwgeyBnZXQgfQogICAgb3BlbiB2YXIgdG90YWxEdXJhdGlvbjogVGltZUludGVydmFsIHsgZ2V0IH0KICAgIG9wZW4gdmFyIHRvdGFsRmFpbHVyZUNvdW50OiBJbnQgeyBnZXQgfQogICAgb3BlbiB2YXIgdW5leHBlY3RlZEV4Y2VwdGlvbkNvdW50OiBJbnQgeyBnZXQgfQogICAgb3BlbiBmdW5jIHN0YXJ0KCkge30KICAgIG9wZW4gZnVuYyBzdG9wKCkge30KfQpvcGVuIGNsYXNzIFhDVGVzdFN1aXRlIDogWENUZXN0IHsKICAgIHB1YmxpYyBpbml0KG5hbWU6IFN0cmluZykge30KICAgIG9wZW4gdmFyIHRlc3RzIHsgZ2V0IH0KICAgIG9wZW4gZnVuYyBhZGRUZXN0KF8gdGVzdDogWENUZXN0KSB7fQp9Cm9wZW4gY2xhc3MgWENUZXN0U3VpdGVSdW4gOiBYQ1Rlc3RSdW4gewogICAgb3BlbiB2YXIgdGVzdFJ1bnMgeyBnZXQgfQogICAgb3BlbiBmdW5jIGFkZFRlc3RSdW4oXyB0ZXN0UnVuOiBYQ1Rlc3RSdW4pIHt9Cn0KcHVibGljIHByb3RvY29sIFhDVFdhaXRlckRlbGVnYXRlIDogQW55T2JqZWN0IHsKICAgIGZ1bmMgbmVzdGVkV2FpdGVyKF8gd2FpdGVyOiBYQ1RXYWl0ZXIsIHdhc0ludGVycnVwdGVkQnlUaW1lZE91dFdhaXRlciBvdXRlcldhaXRlcjogWENUV2FpdGVyKQogICAgZnVuYyB3YWl0ZXIoXyB3YWl0ZXI6IFhDVFdhaXRlciwgZGlkRnVsZmlsbEludmVydGVkRXhwZWN0YXRpb24gZXhwZWN0YXRpb246IFhDVGVzdEV4cGVjdGF0aW9uKQogICAgZnVuYyB3YWl0ZXIoXyB3YWl0ZXI6IFhDVFdhaXRlciwgZGlkVGltZW91dFdpdGhVbmZ1bGZpbGxlZEV4cGVjdGF0aW9ucyB1bmZ1bGZpbGxlZEV4cGVjdGF0aW9uczogW1hDVGVzdEV4cGVjdGF0aW9uXSkKICAgIGZ1bmMgd2FpdGVyKF8gd2FpdGVyOiBYQ1RXYWl0ZXIsIGZ1bGZpbGxtZW50RGlkVmlvbGF0ZU9yZGVyaW5nQ29uc3RyYWludHNGb3IgZXhwZWN0YXRpb246IFhDVGVzdEV4cGVjdGF0aW9uLCByZXF1aXJlZEV4cGVjdGF0aW9uOiBYQ1Rlc3RFeHBlY3RhdGlvbikKfQpwdWJsaWMgcHJvdG9jb2wgWENUZXN0T2JzZXJ2YXRpb24gOiBBbnlPYmplY3QgewogICAgZnVuYyB0ZXN0QnVuZGxlRGlkRmluaXNoKF8gdGVzdEJ1bmRsZTogQnVuZGxlKQogICAgZnVuYyB0ZXN0QnVuZGxlV2lsbFN0YXJ0KF8gdGVzdEJ1bmRsZTogQnVuZGxlKQogICAgZnVuYyB0ZXN0Q2FzZShfIHRlc3RDYXNlOiBYQ1Rlc3RDYXNlLCBkaWRGYWlsV2l0aERlc2NyaXB0aW9uIGRlc2NyaXB0aW9uOiBTdHJpbmcsIGluRmlsZSBmaWxlUGF0aDogU3RyaW5nPywgYXRMaW5lIGxpbmVOdW1iZXI6IEludCkKICAgIGZ1bmMgdGVzdENhc2VEaWRGaW5pc2goXyB0ZXN0Q2FzZTogWENUZXN0Q2FzZSkKICAgIGZ1bmMgdGVzdENhc2VXaWxsU3RhcnQoXyB0ZXN0Q2FzZTogWENUZXN0Q2FzZSkKICAgIGZ1bmMgdGVzdFN1aXRlRGlkRmluaXNoKF8gdGVzdFN1aXRlOiBYQ1Rlc3RTdWl0ZSkKICAgIGZ1bmMgdGVzdFN1aXRlV2lsbFN0YXJ0KF8gdGVzdFN1aXRlOiBYQ1Rlc3RTdWl0ZSkKfQ==")!, encoding: String.Encoding.utf8)!
    }
    static let syntaxHighlighting = String(data: Data(base64Encoded: "LyoKIFN5bnRheCBIaWdobGlnaHRpbmcuY3NzCgogVGhpcyBzb3VyY2UgZmlsZSBpcyBwYXJ0IG9mIHRoZSBTREdTd2lmdCBvcGVuIHNvdXJjZSBwcm9qZWN0LgogaHR0cHM6Ly9zZGdnaWVzYnJlY2h0LmdpdGh1Yi5pby9TREdTd2lmdAoKIENvcHlyaWdodCDCqTIwMTjigJMyMDE5IEplcmVteSBEYXZpZCBHaWVzYnJlY2h0IGFuZCB0aGUgU0RHU3dpZnQgcHJvamVjdCBjb250cmlidXRvcnMuCgogU29saSBEZW8gZ2xvcmlhLgoKIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5jZSwgVmVyc2lvbiAyLjAuCiBTZWUgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wIGZvciBsaWNlbmNlIGluZm9ybWF0aW9uLgogKi8KCi8qIExheW91dCAqLwoKLnN3aWZ0IHsKICAgIGRpc3BsYXk6IGlubGluZTsKICAgIHdoaXRlLXNwYWNlOiBwcmUtd3JhcDsKfQouc3dpZnQuYmxvY2txdW90ZSB7CiAgICBkaXNwbGF5OiBibG9jazsKICAgIG1hcmdpbjogMS40ZW0gMDsKICAgIGJvcmRlcjogMXB4IHNvbGlkOwogICAgIGJvcmRlci1yYWRpdXM6IDAuMzUyOTRlbTsKICAgIHBhZGRpbmc6IDAuMzUyOTRlbSAwLjk0MTE4ZW07Cn0KCi8qIENvbG91ciAqLwoKLnN3aWZ0LmJsb2NrcXVvdGUgewogICAgYmFja2dyb3VuZC1jb2xvcjogI0Y5RkFGQTsKICAgIGJvcmRlci1jb2xvcjogICNFNkU2RTY7Cn0KLnN3aWZ0IHsKICAgIGNvbG9yOiAjMDAwMDAwOwp9Cgouc3dpZnQgLmtleXdvcmQgewogICAgY29sb3I6ICNBQTBEOTE7Cn0KCi5zd2lmdCAucHVuY3R1YXRpb24gewogICAgY29sb3I6ICMwMDAwMDA7Cn0KCi5zd2lmdCAuZXh0ZXJuYWwuaWRlbnRpZmllciB7CiAgICBjb2xvcjogIzVDMjY5OTsKfQouc3dpZnQgLmludGVybmFsLmlkZW50aWZpZXIgewogICAgY29sb3I6ICMzRjZFNzQ7Cn0KCi5zd2lmdCAubnVtYmVyIHsKICAgIGNvbG9yOiAjMEUwRUZGOwp9Cgouc3dpZnQgLnN0cmluZyB7CiAgICBjb2xvcjogI0M0MUExNjsKfQouc3dpZnQgLnN0cmluZ+KAkHB1bmN0dWF0aW9uIHsKICAgIGNvbG9yOiAjNjIyNzBCOwp9Cgouc3dpZnQgLmNvbXBpbGF0aW9u4oCQY29uZGl0aW9uIHsKICAgIGNvbG9yOiAjNjQzODIwOwp9Cgouc3dpZnQgLmNvbW1lbnQgewogICAgY29sb3I6ICMwMDc0MDA7Cn0KLnN3aWZ0IC5jb21tZW504oCQcHVuY3R1YXRpb24gewogICAgY29sb3I6ICMwMDNBMDA7Cn0KLnN3aWZ0IC51cmwgewogICAgY29sb3I6ICMwRTBFRkY7Cn0KCi5zd2lmdCAuY29kZSB7CiAgICBjb2xvcjogIzAwMDAwMDsKfQoKLyogRm9udCAqLwoKLnN3aWZ0IHsKICAgIGZvbnQtZmFtaWx5OiAiU0YgTW9ubyIsIE1lbmxvLCBtb25vc3BhY2UsICJTRiBQcm8gSWNvbnMiOwogICAgbGV0dGVyLXNwYWNpbmc6IC0wLjAyN2VtOwogICAgbGluZS1oZWlnaHQ6IDEuMjY2Njc7Cn0KCi5zd2lmdCAudGV4dCB7CiAgICBmb250LWZhbWlseTogIlNGIFBybyBUZXh0IiwgIlNGIFBybyBJY29ucyIsICItYXBwbGUtc3lzdGVtIiwgIkJsaW5rTWFjU3lzdGVtRm9udCIsICJIZWx2ZXRpY2EgTmV1ZSIsICJIZWx2ZXRpY2EiLCAiQXJpYWwiLCBzYW5zLXNlcmlmOwogICAgbGV0dGVyLXNwYWNpbmc6IDA7Cn0KCi5zd2lmdCAuY29tbWVudOKAkGtleXdvcmQgewogICAgZm9udC13ZWlnaHQ6IGJvbGQ7Cn0KCi5zd2lmdCAudXJsOmxpbmssIC5zd2lmdCAudXJsOnZpc2l0ZWQgewogICAgdGV4dC1kZWNvcmF0aW9uOiBub25lOwp9Ci5zd2lmdCAudXJsOmhvdmVyIHsKICAgIHRleHQtZGVjb3JhdGlvbjogdW5kZXJsaW5lOwp9Cg==")!, encoding: String.Encoding.utf8)!

}
