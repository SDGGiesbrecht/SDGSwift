/*
 Resources.swift

 This source file is part of the SDGSwift open source project.
 https://sdggiesbrecht.github.io/SDGSwift

 Copyright ©2018–2019 Jeremy David Giesbrecht and the SDGSwift project contributors.

 Soli Deo gloria.

 Licensed under the Apache Licence, Version 2.0.
 See http://www.apache.org/licenses/LICENSE-2.0 for licence information.
 */

import Foundation

internal enum Resources {}

extension Resources {
    static let dispatch = String(data: Data(base64Encoded: "cHVibGljIHByb3RvY29sIERpc3BhdGNoU291cmNlRmlsZVN5c3RlbU9iamVjdCA6IERpc3BhdGNoU291cmNlUHJvdG9jb2wgewojaWYgIW9zKExpbnV4KSAmJiAhb3MoQW5kcm9pZCkgJiYgIW9zKFdpbmRvd3MpCiAgICB2YXIgZGF0YTogRGlzcGF0Y2hTb3VyY2UuRmlsZVN5c3RlbUV2ZW50IHsgZ2V0IH0KI2VuZGlmCiNpZiAhb3MoTGludXgpICYmICFvcyhBbmRyb2lkKSAmJiAhb3MoV2luZG93cykKICAgIHZhciBoYW5kbGU6IEludDMyIHsgZ2V0IH0KI2VuZGlmCiNpZiAhb3MoTGludXgpICYmICFvcyhBbmRyb2lkKSAmJiAhb3MoV2luZG93cykKICAgIHZhciBtYXNrOiBEaXNwYXRjaFNvdXJjZS5GaWxlU3lzdGVtRXZlbnQgeyBnZXQgfQojZW5kaWYKfQpwdWJsaWMgcHJvdG9jb2wgRGlzcGF0Y2hTb3VyY2VNYWNoUmVjZWl2ZSA6IERpc3BhdGNoU291cmNlUHJvdG9jb2wgewojaWYgSEFWRV9NQUNICiAgICB2YXIgaGFuZGxlOiBtYWNoX3BvcnRfdCB7IGdldCB9CiNlbmRpZgp9CnB1YmxpYyBwcm90b2NvbCBEaXNwYXRjaFNvdXJjZU1hY2hTZW5kIDogRGlzcGF0Y2hTb3VyY2VQcm90b2NvbCB7CiNpZiBIQVZFX01BQ0gKICAgIHZhciBkYXRhOiBEaXNwYXRjaFNvdXJjZS5NYWNoU2VuZEV2ZW50IHsgZ2V0IH0KI2VuZGlmCiNpZiBIQVZFX01BQ0gKICAgIHZhciBoYW5kbGU6IG1hY2hfcG9ydF90IHsgZ2V0IH0KI2VuZGlmCiNpZiBIQVZFX01BQ0gKICAgIHZhciBtYXNrOiBEaXNwYXRjaFNvdXJjZS5NYWNoU2VuZEV2ZW50IHsgZ2V0IH0KI2VuZGlmCn0KcHVibGljIHByb3RvY29sIERpc3BhdGNoU291cmNlTWVtb3J5UHJlc3N1cmUgOiBEaXNwYXRjaFNvdXJjZVByb3RvY29sIHsKI2lmIEhBVkVfTUFDSAogICAgdmFyIGRhdGE6IERpc3BhdGNoU291cmNlLk1lbW9yeVByZXNzdXJlRXZlbnQgeyBnZXQgfQojZW5kaWYKI2lmIEhBVkVfTUFDSAogICAgdmFyIG1hc2s6IERpc3BhdGNoU291cmNlLk1lbW9yeVByZXNzdXJlRXZlbnQgeyBnZXQgfQojZW5kaWYKfQpwdWJsaWMgcHJvdG9jb2wgRGlzcGF0Y2hTb3VyY2VQcm9jZXNzIDogRGlzcGF0Y2hTb3VyY2VQcm90b2NvbCB7CiNpZiAhb3MoTGludXgpICYmICFvcyhBbmRyb2lkKSAmJiAhb3MoV2luZG93cykKICAgIHZhciBkYXRhOiBEaXNwYXRjaFNvdXJjZS5Qcm9jZXNzRXZlbnQgeyBnZXQgfQojZW5kaWYKI2lmICFvcyhMaW51eCkgJiYgIW9zKEFuZHJvaWQpICYmICFvcyhXaW5kb3dzKQogICAgdmFyIGhhbmRsZTogcGlkX3QgeyBnZXQgfQojZW5kaWYKI2lmICFvcyhMaW51eCkgJiYgIW9zKEFuZHJvaWQpICYmICFvcyhXaW5kb3dzKQogICAgdmFyIG1hc2s6IERpc3BhdGNoU291cmNlLlByb2Nlc3NFdmVudCB7IGdldCB9CiNlbmRpZgp9CnB1YmxpYyBwcm90b2NvbCBEaXNwYXRjaFNvdXJjZVByb3RvY29sIHsKICAgIHZhciBkYXRhOiBVSW50IHsgZ2V0IH0KICAgIHZhciBoYW5kbGU6IFVJbnQgeyBnZXQgfQogICAgdmFyIGlzQ2FuY2VsbGVkOiBCb29sIHsgZ2V0IH0KICAgIHZhciBtYXNrOiBVSW50IHsgZ2V0IH0KICAgIEBhdmFpbGFibGUobWFjT1MxMC4xMiwgaU9TMTAuMCwgdHZPUzEwLjAsIHdhdGNoT1MzLjAsICopIGZ1bmMgYWN0aXZhdGUoKQogICAgZnVuYyBjYW5jZWwoKQogICAgZnVuYyByZXN1bWUoKQogICAgQGF2YWlsYWJsZShtYWNPUzEwLjEwLCBpT1M4LjAsICopIGZ1bmMgc2V0Q2FuY2VsSGFuZGxlcihoYW5kbGVyOiBEaXNwYXRjaFdvcmtJdGVtKQogICAgZnVuYyBzZXRDYW5jZWxIYW5kbGVyKHFvczogRGlzcGF0Y2hRb1MgPSB4LCBmbGFnczogRGlzcGF0Y2hXb3JrSXRlbUZsYWdzID0geCwgaGFuZGxlcjogRGlzcGF0Y2hTb3VyY2VIYW5kbGVyPykKICAgIEBhdmFpbGFibGUobWFjT1MxMC4xMCwgaU9TOC4wLCAqKSBmdW5jIHNldEV2ZW50SGFuZGxlcihoYW5kbGVyOiBEaXNwYXRjaFdvcmtJdGVtKQogICAgZnVuYyBzZXRFdmVudEhhbmRsZXIocW9zOiBEaXNwYXRjaFFvUyA9IHgsIGZsYWdzOiBEaXNwYXRjaFdvcmtJdGVtRmxhZ3MgPSB4LCBoYW5kbGVyOiBEaXNwYXRjaFNvdXJjZUhhbmRsZXI/KQogICAgQGF2YWlsYWJsZShtYWNPUzEwLjEwLCBpT1M4LjAsICopIGZ1bmMgc2V0UmVnaXN0cmF0aW9uSGFuZGxlcihoYW5kbGVyOiBEaXNwYXRjaFdvcmtJdGVtKQogICAgZnVuYyBzZXRSZWdpc3RyYXRpb25IYW5kbGVyKHFvczogRGlzcGF0Y2hRb1MgPSB4LCBmbGFnczogRGlzcGF0Y2hXb3JrSXRlbUZsYWdzID0geCwgaGFuZGxlcjogRGlzcGF0Y2hTb3VyY2VIYW5kbGVyPykKICAgIGZ1bmMgc3VzcGVuZCgpCn0KcHVibGljIHByb3RvY29sIERpc3BhdGNoU291cmNlUmVhZCA6IERpc3BhdGNoU291cmNlUHJvdG9jb2wgewp9CnB1YmxpYyBwcm90b2NvbCBEaXNwYXRjaFNvdXJjZVNpZ25hbCA6IERpc3BhdGNoU291cmNlUHJvdG9jb2wgewp9CnB1YmxpYyBwcm90b2NvbCBEaXNwYXRjaFNvdXJjZVRpbWVyIDogRGlzcGF0Y2hTb3VyY2VQcm90b2NvbCB7CiAgICBAYXZhaWxhYmxlKHN3aWZ0LCBpbnRyb2R1Y2VkOiA0KSBmdW5jIHNjaGVkdWxlKGRlYWRsaW5lOiBEaXNwYXRjaFRpbWUsIHJlcGVhdGluZyBpbnRlcnZhbDogRGlzcGF0Y2hUaW1lSW50ZXJ2YWwgPSB4LCBsZWV3YXk6IERpc3BhdGNoVGltZUludGVydmFsID0geCkKICAgIEBhdmFpbGFibGUoc3dpZnQsIGludHJvZHVjZWQ6IDQpIGZ1bmMgc2NoZWR1bGUoZGVhZGxpbmU6IERpc3BhdGNoVGltZSwgcmVwZWF0aW5nIGludGVydmFsOiBEb3VibGUsIGxlZXdheTogRGlzcGF0Y2hUaW1lSW50ZXJ2YWwgPSB4KQogICAgQGF2YWlsYWJsZShzd2lmdCwgaW50cm9kdWNlZDogNCkgZnVuYyBzY2hlZHVsZSh3YWxsRGVhZGxpbmU6IERpc3BhdGNoV2FsbFRpbWUsIHJlcGVhdGluZyBpbnRlcnZhbDogRGlzcGF0Y2hUaW1lSW50ZXJ2YWwgPSB4LCBsZWV3YXk6IERpc3BhdGNoVGltZUludGVydmFsID0geCkKICAgIEBhdmFpbGFibGUoc3dpZnQsIGludHJvZHVjZWQ6IDQpIGZ1bmMgc2NoZWR1bGUod2FsbERlYWRsaW5lOiBEaXNwYXRjaFdhbGxUaW1lLCByZXBlYXRpbmcgaW50ZXJ2YWw6IERvdWJsZSwgbGVld2F5OiBEaXNwYXRjaFRpbWVJbnRlcnZhbCA9IHgpCiAgICBmdW5jIHNjaGVkdWxlT25lc2hvdChkZWFkbGluZTogRGlzcGF0Y2hUaW1lLCBsZWV3YXk6IERpc3BhdGNoVGltZUludGVydmFsKQogICAgZnVuYyBzY2hlZHVsZU9uZXNob3Qod2FsbERlYWRsaW5lOiBEaXNwYXRjaFdhbGxUaW1lLCBsZWV3YXk6IERpc3BhdGNoVGltZUludGVydmFsKQogICAgZnVuYyBzY2hlZHVsZVJlcGVhdGluZyhkZWFkbGluZTogRGlzcGF0Y2hUaW1lLCBpbnRlcnZhbDogRGlzcGF0Y2hUaW1lSW50ZXJ2YWwsIGxlZXdheTogRGlzcGF0Y2hUaW1lSW50ZXJ2YWwpCiAgICBmdW5jIHNjaGVkdWxlUmVwZWF0aW5nKHdhbGxEZWFkbGluZTogRGlzcGF0Y2hXYWxsVGltZSwgaW50ZXJ2YWw6IERpc3BhdGNoVGltZUludGVydmFsLCBsZWV3YXk6IERpc3BhdGNoVGltZUludGVydmFsKQp9CnB1YmxpYyBwcm90b2NvbCBEaXNwYXRjaFNvdXJjZVVzZXJEYXRhQWRkIDogRGlzcGF0Y2hTb3VyY2VQcm90b2NvbCB7CiAgICBmdW5jIGFkZChkYXRhOiBVSW50KQp9CnB1YmxpYyBwcm90b2NvbCBEaXNwYXRjaFNvdXJjZVVzZXJEYXRhT3IgOiBEaXNwYXRjaFNvdXJjZVByb3RvY29sIHsKICAgIGZ1bmMgb3IoZGF0YTogVUludCkKfQpwdWJsaWMgcHJvdG9jb2wgRGlzcGF0Y2hTb3VyY2VVc2VyRGF0YVJlcGxhY2UgOiBEaXNwYXRjaFNvdXJjZVByb3RvY29sIHsKICAgIGZ1bmMgcmVwbGFjZShkYXRhOiBVSW50KQp9CnB1YmxpYyBwcm90b2NvbCBEaXNwYXRjaFNvdXJjZVdyaXRlIDogRGlzcGF0Y2hTb3VyY2VQcm90b2NvbCB7Cn0=")!, encoding: String.Encoding.utf8)!
    static let foundation = String(data: Data(base64Encoded: "b3BlbiBjbGFzcyBCbG9ja09wZXJhdGlvbiA6IEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCwgT3BlcmF0aW9uLCBfIHsKICAgIHB1YmxpYyBpbml0KGJsb2NrOiBAZXNjYXBpbmcgKCkgLT4gVm9pZCkge30KICAgIG9wZW4gdmFyIGV4ZWN1dGlvbkJsb2NrczogWygpIC0+IFZvaWRdIHsgZ2V0IH0KICAgIG9wZW4gZnVuYyBhZGRFeGVjdXRpb25CbG9jayhfIGJsb2NrOiBAZXNjYXBpbmcgKCkgLT4gVm9pZCkge30KfQpvcGVuIGNsYXNzIEJ1bmRsZSA6IEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCwgXyB7CiAgICBvcGVuIGNsYXNzIHZhciBhbGxCdW5kbGVzOiBbQnVuZGxlXSB7IGdldCB9CiAgICBvcGVuIGNsYXNzIHZhciBtYWluOiBCdW5kbGUgeyBnZXQgfQogICAgb3BlbiBjbGFzcyBmdW5jIHBhdGgoZm9yUmVzb3VyY2UgbmFtZTogU3RyaW5nPywgb2ZUeXBlIGV4dDogU3RyaW5nPywgaW5EaXJlY3RvcnkgYnVuZGxlUGF0aDogU3RyaW5nKSAtPiBTdHJpbmc/IHt9CiAgICBvcGVuIGNsYXNzIGZ1bmMgcGF0aHMoZm9yUmVzb3VyY2VzT2ZUeXBlIGV4dDogU3RyaW5nPywgaW5EaXJlY3RvcnkgYnVuZGxlUGF0aDogU3RyaW5nKSAtPiBbU3RyaW5nXSB7fQogICAgb3BlbiBjbGFzcyBmdW5jIHByZWZlcnJlZExvY2FsaXphdGlvbnMoZnJvbSBsb2NhbGl6YXRpb25zQXJyYXk6IFtTdHJpbmddKSAtPiBbU3RyaW5nXSB7fQogICAgb3BlbiBjbGFzcyBmdW5jIHByZWZlcnJlZExvY2FsaXphdGlvbnMoZnJvbSBsb2NhbGl6YXRpb25zQXJyYXk6IFtTdHJpbmddLCBmb3JQcmVmZXJlbmNlcyBwcmVmZXJlbmNlc0FycmF5OiBbU3RyaW5nXT8pIC0+IFtTdHJpbmddIHt9CiAgICBvcGVuIGNsYXNzIGZ1bmMgdXJsKGZvclJlc291cmNlIG5hbWU6IFN0cmluZz8sIHdpdGhFeHRlbnNpb24gZXh0OiBTdHJpbmc/LCBzdWJkaXJlY3Rvcnkgc3VicGF0aDogU3RyaW5nPywgaW4gYnVuZGxlVVJMOiBVUkwpIC0+IFVSTD8ge30KICAgIG9wZW4gY2xhc3MgZnVuYyB1cmxzKGZvclJlc291cmNlc1dpdGhFeHRlbnNpb24gZXh0OiBTdHJpbmc/LCBzdWJkaXJlY3Rvcnkgc3VicGF0aDogU3RyaW5nPywgaW4gYnVuZGxlVVJMOiBOU1VSTCkgLT4gW05TVVJMXT8ge30KICAgIHB1YmxpYyBpbml0KGZvciBhQ2xhc3M6IEFueUNsYXNzKSB7fQogICAgcHVibGljIGluaXQ/KGlkZW50aWZpZXI6IFN0cmluZykge30KICAgIHB1YmxpYyBpbml0PyhwYXRoOiBTdHJpbmcpIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdD8odXJsOiBVUkwpIHt9CiAgICBvcGVuIHZhciBhcHBTdG9yZVJlY2VpcHRVUkw6IFVSTD8geyBnZXQgfQogICAgb3BlbiB2YXIgYnVpbHRJblBsdWdJbnNQYXRoOiBTdHJpbmc/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGJ1aWx0SW5QbHVnSW5zVVJMOiBVUkw/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGJ1bmRsZUlkZW50aWZpZXI6IFN0cmluZz8geyBnZXQgfQogICAgb3BlbiB2YXIgYnVuZGxlUGF0aDogU3RyaW5nIHsgZ2V0IH0KICAgIG9wZW4gdmFyIGJ1bmRsZVVSTDogVVJMIHsgZ2V0IH0KICAgIG9wZW4gdmFyIGRldmVsb3BtZW50TG9jYWxpemF0aW9uOiBTdHJpbmc/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGV4ZWN1dGFibGVBcmNoaXRlY3R1cmVzOiBbTlNOdW1iZXJdPyB7IGdldCB9CiAgICBvcGVuIHZhciBleGVjdXRhYmxlUGF0aDogU3RyaW5nPyB7IGdldCB9CiAgICBvcGVuIHZhciBleGVjdXRhYmxlVVJMOiBVUkw/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGluZm9EaWN0aW9uYXJ5OiBbU3RyaW5nOiBBbnldPyB7IGdldCB9CiAgICBvcGVuIHZhciBpc0xvYWRlZDogQm9vbCB7IGdldCB9CiAgICBvcGVuIHZhciBsb2NhbGl6YXRpb25zOiBbU3RyaW5nXSB7IGdldCB9CiAgICBvcGVuIHZhciBsb2NhbGl6ZWRJbmZvRGljdGlvbmFyeTogW1N0cmluZzogQW55XT8geyBnZXQgfQogICAgb3BlbiB2YXIgcHJlZmVycmVkTG9jYWxpemF0aW9uczogW1N0cmluZ10geyBnZXQgfQogICAgb3BlbiB2YXIgcHJpbmNpcGFsQ2xhc3M6IEFueUNsYXNzPyB7IGdldCB9CiAgICBvcGVuIHZhciBwcml2YXRlRnJhbWV3b3Jrc1BhdGg6IFN0cmluZz8geyBnZXQgfQogICAgb3BlbiB2YXIgcHJpdmF0ZUZyYW1ld29ya3NVUkw6IFVSTD8geyBnZXQgfQogICAgb3BlbiB2YXIgcmVzb3VyY2VQYXRoOiBTdHJpbmc/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHJlc291cmNlVVJMOiBVUkw/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHNoYXJlZEZyYW1ld29ya3NQYXRoOiBTdHJpbmc/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHNoYXJlZEZyYW1ld29ya3NVUkw6IFVSTD8geyBnZXQgfQogICAgb3BlbiB2YXIgc2hhcmVkU3VwcG9ydFBhdGg6IFN0cmluZz8geyBnZXQgfQogICAgb3BlbiB2YXIgc2hhcmVkU3VwcG9ydFVSTDogVVJMPyB7IGdldCB9CiAgICBvcGVuIGZ1bmMgY2xhc3NOYW1lZChfIGNsYXNzTmFtZTogU3RyaW5nKSAtPiBBbnlDbGFzcz8ge30KICAgIG9wZW4gZnVuYyBsb2FkKCkgLT4gQm9vbCB7fQogICAgb3BlbiBmdW5jIGxvYWRBbmRSZXR1cm5FcnJvcigpIHRocm93cyB7fQogICAgb3BlbiBmdW5jIGxvY2FsaXplZFN0cmluZyhmb3JLZXkga2V5OiBTdHJpbmcsIHZhbHVlOiBTdHJpbmc/LCB0YWJsZSB0YWJsZU5hbWU6IFN0cmluZz8pIC0+IFN0cmluZyB7fQogICAgb3BlbiBmdW5jIG9iamVjdChmb3JJbmZvRGljdGlvbmFyeUtleSBrZXk6IFN0cmluZykgLT4gQW55PyB7fQogICAgb3BlbiBmdW5jIHBhdGgoZm9yQXV4aWxpYXJ5RXhlY3V0YWJsZSBleGVjdXRhYmxlTmFtZTogU3RyaW5nKSAtPiBTdHJpbmc/IHt9CiAgICBvcGVuIGZ1bmMgcGF0aChmb3JSZXNvdXJjZSBuYW1lOiBTdHJpbmc/LCBvZlR5cGUgZXh0OiBTdHJpbmc/KSAtPiBTdHJpbmc/IHt9CiAgICBvcGVuIGZ1bmMgcGF0aChmb3JSZXNvdXJjZSBuYW1lOiBTdHJpbmc/LCBvZlR5cGUgZXh0OiBTdHJpbmc/LCBpbkRpcmVjdG9yeSBzdWJwYXRoOiBTdHJpbmc/KSAtPiBTdHJpbmc/IHt9CiAgICBvcGVuIGZ1bmMgcGF0aChmb3JSZXNvdXJjZSBuYW1lOiBTdHJpbmc/LCBvZlR5cGUgZXh0OiBTdHJpbmc/LCBpbkRpcmVjdG9yeSBzdWJwYXRoOiBTdHJpbmc/LCBmb3JMb2NhbGl6YXRpb24gbG9jYWxpemF0aW9uTmFtZTogU3RyaW5nPykgLT4gU3RyaW5nPyB7fQogICAgb3BlbiBmdW5jIHBhdGhzKGZvclJlc291cmNlc09mVHlwZSBleHQ6IFN0cmluZz8sIGluRGlyZWN0b3J5IHN1YnBhdGg6IFN0cmluZz8pIC0+IFtTdHJpbmddIHt9CiAgICBvcGVuIGZ1bmMgcGF0aHMoZm9yUmVzb3VyY2VzT2ZUeXBlIGV4dDogU3RyaW5nPywgaW5EaXJlY3Rvcnkgc3VicGF0aDogU3RyaW5nPywgZm9yTG9jYWxpemF0aW9uIGxvY2FsaXphdGlvbk5hbWU6IFN0cmluZz8pIC0+IFtTdHJpbmddIHt9CiAgICBvcGVuIGZ1bmMgcHJlZmxpZ2h0KCkgdGhyb3dzIHt9CiAgICBvcGVuIGZ1bmMgdXJsKGZvckF1eGlsaWFyeUV4ZWN1dGFibGUgZXhlY3V0YWJsZU5hbWU6IFN0cmluZykgLT4gVVJMPyB7fQogICAgb3BlbiBmdW5jIHVybChmb3JSZXNvdXJjZSBuYW1lOiBTdHJpbmc/LCB3aXRoRXh0ZW5zaW9uIGV4dDogU3RyaW5nPykgLT4gVVJMPyB7fQogICAgb3BlbiBmdW5jIHVybChmb3JSZXNvdXJjZSBuYW1lOiBTdHJpbmc/LCB3aXRoRXh0ZW5zaW9uIGV4dDogU3RyaW5nPywgc3ViZGlyZWN0b3J5IHN1YnBhdGg6IFN0cmluZz8pIC0+IFVSTD8ge30KICAgIG9wZW4gZnVuYyB1cmwoZm9yUmVzb3VyY2UgbmFtZTogU3RyaW5nPywgd2l0aEV4dGVuc2lvbiBleHQ6IFN0cmluZz8sIHN1YmRpcmVjdG9yeSBzdWJwYXRoOiBTdHJpbmc/LCBsb2NhbGl6YXRpb24gbG9jYWxpemF0aW9uTmFtZTogU3RyaW5nPykgLT4gVVJMPyB7fQogICAgb3BlbiBmdW5jIHVybHMoZm9yUmVzb3VyY2VzV2l0aEV4dGVuc2lvbiBleHQ6IFN0cmluZz8sIHN1YmRpcmVjdG9yeSBzdWJwYXRoOiBTdHJpbmc/KSAtPiBbTlNVUkxdPyB7fQogICAgb3BlbiBmdW5jIHVybHMoZm9yUmVzb3VyY2VzV2l0aEV4dGVuc2lvbiBleHQ6IFN0cmluZz8sIHN1YmRpcmVjdG9yeSBzdWJwYXRoOiBTdHJpbmc/LCBsb2NhbGl6YXRpb24gbG9jYWxpemF0aW9uTmFtZTogU3RyaW5nPykgLT4gW05TVVJMXT8ge30KfQpvcGVuIGNsYXNzIEJ5dGVDb3VudEZvcm1hdHRlciA6IEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEZvcm1hdHRlciwgSGFzaGFibGUsIE5TQ29kaW5nLCBOU0NvcHlpbmcsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBfIHsKICAgIG9wZW4gY2xhc3MgZnVuYyBzdHJpbmcoZnJvbUJ5dGVDb3VudCBieXRlQ291bnQ6IEludDY0LCBjb3VudFN0eWxlOiBCeXRlQ291bnRGb3JtYXR0ZXIuQ291bnRTdHlsZSkgLT4gU3RyaW5nIHt9CiAgICBvcGVuIHZhciBhbGxvd2VkVW5pdHM6IFVuaXRzIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBhbGxvd3NOb25udW1lcmljRm9ybWF0dGluZzogQm9vbCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgY291bnRTdHlsZTogQ291bnRTdHlsZSB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgZm9ybWF0dGluZ0NvbnRleHQ6IENvbnRleHQgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGluY2x1ZGVzQWN0dWFsQnl0ZUNvdW50OiBCb29sIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBpbmNsdWRlc0NvdW50OiBCb29sIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBpbmNsdWRlc1VuaXQ6IEJvb2wgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGlzQWRhcHRpdmU6IEJvb2wgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHplcm9QYWRzRnJhY3Rpb25EaWdpdHM6IEJvb2wgeyBnZXQgc2V0IH0KICAgIG9wZW4gZnVuYyBzdHJpbmcoZnJvbUJ5dGVDb3VudCBieXRlQ291bnQ6IEludDY0KSAtPiBTdHJpbmcge30KfQpvcGVuIGNsYXNzIENhY2hlZFVSTFJlc3BvbnNlIDogQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TQ29kaW5nLCBOU0NvcHlpbmcsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBOU1NlY3VyZUNvZGluZywgXyB7CiAgICBwdWJsaWMgaW5pdChyZXNwb25zZTogVVJMUmVzcG9uc2UsIGRhdGE6IERhdGEpIHt9CiAgICBwdWJsaWMgaW5pdChyZXNwb25zZTogVVJMUmVzcG9uc2UsIGRhdGE6IERhdGEsIHVzZXJJbmZvOiBbQW55SGFzaGFibGU6IEFueV0/ID0geCwgc3RvcmFnZVBvbGljeTogVVJMQ2FjaGUuU3RvcmFnZVBvbGljeSkge30KICAgIG9wZW4gdmFyIGRhdGE6IERhdGEgeyBnZXQgfQogICAgb3BlbiB2YXIgcmVzcG9uc2U6IFVSTFJlc3BvbnNlIHsgZ2V0IH0KICAgIG9wZW4gdmFyIHN0b3JhZ2VQb2xpY3k6IFVSTENhY2hlLlN0b3JhZ2VQb2xpY3kgeyBnZXQgfQogICAgb3BlbiB2YXIgdXNlckluZm86IFtBbnlIYXNoYWJsZTogQW55XT8geyBnZXQgfQp9Cm9wZW4gY2xhc3MgRGF0ZUNvbXBvbmVudHNGb3JtYXR0ZXIgOiBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBGb3JtYXR0ZXIsIEhhc2hhYmxlLCBOU0NvZGluZywgTlNDb3B5aW5nLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCwgXyB7CiAgICBvcGVuIGNsYXNzIGZ1bmMgbG9jYWxpemVkU3RyaW5nKGZyb20gY29tcG9uZW50czogRGF0ZUNvbXBvbmVudHMsIHVuaXRzU3R5bGU6IFVuaXRzU3R5bGUpIC0+IFN0cmluZz8ge30KICAgIG9wZW4gdmFyIGFsbG93ZWRVbml0czogTlNDYWxlbmRhci5Vbml0IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBhbGxvd3NGcmFjdGlvbmFsVW5pdHM6IEJvb2wgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGNhbGVuZGFyOiBDYWxlbmRhcj8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGNvbGxhcHNlc0xhcmdlc3RVbml0OiBCb29sIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBmb3JtYXR0aW5nQ29udGV4dDogQ29udGV4dCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgaW5jbHVkZXNBcHByb3hpbWF0aW9uUGhyYXNlOiBCb29sIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBpbmNsdWRlc1RpbWVSZW1haW5pbmdQaHJhc2U6IEJvb2wgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIG1heGltdW1Vbml0Q291bnQ6IEludCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgdW5pdHNTdHlsZTogVW5pdHNTdHlsZSB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgemVyb0Zvcm1hdHRpbmdCZWhhdmlvcjogWmVyb0Zvcm1hdHRpbmdCZWhhdmlvciB7IGdldCBzZXQgfQogICAgb3BlbiBmdW5jIHN0cmluZyhmcm9tIGNvbXBvbmVudHM6IERhdGVDb21wb25lbnRzKSAtPiBTdHJpbmc/IHt9CiAgICBvcGVuIGZ1bmMgc3RyaW5nKGZyb20gc3RhcnREYXRlOiBEYXRlLCB0byBlbmREYXRlOiBEYXRlKSAtPiBTdHJpbmc/IHt9Cn0Kb3BlbiBjbGFzcyBEYXRlRm9ybWF0dGVyIDogQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgRm9ybWF0dGVyLCBIYXNoYWJsZSwgTlNDb2RpbmcsIE5TQ29weWluZywgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wsIF8gewogICAgb3BlbiBjbGFzcyBmdW5jIGRhdGVGb3JtYXQoZnJvbVRlbXBsYXRlIHRtcGxhdGU6IFN0cmluZywgb3B0aW9ucyBvcHRzOiBJbnQsIGxvY2FsZTogTG9jYWxlPykgLT4gU3RyaW5nPyB7fQogICAgb3BlbiBjbGFzcyBmdW5jIGxvY2FsaXplZFN0cmluZyhmcm9tIGRhdGU6IERhdGUsIGRhdGVTdHlsZSBkc3R5bGU6IFN0eWxlLCB0aW1lU3R5bGUgdHN0eWxlOiBTdHlsZSkgLT4gU3RyaW5nIHt9CiAgICBvcGVuIHZhciBhbVN5bWJvbDogU3RyaW5nISB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgY2FsZW5kYXI6IENhbGVuZGFyISB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgZGF0ZUZvcm1hdDogU3RyaW5nISB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgZGF0ZVN0eWxlOiBTdHlsZSB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgZGVmYXVsdERhdGU6IERhdGU/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGRvZXNSZWxhdGl2ZURhdGVGb3JtYXR0aW5nIHsgZ2V0IH0KICAgIG9wZW4gdmFyIGVyYVN5bWJvbHM6IFtTdHJpbmddISB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgZm9ybWF0dGluZ0NvbnRleHQ6IENvbnRleHQgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGdlbmVyYXRlc0NhbGVuZGFyRGF0ZXMgeyBnZXQgfQogICAgb3BlbiB2YXIgZ3JlZ29yaWFuU3RhcnREYXRlOiBEYXRlPyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgaXNMZW5pZW50IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGxvY2FsZTogTG9jYWxlISB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgbG9uZ0VyYVN5bWJvbHM6IFtTdHJpbmddISB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgbW9udGhTeW1ib2xzOiBbU3RyaW5nXSEgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHBtU3ltYm9sOiBTdHJpbmchIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBxdWFydGVyU3ltYm9sczogW1N0cmluZ10hIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBzaG9ydE1vbnRoU3ltYm9sczogW1N0cmluZ10hIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBzaG9ydFF1YXJ0ZXJTeW1ib2xzOiBbU3RyaW5nXSEgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHNob3J0U3RhbmRhbG9uZU1vbnRoU3ltYm9sczogW1N0cmluZ10hIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBzaG9ydFN0YW5kYWxvbmVRdWFydGVyU3ltYm9sczogW1N0cmluZ10hIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBzaG9ydFN0YW5kYWxvbmVXZWVrZGF5U3ltYm9sczogW1N0cmluZ10hIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBzaG9ydFdlZWtkYXlTeW1ib2xzOiBbU3RyaW5nXSEgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHN0YW5kYWxvbmVNb250aFN5bWJvbHM6IFtTdHJpbmddISB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgc3RhbmRhbG9uZVF1YXJ0ZXJTeW1ib2xzOiBbU3RyaW5nXSEgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHN0YW5kYWxvbmVXZWVrZGF5U3ltYm9sczogW1N0cmluZ10hIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciB0aW1lU3R5bGU6IFN0eWxlIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciB0aW1lWm9uZTogVGltZVpvbmUhIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciB0d29EaWdpdFN0YXJ0RGF0ZTogRGF0ZT8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHZlcnlTaG9ydE1vbnRoU3ltYm9sczogW1N0cmluZ10hIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciB2ZXJ5U2hvcnRTdGFuZGFsb25lTW9udGhTeW1ib2xzOiBbU3RyaW5nXSEgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHZlcnlTaG9ydFN0YW5kYWxvbmVXZWVrZGF5U3ltYm9sczogW1N0cmluZ10hIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciB2ZXJ5U2hvcnRXZWVrZGF5U3ltYm9sczogW1N0cmluZ10hIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciB3ZWVrZGF5U3ltYm9sczogW1N0cmluZ10hIHsgZ2V0IHNldCB9CiAgICBvcGVuIGZ1bmMgZGF0ZShmcm9tIHN0cmluZzogU3RyaW5nKSAtPiBEYXRlPyB7fQogICAgb3BlbiBmdW5jIG9iamVjdFZhbHVlKF8gc3RyaW5nOiBTdHJpbmcsIHJhbmdlIHJhbmdlcDogVW5zYWZlTXV0YWJsZVBvaW50ZXI8TlNSYW5nZT4pIHRocm93cyAtPiBBbnlPYmplY3Q/IHt9CiAgICBvcGVuIGZ1bmMgc2V0TG9jYWxpemVkRGF0ZUZvcm1hdEZyb21UZW1wbGF0ZShfIGRhdGVGb3JtYXRUZW1wbGF0ZTogU3RyaW5nKSB7fQogICAgb3BlbiBmdW5jIHN0cmluZyhmcm9tIGRhdGU6IERhdGUpIC0+IFN0cmluZyB7fQp9Cm9wZW4gY2xhc3MgRGF0ZUludGVydmFsRm9ybWF0dGVyIDogQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgRm9ybWF0dGVyLCBIYXNoYWJsZSwgTlNDb2RpbmcsIE5TQ29weWluZywgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wsIF8gewogICAgb3BlbiB2YXIgY2FsZW5kYXI6IENhbGVuZGFyISB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgZGF0ZVN0eWxlOiBTdHlsZSB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgZGF0ZVRlbXBsYXRlOiBTdHJpbmchIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBsb2NhbGU6IExvY2FsZSEgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHRpbWVTdHlsZTogU3R5bGUgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHRpbWVab25lOiBUaW1lWm9uZSEgeyBnZXQgc2V0IH0KICAgIG9wZW4gZnVuYyBzdHJpbmcoZnJvbSBkYXRlSW50ZXJ2YWw6IERhdGVJbnRlcnZhbCkgLT4gU3RyaW5nPyB7fQogICAgb3BlbiBmdW5jIHN0cmluZyhmcm9tIGZyb21EYXRlOiBEYXRlLCB0byB0b0RhdGU6IERhdGUpIC0+IFN0cmluZyB7fQp9Cm9wZW4gY2xhc3MgRGltZW5zaW9uIDogTlNDb3B5aW5nLCBOU09iamVjdCwgTlNTZWN1cmVDb2RpbmcsIFVuaXQgewogICAgb3BlbiBjbGFzcyBmdW5jIGJhc2VVbml0KCkgLT4gU2VsZiB7fQogICAgcHVibGljIHJlcXVpcmVkIGluaXQoc3ltYm9sOiBTdHJpbmcsIGNvbnZlcnRlcjogVW5pdENvbnZlcnRlcikge30KICAgIG9wZW4gdmFyIGNvbnZlcnRlcjogVW5pdENvbnZlcnRlciB7IGdldCB9Cn0Kb3BlbiBjbGFzcyBFbmVyZ3lGb3JtYXR0ZXIgOiBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBGb3JtYXR0ZXIsIEhhc2hhYmxlLCBOU0NvZGluZywgTlNDb3B5aW5nLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCwgXyB7CiAgICBvcGVuIHZhciBpc0ZvckZvb2RFbmVyZ3lVc2U6IEJvb2wgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIG51bWJlckZvcm1hdHRlcjogTnVtYmVyRm9ybWF0dGVyISB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgdW5pdFN0eWxlOiBVbml0U3R5bGUgeyBnZXQgc2V0IH0KICAgIG9wZW4gZnVuYyBzdHJpbmcoZnJvbUpvdWxlcyBudW1iZXJJbkpvdWxlczogRG91YmxlKSAtPiBTdHJpbmcge30KICAgIG9wZW4gZnVuYyBzdHJpbmcoZnJvbVZhbHVlIHZhbHVlOiBEb3VibGUsIHVuaXQ6IFVuaXQpIC0+IFN0cmluZyB7fQogICAgb3BlbiBmdW5jIHVuaXRTdHJpbmcoZnJvbUpvdWxlcyBudW1iZXJJbkpvdWxlczogRG91YmxlLCB1c2VkVW5pdCB1bml0cDogVW5zYWZlTXV0YWJsZVBvaW50ZXI8VW5pdD4/KSAtPiBTdHJpbmcge30KICAgIG9wZW4gZnVuYyB1bml0U3RyaW5nKGZyb21WYWx1ZSB2YWx1ZTogRG91YmxlLCB1bml0OiBVbml0KSAtPiBTdHJpbmcge30KfQpvcGVuIGNsYXNzIEZpbGVIYW5kbGUgOiBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNDb2RpbmcsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBOU1NlY3VyZUNvZGluZywgXyB7CiAgICBvcGVuIGNsYXNzIHZhciBudWxsRGV2aWNlOiBGaWxlSGFuZGxlIHsgZ2V0IH0KICAgIHB1YmxpYyBzdGF0aWMgdmFyIHJlYWRDb21wbGV0aW9uTm90aWZpY2F0aW9uIHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgdmFyIHN0YW5kYXJkRXJyb3I6IEZpbGVIYW5kbGUgeyBnZXQgfQogICAgb3BlbiBjbGFzcyB2YXIgc3RhbmRhcmRJbnB1dDogRmlsZUhhbmRsZSB7IGdldCB9CiAgICBvcGVuIGNsYXNzIHZhciBzdGFuZGFyZE91dHB1dDogRmlsZUhhbmRsZSB7IGdldCB9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdChmaWxlRGVzY3JpcHRvciBmZDogSW50MzIpIHt9CiAgICBwdWJsaWMgaW5pdChmaWxlRGVzY3JpcHRvciBmZDogSW50MzIsIGNsb3NlT25EZWFsbG9jIGNsb3Nlb3B0OiBCb29sKSB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQ/KGZvclJlYWRpbmdBdFBhdGggcGF0aDogU3RyaW5nKSB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQoZm9yUmVhZGluZ0Zyb20gdXJsOiBVUkwpIHRocm93cyB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQoZm9yVXBkYXRpbmcgdXJsOiBVUkwpIHRocm93cyB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQ/KGZvclVwZGF0aW5nQXRQYXRoIHBhdGg6IFN0cmluZykge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0Pyhmb3JXcml0aW5nQXRQYXRoIHBhdGg6IFN0cmluZykge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KGZvcldyaXRpbmdUbyB1cmw6IFVSTCkgdGhyb3dzIHt9CiAgICBvcGVuIHZhciBhdmFpbGFibGVEYXRhOiBEYXRhIHsgZ2V0IH0KICAgIG9wZW4gdmFyIGZpbGVEZXNjcmlwdG9yOiBJbnQzMiB7IGdldCB9CiAgICBvcGVuIHZhciBvZmZzZXRJbkZpbGU6IFVJbnQ2NCB7IGdldCB9CiAgICBvcGVuIHZhciByZWFkYWJpbGl0eUhhbmRsZXI6ICgoRmlsZUhhbmRsZSkgLT4gVm9pZCk/IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciB3cml0ZWFiaWxpdHlIYW5kbGVyOiAoKEZpbGVIYW5kbGUpIC0+IFZvaWQpPyB7IGdldCBzZXQgfQogICAgb3BlbiBmdW5jIGFjY2VwdENvbm5lY3Rpb25JbkJhY2tncm91bmRBbmROb3RpZnkoKSB7fQogICAgb3BlbiBmdW5jIGFjY2VwdENvbm5lY3Rpb25JbkJhY2tncm91bmRBbmROb3RpZnkoZm9yTW9kZXMgbW9kZXM6IFtSdW5Mb29wTW9kZV0/KSB7fQogICAgb3BlbiBmdW5jIGNsb3NlRmlsZSgpIHt9CiAgICBvcGVuIGZ1bmMgcmVhZERhdGEob2ZMZW5ndGggbGVuZ3RoOiBJbnQpIC0+IERhdGEge30KICAgIG9wZW4gZnVuYyByZWFkRGF0YVRvRW5kT2ZGaWxlKCkgLT4gRGF0YSB7fQogICAgb3BlbiBmdW5jIHJlYWRJbkJhY2tncm91bmRBbmROb3RpZnkoKSB7fQogICAgb3BlbiBmdW5jIHJlYWRJbkJhY2tncm91bmRBbmROb3RpZnkoZm9yTW9kZXMgbW9kZXM6IFtSdW5Mb29wTW9kZV0/KSB7fQogICAgb3BlbiBmdW5jIHJlYWRUb0VuZE9mRmlsZUluQmFja2dyb3VuZEFuZE5vdGlmeSgpIHt9CiAgICBvcGVuIGZ1bmMgcmVhZFRvRW5kT2ZGaWxlSW5CYWNrZ3JvdW5kQW5kTm90aWZ5KGZvck1vZGVzIG1vZGVzOiBbUnVuTG9vcE1vZGVdPykge30KICAgIG9wZW4gZnVuYyBzZWVrKHRvRmlsZU9mZnNldCBvZmZzZXQ6IFVJbnQ2NCkge30KICAgIEBkaXNjYXJkYWJsZVJlc3VsdCBvcGVuIGZ1bmMgc2Vla1RvRW5kT2ZGaWxlKCkgLT4gVUludDY0IHt9CiAgICBvcGVuIGZ1bmMgc3luY2hyb25pemVGaWxlKCkge30KICAgIG9wZW4gZnVuYyB0cnVuY2F0ZUZpbGUoYXRPZmZzZXQgb2Zmc2V0OiBVSW50NjQpIHt9CiAgICBvcGVuIGZ1bmMgd2FpdEZvckRhdGFJbkJhY2tncm91bmRBbmROb3RpZnkoKSB7fQogICAgb3BlbiBmdW5jIHdhaXRGb3JEYXRhSW5CYWNrZ3JvdW5kQW5kTm90aWZ5KGZvck1vZGVzIG1vZGVzOiBbUnVuTG9vcE1vZGVdPykge30KICAgIG9wZW4gZnVuYyB3cml0ZShfIGRhdGE6IERhdGEpIHt9Cn0Kb3BlbiBjbGFzcyBGaWxlTWFuYWdlciA6IEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCwgXyB7Cm9wZW4gY2xhc3MgRGlyZWN0b3J5RW51bWVyYXRvciA6IEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU0VudW1lcmF0b3IsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBTZXF1ZW5jZSwgXyB7CiAgICBvcGVuIHZhciBkaXJlY3RvcnlBdHRyaWJ1dGVzOiBbRmlsZUF0dHJpYnV0ZUtleTogQW55XT8geyBnZXQgfQogICAgb3BlbiB2YXIgZmlsZUF0dHJpYnV0ZXM6IFtGaWxlQXR0cmlidXRlS2V5OiBBbnldPyB7IGdldCB9CiAgICBvcGVuIHZhciBsZXZlbDogSW50IHsgZ2V0IH0KICAgIG9wZW4gZnVuYyBza2lwRGVzY2VuZGFudHMoKSB7fQp9CiAgICBvcGVuIGNsYXNzIHZhciBkZWZhdWx0OiBGaWxlTWFuYWdlciB7IGdldCB9CiAgICBvcGVuIHZhciBjdXJyZW50RGlyZWN0b3J5UGF0aDogU3RyaW5nIHsgZ2V0IH0KICAgIG9wZW4gd2VhayB2YXIgZGVsZWdhdGU6IEZpbGVNYW5hZ2VyRGVsZWdhdGU/IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBob21lRGlyZWN0b3J5Rm9yQ3VycmVudFVzZXI6IFVSTCB7IGdldCB9CiAgICBvcGVuIHZhciB0ZW1wb3JhcnlEaXJlY3Rvcnk6IFVSTCB7IGdldCB9CiNpZiAhKG9zKEFuZHJvaWQpKQogICAgb3BlbiBmdW5jIGF0dHJpYnV0ZXNPZkZpbGVTeXN0ZW0oZm9yUGF0aCBwYXRoOiBTdHJpbmcpIHRocm93cyAtPiBbRmlsZUF0dHJpYnV0ZUtleTogQW55XSB7fQojZW5kaWYKICAgIG9wZW4gZnVuYyBhdHRyaWJ1dGVzT2ZJdGVtKGF0UGF0aCBwYXRoOiBTdHJpbmcpIHRocm93cyAtPiBbRmlsZUF0dHJpYnV0ZUtleTogQW55XSB7fQogICAgQGRpc2NhcmRhYmxlUmVzdWx0IG9wZW4gZnVuYyBjaGFuZ2VDdXJyZW50RGlyZWN0b3J5UGF0aChfIHBhdGg6IFN0cmluZykgLT4gQm9vbCB7fQogICAgb3BlbiBmdW5jIGNvbXBvbmVudHNUb0Rpc3BsYXkoZm9yUGF0aCBwYXRoOiBTdHJpbmcpIC0+IFtTdHJpbmddPyB7fQogICAgb3BlbiBmdW5jIGNvbnRlbnRzKGF0UGF0aCBwYXRoOiBTdHJpbmcpIC0+IERhdGE/IHt9CiAgICBvcGVuIGZ1bmMgY29udGVudHNFcXVhbChhdFBhdGggcGF0aDE6IFN0cmluZywgYW5kUGF0aCBwYXRoMjogU3RyaW5nKSAtPiBCb29sIHt9CiAgICBvcGVuIGZ1bmMgY29udGVudHNPZkRpcmVjdG9yeShhdCB1cmw6IFVSTCwgaW5jbHVkaW5nUHJvcGVydGllc0ZvcktleXMga2V5czogW1VSTFJlc291cmNlS2V5XT8sIG9wdGlvbnMgbWFzazogRGlyZWN0b3J5RW51bWVyYXRpb25PcHRpb25zID0geCkgdGhyb3dzIC0+IFtVUkxdIHt9CiAgICBvcGVuIGZ1bmMgY29udGVudHNPZkRpcmVjdG9yeShhdFBhdGggcGF0aDogU3RyaW5nKSB0aHJvd3MgLT4gW1N0cmluZ10ge30KICAgIG9wZW4gZnVuYyBjb3B5SXRlbShhdCBzcmNVUkw6IFVSTCwgdG8gZHN0VVJMOiBVUkwpIHRocm93cyB7fQogICAgb3BlbiBmdW5jIGNvcHlJdGVtKGF0UGF0aCBzcmNQYXRoOiBTdHJpbmcsIHRvUGF0aCBkc3RQYXRoOiBTdHJpbmcpIHRocm93cyB7fQogICAgb3BlbiBmdW5jIGNyZWF0ZURpcmVjdG9yeShhdCB1cmw6IFVSTCwgd2l0aEludGVybWVkaWF0ZURpcmVjdG9yaWVzIGNyZWF0ZUludGVybWVkaWF0ZXM6IEJvb2wsIGF0dHJpYnV0ZXM6IFtGaWxlQXR0cmlidXRlS2V5OiBBbnldPyA9IHgpIHRocm93cyB7fQogICAgb3BlbiBmdW5jIGNyZWF0ZURpcmVjdG9yeShhdFBhdGggcGF0aDogU3RyaW5nLCB3aXRoSW50ZXJtZWRpYXRlRGlyZWN0b3JpZXMgY3JlYXRlSW50ZXJtZWRpYXRlczogQm9vbCwgYXR0cmlidXRlczogW0ZpbGVBdHRyaWJ1dGVLZXk6IEFueV0/ID0geCkgdGhyb3dzIHt9CiAgICBAZGlzY2FyZGFibGVSZXN1bHQgb3BlbiBmdW5jIGNyZWF0ZUZpbGUoYXRQYXRoIHBhdGg6IFN0cmluZywgY29udGVudHMgZGF0YTogRGF0YT8sIGF0dHJpYnV0ZXMgYXR0cjogW0ZpbGVBdHRyaWJ1dGVLZXk6IEFueV0/ID0geCkgLT4gQm9vbCB7fQogICAgb3BlbiBmdW5jIGNyZWF0ZVN5bWJvbGljTGluayhhdCB1cmw6IFVSTCwgd2l0aERlc3RpbmF0aW9uVVJMIGRlc3RVUkw6IFVSTCkgdGhyb3dzIHt9CiAgICBvcGVuIGZ1bmMgY3JlYXRlU3ltYm9saWNMaW5rKGF0UGF0aCBwYXRoOiBTdHJpbmcsIHdpdGhEZXN0aW5hdGlvblBhdGggZGVzdFBhdGg6IFN0cmluZykgdGhyb3dzIHt9CiAgICBvcGVuIGZ1bmMgZGVzdGluYXRpb25PZlN5bWJvbGljTGluayhhdFBhdGggcGF0aDogU3RyaW5nKSB0aHJvd3MgLT4gU3RyaW5nIHt9CiAgICBvcGVuIGZ1bmMgZGlzcGxheU5hbWUoYXRQYXRoIHBhdGg6IFN0cmluZykgLT4gU3RyaW5nIHt9CiAgICBvcGVuIGZ1bmMgZW51bWVyYXRvcihhdCB1cmw6IFVSTCwgaW5jbHVkaW5nUHJvcGVydGllc0ZvcktleXMga2V5czogW1VSTFJlc291cmNlS2V5XT8sIG9wdGlvbnMgbWFzazogRGlyZWN0b3J5RW51bWVyYXRpb25PcHRpb25zID0geCwgZXJyb3JIYW5kbGVyIGhhbmRsZXI6ICgoVVJMLCBFcnJvcikgLT4gQm9vbCk/ID0geCkgLT4gRGlyZWN0b3J5RW51bWVyYXRvcj8ge30KICAgIG9wZW4gZnVuYyBlbnVtZXJhdG9yKGF0UGF0aCBwYXRoOiBTdHJpbmcpIC0+IERpcmVjdG9yeUVudW1lcmF0b3I/IHt9CiAgICBvcGVuIGZ1bmMgZmlsZUV4aXN0cyhhdFBhdGggcGF0aDogU3RyaW5nKSAtPiBCb29sIHt9CiAgICBvcGVuIGZ1bmMgZmlsZUV4aXN0cyhhdFBhdGggcGF0aDogU3RyaW5nLCBpc0RpcmVjdG9yeTogVW5zYWZlTXV0YWJsZVBvaW50ZXI8T2JqQ0Jvb2w+PykgLT4gQm9vbCB7fQogICAgb3BlbiBmdW5jIGZpbGVTeXN0ZW1SZXByZXNlbnRhdGlvbih3aXRoUGF0aCBwYXRoOiBTdHJpbmcpIC0+IFVuc2FmZVBvaW50ZXI8SW50OD4ge30KICAgIG9wZW4gZnVuYyBnZXRSZWxhdGlvbnNoaXAoXyBvdXRSZWxhdGlvbnNoaXA6IFVuc2FmZU11dGFibGVQb2ludGVyPFVSTFJlbGF0aW9uc2hpcD4sIG9mIGRpcmVjdG9yeTogU2VhcmNoUGF0aERpcmVjdG9yeSwgaW4gZG9tYWluTWFzazogU2VhcmNoUGF0aERvbWFpbk1hc2ssIHRvSXRlbUF0IHVybDogVVJMKSB0aHJvd3Mge30KICAgIG9wZW4gZnVuYyBnZXRSZWxhdGlvbnNoaXAoXyBvdXRSZWxhdGlvbnNoaXA6IFVuc2FmZU11dGFibGVQb2ludGVyPFVSTFJlbGF0aW9uc2hpcD4sIG9mRGlyZWN0b3J5QXQgZGlyZWN0b3J5VVJMOiBVUkwsIHRvSXRlbUF0IG90aGVyVVJMOiBVUkwpIHRocm93cyB7fQogICAgb3BlbiBmdW5jIGhvbWVEaXJlY3RvcnkoZm9yVXNlciB1c2VyTmFtZTogU3RyaW5nKSAtPiBVUkw/IHt9CiAgICBvcGVuIGZ1bmMgaXNEZWxldGFibGVGaWxlKGF0UGF0aCBwYXRoOiBTdHJpbmcpIC0+IEJvb2wge30KICAgIG9wZW4gZnVuYyBpc0V4ZWN1dGFibGVGaWxlKGF0UGF0aCBwYXRoOiBTdHJpbmcpIC0+IEJvb2wge30KICAgIG9wZW4gZnVuYyBpc1JlYWRhYmxlRmlsZShhdFBhdGggcGF0aDogU3RyaW5nKSAtPiBCb29sIHt9CiAgICBvcGVuIGZ1bmMgaXNXcml0YWJsZUZpbGUoYXRQYXRoIHBhdGg6IFN0cmluZykgLT4gQm9vbCB7fQogICAgb3BlbiBmdW5jIGxpbmtJdGVtKGF0IHNyY1VSTDogVVJMLCB0byBkc3RVUkw6IFVSTCkgdGhyb3dzIHt9CiAgICBvcGVuIGZ1bmMgbGlua0l0ZW0oYXRQYXRoIHNyY1BhdGg6IFN0cmluZywgdG9QYXRoIGRzdFBhdGg6IFN0cmluZykgdGhyb3dzIHt9CiAgICBvcGVuIGZ1bmMgbW91bnRlZFZvbHVtZVVSTHMoaW5jbHVkaW5nUmVzb3VyY2VWYWx1ZXNGb3JLZXlzIHByb3BlcnR5S2V5czogW1VSTFJlc291cmNlS2V5XT8sIG9wdGlvbnM6IFZvbHVtZUVudW1lcmF0aW9uT3B0aW9ucyA9IHgpIC0+IFtVUkxdPyB7fQogICAgb3BlbiBmdW5jIG1vdmVJdGVtKGF0IHNyY1VSTDogVVJMLCB0byBkc3RVUkw6IFVSTCkgdGhyb3dzIHt9CiAgICBvcGVuIGZ1bmMgbW92ZUl0ZW0oYXRQYXRoIHNyY1BhdGg6IFN0cmluZywgdG9QYXRoIGRzdFBhdGg6IFN0cmluZykgdGhyb3dzIHt9CiAgICBvcGVuIGZ1bmMgcmVtb3ZlSXRlbShhdCB1cmw6IFVSTCkgdGhyb3dzIHt9CiAgICBvcGVuIGZ1bmMgcmVtb3ZlSXRlbShhdFBhdGggcGF0aDogU3RyaW5nKSB0aHJvd3Mge30KICAgIG9wZW4gZnVuYyByZXBsYWNlSXRlbShhdCBvcmlnaW5hbEl0ZW1VUkw6IFVSTCwgd2l0aEl0ZW1BdCBuZXdJdGVtVVJMOiBVUkwsIGJhY2t1cEl0ZW1OYW1lOiBTdHJpbmc/LCBvcHRpb25zOiBJdGVtUmVwbGFjZW1lbnRPcHRpb25zID0geCkgdGhyb3dzIHt9CiAgICBwdWJsaWMgZnVuYyByZXBsYWNlSXRlbUF0KF8gb3JpZ2luYWxJdGVtVVJMOiBVUkwsIHdpdGhJdGVtQXQgbmV3SXRlbVVSTDogVVJMLCBiYWNrdXBJdGVtTmFtZTogU3RyaW5nPyA9IHgsIG9wdGlvbnM6IEl0ZW1SZXBsYWNlbWVudE9wdGlvbnMgPSB4KSB0aHJvd3MgLT4gTlNVUkw/IHt9CiAgICBvcGVuIGZ1bmMgc2V0QXR0cmlidXRlcyhfIGF0dHJpYnV0ZXM6IFtGaWxlQXR0cmlidXRlS2V5OiBBbnldLCBvZkl0ZW1BdFBhdGggcGF0aDogU3RyaW5nKSB0aHJvd3Mge30KICAgIG9wZW4gZnVuYyBzdHJpbmcod2l0aEZpbGVTeXN0ZW1SZXByZXNlbnRhdGlvbiBzdHI6IFVuc2FmZVBvaW50ZXI8SW50OD4sIGxlbmd0aCBsZW46IEludCkgLT4gU3RyaW5nIHt9CiAgICBvcGVuIGZ1bmMgc3VicGF0aHMoYXRQYXRoIHBhdGg6IFN0cmluZykgLT4gW1N0cmluZ10/IHt9CiAgICBvcGVuIGZ1bmMgc3VicGF0aHNPZkRpcmVjdG9yeShhdFBhdGggcGF0aDogU3RyaW5nKSB0aHJvd3MgLT4gW1N0cmluZ10ge30KICAgIG9wZW4gZnVuYyB1cmwoZm9yIGRpcmVjdG9yeTogU2VhcmNoUGF0aERpcmVjdG9yeSwgaW4gZG9tYWluOiBTZWFyY2hQYXRoRG9tYWluTWFzaywgYXBwcm9wcmlhdGVGb3IgdXJsOiBVUkw/LCBjcmVhdGUgc2hvdWxkQ3JlYXRlOiBCb29sKSB0aHJvd3MgLT4gVVJMIHt9CiNpZiAhKG9zKFdpbmRvd3MpICkKICAgIG9wZW4gZnVuYyB1cmxzKGZvciBkaXJlY3Rvcnk6IFNlYXJjaFBhdGhEaXJlY3RvcnksIGluIGRvbWFpbk1hc2s6IFNlYXJjaFBhdGhEb21haW5NYXNrKSAtPiBbVVJMXSB7fQojZW5kaWYKfQpvcGVuIGNsYXNzIEZvcm1hdHRlciA6IEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU0NvZGluZywgTlNDb3B5aW5nLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCwgXyB7CiAgICBvcGVuIGZ1bmMgZWRpdGluZ1N0cmluZyhmb3Igb2JqOiBBbnkpIC0+IFN0cmluZz8ge30KICAgIG9wZW4gZnVuYyBvYmplY3RWYWx1ZShfIHN0cmluZzogU3RyaW5nKSB0aHJvd3MgLT4gQW55PyB7fQogICAgb3BlbiBmdW5jIHN0cmluZyhmb3Igb2JqOiBBbnkpIC0+IFN0cmluZz8ge30KfQpvcGVuIGNsYXNzIEhUVFBDb29raWUgOiBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wsIF8gewogICAgb3BlbiBjbGFzcyBmdW5jIGNvb2tpZXMod2l0aFJlc3BvbnNlSGVhZGVyRmllbGRzIGhlYWRlckZpZWxkczogW1N0cmluZzogU3RyaW5nXSwgZm9yIFVSTDogVVJMKSAtPiBbSFRUUENvb2tpZV0ge30KICAgIG9wZW4gY2xhc3MgZnVuYyByZXF1ZXN0SGVhZGVyRmllbGRzKHdpdGggY29va2llczogW0hUVFBDb29raWVdKSAtPiBbU3RyaW5nOiBTdHJpbmddIHt9CiAgICBwdWJsaWMgaW5pdD8ocHJvcGVydGllczogW0hUVFBDb29raWVQcm9wZXJ0eUtleTogQW55XSkge30KICAgIG9wZW4gdmFyIGNvbW1lbnQ6IFN0cmluZz8geyBnZXQgfQogICAgb3BlbiB2YXIgY29tbWVudFVSTDogVVJMPyB7IGdldCB9CiAgICBvcGVuIHZhciBkb21haW46IFN0cmluZyB7IGdldCB9CiAgICBvcGVuIHZhciBleHBpcmVzRGF0ZTogRGF0ZT8geyBnZXQgfQogICAgb3BlbiB2YXIgaXNIVFRQT25seTogQm9vbCB7IGdldCB9CiAgICBvcGVuIHZhciBpc1NlY3VyZTogQm9vbCB7IGdldCB9CiAgICBvcGVuIHZhciBpc1Nlc3Npb25Pbmx5OiBCb29sIHsgZ2V0IH0KICAgIG9wZW4gdmFyIG5hbWU6IFN0cmluZyB7IGdldCB9CiAgICBvcGVuIHZhciBwYXRoOiBTdHJpbmcgeyBnZXQgfQogICAgb3BlbiB2YXIgcG9ydExpc3Q6IFtOU051bWJlcl0/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHByb3BlcnRpZXM6IFtIVFRQQ29va2llUHJvcGVydHlLZXk6IEFueV0/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHZhbHVlOiBTdHJpbmcgeyBnZXQgfQogICAgb3BlbiB2YXIgdmVyc2lvbjogSW50IHsgZ2V0IH0KfQpvcGVuIGNsYXNzIEhUVFBDb29raWVTdG9yYWdlIDogQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBfIHsKICAgIG9wZW4gY2xhc3MgdmFyIHNoYXJlZDogSFRUUENvb2tpZVN0b3JhZ2UgeyBnZXQgfQogICAgb3BlbiBjbGFzcyBmdW5jIHNoYXJlZENvb2tpZVN0b3JhZ2UoZm9yR3JvdXBDb250YWluZXJJZGVudGlmaWVyIGlkZW50aWZpZXI6IFN0cmluZykgLT4gSFRUUENvb2tpZVN0b3JhZ2Uge30KICAgIG9wZW4gdmFyIGNvb2tpZUFjY2VwdFBvbGljeTogSFRUUENvb2tpZS5BY2NlcHRQb2xpY3kgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGNvb2tpZXM6IFtIVFRQQ29va2llXT8geyBnZXQgfQogICAgb3BlbiBmdW5jIGNvb2tpZXMoZm9yIHVybDogVVJMKSAtPiBbSFRUUENvb2tpZV0/IHt9CiAgICBvcGVuIGZ1bmMgZGVsZXRlQ29va2llKF8gY29va2llOiBIVFRQQ29va2llKSB7fQogICAgb3BlbiBmdW5jIHJlbW92ZUNvb2tpZXMoc2luY2UgZGF0ZTogRGF0ZSkge30KICAgIG9wZW4gZnVuYyBzZXRDb29raWUoXyBjb29raWU6IEhUVFBDb29raWUpIHt9CiAgICBvcGVuIGZ1bmMgc2V0Q29va2llcyhfIGNvb2tpZXM6IFtIVFRQQ29va2llXSwgZm9yIHVybDogVVJMPywgbWFpbkRvY3VtZW50VVJMOiBVUkw/KSB7fQogICAgb3BlbiBmdW5jIHNvcnRlZENvb2tpZXModXNpbmcgc29ydE9yZGVyOiBbTlNTb3J0RGVzY3JpcHRvcl0pIC0+IFtIVFRQQ29va2llXSB7fQp9Cm9wZW4gY2xhc3MgSFRUUFVSTFJlc3BvbnNlIDogTlNDb3B5aW5nLCBOU09iamVjdCwgTlNTZWN1cmVDb2RpbmcsIFVSTFJlc3BvbnNlIHsKICAgIG9wZW4gY2xhc3MgZnVuYyBsb2NhbGl6ZWRTdHJpbmcoZm9yU3RhdHVzQ29kZSBzdGF0dXNDb2RlOiBJbnQpIC0+IFN0cmluZyB7fQogICAgcHVibGljIGluaXQ/KHVybDogVVJMLCBzdGF0dXNDb2RlOiBJbnQsIGh0dHBWZXJzaW9uOiBTdHJpbmc/LCBoZWFkZXJGaWVsZHM6IFtTdHJpbmc6IFN0cmluZ10/KSB7fQogICAgcHVibGljIHZhciBhbGxIZWFkZXJGaWVsZHM6IFtBbnlIYXNoYWJsZTogQW55XSB7IGdldCB9CiAgICBvcGVuIHZhciBkZXNjcmlwdGlvbjogU3RyaW5nIHsgZ2V0IH0KICAgIHB1YmxpYyB2YXIgc3RhdHVzQ29kZTogSW50IHsgZ2V0IH0KfQpvcGVuIGNsYXNzIEhvc3QgOiBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wsIF8gewogICAgb3BlbiBjbGFzcyBmdW5jIGN1cnJlbnQoKSAtPiBIb3N0IHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdChhZGRyZXNzOiBTdHJpbmcpIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdChuYW1lOiBTdHJpbmc/KSB7fQogICAgb3BlbiB2YXIgYWRkcmVzczogU3RyaW5nPyB7IGdldCB9CiAgICBvcGVuIHZhciBhZGRyZXNzZXM6IFtTdHJpbmddIHsgZ2V0IH0KICAgIG9wZW4gdmFyIGxvY2FsaXplZE5hbWU6IFN0cmluZz8geyBnZXQgfQogICAgb3BlbiB2YXIgbmFtZTogU3RyaW5nPyB7IGdldCB9CiAgICBvcGVuIHZhciBuYW1lczogW1N0cmluZ10geyBnZXQgfQogICAgb3BlbiBmdW5jIGlzRXF1YWwodG8gYUhvc3Q6IEhvc3QpIC0+IEJvb2wge30KfQpvcGVuIGNsYXNzIElTTzg2MDFEYXRlRm9ybWF0dGVyIDogQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgRm9ybWF0dGVyLCBIYXNoYWJsZSwgTlNDb2RpbmcsIE5TQ29weWluZywgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wsIE5TU2VjdXJlQ29kaW5nLCBfIHsKICAgIG9wZW4gY2xhc3MgZnVuYyBzdHJpbmcoZnJvbSBkYXRlOiBEYXRlLCB0aW1lWm9uZTogVGltZVpvbmUsIGZvcm1hdE9wdGlvbnM6IElTTzg2MDFEYXRlRm9ybWF0dGVyLk9wdGlvbnMgPSB4KSAtPiBTdHJpbmcge30KICAgIG9wZW4gdmFyIGZvcm1hdE9wdGlvbnM6IElTTzg2MDFEYXRlRm9ybWF0dGVyLk9wdGlvbnMgeyBnZXQgfQogICAgb3BlbiB2YXIgdGltZVpvbmU6IFRpbWVab25lISB7IGdldCB9CiAgICBvcGVuIGZ1bmMgZGF0ZShmcm9tIHN0cmluZzogU3RyaW5nKSAtPiBEYXRlPyB7fQogICAgb3BlbiBmdW5jIHN0cmluZyhmcm9tIGRhdGU6IERhdGUpIC0+IFN0cmluZyB7fQp9Cm9wZW4gY2xhc3MgSW5wdXRTdHJlYW0gOiBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wsIFN0cmVhbSwgXyB7CiAgICBwdWJsaWMgaW5pdChkYXRhOiBEYXRhKSB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQ/KGZpbGVBdFBhdGggcGF0aDogU3RyaW5nKSB7fQogICAgcHVibGljIGluaXQ/KHVybDogVVJMKSB7fQogICAgb3BlbiB2YXIgaGFzQnl0ZXNBdmFpbGFibGU6IEJvb2wgeyBnZXQgfQogICAgb3BlbiBmdW5jIGdldEJ1ZmZlcihfIGJ1ZmZlcjogVW5zYWZlTXV0YWJsZVBvaW50ZXI8VW5zYWZlTXV0YWJsZVBvaW50ZXI8VUludDg+Pz4sIGxlbmd0aCBsZW46IFVuc2FmZU11dGFibGVQb2ludGVyPEludD4pIC0+IEJvb2wge30KICAgIG9wZW4gZnVuYyByZWFkKF8gYnVmZmVyOiBVbnNhZmVNdXRhYmxlUG9pbnRlcjxVSW50OD4sIG1heExlbmd0aCBsZW46IEludCkgLT4gSW50IHt9Cn0Kb3BlbiBjbGFzcyBKU09ORGVjb2RlciB7CiAgICBwdWJsaWMgaW5pdCgpIHt9CiAgICBvcGVuIHZhciBkYXRhRGVjb2RpbmdTdHJhdGVneTogRGF0YURlY29kaW5nU3RyYXRlZ3kgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGRhdGVEZWNvZGluZ1N0cmF0ZWd5OiBEYXRlRGVjb2RpbmdTdHJhdGVneSB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIga2V5RGVjb2RpbmdTdHJhdGVneTogS2V5RGVjb2RpbmdTdHJhdGVneSB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgbm9uQ29uZm9ybWluZ0Zsb2F0RGVjb2RpbmdTdHJhdGVneTogTm9uQ29uZm9ybWluZ0Zsb2F0RGVjb2RpbmdTdHJhdGVneSB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgdXNlckluZm86IFtDb2RpbmdVc2VySW5mb0tleTogQW55XSB7IGdldCBzZXQgfQogICAgb3BlbiBmdW5jIGRlY29kZTxUPihfIHR5cGU6IFQuVHlwZSwgZnJvbSBkYXRhOiBEYXRhKSB0aHJvd3MgLT4gVCB3aGVyZSBUIDogRGVjb2RhYmxlIHt9Cn0Kb3BlbiBjbGFzcyBKU09ORW5jb2RlciB7CiAgICBwdWJsaWMgaW5pdCgpIHt9CiAgICBvcGVuIHZhciBkYXRhRW5jb2RpbmdTdHJhdGVneTogRGF0YUVuY29kaW5nU3RyYXRlZ3kgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGRhdGVFbmNvZGluZ1N0cmF0ZWd5OiBEYXRlRW5jb2RpbmdTdHJhdGVneSB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIga2V5RW5jb2RpbmdTdHJhdGVneTogS2V5RW5jb2RpbmdTdHJhdGVneSB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgbm9uQ29uZm9ybWluZ0Zsb2F0RW5jb2RpbmdTdHJhdGVneTogTm9uQ29uZm9ybWluZ0Zsb2F0RW5jb2RpbmdTdHJhdGVneSB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgb3V0cHV0Rm9ybWF0dGluZzogT3V0cHV0Rm9ybWF0dGluZyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgdXNlckluZm86IFtDb2RpbmdVc2VySW5mb0tleTogQW55XSB7IGdldCBzZXQgfQogICAgb3BlbiBmdW5jIGVuY29kZTxUPihfIHZhbHVlOiBUKSB0aHJvd3MgLT4gRGF0YSB3aGVyZSBUIDogRW5jb2RhYmxlIHt9Cn0Kb3BlbiBjbGFzcyBKU09OU2VyaWFsaXphdGlvbiA6IEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCwgXyB7CiAgICBvcGVuIGNsYXNzIGZ1bmMgZGF0YSh3aXRoSlNPTk9iamVjdCB2YWx1ZTogQW55LCBvcHRpb25zIG9wdDogV3JpdGluZ09wdGlvbnMgPSB4KSB0aHJvd3MgLT4gRGF0YSB7fQogICAgb3BlbiBjbGFzcyBmdW5jIGlzVmFsaWRKU09OT2JqZWN0KF8gb2JqOiBBbnkpIC0+IEJvb2wge30KICAgIG9wZW4gY2xhc3MgZnVuYyBqc29uT2JqZWN0KHdpdGggZGF0YTogRGF0YSwgb3B0aW9ucyBvcHQ6IFJlYWRpbmdPcHRpb25zID0geCkgdGhyb3dzIC0+IEFueSB7fQogICAgb3BlbiBjbGFzcyBmdW5jIHdyaXRlSlNPTk9iamVjdChfIG9iajogQW55LCB0b1N0cmVhbSBzdHJlYW06IE91dHB1dFN0cmVhbSwgb3B0aW9ucyBvcHQ6IFdyaXRpbmdPcHRpb25zKSB0aHJvd3MgLT4gSW50IHt9Cn0Kb3BlbiBjbGFzcyBMZW5ndGhGb3JtYXR0ZXIgOiBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBGb3JtYXR0ZXIsIEhhc2hhYmxlLCBOU0NvZGluZywgTlNDb3B5aW5nLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCwgXyB7CiAgICBvcGVuIHZhciBpc0ZvclBlcnNvbkhlaWdodFVzZTogQm9vbCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgbnVtYmVyRm9ybWF0dGVyOiBOdW1iZXJGb3JtYXR0ZXIhIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciB1bml0U3R5bGU6IFVuaXRTdHlsZSB7IGdldCBzZXQgfQogICAgb3BlbiBmdW5jIHN0cmluZyhmcm9tTWV0ZXJzIG51bWJlckluTWV0ZXJzOiBEb3VibGUpIC0+IFN0cmluZyB7fQogICAgb3BlbiBmdW5jIHN0cmluZyhmcm9tVmFsdWUgdmFsdWU6IERvdWJsZSwgdW5pdDogTGVuZ3RoRm9ybWF0dGVyLlVuaXQpIC0+IFN0cmluZyB7fQogICAgb3BlbiBmdW5jIHVuaXRTdHJpbmcoZnJvbU1ldGVycyBudW1iZXJJbk1ldGVyczogRG91YmxlLCB1c2VkVW5pdCB1bml0cDogVW5zYWZlTXV0YWJsZVBvaW50ZXI8VW5pdD4/KSAtPiBTdHJpbmcge30KICAgIG9wZW4gZnVuYyB1bml0U3RyaW5nKGZyb21WYWx1ZSB2YWx1ZTogRG91YmxlLCB1bml0OiBVbml0KSAtPiBTdHJpbmcge30KfQpvcGVuIGNsYXNzIE1hc3NGb3JtYXR0ZXIgOiBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBGb3JtYXR0ZXIsIEhhc2hhYmxlLCBOU0NvZGluZywgTlNDb3B5aW5nLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCwgXyB7CiAgICBvcGVuIHZhciBpc0ZvclBlcnNvbk1hc3NVc2U6IEJvb2wgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIG51bWJlckZvcm1hdHRlcjogTnVtYmVyRm9ybWF0dGVyISB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgdW5pdFN0eWxlOiBVbml0U3R5bGUgeyBnZXQgc2V0IH0KICAgIG9wZW4gZnVuYyBzdHJpbmcoZnJvbUtpbG9ncmFtcyBudW1iZXJJbktpbG9ncmFtczogRG91YmxlKSAtPiBTdHJpbmcge30KICAgIG9wZW4gZnVuYyBzdHJpbmcoZnJvbVZhbHVlIHZhbHVlOiBEb3VibGUsIHVuaXQ6IFVuaXQpIC0+IFN0cmluZyB7fQogICAgb3BlbiBmdW5jIHVuaXRTdHJpbmcoZnJvbUtpbG9ncmFtcyBudW1iZXJJbktpbG9ncmFtczogRG91YmxlLCB1c2VkVW5pdCB1bml0cDogVW5zYWZlTXV0YWJsZVBvaW50ZXI8VW5pdD4/KSAtPiBTdHJpbmcge30KICAgIG9wZW4gZnVuYyB1bml0U3RyaW5nKGZyb21WYWx1ZSB2YWx1ZTogRG91YmxlLCB1bml0OiBVbml0KSAtPiBTdHJpbmcge30KICAgIG9wZW4gZnVuYyB1bml0U3RyaW5nRGlzcGxheWVkQWRqYWNlbnQodG9WYWx1ZSB2YWx1ZTogRG91YmxlLCB1bml0OiBVbml0KSAtPiBTdHJpbmcge30KfQpvcGVuIGNsYXNzIE1lYXN1cmVtZW50Rm9ybWF0dGVyIDogQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgRm9ybWF0dGVyLCBIYXNoYWJsZSwgTlNDb2RpbmcsIE5TQ29weWluZywgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wsIE5TU2VjdXJlQ29kaW5nLCBfIHsKICAgIG9wZW4gdmFyIGxvY2FsZTogTG9jYWxlISB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgbnVtYmVyRm9ybWF0dGVyOiBOdW1iZXJGb3JtYXR0ZXIhIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciB1bml0T3B0aW9uczogTWVhc3VyZW1lbnRGb3JtYXR0ZXIuVW5pdE9wdGlvbnMgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHVuaXRTdHlsZTogRm9ybWF0dGVyLlVuaXRTdHlsZSB7IGdldCBzZXQgfQogICAgcHVibGljIGZ1bmMgc3RyaW5nPFVuaXRUeXBlPihmcm9tIG1lYXN1cmVtZW50OiBNZWFzdXJlbWVudDxVbml0VHlwZT4pIC0+IFN0cmluZyB7fQp9Cm9wZW4gY2xhc3MgTWVzc2FnZVBvcnQgOiBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNDb2RpbmcsIE5TQ29weWluZywgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wsIFBvcnQsIF8gewp9Cm9wZW4gY2xhc3MgTlNBZmZpbmVUcmFuc2Zvcm0gOiBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNDb2RpbmcsIE5TQ29weWluZywgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wsIE5TU2VjdXJlQ29kaW5nLCBfLCBfU3RydWN0VHlwZUJyaWRnZWFibGUgewogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQodHJhbnNmb3JtOiBBZmZpbmVUcmFuc2Zvcm0pIHt9CiAgICBwdWJsaWMgdmFyIHRyYW5zZm9ybVN0cnVjdDogTlNBZmZpbmVUcmFuc2Zvcm1TdHJ1Y3QgeyBnZXQgc2V0IH0KICAgIG9wZW4gZnVuYyBhcHBlbmQoXyB0cmFuc2Zvcm06IEFmZmluZVRyYW5zZm9ybSkge30KICAgIG9wZW4gZnVuYyBpbnZlcnQoKSB7fQogICAgb3BlbiBmdW5jIHByZXBlbmQoXyB0cmFuc2Zvcm06IEFmZmluZVRyYW5zZm9ybSkge30KICAgIG9wZW4gZnVuYyByb3RhdGUoYnlEZWdyZWVzIGFuZ2xlOiBDR0Zsb2F0KSB7fQogICAgb3BlbiBmdW5jIHJvdGF0ZShieVJhZGlhbnMgYW5nbGU6IENHRmxvYXQpIHt9CiAgICBvcGVuIGZ1bmMgc2NhbGUoYnkgc2NhbGU6IENHRmxvYXQpIHt9CiAgICBvcGVuIGZ1bmMgc2NhbGVYKGJ5IHNjYWxlWDogQ0dGbG9hdCwgeUJ5IHNjYWxlWTogQ0dGbG9hdCkge30KICAgIG9wZW4gZnVuYyB0cmFuc2Zvcm0oXyBhUG9pbnQ6IE5TUG9pbnQpIC0+IE5TUG9pbnQge30KICAgIG9wZW4gZnVuYyB0cmFuc2Zvcm0oXyBhU2l6ZTogTlNTaXplKSAtPiBOU1NpemUge30KICAgIG9wZW4gZnVuYyB0cmFuc2xhdGVYKGJ5IGRlbHRhWDogQ0dGbG9hdCwgeUJ5IGRlbHRhWTogQ0dGbG9hdCkge30KfQpvcGVuIGNsYXNzIE5TQXJyYXkgOiBDdXN0b21SZWZsZWN0YWJsZSwgRXhwcmVzc2libGVCeUFycmF5TGl0ZXJhbCwgTlNDb2RpbmcsIE5TQ29weWluZywgTlNNdXRhYmxlQ29weWluZywgTlNPYmplY3QsIE5TU2VjdXJlQ29kaW5nLCBTZXF1ZW5jZSwgX0NGQnJpZGdlYWJsZSwgX1N0cnVjdFR5cGVCcmlkZ2VhYmxlLCBfU3dpZnRCcmlkZ2VhYmxlIHsKICAgIHB1YmxpYyBzdGF0aWMgdmFyIHN1cHBvcnRzU2VjdXJlQ29kaW5nOiBCb29sIHsgZ2V0IH0KICAgIHB1YmxpYyBpbml0KCkge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KGFycmF5OiBbQW55XSkge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KGFycmF5OiBbQW55XSwgY29weUl0ZW1zOiBCb29sKSB7fQogICAgcHVibGljIHJlcXVpcmVkIGNvbnZlbmllbmNlIGluaXQoYXJyYXlMaXRlcmFsIGVsZW1lbnRzOiBBbnkuLi4pIHt9CiAgICBwdWJsaWMgcmVxdWlyZWQgY29udmVuaWVuY2UgaW5pdD8oY29kZXIgYURlY29kZXI6IE5TQ29kZXIpIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdChjb250ZW50c09mIHVybDogVVJMLCBlcnJvcjogVm9pZCkgdGhyb3dzIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdChvYmplY3QgYW5PYmplY3Q6IEFueSkge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KG9iamVjdHMgZWxlbWVudHM6IEFueU9iamVjdC4uLikge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KG9iamVjdHM6IFVuc2FmZVBvaW50ZXI8QW55T2JqZWN0PiwgY291bnQ6IEludCkge30KICAgIG9wZW4gdmFyIGNvdW50OiBJbnQgeyBnZXQgfQogICAgcHVibGljIHZhciBjdXN0b21NaXJyb3I6IE1pcnJvciB7IGdldCB9CiAgICBvcGVuIHZhciBkZXNjcmlwdGlvbjogU3RyaW5nIHsgZ2V0IH0KICAgIG9wZW4gdmFyIGZpcnN0T2JqZWN0OiBBbnk/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGhhc2g6IEludCB7IGdldCB9CiAgICBvcGVuIHZhciBsYXN0T2JqZWN0OiBBbnk/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHNvcnRlZEFycmF5SGludDogRGF0YSB7IGdldCB9CiAgICBvcGVuIHN1YnNjcmlwdChpZHg6IEludCkgLT4gQW55IHsgZ2V0IH0ge30KICAgIG9wZW4gZnVuYyBhZGRpbmcoXyBhbk9iamVjdDogQW55KSAtPiBbQW55XSB7fQogICAgb3BlbiBmdW5jIGFkZGluZ09iamVjdHMoZnJvbSBvdGhlckFycmF5OiBbQW55XSkgLT4gW0FueV0ge30KICAgIG9wZW4gZnVuYyBjb21wb25lbnRzSm9pbmVkKGJ5IHNlcGFyYXRvcjogU3RyaW5nKSAtPiBTdHJpbmcge30KICAgIG9wZW4gZnVuYyBjb250YWlucyhfIGFuT2JqZWN0OiBBbnkpIC0+IEJvb2wge30KICAgIG9wZW4gZnVuYyBjb3B5KCkgLT4gQW55IHt9CiAgICBvcGVuIGZ1bmMgY29weSh3aXRoIHpvbmU6IE5TWm9uZT8gPSB4KSAtPiBBbnkge30KICAgIG9wZW4gZnVuYyBkZXNjcmlwdGlvbih3aXRoTG9jYWxlIGxvY2FsZTogTG9jYWxlPykgLT4gU3RyaW5nIHt9CiAgICBvcGVuIGZ1bmMgZGVzY3JpcHRpb24od2l0aExvY2FsZSBsb2NhbGU6IExvY2FsZT8sIGluZGVudCBsZXZlbDogSW50KSAtPiBTdHJpbmcge30KICAgIG9wZW4gZnVuYyBlbmNvZGUod2l0aCBhQ29kZXI6IE5TQ29kZXIpIHt9CiAgICBvcGVuIGZ1bmMgZW51bWVyYXRlT2JqZWN0cyhfIGJsb2NrOiAoQW55LCBJbnQsIFVuc2FmZU11dGFibGVQb2ludGVyPE9iakNCb29sPikgLT4gU3dpZnQuVm9pZCkge30KICAgIG9wZW4gZnVuYyBlbnVtZXJhdGVPYmplY3RzKGF0IHM6IEluZGV4U2V0LCBvcHRpb25zIG9wdHM6IE5TRW51bWVyYXRpb25PcHRpb25zID0geCwgdXNpbmcgYmxvY2s6IChBbnksIEludCwgVW5zYWZlTXV0YWJsZVBvaW50ZXI8T2JqQ0Jvb2w+KSAtPiBTd2lmdC5Wb2lkKSB7fQogICAgb3BlbiBmdW5jIGVudW1lcmF0ZU9iamVjdHMob3B0aW9ucyBvcHRzOiBOU0VudW1lcmF0aW9uT3B0aW9ucyA9IHgsIHVzaW5nIGJsb2NrOiAoQW55LCBJbnQsIFVuc2FmZU11dGFibGVQb2ludGVyPE9iakNCb29sPikgLT4gU3dpZnQuVm9pZCkge30KICAgIG9wZW4gZnVuYyBmaWx0ZXJlZCh1c2luZyBwcmVkaWNhdGU6IE5TUHJlZGljYXRlKSAtPiBbQW55XSB7fQogICAgb3BlbiBmdW5jIGZpcnN0T2JqZWN0Q29tbW9uKHdpdGggb3RoZXJBcnJheTogW0FueV0pIC0+IEFueT8ge30KICAgIG9wZW4gZnVuYyBpbmRleChvZiBhbk9iamVjdDogQW55KSAtPiBJbnQge30KICAgIG9wZW4gZnVuYyBpbmRleChvZiBhbk9iamVjdDogQW55LCBpbiByYW5nZTogTlNSYW5nZSkgLT4gSW50IHt9CiAgICBvcGVuIGZ1bmMgaW5kZXgob2Ygb2JqOiBBbnksIGluU29ydGVkUmFuZ2UgcjogTlNSYW5nZSwgb3B0aW9ucyBvcHRzOiBOU0JpbmFyeVNlYXJjaGluZ09wdGlvbnMgPSB4LCB1c2luZ0NvbXBhcmF0b3IgY21wOiAoQW55LCBBbnkpIC0+IENvbXBhcmlzb25SZXN1bHQpIC0+IEludCB7fQogICAgb3BlbiBmdW5jIGluZGV4T2ZPYmplY3QoYXQgczogSW5kZXhTZXQsIG9wdGlvbnMgb3B0czogTlNFbnVtZXJhdGlvbk9wdGlvbnMgPSB4LCBwYXNzaW5nVGVzdCBwcmVkaWNhdGU6IChBbnksIEludCwgVW5zYWZlTXV0YWJsZVBvaW50ZXI8T2JqQ0Jvb2w+KSAtPiBCb29sKSAtPiBJbnQge30KICAgIG9wZW4gZnVuYyBpbmRleE9mT2JqZWN0KG9wdGlvbnMgb3B0czogTlNFbnVtZXJhdGlvbk9wdGlvbnMgPSB4LCBwYXNzaW5nVGVzdCBwcmVkaWNhdGU6IChBbnksIEludCwgVW5zYWZlTXV0YWJsZVBvaW50ZXI8T2JqQ0Jvb2w+KSAtPiBCb29sKSAtPiBJbnQge30KICAgIG9wZW4gZnVuYyBpbmRleE9mT2JqZWN0KHBhc3NpbmdUZXN0IHByZWRpY2F0ZTogKEFueSwgSW50LCBVbnNhZmVNdXRhYmxlUG9pbnRlcjxPYmpDQm9vbD4pIC0+IEJvb2wpIC0+IEludCB7fQogICAgb3BlbiBmdW5jIGluZGV4T2ZPYmplY3RJZGVudGljYWwodG8gYW5PYmplY3Q6IEFueSkgLT4gSW50IHt9CiAgICBvcGVuIGZ1bmMgaW5kZXhPZk9iamVjdElkZW50aWNhbCh0byBhbk9iamVjdDogQW55LCBpbiByYW5nZTogTlNSYW5nZSkgLT4gSW50IHt9CiAgICBvcGVuIGZ1bmMgaW5kZXhlc09mT2JqZWN0cyhhdCBzOiBJbmRleFNldCwgb3B0aW9ucyBvcHRzOiBOU0VudW1lcmF0aW9uT3B0aW9ucyA9IHgsIHBhc3NpbmdUZXN0IHByZWRpY2F0ZTogKEFueSwgSW50LCBVbnNhZmVNdXRhYmxlUG9pbnRlcjxPYmpDQm9vbD4pIC0+IEJvb2wpIC0+IEluZGV4U2V0IHt9CiAgICBvcGVuIGZ1bmMgaW5kZXhlc09mT2JqZWN0cyhvcHRpb25zIG9wdHM6IE5TRW51bWVyYXRpb25PcHRpb25zID0geCwgcGFzc2luZ1Rlc3QgcHJlZGljYXRlOiAoQW55LCBJbnQsIFVuc2FmZU11dGFibGVQb2ludGVyPE9iakNCb29sPikgLT4gQm9vbCkgLT4gSW5kZXhTZXQge30KICAgIG9wZW4gZnVuYyBpbmRleGVzT2ZPYmplY3RzKHBhc3NpbmdUZXN0IHByZWRpY2F0ZTogKEFueSwgSW50LCBVbnNhZmVNdXRhYmxlUG9pbnRlcjxPYmpDQm9vbD4pIC0+IEJvb2wpIC0+IEluZGV4U2V0IHt9CiAgICBvcGVuIGZ1bmMgaXNFcXVhbChfIHZhbHVlOiBBbnk/KSAtPiBCb29sIHt9CiAgICBvcGVuIGZ1bmMgaXNFcXVhbCh0byBvdGhlckFycmF5OiBbQW55XSkgLT4gQm9vbCB7fQogICAgcHVibGljIGZ1bmMgbWFrZUl0ZXJhdG9yKCkgLT4gSXRlcmF0b3Ige30KICAgIG9wZW4gZnVuYyBtdXRhYmxlQ29weSgpIC0+IEFueSB7fQogICAgb3BlbiBmdW5jIG11dGFibGVDb3B5KHdpdGggem9uZTogTlNab25lPyA9IHgpIC0+IEFueSB7fQogICAgb3BlbiBmdW5jIG9iamVjdChhdCBpbmRleDogSW50KSAtPiBBbnkge30KICAgIG9wZW4gZnVuYyBvYmplY3RFbnVtZXJhdG9yKCkgLT4gTlNFbnVtZXJhdG9yIHt9CiAgICBvcGVuIGZ1bmMgb2JqZWN0cyhhdCBpbmRleGVzOiBJbmRleFNldCkgLT4gW0FueV0ge30KICAgIG9wZW4gZnVuYyBwYXRoc01hdGNoaW5nRXh0ZW5zaW9ucyhfIGZpbHRlclR5cGVzOiBbU3RyaW5nXSkgLT4gW1N0cmluZ10ge30KICAgIG9wZW4gZnVuYyByZXZlcnNlT2JqZWN0RW51bWVyYXRvcigpIC0+IE5TRW51bWVyYXRvciB7fQogICAgb3BlbiBmdW5jIHNvcnRlZEFycmF5KF8gY29tcGFyYXRvcjogKEFueSwgQW55LCBVbnNhZmVNdXRhYmxlUmF3UG9pbnRlcj8pIC0+IEludCwgY29udGV4dDogVW5zYWZlTXV0YWJsZVJhd1BvaW50ZXI/KSAtPiBbQW55XSB7fQogICAgb3BlbiBmdW5jIHNvcnRlZEFycmF5KF8gY29tcGFyYXRvcjogKEFueSwgQW55LCBVbnNhZmVNdXRhYmxlUmF3UG9pbnRlcj8pIC0+IEludCwgY29udGV4dDogVW5zYWZlTXV0YWJsZVJhd1BvaW50ZXI/LCBoaW50OiBEYXRhPykgLT4gW0FueV0ge30KICAgIG9wZW4gZnVuYyBzb3J0ZWRBcnJheShjb21wYXJhdG9yIGNtcHRyOiAoQW55LCBBbnkpIC0+IENvbXBhcmlzb25SZXN1bHQpIC0+IFtBbnldIHt9CiAgICBvcGVuIGZ1bmMgc29ydGVkQXJyYXkob3B0aW9ucyBvcHRzOiBOU1NvcnRPcHRpb25zID0geCwgdXNpbmdDb21wYXJhdG9yIGNtcHRyOiAoQW55LCBBbnkpIC0+IENvbXBhcmlzb25SZXN1bHQpIC0+IFtBbnldIHt9CiAgICBwdWJsaWMgZnVuYyBzb3J0ZWRBcnJheSh1c2luZyBzb3J0RGVzY3JpcHRvcnM6IFtOU1NvcnREZXNjcmlwdG9yXSkgLT4gW0FueV0ge30KICAgIG9wZW4gZnVuYyBzdWJhcnJheSh3aXRoIHJhbmdlOiBOU1JhbmdlKSAtPiBbQW55XSB7fQogICAgb3BlbiBmdW5jIHdyaXRlKHRvIHVybDogVVJMKSB0aHJvd3Mge30KfQpvcGVuIGNsYXNzIE5TQXR0cmlidXRlZFN0cmluZyA6IE5TQ29weWluZywgTlNNdXRhYmxlQ29weWluZywgTlNPYmplY3QsIE5TU2VjdXJlQ29kaW5nLCBfQ0ZCcmlkZ2VhYmxlIHsKICAgIHB1YmxpYyBzdGF0aWMgdmFyIHN1cHBvcnRzU2VjdXJlQ29kaW5nOiBCb29sIHsgZ2V0IH0KICAgIHB1YmxpYyBpbml0KGF0dHJpYnV0ZWRTdHJpbmc6IE5TQXR0cmlidXRlZFN0cmluZykge30KICAgIHB1YmxpYyByZXF1aXJlZCBpbml0Pyhjb2RlciBhRGVjb2RlcjogTlNDb2Rlcikge30KICAgIHB1YmxpYyBpbml0KHN0cmluZzogU3RyaW5nKSB7fQogICAgcHVibGljIGluaXQoc3RyaW5nOiBTdHJpbmcsIGF0dHJpYnV0ZXMgYXR0cnM6IFtOU0F0dHJpYnV0ZWRTdHJpbmdLZXk6IEFueV0/ID0geCkge30KICAgIG9wZW4gdmFyIGxlbmd0aDogSW50IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHN0cmluZzogU3RyaW5nIHsgZ2V0IH0KICAgIG9wZW4gZnVuYyBhdHRyaWJ1dGUoXyBhdHRyTmFtZTogTlNBdHRyaWJ1dGVkU3RyaW5nS2V5LCBhdCBsb2NhdGlvbjogSW50LCBlZmZlY3RpdmVSYW5nZSByYW5nZTogTlNSYW5nZVBvaW50ZXI/KSAtPiBBbnk/IHt9CiAgICBvcGVuIGZ1bmMgYXR0cmlidXRlKF8gYXR0ck5hbWU6IE5TQXR0cmlidXRlZFN0cmluZ0tleSwgYXQgbG9jYXRpb246IEludCwgbG9uZ2VzdEVmZmVjdGl2ZVJhbmdlIHJhbmdlOiBOU1JhbmdlUG9pbnRlcj8sIGluIHJhbmdlTGltaXQ6IE5TUmFuZ2UpIC0+IEFueT8ge30KICAgIG9wZW4gZnVuYyBhdHRyaWJ1dGVkU3Vic3RyaW5nKGZyb20gcmFuZ2U6IE5TUmFuZ2UpIC0+IE5TQXR0cmlidXRlZFN0cmluZyB7fQogICAgb3BlbiBmdW5jIGF0dHJpYnV0ZXMoYXQgbG9jYXRpb246IEludCwgZWZmZWN0aXZlUmFuZ2UgcmFuZ2U6IE5TUmFuZ2VQb2ludGVyPykgLT4gW05TQXR0cmlidXRlZFN0cmluZ0tleTogQW55XSB7fQogICAgb3BlbiBmdW5jIGF0dHJpYnV0ZXMoYXQgbG9jYXRpb246IEludCwgbG9uZ2VzdEVmZmVjdGl2ZVJhbmdlIHJhbmdlOiBOU1JhbmdlUG9pbnRlcj8sIGluIHJhbmdlTGltaXQ6IE5TUmFuZ2UpIC0+IFtOU0F0dHJpYnV0ZWRTdHJpbmdLZXk6IEFueV0ge30KICAgIG9wZW4gZnVuYyBjb3B5KCkgLT4gQW55IHt9CiAgICBvcGVuIGZ1bmMgY29weSh3aXRoIHpvbmU6IE5TWm9uZT8gPSB4KSAtPiBBbnkge30KICAgIG9wZW4gZnVuYyBlbmNvZGUod2l0aCBhQ29kZXI6IE5TQ29kZXIpIHt9CiAgICBvcGVuIGZ1bmMgZW51bWVyYXRlQXR0cmlidXRlKF8gYXR0ck5hbWU6IE5TQXR0cmlidXRlZFN0cmluZ0tleSwgaW4gZW51bWVyYXRpb25SYW5nZTogTlNSYW5nZSwgb3B0aW9ucyBvcHRzOiBOU0F0dHJpYnV0ZWRTdHJpbmcuRW51bWVyYXRpb25PcHRpb25zID0geCwgdXNpbmcgYmxvY2s6IChBbnk/LCBOU1JhbmdlLCBVbnNhZmVNdXRhYmxlUG9pbnRlcjxPYmpDQm9vbD4pIC0+IFN3aWZ0LlZvaWQpIHt9CiAgICBvcGVuIGZ1bmMgZW51bWVyYXRlQXR0cmlidXRlcyhpbiBlbnVtZXJhdGlvblJhbmdlOiBOU1JhbmdlLCBvcHRpb25zIG9wdHM6IE5TQXR0cmlidXRlZFN0cmluZy5FbnVtZXJhdGlvbk9wdGlvbnMgPSB4LCB1c2luZyBibG9jazogKFtOU0F0dHJpYnV0ZWRTdHJpbmdLZXk6IEFueV0sIE5TUmFuZ2UsIFVuc2FmZU11dGFibGVQb2ludGVyPE9iakNCb29sPikgLT4gU3dpZnQuVm9pZCkge30KICAgIG9wZW4gZnVuYyBpc0VxdWFsKHRvIG90aGVyOiBOU0F0dHJpYnV0ZWRTdHJpbmcpIC0+IEJvb2wge30KICAgIG9wZW4gZnVuYyBtdXRhYmxlQ29weSgpIC0+IEFueSB7fQogICAgb3BlbiBmdW5jIG11dGFibGVDb3B5KHdpdGggem9uZTogTlNab25lPyA9IHgpIC0+IEFueSB7fQp9Cm9wZW4gY2xhc3MgTlNDYWNoZTxLZXlUeXBlLCBPYmplY3RUeXBlPiA6IEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCwgXyB7CiAgICBvcGVuIHZhciBjb3VudExpbWl0OiBJbnQgeyBnZXQgc2V0IH0KICAgIG9wZW4gd2VhayB2YXIgZGVsZWdhdGU6IE5TQ2FjaGVEZWxlZ2F0ZT8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGV2aWN0c09iamVjdHNXaXRoRGlzY2FyZGVkQ29udGVudDogQm9vbCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgbmFtZTogU3RyaW5nIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciB0b3RhbENvc3RMaW1pdDogSW50IHsgZ2V0IHNldCB9CiAgICBvcGVuIGZ1bmMgb2JqZWN0KGZvcktleSBrZXk6IEtleVR5cGUpIC0+IE9iamVjdFR5cGU/IHt9CiAgICBvcGVuIGZ1bmMgcmVtb3ZlQWxsT2JqZWN0cygpIHt9CiAgICBvcGVuIGZ1bmMgcmVtb3ZlT2JqZWN0KGZvcktleSBrZXk6IEtleVR5cGUpIHt9CiAgICBvcGVuIGZ1bmMgc2V0T2JqZWN0KF8gb2JqOiBPYmplY3RUeXBlLCBmb3JLZXkga2V5OiBLZXlUeXBlKSB7fQogICAgb3BlbiBmdW5jIHNldE9iamVjdChfIG9iajogT2JqZWN0VHlwZSwgZm9yS2V5IGtleTogS2V5VHlwZSwgY29zdCBnOiBJbnQpIHt9Cn0Kb3BlbiBjbGFzcyBOU0NhbGVuZGFyIDogQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TQ29kaW5nLCBOU0NvcHlpbmcsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBOU1NlY3VyZUNvZGluZywgXywgX0NGQnJpZGdlYWJsZSwgX1N0cnVjdFR5cGVCcmlkZ2VhYmxlLCBfU3dpZnRCcmlkZ2VhYmxlIHsKICAgIG9wZW4gY2xhc3MgdmFyIGF1dG91cGRhdGluZ0N1cnJlbnQ6IENhbGVuZGFyIHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgdmFyIGN1cnJlbnQ6IENhbGVuZGFyIHsgZ2V0IH0KICAgIHB1YmxpYyBpbml0PyhjYWxlbmRhcklkZW50aWZpZXIgaWRlbnQ6IElkZW50aWZpZXIpIHt9CiAgICBwdWJsaWMgaW5pdD8oaWRlbnRpZmllciBjYWxlbmRhcklkZW50aWZpZXJDb25zdGFudDogSWRlbnRpZmllcikge30KICAgIG9wZW4gdmFyIGFtU3ltYm9sOiBTdHJpbmcgeyBnZXQgfQogICAgb3BlbiB2YXIgY2FsZW5kYXJJZGVudGlmaWVyOiBJZGVudGlmaWVyIHsgZ2V0IH0KICAgIG9wZW4gdmFyIGVyYVN5bWJvbHM6IFtTdHJpbmddIHsgZ2V0IH0KICAgIG9wZW4gdmFyIGZpcnN0V2Vla2RheTogSW50IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBsb2NhbGU6IExvY2FsZT8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGxvbmdFcmFTeW1ib2xzOiBbU3RyaW5nXSB7IGdldCB9CiAgICBvcGVuIHZhciBtaW5pbXVtRGF5c0luRmlyc3RXZWVrOiBJbnQgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIG1vbnRoU3ltYm9sczogW1N0cmluZ10geyBnZXQgfQogICAgb3BlbiB2YXIgcG1TeW1ib2w6IFN0cmluZyB7IGdldCB9CiAgICBvcGVuIHZhciBxdWFydGVyU3ltYm9sczogW1N0cmluZ10geyBnZXQgfQogICAgb3BlbiB2YXIgc2hvcnRNb250aFN5bWJvbHM6IFtTdHJpbmddIHsgZ2V0IH0KICAgIG9wZW4gdmFyIHNob3J0UXVhcnRlclN5bWJvbHM6IFtTdHJpbmddIHsgZ2V0IH0KICAgIG9wZW4gdmFyIHNob3J0U3RhbmRhbG9uZU1vbnRoU3ltYm9sczogW1N0cmluZ10geyBnZXQgfQogICAgb3BlbiB2YXIgc2hvcnRTdGFuZGFsb25lUXVhcnRlclN5bWJvbHM6IFtTdHJpbmddIHsgZ2V0IH0KICAgIG9wZW4gdmFyIHNob3J0U3RhbmRhbG9uZVdlZWtkYXlTeW1ib2xzOiBbU3RyaW5nXSB7IGdldCB9CiAgICBvcGVuIHZhciBzaG9ydFdlZWtkYXlTeW1ib2xzOiBbU3RyaW5nXSB7IGdldCB9CiAgICBvcGVuIHZhciBzdGFuZGFsb25lTW9udGhTeW1ib2xzOiBbU3RyaW5nXSB7IGdldCB9CiAgICBvcGVuIHZhciBzdGFuZGFsb25lUXVhcnRlclN5bWJvbHM6IFtTdHJpbmddIHsgZ2V0IH0KICAgIG9wZW4gdmFyIHN0YW5kYWxvbmVXZWVrZGF5U3ltYm9sczogW1N0cmluZ10geyBnZXQgfQogICAgb3BlbiB2YXIgdGltZVpvbmU6IFRpbWVab25lIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciB2ZXJ5U2hvcnRNb250aFN5bWJvbHM6IFtTdHJpbmddIHsgZ2V0IH0KICAgIG9wZW4gdmFyIHZlcnlTaG9ydFN0YW5kYWxvbmVNb250aFN5bWJvbHM6IFtTdHJpbmddIHsgZ2V0IH0KICAgIG9wZW4gdmFyIHZlcnlTaG9ydFN0YW5kYWxvbmVXZWVrZGF5U3ltYm9sczogW1N0cmluZ10geyBnZXQgfQogICAgb3BlbiB2YXIgdmVyeVNob3J0V2Vla2RheVN5bWJvbHM6IFtTdHJpbmddIHsgZ2V0IH0KICAgIG9wZW4gdmFyIHdlZWtkYXlTeW1ib2xzOiBbU3RyaW5nXSB7IGdldCB9CiAgICBvcGVuIGZ1bmMgY29tcGFyZShfIGRhdGUxOiBEYXRlLCB0byBkYXRlMjogRGF0ZSwgdG9Vbml0R3JhbnVsYXJpdHkgdW5pdDogVW5pdCkgLT4gQ29tcGFyaXNvblJlc3VsdCB7fQogICAgb3BlbiBmdW5jIGNvbXBvbmVudChfIHVuaXQ6IFVuaXQsIGZyb20gZGF0ZTogRGF0ZSkgLT4gSW50IHt9CiAgICBvcGVuIGZ1bmMgY29tcG9uZW50cyhfIHVuaXRGbGFnczogVW5pdCwgZnJvbSBkYXRlOiBEYXRlKSAtPiBEYXRlQ29tcG9uZW50cyB7fQogICAgb3BlbiBmdW5jIGNvbXBvbmVudHMoXyB1bml0RmxhZ3M6IFVuaXQsIGZyb20gc3RhcnRpbmdEYXRlOiBEYXRlLCB0byByZXN1bHREYXRlOiBEYXRlLCBvcHRpb25zIG9wdHM6IE9wdGlvbnMgPSB4KSAtPiBEYXRlQ29tcG9uZW50cyB7fQogICAgb3BlbiBmdW5jIGNvbXBvbmVudHMoaW4gdGltZXpvbmU6IFRpbWVab25lLCBmcm9tIGRhdGU6IERhdGUpIC0+IERhdGVDb21wb25lbnRzIHt9CiAgICBvcGVuIGZ1bmMgZGF0ZShfIGRhdGU6IERhdGUsIG1hdGNoZXNDb21wb25lbnRzIGNvbXBvbmVudHM6IERhdGVDb21wb25lbnRzKSAtPiBCb29sIHt9CiAgICBvcGVuIGZ1bmMgZGF0ZShieUFkZGluZyBjb21wczogRGF0ZUNvbXBvbmVudHMsIHRvIGRhdGU6IERhdGUsIG9wdGlvbnMgb3B0czogT3B0aW9ucyA9IHgpIC0+IERhdGU/IHt9CiAgICBvcGVuIGZ1bmMgZGF0ZShieUFkZGluZyB1bml0OiBVbml0LCB2YWx1ZTogSW50LCB0byBkYXRlOiBEYXRlLCBvcHRpb25zOiBPcHRpb25zID0geCkgLT4gRGF0ZT8ge30KICAgIG9wZW4gZnVuYyBkYXRlKGJ5U2V0dGluZ0hvdXIgaDogSW50LCBtaW51dGUgbTogSW50LCBzZWNvbmQgczogSW50LCBvZiBkYXRlOiBEYXRlLCBvcHRpb25zIG9wdHM6IE9wdGlvbnMgPSB4KSAtPiBEYXRlPyB7fQogICAgb3BlbiBmdW5jIGRhdGUoYnlTZXR0aW5nVW5pdCB1bml0OiBVbml0LCB2YWx1ZSB2OiBJbnQsIG9mIGRhdGU6IERhdGUsIG9wdGlvbnMgb3B0czogT3B0aW9ucyA9IHgpIC0+IERhdGU/IHt9CiAgICBvcGVuIGZ1bmMgZGF0ZShlcmEgZXJhVmFsdWU6IEludCwgeWVhciB5ZWFyVmFsdWU6IEludCwgbW9udGggbW9udGhWYWx1ZTogSW50LCBkYXkgZGF5VmFsdWU6IEludCwgaG91ciBob3VyVmFsdWU6IEludCwgbWludXRlIG1pbnV0ZVZhbHVlOiBJbnQsIHNlY29uZCBzZWNvbmRWYWx1ZTogSW50LCBuYW5vc2Vjb25kIG5hbm9zZWNvbmRWYWx1ZTogSW50KSAtPiBEYXRlPyB7fQogICAgb3BlbiBmdW5jIGRhdGUoZXJhIGVyYVZhbHVlOiBJbnQsIHllYXJGb3JXZWVrT2ZZZWFyIHllYXJWYWx1ZTogSW50LCB3ZWVrT2ZZZWFyIHdlZWtWYWx1ZTogSW50LCB3ZWVrZGF5IHdlZWtkYXlWYWx1ZTogSW50LCBob3VyIGhvdXJWYWx1ZTogSW50LCBtaW51dGUgbWludXRlVmFsdWU6IEludCwgc2Vjb25kIHNlY29uZFZhbHVlOiBJbnQsIG5hbm9zZWNvbmQgbmFub3NlY29uZFZhbHVlOiBJbnQpIC0+IERhdGU/IHt9CiAgICBvcGVuIGZ1bmMgZGF0ZShmcm9tIGNvbXBzOiBEYXRlQ29tcG9uZW50cykgLT4gRGF0ZT8ge30KICAgIG9wZW4gZnVuYyBlbnVtZXJhdGVEYXRlcyhzdGFydGluZ0FmdGVyIHN0YXJ0OiBEYXRlLCBtYXRjaGluZyBjb21wczogRGF0ZUNvbXBvbmVudHMsIG9wdGlvbnMgb3B0czogTlNDYWxlbmRhci5PcHRpb25zID0geCwgdXNpbmcgYmxvY2s6IChEYXRlPywgQm9vbCwgVW5zYWZlTXV0YWJsZVBvaW50ZXI8T2JqQ0Jvb2w+KSAtPiBTd2lmdC5Wb2lkKSB7fQogICAgb3BlbiBmdW5jIGdldEVyYShfIGVyYVZhbHVlUG9pbnRlcjogVW5zYWZlTXV0YWJsZVBvaW50ZXI8SW50Pj8sIHllYXIgeWVhclZhbHVlUG9pbnRlcjogVW5zYWZlTXV0YWJsZVBvaW50ZXI8SW50Pj8sIG1vbnRoIG1vbnRoVmFsdWVQb2ludGVyOiBVbnNhZmVNdXRhYmxlUG9pbnRlcjxJbnQ+PywgZGF5IGRheVZhbHVlUG9pbnRlcjogVW5zYWZlTXV0YWJsZVBvaW50ZXI8SW50Pj8sIGZyb20gZGF0ZTogRGF0ZSkge30KICAgIG9wZW4gZnVuYyBnZXRFcmEoXyBlcmFWYWx1ZVBvaW50ZXI6IFVuc2FmZU11dGFibGVQb2ludGVyPEludD4/LCB5ZWFyRm9yV2Vla09mWWVhciB5ZWFyVmFsdWVQb2ludGVyOiBVbnNhZmVNdXRhYmxlUG9pbnRlcjxJbnQ+Pywgd2Vla09mWWVhciB3ZWVrVmFsdWVQb2ludGVyOiBVbnNhZmVNdXRhYmxlUG9pbnRlcjxJbnQ+Pywgd2Vla2RheSB3ZWVrZGF5VmFsdWVQb2ludGVyOiBVbnNhZmVNdXRhYmxlUG9pbnRlcjxJbnQ+PywgZnJvbSBkYXRlOiBEYXRlKSB7fQogICAgb3BlbiBmdW5jIGdldEhvdXIoXyBob3VyVmFsdWVQb2ludGVyOiBVbnNhZmVNdXRhYmxlUG9pbnRlcjxJbnQ+PywgbWludXRlIG1pbnV0ZVZhbHVlUG9pbnRlcjogVW5zYWZlTXV0YWJsZVBvaW50ZXI8SW50Pj8sIHNlY29uZCBzZWNvbmRWYWx1ZVBvaW50ZXI6IFVuc2FmZU11dGFibGVQb2ludGVyPEludD4/LCBuYW5vc2Vjb25kIG5hbm9zZWNvbmRWYWx1ZVBvaW50ZXI6IFVuc2FmZU11dGFibGVQb2ludGVyPEludD4/LCBmcm9tIGRhdGU6IERhdGUpIHt9CiAgICBvcGVuIGZ1bmMgaXNEYXRlKF8gZGF0ZTE6IERhdGUsIGVxdWFsVG8gZGF0ZTI6IERhdGUsIHRvVW5pdEdyYW51bGFyaXR5IHVuaXQ6IFVuaXQpIC0+IEJvb2wge30KICAgIG9wZW4gZnVuYyBpc0RhdGUoXyBkYXRlMTogRGF0ZSwgaW5TYW1lRGF5QXMgZGF0ZTI6IERhdGUpIC0+IEJvb2wge30KICAgIG9wZW4gZnVuYyBpc0RhdGVJblRvZGF5KF8gZGF0ZTogRGF0ZSkgLT4gQm9vbCB7fQogICAgb3BlbiBmdW5jIGlzRGF0ZUluVG9tb3Jyb3coXyBkYXRlOiBEYXRlKSAtPiBCb29sIHt9CiAgICBvcGVuIGZ1bmMgaXNEYXRlSW5XZWVrZW5kKF8gZGF0ZTogRGF0ZSkgLT4gQm9vbCB7fQogICAgb3BlbiBmdW5jIGlzRGF0ZUluWWVzdGVyZGF5KF8gZGF0ZTogRGF0ZSkgLT4gQm9vbCB7fQogICAgb3BlbiBmdW5jIG1heGltdW1SYW5nZShvZiB1bml0OiBVbml0KSAtPiBOU1JhbmdlIHt9CiAgICBvcGVuIGZ1bmMgbWluaW11bVJhbmdlKG9mIHVuaXQ6IFVuaXQpIC0+IE5TUmFuZ2Uge30KICAgIG9wZW4gZnVuYyBuZXh0RGF0ZShhZnRlciBkYXRlOiBEYXRlLCBtYXRjaGluZyBjb21wczogRGF0ZUNvbXBvbmVudHMsIG9wdGlvbnM6IE9wdGlvbnMgPSB4KSAtPiBEYXRlPyB7fQogICAgb3BlbiBmdW5jIG5leHREYXRlKGFmdGVyIGRhdGU6IERhdGUsIG1hdGNoaW5nIHVuaXQ6IFVuaXQsIHZhbHVlOiBJbnQsIG9wdGlvbnM6IE9wdGlvbnMgPSB4KSAtPiBEYXRlPyB7fQogICAgb3BlbiBmdW5jIG5leHREYXRlKGFmdGVyIGRhdGU6IERhdGUsIG1hdGNoaW5nSG91ciBob3VyVmFsdWU6IEludCwgbWludXRlIG1pbnV0ZVZhbHVlOiBJbnQsIHNlY29uZCBzZWNvbmRWYWx1ZTogSW50LCBvcHRpb25zOiBPcHRpb25zID0geCkgLT4gRGF0ZT8ge30KICAgIG9wZW4gZnVuYyBuZXh0V2Vla2VuZEFmdGVyKF8gZGF0ZTogRGF0ZSwgb3B0aW9uczogT3B0aW9ucykgLT4gRGF0ZUludGVydmFsPyB7fQogICAgb3BlbiBmdW5jIG9yZGluYWxpdHkob2Ygc21hbGxlcjogVW5pdCwgaW4gbGFyZ2VyOiBVbml0LCBmb3IgZGF0ZTogRGF0ZSkgLT4gSW50IHt9CiAgICBvcGVuIGZ1bmMgcmFuZ2Uob2YgdW5pdDogVW5pdCwgZm9yIGRhdGU6IERhdGUpIC0+IERhdGVJbnRlcnZhbD8ge30KICAgIG9wZW4gZnVuYyByYW5nZShvZiBzbWFsbGVyOiBVbml0LCBpbiBsYXJnZXI6IFVuaXQsIGZvciBkYXRlOiBEYXRlKSAtPiBOU1JhbmdlIHt9CiAgICBvcGVuIGZ1bmMgcmFuZ2Uob2ZXZWVrZW5kQ29udGFpbmluZyBkYXRlOiBEYXRlKSAtPiBEYXRlSW50ZXJ2YWw/IHt9CiAgICBvcGVuIGZ1bmMgc3RhcnRPZkRheShmb3IgZGF0ZTogRGF0ZSkgLT4gRGF0ZSB7fQp9Cm9wZW4gY2xhc3MgTlNDaGFyYWN0ZXJTZXQgOiBOU0NvZGluZywgTlNDb3B5aW5nLCBOU011dGFibGVDb3B5aW5nLCBOU09iamVjdCwgX1N0cnVjdFR5cGVCcmlkZ2VhYmxlLCBfU3dpZnRCcmlkZ2VhYmxlIHsKICAgIG9wZW4gY2xhc3MgdmFyIGFscGhhbnVtZXJpY3M6IENoYXJhY3RlclNldCB7IGdldCB9CiAgICBvcGVuIGNsYXNzIHZhciBjYXBpdGFsaXplZExldHRlcnM6IENoYXJhY3RlclNldCB7IGdldCB9CiAgICBvcGVuIGNsYXNzIHZhciBjb250cm9sQ2hhcmFjdGVyczogQ2hhcmFjdGVyU2V0IHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgdmFyIGRlY2ltYWxEaWdpdHM6IENoYXJhY3RlclNldCB7IGdldCB9CiAgICBvcGVuIGNsYXNzIHZhciBkZWNvbXBvc2FibGVzOiBDaGFyYWN0ZXJTZXQgeyBnZXQgfQogICAgb3BlbiBjbGFzcyB2YXIgaWxsZWdhbENoYXJhY3RlcnM6IENoYXJhY3RlclNldCB7IGdldCB9CiAgICBwdWJsaWMgY2xhc3MgdmFyIGxldHRlcnM6IENoYXJhY3RlclNldCB7IGdldCB9CiAgICBvcGVuIGNsYXNzIHZhciBsb3dlcmNhc2VMZXR0ZXJzOiBDaGFyYWN0ZXJTZXQgeyBnZXQgfQogICAgb3BlbiBjbGFzcyB2YXIgbmV3bGluZXM6IENoYXJhY3RlclNldCB7IGdldCB9CiAgICBvcGVuIGNsYXNzIHZhciBub25CYXNlQ2hhcmFjdGVyczogQ2hhcmFjdGVyU2V0IHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgdmFyIHB1bmN0dWF0aW9uQ2hhcmFjdGVyczogQ2hhcmFjdGVyU2V0IHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgdmFyIHN5bWJvbHM6IENoYXJhY3RlclNldCB7IGdldCB9CiAgICBvcGVuIGNsYXNzIHZhciB1cHBlcmNhc2VMZXR0ZXJzOiBDaGFyYWN0ZXJTZXQgeyBnZXQgfQogICAgb3BlbiBjbGFzcyB2YXIgdXJsRnJhZ21lbnRBbGxvd2VkOiBDaGFyYWN0ZXJTZXQgeyBnZXQgfQogICAgb3BlbiBjbGFzcyB2YXIgdXJsSG9zdEFsbG93ZWQ6IENoYXJhY3RlclNldCB7IGdldCB9CiAgICBvcGVuIGNsYXNzIHZhciB1cmxQYXNzd29yZEFsbG93ZWQ6IENoYXJhY3RlclNldCB7IGdldCB9CiAgICBvcGVuIGNsYXNzIHZhciB1cmxQYXRoQWxsb3dlZDogQ2hhcmFjdGVyU2V0IHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgdmFyIHVybFF1ZXJ5QWxsb3dlZDogQ2hhcmFjdGVyU2V0IHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgdmFyIHVybFVzZXJBbGxvd2VkOiBDaGFyYWN0ZXJTZXQgeyBnZXQgfQogICAgb3BlbiBjbGFzcyB2YXIgd2hpdGVzcGFjZXM6IENoYXJhY3RlclNldCB7IGdldCB9CiAgICBvcGVuIGNsYXNzIHZhciB3aGl0ZXNwYWNlc0FuZE5ld2xpbmVzOiBDaGFyYWN0ZXJTZXQgeyBnZXQgfQogICAgcHVibGljIGluaXQoKSB7fQogICAgcHVibGljIGluaXQoYml0bWFwUmVwcmVzZW50YXRpb24gZGF0YTogRGF0YSkge30KICAgIHB1YmxpYyBpbml0KGNoYXJhY3RlcnNJbiBhU3RyaW5nOiBTdHJpbmcpIHt9CiAgICBwdWJsaWMgcmVxdWlyZWQgY29udmVuaWVuY2UgaW5pdChjb2RlciBhRGVjb2RlcjogTlNDb2Rlcikge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0Pyhjb250ZW50c09mRmlsZSBmTmFtZTogU3RyaW5nKSB7fQogICAgcHVibGljIGluaXQocmFuZ2UgYVJhbmdlOiBOU1JhbmdlKSB7fQogICAgb3BlbiB2YXIgYml0bWFwUmVwcmVzZW50YXRpb246IERhdGEgeyBnZXQgfQogICAgb3BlbiB2YXIgZGVzY3JpcHRpb246IFN0cmluZyB7IGdldCB9CiAgICBvcGVuIHZhciBoYXNoOiBJbnQgeyBnZXQgfQogICAgb3BlbiB2YXIgaW52ZXJ0ZWQ6IENoYXJhY3RlclNldCB7IGdldCB9CiAgICBvcGVuIGZ1bmMgY2hhcmFjdGVySXNNZW1iZXIoXyBhQ2hhcmFjdGVyOiB1bmljaGFyKSAtPiBCb29sIHt9CiAgICBvcGVuIGZ1bmMgY29weSgpIC0+IEFueSB7fQogICAgb3BlbiBmdW5jIGNvcHkod2l0aCB6b25lOiBOU1pvbmU/ID0geCkgLT4gQW55IHt9CiAgICBvcGVuIGZ1bmMgZW5jb2RlKHdpdGggYUNvZGVyOiBOU0NvZGVyKSB7fQogICAgb3BlbiBmdW5jIGhhc01lbWJlckluUGxhbmUoXyB0aGVQbGFuZTogVUludDgpIC0+IEJvb2wge30KICAgIG9wZW4gZnVuYyBpc0VxdWFsKF8gdmFsdWU6IEFueT8pIC0+IEJvb2wge30KICAgIG9wZW4gZnVuYyBpc1N1cGVyc2V0KG9mIHRoZU90aGVyU2V0OiBDaGFyYWN0ZXJTZXQpIC0+IEJvb2wge30KICAgIG9wZW4gZnVuYyBsb25nQ2hhcmFjdGVySXNNZW1iZXIoXyB0aGVMb25nQ2hhcjogVUludDMyKSAtPiBCb29sIHt9CiAgICBvcGVuIGZ1bmMgbXV0YWJsZUNvcHkoKSAtPiBBbnkge30KICAgIG9wZW4gZnVuYyBtdXRhYmxlQ29weSh3aXRoIHpvbmU6IE5TWm9uZT8gPSB4KSAtPiBBbnkge30KfQpvcGVuIGNsYXNzIE5TQ29kZXIgOiBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wsIF8gewogICAgb3BlbiB2YXIgYWxsb3dlZENsYXNzZXM6IFtBbnlDbGFzc10/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGFsbG93c0tleWVkQ29kaW5nOiBCb29sIHsgZ2V0IH0KICAgIG9wZW4gdmFyIGRlY29kaW5nRmFpbHVyZVBvbGljeTogTlNDb2Rlci5EZWNvZGluZ0ZhaWx1cmVQb2xpY3kgeyBnZXQgfQogICAgb3BlbiB2YXIgZXJyb3I6IEVycm9yPyB7IGdldCB9CiAgICBvcGVuIHZhciByZXF1aXJlc1NlY3VyZUNvZGluZzogQm9vbCB7IGdldCB9CiAgICBvcGVuIHZhciBzeXN0ZW1WZXJzaW9uOiBVSW50MzIgeyBnZXQgfQogICAgb3BlbiBmdW5jIGNvbnRhaW5zVmFsdWUoZm9yS2V5IGtleTogU3RyaW5nKSAtPiBCb29sIHt9CiAgICBvcGVuIGZ1bmMgZGVjb2RlQXJyYXkob2ZPYmpDVHlwZSBpdGVtVHlwZTogVW5zYWZlUG9pbnRlcjxJbnQ4PiwgY291bnQ6IEludCwgYXQgYXJyYXk6IFVuc2FmZU11dGFibGVSYXdQb2ludGVyKSB7fQogICAgb3BlbiBmdW5jIGRlY29kZUJvb2woZm9yS2V5IGtleTogU3RyaW5nKSAtPiBCb29sIHt9CiAgICBvcGVuIGZ1bmMgZGVjb2RlQ0ludChmb3JLZXkga2V5OiBTdHJpbmcpIC0+IEludDMyIHt9CiAgICBvcGVuIGZ1bmMgZGVjb2RlRGF0YSgpIC0+IERhdGE/IHt9CiAgICBvcGVuIGZ1bmMgZGVjb2RlRG91YmxlKGZvcktleSBrZXk6IFN0cmluZykgLT4gRG91YmxlIHt9CiAgICBvcGVuIGZ1bmMgZGVjb2RlRmxvYXQoZm9yS2V5IGtleTogU3RyaW5nKSAtPiBGbG9hdCB7fQogICAgb3BlbiBmdW5jIGRlY29kZUludDMyKGZvcktleSBrZXk6IFN0cmluZykgLT4gSW50MzIge30KICAgIG9wZW4gZnVuYyBkZWNvZGVJbnQ2NChmb3JLZXkga2V5OiBTdHJpbmcpIC0+IEludDY0IHt9CiAgICBvcGVuIGZ1bmMgZGVjb2RlSW50ZWdlcihmb3JLZXkga2V5OiBTdHJpbmcpIC0+IEludCB7fQogICAgb3BlbiBmdW5jIGRlY29kZU9iamVjdCgpIC0+IEFueT8ge30KICAgIG9wZW4gZnVuYyBkZWNvZGVPYmplY3QoZm9yS2V5IGtleTogU3RyaW5nKSAtPiBBbnk/IHt9CiAgICBvcGVuIGZ1bmMgZGVjb2RlT2JqZWN0KG9mIGNsYXNzZXM6IFtBbnlDbGFzc10/LCBmb3JLZXkga2V5OiBTdHJpbmcpIC0+IEFueT8ge30KICAgIHB1YmxpYyBmdW5jIGRlY29kZVBvaW50KCkgLT4gTlNQb2ludCB7fQogICAgcHVibGljIGZ1bmMgZGVjb2RlUG9pbnQoZm9yS2V5IGtleTogU3RyaW5nKSAtPiBOU1BvaW50IHt9CiAgICBvcGVuIGZ1bmMgZGVjb2RlUHJvcGVydHlMaXN0KCkgLT4gQW55PyB7fQogICAgb3BlbiBmdW5jIGRlY29kZVByb3BlcnR5TGlzdChmb3JLZXkga2V5OiBTdHJpbmcpIC0+IEFueT8ge30KICAgIHB1YmxpYyBmdW5jIGRlY29kZVJlY3QoKSAtPiBOU1JlY3Qge30KICAgIHB1YmxpYyBmdW5jIGRlY29kZVJlY3QoZm9yS2V5IGtleTogU3RyaW5nKSAtPiBOU1JlY3Qge30KICAgIHB1YmxpYyBmdW5jIGRlY29kZVNpemUoKSAtPiBOU1NpemUge30KICAgIHB1YmxpYyBmdW5jIGRlY29kZVNpemUoZm9yS2V5IGtleTogU3RyaW5nKSAtPiBOU1NpemUge30KICAgIG9wZW4gZnVuYyBkZWNvZGVUb3BMZXZlbE9iamVjdCgpIHRocm93cyAtPiBBbnk/IHt9CiAgICBvcGVuIGZ1bmMgZGVjb2RlVG9wTGV2ZWxPYmplY3QoZm9yS2V5IGtleTogU3RyaW5nKSB0aHJvd3MgLT4gQW55PyB7fQogICAgb3BlbiBmdW5jIGRlY29kZVRvcExldmVsT2JqZWN0KG9mIGNsYXNzZXM6IFtBbnlDbGFzc10sIGZvcktleSBrZXk6IFN0cmluZykgdGhyb3dzIC0+IEFueT8ge30KICAgIG9wZW4gZnVuYyBkZWNvZGVWYWx1ZShvZk9iakNUeXBlIHR5cGU6IFVuc2FmZVBvaW50ZXI8SW50OD4sIGF0IGRhdGE6IFVuc2FmZU11dGFibGVSYXdQb2ludGVyKSB7fQogICAgb3BlbiBmdW5jIGVuY29kZShfIGRhdGE6IERhdGEpIHt9CiAgICBvcGVuIGZ1bmMgZW5jb2RlKF8gb2JqZWN0OiBBbnk/KSB7fQogICAgb3BlbiBmdW5jIGVuY29kZShfIGJvb2x2OiBCb29sLCBmb3JLZXkga2V5OiBTdHJpbmcpIHt9CiAgICBvcGVuIGZ1bmMgZW5jb2RlKF8gaW50djogSW50LCBmb3JLZXkga2V5OiBTdHJpbmcpIHt9CiAgICBvcGVuIGZ1bmMgZW5jb2RlKF8gaW50djogSW50MzIsIGZvcktleSBrZXk6IFN0cmluZykge30KICAgIG9wZW4gZnVuYyBlbmNvZGUoXyBpbnR2OiBJbnQ2NCwgZm9yS2V5IGtleTogU3RyaW5nKSB7fQogICAgb3BlbiBmdW5jIGVuY29kZShfIG9ianY6IEFueT8sIGZvcktleSBrZXk6IFN0cmluZykge30KICAgIG9wZW4gZnVuYyBlbmNvZGUoXyByZWFsdjogRG91YmxlLCBmb3JLZXkga2V5OiBTdHJpbmcpIHt9CiAgICBvcGVuIGZ1bmMgZW5jb2RlQXJyYXkob2ZPYmpDVHlwZSB0eXBlOiBVbnNhZmVQb2ludGVyPEludDg+LCBjb3VudDogSW50LCBhdCBhcnJheTogVW5zYWZlUmF3UG9pbnRlcikge30KICAgIG9wZW4gZnVuYyBlbmNvZGVCeWNvcHlPYmplY3QoXyBhbk9iamVjdDogQW55Pykge30KICAgIG9wZW4gZnVuYyBlbmNvZGVCeXJlZk9iamVjdChfIGFuT2JqZWN0OiBBbnk/KSB7fQogICAgb3BlbiBmdW5jIGVuY29kZUJ5dGVzKF8gYnl0ZWFkZHI6IFVuc2FmZVJhd1BvaW50ZXI/LCBsZW5ndGg6IEludCkge30KICAgIG9wZW4gZnVuYyBlbmNvZGVCeXRlcyhfIGJ5dGVzcDogVW5zYWZlUG9pbnRlcjxVSW50OD4/LCBsZW5ndGggbGVudjogSW50LCBmb3JLZXkga2V5OiBTdHJpbmcpIHt9CiAgICBvcGVuIGZ1bmMgZW5jb2RlQ29uZGl0aW9uYWxPYmplY3QoXyBvYmplY3Q6IEFueT8pIHt9CiAgICBvcGVuIGZ1bmMgZW5jb2RlQ29uZGl0aW9uYWxPYmplY3QoXyBvYmp2OiBBbnk/LCBmb3JLZXkga2V5OiBTdHJpbmcpIHt9CiAgICBvcGVuIGZ1bmMgZW5jb2RlUHJvcGVydHlMaXN0KF8gYVByb3BlcnR5TGlzdDogQW55KSB7fQogICAgb3BlbiBmdW5jIGVuY29kZVJvb3RPYmplY3QoXyByb290T2JqZWN0OiBBbnkpIHt9CiAgICBvcGVuIGZ1bmMgZW5jb2RlVmFsdWUob2ZPYmpDVHlwZSB0eXBlOiBVbnNhZmVQb2ludGVyPEludDg+LCBhdCBhZGRyOiBVbnNhZmVSYXdQb2ludGVyKSB7fQogICAgb3BlbiBmdW5jIGZhaWxXaXRoRXJyb3IoXyBlcnJvcjogRXJyb3IpIHt9CiAgICBvcGVuIGZ1bmMgdmVyc2lvbihmb3JDbGFzc05hbWUgY2xhc3NOYW1lOiBTdHJpbmcpIC0+IEludCB7fQogICAgb3BlbiBmdW5jIHdpdGhEZWNvZGVkVW5zYWZlQnVmZmVyUG9pbnRlcjxSZXN1bHRUeXBlPihmb3JLZXkga2V5OiBTdHJpbmcsIGJvZHk6IChVbnNhZmVCdWZmZXJQb2ludGVyPFVJbnQ4Pj8pIHRocm93cyAtPiBSZXN1bHRUeXBlKSByZXRocm93cyAtPiBSZXN1bHRUeXBlIHt9Cn0Kb3BlbiBjbGFzcyBOU0NvbXBhcmlzb25QcmVkaWNhdGUgOiBOU0NvcHlpbmcsIE5TT2JqZWN0LCBOU1ByZWRpY2F0ZSwgTlNTZWN1cmVDb2RpbmcgewogICAgcHVibGljIGluaXQobGVmdEV4cHJlc3Npb24gbGhzOiBOU0V4cHJlc3Npb24sIHJpZ2h0RXhwcmVzc2lvbiByaHM6IE5TRXhwcmVzc2lvbiwgbW9kaWZpZXI6IE1vZGlmaWVyLCB0eXBlOiBPcGVyYXRvciwgb3B0aW9uczogT3B0aW9ucykge30KICAgIG9wZW4gdmFyIGNvbXBhcmlzb25QcmVkaWNhdGVNb2RpZmllcjogTW9kaWZpZXIgeyBnZXQgfQogICAgb3BlbiB2YXIgbGVmdEV4cHJlc3Npb246IE5TRXhwcmVzc2lvbiB7IGdldCB9CiAgICBvcGVuIHZhciBvcHRpb25zOiBPcHRpb25zIHsgZ2V0IH0KICAgIG9wZW4gdmFyIHByZWRpY2F0ZU9wZXJhdG9yVHlwZTogT3BlcmF0b3IgeyBnZXQgfQogICAgb3BlbiB2YXIgcmlnaHRFeHByZXNzaW9uOiBOU0V4cHJlc3Npb24geyBnZXQgfQp9Cm9wZW4gY2xhc3MgTlNDb21wb3VuZFByZWRpY2F0ZSA6IE5TQ29weWluZywgTlNPYmplY3QsIE5TUHJlZGljYXRlLCBOU1NlY3VyZUNvZGluZyB7CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdChhbmRQcmVkaWNhdGVXaXRoU3VicHJlZGljYXRlcyBzdWJwcmVkaWNhdGVzOiBbTlNQcmVkaWNhdGVdKSB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQobm90UHJlZGljYXRlV2l0aFN1YnByZWRpY2F0ZSBwcmVkaWNhdGU6IE5TUHJlZGljYXRlKSB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQob3JQcmVkaWNhdGVXaXRoU3VicHJlZGljYXRlcyBzdWJwcmVkaWNhdGVzOiBbTlNQcmVkaWNhdGVdKSB7fQogICAgcHVibGljIGluaXQodHlwZTogTG9naWNhbFR5cGUsIHN1YnByZWRpY2F0ZXM6IFtOU1ByZWRpY2F0ZV0pIHt9CiAgICBvcGVuIHZhciBjb21wb3VuZFByZWRpY2F0ZVR5cGU6IExvZ2ljYWxUeXBlIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBzdWJwcmVkaWNhdGVzOiBbTlNQcmVkaWNhdGVdIHsgZ2V0IHNldCB9Cn0Kb3BlbiBjbGFzcyBOU0NvbmRpdGlvbiA6IEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU0xvY2tpbmcsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBfIHsKICAgIG9wZW4gdmFyIG5hbWU6IFN0cmluZz8geyBnZXQgc2V0IH0KICAgIG9wZW4gZnVuYyBicm9hZGNhc3QoKSB7fQogICAgb3BlbiBmdW5jIHNpZ25hbCgpIHt9CiAgICBvcGVuIGZ1bmMgd2FpdCgpIHt9CiAgICBvcGVuIGZ1bmMgd2FpdCh1bnRpbCBsaW1pdDogRGF0ZSkgLT4gQm9vbCB7fQp9Cm9wZW4gY2xhc3MgTlNDb25kaXRpb25Mb2NrIDogQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TTG9ja2luZywgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wsIF8gewogICAgcHVibGljIGluaXQoY29uZGl0aW9uOiBJbnQpIHt9CiAgICBvcGVuIHZhciBjb25kaXRpb246IEludCB7IGdldCB9CiAgICBvcGVuIHZhciBuYW1lOiBTdHJpbmc/IHsgZ2V0IHNldCB9CiAgICBvcGVuIGZ1bmMgbG9jayhiZWZvcmUgbGltaXQ6IERhdGUpIC0+IEJvb2wge30KICAgIG9wZW4gZnVuYyBsb2NrKHdoZW5Db25kaXRpb24gY29uZGl0aW9uOiBJbnQpIHt9CiAgICBvcGVuIGZ1bmMgbG9jayh3aGVuQ29uZGl0aW9uIGNvbmRpdGlvbjogSW50LCBiZWZvcmUgbGltaXQ6IERhdGUpIC0+IEJvb2wge30KICAgIG9wZW4gZnVuYyB0cnkoKSAtPiBCb29sIHt9CiAgICBvcGVuIGZ1bmMgdHJ5TG9jayh3aGVuQ29uZGl0aW9uIGNvbmRpdGlvbjogSW50KSAtPiBCb29sIHt9CiAgICBvcGVuIGZ1bmMgdW5sb2NrKHdpdGhDb25kaXRpb24gY29uZGl0aW9uOiBJbnQpIHt9Cn0Kb3BlbiBjbGFzcyBOU0NvdW50ZWRTZXQgOiBOU011dGFibGVTZXQsIE5TU2V0IHsKICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KGFycmF5OiBbQW55XSkge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KHNldDogU2V0PEFueUhhc2hhYmxlPikge30KICAgIG9wZW4gZnVuYyBjb3B5KHdpdGggem9uZTogTlNab25lPyA9IHgpIC0+IEFueSB7fQogICAgb3BlbiBmdW5jIGNvdW50KGZvciBvYmplY3Q6IEFueSkgLT4gSW50IHt9CiAgICBvcGVuIGZ1bmMgbXV0YWJsZUNvcHkod2l0aCB6b25lOiBOU1pvbmU/ID0geCkgLT4gQW55IHt9Cn0Kb3BlbiBjbGFzcyBOU0RhdGEgOiBOU0NvcHlpbmcsIE5TTXV0YWJsZUNvcHlpbmcsIE5TT2JqZWN0LCBOU1NlY3VyZUNvZGluZywgX0NGQnJpZGdlYWJsZSwgX0hhc0N1c3RvbUFueUhhc2hhYmxlUmVwcmVzZW50YXRpb24sIF9TdHJ1Y3RUeXBlQnJpZGdlYWJsZSwgX1N3aWZ0QnJpZGdlYWJsZSB7CiAgICBwdWJsaWMgc3RhdGljIHZhciBzdXBwb3J0c1NlY3VyZUNvZGluZzogQm9vbCB7IGdldCB9CiAgICBwdWJsaWMgaW5pdCgpIHt9CiAgICBwdWJsaWMgaW5pdD8oYmFzZTY0RW5jb2RlZCBiYXNlNjREYXRhOiBEYXRhLCBvcHRpb25zOiBCYXNlNjREZWNvZGluZ09wdGlvbnMgPSB4KSB7fQogICAgcHVibGljIGluaXQ/KGJhc2U2NEVuY29kZWQgYmFzZTY0U3RyaW5nOiBTdHJpbmcsIG9wdGlvbnM6IEJhc2U2NERlY29kaW5nT3B0aW9ucyA9IHgpIHt9CiAgICBwdWJsaWMgaW5pdChieXRlczogVW5zYWZlUmF3UG9pbnRlcj8sIGxlbmd0aDogSW50KSB7fQogICAgcHVibGljIGluaXQoYnl0ZXNOb0NvcHkgYnl0ZXM6IFVuc2FmZU11dGFibGVSYXdQb2ludGVyLCBsZW5ndGg6IEludCkge30KICAgIHB1YmxpYyBpbml0KGJ5dGVzTm9Db3B5IGJ5dGVzOiBVbnNhZmVNdXRhYmxlUmF3UG9pbnRlciwgbGVuZ3RoOiBJbnQsIGRlYWxsb2NhdG9yOiAoKFVuc2FmZU11dGFibGVSYXdQb2ludGVyLCBJbnQpIC0+IFZvaWQpPyA9IHgpIHt9CiAgICBwdWJsaWMgaW5pdChieXRlc05vQ29weSBieXRlczogVW5zYWZlTXV0YWJsZVJhd1BvaW50ZXIsIGxlbmd0aDogSW50LCBmcmVlV2hlbkRvbmU6IEJvb2wpIHt9CiAgICBwdWJsaWMgcmVxdWlyZWQgaW5pdD8oY29kZXIgYURlY29kZXI6IE5TQ29kZXIpIHt9CiAgICBwdWJsaWMgaW5pdD8oY29udGVudHNPZiB1cmw6IFVSTCkge30KICAgIHB1YmxpYyBpbml0KGNvbnRlbnRzT2YgdXJsOiBVUkwsIG9wdGlvbnMgcmVhZE9wdGlvbnNNYXNrOiBSZWFkaW5nT3B0aW9ucyA9IHgpIHRocm93cyB7fQogICAgcHVibGljIGluaXQ/KGNvbnRlbnRzT2ZGaWxlIHBhdGg6IFN0cmluZykge30KICAgIHB1YmxpYyBpbml0KGNvbnRlbnRzT2ZGaWxlIHBhdGg6IFN0cmluZywgb3B0aW9ucyByZWFkT3B0aW9uc01hc2s6IFJlYWRpbmdPcHRpb25zID0geCkgdGhyb3dzIHt9CiAgICBwdWJsaWMgaW5pdChkYXRhOiBEYXRhKSB7fQogICAgb3BlbiB2YXIgYnl0ZXM6IFVuc2FmZVJhd1BvaW50ZXIgeyBnZXQgfQogICAgb3BlbiB2YXIgZGVidWdEZXNjcmlwdGlvbjogU3RyaW5nIHsgZ2V0IH0KICAgIG9wZW4gdmFyIGRlc2NyaXB0aW9uOiBTdHJpbmcgeyBnZXQgfQogICAgb3BlbiB2YXIgaGFzaDogSW50IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGxlbmd0aDogSW50IHsgZ2V0IH0KICAgIG9wZW4gZnVuYyBiYXNlNjRFbmNvZGVkRGF0YShvcHRpb25zOiBCYXNlNjRFbmNvZGluZ09wdGlvbnMgPSB4KSAtPiBEYXRhIHt9CiAgICBvcGVuIGZ1bmMgYmFzZTY0RW5jb2RlZFN0cmluZyhvcHRpb25zOiBCYXNlNjRFbmNvZGluZ09wdGlvbnMgPSB4KSAtPiBTdHJpbmcge30KICAgIG9wZW4gZnVuYyBjb3B5KCkgLT4gQW55IHt9CiAgICBvcGVuIGZ1bmMgY29weSh3aXRoIHpvbmU6IE5TWm9uZT8gPSB4KSAtPiBBbnkge30KICAgIG9wZW4gZnVuYyBlbmNvZGUod2l0aCBhQ29kZXI6IE5TQ29kZXIpIHt9CiAgICBvcGVuIGZ1bmMgZW51bWVyYXRlQnl0ZXMoXyBibG9jazogKFVuc2FmZVJhd1BvaW50ZXIsIE5TUmFuZ2UsIFVuc2FmZU11dGFibGVQb2ludGVyPEJvb2w+KSAtPiBWb2lkKSB7fQogICAgb3BlbiBmdW5jIGdldEJ5dGVzKF8gYnVmZmVyOiBVbnNhZmVNdXRhYmxlUmF3UG9pbnRlciwgbGVuZ3RoOiBJbnQpIHt9CiAgICBvcGVuIGZ1bmMgZ2V0Qnl0ZXMoXyBidWZmZXI6IFVuc2FmZU11dGFibGVSYXdQb2ludGVyLCByYW5nZTogTlNSYW5nZSkge30KICAgIG9wZW4gZnVuYyBpc0VxdWFsKF8gdmFsdWU6IEFueT8pIC0+IEJvb2wge30KICAgIG9wZW4gZnVuYyBpc0VxdWFsKHRvIG90aGVyOiBEYXRhKSAtPiBCb29sIHt9CiAgICBvcGVuIGZ1bmMgbXV0YWJsZUNvcHkoKSAtPiBBbnkge30KICAgIG9wZW4gZnVuYyBtdXRhYmxlQ29weSh3aXRoIHpvbmU6IE5TWm9uZT8gPSB4KSAtPiBBbnkge30KICAgIG9wZW4gZnVuYyByYW5nZShvZiBkYXRhVG9GaW5kOiBEYXRhLCBvcHRpb25zIG1hc2s6IFNlYXJjaE9wdGlvbnMgPSB4LCBpbiBzZWFyY2hSYW5nZTogTlNSYW5nZSkgLT4gTlNSYW5nZSB7fQogICAgb3BlbiBmdW5jIHN1YmRhdGEod2l0aCByYW5nZTogTlNSYW5nZSkgLT4gRGF0YSB7fQogICAgb3BlbiBmdW5jIHdyaXRlKHRvIHVybDogVVJMLCBhdG9taWNhbGx5OiBCb29sKSAtPiBCb29sIHt9CiAgICBvcGVuIGZ1bmMgd3JpdGUodG8gdXJsOiBVUkwsIG9wdGlvbnMgd3JpdGVPcHRpb25zTWFzazogV3JpdGluZ09wdGlvbnMgPSB4KSB0aHJvd3Mge30KICAgIG9wZW4gZnVuYyB3cml0ZSh0b0ZpbGUgcGF0aDogU3RyaW5nLCBhdG9taWNhbGx5IHVzZUF1eGlsaWFyeUZpbGU6IEJvb2wpIC0+IEJvb2wge30KICAgIG9wZW4gZnVuYyB3cml0ZSh0b0ZpbGUgcGF0aDogU3RyaW5nLCBvcHRpb25zIHdyaXRlT3B0aW9uc01hc2s6IFdyaXRpbmdPcHRpb25zID0geCkgdGhyb3dzIHt9Cn0Kb3BlbiBjbGFzcyBOU0RhdGUgOiBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNDb2RpbmcsIE5TQ29weWluZywgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wsIE5TU2VjdXJlQ29kaW5nLCBfLCBfQ0ZCcmlkZ2VhYmxlLCBfU3RydWN0VHlwZUJyaWRnZWFibGUsIF9Td2lmdEJyaWRnZWFibGUgewogICAgb3BlbiBjbGFzcyB2YXIgZGlzdGFudEZ1dHVyZTogRGF0ZSB7IGdldCB9CiAgICBvcGVuIGNsYXNzIHZhciBkaXN0YW50UGFzdDogRGF0ZSB7IGdldCB9CiAgICBvcGVuIGNsYXNzIHZhciB0aW1lSW50ZXJ2YWxTaW5jZVJlZmVyZW5jZURhdGU6IFRpbWVJbnRlcnZhbCB7IGdldCB9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdCh0aW1lSW50ZXJ2YWwgc2Vjc1RvQmVBZGRlZDogVGltZUludGVydmFsLCBzaW5jZSBkYXRlOiBEYXRlKSB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQodGltZUludGVydmFsU2luY2UxOTcwIHNlY3M6IFRpbWVJbnRlcnZhbCkge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KHRpbWVJbnRlcnZhbFNpbmNlTm93IHNlY3M6IFRpbWVJbnRlcnZhbCkge30KICAgIHB1YmxpYyByZXF1aXJlZCBpbml0KHRpbWVJbnRlcnZhbFNpbmNlUmVmZXJlbmNlRGF0ZSB0aTogVGltZUludGVydmFsKSB7fQogICAgb3BlbiB2YXIgdGltZUludGVydmFsU2luY2UxOTcwOiBUaW1lSW50ZXJ2YWwgeyBnZXQgfQogICAgb3BlbiB2YXIgdGltZUludGVydmFsU2luY2VOb3c6IFRpbWVJbnRlcnZhbCB7IGdldCB9CiAgICBvcGVuIHZhciB0aW1lSW50ZXJ2YWxTaW5jZVJlZmVyZW5jZURhdGU6IFRpbWVJbnRlcnZhbCB7IGdldCB9CiAgICBvcGVuIGZ1bmMgYWRkaW5nVGltZUludGVydmFsKF8gdGk6IFRpbWVJbnRlcnZhbCkgLT4gRGF0ZSB7fQogICAgb3BlbiBmdW5jIGNvbXBhcmUoXyBvdGhlcjogRGF0ZSkgLT4gQ29tcGFyaXNvblJlc3VsdCB7fQogICAgb3BlbiBmdW5jIGRlc2NyaXB0aW9uKHdpdGggbG9jYWxlOiBMb2NhbGU/KSAtPiBTdHJpbmcge30KICAgIG9wZW4gZnVuYyBlYXJsaWVyRGF0ZShfIGFub3RoZXJEYXRlOiBEYXRlKSAtPiBEYXRlIHt9CiAgICBvcGVuIGZ1bmMgaXNFcXVhbCh0byBvdGhlckRhdGU6IERhdGUpIC0+IEJvb2wge30KICAgIG9wZW4gZnVuYyBsYXRlckRhdGUoXyBhbm90aGVyRGF0ZTogRGF0ZSkgLT4gRGF0ZSB7fQogICAgb3BlbiBmdW5jIHRpbWVJbnRlcnZhbFNpbmNlKF8gYW5vdGhlckRhdGU6IERhdGUpIC0+IFRpbWVJbnRlcnZhbCB7fQp9Cm9wZW4gY2xhc3MgTlNEYXRlQ29tcG9uZW50cyA6IEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU0NvZGluZywgTlNDb3B5aW5nLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCwgTlNTZWN1cmVDb2RpbmcsIF8sIF9TdHJ1Y3RUeXBlQnJpZGdlYWJsZSwgX1N3aWZ0QnJpZGdlYWJsZSB7CiAgICBvcGVuIHZhciBjYWxlbmRhcjogQ2FsZW5kYXI/IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBkYXRlOiBEYXRlPyB7IGdldCB9CiAgICBvcGVuIHZhciBkYXk6IEludCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgZXJhOiBJbnQgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGhvdXI6IEludCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgaXNMZWFwTW9udGg6IEJvb2wgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGlzVmFsaWREYXRlOiBCb29sIHsgZ2V0IH0KICAgIG9wZW4gdmFyIG1pbnV0ZTogSW50IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBtb250aDogSW50IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBuYW5vc2Vjb25kOiBJbnQgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHF1YXJ0ZXI6IEludCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgc2Vjb25kOiBJbnQgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHRpbWVab25lOiBUaW1lWm9uZT8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHdlZWtPZk1vbnRoOiBJbnQgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHdlZWtPZlllYXI6IEludCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgd2Vla2RheTogSW50IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciB3ZWVrZGF5T3JkaW5hbDogSW50IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciB5ZWFyOiBJbnQgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHllYXJGb3JXZWVrT2ZZZWFyOiBJbnQgeyBnZXQgc2V0IH0KICAgIG9wZW4gZnVuYyBpc1ZhbGlkRGF0ZShpbiBjYWxlbmRhcjogQ2FsZW5kYXIpIC0+IEJvb2wge30KICAgIG9wZW4gZnVuYyBzZXRWYWx1ZShfIHZhbHVlOiBJbnQsIGZvckNvbXBvbmVudCB1bml0OiBOU0NhbGVuZGFyLlVuaXQpIHt9CiAgICBvcGVuIGZ1bmMgdmFsdWUoZm9yQ29tcG9uZW50IHVuaXQ6IE5TQ2FsZW5kYXIuVW5pdCkgLT4gSW50IHt9Cn0Kb3BlbiBjbGFzcyBOU0RhdGVJbnRlcnZhbCA6IEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU0NvZGluZywgTlNDb3B5aW5nLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCwgTlNTZWN1cmVDb2RpbmcsIF8sIF9TdHJ1Y3RUeXBlQnJpZGdlYWJsZSB7CiAgICBwdWJsaWMgaW5pdChzdGFydCBzdGFydERhdGU6IERhdGUsIGR1cmF0aW9uOiBUaW1lSW50ZXJ2YWwpIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdChzdGFydCBzdGFydERhdGU6IERhdGUsIGVuZCBlbmREYXRlOiBEYXRlKSB7fQogICAgb3BlbiB2YXIgZHVyYXRpb246IFRpbWVJbnRlcnZhbCB7IGdldCB9CiAgICBvcGVuIHZhciBlbmREYXRlOiBEYXRlIHsgZ2V0IH0KICAgIG9wZW4gdmFyIHN0YXJ0RGF0ZTogRGF0ZSB7IGdldCB9CiAgICBvcGVuIGZ1bmMgY29tcGFyZShfIGRhdGVJbnRlcnZhbDogRGF0ZUludGVydmFsKSAtPiBDb21wYXJpc29uUmVzdWx0IHt9CiAgICBvcGVuIGZ1bmMgY29udGFpbnMoXyBkYXRlOiBEYXRlKSAtPiBCb29sIHt9CiAgICBvcGVuIGZ1bmMgaW50ZXJzZWN0aW9uKHdpdGggZGF0ZUludGVydmFsOiBEYXRlSW50ZXJ2YWwpIC0+IERhdGVJbnRlcnZhbD8ge30KICAgIG9wZW4gZnVuYyBpbnRlcnNlY3RzKF8gZGF0ZUludGVydmFsOiBEYXRlSW50ZXJ2YWwpIC0+IEJvb2wge30KICAgIG9wZW4gZnVuYyBpc0VxdWFsKHRvIGRhdGVJbnRlcnZhbDogRGF0ZUludGVydmFsKSAtPiBCb29sIHt9Cn0Kb3BlbiBjbGFzcyBOU0RlY2ltYWxOdW1iZXIgOiBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBFeHByZXNzaWJsZUJ5Qm9vbGVhbkxpdGVyYWwsIEV4cHJlc3NpYmxlQnlGbG9hdExpdGVyYWwsIEV4cHJlc3NpYmxlQnlJbnRlZ2VyTGl0ZXJhbCwgSGFzaGFibGUsIE5TQ29kaW5nLCBOU0NvcHlpbmcsIE5TTnVtYmVyLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCwgTlNTZWN1cmVDb2RpbmcsIE5TVmFsdWUsIF8sIF9GYWN0b3J5LCBfTlNOdW1iZXJDYXN0aW5nV2l0aG91dEJyaWRnaW5nIHsKICAgIG9wZW4gY2xhc3MgdmFyIGRlZmF1bHRCZWhhdmlvcjogTlNEZWNpbWFsTnVtYmVyQmVoYXZpb3JzIHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgdmFyIG1heGltdW06IE5TRGVjaW1hbE51bWJlciB7IGdldCB9CiAgICBvcGVuIGNsYXNzIHZhciBtaW5pbXVtOiBOU0RlY2ltYWxOdW1iZXIgeyBnZXQgfQogICAgb3BlbiBjbGFzcyB2YXIgbm90QU51bWJlcjogTlNEZWNpbWFsTnVtYmVyIHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgdmFyIG9uZTogTlNEZWNpbWFsTnVtYmVyIHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgdmFyIHplcm86IE5TRGVjaW1hbE51bWJlciB7IGdldCB9CiAgICBwdWJsaWMgaW5pdChkZWNpbWFsIGRjbTogRGVjaW1hbCkge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KG1hbnRpc3NhOiBVSW50NjQsIGV4cG9uZW50OiBJbnQxNiwgaXNOZWdhdGl2ZTogQm9vbCkge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KHN0cmluZyBudW1iZXJWYWx1ZTogU3RyaW5nPykge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KHN0cmluZyBudW1iZXJWYWx1ZTogU3RyaW5nPywgbG9jYWxlOiBBbnk/KSB7fQogICAgb3BlbiBmdW5jIGFkZGluZyhfIG90aGVyOiBOU0RlY2ltYWxOdW1iZXIpIC0+IE5TRGVjaW1hbE51bWJlciB7fQogICAgb3BlbiBmdW5jIGFkZGluZyhfIG90aGVyOiBOU0RlY2ltYWxOdW1iZXIsIHdpdGhCZWhhdmlvciBiOiBOU0RlY2ltYWxOdW1iZXJCZWhhdmlvcnM/KSAtPiBOU0RlY2ltYWxOdW1iZXIge30KICAgIG9wZW4gZnVuYyBkaXZpZGluZyhieSBvdGhlcjogTlNEZWNpbWFsTnVtYmVyKSAtPiBOU0RlY2ltYWxOdW1iZXIge30KICAgIG9wZW4gZnVuYyBkaXZpZGluZyhieSBvdGhlcjogTlNEZWNpbWFsTnVtYmVyLCB3aXRoQmVoYXZpb3IgYjogTlNEZWNpbWFsTnVtYmVyQmVoYXZpb3JzPykgLT4gTlNEZWNpbWFsTnVtYmVyIHt9CiAgICBvcGVuIGZ1bmMgbXVsdGlwbHlpbmcoYnkgb3RoZXI6IE5TRGVjaW1hbE51bWJlcikgLT4gTlNEZWNpbWFsTnVtYmVyIHt9CiAgICBvcGVuIGZ1bmMgbXVsdGlwbHlpbmcoYnkgb3RoZXI6IE5TRGVjaW1hbE51bWJlciwgd2l0aEJlaGF2aW9yIGI6IE5TRGVjaW1hbE51bWJlckJlaGF2aW9ycz8pIC0+IE5TRGVjaW1hbE51bWJlciB7fQogICAgb3BlbiBmdW5jIG11bHRpcGx5aW5nKGJ5UG93ZXJPZjEwIHBvd2VyOiBJbnQxNikgLT4gTlNEZWNpbWFsTnVtYmVyIHt9CiAgICBvcGVuIGZ1bmMgbXVsdGlwbHlpbmcoYnlQb3dlck9mMTAgcG93ZXI6IEludDE2LCB3aXRoQmVoYXZpb3IgYjogTlNEZWNpbWFsTnVtYmVyQmVoYXZpb3JzPykgLT4gTlNEZWNpbWFsTnVtYmVyIHt9CiAgICBvcGVuIGZ1bmMgcmFpc2luZyh0b1Bvd2VyIHBvd2VyOiBJbnQpIC0+IE5TRGVjaW1hbE51bWJlciB7fQogICAgb3BlbiBmdW5jIHJhaXNpbmcodG9Qb3dlciBwb3dlcjogSW50LCB3aXRoQmVoYXZpb3IgYjogTlNEZWNpbWFsTnVtYmVyQmVoYXZpb3JzPykgLT4gTlNEZWNpbWFsTnVtYmVyIHt9CiAgICBvcGVuIGZ1bmMgcm91bmRpbmcoYWNjb3JkaW5nVG9CZWhhdmlvciBiOiBOU0RlY2ltYWxOdW1iZXJCZWhhdmlvcnM/KSAtPiBOU0RlY2ltYWxOdW1iZXIge30KICAgIG9wZW4gZnVuYyBzdWJ0cmFjdGluZyhfIG90aGVyOiBOU0RlY2ltYWxOdW1iZXIpIC0+IE5TRGVjaW1hbE51bWJlciB7fQogICAgb3BlbiBmdW5jIHN1YnRyYWN0aW5nKF8gb3RoZXI6IE5TRGVjaW1hbE51bWJlciwgd2l0aEJlaGF2aW9yIGI6IE5TRGVjaW1hbE51bWJlckJlaGF2aW9ycz8pIC0+IE5TRGVjaW1hbE51bWJlciB7fQp9Cm9wZW4gY2xhc3MgTlNEZWNpbWFsTnVtYmVySGFuZGxlciA6IEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU0NvZGluZywgTlNEZWNpbWFsTnVtYmVyQmVoYXZpb3JzLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCwgXyB7CiAgICBvcGVuIGNsYXNzIHZhciBkZWZhdWx0OiBOU0RlY2ltYWxOdW1iZXJIYW5kbGVyIHsgZ2V0IH0KICAgIHB1YmxpYyBpbml0KHJvdW5kaW5nTW9kZTogTlNEZWNpbWFsTnVtYmVyLlJvdW5kaW5nTW9kZSwgc2NhbGU6IEludDE2LCByYWlzZU9uRXhhY3RuZXNzIGV4YWN0OiBCb29sLCByYWlzZU9uT3ZlcmZsb3cgb3ZlcmZsb3c6IEJvb2wsIHJhaXNlT25VbmRlcmZsb3cgdW5kZXJmbG93OiBCb29sLCByYWlzZU9uRGl2aWRlQnlaZXJvIGRpdmlkZUJ5WmVybzogQm9vbCkge30KfQpvcGVuIGNsYXNzIE5TRGljdGlvbmFyeSA6IEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVJlZmxlY3RhYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBFeHByZXNzaWJsZUJ5RGljdGlvbmFyeUxpdGVyYWwsIEhhc2hhYmxlLCBOU0NvZGluZywgTlNDb3B5aW5nLCBOU011dGFibGVDb3B5aW5nLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCwgTlNTZWN1cmVDb2RpbmcsIFNlcXVlbmNlLCBfLCBfQ0ZCcmlkZ2VhYmxlLCBfU3RydWN0VHlwZUJyaWRnZWFibGUsIF9Td2lmdEJyaWRnZWFibGUgewogICAgb3BlbiBjbGFzcyBmdW5jIHNoYXJlZEtleVNldChmb3JLZXlzIGtleXM6IFtOU0NvcHlpbmddKSAtPiBBbnkge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KGRpY3Rpb25hcnkgb3RoZXJEaWN0aW9uYXJ5OiBbQW55SGFzaGFibGU6IEFueV0pIHt9CiAgICBwdWJsaWMgcmVxdWlyZWQgY29udmVuaWVuY2UgaW5pdChkaWN0aW9uYXJ5TGl0ZXJhbCBlbGVtZW50czogKEFueSwgQW55KS4uLikge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KG9iamVjdDogQW55LCBmb3JLZXkga2V5OiBOU0NvcHlpbmcpIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdChvYmplY3RzOiBbQW55XSwgZm9yS2V5cyBrZXlzOiBbTlNPYmplY3RdKSB7fQogICAgcHVibGljIHJlcXVpcmVkIGluaXQob2JqZWN0czogVW5zYWZlUG9pbnRlcjxBbnlPYmplY3Q+ISwgZm9yS2V5cyBrZXlzOiBVbnNhZmVQb2ludGVyPE5TT2JqZWN0PiEsIGNvdW50IGNudDogSW50KSB7fQogICAgb3BlbiB2YXIgYWxsS2V5czogW0FueV0geyBnZXQgfQogICAgb3BlbiB2YXIgYWxsVmFsdWVzOiBbQW55XSB7IGdldCB9CiAgICBvcGVuIHZhciBjb3VudDogSW50IHsgZ2V0IH0KICAgIHB1YmxpYyB2YXIgY3VzdG9tTWlycm9yOiBNaXJyb3IgeyBnZXQgfQogICAgb3BlbiB2YXIgZGVzY3JpcHRpb25JblN0cmluZ3NGaWxlRm9ybWF0OiBTdHJpbmcgeyBnZXQgfQogICAgb3BlbiBzdWJzY3JpcHQoa2V5OiBBbnkpIC0+IEFueT8geyBnZXQgfSB7fQogICAgb3BlbiBmdW5jIGFsbEtleXMoZm9yIGFuT2JqZWN0OiBBbnkpIC0+IFtBbnldIHt9CiAgICBvcGVuIGZ1bmMgZGVzY3JpcHRpb24od2l0aExvY2FsZSBsb2NhbGU6IExvY2FsZT8pIC0+IFN0cmluZyB7fQogICAgb3BlbiBmdW5jIGRlc2NyaXB0aW9uKHdpdGhMb2NhbGUgbG9jYWxlOiBMb2NhbGU/LCBpbmRlbnQgbGV2ZWw6IEludCkgLT4gU3RyaW5nIHt9CiAgICBvcGVuIGZ1bmMgZW51bWVyYXRlS2V5c0FuZE9iamVjdHMoXyBibG9jazogKEFueSwgQW55LCBVbnNhZmVNdXRhYmxlUG9pbnRlcjxPYmpDQm9vbD4pIC0+IFN3aWZ0LlZvaWQpIHt9CiAgICBvcGVuIGZ1bmMgZW51bWVyYXRlS2V5c0FuZE9iamVjdHMob3B0aW9ucyBvcHRzOiBOU0VudW1lcmF0aW9uT3B0aW9ucyA9IHgsIHVzaW5nIGJsb2NrOiAoQW55LCBBbnksIFVuc2FmZU11dGFibGVQb2ludGVyPE9iakNCb29sPikgLT4gVm9pZCkge30KICAgIG9wZW4gZnVuYyBnZXRPYmplY3RzKF8gb2JqZWN0czogaW5vdXQgW0FueV0sIGFuZEtleXMga2V5czogaW5vdXQgW0FueV0sIGNvdW50OiBJbnQpIHt9CiAgICBvcGVuIGZ1bmMgaXNFcXVhbCh0byBvdGhlckRpY3Rpb25hcnk6IFtBbnlIYXNoYWJsZTogQW55XSkgLT4gQm9vbCB7fQogICAgb3BlbiBmdW5jIGtleUVudW1lcmF0b3IoKSAtPiBOU0VudW1lcmF0b3Ige30KICAgIG9wZW4gZnVuYyBrZXlzT2ZFbnRyaWVzKG9wdGlvbnMgb3B0czogTlNFbnVtZXJhdGlvbk9wdGlvbnMgPSB4LCBwYXNzaW5nVGVzdCBwcmVkaWNhdGU6IChBbnksIEFueSwgVW5zYWZlTXV0YWJsZVBvaW50ZXI8T2JqQ0Jvb2w+KSAtPiBCb29sKSAtPiBTZXQ8QW55SGFzaGFibGU+IHt9CiAgICBvcGVuIGZ1bmMga2V5c09mRW50cmllcyhwYXNzaW5nVGVzdCBwcmVkaWNhdGU6IChBbnksIEFueSwgVW5zYWZlTXV0YWJsZVBvaW50ZXI8T2JqQ0Jvb2w+KSAtPiBCb29sKSAtPiBTZXQ8QW55SGFzaGFibGU+IHt9CiAgICBvcGVuIGZ1bmMga2V5c1NvcnRlZEJ5VmFsdWUoY29tcGFyYXRvciBjbXB0cjogKEFueSwgQW55KSAtPiBDb21wYXJpc29uUmVzdWx0KSAtPiBbQW55XSB7fQogICAgb3BlbiBmdW5jIGtleXNTb3J0ZWRCeVZhbHVlKG9wdGlvbnMgb3B0czogTlNTb3J0T3B0aW9ucyA9IHgsIHVzaW5nQ29tcGFyYXRvciBjbXB0cjogKEFueSwgQW55KSAtPiBDb21wYXJpc29uUmVzdWx0KSAtPiBbQW55XSB7fQogICAgcHVibGljIGZ1bmMgbWFrZUl0ZXJhdG9yKCkgLT4gSXRlcmF0b3Ige30KICAgIG9wZW4gZnVuYyBvYmplY3QoZm9yS2V5IGFLZXk6IEFueSkgLT4gQW55PyB7fQogICAgb3BlbiBmdW5jIG9iamVjdEVudW1lcmF0b3IoKSAtPiBOU0VudW1lcmF0b3Ige30KICAgIG9wZW4gZnVuYyBvYmplY3RzKGZvcktleXMga2V5czogW0FueV0sIG5vdEZvdW5kTWFya2VyIG1hcmtlcjogQW55KSAtPiBbQW55XSB7fQogICAgb3BlbiBmdW5jIHZhbHVlKGZvcktleSBrZXk6IFN0cmluZykgLT4gQW55PyB7fQogICAgb3BlbiBmdW5jIHdyaXRlKHRvIHVybDogVVJMLCBhdG9taWNhbGx5OiBCb29sKSAtPiBCb29sIHt9CiAgICBvcGVuIGZ1bmMgd3JpdGUodG9GaWxlIHBhdGg6IFN0cmluZywgYXRvbWljYWxseSB1c2VBdXhpbGlhcnlGaWxlOiBCb29sKSAtPiBCb29sIHt9Cn0Kb3BlbiBjbGFzcyBOU0VudW1lcmF0b3IgOiBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wsIFNlcXVlbmNlLCBfIHsKICAgIHB1YmxpYyB2YXIgYWxsT2JqZWN0czogW0FueV0geyBnZXQgfQogICAgcHVibGljIGZ1bmMgbWFrZUl0ZXJhdG9yKCkgLT4gSXRlcmF0b3Ige30KICAgIG9wZW4gZnVuYyBuZXh0T2JqZWN0KCkgLT4gQW55PyB7fQp9Cm9wZW4gY2xhc3MgTlNFcnJvciA6IEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU0NvZGluZywgTlNDb3B5aW5nLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCwgTlNTZWN1cmVDb2RpbmcsIFN3aWZ0LkVycm9yLCBfLCBfQ0ZCcmlkZ2VhYmxlIHsKICAgIG9wZW4gY2xhc3MgZnVuYyBzZXRVc2VySW5mb1ZhbHVlUHJvdmlkZXIoZm9yRG9tYWluIGVycm9yRG9tYWluOiBTdHJpbmcsIHByb3ZpZGVyOiAoKEVycm9yLCBTdHJpbmcpIC0+IEFueT8pPykge30KICAgIG9wZW4gY2xhc3MgZnVuYyB1c2VySW5mb1ZhbHVlUHJvdmlkZXIoZm9yRG9tYWluIGVycm9yRG9tYWluOiBTdHJpbmcpIC0+ICgoRXJyb3IsIFN0cmluZykgLT4gQW55Pyk/IHt9CiAgICBwdWJsaWMgaW5pdChkb21haW46IFN0cmluZywgY29kZTogSW50LCB1c2VySW5mbyBkaWN0OiBbU3RyaW5nOiBBbnldPyA9IHgpIHt9CiAgICBvcGVuIHZhciBjb2RlOiBJbnQgeyBnZXQgfQogICAgb3BlbiB2YXIgZG9tYWluOiBTdHJpbmcgeyBnZXQgfQogICAgb3BlbiB2YXIgaGVscEFuY2hvcjogU3RyaW5nPyB7IGdldCB9CiAgICBvcGVuIHZhciBsb2NhbGl6ZWREZXNjcmlwdGlvbjogU3RyaW5nIHsgZ2V0IH0KICAgIG9wZW4gdmFyIGxvY2FsaXplZEZhaWx1cmVSZWFzb246IFN0cmluZz8geyBnZXQgfQogICAgb3BlbiB2YXIgbG9jYWxpemVkUmVjb3ZlcnlPcHRpb25zOiBbU3RyaW5nXT8geyBnZXQgfQogICAgb3BlbiB2YXIgbG9jYWxpemVkUmVjb3ZlcnlTdWdnZXN0aW9uOiBTdHJpbmc/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHJlY292ZXJ5QXR0ZW1wdGVyOiBBbnk/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHVzZXJJbmZvOiBbU3RyaW5nOiBBbnldIHsgZ2V0IH0KfQpvcGVuIGNsYXNzIE5TRXhwcmVzc2lvbiA6IEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU0NvZGluZywgTlNDb3B5aW5nLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCwgTlNTZWN1cmVDb2RpbmcsIF8gewogICAgb3BlbiBjbGFzcyBmdW5jIGV4cHJlc3Npb25Gb3JBbnlLZXkoKSAtPiBOU0V4cHJlc3Npb24ge30KICAgIG9wZW4gY2xhc3MgZnVuYyBleHByZXNzaW9uRm9yRXZhbHVhdGVkT2JqZWN0KCkgLT4gTlNFeHByZXNzaW9uIHt9CiAgICBwdWJsaWMgaW5pdChibG9jazogQGVzY2FwaW5nIChBbnk/LCBbQW55XSwgTlNNdXRhYmxlRGljdGlvbmFyeT8pIC0+IEFueSwgYXJndW1lbnRzOiBbTlNFeHByZXNzaW9uXT8pIHt9CiAgICBwdWJsaWMgaW5pdChleHByZXNzaW9uVHlwZSB0eXBlOiBFeHByZXNzaW9uVHlwZSkge30KICAgIHB1YmxpYyBpbml0KGZvckFnZ3JlZ2F0ZSBzdWJleHByZXNzaW9uczogW0FueV0pIHt9CiAgICBwdWJsaWMgaW5pdChmb3JDb25kaXRpb25hbCBwcmVkaWNhdGU6IEFueSwgdHJ1ZUV4cHJlc3Npb246IE5TRXhwcmVzc2lvbiwgZmFsc2VFeHByZXNzaW9uOiBOU0V4cHJlc3Npb24pIHt9CiAgICBwdWJsaWMgaW5pdChmb3JDb25zdGFudFZhbHVlIG9iajogQW55Pykge30KICAgIHB1YmxpYyBpbml0KGZvckZ1bmN0aW9uIG5hbWU6IFN0cmluZywgYXJndW1lbnRzIHBhcmFtZXRlcnM6IFtBbnldKSB7fQogICAgcHVibGljIGluaXQoZm9yRnVuY3Rpb24gdGFyZ2V0OiBOU0V4cHJlc3Npb24sIHNlbGVjdG9yTmFtZSBuYW1lOiBTdHJpbmcsIGFyZ3VtZW50cyBwYXJhbWV0ZXJzOiBbQW55XT8pIHt9CiAgICBwdWJsaWMgaW5pdChmb3JJbnRlcnNlY3RTZXQgbGVmdDogTlNFeHByZXNzaW9uLCB3aXRoIHJpZ2h0OiBOU0V4cHJlc3Npb24pIHt9CiAgICBwdWJsaWMgaW5pdChmb3JLZXlQYXRoIGtleVBhdGg6IFN0cmluZykge30KICAgIHB1YmxpYyBpbml0KGZvck1pbnVzU2V0IGxlZnQ6IE5TRXhwcmVzc2lvbiwgd2l0aCByaWdodDogTlNFeHByZXNzaW9uKSB7fQogICAgcHVibGljIGluaXQoZm9yU3VicXVlcnkgZXhwcmVzc2lvbjogTlNFeHByZXNzaW9uLCB1c2luZ0l0ZXJhdG9yVmFyaWFibGUgdmFyaWFibGU6IFN0cmluZywgcHJlZGljYXRlOiBBbnkpIHt9CiAgICBwdWJsaWMgaW5pdChmb3JVbmlvblNldCBsZWZ0OiBOU0V4cHJlc3Npb24sIHdpdGggcmlnaHQ6IE5TRXhwcmVzc2lvbikge30KICAgIHB1YmxpYyBpbml0KGZvclZhcmlhYmxlIHN0cmluZzogU3RyaW5nKSB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQoZm9ybWF0IGV4cHJlc3Npb25Gb3JtYXQ6IFN0cmluZywgXyBhcmdzOiBDVmFyQXJnLi4uKSB7fQogICAgcHVibGljIGluaXQoZm9ybWF0IGV4cHJlc3Npb25Gb3JtYXQ6IFN0cmluZywgYXJndW1lbnRBcnJheSBhcmd1bWVudHM6IFtBbnldKSB7fQogICAgcHVibGljIGluaXQoZm9ybWF0IGV4cHJlc3Npb25Gb3JtYXQ6IFN0cmluZywgYXJndW1lbnRzIGFyZ0xpc3Q6IENWYUxpc3RQb2ludGVyKSB7fQogICAgb3BlbiB2YXIgYXJndW1lbnRzOiBbTlNFeHByZXNzaW9uXT8geyBnZXQgfQogICAgb3BlbiB2YXIgY29sbGVjdGlvbjogQW55IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGNvbnN0YW50VmFsdWU6IEFueSB7IGdldCB9CiAgICBvcGVuIHZhciBleHByZXNzaW9uQmxvY2s6IChBbnk/LCBbQW55XSwgTlNNdXRhYmxlRGljdGlvbmFyeT8pIC0+IEFueSB7IGdldCB9CiAgICBvcGVuIHZhciBleHByZXNzaW9uVHlwZTogRXhwcmVzc2lvblR5cGUgeyBnZXQgfQogICAgb3BlbiB2YXIgZmFsc2U6IE5TRXhwcmVzc2lvbiB7IGdldCB9CiAgICBvcGVuIHZhciBmdW5jdGlvbjogU3RyaW5nIHsgZ2V0IH0KICAgIG9wZW4gdmFyIGtleVBhdGg6IFN0cmluZyB7IGdldCB9CiAgICBvcGVuIHZhciBsZWZ0OiBOU0V4cHJlc3Npb24geyBnZXQgfQogICAgb3BlbiB2YXIgb3BlcmFuZDogTlNFeHByZXNzaW9uIHsgZ2V0IH0KICAgIG9wZW4gdmFyIHByZWRpY2F0ZTogTlNQcmVkaWNhdGUgeyBnZXQgfQogICAgb3BlbiB2YXIgcmlnaHQ6IE5TRXhwcmVzc2lvbiB7IGdldCB9CiAgICBvcGVuIHZhciB0cnVlOiBOU0V4cHJlc3Npb24geyBnZXQgfQogICAgb3BlbiB2YXIgdmFyaWFibGU6IFN0cmluZyB7IGdldCB9CiAgICBvcGVuIGZ1bmMgYWxsb3dFdmFsdWF0aW9uKCkge30KICAgIG9wZW4gZnVuYyBleHByZXNzaW9uVmFsdWUod2l0aCBvYmplY3Q6IEFueT8sIGNvbnRleHQ6IE5TTXV0YWJsZURpY3Rpb25hcnk/KSAtPiBBbnk/IHt9Cn0Kb3BlbiBjbGFzcyBOU0luZGV4UGF0aCA6IEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU0NvZGluZywgTlNDb3B5aW5nLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCwgTlNTZWN1cmVDb2RpbmcsIF8sIF9IYXNDdXN0b21BbnlIYXNoYWJsZVJlcHJlc2VudGF0aW9uLCBfU3RydWN0VHlwZUJyaWRnZWFibGUgewogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQoaW5kZXg6IEludCkge30KICAgIHB1YmxpYyBpbml0KGluZGV4ZXM6IFVuc2FmZVBvaW50ZXI8SW50Pj8sIGxlbmd0aDogSW50KSB7fQogICAgb3BlbiB2YXIgbGVuZ3RoOiBJbnQgeyBnZXQgfQogICAgb3BlbiBmdW5jIGFkZGluZyhfIGluZGV4OiBJbnQpIC0+IEluZGV4UGF0aCB7fQogICAgb3BlbiBmdW5jIGNvbXBhcmUoXyBvdGhlck9iamVjdDogSW5kZXhQYXRoKSAtPiBDb21wYXJpc29uUmVzdWx0IHt9CiAgICBvcGVuIGZ1bmMgZ2V0SW5kZXhlcyhfIGluZGV4ZXM6IFVuc2FmZU11dGFibGVQb2ludGVyPEludD4sIHJhbmdlIHBvc2l0aW9uUmFuZ2U6IE5TUmFuZ2UpIHt9CiAgICBvcGVuIGZ1bmMgaW5kZXgoYXRQb3NpdGlvbiBwb3NpdGlvbjogSW50KSAtPiBJbnQge30KICAgIG9wZW4gZnVuYyByZW1vdmluZ0xhc3RJbmRleCgpIC0+IEluZGV4UGF0aCB7fQp9Cm9wZW4gY2xhc3MgTlNJbmRleFNldCA6IE5TQ29weWluZywgTlNNdXRhYmxlQ29weWluZywgTlNPYmplY3QsIE5TU2VjdXJlQ29kaW5nLCBTZXF1ZW5jZSwgX0hhc0N1c3RvbUFueUhhc2hhYmxlUmVwcmVzZW50YXRpb24sIF9TdHJ1Y3RUeXBlQnJpZGdlYWJsZSB7CiAgICBwdWJsaWMgc3RhdGljIHZhciBzdXBwb3J0c1NlY3VyZUNvZGluZzogQm9vbCB7IGdldCB9CiAgICBwdWJsaWMgaW5pdCgpIHt9CiAgICBwdWJsaWMgcmVxdWlyZWQgaW5pdD8oY29kZXIgYURlY29kZXI6IE5TQ29kZXIpIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdChpbmRleCB2YWx1ZTogSW50KSB7fQogICAgcHVibGljIGluaXQoaW5kZXhTZXQ6IEluZGV4U2V0KSB7fQogICAgcHVibGljIGluaXQoaW5kZXhlc0luIHJhbmdlOiBOU1JhbmdlKSB7fQogICAgb3BlbiB2YXIgY291bnQ6IEludCB7IGdldCB9CiAgICBvcGVuIHZhciBmaXJzdEluZGV4OiBJbnQgeyBnZXQgfQogICAgb3BlbiB2YXIgbGFzdEluZGV4OiBJbnQgeyBnZXQgfQogICAgb3BlbiBmdW5jIGNvbnRhaW5zKF8gaW5kZXhTZXQ6IEluZGV4U2V0KSAtPiBCb29sIHt9CiAgICBvcGVuIGZ1bmMgY29udGFpbnMoaW4gcmFuZ2U6IE5TUmFuZ2UpIC0+IEJvb2wge30KICAgIG9wZW4gZnVuYyBjb3B5KCkgLT4gQW55IHt9CiAgICBvcGVuIGZ1bmMgY29weSh3aXRoIHpvbmU6IE5TWm9uZT8gPSB4KSAtPiBBbnkge30KICAgIG9wZW4gZnVuYyBjb3VudE9mSW5kZXhlcyhpbiByYW5nZTogTlNSYW5nZSkgLT4gSW50IHt9CiAgICBvcGVuIGZ1bmMgZW5jb2RlKHdpdGggYUNvZGVyOiBOU0NvZGVyKSB7fQogICAgb3BlbiBmdW5jIGVudW1lcmF0ZShfIGJsb2NrOiAoSW50LCBVbnNhZmVNdXRhYmxlUG9pbnRlcjxPYmpDQm9vbD4pIC0+IFZvaWQpIHt9CiAgICBvcGVuIGZ1bmMgZW51bWVyYXRlKGluIHJhbmdlOiBOU1JhbmdlLCBvcHRpb25zIG9wdHM6IE5TRW51bWVyYXRpb25PcHRpb25zID0geCwgdXNpbmcgYmxvY2s6IChJbnQsIFVuc2FmZU11dGFibGVQb2ludGVyPE9iakNCb29sPikgLT4gVm9pZCkge30KICAgIG9wZW4gZnVuYyBlbnVtZXJhdGUob3B0aW9ucyBvcHRzOiBOU0VudW1lcmF0aW9uT3B0aW9ucyA9IHgsIHVzaW5nIGJsb2NrOiAoSW50LCBVbnNhZmVNdXRhYmxlUG9pbnRlcjxPYmpDQm9vbD4pIC0+IFZvaWQpIHt9CiAgICBvcGVuIGZ1bmMgZW51bWVyYXRlUmFuZ2VzKF8gYmxvY2s6IChOU1JhbmdlLCBVbnNhZmVNdXRhYmxlUG9pbnRlcjxPYmpDQm9vbD4pIC0+IFZvaWQpIHt9CiAgICBvcGVuIGZ1bmMgZW51bWVyYXRlUmFuZ2VzKGluIHJhbmdlOiBOU1JhbmdlLCBvcHRpb25zIG9wdHM6IE5TRW51bWVyYXRpb25PcHRpb25zID0geCwgdXNpbmcgYmxvY2s6IChOU1JhbmdlLCBVbnNhZmVNdXRhYmxlUG9pbnRlcjxPYmpDQm9vbD4pIC0+IFZvaWQpIHt9CiAgICBvcGVuIGZ1bmMgZW51bWVyYXRlUmFuZ2VzKG9wdGlvbnMgb3B0czogTlNFbnVtZXJhdGlvbk9wdGlvbnMgPSB4LCB1c2luZyBibG9jazogKE5TUmFuZ2UsIFVuc2FmZU11dGFibGVQb2ludGVyPE9iakNCb29sPikgLT4gVm9pZCkge30KICAgIG9wZW4gZnVuYyBnZXRJbmRleGVzKF8gaW5kZXhCdWZmZXI6IFVuc2FmZU11dGFibGVQb2ludGVyPEludD4sIG1heENvdW50IGJ1ZmZlclNpemU6IEludCwgaW5JbmRleFJhbmdlIHJhbmdlOiBOU1JhbmdlUG9pbnRlcj8pIC0+IEludCB7fQogICAgb3BlbiBmdW5jIGluZGV4KGluIHJhbmdlOiBOU1JhbmdlLCBvcHRpb25zIG9wdHM6IE5TRW51bWVyYXRpb25PcHRpb25zID0geCwgcGFzc2luZ1Rlc3QgcHJlZGljYXRlOiAoSW50LCBVbnNhZmVNdXRhYmxlUG9pbnRlcjxPYmpDQm9vbD4pIC0+IEJvb2wpIC0+IEludCB7fQogICAgb3BlbiBmdW5jIGluZGV4KG9wdGlvbnMgb3B0czogTlNFbnVtZXJhdGlvbk9wdGlvbnMgPSB4LCBwYXNzaW5nVGVzdCBwcmVkaWNhdGU6IChJbnQsIFVuc2FmZU11dGFibGVQb2ludGVyPE9iakNCb29sPikgLT4gQm9vbCkgLT4gSW50IHt9CiAgICBvcGVuIGZ1bmMgaW5kZXgocGFzc2luZ1Rlc3QgcHJlZGljYXRlOiAoSW50LCBVbnNhZmVNdXRhYmxlUG9pbnRlcjxPYmpDQm9vbD4pIC0+IEJvb2wpIC0+IEludCB7fQogICAgb3BlbiBmdW5jIGluZGV4R3JlYXRlclRoYW5JbmRleChfIHZhbHVlOiBJbnQpIC0+IEludCB7fQogICAgb3BlbiBmdW5jIGluZGV4R3JlYXRlclRoYW5PckVxdWFsKHRvIHZhbHVlOiBJbnQpIC0+IEludCB7fQogICAgb3BlbiBmdW5jIGluZGV4TGVzc1RoYW5JbmRleChfIHZhbHVlOiBJbnQpIC0+IEludCB7fQogICAgb3BlbiBmdW5jIGluZGV4TGVzc1RoYW5PckVxdWFsKHRvIHZhbHVlOiBJbnQpIC0+IEludCB7fQogICAgb3BlbiBmdW5jIGluZGV4ZXMoaW4gcmFuZ2U6IE5TUmFuZ2UsIG9wdGlvbnMgb3B0czogTlNFbnVtZXJhdGlvbk9wdGlvbnMgPSB4LCBwYXNzaW5nVGVzdCBwcmVkaWNhdGU6IChJbnQsIFVuc2FmZU11dGFibGVQb2ludGVyPE9iakNCb29sPikgLT4gQm9vbCkgLT4gSW5kZXhTZXQge30KICAgIG9wZW4gZnVuYyBpbmRleGVzKG9wdGlvbnMgb3B0czogTlNFbnVtZXJhdGlvbk9wdGlvbnMgPSB4LCBwYXNzaW5nVGVzdCBwcmVkaWNhdGU6IChJbnQsIFVuc2FmZU11dGFibGVQb2ludGVyPE9iakNCb29sPikgLT4gQm9vbCkgLT4gSW5kZXhTZXQge30KICAgIG9wZW4gZnVuYyBpbmRleGVzKHBhc3NpbmdUZXN0IHByZWRpY2F0ZTogKEludCwgVW5zYWZlTXV0YWJsZVBvaW50ZXI8T2JqQ0Jvb2w+KSAtPiBCb29sKSAtPiBJbmRleFNldCB7fQogICAgb3BlbiBmdW5jIGludGVyc2VjdHMoaW4gcmFuZ2U6IE5TUmFuZ2UpIC0+IEJvb2wge30KICAgIG9wZW4gZnVuYyBpc0VxdWFsKHRvIGluZGV4U2V0OiBJbmRleFNldCkgLT4gQm9vbCB7fQogICAgcHVibGljIGZ1bmMgbWFrZUl0ZXJhdG9yKCkgLT4gTlNJbmRleFNldEl0ZXJhdG9yIHt9CiAgICBvcGVuIGZ1bmMgbXV0YWJsZUNvcHkoKSAtPiBBbnkge30KICAgIG9wZW4gZnVuYyBtdXRhYmxlQ29weSh3aXRoIHpvbmU6IE5TWm9uZT8gPSB4KSAtPiBBbnkge30KfQpvcGVuIGNsYXNzIE5TS2V5ZWRBcmNoaXZlciA6IEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU0NvZGVyLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCwgXyB7CiAgICBvcGVuIGNsYXNzIGZ1bmMgYXJjaGl2ZVJvb3RPYmplY3QoXyByb290T2JqZWN0OiBBbnksIHRvRmlsZSBwYXRoOiBTdHJpbmcpIC0+IEJvb2wge30KICAgIG9wZW4gY2xhc3MgZnVuYyBhcmNoaXZlZERhdGEod2l0aFJvb3RPYmplY3Qgcm9vdE9iamVjdDogQW55KSAtPiBEYXRhIHt9CiAgICBvcGVuIGNsYXNzIGZ1bmMgY2xhc3NOYW1lRm9yQ2xhc3MoXyBjbHM6IEFueUNsYXNzKSAtPiBTdHJpbmc/IHt9CiAgICBvcGVuIGNsYXNzIGZ1bmMgc2V0Q2xhc3NOYW1lKF8gY29kZWROYW1lOiBTdHJpbmc/LCBmb3IgY2xzOiBBbnlDbGFzcykge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KGZvcldyaXRpbmdXaXRoIGRhdGE6IE5TTXV0YWJsZURhdGEpIHt9CiAgICBvcGVuIHdlYWsgdmFyIGRlbGVnYXRlOiBOU0tleWVkQXJjaGl2ZXJEZWxlZ2F0ZT8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGVuY29kZWREYXRhOiBEYXRhIHsgZ2V0IH0KICAgIG9wZW4gdmFyIG91dHB1dEZvcm1hdCB7IGdldCB9CiAgICBvcGVuIGZ1bmMgY2xhc3NOYW1lRm9yQ2xhc3MoXyBjbHM6IEFueUNsYXNzKSAtPiBTdHJpbmc/IHt9CiAgICBvcGVuIGZ1bmMgZW5jb2RlUHJvcGVydHlMaXN0KF8gYVByb3BlcnR5TGlzdDogQW55LCBmb3JLZXkga2V5OiBTdHJpbmcpIHt9CiAgICBvcGVuIGZ1bmMgZmluaXNoRW5jb2RpbmcoKSB7fQogICAgb3BlbiBmdW5jIHNldENsYXNzTmFtZShfIGNvZGVkTmFtZTogU3RyaW5nPywgZm9yIGNsczogQW55Q2xhc3MpIHt9Cn0Kb3BlbiBjbGFzcyBOU0tleWVkVW5hcmNoaXZlciA6IE5TQ29kZXIsIE5TT2JqZWN0IHsKICAgIG9wZW4gY2xhc3MgZnVuYyBjbGFzcyhmb3JDbGFzc05hbWUgY29kZWROYW1lOiBTdHJpbmcpIC0+IEFueUNsYXNzPyB7fQogICAgb3BlbiBjbGFzcyBmdW5jIHNldENsYXNzKF8gY2xzOiBBbnlDbGFzcz8sIGZvckNsYXNzTmFtZSBjb2RlZE5hbWU6IFN0cmluZykge30KICAgIG9wZW4gY2xhc3MgZnVuYyB1bmFyY2hpdmVPYmplY3Qod2l0aCBkYXRhOiBEYXRhKSAtPiBBbnk/IHt9CiAgICBvcGVuIGNsYXNzIGZ1bmMgdW5hcmNoaXZlT2JqZWN0KHdpdGhGaWxlIHBhdGg6IFN0cmluZykgLT4gQW55PyB7fQogICAgb3BlbiBjbGFzcyBmdW5jIHVuYXJjaGl2ZVRvcExldmVsT2JqZWN0V2l0aERhdGEoXyBkYXRhOiBEYXRhKSB0aHJvd3MgLT4gQW55PyB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQoZm9yUmVhZGluZ1dpdGggZGF0YTogRGF0YSkge30KICAgIG9wZW4gd2VhayB2YXIgZGVsZWdhdGU6IE5TS2V5ZWRVbmFyY2hpdmVyRGVsZWdhdGU/IHsgZ2V0IHNldCB9CiAgICBvcGVuIGZ1bmMgY2xhc3MoZm9yQ2xhc3NOYW1lIGNvZGVkTmFtZTogU3RyaW5nKSAtPiBBbnlDbGFzcz8ge30KICAgIG9wZW4gZnVuYyBmaW5pc2hEZWNvZGluZygpIHt9CiAgICBvcGVuIGZ1bmMgc2V0Q2xhc3MoXyBjbHM6IEFueUNsYXNzPywgZm9yQ2xhc3NOYW1lIGNvZGVkTmFtZTogU3RyaW5nKSB7fQp9Cm9wZW4gY2xhc3MgTlNMb2NhbGUgOiBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNDb2RpbmcsIE5TQ29weWluZywgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wsIE5TU2VjdXJlQ29kaW5nLCBfLCBfU3RydWN0VHlwZUJyaWRnZWFibGUsIF9Td2lmdEJyaWRnZWFibGUgewogICAgb3BlbiBjbGFzcyB2YXIgYXZhaWxhYmxlTG9jYWxlSWRlbnRpZmllcnM6IFtTdHJpbmddIHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgdmFyIGNvbW1vbklTT0N1cnJlbmN5Q29kZXM6IFtTdHJpbmddIHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgdmFyIGN1cnJlbnQ6IExvY2FsZSB7IGdldCB9CiAgICBwdWJsaWMgc3RhdGljIHZhciBjdXJyZW50TG9jYWxlRGlkQ2hhbmdlTm90aWZpY2F0aW9uIHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgdmFyIGlzb0NvdW50cnlDb2RlczogW1N0cmluZ10geyBnZXQgfQogICAgb3BlbiBjbGFzcyB2YXIgaXNvQ3VycmVuY3lDb2RlczogW1N0cmluZ10geyBnZXQgfQogICAgb3BlbiBjbGFzcyB2YXIgaXNvTGFuZ3VhZ2VDb2RlczogW1N0cmluZ10geyBnZXQgfQogICAgb3BlbiBjbGFzcyB2YXIgcHJlZmVycmVkTGFuZ3VhZ2VzOiBbU3RyaW5nXSB7IGdldCB9CiAgICBvcGVuIGNsYXNzIHZhciBzeXN0ZW06IExvY2FsZSB7IGdldCB9CiAgICBvcGVuIGNsYXNzIGZ1bmMgY2Fub25pY2FsTGFuZ3VhZ2VJZGVudGlmaWVyKGZyb20gc3RyaW5nOiBTdHJpbmcpIC0+IFN0cmluZyB7fQogICAgb3BlbiBjbGFzcyBmdW5jIGNhbm9uaWNhbExvY2FsZUlkZW50aWZpZXIoZnJvbSBzdHJpbmc6IFN0cmluZykgLT4gU3RyaW5nIHt9CiAgICBvcGVuIGNsYXNzIGZ1bmMgY2hhcmFjdGVyRGlyZWN0aW9uKGZvckxhbmd1YWdlIGlzb0xhbmdDb2RlOiBTdHJpbmcpIC0+IE5TTG9jYWxlLkxhbmd1YWdlRGlyZWN0aW9uIHt9CiAgICBvcGVuIGNsYXNzIGZ1bmMgY29tcG9uZW50cyhmcm9tTG9jYWxlSWRlbnRpZmllciBzdHJpbmc6IFN0cmluZykgLT4gW1N0cmluZzogU3RyaW5nXSB7fQogICAgb3BlbiBjbGFzcyBmdW5jIGxpbmVEaXJlY3Rpb24oZm9yTGFuZ3VhZ2UgaXNvTGFuZ0NvZGU6IFN0cmluZykgLT4gTlNMb2NhbGUuTGFuZ3VhZ2VEaXJlY3Rpb24ge30KICAgIG9wZW4gY2xhc3MgZnVuYyBsb2NhbGVJZGVudGlmaWVyKGZyb21Db21wb25lbnRzIGRpY3Q6IFtTdHJpbmc6IFN0cmluZ10pIC0+IFN0cmluZyB7fQogICAgb3BlbiBjbGFzcyBmdW5jIGxvY2FsZUlkZW50aWZpZXIoZnJvbVdpbmRvd3NMb2NhbGVDb2RlIGxjaWQ6IFVJbnQzMikgLT4gU3RyaW5nPyB7fQogICAgb3BlbiBjbGFzcyBmdW5jIHdpbmRvd3NMb2NhbGVDb2RlKGZyb21Mb2NhbGVJZGVudGlmaWVyIGxvY2FsZUlkZW50aWZpZXI6IFN0cmluZykgLT4gVUludDMyIHt9CiAgICBwdWJsaWMgaW5pdChsb2NhbGVJZGVudGlmaWVyIHN0cmluZzogU3RyaW5nKSB7fQogICAgcHVibGljIHZhciBsb2NhbGVJZGVudGlmaWVyOiBTdHJpbmcgeyBnZXQgfQogICAgb3BlbiBmdW5jIGRpc3BsYXlOYW1lKGZvcktleSBrZXk6IEtleSwgdmFsdWU6IFN0cmluZykgLT4gU3RyaW5nPyB7fQogICAgb3BlbiBmdW5jIG9iamVjdChmb3JLZXkga2V5OiBOU0xvY2FsZS5LZXkpIC0+IEFueT8ge30KfQpvcGVuIGNsYXNzIE5TTG9jayA6IEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU0xvY2tpbmcsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBfIHsKICAgIG9wZW4gdmFyIG5hbWU6IFN0cmluZz8geyBnZXQgc2V0IH0KICAgIG9wZW4gZnVuYyBsb2NrKGJlZm9yZSBsaW1pdDogRGF0ZSkgLT4gQm9vbCB7fQogICAgb3BlbiBmdW5jIHRyeSgpIC0+IEJvb2wge30KfQpvcGVuIGNsYXNzIE5TTWVhc3VyZW1lbnQgOiBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNDb2RpbmcsIE5TQ29weWluZywgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wsIE5TU2VjdXJlQ29kaW5nLCBfLCBfSGFzQ3VzdG9tQW55SGFzaGFibGVSZXByZXNlbnRhdGlvbiwgX1N0cnVjdFR5cGVCcmlkZ2VhYmxlIHsKICAgIHB1YmxpYyBpbml0KGRvdWJsZVZhbHVlOiBEb3VibGUsIHVuaXQ6IFVuaXQpIHt9CiAgICBvcGVuIHZhciBkb3VibGVWYWx1ZTogRG91YmxlIHsgZ2V0IH0KICAgIG9wZW4gdmFyIHVuaXQ6IFVuaXQgeyBnZXQgfQogICAgb3BlbiBmdW5jIGFkZGluZyhfIG1lYXN1cmVtZW50OiBNZWFzdXJlbWVudDxVbml0PikgLT4gTWVhc3VyZW1lbnQ8VW5pdD4ge30KICAgIG9wZW4gZnVuYyBjYW5CZUNvbnZlcnRlZCh0byB1bml0OiBVbml0KSAtPiBCb29sIHt9CiAgICBvcGVuIGZ1bmMgY29udmVydGluZyh0byB1bml0OiBVbml0KSAtPiBNZWFzdXJlbWVudDxVbml0PiB7fQogICAgb3BlbiBmdW5jIHN1YnRyYWN0aW5nKF8gbWVhc3VyZW1lbnQ6IE1lYXN1cmVtZW50PFVuaXQ+KSAtPiBNZWFzdXJlbWVudDxVbml0PiB7fQp9Cm9wZW4gY2xhc3MgTlNNdXRhYmxlQXJyYXkgOiBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21SZWZsZWN0YWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgRXhwcmVzc2libGVCeUFycmF5TGl0ZXJhbCwgSGFzaGFibGUsIE5TQXJyYXksIE5TQ29kaW5nLCBOU0NvcHlpbmcsIE5TTXV0YWJsZUNvcHlpbmcsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBOU1NlY3VyZUNvZGluZywgU2VxdWVuY2UsIF8sIF9DRkJyaWRnZWFibGUsIF9TdHJ1Y3RUeXBlQnJpZGdlYWJsZSwgX1N3aWZ0QnJpZGdlYWJsZSB7CiAgICBwdWJsaWMgaW5pdChjYXBhY2l0eSBudW1JdGVtczogSW50KSB7fQogICAgb3BlbiBmdW5jIGFkZChfIGFuT2JqZWN0OiBBbnkpIHt9CiAgICBvcGVuIGZ1bmMgYWRkT2JqZWN0cyhmcm9tIG90aGVyQXJyYXk6IFtBbnldKSB7fQogICAgb3BlbiBmdW5jIGV4Y2hhbmdlT2JqZWN0KGF0IGlkeDE6IEludCwgd2l0aE9iamVjdEF0IGlkeDI6IEludCkge30KICAgIG9wZW4gZnVuYyBmaWx0ZXIodXNpbmcgcHJlZGljYXRlOiBOU1ByZWRpY2F0ZSkge30KICAgIG9wZW4gZnVuYyBpbnNlcnQoXyBhbk9iamVjdDogQW55LCBhdCBpbmRleDogSW50KSB7fQogICAgb3BlbiBmdW5jIHJlbW92ZShfIGFuT2JqZWN0OiBBbnkpIHt9CiAgICBvcGVuIGZ1bmMgcmVtb3ZlKF8gYW5PYmplY3Q6IEFueSwgaW4gcmFuZ2U6IE5TUmFuZ2UpIHt9CiAgICBvcGVuIGZ1bmMgcmVtb3ZlQWxsT2JqZWN0cygpIHt9CiAgICBvcGVuIGZ1bmMgcmVtb3ZlTGFzdE9iamVjdCgpIHt9CiAgICBvcGVuIGZ1bmMgcmVtb3ZlT2JqZWN0KGF0IGluZGV4OiBJbnQpIHt9CiAgICBvcGVuIGZ1bmMgcmVtb3ZlT2JqZWN0KGlkZW50aWNhbFRvIGFuT2JqZWN0OiBBbnkpIHt9CiAgICBvcGVuIGZ1bmMgcmVtb3ZlT2JqZWN0KGlkZW50aWNhbFRvIGFuT2JqZWN0OiBBbnksIGluIHJhbmdlOiBOU1JhbmdlKSB7fQogICAgb3BlbiBmdW5jIHJlbW92ZU9iamVjdHMoYXQgaW5kZXhlczogSW5kZXhTZXQpIHt9CiAgICBvcGVuIGZ1bmMgcmVtb3ZlT2JqZWN0cyhpbiBvdGhlckFycmF5OiBbQW55XSkge30KICAgIG9wZW4gZnVuYyByZXBsYWNlT2JqZWN0KGF0IGluZGV4OiBJbnQsIHdpdGggYW5PYmplY3Q6IEFueSkge30KICAgIG9wZW4gZnVuYyByZXBsYWNlT2JqZWN0cyhhdCBpbmRleGVzOiBJbmRleFNldCwgd2l0aCBvYmplY3RzOiBbQW55XSkge30KICAgIG9wZW4gZnVuYyByZXBsYWNlT2JqZWN0cyhpbiByYW5nZTogTlNSYW5nZSwgd2l0aE9iamVjdHNGcm9tIG90aGVyQXJyYXk6IFtBbnldKSB7fQogICAgb3BlbiBmdW5jIHJlcGxhY2VPYmplY3RzKGluIHJhbmdlOiBOU1JhbmdlLCB3aXRoT2JqZWN0c0Zyb20gb3RoZXJBcnJheTogW0FueV0sIHJhbmdlIG90aGVyUmFuZ2U6IE5TUmFuZ2UpIHt9CiAgICBvcGVuIGZ1bmMgc2V0QXJyYXkoXyBvdGhlckFycmF5OiBbQW55XSkge30KICAgIG9wZW4gZnVuYyBzb3J0KF8gY29tcGFyZTogKEFueSwgQW55LCBVbnNhZmVNdXRhYmxlUmF3UG9pbnRlcj8pIC0+IEludCwgY29udGV4dDogVW5zYWZlTXV0YWJsZVJhd1BvaW50ZXI/KSB7fQogICAgb3BlbiBmdW5jIHNvcnQoY29tcGFyYXRvcjogQ29tcGFyYXRvcikge30KICAgIG9wZW4gZnVuYyBzb3J0KG9wdGlvbnMgb3B0czogTlNTb3J0T3B0aW9ucyA9IHgsIHVzaW5nQ29tcGFyYXRvciBjbXB0cjogQ29tcGFyYXRvcikge30KICAgIHB1YmxpYyBmdW5jIHNvcnQodXNpbmcgc29ydERlc2NyaXB0b3JzOiBbTlNTb3J0RGVzY3JpcHRvcl0pIHt9Cn0Kb3BlbiBjbGFzcyBOU011dGFibGVBdHRyaWJ1dGVkU3RyaW5nIDogQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TQXR0cmlidXRlZFN0cmluZywgTlNDb2RpbmcsIE5TQ29weWluZywgTlNNdXRhYmxlQ29weWluZywgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wsIE5TU2VjdXJlQ29kaW5nLCBfLCBfQ0ZCcmlkZ2VhYmxlIHsKICAgIG9wZW4gdmFyIG11dGFibGVTdHJpbmc6IE5TTXV0YWJsZVN0cmluZyB7IGdldCB9CiAgICBvcGVuIGZ1bmMgYWRkQXR0cmlidXRlKF8gbmFtZTogTlNBdHRyaWJ1dGVkU3RyaW5nS2V5LCB2YWx1ZTogQW55LCByYW5nZTogTlNSYW5nZSkge30KICAgIG9wZW4gZnVuYyBhZGRBdHRyaWJ1dGVzKF8gYXR0cnM6IFtOU0F0dHJpYnV0ZWRTdHJpbmdLZXk6IEFueV0sIHJhbmdlOiBOU1JhbmdlKSB7fQogICAgb3BlbiBmdW5jIGFwcGVuZChfIGF0dHJTdHJpbmc6IE5TQXR0cmlidXRlZFN0cmluZykge30KICAgIG9wZW4gZnVuYyBiZWdpbkVkaXRpbmcoKSB7fQogICAgb3BlbiBmdW5jIGRlbGV0ZUNoYXJhY3RlcnMoaW4gcmFuZ2U6IE5TUmFuZ2UpIHt9CiAgICBvcGVuIGZ1bmMgZW5kRWRpdGluZygpIHt9CiAgICBvcGVuIGZ1bmMgaW5zZXJ0KF8gYXR0clN0cmluZzogTlNBdHRyaWJ1dGVkU3RyaW5nLCBhdCBsb2M6IEludCkge30KICAgIG9wZW4gZnVuYyByZW1vdmVBdHRyaWJ1dGUoXyBuYW1lOiBOU0F0dHJpYnV0ZWRTdHJpbmdLZXksIHJhbmdlOiBOU1JhbmdlKSB7fQogICAgb3BlbiBmdW5jIHJlcGxhY2VDaGFyYWN0ZXJzKGluIHJhbmdlOiBOU1JhbmdlLCB3aXRoIGF0dHJTdHJpbmc6IE5TQXR0cmlidXRlZFN0cmluZykge30KICAgIG9wZW4gZnVuYyBzZXRBdHRyaWJ1dGVkU3RyaW5nKF8gYXR0clN0cmluZzogTlNBdHRyaWJ1dGVkU3RyaW5nKSB7fQogICAgb3BlbiBmdW5jIHNldEF0dHJpYnV0ZXMoXyBhdHRyczogW05TQXR0cmlidXRlZFN0cmluZ0tleTogQW55XT8sIHJhbmdlOiBOU1JhbmdlKSB7fQp9Cm9wZW4gY2xhc3MgTlNNdXRhYmxlQ2hhcmFjdGVyU2V0IDogQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TQ2hhcmFjdGVyU2V0LCBOU0NvZGluZywgTlNDb3B5aW5nLCBOU011dGFibGVDb3B5aW5nLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCwgXywgX1N0cnVjdFR5cGVCcmlkZ2VhYmxlLCBfU3dpZnRCcmlkZ2VhYmxlIHsKICAgIG9wZW4gY2xhc3MgZnVuYyBhbHBoYW51bWVyaWMoKSAtPiBOU011dGFibGVDaGFyYWN0ZXJTZXQge30KICAgIG9wZW4gY2xhc3MgZnVuYyBjYXBpdGFsaXplZExldHRlcigpIC0+IE5TTXV0YWJsZUNoYXJhY3RlclNldCB7fQogICAgb3BlbiBjbGFzcyBmdW5jIGNvbnRyb2woKSAtPiBOU011dGFibGVDaGFyYWN0ZXJTZXQge30KICAgIG9wZW4gY2xhc3MgZnVuYyBkZWNpbWFsRGlnaXQoKSAtPiBOU011dGFibGVDaGFyYWN0ZXJTZXQge30KICAgIG9wZW4gY2xhc3MgZnVuYyBkZWNvbXBvc2FibGUoKSAtPiBOU011dGFibGVDaGFyYWN0ZXJTZXQge30KICAgIG9wZW4gY2xhc3MgZnVuYyBpbGxlZ2FsKCkgLT4gTlNNdXRhYmxlQ2hhcmFjdGVyU2V0IHt9CiAgICBwdWJsaWMgY2xhc3MgZnVuYyBsZXR0ZXIoKSAtPiBOU011dGFibGVDaGFyYWN0ZXJTZXQge30KICAgIG9wZW4gY2xhc3MgZnVuYyBsb3dlcmNhc2VMZXR0ZXIoKSAtPiBOU011dGFibGVDaGFyYWN0ZXJTZXQge30KICAgIG9wZW4gY2xhc3MgZnVuYyBuZXdsaW5lKCkgLT4gTlNNdXRhYmxlQ2hhcmFjdGVyU2V0IHt9CiAgICBvcGVuIGNsYXNzIGZ1bmMgbm9uQmFzZSgpIC0+IE5TTXV0YWJsZUNoYXJhY3RlclNldCB7fQogICAgb3BlbiBjbGFzcyBmdW5jIHB1bmN0dWF0aW9uKCkgLT4gTlNNdXRhYmxlQ2hhcmFjdGVyU2V0IHt9CiAgICBvcGVuIGNsYXNzIGZ1bmMgc3ltYm9sKCkgLT4gTlNNdXRhYmxlQ2hhcmFjdGVyU2V0IHt9CiAgICBvcGVuIGNsYXNzIGZ1bmMgdXBwZXJjYXNlTGV0dGVyKCkgLT4gTlNNdXRhYmxlQ2hhcmFjdGVyU2V0IHt9CiAgICBvcGVuIGNsYXNzIGZ1bmMgd2hpdGVzcGFjZSgpIC0+IE5TTXV0YWJsZUNoYXJhY3RlclNldCB7fQogICAgb3BlbiBjbGFzcyBmdW5jIHdoaXRlc3BhY2VBbmROZXdsaW5lKCkgLT4gTlNNdXRhYmxlQ2hhcmFjdGVyU2V0IHt9CiAgICBvcGVuIGZ1bmMgYWRkQ2hhcmFjdGVycyhpbiBhUmFuZ2U6IE5TUmFuZ2UpIHt9CiAgICBvcGVuIGZ1bmMgZm9ybUludGVyc2VjdGlvbih3aXRoIG90aGVyU2V0OiBDaGFyYWN0ZXJTZXQpIHt9CiAgICBvcGVuIGZ1bmMgZm9ybVVuaW9uKHdpdGggb3RoZXJTZXQ6IENoYXJhY3RlclNldCkge30KICAgIG9wZW4gZnVuYyBpbnZlcnQoKSB7fQogICAgb3BlbiBmdW5jIHJlbW92ZUNoYXJhY3RlcnMoaW4gYVJhbmdlOiBOU1JhbmdlKSB7fQp9Cm9wZW4gY2xhc3MgTlNNdXRhYmxlRGF0YSA6IEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU0NvZGluZywgTlNDb3B5aW5nLCBOU0RhdGEsIE5TTXV0YWJsZUNvcHlpbmcsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBOU1NlY3VyZUNvZGluZywgXywgX0NGQnJpZGdlYWJsZSwgX1N0cnVjdFR5cGVCcmlkZ2VhYmxlLCBfU3dpZnRCcmlkZ2VhYmxlIHsKICAgIHB1YmxpYyBpbml0PyhjYXBhY2l0eTogSW50KSB7fQogICAgcHVibGljIGluaXQ/KGxlbmd0aDogSW50KSB7fQogICAgb3BlbiB2YXIgbXV0YWJsZUJ5dGVzOiBVbnNhZmVNdXRhYmxlUmF3UG9pbnRlciB7IGdldCB9CiAgICBvcGVuIGZ1bmMgYXBwZW5kKF8gb3RoZXI6IERhdGEpIHt9CiAgICBvcGVuIGZ1bmMgYXBwZW5kKF8gYnl0ZXM6IFVuc2FmZVJhd1BvaW50ZXIsIGxlbmd0aDogSW50KSB7fQogICAgb3BlbiBmdW5jIGluY3JlYXNlTGVuZ3RoKGJ5IGV4dHJhTGVuZ3RoOiBJbnQpIHt9CiAgICBvcGVuIGZ1bmMgcmVwbGFjZUJ5dGVzKGluIHJhbmdlOiBOU1JhbmdlLCB3aXRoQnl0ZXMgYnl0ZXM6IFVuc2FmZVJhd1BvaW50ZXIpIHt9CiAgICBvcGVuIGZ1bmMgcmVwbGFjZUJ5dGVzKGluIHJhbmdlOiBOU1JhbmdlLCB3aXRoQnl0ZXMgcmVwbGFjZW1lbnRCeXRlczogVW5zYWZlUmF3UG9pbnRlcj8sIGxlbmd0aCByZXBsYWNlbWVudExlbmd0aDogSW50KSB7fQogICAgb3BlbiBmdW5jIHJlc2V0Qnl0ZXMoaW4gcmFuZ2U6IE5TUmFuZ2UpIHt9CiAgICBvcGVuIGZ1bmMgc2V0RGF0YShfIGRhdGE6IERhdGEpIHt9Cn0Kb3BlbiBjbGFzcyBOU011dGFibGVEaWN0aW9uYXJ5IDogQ3VzdG9tUmVmbGVjdGFibGUsIEV4cHJlc3NpYmxlQnlEaWN0aW9uYXJ5TGl0ZXJhbCwgTlNDb2RpbmcsIE5TQ29weWluZywgTlNEaWN0aW9uYXJ5LCBOU011dGFibGVDb3B5aW5nLCBOU09iamVjdCwgTlNTZWN1cmVDb2RpbmcsIFNlcXVlbmNlLCBfQ0ZCcmlkZ2VhYmxlLCBfU3RydWN0VHlwZUJyaWRnZWFibGUsIF9Td2lmdEJyaWRnZWFibGUgewogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQoY2FwYWNpdHkgbnVtSXRlbXM6IEludCkge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KHNoYXJlZEtleVNldCBrZXlzZXQ6IEFueSkge30KICAgIG9wZW4gZnVuYyBhZGRFbnRyaWVzKGZyb20gb3RoZXJEaWN0aW9uYXJ5OiBbQW55SGFzaGFibGU6IEFueV0pIHt9CiAgICBvcGVuIGZ1bmMgcmVtb3ZlQWxsT2JqZWN0cygpIHt9CiAgICBvcGVuIGZ1bmMgcmVtb3ZlT2JqZWN0KGZvcktleSBhS2V5OiBBbnkpIHt9CiAgICBvcGVuIGZ1bmMgcmVtb3ZlT2JqZWN0cyhmb3JLZXlzIGtleUFycmF5OiBbQW55XSkge30KICAgIG9wZW4gZnVuYyBzZXREaWN0aW9uYXJ5KF8gb3RoZXJEaWN0aW9uYXJ5OiBbQW55SGFzaGFibGU6IEFueV0pIHt9CiAgICBvcGVuIGZ1bmMgc2V0T2JqZWN0KF8gYW5PYmplY3Q6IEFueSwgZm9yS2V5IGFLZXk6IEFueUhhc2hhYmxlKSB7fQp9Cm9wZW4gY2xhc3MgTlNNdXRhYmxlSW5kZXhTZXQgOiBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNDb2RpbmcsIE5TQ29weWluZywgTlNJbmRleFNldCwgTlNNdXRhYmxlQ29weWluZywgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wsIE5TU2VjdXJlQ29kaW5nLCBTZXF1ZW5jZSwgXywgX1N0cnVjdFR5cGVCcmlkZ2VhYmxlIHsKICAgIG9wZW4gZnVuYyBhZGQoXyBpbmRleFNldDogSW5kZXhTZXQpIHt9CiAgICBvcGVuIGZ1bmMgYWRkKGluIHI6IE5TUmFuZ2UpIHt9CiAgICBvcGVuIGZ1bmMgcmVtb3ZlKF8gaW5kZXhTZXQ6IEluZGV4U2V0KSB7fQogICAgb3BlbiBmdW5jIHJlbW92ZShpbiByYW5nZTogTlNSYW5nZSkge30KICAgIG9wZW4gZnVuYyByZW1vdmVBbGxJbmRleGVzKCkge30KICAgIG9wZW4gZnVuYyBzaGlmdEluZGV4ZXNTdGFydGluZyhhdCBpbmRleDogSW50LCBieSBkZWx0YTogSW50KSB7fQp9Cm9wZW4gY2xhc3MgTlNNdXRhYmxlT3JkZXJlZFNldCA6IEV4cHJlc3NpYmxlQnlBcnJheUxpdGVyYWwsIE5TQ29weWluZywgTlNNdXRhYmxlQ29weWluZywgTlNPYmplY3QsIE5TT3JkZXJlZFNldCwgTlNTZWN1cmVDb2RpbmcsIFNlcXVlbmNlIHsKICAgIHB1YmxpYyBpbml0KGNhcGFjaXR5IG51bUl0ZW1zOiBJbnQpIHt9CiAgICBvcGVuIGZ1bmMgYWRkKF8gb2JqZWN0OiBBbnkpIHt9CiAgICBvcGVuIGZ1bmMgYWRkKF8gb2JqZWN0czogVW5zYWZlUG9pbnRlcjxBbnlPYmplY3Q+ISwgY291bnQ6IEludCkge30KICAgIG9wZW4gZnVuYyBhZGRPYmplY3RzKGZyb20gYXJyYXk6IFtBbnldKSB7fQogICAgb3BlbiBmdW5jIGV4Y2hhbmdlT2JqZWN0KGF0IGlkeDE6IEludCwgd2l0aE9iamVjdEF0IGlkeDI6IEludCkge30KICAgIG9wZW4gZnVuYyBmaWx0ZXIodXNpbmcgcHJlZGljYXRlOiBOU1ByZWRpY2F0ZSkge30KICAgIG9wZW4gZnVuYyBpbnNlcnQoXyBvYmplY3Q6IEFueSwgYXQgaWR4OiBJbnQpIHt9CiAgICBvcGVuIGZ1bmMgaW50ZXJzZWN0KF8gb3RoZXI6IE5TT3JkZXJlZFNldCkge30KICAgIG9wZW4gZnVuYyBpbnRlcnNlY3RTZXQoXyBvdGhlcjogU2V0PEFueUhhc2hhYmxlPikge30KICAgIG9wZW4gZnVuYyBtaW51cyhfIG90aGVyOiBOU09yZGVyZWRTZXQpIHt9CiAgICBvcGVuIGZ1bmMgbWludXNTZXQoXyBvdGhlcjogU2V0PEFueUhhc2hhYmxlPikge30KICAgIG9wZW4gZnVuYyBtb3ZlT2JqZWN0cyhhdCBpbmRleGVzOiBJbmRleFNldCwgdG8gaWR4OiBJbnQpIHt9CiAgICBvcGVuIGZ1bmMgcmVtb3ZlKF8gdmFsOiBBbnkpIHt9CiAgICBwdWJsaWMgZnVuYyByZW1vdmVBbGxPYmplY3RzKCkge30KICAgIG9wZW4gZnVuYyByZW1vdmVPYmplY3QoYXQgaWR4OiBJbnQpIHt9CiAgICBvcGVuIGZ1bmMgcmVtb3ZlT2JqZWN0cyhhdCBpbmRleGVzOiBJbmRleFNldCkge30KICAgIG9wZW4gZnVuYyByZW1vdmVPYmplY3RzKGluIGFycmF5OiBbQW55XSkge30KICAgIG9wZW4gZnVuYyByZXBsYWNlT2JqZWN0KGF0IGlkeDogSW50LCB3aXRoIG9iajogQW55KSB7fQogICAgb3BlbiBmdW5jIHJlcGxhY2VPYmplY3RzKGF0IGluZGV4ZXM6IEluZGV4U2V0LCB3aXRoIG9iamVjdHM6IFtBbnldKSB7fQogICAgb3BlbiBmdW5jIHJlcGxhY2VPYmplY3RzKGluIHJhbmdlOiBOU1JhbmdlLCB3aXRoIG9iamVjdHM6IFVuc2FmZVBvaW50ZXI8QW55T2JqZWN0PiEsIGNvdW50OiBJbnQpIHt9CiAgICBvcGVuIGZ1bmMgc2V0T2JqZWN0KF8gb2JqOiBBbnksIGF0IGlkeDogSW50KSB7fQogICAgb3BlbiBmdW5jIHNvcnQoY29tcGFyYXRvciBjbXB0cjogKEFueSwgQW55KSAtPiBDb21wYXJpc29uUmVzdWx0KSB7fQogICAgb3BlbiBmdW5jIHNvcnQob3B0aW9ucyBvcHRzOiBOU1NvcnRPcHRpb25zID0geCwgdXNpbmdDb21wYXJhdG9yIGNtcHRyOiAoQW55LCBBbnkpIC0+IENvbXBhcmlzb25SZXN1bHQpIHt9CiAgICBwdWJsaWMgZnVuYyBzb3J0KHVzaW5nIHNvcnREZXNjcmlwdG9yczogW05TU29ydERlc2NyaXB0b3JdKSB7fQogICAgb3BlbiBmdW5jIHNvcnRSYW5nZShfIHJhbmdlOiBOU1JhbmdlLCBvcHRpb25zIG9wdHM6IE5TU29ydE9wdGlvbnMgPSB4LCB1c2luZ0NvbXBhcmF0b3IgY21wdHI6IChBbnksIEFueSkgLT4gQ29tcGFyaXNvblJlc3VsdCkge30KICAgIG9wZW4gZnVuYyB1bmlvbihfIG90aGVyOiBOU09yZGVyZWRTZXQpIHt9CiAgICBvcGVuIGZ1bmMgdW5pb25TZXQoXyBvdGhlcjogU2V0PEFueUhhc2hhYmxlPikge30KfQpvcGVuIGNsYXNzIE5TTXV0YWJsZVNldCA6IEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVJlZmxlY3RhYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNDb2RpbmcsIE5TQ29weWluZywgTlNNdXRhYmxlQ29weWluZywgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wsIE5TU2VjdXJlQ29kaW5nLCBOU1NldCwgU2VxdWVuY2UsIF8sIF9DRkJyaWRnZWFibGUsIF9TdHJ1Y3RUeXBlQnJpZGdlYWJsZSwgX1N3aWZ0QnJpZGdlYWJsZSB7CiAgICBwdWJsaWMgcmVxdWlyZWQgaW5pdChjYXBhY2l0eSBudW1JdGVtczogSW50KSB7fQogICAgb3BlbiBmdW5jIGFkZChfIG9iamVjdDogQW55KSB7fQogICAgb3BlbiBmdW5jIGFkZE9iamVjdHMoZnJvbSBhcnJheTogW0FueV0pIHt9CiAgICBvcGVuIGZ1bmMgZmlsdGVyKHVzaW5nIHByZWRpY2F0ZTogTlNQcmVkaWNhdGUpIHt9CiAgICBvcGVuIGZ1bmMgaW50ZXJzZWN0KF8gb3RoZXJTZXQ6IFNldDxBbnlIYXNoYWJsZT4pIHt9CiAgICBvcGVuIGZ1bmMgbWludXMoXyBvdGhlclNldDogU2V0PEFueUhhc2hhYmxlPikge30KICAgIG9wZW4gZnVuYyByZW1vdmUoXyBvYmplY3Q6IEFueSkge30KICAgIG9wZW4gZnVuYyByZW1vdmVBbGxPYmplY3RzKCkge30KICAgIG9wZW4gZnVuYyBzZXRTZXQoXyBvdGhlclNldDogU2V0PEFueUhhc2hhYmxlPikge30KICAgIG9wZW4gZnVuYyB1bmlvbihfIG90aGVyU2V0OiBTZXQ8QW55SGFzaGFibGU+KSB7fQp9Cm9wZW4gY2xhc3MgTlNNdXRhYmxlU3RyaW5nIDogQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgRXhwcmVzc2libGVCeVN0cmluZ0xpdGVyYWwsIEhhc2hhYmxlLCBOU0NvZGluZywgTlNDb3B5aW5nLCBOU011dGFibGVDb3B5aW5nLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCwgTlNTZWN1cmVDb2RpbmcsIE5TU3RyaW5nLCBfLCBfQ0ZCcmlkZ2VhYmxlLCBfU3RydWN0VHlwZUJyaWRnZWFibGUsIF9Td2lmdEJyaWRnZWFibGUgewogICAgcHVibGljIHJlcXVpcmVkIGluaXQoY2FwYWNpdHk6IEludCkge30KICAgIHB1YmxpYyBmdW5jIGFwcGVuZChfIGFTdHJpbmc6IFN0cmluZykge30KICAgIHB1YmxpYyBmdW5jIGFwcGx5VHJhbnNmb3JtKF8gdHJhbnNmb3JtOiBTdHJpbmcsIHJldmVyc2U6IEJvb2wsIHJhbmdlOiBOU1JhbmdlLCB1cGRhdGVkUmFuZ2UgcmVzdWx0aW5nUmFuZ2U6IE5TUmFuZ2VQb2ludGVyPykgLT4gQm9vbCB7fQogICAgcHVibGljIGZ1bmMgZGVsZXRlQ2hhcmFjdGVycyhpbiByYW5nZTogTlNSYW5nZSkge30KICAgIHB1YmxpYyBmdW5jIGluc2VydChfIGFTdHJpbmc6IFN0cmluZywgYXQgbG9jOiBJbnQpIHt9CiAgICBvcGVuIGZ1bmMgcmVwbGFjZUNoYXJhY3RlcnMoaW4gcmFuZ2U6IE5TUmFuZ2UsIHdpdGggYVN0cmluZzogU3RyaW5nKSB7fQogICAgcHVibGljIGZ1bmMgcmVwbGFjZU9jY3VycmVuY2VzKG9mIHRhcmdldDogU3RyaW5nLCB3aXRoIHJlcGxhY2VtZW50OiBTdHJpbmcsIG9wdGlvbnM6IENvbXBhcmVPcHRpb25zID0geCwgcmFuZ2Ugc2VhcmNoUmFuZ2U6IE5TUmFuZ2UpIC0+IEludCB7fQogICAgcHVibGljIGZ1bmMgc2V0U3RyaW5nKF8gYVN0cmluZzogU3RyaW5nKSB7fQp9Cm9wZW4gY2xhc3MgTlNNdXRhYmxlVVJMUmVxdWVzdCA6IEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU0NvZGluZywgTlNDb3B5aW5nLCBOU011dGFibGVDb3B5aW5nLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCwgTlNTZWN1cmVDb2RpbmcsIE5TVVJMUmVxdWVzdCwgXywgX1N0cnVjdFR5cGVCcmlkZ2VhYmxlIHsKICAgIG9wZW4gZnVuYyBhZGRWYWx1ZShfIHZhbHVlOiBTdHJpbmcsIGZvckhUVFBIZWFkZXJGaWVsZCBmaWVsZDogU3RyaW5nKSB7fQogICAgb3BlbiBmdW5jIHNldFZhbHVlKF8gdmFsdWU6IFN0cmluZz8sIGZvckhUVFBIZWFkZXJGaWVsZCBmaWVsZDogU3RyaW5nKSB7fQp9Cm9wZW4gY2xhc3MgTlNOb3RpZmljYXRpb24gOiBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNDb2RpbmcsIE5TQ29weWluZywgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wsIF8gewogICAgcHVibGljIGluaXQobmFtZTogTmFtZSwgb2JqZWN0OiBBbnk/LCB1c2VySW5mbzogW0FueUhhc2hhYmxlOiBBbnldPyA9IHgpIHt9CiAgICBvcGVuIHZhciBuYW1lOiBOYW1lIHsgZ2V0IH0KICAgIG9wZW4gdmFyIG9iamVjdDogQW55PyB7IGdldCB9CiAgICBvcGVuIHZhciB1c2VySW5mbzogW0FueUhhc2hhYmxlOiBBbnldPyB7IGdldCB9Cn0Kb3BlbiBjbGFzcyBOU051bGwgOiBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNDb2RpbmcsIE5TQ29weWluZywgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wsIE5TU2VjdXJlQ29kaW5nLCBfIHsKfQpvcGVuIGNsYXNzIE5TTnVtYmVyIDogQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgRXhwcmVzc2libGVCeUJvb2xlYW5MaXRlcmFsLCBFeHByZXNzaWJsZUJ5RmxvYXRMaXRlcmFsLCBFeHByZXNzaWJsZUJ5SW50ZWdlckxpdGVyYWwsIEhhc2hhYmxlLCBOU0NvZGluZywgTlNDb3B5aW5nLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCwgTlNTZWN1cmVDb2RpbmcsIE5TVmFsdWUsIF8sIF9GYWN0b3J5LCBfTlNOdW1iZXJDYXN0aW5nV2l0aG91dEJyaWRnaW5nIHsKICAgIHB1YmxpYyByZXF1aXJlZCBjb252ZW5pZW5jZSBpbml0KGJvb2xlYW5MaXRlcmFsIHZhbHVlOiBCb29sKSB7fQogICAgcHVibGljIHJlcXVpcmVkIGNvbnZlbmllbmNlIGluaXQoZmxvYXRMaXRlcmFsIHZhbHVlOiBEb3VibGUpIHt9CiAgICBwdWJsaWMgcmVxdWlyZWQgY29udmVuaWVuY2UgaW5pdChpbnRlZ2VyTGl0ZXJhbCB2YWx1ZTogSW50KSB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQodmFsdWU6IEJvb2wpIHt9CiAgICBvcGVuIHZhciBib29sVmFsdWU6IEJvb2wgeyBnZXQgfQogICAgcHVibGljIHZhciBkZWNpbWFsVmFsdWU6IERlY2ltYWwgeyBnZXQgfQogICAgb3BlbiB2YXIgZG91YmxlVmFsdWU6IERvdWJsZSB7IGdldCB9CiAgICBvcGVuIHZhciBmbG9hdFZhbHVlOiBGbG9hdCB7IGdldCB9CiAgICBvcGVuIHZhciBpbnQxNlZhbHVlOiBJbnQxNiB7IGdldCB9CiAgICBvcGVuIHZhciBpbnQzMlZhbHVlOiBJbnQzMiB7IGdldCB9CiAgICBvcGVuIHZhciBpbnQ2NFZhbHVlOiBJbnQ2NCB7IGdldCB9CiAgICBvcGVuIHZhciBpbnQ4VmFsdWU6IEludDggeyBnZXQgfQogICAgb3BlbiB2YXIgaW50VmFsdWU6IEludCB7IGdldCB9CiAgICBvcGVuIHZhciBzdHJpbmdWYWx1ZTogU3RyaW5nIHsgZ2V0IH0KICAgIG9wZW4gdmFyIHVpbnQxNlZhbHVlOiBVSW50MTYgeyBnZXQgfQogICAgb3BlbiB2YXIgdWludDMyVmFsdWU6IFVJbnQzMiB7IGdldCB9CiAgICBvcGVuIHZhciB1aW50NjRWYWx1ZTogVUludDY0IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHVpbnQ4VmFsdWU6IFVJbnQ4IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHVpbnRWYWx1ZTogVUludCB7IGdldCB9CiAgICBvcGVuIGZ1bmMgY29tcGFyZShfIG90aGVyTnVtYmVyOiBOU051bWJlcikgLT4gQ29tcGFyaXNvblJlc3VsdCB7fQogICAgb3BlbiBmdW5jIGRlc2NyaXB0aW9uKHdpdGhMb2NhbGUgbG9jYWxlOiBMb2NhbGU/KSAtPiBTdHJpbmcge30KfQpvcGVuIGNsYXNzIE5TT2JqZWN0IDogQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TT2JqZWN0UHJvdG9jb2wsIF8gewogICAgb3BlbiBjbGFzcyBmdW5jIGNsYXNzRmFsbGJhY2tzRm9yS2V5ZWRBcmNoaXZlcigpIC0+IFtTdHJpbmddIHt9CiAgICBvcGVuIGNsYXNzIGZ1bmMgY2xhc3NGb3JLZXllZFVuYXJjaGl2ZXIoKSAtPiBBbnlDbGFzcyB7fQogICAgcHVibGljIGluaXQoKSB7fQogICAgb3BlbiB2YXIgY2xhc3NGb3JDb2RlcjogQW55Q2xhc3MgeyBnZXQgfQogICAgb3BlbiB2YXIgY2xhc3NGb3JLZXllZEFyY2hpdmVyOiBBbnlDbGFzcz8geyBnZXQgfQogICAgb3BlbiB2YXIgaGFzaFZhbHVlOiBJbnQgeyBnZXQgfQogICAgcHVibGljIGZ1bmMgPT0obGhzOiBOU09iamVjdCwgcmhzOiBOU09iamVjdCkgLT4gQm9vbCB7fQogICAgb3BlbiBmdW5jIGNvcHkoKSAtPiBBbnkge30KICAgIG9wZW4gZnVuYyBtdXRhYmxlQ29weSgpIC0+IEFueSB7fQogICAgb3BlbiBmdW5jIHJlcGxhY2VtZW50T2JqZWN0KGZvciBhQ29kZXI6IE5TQ29kZXIpIC0+IEFueT8ge30KICAgIG9wZW4gZnVuYyByZXBsYWNlbWVudE9iamVjdChmb3IgYXJjaGl2ZXI6IE5TS2V5ZWRBcmNoaXZlcikgLT4gQW55PyB7fQp9Cm9wZW4gY2xhc3MgTlNPcmRlcmVkU2V0IDogQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgRXhwcmVzc2libGVCeUFycmF5TGl0ZXJhbCwgSGFzaGFibGUsIE5TQ29kaW5nLCBOU0NvcHlpbmcsIE5TTXV0YWJsZUNvcHlpbmcsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBOU1NlY3VyZUNvZGluZywgU2VxdWVuY2UsIF8gewogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQoYXJyYXk6IFtBbnldKSB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQoYXJyYXkgc2V0OiBbQW55XSwgY29weUl0ZW1zIGZsYWc6IEJvb2wpIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdChhcnJheSBzZXQ6IFtBbnldLCByYW5nZTogTlNSYW5nZSwgY29weUl0ZW1zIGZsYWc6IEJvb2wpIHt9CiAgICBwdWJsaWMgcmVxdWlyZWQgY29udmVuaWVuY2UgaW5pdChhcnJheUxpdGVyYWwgZWxlbWVudHM6IEFueS4uLikge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KG9iamVjdDogQW55KSB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQob2JqZWN0cyBlbGVtZW50czogQW55Li4uKSB7fQogICAgcHVibGljIGluaXQob2JqZWN0czogVW5zYWZlUG9pbnRlcjxBbnlPYmplY3Q+ISwgY291bnQgY250OiBJbnQpIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdChvcmRlcmVkU2V0IHNldDogTlNPcmRlcmVkU2V0KSB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQob3JkZXJlZFNldCBzZXQ6IE5TT3JkZXJlZFNldCwgY29weUl0ZW1zIGZsYWc6IEJvb2wpIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdChvcmRlcmVkU2V0IHNldDogTlNPcmRlcmVkU2V0LCByYW5nZTogTlNSYW5nZSwgY29weUl0ZW1zIGZsYWc6IEJvb2wpIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdChzZXQ6IFNldDxBbnlIYXNoYWJsZT4pIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdChzZXQ6IFNldDxBbnlIYXNoYWJsZT4sIGNvcHlJdGVtcyBmbGFnOiBCb29sKSB7fQogICAgcHVibGljIHZhciBhcnJheTogW0FueV0geyBnZXQgfQogICAgb3BlbiB2YXIgY291bnQ6IEludCB7IGdldCB9CiAgICBwdWJsaWMgdmFyIGZpcnN0T2JqZWN0OiBBbnk/IHsgZ2V0IH0KICAgIHB1YmxpYyB2YXIgbGFzdE9iamVjdDogQW55PyB7IGdldCB9CiAgICBwdWJsaWMgdmFyIHJldmVyc2VkOiBOU09yZGVyZWRTZXQgeyBnZXQgfQogICAgcHVibGljIHZhciBzZXQ6IFNldDxBbnlIYXNoYWJsZT4geyBnZXQgfQogICAgb3BlbiBzdWJzY3JpcHQoaWR4OiBJbnQpIC0+IEFueSB7IGdldCB9IHt9CiAgICBvcGVuIGZ1bmMgY29udGFpbnMoXyBvYmplY3Q6IEFueSkgLT4gQm9vbCB7fQogICAgcHVibGljIGZ1bmMgZGVzY3JpcHRpb24od2l0aExvY2FsZSBsb2NhbGU6IExvY2FsZT8pIC0+IFN0cmluZyB7fQogICAgcHVibGljIGZ1bmMgZGVzY3JpcHRpb24od2l0aExvY2FsZSBsb2NhbGU6IExvY2FsZT8sIGluZGVudCBsZXZlbDogSW50KSAtPiBTdHJpbmcge30KICAgIG9wZW4gZnVuYyBlbnVtZXJhdGVPYmplY3RzKF8gYmxvY2s6IChBbnksIEludCwgVW5zYWZlTXV0YWJsZVBvaW50ZXI8T2JqQ0Jvb2w+KSAtPiBTd2lmdC5Wb2lkKSB7fQogICAgb3BlbiBmdW5jIGVudW1lcmF0ZU9iamVjdHMoYXQgczogSW5kZXhTZXQsIG9wdGlvbnMgb3B0czogTlNFbnVtZXJhdGlvbk9wdGlvbnMgPSB4LCB1c2luZyBibG9jazogKEFueSwgSW50LCBVbnNhZmVNdXRhYmxlUG9pbnRlcjxPYmpDQm9vbD4pIC0+IFN3aWZ0LlZvaWQpIHt9CiAgICBvcGVuIGZ1bmMgZW51bWVyYXRlT2JqZWN0cyhvcHRpb25zIG9wdHM6IE5TRW51bWVyYXRpb25PcHRpb25zID0geCwgdXNpbmcgYmxvY2s6IChBbnksIEludCwgVW5zYWZlTXV0YWJsZVBvaW50ZXI8T2JqQ0Jvb2w+KSAtPiBTd2lmdC5Wb2lkKSB7fQogICAgb3BlbiBmdW5jIGZpbHRlcmVkKHVzaW5nIHByZWRpY2F0ZTogTlNQcmVkaWNhdGUpIC0+IE5TT3JkZXJlZFNldCB7fQogICAgcHVibGljIGZ1bmMgZ2V0T2JqZWN0cyhfIG9iamVjdHM6IGlub3V0IFtBbnlPYmplY3RdLCByYW5nZTogTlNSYW5nZSkge30KICAgIG9wZW4gZnVuYyBpbmRleChfIG9wdHM6IE5TRW51bWVyYXRpb25PcHRpb25zID0geCwgb2ZPYmplY3RQYXNzaW5nVGVzdCBwcmVkaWNhdGU6IChBbnksIEludCwgVW5zYWZlTXV0YWJsZVBvaW50ZXI8T2JqQ0Jvb2w+KSAtPiBCb29sKSAtPiBJbnQge30KICAgIG9wZW4gZnVuYyBpbmRleChvZiBvYmplY3Q6IEFueSkgLT4gSW50IHt9CiAgICBvcGVuIGZ1bmMgaW5kZXgob2Ygb2JqZWN0OiBBbnksIGluU29ydGVkUmFuZ2UgcmFuZ2U6IE5TUmFuZ2UsIG9wdGlvbnMgb3B0czogTlNCaW5hcnlTZWFyY2hpbmdPcHRpb25zID0geCwgdXNpbmdDb21wYXJhdG9yIGNtcDogKEFueSwgQW55KSAtPiBDb21wYXJpc29uUmVzdWx0KSAtPiBJbnQge30KICAgIG9wZW4gZnVuYyBpbmRleChvZk9iamVjdEF0IHM6IEluZGV4U2V0LCBvcHRpb25zIG9wdHM6IE5TRW51bWVyYXRpb25PcHRpb25zID0geCwgcGFzc2luZ1Rlc3QgcHJlZGljYXRlOiAoQW55LCBJbnQsIFVuc2FmZU11dGFibGVQb2ludGVyPE9iakNCb29sPikgLT4gQm9vbCkgLT4gSW50IHt9CiAgICBvcGVuIGZ1bmMgaW5kZXgob2ZPYmplY3RQYXNzaW5nVGVzdCBwcmVkaWNhdGU6IChBbnksIEludCwgVW5zYWZlTXV0YWJsZVBvaW50ZXI8T2JqQ0Jvb2w+KSAtPiBCb29sKSAtPiBJbnQge30KICAgIG9wZW4gZnVuYyBpbmRleGVzKG9mT2JqZWN0c0F0IHM6IEluZGV4U2V0LCBvcHRpb25zIG9wdHM6IE5TRW51bWVyYXRpb25PcHRpb25zID0geCwgcGFzc2luZ1Rlc3QgcHJlZGljYXRlOiAoQW55LCBJbnQsIFVuc2FmZU11dGFibGVQb2ludGVyPE9iakNCb29sPikgLT4gQm9vbCkgLT4gSW5kZXhTZXQge30KICAgIG9wZW4gZnVuYyBpbmRleGVzKG9mT2JqZWN0c1Bhc3NpbmdUZXN0IHByZWRpY2F0ZTogKEFueSwgSW50LCBVbnNhZmVNdXRhYmxlUG9pbnRlcjxPYmpDQm9vbD4pIC0+IEJvb2wpIC0+IEluZGV4U2V0IHt9CiAgICBvcGVuIGZ1bmMgaW5kZXhlcyhvcHRpb25zIG9wdHM6IE5TRW51bWVyYXRpb25PcHRpb25zID0geCwgb2ZPYmplY3RzUGFzc2luZ1Rlc3QgcHJlZGljYXRlOiAoQW55LCBJbnQsIFVuc2FmZU11dGFibGVQb2ludGVyPE9iakNCb29sPikgLT4gQm9vbCkgLT4gSW5kZXhTZXQge30KICAgIG9wZW4gZnVuYyBpbnRlcnNlY3RzKF8gb3RoZXI6IE5TT3JkZXJlZFNldCkgLT4gQm9vbCB7fQogICAgb3BlbiBmdW5jIGludGVyc2VjdHNTZXQoXyBzZXQ6IFNldDxBbnlIYXNoYWJsZT4pIC0+IEJvb2wge30KICAgIG9wZW4gZnVuYyBpc0VxdWFsKHRvIG90aGVyOiBOU09yZGVyZWRTZXQpIC0+IEJvb2wge30KICAgIG9wZW4gZnVuYyBpc1N1YnNldChvZiBvdGhlcjogTlNPcmRlcmVkU2V0KSAtPiBCb29sIHt9CiAgICBwdWJsaWMgZnVuYyBtYWtlSXRlcmF0b3IoKSAtPiBJdGVyYXRvciB7fQogICAgb3BlbiBmdW5jIG9iamVjdChhdCBpZHg6IEludCkgLT4gQW55IHt9CiAgICBwdWJsaWMgZnVuYyBvYmplY3RFbnVtZXJhdG9yKCkgLT4gTlNFbnVtZXJhdG9yIHt9CiAgICBvcGVuIGZ1bmMgb2JqZWN0cyhhdCBpbmRleGVzOiBJbmRleFNldCkgLT4gW0FueV0ge30KICAgIHB1YmxpYyBmdW5jIHJldmVyc2VPYmplY3RFbnVtZXJhdG9yKCkgLT4gTlNFbnVtZXJhdG9yIHt9CiAgICBvcGVuIGZ1bmMgc29ydGVkQXJyYXkoY29tcGFyYXRvciBjbXB0cjogKEFueSwgQW55KSAtPiBDb21wYXJpc29uUmVzdWx0KSAtPiBbQW55XSB7fQogICAgb3BlbiBmdW5jIHNvcnRlZEFycmF5KG9wdGlvbnMgb3B0czogTlNTb3J0T3B0aW9ucyA9IHgsIHVzaW5nQ29tcGFyYXRvciBjbXB0cjogKEFueSwgQW55KSAtPiBDb21wYXJpc29uUmVzdWx0KSAtPiBbQW55XSB7fQogICAgcHVibGljIGZ1bmMgc29ydGVkQXJyYXkodXNpbmcgc29ydERlc2NyaXB0b3JzOiBbTlNTb3J0RGVzY3JpcHRvcl0pIC0+IFtBbnldIHt9Cn0Kb3BlbiBjbGFzcyBOU1BlcnNvbk5hbWVDb21wb25lbnRzIDogQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TQ29kaW5nLCBOU0NvcHlpbmcsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBOU1NlY3VyZUNvZGluZywgXywgX0hhc0N1c3RvbUFueUhhc2hhYmxlUmVwcmVzZW50YXRpb24sIF9TdHJ1Y3RUeXBlQnJpZGdlYWJsZSB7CiAgICBvcGVuIHZhciBmYW1pbHlOYW1lOiBTdHJpbmc/IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBnaXZlbk5hbWU6IFN0cmluZz8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIG1pZGRsZU5hbWU6IFN0cmluZz8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIG5hbWVQcmVmaXg6IFN0cmluZz8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIG5hbWVTdWZmaXg6IFN0cmluZz8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIG5pY2tuYW1lOiBTdHJpbmc/IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBwaG9uZXRpY1JlcHJlc2VudGF0aW9uOiBQZXJzb25OYW1lQ29tcG9uZW50cz8geyBnZXQgc2V0IH0KfQpvcGVuIGNsYXNzIE5TUHJlZGljYXRlIDogQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TQ29kaW5nLCBOU0NvcHlpbmcsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBOU1NlY3VyZUNvZGluZywgXyB7CiAgICBwdWJsaWMgaW5pdChibG9jazogQGVzY2FwaW5nIChBbnk/LCBbU3RyaW5nOiBBbnldPykgLT4gQm9vbCkge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KGZvcm1hdCBwcmVkaWNhdGVGb3JtYXQ6IFN0cmluZywgXyBhcmdzOiBDVmFyQXJnLi4uKSB7fQogICAgcHVibGljIGluaXQoZm9ybWF0IHByZWRpY2F0ZUZvcm1hdDogU3RyaW5nLCBhcmd1bWVudEFycmF5IGFyZ3VtZW50czogW0FueV0/KSB7fQogICAgcHVibGljIGluaXQoZm9ybWF0IHByZWRpY2F0ZUZvcm1hdDogU3RyaW5nLCBhcmd1bWVudHMgYXJnTGlzdDogQ1ZhTGlzdFBvaW50ZXIpIHt9CiAgICBwdWJsaWMgaW5pdD8oZnJvbU1ldGFkYXRhUXVlcnlTdHJpbmcgcXVlcnlTdHJpbmc6IFN0cmluZykge30KICAgIHB1YmxpYyBpbml0KHZhbHVlOiBCb29sKSB7fQogICAgb3BlbiB2YXIgcHJlZGljYXRlRm9ybWF0OiBTdHJpbmcgeyBnZXQgfQogICAgb3BlbiBmdW5jIGFsbG93RXZhbHVhdGlvbigpIHt9CiAgICBvcGVuIGZ1bmMgZXZhbHVhdGUod2l0aCBvYmplY3Q6IEFueT8pIC0+IEJvb2wge30KICAgIG9wZW4gZnVuYyBldmFsdWF0ZSh3aXRoIG9iamVjdDogQW55Pywgc3Vic3RpdHV0aW9uVmFyaWFibGVzIGJpbmRpbmdzOiBbU3RyaW5nOiBBbnldPykgLT4gQm9vbCB7fQogICAgb3BlbiBmdW5jIHdpdGhTdWJzdGl0dXRpb25WYXJpYWJsZXMoXyB2YXJpYWJsZXM6IFtTdHJpbmc6IEFueV0pIC0+IFNlbGYge30KfQpvcGVuIGNsYXNzIE5TUmVjdXJzaXZlTG9jayA6IEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU0xvY2tpbmcsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBfIHsKICAgIG9wZW4gdmFyIG5hbWU6IFN0cmluZz8geyBnZXQgc2V0IH0KICAgIG9wZW4gZnVuYyBsb2NrKGJlZm9yZSBsaW1pdDogRGF0ZSkgLT4gQm9vbCB7fQogICAgb3BlbiBmdW5jIHRyeSgpIC0+IEJvb2wge30KfQpvcGVuIGNsYXNzIE5TUmVndWxhckV4cHJlc3Npb24gOiBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNDb2RpbmcsIE5TQ29weWluZywgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wsIF8gewogICAgb3BlbiBjbGFzcyBmdW5jIGVzY2FwZWRQYXR0ZXJuKGZvciBzdHJpbmc6IFN0cmluZykgLT4gU3RyaW5nIHt9CiAgICBvcGVuIGNsYXNzIGZ1bmMgZXNjYXBlZFRlbXBsYXRlKGZvciBzdHJpbmc6IFN0cmluZykgLT4gU3RyaW5nIHt9CiAgICBwdWJsaWMgaW5pdChwYXR0ZXJuOiBTdHJpbmcsIG9wdGlvbnM6IE9wdGlvbnMgPSB4KSB0aHJvd3Mge30KICAgIG9wZW4gdmFyIG51bWJlck9mQ2FwdHVyZUdyb3VwczogSW50IHsgZ2V0IH0KICAgIG9wZW4gdmFyIG9wdGlvbnM6IE9wdGlvbnMgeyBnZXQgfQogICAgb3BlbiB2YXIgcGF0dGVybjogU3RyaW5nIHsgZ2V0IH0KICAgIHB1YmxpYyBmdW5jIGVudW1lcmF0ZU1hdGNoZXMoaW4gc3RyaW5nOiBTdHJpbmcsIG9wdGlvbnM6IE5TUmVndWxhckV4cHJlc3Npb24uTWF0Y2hpbmdPcHRpb25zID0geCwgcmFuZ2U6IE5TUmFuZ2UsIHVzaW5nIGJsb2NrOiBAZXNjYXBpbmcgKE5TVGV4dENoZWNraW5nUmVzdWx0PywgTlNSZWd1bGFyRXhwcmVzc2lvbi5NYXRjaGluZ0ZsYWdzLCBVbnNhZmVNdXRhYmxlUG9pbnRlcjxPYmpDQm9vbD4pIC0+IFN3aWZ0LlZvaWQpIHt9CiAgICBwdWJsaWMgZnVuYyBmaXJzdE1hdGNoKGluIHN0cmluZzogU3RyaW5nLCBvcHRpb25zOiBOU1JlZ3VsYXJFeHByZXNzaW9uLk1hdGNoaW5nT3B0aW9ucyA9IHgsIHJhbmdlOiBOU1JhbmdlKSAtPiBOU1RleHRDaGVja2luZ1Jlc3VsdD8ge30KICAgIHB1YmxpYyBmdW5jIG1hdGNoZXMoaW4gc3RyaW5nOiBTdHJpbmcsIG9wdGlvbnM6IE5TUmVndWxhckV4cHJlc3Npb24uTWF0Y2hpbmdPcHRpb25zID0geCwgcmFuZ2U6IE5TUmFuZ2UpIC0+IFtOU1RleHRDaGVja2luZ1Jlc3VsdF0ge30KICAgIHB1YmxpYyBmdW5jIG51bWJlck9mTWF0Y2hlcyhpbiBzdHJpbmc6IFN0cmluZywgb3B0aW9uczogTlNSZWd1bGFyRXhwcmVzc2lvbi5NYXRjaGluZ09wdGlvbnMgPSB4LCByYW5nZTogTlNSYW5nZSkgLT4gSW50IHt9CiAgICBwdWJsaWMgZnVuYyByYW5nZU9mRmlyc3RNYXRjaChpbiBzdHJpbmc6IFN0cmluZywgb3B0aW9uczogTlNSZWd1bGFyRXhwcmVzc2lvbi5NYXRjaGluZ09wdGlvbnMgPSB4LCByYW5nZTogTlNSYW5nZSkgLT4gTlNSYW5nZSB7fQogICAgcHVibGljIGZ1bmMgcmVwbGFjZU1hdGNoZXMoaW4gc3RyaW5nOiBOU011dGFibGVTdHJpbmcsIG9wdGlvbnM6IE5TUmVndWxhckV4cHJlc3Npb24uTWF0Y2hpbmdPcHRpb25zID0geCwgcmFuZ2U6IE5TUmFuZ2UsIHdpdGhUZW1wbGF0ZSB0ZW1wbDogU3RyaW5nKSAtPiBJbnQge30KICAgIHB1YmxpYyBmdW5jIHJlcGxhY2VtZW50U3RyaW5nKGZvciByZXN1bHQ6IE5TVGV4dENoZWNraW5nUmVzdWx0LCBpbiBzdHJpbmc6IFN0cmluZywgb2Zmc2V0OiBJbnQsIHRlbXBsYXRlIHRlbXBsOiBTdHJpbmcpIC0+IFN0cmluZyB7fQogICAgcHVibGljIGZ1bmMgc3RyaW5nQnlSZXBsYWNpbmdNYXRjaGVzKGluIHN0cmluZzogU3RyaW5nLCBvcHRpb25zOiBOU1JlZ3VsYXJFeHByZXNzaW9uLk1hdGNoaW5nT3B0aW9ucyA9IHgsIHJhbmdlOiBOU1JhbmdlLCB3aXRoVGVtcGxhdGUgdGVtcGw6IFN0cmluZykgLT4gU3RyaW5nIHt9Cn0Kb3BlbiBjbGFzcyBOU1NldCA6IEN1c3RvbVJlZmxlY3RhYmxlLCBOU0NvZGluZywgTlNDb3B5aW5nLCBOU011dGFibGVDb3B5aW5nLCBOU09iamVjdCwgTlNTZWN1cmVDb2RpbmcsIFNlcXVlbmNlLCBfQ0ZCcmlkZ2VhYmxlLCBfU3RydWN0VHlwZUJyaWRnZWFibGUsIF9Td2lmdEJyaWRnZWFibGUgewogICAgcHVibGljIHN0YXRpYyB2YXIgc3VwcG9ydHNTZWN1cmVDb2Rpbmc6IEJvb2wgeyBnZXQgfQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQoKSB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQoYXJyYXk6IFtBbnldKSB7fQogICAgcHVibGljIHJlcXVpcmVkIGNvbnZlbmllbmNlIGluaXQ/KGNvZGVyIGFEZWNvZGVyOiBOU0NvZGVyKSB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQob2JqZWN0OiBBbnkpIHt9CiAgICBwdWJsaWMgaW5pdChvYmplY3RzOiBVbnNhZmVQb2ludGVyPEFueU9iamVjdD4hLCBjb3VudCBjbnQ6IEludCkge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KHNldDogU2V0PEFueUhhc2hhYmxlPikge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KHNldDogU2V0PEFueUhhc2hhYmxlPiwgY29weUl0ZW1zIGZsYWc6IEJvb2wpIHt9CiAgICBvcGVuIHZhciBhbGxPYmplY3RzOiBbQW55XSB7IGdldCB9CiAgICBvcGVuIHZhciBjb3VudDogSW50IHsgZ2V0IH0KICAgIHB1YmxpYyB2YXIgY3VzdG9tTWlycm9yOiBNaXJyb3IgeyBnZXQgfQogICAgb3BlbiB2YXIgaGFzaDogSW50IHsgZ2V0IH0KICAgIG9wZW4gZnVuYyBhZGRpbmcoXyBhbk9iamVjdDogQW55KSAtPiBTZXQ8QW55SGFzaGFibGU+IHt9CiAgICBvcGVuIGZ1bmMgYWRkaW5nT2JqZWN0cyhmcm9tIG90aGVyOiBTZXQ8QW55SGFzaGFibGU+KSAtPiBTZXQ8QW55SGFzaGFibGU+IHt9CiAgICBvcGVuIGZ1bmMgYW55T2JqZWN0KCkgLT4gQW55PyB7fQogICAgb3BlbiBmdW5jIGNvbnRhaW5zKF8gYW5PYmplY3Q6IEFueSkgLT4gQm9vbCB7fQogICAgb3BlbiBmdW5jIGNvcHkoKSAtPiBBbnkge30KICAgIG9wZW4gZnVuYyBjb3B5KHdpdGggem9uZTogTlNab25lPyA9IHgpIC0+IEFueSB7fQogICAgb3BlbiBmdW5jIGRlc2NyaXB0aW9uKHdpdGhMb2NhbGUgbG9jYWxlOiBMb2NhbGU/KSAtPiBTdHJpbmcge30KICAgIG9wZW4gZnVuYyBlbmNvZGUod2l0aCBhQ29kZXI6IE5TQ29kZXIpIHt9CiAgICBvcGVuIGZ1bmMgZW51bWVyYXRlT2JqZWN0cyhfIGJsb2NrOiAoQW55LCBVbnNhZmVNdXRhYmxlUG9pbnRlcjxPYmpDQm9vbD4pIC0+IFN3aWZ0LlZvaWQpIHt9CiAgICBvcGVuIGZ1bmMgZW51bWVyYXRlT2JqZWN0cyhvcHRpb25zIG9wdHM6IE5TRW51bWVyYXRpb25PcHRpb25zID0geCwgdXNpbmcgYmxvY2s6IChBbnksIFVuc2FmZU11dGFibGVQb2ludGVyPE9iakNCb29sPikgLT4gU3dpZnQuVm9pZCkge30KICAgIG9wZW4gZnVuYyBmaWx0ZXJlZCh1c2luZyBwcmVkaWNhdGU6IE5TUHJlZGljYXRlKSAtPiBTZXQ8QW55SGFzaGFibGU+IHt9CiAgICBvcGVuIGZ1bmMgaW50ZXJzZWN0cyhfIG90aGVyU2V0OiBTZXQ8QW55SGFzaGFibGU+KSAtPiBCb29sIHt9CiAgICBvcGVuIGZ1bmMgaXNFcXVhbChfIHZhbHVlOiBBbnk/KSAtPiBCb29sIHt9CiAgICBvcGVuIGZ1bmMgaXNFcXVhbCh0byBvdGhlclNldDogU2V0PEFueUhhc2hhYmxlPikgLT4gQm9vbCB7fQogICAgb3BlbiBmdW5jIGlzU3Vic2V0KG9mIG90aGVyU2V0OiBTZXQ8QW55SGFzaGFibGU+KSAtPiBCb29sIHt9CiAgICBwdWJsaWMgZnVuYyBtYWtlSXRlcmF0b3IoKSAtPiBJdGVyYXRvciB7fQogICAgb3BlbiBmdW5jIG1lbWJlcihfIG9iamVjdDogQW55KSAtPiBBbnk/IHt9CiAgICBvcGVuIGZ1bmMgbXV0YWJsZUNvcHkoKSAtPiBBbnkge30KICAgIG9wZW4gZnVuYyBtdXRhYmxlQ29weSh3aXRoIHpvbmU6IE5TWm9uZT8gPSB4KSAtPiBBbnkge30KICAgIG9wZW4gZnVuYyBvYmplY3RFbnVtZXJhdG9yKCkgLT4gTlNFbnVtZXJhdG9yIHt9CiAgICBvcGVuIGZ1bmMgb2JqZWN0cyhvcHRpb25zIG9wdHM6IE5TRW51bWVyYXRpb25PcHRpb25zID0geCwgcGFzc2luZ1Rlc3QgcHJlZGljYXRlOiAoQW55LCBVbnNhZmVNdXRhYmxlUG9pbnRlcjxPYmpDQm9vbD4pIC0+IEJvb2wpIC0+IFNldDxBbnlIYXNoYWJsZT4ge30KICAgIG9wZW4gZnVuYyBvYmplY3RzKHBhc3NpbmdUZXN0IHByZWRpY2F0ZTogKEFueSwgVW5zYWZlTXV0YWJsZVBvaW50ZXI8T2JqQ0Jvb2w+KSAtPiBCb29sKSAtPiBTZXQ8QW55SGFzaGFibGU+IHt9CiAgICBwdWJsaWMgZnVuYyBzb3J0ZWRBcnJheSh1c2luZyBzb3J0RGVzY3JpcHRvcnM6IFtOU1NvcnREZXNjcmlwdG9yXSkgLT4gW0FueV0ge30KfQpvcGVuIGNsYXNzIE5TU29ydERlc2NyaXB0b3IgOiBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNDb2RpbmcsIE5TQ29weWluZywgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wsIE5TU2VjdXJlQ29kaW5nLCBfIHsKICAgIHB1YmxpYyBpbml0KGtleTogU3RyaW5nPywgYXNjZW5kaW5nOiBCb29sKSB7fQogICAgcHVibGljIGluaXQoa2V5OiBTdHJpbmc/LCBhc2NlbmRpbmc6IEJvb2wsIGNvbXBhcmF0b3IgY21wdHI6IENvbXBhcmF0b3IpIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdDxSb290LCBWYWx1ZT4oa2V5UGF0aDogS2V5UGF0aDxSb290LCBWYWx1ZT4sIGFzY2VuZGluZzogQm9vbCkge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0PFJvb3QsIFZhbHVlPihrZXlQYXRoOiBLZXlQYXRoPFJvb3QsIFZhbHVlPiwgYXNjZW5kaW5nOiBCb29sLCBjb21wYXJhdG9yIGNtcHRyOiBAZXNjYXBpbmcgQ29tcGFyYXRvcikge30KICAgIG9wZW4gdmFyIGFzY2VuZGluZzogQm9vbCB7IGdldCB9CiAgICBvcGVuIHZhciBjb21wYXJhdG9yOiBDb21wYXJhdG9yIHsgZ2V0IH0KICAgIG9wZW4gdmFyIGtleTogU3RyaW5nPyB7IGdldCB9CiAgICBwdWJsaWMgdmFyIGtleVBhdGg6IEFueUtleVBhdGg/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHJldmVyc2VkU29ydERlc2NyaXB0b3I6IEFueSB7IGdldCB9CiAgICBvcGVuIGZ1bmMgYWxsb3dFdmFsdWF0aW9uKCkge30KICAgIG9wZW4gZnVuYyBjb21wYXJlKF8gb2JqZWN0MTogQW55LCB0byBvYmplY3QyOiBBbnkpIC0+IENvbXBhcmlzb25SZXN1bHQge30KfQpvcGVuIGNsYXNzIE5TU3RyaW5nIDogRXhwcmVzc2libGVCeVN0cmluZ0xpdGVyYWwsIE5TQ29kaW5nLCBOU0NvcHlpbmcsIE5TTXV0YWJsZUNvcHlpbmcsIE5TT2JqZWN0LCBOU1NlY3VyZUNvZGluZywgX0NGQnJpZGdlYWJsZSwgX1N0cnVjdFR5cGVCcmlkZ2VhYmxlLCBfU3dpZnRCcmlkZ2VhYmxlIHsKICAgIG9wZW4gY2xhc3MgdmFyIGF2YWlsYWJsZVN0cmluZ0VuY29kaW5nczogVW5zYWZlUG9pbnRlcjxVSW50PiB7IGdldCB9CiAgICBvcGVuIGNsYXNzIHZhciBkZWZhdWx0Q1N0cmluZ0VuY29kaW5nOiBVSW50IHsgZ2V0IH0KICAgIHB1YmxpYyBzdGF0aWMgdmFyIHN1cHBvcnRzU2VjdXJlQ29kaW5nOiBCb29sIHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgZnVuYyBsb2NhbGl6ZWROYW1lKG9mIGVuY29kaW5nOiBVSW50KSAtPiBTdHJpbmcge30KICAgIHB1YmxpYyBzdGF0aWMgZnVuYyBwYXRoV2l0aENvbXBvbmVudHMoXyBjb21wb25lbnRzOiBbU3RyaW5nXSkgLT4gU3RyaW5nIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdCgpIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdD8oYnl0ZXM6IFVuc2FmZVJhd1BvaW50ZXIsIGxlbmd0aCBsZW46IEludCwgZW5jb2Rpbmc6IFVJbnQpIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdD8oYnl0ZXNOb0NvcHkgYnl0ZXM6IFVuc2FmZU11dGFibGVSYXdQb2ludGVyLCBsZW5ndGggbGVuOiBJbnQsIGVuY29kaW5nOiBVSW50LCBmcmVlV2hlbkRvbmUgZnJlZUJ1ZmZlcjogQm9vbCkge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0PyhjU3RyaW5nIG51bGxUZXJtaW5hdGVkQ1N0cmluZzogVW5zYWZlUG9pbnRlcjxJbnQ4PiwgZW5jb2Rpbmc6IFVJbnQpIHt9CiAgICBwdWJsaWMgaW5pdChjaGFyYWN0ZXJzOiBVbnNhZmVQb2ludGVyPHVuaWNoYXI+LCBsZW5ndGg6IEludCkge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KGNoYXJhY3RlcnNOb0NvcHkgY2hhcmFjdGVyczogVW5zYWZlTXV0YWJsZVBvaW50ZXI8dW5pY2hhcj4sIGxlbmd0aDogSW50LCBmcmVlV2hlbkRvbmUgZnJlZUJ1ZmZlcjogQm9vbCkge30KICAgIHB1YmxpYyByZXF1aXJlZCBjb252ZW5pZW5jZSBpbml0Pyhjb2RlciBhRGVjb2RlcjogTlNDb2Rlcikge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KGNvbnRlbnRzT2YgdXJsOiBVUkwsIGVuY29kaW5nIGVuYzogVUludCkgdGhyb3dzIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdChjb250ZW50c09mIHVybDogVVJMLCB1c2VkRW5jb2RpbmcgZW5jOiBVbnNhZmVNdXRhYmxlUG9pbnRlcjxVSW50Pj8pIHRocm93cyB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQoY29udGVudHNPZkZpbGUgcGF0aDogU3RyaW5nLCBlbmNvZGluZyBlbmM6IFVJbnQpIHRocm93cyB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQoY29udGVudHNPZkZpbGUgcGF0aDogU3RyaW5nLCB1c2VkRW5jb2RpbmcgZW5jOiBVbnNhZmVNdXRhYmxlUG9pbnRlcjxVSW50Pj8pIHRocm93cyB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQ/KGRhdGE6IERhdGEsIGVuY29kaW5nOiBVSW50KSB7fQogICAgcHVibGljIHJlcXVpcmVkIGNvbnZlbmllbmNlIGluaXQoZXh0ZW5kZWRHcmFwaGVtZUNsdXN0ZXJMaXRlcmFsIHZhbHVlOiBTdGF0aWNTdHJpbmcpIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdChmb3JtYXQ6IE5TU3RyaW5nLCBfIGFyZ3M6IENWYXJBcmcuLi4pIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdChmb3JtYXQ6IFN0cmluZywgYXJndW1lbnRzIGFyZ0xpc3Q6IENWYUxpc3RQb2ludGVyKSB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQoZm9ybWF0OiBTdHJpbmcsIGxvY2FsZTogQW55T2JqZWN0PywgYXJndW1lbnRzIGFyZ0xpc3Q6IENWYUxpc3RQb2ludGVyKSB7fQogICAgcHVibGljIHJlcXVpcmVkIGNvbnZlbmllbmNlIGluaXQoc3RyaW5nIGFTdHJpbmc6IFN0cmluZykge30KICAgIHB1YmxpYyByZXF1aXJlZCBpbml0KHN0cmluZ0xpdGVyYWwgdmFsdWU6IFN0YXRpY1N0cmluZykge30KICAgIHB1YmxpYyByZXF1aXJlZCBjb252ZW5pZW5jZSBpbml0KHVuaWNvZGVTY2FsYXJMaXRlcmFsIHZhbHVlOiBTdGF0aWNTdHJpbmcpIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdD8odXRmOFN0cmluZyBudWxsVGVybWluYXRlZENTdHJpbmc6IFVuc2FmZVBvaW50ZXI8SW50OD4pIHt9CiAgICBwdWJsaWMgdmFyIGJvb2xWYWx1ZTogQm9vbCB7IGdldCB9CiAgICBwdWJsaWMgdmFyIGNhcGl0YWxpemVkOiBTdHJpbmcgeyBnZXQgfQogICAgb3BlbiB2YXIgZGVjb21wb3NlZFN0cmluZ1dpdGhDYW5vbmljYWxNYXBwaW5nOiBTdHJpbmcgeyBnZXQgfQogICAgb3BlbiB2YXIgZGVjb21wb3NlZFN0cmluZ1dpdGhDb21wYXRpYmlsaXR5TWFwcGluZzogU3RyaW5nIHsgZ2V0IH0KICAgIHB1YmxpYyB2YXIgZGVsZXRpbmdMYXN0UGF0aENvbXBvbmVudDogU3RyaW5nIHsgZ2V0IH0KICAgIHB1YmxpYyB2YXIgZGVsZXRpbmdQYXRoRXh0ZW5zaW9uOiBTdHJpbmcgeyBnZXQgfQogICAgb3BlbiB2YXIgZGVzY3JpcHRpb246IFN0cmluZyB7IGdldCB9CiAgICBwdWJsaWMgdmFyIGRvdWJsZVZhbHVlOiBEb3VibGUgeyBnZXQgfQogICAgcHVibGljIHZhciBleHBhbmRpbmdUaWxkZUluUGF0aDogU3RyaW5nIHsgZ2V0IH0KICAgIHB1YmxpYyB2YXIgZmFzdGVzdEVuY29kaW5nOiBVSW50IHsgZ2V0IH0KICAgIHB1YmxpYyB2YXIgZmlsZVN5c3RlbVJlcHJlc2VudGF0aW9uOiBVbnNhZmVQb2ludGVyPEludDg+IHsgZ2V0IH0KICAgIHB1YmxpYyB2YXIgZmxvYXRWYWx1ZTogRmxvYXQgeyBnZXQgfQogICAgb3BlbiB2YXIgaGFzaDogSW50IHsgZ2V0IH0KICAgIHB1YmxpYyB2YXIgaW50VmFsdWU6IEludDMyIHsgZ2V0IH0KICAgIHB1YmxpYyB2YXIgaW50ZWdlclZhbHVlOiBJbnQgeyBnZXQgfQogICAgcHVibGljIHZhciBpc0Fic29sdXRlUGF0aDogQm9vbCB7IGdldCB9CiAgICBwdWJsaWMgdmFyIGxhc3RQYXRoQ29tcG9uZW50OiBTdHJpbmcgeyBnZXQgfQogICAgb3BlbiB2YXIgbGVuZ3RoOiBJbnQgeyBnZXQgfQogICAgcHVibGljIHZhciBsb2NhbGl6ZWRDYXBpdGFsaXplZDogU3RyaW5nIHsgZ2V0IH0KICAgIHB1YmxpYyB2YXIgbG9jYWxpemVkTG93ZXJjYXNlOiBTdHJpbmcgeyBnZXQgfQogICAgcHVibGljIHZhciBsb2NhbGl6ZWRVcHBlcmNhc2U6IFN0cmluZyB7IGdldCB9CiAgICBwdWJsaWMgdmFyIGxvbmdMb25nVmFsdWU6IEludDY0IHsgZ2V0IH0KICAgIHB1YmxpYyB2YXIgbG93ZXJjYXNlZDogU3RyaW5nIHsgZ2V0IH0KICAgIHB1YmxpYyB2YXIgcGF0aENvbXBvbmVudHM6IFtTdHJpbmddIHsgZ2V0IH0KICAgIHB1YmxpYyB2YXIgcGF0aEV4dGVuc2lvbjogU3RyaW5nIHsgZ2V0IH0KICAgIG9wZW4gdmFyIHByZWNvbXBvc2VkU3RyaW5nV2l0aENhbm9uaWNhbE1hcHBpbmc6IFN0cmluZyB7IGdldCB9CiAgICBvcGVuIHZhciBwcmVjb21wb3NlZFN0cmluZ1dpdGhDb21wYXRpYmlsaXR5TWFwcGluZzogU3RyaW5nIHsgZ2V0IH0KICAgIG9wZW4gdmFyIHJlbW92aW5nUGVyY2VudEVuY29kaW5nOiBTdHJpbmc/IHsgZ2V0IH0KICAgIHB1YmxpYyB2YXIgcmVzb2x2aW5nU3ltbGlua3NJblBhdGg6IFN0cmluZyB7IGdldCB9CiAgICBwdWJsaWMgdmFyIHNtYWxsZXN0RW5jb2Rpbmc6IFVJbnQgeyBnZXQgfQogICAgcHVibGljIHZhciBzdGFuZGFyZGl6aW5nUGF0aDogU3RyaW5nIHsgZ2V0IH0KICAgIHB1YmxpYyB2YXIgdXBwZXJjYXNlZDogU3RyaW5nIHsgZ2V0IH0KICAgIHB1YmxpYyB2YXIgdXRmOFN0cmluZzogVW5zYWZlUG9pbnRlcjxJbnQ4Pj8geyBnZXQgfQogICAgb3BlbiBmdW5jIGFkZGluZ1BlcmNlbnRFbmNvZGluZyh3aXRoQWxsb3dlZENoYXJhY3RlcnMgYWxsb3dlZENoYXJhY3RlcnM6IENoYXJhY3RlclNldCkgLT4gU3RyaW5nPyB7fQogICAgcHVibGljIGZ1bmMgYXBwZW5kaW5nKF8gYVN0cmluZzogU3RyaW5nKSAtPiBTdHJpbmcge30KICAgIHB1YmxpYyBmdW5jIGFwcGVuZGluZ1BhdGhDb21wb25lbnQoXyBzdHI6IFN0cmluZykgLT4gU3RyaW5nIHt9CiAgICBwdWJsaWMgZnVuYyBhcHBlbmRpbmdQYXRoRXh0ZW5zaW9uKF8gc3RyOiBTdHJpbmcpIC0+IFN0cmluZz8ge30KICAgIG9wZW4gZnVuYyBhcHBseWluZ1RyYW5zZm9ybShfIHRyYW5zZm9ybTogU3RyaW5nLCByZXZlcnNlOiBCb29sKSAtPiBTdHJpbmc/IHt9CiAgICBwdWJsaWMgZnVuYyBjU3RyaW5nKHVzaW5nIGVuY29kaW5nOiBVSW50KSAtPiBVbnNhZmVQb2ludGVyPEludDg+PyB7fQogICAgcHVibGljIGZ1bmMgY2FuQmVDb252ZXJ0ZWQodG8gZW5jb2Rpbmc6IFVJbnQpIC0+IEJvb2wge30KICAgIHB1YmxpYyBmdW5jIGNhcGl0YWxpemVkKHdpdGggbG9jYWxlOiBMb2NhbGU/KSAtPiBTdHJpbmcge30KICAgIHB1YmxpYyBmdW5jIGNhc2VJbnNlbnNpdGl2ZUNvbXBhcmUoXyBzdHJpbmc6IFN0cmluZykgLT4gQ29tcGFyaXNvblJlc3VsdCB7fQogICAgb3BlbiBmdW5jIGNoYXJhY3RlcihhdCBpbmRleDogSW50KSAtPiB1bmljaGFyIHt9CiAgICBwdWJsaWMgZnVuYyBjb21tb25QcmVmaXgod2l0aCBzdHI6IFN0cmluZywgb3B0aW9ucyBtYXNrOiBDb21wYXJlT3B0aW9ucyA9IHgpIC0+IFN0cmluZyB7fQogICAgcHVibGljIGZ1bmMgY29tcGFyZShfIHN0cmluZzogU3RyaW5nKSAtPiBDb21wYXJpc29uUmVzdWx0IHt9CiAgICBwdWJsaWMgZnVuYyBjb21wYXJlKF8gc3RyaW5nOiBTdHJpbmcsIG9wdGlvbnMgbWFzazogQ29tcGFyZU9wdGlvbnMpIC0+IENvbXBhcmlzb25SZXN1bHQge30KICAgIHB1YmxpYyBmdW5jIGNvbXBhcmUoXyBzdHJpbmc6IFN0cmluZywgb3B0aW9ucyBtYXNrOiBDb21wYXJlT3B0aW9ucywgcmFuZ2UgY29tcGFyZVJhbmdlOiBOU1JhbmdlKSAtPiBDb21wYXJpc29uUmVzdWx0IHt9CiAgICBwdWJsaWMgZnVuYyBjb21wYXJlKF8gc3RyaW5nOiBTdHJpbmcsIG9wdGlvbnMgbWFzazogQ29tcGFyZU9wdGlvbnMsIHJhbmdlIGNvbXBhcmVSYW5nZTogTlNSYW5nZSwgbG9jYWxlOiBBbnk/KSAtPiBDb21wYXJpc29uUmVzdWx0IHt9CiAgICBwdWJsaWMgZnVuYyBjb21wbGV0ZVBhdGgoaW50byBvdXRwdXROYW1lOiBpbm91dCBTdHJpbmc/LCBjYXNlU2Vuc2l0aXZlIGZsYWc6IEJvb2wsIG1hdGNoZXNJbnRvIG91dHB1dEFycmF5OiBpbm91dCBbU3RyaW5nXSwgZmlsdGVyVHlwZXM6IFtTdHJpbmddPykgLT4gSW50IHt9CiAgICBvcGVuIGZ1bmMgY29tcG9uZW50cyhzZXBhcmF0ZWRCeSBzZXBhcmF0b3I6IENoYXJhY3RlclNldCkgLT4gW1N0cmluZ10ge30KICAgIHB1YmxpYyBmdW5jIGNvbnRhaW5zKF8gc3RyOiBTdHJpbmcpIC0+IEJvb2wge30KICAgIG9wZW4gZnVuYyBjb3B5KCkgLT4gQW55IHt9CiAgICBvcGVuIGZ1bmMgY29weSh3aXRoIHpvbmU6IE5TWm9uZT8gPSB4KSAtPiBBbnkge30KICAgIHB1YmxpYyBmdW5jIGRhdGEodXNpbmcgZW5jb2Rpbmc6IFVJbnQpIC0+IERhdGE/IHt9CiAgICBwdWJsaWMgZnVuYyBkYXRhKHVzaW5nIGVuY29kaW5nOiBVSW50LCBhbGxvd0xvc3N5Q29udmVyc2lvbiBsb3NzeTogQm9vbCA9IHgpIC0+IERhdGE/IHt9CiAgICBvcGVuIGZ1bmMgZW5jb2RlKHdpdGggYUNvZGVyOiBOU0NvZGVyKSB7fQogICAgcHVibGljIGZ1bmMgZW51bWVyYXRlTGluZXMoXyBibG9jazogKFN0cmluZywgVW5zYWZlTXV0YWJsZVBvaW50ZXI8T2JqQ0Jvb2w+KSAtPiBWb2lkKSB7fQogICAgcHVibGljIGZ1bmMgZW51bWVyYXRlU3Vic3RyaW5ncyhpbiByYW5nZTogTlNSYW5nZSwgb3B0aW9ucyBvcHRzOiBFbnVtZXJhdGlvbk9wdGlvbnMgPSB4LCB1c2luZyBibG9jazogKFN0cmluZz8sIE5TUmFuZ2UsIE5TUmFuZ2UsIFVuc2FmZU11dGFibGVQb2ludGVyPE9iakNCb29sPikgLT4gVm9pZCkge30KICAgIG9wZW4gZnVuYyBmb2xkaW5nKG9wdGlvbnM6IENvbXBhcmVPcHRpb25zID0geCwgbG9jYWxlOiBMb2NhbGU/KSAtPiBTdHJpbmcge30KICAgIHB1YmxpYyBmdW5jIGdldEJ5dGVzKF8gYnVmZmVyOiBVbnNhZmVNdXRhYmxlUmF3UG9pbnRlcj8sIG1heExlbmd0aCBtYXhCdWZmZXJDb3VudDogSW50LCB1c2VkTGVuZ3RoIHVzZWRCdWZmZXJDb3VudDogVW5zYWZlTXV0YWJsZVBvaW50ZXI8SW50Pj8sIGVuY29kaW5nOiBVSW50LCBvcHRpb25zOiBFbmNvZGluZ0NvbnZlcnNpb25PcHRpb25zID0geCwgcmFuZ2U6IE5TUmFuZ2UsIHJlbWFpbmluZyBsZWZ0b3ZlcjogTlNSYW5nZVBvaW50ZXI/KSAtPiBCb29sIHt9CiAgICBwdWJsaWMgZnVuYyBnZXRDU3RyaW5nKF8gYnVmZmVyOiBVbnNhZmVNdXRhYmxlUG9pbnRlcjxJbnQ4PiwgbWF4TGVuZ3RoIG1heEJ1ZmZlckNvdW50OiBJbnQsIGVuY29kaW5nOiBVSW50KSAtPiBCb29sIHt9CiAgICBwdWJsaWMgZnVuYyBnZXRDaGFyYWN0ZXJzKF8gYnVmZmVyOiBVbnNhZmVNdXRhYmxlUG9pbnRlcjx1bmljaGFyPiwgcmFuZ2U6IE5TUmFuZ2UpIHt9CiAgICBwdWJsaWMgZnVuYyBnZXRGaWxlU3lzdGVtUmVwcmVzZW50YXRpb24oXyBjbmFtZTogVW5zYWZlTXV0YWJsZVBvaW50ZXI8SW50OD4sIG1heExlbmd0aCBtYXg6IEludCkgLT4gQm9vbCB7fQogICAgcHVibGljIGZ1bmMgZ2V0TGluZVN0YXJ0KF8gc3RhcnRQdHI6IFVuc2FmZU11dGFibGVQb2ludGVyPEludD4/LCBlbmQgbGluZUVuZFB0cjogVW5zYWZlTXV0YWJsZVBvaW50ZXI8SW50Pj8sIGNvbnRlbnRzRW5kIGNvbnRlbnRzRW5kUHRyOiBVbnNhZmVNdXRhYmxlUG9pbnRlcjxJbnQ+PywgZm9yIHJhbmdlOiBOU1JhbmdlKSB7fQogICAgcHVibGljIGZ1bmMgZ2V0UGFyYWdyYXBoU3RhcnQoXyBzdGFydFB0cjogVW5zYWZlTXV0YWJsZVBvaW50ZXI8SW50Pj8sIGVuZCBwYXJFbmRQdHI6IFVuc2FmZU11dGFibGVQb2ludGVyPEludD4/LCBjb250ZW50c0VuZCBjb250ZW50c0VuZFB0cjogVW5zYWZlTXV0YWJsZVBvaW50ZXI8SW50Pj8sIGZvciByYW5nZTogTlNSYW5nZSkge30KICAgIHB1YmxpYyBmdW5jIGhhc1ByZWZpeChfIHN0cjogU3RyaW5nKSAtPiBCb29sIHt9CiAgICBwdWJsaWMgZnVuYyBoYXNTdWZmaXgoXyBzdHI6IFN0cmluZykgLT4gQm9vbCB7fQogICAgb3BlbiBmdW5jIGlzRXF1YWwoXyBvYmplY3Q6IEFueT8pIC0+IEJvb2wge30KICAgIHB1YmxpYyBmdW5jIGlzRXF1YWwodG8gYVN0cmluZzogU3RyaW5nKSAtPiBCb29sIHt9CiAgICBwdWJsaWMgZnVuYyBsZW5ndGhPZkJ5dGVzKHVzaW5nIGVuYzogVUludCkgLT4gSW50IHt9CiAgICBwdWJsaWMgZnVuYyBsaW5lUmFuZ2UoZm9yIHJhbmdlOiBOU1JhbmdlKSAtPiBOU1JhbmdlIHt9CiAgICBwdWJsaWMgZnVuYyBsb2NhbGl6ZWRDYXNlSW5zZW5zaXRpdmVDb21wYXJlKF8gc3RyaW5nOiBTdHJpbmcpIC0+IENvbXBhcmlzb25SZXN1bHQge30KICAgIHB1YmxpYyBmdW5jIGxvY2FsaXplZENhc2VJbnNlbnNpdGl2ZUNvbnRhaW5zKF8gc3RyOiBTdHJpbmcpIC0+IEJvb2wge30KICAgIHB1YmxpYyBmdW5jIGxvY2FsaXplZENvbXBhcmUoXyBzdHJpbmc6IFN0cmluZykgLT4gQ29tcGFyaXNvblJlc3VsdCB7fQogICAgcHVibGljIGZ1bmMgbG9jYWxpemVkU3RhbmRhcmRDb21wYXJlKF8gc3RyaW5nOiBTdHJpbmcpIC0+IENvbXBhcmlzb25SZXN1bHQge30KICAgIHB1YmxpYyBmdW5jIGxvY2FsaXplZFN0YW5kYXJkQ29udGFpbnMoXyBzdHI6IFN0cmluZykgLT4gQm9vbCB7fQogICAgcHVibGljIGZ1bmMgbG9jYWxpemVkU3RhbmRhcmRSYW5nZShvZiBzdHI6IFN0cmluZykgLT4gTlNSYW5nZSB7fQogICAgcHVibGljIGZ1bmMgbG93ZXJjYXNlZCh3aXRoIGxvY2FsZTogTG9jYWxlPykgLT4gU3RyaW5nIHt9CiAgICBwdWJsaWMgZnVuYyBtYXhpbXVtTGVuZ3RoT2ZCeXRlcyh1c2luZyBlbmM6IFVJbnQpIC0+IEludCB7fQogICAgb3BlbiBmdW5jIG11dGFibGVDb3B5KCkgLT4gQW55IHt9CiAgICBvcGVuIGZ1bmMgbXV0YWJsZUNvcHkod2l0aCB6b25lOiBOU1pvbmU/ID0geCkgLT4gQW55IHt9CiAgICBvcGVuIGZ1bmMgcGFkZGluZyh0b0xlbmd0aCBuZXdMZW5ndGg6IEludCwgd2l0aFBhZCBwYWRTdHJpbmc6IFN0cmluZywgc3RhcnRpbmdBdCBwYWRJbmRleDogSW50KSAtPiBTdHJpbmcge30KICAgIHB1YmxpYyBmdW5jIHBhcmFncmFwaFJhbmdlKGZvciByYW5nZTogTlNSYW5nZSkgLT4gTlNSYW5nZSB7fQogICAgcHVibGljIGZ1bmMgcmFuZ2Uob2Ygc2VhcmNoU3RyaW5nOiBTdHJpbmcpIC0+IE5TUmFuZ2Uge30KICAgIHB1YmxpYyBmdW5jIHJhbmdlKG9mIHNlYXJjaFN0cmluZzogU3RyaW5nLCBvcHRpb25zIG1hc2s6IENvbXBhcmVPcHRpb25zID0geCkgLT4gTlNSYW5nZSB7fQogICAgcHVibGljIGZ1bmMgcmFuZ2Uob2Ygc2VhcmNoU3RyaW5nOiBTdHJpbmcsIG9wdGlvbnMgbWFzazogQ29tcGFyZU9wdGlvbnMgPSB4LCByYW5nZSBzZWFyY2hSYW5nZTogTlNSYW5nZSkgLT4gTlNSYW5nZSB7fQogICAgcHVibGljIGZ1bmMgcmFuZ2Uob2Ygc2VhcmNoU3RyaW5nOiBTdHJpbmcsIG9wdGlvbnMgbWFzazogQ29tcGFyZU9wdGlvbnMgPSB4LCByYW5nZSBzZWFyY2hSYW5nZTogTlNSYW5nZSwgbG9jYWxlOiBMb2NhbGU/KSAtPiBOU1JhbmdlIHt9CiAgICBwdWJsaWMgZnVuYyByYW5nZU9mQ2hhcmFjdGVyKGZyb20gc2VhcmNoU2V0OiBDaGFyYWN0ZXJTZXQpIC0+IE5TUmFuZ2Uge30KICAgIHB1YmxpYyBmdW5jIHJhbmdlT2ZDaGFyYWN0ZXIoZnJvbSBzZWFyY2hTZXQ6IENoYXJhY3RlclNldCwgb3B0aW9ucyBtYXNrOiBDb21wYXJlT3B0aW9ucyA9IHgpIC0+IE5TUmFuZ2Uge30KICAgIHB1YmxpYyBmdW5jIHJhbmdlT2ZDaGFyYWN0ZXIoZnJvbSBzZWFyY2hTZXQ6IENoYXJhY3RlclNldCwgb3B0aW9ucyBtYXNrOiBDb21wYXJlT3B0aW9ucyA9IHgsIHJhbmdlIHNlYXJjaFJhbmdlOiBOU1JhbmdlKSAtPiBOU1JhbmdlIHt9CiAgICBwdWJsaWMgZnVuYyByYW5nZU9mQ29tcG9zZWRDaGFyYWN0ZXJTZXF1ZW5jZShhdCBpbmRleDogSW50KSAtPiBOU1JhbmdlIHt9CiAgICBwdWJsaWMgZnVuYyByYW5nZU9mQ29tcG9zZWRDaGFyYWN0ZXJTZXF1ZW5jZXMoZm9yIHJhbmdlOiBOU1JhbmdlKSAtPiBOU1JhbmdlIHt9CiAgICBvcGVuIGZ1bmMgcmVwbGFjaW5nQ2hhcmFjdGVycyhpbiByYW5nZTogTlNSYW5nZSwgd2l0aCByZXBsYWNlbWVudDogU3RyaW5nKSAtPiBTdHJpbmcge30KICAgIG9wZW4gZnVuYyByZXBsYWNpbmdPY2N1cnJlbmNlcyhvZiB0YXJnZXQ6IFN0cmluZywgd2l0aCByZXBsYWNlbWVudDogU3RyaW5nKSAtPiBTdHJpbmcge30KICAgIG9wZW4gZnVuYyByZXBsYWNpbmdPY2N1cnJlbmNlcyhvZiB0YXJnZXQ6IFN0cmluZywgd2l0aCByZXBsYWNlbWVudDogU3RyaW5nLCBvcHRpb25zOiBDb21wYXJlT3B0aW9ucyA9IHgsIHJhbmdlIHNlYXJjaFJhbmdlOiBOU1JhbmdlKSAtPiBTdHJpbmcge30KICAgIHB1YmxpYyBmdW5jIHN0cmluZ3NCeUFwcGVuZGluZ1BhdGhzKF8gcGF0aHM6IFtTdHJpbmddKSAtPiBbU3RyaW5nXSB7fQogICAgcHVibGljIGZ1bmMgc3Vic3RyaW5nKGZyb206IEludCkgLT4gU3RyaW5nIHt9CiAgICBwdWJsaWMgZnVuYyBzdWJzdHJpbmcodG86IEludCkgLT4gU3RyaW5nIHt9CiAgICBwdWJsaWMgZnVuYyBzdWJzdHJpbmcod2l0aCByYW5nZTogTlNSYW5nZSkgLT4gU3RyaW5nIHt9CiAgICBvcGVuIGZ1bmMgdHJpbW1pbmdDaGFyYWN0ZXJzKGluIHNldDogQ2hhcmFjdGVyU2V0KSAtPiBTdHJpbmcge30KICAgIHB1YmxpYyBmdW5jIHVwcGVyY2FzZWQod2l0aCBsb2NhbGU6IExvY2FsZT8pIC0+IFN0cmluZyB7fQogICAgb3BlbiBmdW5jIHdyaXRlKHRvIHVybDogVVJMLCBhdG9taWNhbGx5IHVzZUF1eGlsaWFyeUZpbGU6IEJvb2wsIGVuY29kaW5nIGVuYzogVUludCkgdGhyb3dzIHt9CiAgICBvcGVuIGZ1bmMgd3JpdGUodG9GaWxlIHBhdGg6IFN0cmluZywgYXRvbWljYWxseSB1c2VBdXhpbGlhcnlGaWxlOiBCb29sLCBlbmNvZGluZyBlbmM6IFVJbnQpIHRocm93cyB7fQp9Cm9wZW4gY2xhc3MgTlNUZXh0Q2hlY2tpbmdSZXN1bHQgOiBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNDb2RpbmcsIE5TQ29weWluZywgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wsIF8gewogICAgb3BlbiBjbGFzcyBmdW5jIHJlZ3VsYXJFeHByZXNzaW9uQ2hlY2tpbmdSZXN1bHRXaXRoUmFuZ2VzKF8gcmFuZ2VzOiBOU1JhbmdlUG9pbnRlciwgY291bnQ6IEludCwgcmVndWxhckV4cHJlc3Npb246IE5TUmVndWxhckV4cHJlc3Npb24pIC0+IE5TVGV4dENoZWNraW5nUmVzdWx0IHt9CiAgICBvcGVuIHZhciBudW1iZXJPZlJhbmdlczogSW50IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHJhbmdlOiBOU1JhbmdlIHsgZ2V0IH0KICAgIG9wZW4gdmFyIHJlZ3VsYXJFeHByZXNzaW9uOiBOU1JlZ3VsYXJFeHByZXNzaW9uPyB7IGdldCB9CiAgICBvcGVuIHZhciByZXN1bHRUeXBlOiBDaGVja2luZ1R5cGUgeyBnZXQgfQogICAgcHVibGljIGZ1bmMgYWRqdXN0aW5nUmFuZ2VzKG9mZnNldDogSW50KSAtPiBOU1RleHRDaGVja2luZ1Jlc3VsdCB7fQogICAgb3BlbiBmdW5jIHJhbmdlKGF0IGlkeDogSW50KSAtPiBOU1JhbmdlIHt9Cn0Kb3BlbiBjbGFzcyBOU1RpbWVab25lIDogQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TQ29kaW5nLCBOU0NvcHlpbmcsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBOU1NlY3VyZUNvZGluZywgXywgX0NGQnJpZGdlYWJsZSwgX1N3aWZ0QnJpZGdlYWJsZSB7CiAgICBvcGVuIGNsYXNzIHZhciBhYmJyZXZpYXRpb25EaWN0aW9uYXJ5OiBbU3RyaW5nOiBTdHJpbmddIHsgZ2V0IHNldCB9CiAgICBvcGVuIGNsYXNzIHZhciBkZWZhdWx0OiBUaW1lWm9uZSB7IGdldCBzZXQgfQogICAgb3BlbiBjbGFzcyB2YXIga25vd25UaW1lWm9uZU5hbWVzOiBbU3RyaW5nXSB7IGdldCB9CiAgICBvcGVuIGNsYXNzIHZhciBsb2NhbDogVGltZVpvbmUgeyBnZXQgfQogICAgb3BlbiBjbGFzcyB2YXIgc3lzdGVtOiBUaW1lWm9uZSB7IGdldCB9CiAgICBvcGVuIGNsYXNzIHZhciB0aW1lWm9uZURhdGFWZXJzaW9uOiBTdHJpbmcgeyBnZXQgfQogICAgb3BlbiBjbGFzcyBmdW5jIHJlc2V0U3lzdGVtVGltZVpvbmUoKSB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQ/KGFiYnJldmlhdGlvbjogU3RyaW5nKSB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQoZm9yU2Vjb25kc0Zyb21HTVQgc2Vjb25kczogSW50KSB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQ/KG5hbWUgdHpOYW1lOiBTdHJpbmcpIHt9CiAgICBwdWJsaWMgaW5pdD8obmFtZSB0ek5hbWU6IFN0cmluZywgZGF0YSBhRGF0YTogRGF0YT8pIHt9CiAgICBvcGVuIHZhciBhYmJyZXZpYXRpb246IFN0cmluZz8geyBnZXQgfQogICAgb3BlbiB2YXIgZGF0YTogRGF0YSB7IGdldCB9CiAgICBvcGVuIHZhciBkYXlsaWdodFNhdmluZ1RpbWVPZmZzZXQ6IFRpbWVJbnRlcnZhbCB7IGdldCB9CiAgICBvcGVuIHZhciBpc0RheWxpZ2h0U2F2aW5nVGltZTogQm9vbCB7IGdldCB9CiAgICBvcGVuIHZhciBuYW1lOiBTdHJpbmcgeyBnZXQgfQogICAgb3BlbiB2YXIgbmV4dERheWxpZ2h0U2F2aW5nVGltZVRyYW5zaXRpb246IERhdGU/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHNlY29uZHNGcm9tR01UOiBJbnQgeyBnZXQgfQogICAgb3BlbiBmdW5jIGFiYnJldmlhdGlvbihmb3IgYURhdGU6IERhdGUpIC0+IFN0cmluZz8ge30KICAgIG9wZW4gZnVuYyBkYXlsaWdodFNhdmluZ1RpbWVPZmZzZXQoZm9yIGFEYXRlOiBEYXRlKSAtPiBUaW1lSW50ZXJ2YWwge30KICAgIG9wZW4gZnVuYyBpc0RheWxpZ2h0U2F2aW5nVGltZShmb3IgYURhdGU6IERhdGUpIC0+IEJvb2wge30KICAgIG9wZW4gZnVuYyBpc0VxdWFsKHRvIGFUaW1lWm9uZTogVGltZVpvbmUpIC0+IEJvb2wge30KICAgIG9wZW4gZnVuYyBsb2NhbGl6ZWROYW1lKF8gc3R5bGU6IE5hbWVTdHlsZSwgbG9jYWxlOiBMb2NhbGU/KSAtPiBTdHJpbmc/IHt9CiAgICBvcGVuIGZ1bmMgbmV4dERheWxpZ2h0U2F2aW5nVGltZVRyYW5zaXRpb24oYWZ0ZXIgYURhdGU6IERhdGUpIC0+IERhdGU/IHt9CiAgICBvcGVuIGZ1bmMgc2Vjb25kc0Zyb21HTVQoZm9yIGFEYXRlOiBEYXRlKSAtPiBJbnQge30KfQpvcGVuIGNsYXNzIE5TVVJMIDogQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TQ29kaW5nLCBOU0NvcHlpbmcsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBOU1NlY3VyZUNvZGluZywgXywgX0NGQnJpZGdlYWJsZSwgX1N0cnVjdFR5cGVCcmlkZ2VhYmxlLCBfU3dpZnRCcmlkZ2VhYmxlIHsKICAgIG9wZW4gY2xhc3MgZnVuYyBmaWxlVVJMKHdpdGhQYXRoQ29tcG9uZW50cyBjb21wb25lbnRzOiBbU3RyaW5nXSkgLT4gVVJMPyB7fQogICAgcHVibGljIGluaXQoYWJzb2x1dGVVUkxXaXRoRGF0YVJlcHJlc2VudGF0aW9uIGRhdGE6IERhdGEsIHJlbGF0aXZlVG8gYmFzZVVSTDogVVJMPykge30KICAgIHB1YmxpYyBpbml0KGRhdGFSZXByZXNlbnRhdGlvbiBkYXRhOiBEYXRhLCByZWxhdGl2ZVRvIGJhc2VVUkw6IFVSTD8pIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdChmaWxlVVJMV2l0aEZpbGVTeXN0ZW1SZXByZXNlbnRhdGlvbiBwYXRoOiBVbnNhZmVQb2ludGVyPEludDg+LCBpc0RpcmVjdG9yeSBpc0RpcjogQm9vbCwgcmVsYXRpdmVUbyBiYXNlVVJMOiBVUkw/KSB7fQogICAgcHVibGljIGluaXQoZmlsZVVSTFdpdGhQYXRoIHBhdGg6IFN0cmluZykge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KGZpbGVVUkxXaXRoUGF0aCBwYXRoOiBTdHJpbmcsIGlzRGlyZWN0b3J5IGlzRGlyOiBCb29sKSB7fQogICAgcHVibGljIGluaXQoZmlsZVVSTFdpdGhQYXRoIHBhdGg6IFN0cmluZywgaXNEaXJlY3RvcnkgaXNEaXI6IEJvb2wsIHJlbGF0aXZlVG8gYmFzZVVSTDogVVJMPykge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KGZpbGVVUkxXaXRoUGF0aCBwYXRoOiBTdHJpbmcsIHJlbGF0aXZlVG8gYmFzZVVSTDogVVJMPykge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0PyhzdHJpbmcgVVJMU3RyaW5nOiBTdHJpbmcpIHt9CiAgICBwdWJsaWMgaW5pdD8oc3RyaW5nIFVSTFN0cmluZzogU3RyaW5nLCByZWxhdGl2ZVRvIGJhc2VVUkw6IFVSTD8pIHt9CiAgICBvcGVuIHZhciBhYnNvbHV0ZVN0cmluZzogU3RyaW5nIHsgZ2V0IH0KICAgIG9wZW4gdmFyIGFic29sdXRlVVJMOiBVUkw/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGJhc2VVUkw6IFVSTD8geyBnZXQgfQogICAgb3BlbiB2YXIgZGF0YVJlcHJlc2VudGF0aW9uOiBEYXRhIHsgZ2V0IH0KICAgIG9wZW4gdmFyIGRlbGV0aW5nTGFzdFBhdGhDb21wb25lbnQ6IFVSTD8geyBnZXQgfQogICAgb3BlbiB2YXIgZGVsZXRpbmdQYXRoRXh0ZW5zaW9uOiBVUkw/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGZpbGVQYXRoVVJMOiBVUkw/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGZpbGVTeXN0ZW1SZXByZXNlbnRhdGlvbjogVW5zYWZlUG9pbnRlcjxJbnQ4PiB7IGdldCB9CiAgICBvcGVuIHZhciBmcmFnbWVudDogU3RyaW5nPyB7IGdldCB9CiAgICBvcGVuIHZhciBoYXNEaXJlY3RvcnlQYXRoOiBCb29sIHsgZ2V0IH0KICAgIG9wZW4gdmFyIGhvc3Q6IFN0cmluZz8geyBnZXQgfQogICAgb3BlbiB2YXIgaXNGaWxlVVJMOiBCb29sIHsgZ2V0IH0KICAgIG9wZW4gdmFyIGxhc3RQYXRoQ29tcG9uZW50OiBTdHJpbmc/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHBhcmFtZXRlclN0cmluZzogU3RyaW5nPyB7IGdldCB9CiAgICBvcGVuIHZhciBwYXNzd29yZDogU3RyaW5nPyB7IGdldCB9CiAgICBvcGVuIHZhciBwYXRoOiBTdHJpbmc/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHBhdGhDb21wb25lbnRzOiBbU3RyaW5nXT8geyBnZXQgfQogICAgb3BlbiB2YXIgcGF0aEV4dGVuc2lvbjogU3RyaW5nPyB7IGdldCB9CiAgICBvcGVuIHZhciBwb3J0OiBOU051bWJlcj8geyBnZXQgfQogICAgb3BlbiB2YXIgcXVlcnk6IFN0cmluZz8geyBnZXQgfQogICAgb3BlbiB2YXIgcmVsYXRpdmVQYXRoOiBTdHJpbmc/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHJlbGF0aXZlU3RyaW5nOiBTdHJpbmcgeyBnZXQgfQogICAgb3BlbiB2YXIgcmVzb2x2aW5nU3ltbGlua3NJblBhdGg6IFVSTD8geyBnZXQgfQogICAgb3BlbiB2YXIgcmVzb3VyY2VTcGVjaWZpZXI6IFN0cmluZz8geyBnZXQgfQogICAgb3BlbiB2YXIgc2NoZW1lOiBTdHJpbmc/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHN0YW5kYXJkaXplZDogVVJMPyB7IGdldCB9CiAgICBvcGVuIHZhciBzdGFuZGFyZGl6aW5nUGF0aDogVVJMPyB7IGdldCB9CiAgICBvcGVuIHZhciB1c2VyOiBTdHJpbmc/IHsgZ2V0IH0KICAgIG9wZW4gZnVuYyBhcHBlbmRpbmdQYXRoQ29tcG9uZW50KF8gcGF0aENvbXBvbmVudDogU3RyaW5nKSAtPiBVUkw/IHt9CiAgICBvcGVuIGZ1bmMgYXBwZW5kaW5nUGF0aENvbXBvbmVudChfIHBhdGhDb21wb25lbnQ6IFN0cmluZywgaXNEaXJlY3Rvcnk6IEJvb2wpIC0+IFVSTD8ge30KICAgIG9wZW4gZnVuYyBhcHBlbmRpbmdQYXRoRXh0ZW5zaW9uKF8gcGF0aEV4dGVuc2lvbjogU3RyaW5nKSAtPiBVUkw/IHt9CiAgICBvcGVuIGZ1bmMgY2hlY2tSZXNvdXJjZUlzUmVhY2hhYmxlKCkgdGhyb3dzIC0+IEJvb2wge30KICAgIG9wZW4gZnVuYyBnZXRGaWxlU3lzdGVtUmVwcmVzZW50YXRpb24oXyBidWZmZXI6IFVuc2FmZU11dGFibGVQb2ludGVyPEludDg+LCBtYXhMZW5ndGggbWF4QnVmZmVyTGVuZ3RoOiBJbnQpIC0+IEJvb2wge30KICAgIG9wZW4gZnVuYyByZW1vdmVBbGxDYWNoZWRSZXNvdXJjZVZhbHVlcygpIHt9CiAgICBvcGVuIGZ1bmMgcmVtb3ZlQ2FjaGVkUmVzb3VyY2VWYWx1ZShmb3JLZXkga2V5OiBVUkxSZXNvdXJjZUtleSkge30KICAgIG9wZW4gZnVuYyByZXNvdXJjZVZhbHVlcyhmb3JLZXlzIGtleXM6IFtVUkxSZXNvdXJjZUtleV0pIHRocm93cyAtPiBbVVJMUmVzb3VyY2VLZXk6IEFueV0ge30KICAgIG9wZW4gZnVuYyBzZXRSZXNvdXJjZVZhbHVlKF8gdmFsdWU6IEFueT8sIGZvcktleSBrZXk6IFVSTFJlc291cmNlS2V5KSB0aHJvd3Mge30KICAgIG9wZW4gZnVuYyBzZXRSZXNvdXJjZVZhbHVlcyhfIGtleWVkVmFsdWVzOiBbVVJMUmVzb3VyY2VLZXk6IEFueV0pIHRocm93cyB7fQogICAgb3BlbiBmdW5jIHNldFRlbXBvcmFyeVJlc291cmNlVmFsdWUoXyB2YWx1ZTogQW55PywgZm9yS2V5IGtleTogVVJMUmVzb3VyY2VLZXkpIHt9Cn0Kb3BlbiBjbGFzcyBOU1VSTENvbXBvbmVudHMgOiBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNDb3B5aW5nLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCwgXywgX1N0cnVjdFR5cGVCcmlkZ2VhYmxlLCBfU3dpZnRCcmlkZ2VhYmxlIHsKICAgIHB1YmxpYyBpbml0PyhzdHJpbmcgVVJMU3RyaW5nOiBTdHJpbmcpIHt9CiAgICBwdWJsaWMgaW5pdD8odXJsOiBVUkwsIHJlc29sdmluZ0FnYWluc3RCYXNlVVJMIHJlc29sdmU6IEJvb2wpIHt9CiAgICBvcGVuIHZhciBmcmFnbWVudDogU3RyaW5nPyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgaG9zdDogU3RyaW5nPyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgcGFzc3dvcmQ6IFN0cmluZz8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHBhdGg6IFN0cmluZz8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHBlcmNlbnRFbmNvZGVkRnJhZ21lbnQ6IFN0cmluZz8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHBlcmNlbnRFbmNvZGVkSG9zdDogU3RyaW5nPyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgcGVyY2VudEVuY29kZWRQYXNzd29yZDogU3RyaW5nPyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgcGVyY2VudEVuY29kZWRQYXRoOiBTdHJpbmc/IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBwZXJjZW50RW5jb2RlZFF1ZXJ5OiBTdHJpbmc/IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBwZXJjZW50RW5jb2RlZFVzZXI6IFN0cmluZz8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHBvcnQ6IE5TTnVtYmVyPyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgcXVlcnk6IFN0cmluZz8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHF1ZXJ5SXRlbXM6IFtVUkxRdWVyeUl0ZW1dPyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgcmFuZ2VPZkZyYWdtZW50OiBOU1JhbmdlIHsgZ2V0IH0KICAgIG9wZW4gdmFyIHJhbmdlT2ZIb3N0OiBOU1JhbmdlIHsgZ2V0IH0KICAgIG9wZW4gdmFyIHJhbmdlT2ZQYXNzd29yZDogTlNSYW5nZSB7IGdldCB9CiAgICBvcGVuIHZhciByYW5nZU9mUGF0aDogTlNSYW5nZSB7IGdldCB9CiAgICBvcGVuIHZhciByYW5nZU9mUG9ydDogTlNSYW5nZSB7IGdldCB9CiAgICBvcGVuIHZhciByYW5nZU9mUXVlcnk6IE5TUmFuZ2UgeyBnZXQgfQogICAgb3BlbiB2YXIgcmFuZ2VPZlNjaGVtZTogTlNSYW5nZSB7IGdldCB9CiAgICBvcGVuIHZhciByYW5nZU9mVXNlcjogTlNSYW5nZSB7IGdldCB9CiAgICBvcGVuIHZhciBzY2hlbWU6IFN0cmluZz8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHN0cmluZzogU3RyaW5nPyB7IGdldCB9CiAgICBvcGVuIHZhciB1cmw6IFVSTD8geyBnZXQgfQogICAgb3BlbiB2YXIgdXNlcjogU3RyaW5nPyB7IGdldCBzZXQgfQogICAgb3BlbiBmdW5jIHVybChyZWxhdGl2ZVRvIGJhc2VVUkw6IFVSTD8pIC0+IFVSTD8ge30KfQpvcGVuIGNsYXNzIE5TVVJMUXVlcnlJdGVtIDogQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TQ29kaW5nLCBOU0NvcHlpbmcsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBOU1NlY3VyZUNvZGluZywgXywgX1N0cnVjdFR5cGVCcmlkZ2VhYmxlLCBfU3dpZnRCcmlkZ2VhYmxlIHsKICAgIHB1YmxpYyBpbml0KG5hbWU6IFN0cmluZywgdmFsdWU6IFN0cmluZz8pIHt9CiAgICBvcGVuIHZhciBuYW1lOiBTdHJpbmcgeyBnZXQgfQogICAgb3BlbiB2YXIgdmFsdWU6IFN0cmluZz8geyBnZXQgfQp9Cm9wZW4gY2xhc3MgTlNVUkxSZXF1ZXN0IDogTlNDb3B5aW5nLCBOU011dGFibGVDb3B5aW5nLCBOU09iamVjdCwgTlNTZWN1cmVDb2RpbmcsIF9TdHJ1Y3RUeXBlQnJpZGdlYWJsZSB7CiAgICBvcGVuIGNsYXNzIHZhciBzdXBwb3J0c1NlY3VyZUNvZGluZzogQm9vbCB7IGdldCB9CiAgICBwdWJsaWMgcmVxdWlyZWQgaW5pdD8oY29kZXIgYURlY29kZXI6IE5TQ29kZXIpIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdCh1cmw6IFVSTCkge30KICAgIHB1YmxpYyBpbml0KHVybDogVVJMLCBjYWNoZVBvbGljeTogTlNVUkxSZXF1ZXN0LkNhY2hlUG9saWN5LCB0aW1lb3V0SW50ZXJ2YWw6IFRpbWVJbnRlcnZhbCkge30KICAgIG9wZW4gdmFyIGFsbEhUVFBIZWFkZXJGaWVsZHM6IFtTdHJpbmc6IFN0cmluZ10/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGFsbG93c0NlbGx1bGFyQWNjZXNzOiBCb29sIHsgZ2V0IH0KICAgIG9wZW4gdmFyIGNhY2hlUG9saWN5OiBDYWNoZVBvbGljeSB7IGdldCB9CiAgICBvcGVuIHZhciBkZXNjcmlwdGlvbjogU3RyaW5nIHsgZ2V0IH0KICAgIG9wZW4gdmFyIGhhc2g6IEludCB7IGdldCB9CiAgICBvcGVuIHZhciBodHRwQm9keTogRGF0YT8geyBnZXQgfQogICAgb3BlbiB2YXIgaHR0cEJvZHlTdHJlYW06IElucHV0U3RyZWFtPyB7IGdldCB9CiAgICBvcGVuIHZhciBodHRwTWV0aG9kOiBTdHJpbmc/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGh0dHBTaG91bGRIYW5kbGVDb29raWVzOiBCb29sIHsgZ2V0IH0KICAgIG9wZW4gdmFyIGh0dHBTaG91bGRVc2VQaXBlbGluaW5nOiBCb29sIHsgZ2V0IH0KICAgIG9wZW4gdmFyIG1haW5Eb2N1bWVudFVSTDogVVJMPyB7IGdldCB9CiAgICBvcGVuIHZhciBuZXR3b3JrU2VydmljZVR5cGU6IE5ldHdvcmtTZXJ2aWNlVHlwZSB7IGdldCB9CiAgICBvcGVuIHZhciB0aW1lb3V0SW50ZXJ2YWw6IFRpbWVJbnRlcnZhbCB7IGdldCB9CiAgICBvcGVuIHZhciB1cmw6IFVSTD8geyBnZXQgfQogICAgb3BlbiBmdW5jIGNvcHkoKSAtPiBBbnkge30KICAgIG9wZW4gZnVuYyBjb3B5KHdpdGggem9uZTogTlNab25lPyA9IHgpIC0+IEFueSB7fQogICAgb3BlbiBmdW5jIGVuY29kZSh3aXRoIGFDb2RlcjogTlNDb2Rlcikge30KICAgIG9wZW4gZnVuYyBpc0VxdWFsKF8gb2JqZWN0OiBBbnk/KSAtPiBCb29sIHt9CiAgICBvcGVuIGZ1bmMgbXV0YWJsZUNvcHkoKSAtPiBBbnkge30KICAgIG9wZW4gZnVuYyBtdXRhYmxlQ29weSh3aXRoIHpvbmU6IE5TWm9uZT8gPSB4KSAtPiBBbnkge30KICAgIG9wZW4gZnVuYyB2YWx1ZShmb3JIVFRQSGVhZGVyRmllbGQgZmllbGQ6IFN0cmluZykgLT4gU3RyaW5nPyB7fQp9Cm9wZW4gY2xhc3MgTlNVVUlEIDogQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TQ29kaW5nLCBOU0NvcHlpbmcsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBOU1NlY3VyZUNvZGluZywgXywgX0hhc0N1c3RvbUFueUhhc2hhYmxlUmVwcmVzZW50YXRpb24sIF9TdHJ1Y3RUeXBlQnJpZGdlYWJsZSB7CiAgICBwdWJsaWMgaW5pdCh1dWlkQnl0ZXMgYnl0ZXM6IFVuc2FmZVBvaW50ZXI8VUludDg+KSB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQ/KHV1aWRTdHJpbmcgc3RyaW5nOiBTdHJpbmcpIHt9CiAgICBvcGVuIHZhciB1dWlkU3RyaW5nOiBTdHJpbmcgeyBnZXQgfQogICAgb3BlbiBmdW5jIGdldEJ5dGVzKF8gdXVpZDogVW5zYWZlTXV0YWJsZVBvaW50ZXI8VUludDg+KSB7fQp9Cm9wZW4gY2xhc3MgTlNWYWx1ZSA6IEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU0NvZGluZywgTlNDb3B5aW5nLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCwgTlNTZWN1cmVDb2RpbmcsIF8sIF9GYWN0b3J5IHsKICAgIHB1YmxpYyByZXF1aXJlZCBjb252ZW5pZW5jZSBpbml0KGJ5dGVzIHZhbHVlOiBVbnNhZmVSYXdQb2ludGVyLCBvYmpDVHlwZSB0eXBlOiBVbnNhZmVQb2ludGVyPEludDg+KSB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQoZWRnZUluc2V0cyBpbnNldHM6IE5TRWRnZUluc2V0cykge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KHBvaW50OiBOU1BvaW50KSB7fQojaWYgREVQTE9ZTUVOVF9SVU5USU1FX1NXSUZUCiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdChyYW5nZTogTlNSYW5nZSkge30KI2VuZGlmCiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdChyZWN0OiBOU1JlY3QpIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdChzaXplOiBOU1NpemUpIHt9CiAgICBwdWJsaWMgdmFyIGVkZ2VJbnNldHNWYWx1ZTogTlNFZGdlSW5zZXRzIHsgZ2V0IH0KICAgIG9wZW4gdmFyIG9iakNUeXBlOiBVbnNhZmVQb2ludGVyPEludDg+IHsgZ2V0IH0KICAgIHB1YmxpYyB2YXIgcG9pbnRWYWx1ZTogTlNQb2ludCB7IGdldCB9CiNpZiBERVBMT1lNRU5UX1JVTlRJTUVfU1dJRlQKICAgIHB1YmxpYyB2YXIgcmFuZ2VWYWx1ZTogTlNSYW5nZSB7IGdldCB9CiNlbmRpZgogICAgcHVibGljIHZhciByZWN0VmFsdWU6IE5TUmVjdCB7IGdldCB9CiAgICBwdWJsaWMgdmFyIHNpemVWYWx1ZTogTlNTaXplIHsgZ2V0IH0KICAgIG9wZW4gZnVuYyBnZXRWYWx1ZShfIHZhbHVlOiBVbnNhZmVNdXRhYmxlUmF3UG9pbnRlcikge30KfQpvcGVuIGNsYXNzIE5vdGlmaWNhdGlvbkNlbnRlciA6IEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCwgXyB7CiAgICBvcGVuIGNsYXNzIHZhciBkZWZhdWx0OiBOb3RpZmljYXRpb25DZW50ZXIgeyBnZXQgfQogICAgb3BlbiBmdW5jIGFkZE9ic2VydmVyKGZvck5hbWUgbmFtZTogTlNOb3RpZmljYXRpb24uTmFtZT8sIG9iamVjdCBvYmo6IEFueT8sIHF1ZXVlOiBPcGVyYXRpb25RdWV1ZT8sIHVzaW5nIGJsb2NrOiBAZXNjYXBpbmcgKE5vdGlmaWNhdGlvbikgLT4gVm9pZCkgLT4gTlNPYmplY3RQcm90b2NvbCB7fQogICAgb3BlbiBmdW5jIHBvc3QoXyBub3RpZmljYXRpb246IE5vdGlmaWNhdGlvbikge30KICAgIG9wZW4gZnVuYyBwb3N0KG5hbWUgYU5hbWU6IE5TTm90aWZpY2F0aW9uLk5hbWUsIG9iamVjdCBhbk9iamVjdDogQW55PywgdXNlckluZm8gYVVzZXJJbmZvOiBbQW55SGFzaGFibGU6IEFueV0/ID0geCkge30KICAgIG9wZW4gZnVuYyByZW1vdmVPYnNlcnZlcihfIG9ic2VydmVyOiBBbnkpIHt9CiAgICBvcGVuIGZ1bmMgcmVtb3ZlT2JzZXJ2ZXIoXyBvYnNlcnZlcjogQW55LCBuYW1lIGFOYW1lOiBOU05vdGlmaWNhdGlvbi5OYW1lPywgb2JqZWN0OiBBbnk/KSB7fQp9Cm9wZW4gY2xhc3MgTm90aWZpY2F0aW9uUXVldWUgOiBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wsIF8gewogICAgb3BlbiBjbGFzcyB2YXIgZGVmYXVsdDogTm90aWZpY2F0aW9uUXVldWUgeyBnZXQgfQogICAgcHVibGljIGluaXQobm90aWZpY2F0aW9uQ2VudGVyOiBOb3RpZmljYXRpb25DZW50ZXIpIHt9CiAgICBvcGVuIGZ1bmMgZGVxdWV1ZU5vdGlmaWNhdGlvbnMobWF0Y2hpbmcgbm90aWZpY2F0aW9uOiBOb3RpZmljYXRpb24sIGNvYWxlc2NlTWFzazogTm90aWZpY2F0aW9uQ29hbGVzY2luZykge30KICAgIG9wZW4gZnVuYyBlbnF1ZXVlKF8gbm90aWZpY2F0aW9uOiBOb3RpZmljYXRpb24sIHBvc3RpbmdTdHlsZTogUG9zdGluZ1N0eWxlKSB7fQogICAgb3BlbiBmdW5jIGVucXVldWUoXyBub3RpZmljYXRpb246IE5vdGlmaWNhdGlvbiwgcG9zdGluZ1N0eWxlOiBQb3N0aW5nU3R5bGUsIGNvYWxlc2NlTWFzazogTm90aWZpY2F0aW9uQ29hbGVzY2luZywgZm9yTW9kZXMgbW9kZXM6IFtSdW5Mb29wTW9kZV0/KSB7fQp9Cm9wZW4gY2xhc3MgTnVtYmVyRm9ybWF0dGVyIDogQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgRm9ybWF0dGVyLCBIYXNoYWJsZSwgTlNDb2RpbmcsIE5TQ29weWluZywgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wsIF8gewogICAgb3BlbiBjbGFzcyBmdW5jIGxvY2FsaXplZFN0cmluZyhmcm9tIG51bTogTlNOdW1iZXIsIG51bWJlciBuc3R5bGU6IFN0eWxlKSAtPiBTdHJpbmcge30KICAgIG9wZW4gdmFyIGFsbG93c0Zsb2F0czogQm9vbCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgYWx3YXlzU2hvd3NEZWNpbWFsU2VwYXJhdG9yOiBCb29sIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBhdHRyaWJ1dGVkU3RyaW5nRm9yTmlsOiBOU0F0dHJpYnV0ZWRTdHJpbmcgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGF0dHJpYnV0ZWRTdHJpbmdGb3JOb3RBTnVtYmVyOiBOU0F0dHJpYnV0ZWRTdHJpbmcgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGF0dHJpYnV0ZWRTdHJpbmdGb3JaZXJvOiBOU0F0dHJpYnV0ZWRTdHJpbmcgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGN1cnJlbmN5Q29kZTogU3RyaW5nISB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgY3VycmVuY3lEZWNpbWFsU2VwYXJhdG9yOiBTdHJpbmchIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBjdXJyZW5jeUdyb3VwaW5nU2VwYXJhdG9yOiBTdHJpbmchIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBjdXJyZW5jeVN5bWJvbDogU3RyaW5nISB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgZGVjaW1hbFNlcGFyYXRvcjogU3RyaW5nISB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgZXhwb25lbnRTeW1ib2w6IFN0cmluZyEgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGZvcm1hdDogU3RyaW5nIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBmb3JtYXRXaWR0aDogSW50IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBmb3JtYXR0aW5nQ29udGV4dDogQ29udGV4dCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgZ2VuZXJhdGVzRGVjaW1hbE51bWJlcnM6IEJvb2wgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGdyb3VwaW5nU2VwYXJhdG9yOiBTdHJpbmchIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBncm91cGluZ1NpemU6IEludCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgaGFzVGhvdXNhbmRTZXBhcmF0b3JzOiBCb29sIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBpbnRlcm5hdGlvbmFsQ3VycmVuY3lTeW1ib2w6IFN0cmluZyEgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGlzTGVuaWVudDogQm9vbCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgaXNQYXJ0aWFsU3RyaW5nVmFsaWRhdGlvbkVuYWJsZWQ6IEJvb2wgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGxvY2FsZTogTG9jYWxlISB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgbG9jYWxpemVzRm9ybWF0OiBCb29sIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBtYXhpbXVtOiBOU051bWJlcj8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIG1heGltdW1GcmFjdGlvbkRpZ2l0czogSW50IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBtYXhpbXVtSW50ZWdlckRpZ2l0czogSW50IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBtYXhpbXVtU2lnbmlmaWNhbnREaWdpdHM6IEludCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgbWluaW11bTogTlNOdW1iZXI/IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBtaW5pbXVtRnJhY3Rpb25EaWdpdHM6IEludCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgbWluaW11bUludGVnZXJEaWdpdHM6IEludCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgbWluaW11bVNpZ25pZmljYW50RGlnaXRzOiBJbnQgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIG1pbnVzU2lnbjogU3RyaW5nISB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgbXVsdGlwbGllcjogTlNOdW1iZXI/IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBuZWdhdGl2ZUZvcm1hdDogU3RyaW5nISB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgbmVnYXRpdmVJbmZpbml0eVN5bWJvbDogU3RyaW5nIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBuZWdhdGl2ZVByZWZpeDogU3RyaW5nISB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgbmVnYXRpdmVTdWZmaXg6IFN0cmluZyEgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIG5pbFN5bWJvbDogU3RyaW5nIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBub3RBTnVtYmVyU3ltYm9sOiBTdHJpbmchIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBudW1iZXJTdHlsZTogU3R5bGUgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHBhZGRpbmdDaGFyYWN0ZXI6IFN0cmluZyEgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHBhZGRpbmdQb3NpdGlvbjogUGFkUG9zaXRpb24geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHBlck1pbGxTeW1ib2w6IFN0cmluZyEgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHBlcmNlbnRTeW1ib2w6IFN0cmluZyEgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHBsdXNTaWduOiBTdHJpbmchIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBwb3NpdGl2ZUZvcm1hdDogU3RyaW5nISB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgcG9zaXRpdmVJbmZpbml0eVN5bWJvbDogU3RyaW5nIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBwb3NpdGl2ZVByZWZpeDogU3RyaW5nISB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgcG9zaXRpdmVTdWZmaXg6IFN0cmluZyEgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHJvdW5kaW5nQmVoYXZpb3I6IE5TRGVjaW1hbE51bWJlckhhbmRsZXIgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHJvdW5kaW5nSW5jcmVtZW50OiBOU051bWJlciEgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHJvdW5kaW5nTW9kZTogUm91bmRpbmdNb2RlIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBzZWNvbmRhcnlHcm91cGluZ1NpemU6IEludCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgdGV4dEF0dHJpYnV0ZXNGb3JOZWdhdGl2ZUluZmluaXR5OiBbU3RyaW5nOiBBbnldPyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgdGV4dEF0dHJpYnV0ZXNGb3JOZWdhdGl2ZVZhbHVlczogW1N0cmluZzogQW55XT8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHRleHRBdHRyaWJ1dGVzRm9yTmlsOiBbU3RyaW5nOiBBbnldPyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgdGV4dEF0dHJpYnV0ZXNGb3JOb3RBTnVtYmVyOiBbU3RyaW5nOiBBbnldPyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgdGV4dEF0dHJpYnV0ZXNGb3JQb3NpdGl2ZUluZmluaXR5OiBbU3RyaW5nOiBBbnldPyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgdGV4dEF0dHJpYnV0ZXNGb3JQb3NpdGl2ZVZhbHVlczogW1N0cmluZzogQW55XT8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHRleHRBdHRyaWJ1dGVzRm9yWmVybzogW1N0cmluZzogQW55XT8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHRob3VzYW5kU2VwYXJhdG9yOiBTdHJpbmchIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciB1c2VzR3JvdXBpbmdTZXBhcmF0b3I6IEJvb2wgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHVzZXNTaWduaWZpY2FudERpZ2l0czogQm9vbCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgemVyb1N5bWJvbDogU3RyaW5nPyB7IGdldCBzZXQgfQogICAgb3BlbiBmdW5jIG51bWJlcihmcm9tIHN0cmluZzogU3RyaW5nKSAtPiBOU051bWJlcj8ge30KICAgIG9wZW4gZnVuYyBvYmplY3RWYWx1ZShfIHN0cmluZzogU3RyaW5nLCByYW5nZTogaW5vdXQgTlNSYW5nZSkgdGhyb3dzIC0+IEFueT8ge30KICAgIG9wZW4gZnVuYyBzdHJpbmcoZnJvbSBudW1iZXI6IE5TTnVtYmVyKSAtPiBTdHJpbmc/IHt9Cn0Kb3BlbiBjbGFzcyBPcGVyYXRpb24gOiBOU09iamVjdCB7CiAgICBwdWJsaWMgaW5pdCgpIHt9CiAgICBwdWJsaWMgdmFyIGNvbXBsZXRpb25CbG9jazogKCgpIC0+IFZvaWQpPyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgZGVwZW5kZW5jaWVzOiBbT3BlcmF0aW9uXSB7IGdldCB9CiAgICBvcGVuIHZhciBpc0FzeW5jaHJvbm91czogQm9vbCB7IGdldCB9CiAgICBvcGVuIHZhciBpc0NhbmNlbGxlZDogQm9vbCB7IGdldCB9CiAgICBvcGVuIHZhciBpc0V4ZWN1dGluZzogQm9vbCB7IGdldCB9CiAgICBvcGVuIHZhciBpc0ZpbmlzaGVkOiBCb29sIHsgZ2V0IH0KICAgIG9wZW4gdmFyIGlzUmVhZHk6IEJvb2wgeyBnZXQgfQogICAgb3BlbiB2YXIgbmFtZTogU3RyaW5nPyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgcXVhbGl0eU9mU2VydmljZTogUXVhbGl0eU9mU2VydmljZSB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgcXVldWVQcmlvcml0eTogUXVldWVQcmlvcml0eSB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgdGhyZWFkUHJpb3JpdHk6IERvdWJsZSB7IGdldCBzZXQgfQogICAgb3BlbiBmdW5jIGFkZERlcGVuZGVuY3koXyBvcDogT3BlcmF0aW9uKSB7fQogICAgb3BlbiBmdW5jIGNhbmNlbCgpIHt9CiAgICBwdWJsaWMgZnVuYyBkaWRDaGFuZ2VWYWx1ZShmb3JLZXkga2V5OiBTdHJpbmcpIHt9CiAgICBvcGVuIGZ1bmMgbWFpbigpIHt9CiAgICBvcGVuIGZ1bmMgcmVtb3ZlRGVwZW5kZW5jeShfIG9wOiBPcGVyYXRpb24pIHt9CiAgICBvcGVuIGZ1bmMgc3RhcnQoKSB7fQogICAgb3BlbiBmdW5jIHdhaXRVbnRpbEZpbmlzaGVkKCkge30KICAgIHB1YmxpYyBmdW5jIHdpbGxDaGFuZ2VWYWx1ZShmb3JLZXkga2V5OiBTdHJpbmcpIHt9Cn0Kb3BlbiBjbGFzcyBPcGVyYXRpb25RdWV1ZSA6IEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCwgXyB7CiAgICBvcGVuIGNsYXNzIHZhciBjdXJyZW50OiBPcGVyYXRpb25RdWV1ZT8geyBnZXQgfQogICAgcHVibGljIHN0YXRpYyB2YXIgZGVmYXVsdE1heENvbmN1cnJlbnRPcGVyYXRpb25Db3VudDogSW50IHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgdmFyIG1haW46IE9wZXJhdGlvblF1ZXVlIHsgZ2V0IH0KICAgIG9wZW4gdmFyIGlzU3VzcGVuZGVkOiBCb29sIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBtYXhDb25jdXJyZW50T3BlcmF0aW9uQ291bnQ6IEludCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgbmFtZTogU3RyaW5nPyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgb3BlcmF0aW9uQ291bnQ6IEludCB7IGdldCB9CiAgICBvcGVuIHZhciBvcGVyYXRpb25zOiBbT3BlcmF0aW9uXSB7IGdldCB9CiAgICBvcGVuIHZhciBxdWFsaXR5T2ZTZXJ2aWNlOiBRdWFsaXR5T2ZTZXJ2aWNlIHsgZ2V0IHNldCB9CiNpZiBERVBMT1lNRU5UX0VOQUJMRV9MSUJESVNQQVRDSAogICAgb3BlbiB2YXIgdW5kZXJseWluZ1F1ZXVlOiBEaXNwYXRjaFF1ZXVlPyB7IGdldCBzZXQgfQojZW5kaWYKICAgIG9wZW4gZnVuYyBhZGRPcGVyYXRpb24oXyBibG9jazogQGVzY2FwaW5nICgpIC0+IFN3aWZ0LlZvaWQpIHt9CiAgICBvcGVuIGZ1bmMgYWRkT3BlcmF0aW9ucyhfIG9wczogW09wZXJhdGlvbl0sIHdhaXRVbnRpbEZpbmlzaGVkIHdhaXQ6IEJvb2wpIHt9CiAgICBvcGVuIGZ1bmMgY2FuY2VsQWxsT3BlcmF0aW9ucygpIHt9CiAgICBvcGVuIGZ1bmMgd2FpdFVudGlsQWxsT3BlcmF0aW9uc0FyZUZpbmlzaGVkKCkge30KfQpvcGVuIGNsYXNzIE91dHB1dFN0cmVhbSA6IE5TT2JqZWN0LCBTdHJlYW0gewogICAgb3BlbiBjbGFzcyBmdW5jIHRvTWVtb3J5KCkgLT4gU2VsZiB7fQogICAgcHVibGljIGluaXQodG9CdWZmZXIgYnVmZmVyOiBVbnNhZmVNdXRhYmxlUG9pbnRlcjxVSW50OD4sIGNhcGFjaXR5OiBJbnQpIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdD8odG9GaWxlQXRQYXRoIHBhdGg6IFN0cmluZywgYXBwZW5kIHNob3VsZEFwcGVuZDogQm9vbCkge30KICAgIHB1YmxpYyByZXF1aXJlZCBpbml0KHRvTWVtb3J5OiBWb2lkKSB7fQogICAgcHVibGljIGluaXQ/KHVybDogVVJMLCBhcHBlbmQgc2hvdWxkQXBwZW5kOiBCb29sKSB7fQogICAgb3BlbiB2YXIgaGFzU3BhY2VBdmFpbGFibGU6IEJvb2wgeyBnZXQgfQogICAgb3BlbiBmdW5jIHdyaXRlKF8gYnVmZmVyOiBVbnNhZmVQb2ludGVyPFVJbnQ4PiwgbWF4TGVuZ3RoIGxlbjogSW50KSAtPiBJbnQge30KfQpvcGVuIGNsYXNzIFBlcnNvbk5hbWVDb21wb25lbnRzRm9ybWF0dGVyIDogQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgRm9ybWF0dGVyLCBIYXNoYWJsZSwgTlNDb2RpbmcsIE5TQ29weWluZywgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wsIF8gewogICAgb3BlbiBjbGFzcyBmdW5jIGxvY2FsaXplZFN0cmluZyhmcm9tIGNvbXBvbmVudHM6IFBlcnNvbk5hbWVDb21wb25lbnRzLCBzdHlsZSBuYW1lRm9ybWF0U3R5bGU6IFN0eWxlLCBvcHRpb25zIG5hbWVPcHRpb25zOiBPcHRpb25zID0geCkgLT4gU3RyaW5nIHt9CiAgICBvcGVuIHZhciBpc1Bob25ldGljOiBCb29sIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBzdHlsZTogU3R5bGUgeyBnZXQgc2V0IH0KICAgIG9wZW4gZnVuYyBhbm5vdGF0ZWRTdHJpbmcoZnJvbSBjb21wb25lbnRzOiBQZXJzb25OYW1lQ29tcG9uZW50cykgLT4gTlNBdHRyaWJ1dGVkU3RyaW5nIHt9CiAgICBvcGVuIGZ1bmMgcGVyc29uTmFtZUNvbXBvbmVudHMoZnJvbSBzdHJpbmc6IFN0cmluZykgLT4gUGVyc29uTmFtZUNvbXBvbmVudHM/IHt9CiAgICBvcGVuIGZ1bmMgc3RyaW5nKGZyb20gY29tcG9uZW50czogUGVyc29uTmFtZUNvbXBvbmVudHMpIC0+IFN0cmluZyB7fQp9Cm9wZW4gY2xhc3MgUGlwZSA6IEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCwgXyB7CiAgICBwdWJsaWMgdmFyIGZpbGVIYW5kbGVGb3JSZWFkaW5nOiBGaWxlSGFuZGxlIHsgZ2V0IH0KICAgIHB1YmxpYyB2YXIgZmlsZUhhbmRsZUZvcldyaXRpbmc6IEZpbGVIYW5kbGUgeyBnZXQgfQp9Cm9wZW4gY2xhc3MgUG9ydCA6IE5TQ29kaW5nLCBOU0NvcHlpbmcsIE5TT2JqZWN0IHsKICAgIHB1YmxpYyBzdGF0aWMgdmFyIGRpZEJlY29tZUludmFsaWROb3RpZmljYXRpb24geyBnZXQgfQogICAgcHVibGljIGluaXQoKSB7fQogICAgcHVibGljIHJlcXVpcmVkIGluaXQ/KGNvZGVyIGFEZWNvZGVyOiBOU0NvZGVyKSB7fQogICAgb3BlbiB2YXIgaXNWYWxpZDogQm9vbCB7IGdldCB9CiAgICBvcGVuIHZhciByZXNlcnZlZFNwYWNlTGVuZ3RoOiBJbnQgeyBnZXQgfQogICAgb3BlbiBmdW5jIGNvcHkod2l0aCB6b25lOiBOU1pvbmU/ID0geCkgLT4gQW55IHt9CiAgICBvcGVuIGZ1bmMgZW5jb2RlKHdpdGggYUNvZGVyOiBOU0NvZGVyKSB7fQogICAgb3BlbiBmdW5jIGludmFsaWRhdGUoKSB7fQogICAgb3BlbiBmdW5jIHJlbW92ZShmcm9tIHJ1bkxvb3A6IFJ1bkxvb3AsIGZvck1vZGUgbW9kZTogUnVuTG9vcE1vZGUpIHt9CiAgICBvcGVuIGZ1bmMgc2NoZWR1bGUoaW4gcnVuTG9vcDogUnVuTG9vcCwgZm9yTW9kZSBtb2RlOiBSdW5Mb29wTW9kZSkge30KICAgIG9wZW4gZnVuYyBzZW5kQmVmb3JlRGF0ZShfIGxpbWl0RGF0ZTogRGF0ZSwgY29tcG9uZW50czogTlNNdXRhYmxlQXJyYXk/LCBmcm9tIHJlY2VpdmVQb3J0OiBQb3J0PywgcmVzZXJ2ZWQgaGVhZGVyU3BhY2VSZXNlcnZlZDogSW50KSAtPiBCb29sIHt9CiAgICBvcGVuIGZ1bmMgc2VuZEJlZm9yZURhdGUoXyBsaW1pdERhdGU6IERhdGUsIG1zZ2lkIG1zZ0lEOiBJbnQsIGNvbXBvbmVudHM6IE5TTXV0YWJsZUFycmF5PywgZnJvbSByZWNlaXZlUG9ydDogUG9ydD8sIHJlc2VydmVkIGhlYWRlclNwYWNlUmVzZXJ2ZWQ6IEludCkgLT4gQm9vbCB7fQp9Cm9wZW4gY2xhc3MgUG9ydE1lc3NhZ2UgOiBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wsIF8gewogICAgcHVibGljIGluaXQoc2VuZFBvcnQ6IFBvcnQ/LCByZWNlaXZlUG9ydCByZXBseVBvcnQ6IFBvcnQ/LCBjb21wb25lbnRzOiBbQW55T2JqZWN0XT8pIHt9CiAgICBvcGVuIHZhciBjb21wb25lbnRzOiBbQW55T2JqZWN0XT8geyBnZXQgfQogICAgb3BlbiB2YXIgbXNnaWQ6IFVJbnQzMiB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgcmVjZWl2ZVBvcnQ6IFBvcnQ/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHNlbmRQb3J0OiBQb3J0PyB7IGdldCB9CiAgICBvcGVuIGZ1bmMgc2VuZEJlZm9yZURhdGUoXyBkYXRlOiBEYXRlKSAtPiBCb29sIHt9Cn0Kb3BlbiBjbGFzcyBQcm9jZXNzIDogQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBfIHsKICAgIHB1YmxpYyBzdGF0aWMgdmFyIGRpZFRlcm1pbmF0ZU5vdGlmaWNhdGlvbiB7IGdldCB9CiAgICBvcGVuIGNsYXNzIGZ1bmMgcnVuKF8gdXJsOiBVUkwsIGFyZ3VtZW50czogW1N0cmluZ10sIHRlcm1pbmF0aW9uSGFuZGxlcjogKChQcm9jZXNzKSAtPiBWb2lkKT8gPSB4KSB0aHJvd3MgLT4gUHJvY2VzcyB7fQogICAgb3BlbiB2YXIgYXJndW1lbnRzOiBbU3RyaW5nXT8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGN1cnJlbnREaXJlY3RvcnlVUkwgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGVudmlyb25tZW50OiBbU3RyaW5nOiBTdHJpbmddPyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgZXhlY3V0YWJsZVVSTDogVVJMPyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgaXNSdW5uaW5nOiBCb29sIHsgZ2V0IH0KICAgIG9wZW4gdmFyIHByb2Nlc3NJZGVudGlmaWVyOiBJbnQzMiB7IGdldCB9CiAgICBvcGVuIHZhciBxdWFsaXR5T2ZTZXJ2aWNlOiBRdWFsaXR5T2ZTZXJ2aWNlIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBzdGFuZGFyZEVycm9yOiBBbnk/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHN0YW5kYXJkSW5wdXQ6IEFueT8geyBnZXQgfQogICAgb3BlbiB2YXIgc3RhbmRhcmRPdXRwdXQ6IEFueT8geyBnZXQgfQogICAgb3BlbiB2YXIgdGVybWluYXRpb25IYW5kbGVyOiAoKFByb2Nlc3MpIC0+IFZvaWQpPyB7IGdldCBzZXQgfQogICAgcHVibGljIHZhciB0ZXJtaW5hdGlvblJlYXNvbjogVGVybWluYXRpb25SZWFzb24geyBnZXQgfQogICAgcHVibGljIHZhciB0ZXJtaW5hdGlvblN0YXR1czogSW50MzIgeyBnZXQgfQogICAgb3BlbiBmdW5jIGludGVycnVwdCgpIHt9CiAgICBvcGVuIGZ1bmMgcmVzdW1lKCkgLT4gQm9vbCB7fQogICAgb3BlbiBmdW5jIHJ1bigpIHRocm93cyB7fQogICAgb3BlbiBmdW5jIHN1c3BlbmQoKSAtPiBCb29sIHt9CiAgICBvcGVuIGZ1bmMgdGVybWluYXRlKCkge30KICAgIG9wZW4gZnVuYyB3YWl0VW50aWxFeGl0KCkge30KfQpvcGVuIGNsYXNzIFByb2Nlc3NJbmZvIDogQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBfIHsKICAgIHB1YmxpYyBzdGF0aWMgdmFyIHByb2Nlc3NJbmZvIHsgZ2V0IH0KICAgIG9wZW4gdmFyIGFjdGl2ZVByb2Nlc3NvckNvdW50OiBJbnQgeyBnZXQgfQogICAgb3BlbiB2YXIgYXJndW1lbnRzOiBbU3RyaW5nXSB7IGdldCB9CiAgICBvcGVuIHZhciBlbnZpcm9ubWVudDogW1N0cmluZzogU3RyaW5nXSB7IGdldCB9CiAgICBvcGVuIHZhciBmdWxsVXNlck5hbWU6IFN0cmluZyB7IGdldCB9CiAgICBvcGVuIHZhciBnbG9iYWxseVVuaXF1ZVN0cmluZzogU3RyaW5nIHsgZ2V0IH0KICAgIG9wZW4gdmFyIGhvc3ROYW1lOiBTdHJpbmcgeyBnZXQgfQogICAgb3BlbiB2YXIgb3BlcmF0aW5nU3lzdGVtVmVyc2lvbjogT3BlcmF0aW5nU3lzdGVtVmVyc2lvbiB7IGdldCB9CiAgICBvcGVuIHZhciBvcGVyYXRpbmdTeXN0ZW1WZXJzaW9uU3RyaW5nOiBTdHJpbmcgeyBnZXQgfQogICAgb3BlbiB2YXIgcGh5c2ljYWxNZW1vcnk6IFVJbnQ2NCB7IGdldCB9CiAgICBvcGVuIHZhciBwcm9jZXNzSWRlbnRpZmllcjogSW50MzIgeyBnZXQgfQogICAgb3BlbiB2YXIgcHJvY2Vzc05hbWU6IFN0cmluZyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgcHJvY2Vzc29yQ291bnQ6IEludCB7IGdldCB9CiAgICBvcGVuIHZhciBzeXN0ZW1VcHRpbWU6IFRpbWVJbnRlcnZhbCB7IGdldCB9CiAgICBvcGVuIHZhciB1c2VyTmFtZTogU3RyaW5nIHsgZ2V0IH0KICAgIG9wZW4gZnVuYyBpc09wZXJhdGluZ1N5c3RlbUF0TGVhc3QoXyB2ZXJzaW9uOiBPcGVyYXRpbmdTeXN0ZW1WZXJzaW9uKSAtPiBCb29sIHt9Cn0Kb3BlbiBjbGFzcyBQcm9ncmVzcyA6IEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCwgXyB7CiAgICBvcGVuIGNsYXNzIGZ1bmMgY3VycmVudCgpIC0+IFByb2dyZXNzPyB7fQogICAgb3BlbiBjbGFzcyBmdW5jIGRpc2NyZXRlUHJvZ3Jlc3ModG90YWxVbml0Q291bnQgdW5pdENvdW50OiBJbnQ2NCkgLT4gUHJvZ3Jlc3Mge30KICAgIHB1YmxpYyBpbml0KHBhcmVudCBwYXJlbnRQcm9ncmVzczogUHJvZ3Jlc3M/LCB1c2VySW5mbyB1c2VySW5mb09yTmlsOiBbUHJvZ3Jlc3NVc2VySW5mb0tleTogQW55XT8gPSB4KSB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQodG90YWxVbml0Q291bnQgdW5pdENvdW50OiBJbnQ2NCkge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KHRvdGFsVW5pdENvdW50IHVuaXRDb3VudDogSW50NjQsIHBhcmVudDogUHJvZ3Jlc3MsIHBlbmRpbmdVbml0Q291bnQgcG9ydGlvbk9mUGFyZW50VG90YWxVbml0Q291bnQ6IEludDY0KSB7fQogICAgb3BlbiB2YXIgY2FuY2VsbGF0aW9uSGFuZGxlcjogKCgpIC0+IFZvaWQpPyB7IGdldCB9CiAgICBvcGVuIHZhciBjb21wbGV0ZWRVbml0Q291bnQ6IEludDY0IHsgZ2V0IHNldCB9CiAgICBwdWJsaWMgdmFyIGZyYWN0aW9uQ29tcGxldGVkOiBEb3VibGUgeyBnZXQgfQogICAgb3BlbiB2YXIgaXNDYW5jZWxsYWJsZTogQm9vbCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgaXNDYW5jZWxsZWQ6IEJvb2wgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGlzRmluaXNoZWQ6IEJvb2wgeyBnZXQgfQogICAgb3BlbiB2YXIgaXNJbmRldGVybWluYXRlOiBCb29sIHsgZ2V0IH0KICAgIG9wZW4gdmFyIGlzUGF1c2FibGU6IEJvb2wgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGlzUGF1c2VkOiBCb29sIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBraW5kOiBQcm9ncmVzc0tpbmQ/IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBsb2NhbGl6ZWRBZGRpdGlvbmFsRGVzY3JpcHRpb246IFN0cmluZyEgeyBnZXQgfQogICAgb3BlbiB2YXIgbG9jYWxpemVkRGVzY3JpcHRpb246IFN0cmluZyEgeyBnZXQgfQogICAgb3BlbiB2YXIgcGF1c2luZ0hhbmRsZXI6ICgoKSAtPiBWb2lkKT8geyBnZXQgfQogICAgb3BlbiB2YXIgcmVzdW1pbmdIYW5kbGVyOiAoKCkgLT4gVm9pZCk/IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciB0b3RhbFVuaXRDb3VudDogSW50NjQgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHVzZXJJbmZvOiBbUHJvZ3Jlc3NVc2VySW5mb0tleTogQW55XSB7IGdldCB9CiAgICBvcGVuIGZ1bmMgYWRkQ2hpbGQoXyBjaGlsZDogUHJvZ3Jlc3MsIHdpdGhQZW5kaW5nVW5pdENvdW50IGluVW5pdENvdW50OiBJbnQ2NCkge30KICAgIG9wZW4gZnVuYyBiZWNvbWVDdXJyZW50KHdpdGhQZW5kaW5nVW5pdENvdW50IHVuaXRDb3VudDogSW50NjQpIHt9CiAgICBvcGVuIGZ1bmMgY2FuY2VsKCkge30KICAgIG9wZW4gZnVuYyBwYXVzZSgpIHt9CiAgICBvcGVuIGZ1bmMgcmVzaWduQ3VycmVudCgpIHt9CiAgICBvcGVuIGZ1bmMgcmVzdW1lKCkge30KICAgIG9wZW4gZnVuYyBzZXRVc2VySW5mb09iamVjdChfIG9iamVjdE9yTmlsOiBBbnk/LCBmb3JLZXkga2V5OiBQcm9ncmVzc1VzZXJJbmZvS2V5KSB7fQp9Cm9wZW4gY2xhc3MgUHJvcGVydHlMaXN0U2VyaWFsaXphdGlvbiA6IEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCwgXyB7CiAgICBvcGVuIGNsYXNzIGZ1bmMgZGF0YShmcm9tUHJvcGVydHlMaXN0IHBsaXN0OiBBbnksIGZvcm1hdDogUHJvcGVydHlMaXN0Rm9ybWF0LCBvcHRpb25zIG9wdDogV3JpdGVPcHRpb25zKSB0aHJvd3MgLT4gRGF0YSB7fQogICAgb3BlbiBjbGFzcyBmdW5jIHByb3BlcnR5TGlzdChfIHBsaXN0OiBBbnksIGlzVmFsaWRGb3IgZm9ybWF0OiBQcm9wZXJ0eUxpc3RGb3JtYXQpIC0+IEJvb2wge30KICAgIG9wZW4gY2xhc3MgZnVuYyBwcm9wZXJ0eUxpc3QoZnJvbSBkYXRhOiBEYXRhLCBvcHRpb25zIG9wdDogUmVhZE9wdGlvbnMgPSB4LCBmb3JtYXQ6IFVuc2FmZU11dGFibGVQb2ludGVyPFByb3BlcnR5TGlzdEZvcm1hdD4/KSB0aHJvd3MgLT4gQW55IHt9CiAgICBvcGVuIGNsYXNzIGZ1bmMgcHJvcGVydHlMaXN0KHdpdGggc3RyZWFtOiBJbnB1dFN0cmVhbSwgb3B0aW9ucyBvcHQ6IFJlYWRPcHRpb25zID0geCwgZm9ybWF0OiBVbnNhZmVNdXRhYmxlUG9pbnRlcjxQcm9wZXJ0eUxpc3RGb3JtYXQ+PykgdGhyb3dzIC0+IEFueSB7fQp9Cm9wZW4gY2xhc3MgUnVuTG9vcCA6IEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCwgXyB7CiAgICBvcGVuIGNsYXNzIHZhciBjdXJyZW50OiBSdW5Mb29wIHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgdmFyIG1haW46IFJ1bkxvb3AgeyBnZXQgfQogICAgb3BlbiB2YXIgY3VycmVudE1vZGU6IFJ1bkxvb3BNb2RlPyB7IGdldCB9CiAgICBvcGVuIGZ1bmMgYWNjZXB0SW5wdXQoZm9yTW9kZSBtb2RlOiBTdHJpbmcsIGJlZm9yZSBsaW1pdERhdGU6IERhdGUpIHt9CiAgICBvcGVuIGZ1bmMgYWRkKF8gYVBvcnQ6IFBvcnQsIGZvck1vZGUgbW9kZTogUnVuTG9vcE1vZGUpIHt9CiAgICBvcGVuIGZ1bmMgZ2V0Q0ZSdW5Mb29wKCkgLT4gQ0ZSdW5Mb29wIHt9CiAgICBvcGVuIGZ1bmMgbGltaXREYXRlKGZvck1vZGUgbW9kZTogUnVuTG9vcE1vZGUpIC0+IERhdGU/IHt9CiAgICBwdWJsaWMgZnVuYyBwZXJmb3JtKF8gYmxvY2s6IEBlc2NhcGluZyAoKSAtPiBWb2lkKSB7fQogICAgcHVibGljIGZ1bmMgcGVyZm9ybShpbk1vZGVzIG1vZGVzOiBbUnVuTG9vcE1vZGVdLCBibG9jazogQGVzY2FwaW5nICgpIC0+IFZvaWQpIHt9CiAgICBvcGVuIGZ1bmMgcmVtb3ZlKF8gYVBvcnQ6IFBvcnQsIGZvck1vZGUgbW9kZTogUnVuTG9vcE1vZGUpIHt9CiAgICBwdWJsaWMgZnVuYyBydW4oKSB7fQogICAgcHVibGljIGZ1bmMgcnVuKG1vZGU6IFJ1bkxvb3BNb2RlLCBiZWZvcmUgbGltaXREYXRlOiBEYXRlKSAtPiBCb29sIHt9CiAgICBwdWJsaWMgZnVuYyBydW4odW50aWwgbGltaXREYXRlOiBEYXRlKSB7fQp9Cm9wZW4gY2xhc3MgU2Nhbm5lciA6IEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU0NvcHlpbmcsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBfIHsKICAgIG9wZW4gY2xhc3MgZnVuYyBsb2NhbGl6ZWRTY2FubmVyV2l0aFN0cmluZyhfIHN0cmluZzogU3RyaW5nKSAtPiBBbnlPYmplY3Qge30KICAgIHB1YmxpYyBpbml0KHN0cmluZzogU3RyaW5nKSB7fQogICAgb3BlbiB2YXIgY2FzZVNlbnNpdGl2ZTogQm9vbCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgY2hhcmFjdGVyc1RvQmVTa2lwcGVkOiBDaGFyYWN0ZXJTZXQ/IHsgZ2V0IHNldCB9CiAgICBwdWJsaWMgdmFyIGlzQXRFbmQ6IEJvb2wgeyBnZXQgfQogICAgb3BlbiB2YXIgbG9jYWxlOiBMb2NhbGU/IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBzY2FuTG9jYXRpb246IEludCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgc3RyaW5nOiBTdHJpbmcgeyBnZXQgfQogICAgcHVibGljIGZ1bmMgc2NhbkNoYXJhY3RlcnNGcm9tU2V0KF8gc2V0OiBDaGFyYWN0ZXJTZXQpIC0+IFN0cmluZz8ge30KICAgIHB1YmxpYyBmdW5jIHNjYW5EZWNpbWFsKCkgLT4gRGVjaW1hbD8ge30KICAgIHB1YmxpYyBmdW5jIHNjYW5EZWNpbWFsKF8gZGNtOiBpbm91dCBEZWNpbWFsKSAtPiBCb29sIHt9CiAgICBwdWJsaWMgZnVuYyBzY2FuRG91YmxlKCkgLT4gRG91YmxlPyB7fQogICAgQGRpc2NhcmRhYmxlUmVzdWx0IHB1YmxpYyBmdW5jIHNjYW5Eb3VibGUoXyByZXN1bHQ6IFVuc2FmZU11dGFibGVQb2ludGVyPERvdWJsZT4pIC0+IEJvb2wge30KICAgIHB1YmxpYyBmdW5jIHNjYW5GbG9hdCgpIC0+IEZsb2F0PyB7fQogICAgQGRpc2NhcmRhYmxlUmVzdWx0IHB1YmxpYyBmdW5jIHNjYW5GbG9hdChfIHJlc3VsdDogVW5zYWZlTXV0YWJsZVBvaW50ZXI8RmxvYXQ+KSAtPiBCb29sIHt9CiAgICBwdWJsaWMgZnVuYyBzY2FuSGV4RG91YmxlKCkgLT4gRG91YmxlPyB7fQogICAgQGRpc2NhcmRhYmxlUmVzdWx0IHB1YmxpYyBmdW5jIHNjYW5IZXhEb3VibGUoXyByZXN1bHQ6IFVuc2FmZU11dGFibGVQb2ludGVyPERvdWJsZT4pIC0+IEJvb2wge30KICAgIHB1YmxpYyBmdW5jIHNjYW5IZXhGbG9hdCgpIC0+IEZsb2F0PyB7fQogICAgQGRpc2NhcmRhYmxlUmVzdWx0IHB1YmxpYyBmdW5jIHNjYW5IZXhGbG9hdChfIHJlc3VsdDogVW5zYWZlTXV0YWJsZVBvaW50ZXI8RmxvYXQ+KSAtPiBCb29sIHt9CiAgICBwdWJsaWMgZnVuYyBzY2FuSGV4SW50MzIoKSAtPiBVSW50MzI/IHt9CiAgICBAZGlzY2FyZGFibGVSZXN1bHQgcHVibGljIGZ1bmMgc2NhbkhleEludDMyKF8gcmVzdWx0OiBVbnNhZmVNdXRhYmxlUG9pbnRlcjxVSW50MzI+KSAtPiBCb29sIHt9CiAgICBwdWJsaWMgZnVuYyBzY2FuSGV4SW50NjQoKSAtPiBVSW50NjQ/IHt9CiAgICBAZGlzY2FyZGFibGVSZXN1bHQgcHVibGljIGZ1bmMgc2NhbkhleEludDY0KF8gcmVzdWx0OiBVbnNhZmVNdXRhYmxlUG9pbnRlcjxVSW50NjQ+KSAtPiBCb29sIHt9CiAgICBwdWJsaWMgZnVuYyBzY2FuSW50KCkgLT4gSW50PyB7fQogICAgQGRpc2NhcmRhYmxlUmVzdWx0IHB1YmxpYyBmdW5jIHNjYW5JbnQoXyByZXN1bHQ6IFVuc2FmZU11dGFibGVQb2ludGVyPEludD4pIC0+IEJvb2wge30KICAgIHB1YmxpYyBmdW5jIHNjYW5JbnQzMigpIC0+IEludDMyPyB7fQogICAgQGRpc2NhcmRhYmxlUmVzdWx0IHB1YmxpYyBmdW5jIHNjYW5JbnQzMihfIHJlc3VsdDogVW5zYWZlTXV0YWJsZVBvaW50ZXI8SW50MzI+KSAtPiBCb29sIHt9CiAgICBwdWJsaWMgZnVuYyBzY2FuSW50NjQoKSAtPiBJbnQ2ND8ge30KICAgIEBkaXNjYXJkYWJsZVJlc3VsdCBwdWJsaWMgZnVuYyBzY2FuSW50NjQoXyByZXN1bHQ6IFVuc2FmZU11dGFibGVQb2ludGVyPEludDY0PikgLT4gQm9vbCB7fQogICAgcHVibGljIGZ1bmMgc2NhblN0cmluZyhfIHNlYXJjaFN0cmluZzogU3RyaW5nKSAtPiBTdHJpbmc/IHt9CiAgICBAZGlzY2FyZGFibGVSZXN1bHQgcHVibGljIGZ1bmMgc2NhblN0cmluZyhfIHN0cmluZzogU3RyaW5nLCBpbnRvIHB0cjogVW5zYWZlTXV0YWJsZVBvaW50ZXI8U3RyaW5nPz4/KSAtPiBCb29sIHt9CiAgICBwdWJsaWMgZnVuYyBzY2FuVW5zaWduZWRMb25nTG9uZygpIC0+IFVJbnQ2ND8ge30KICAgIEBkaXNjYXJkYWJsZVJlc3VsdCBwdWJsaWMgZnVuYyBzY2FuVW5zaWduZWRMb25nTG9uZyhfIHJlc3VsdDogVW5zYWZlTXV0YWJsZVBvaW50ZXI8VUludDY0PikgLT4gQm9vbCB7fQogICAgQGRpc2NhcmRhYmxlUmVzdWx0IHB1YmxpYyBmdW5jIHNjYW5VcFRvQ2hhcmFjdGVycyhmcm9tIHNldDogQ2hhcmFjdGVyU2V0LCBpbnRvIHB0cjogVW5zYWZlTXV0YWJsZVBvaW50ZXI8U3RyaW5nPz4/KSAtPiBCb29sIHt9CiAgICBwdWJsaWMgZnVuYyBzY2FuVXBUb0NoYXJhY3RlcnNGcm9tU2V0KF8gc2V0OiBDaGFyYWN0ZXJTZXQpIC0+IFN0cmluZz8ge30KICAgIHB1YmxpYyBmdW5jIHNjYW5VcFRvU3RyaW5nKF8gc3RyaW5nOiBTdHJpbmcpIC0+IFN0cmluZz8ge30KfQpvcGVuIGNsYXNzIFNvY2tldFBvcnQgOiBOU0NvZGluZywgTlNDb3B5aW5nLCBOU09iamVjdCwgUG9ydCB7CiAgICBwdWJsaWMgaW5pdD8ocHJvdG9jb2xGYW1pbHkgZmFtaWx5OiBJbnQzMiwgc29ja2V0VHlwZSB0eXBlOiBJbnQzMiwgcHJvdG9jb2w6IEludDMyLCBhZGRyZXNzOiBEYXRhKSB7fQogICAgcHVibGljIGluaXQ/KHByb3RvY29sRmFtaWx5IGZhbWlseTogSW50MzIsIHNvY2tldFR5cGUgdHlwZTogSW50MzIsIHByb3RvY29sOiBJbnQzMiwgc29ja2V0IHNvY2s6IFNvY2tldE5hdGl2ZUhhbmRsZSkge30KICAgIHB1YmxpYyBpbml0KHJlbW90ZVdpdGhQcm90b2NvbEZhbWlseSBmYW1pbHk6IEludDMyLCBzb2NrZXRUeXBlIHR5cGU6IEludDMyLCBwcm90b2NvbDogSW50MzIsIGFkZHJlc3M6IERhdGEpIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdD8ocmVtb3RlV2l0aFRDUFBvcnQgcG9ydDogVUludDE2LCBob3N0IGhvc3ROYW1lOiBTdHJpbmc/KSB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQ/KHRjcFBvcnQgcG9ydDogVUludDE2KSB7fQogICAgb3BlbiB2YXIgYWRkcmVzczogRGF0YSB7IGdldCB9CiAgICBvcGVuIHZhciBwcm90b2NvbDogSW50MzIgeyBnZXQgfQogICAgb3BlbiB2YXIgcHJvdG9jb2xGYW1pbHk6IEludDMyIHsgZ2V0IH0KICAgIG9wZW4gdmFyIHNvY2tldDogU29ja2V0TmF0aXZlSGFuZGxlIHsgZ2V0IH0KICAgIG9wZW4gdmFyIHNvY2tldFR5cGU6IEludDMyIHsgZ2V0IH0KfQpvcGVuIGNsYXNzIFN0cmVhbSA6IE5TT2JqZWN0IHsKI2lmIGZhbHNlCiAgICBvcGVuIGNsYXNzIGZ1bmMgZ2V0Qm91bmRTdHJlYW1zKHdpdGhCdWZmZXJTaXplIGJ1ZmZlclNpemU6IEludCwgaW5wdXRTdHJlYW06IEF1dG9yZWxlYXNpbmdVbnNhZmVNdXRhYmxlUG9pbnRlcjxJbnB1dFN0cmVhbT8+Pywgb3V0cHV0U3RyZWFtOiBBdXRvcmVsZWFzaW5nVW5zYWZlTXV0YWJsZVBvaW50ZXI8T3V0cHV0U3RyZWFtPz4/KSB7fQojZW5kaWYKI2lmIGZhbHNlCiAgICBvcGVuIGNsYXNzIGZ1bmMgZ2V0U3RyZWFtc1RvSG9zdCh3aXRoTmFtZSBob3N0bmFtZTogU3RyaW5nLCBwb3J0OiBJbnQsIGlucHV0U3RyZWFtOiBBdXRvcmVsZWFzaW5nVW5zYWZlTXV0YWJsZVBvaW50ZXI8SW5wdXRTdHJlYW0/Pj8sIG91dHB1dFN0cmVhbTogQXV0b3JlbGVhc2luZ1Vuc2FmZU11dGFibGVQb2ludGVyPE91dHB1dFN0cmVhbT8+Pykge30KI2VuZGlmCiAgICBwdWJsaWMgaW5pdCgpIHt9CiAgICBvcGVuIHdlYWsgdmFyIGRlbGVnYXRlOiBTdHJlYW1EZWxlZ2F0ZT8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHN0cmVhbUVycm9yOiBFcnJvcj8geyBnZXQgfQogICAgb3BlbiB2YXIgc3RyZWFtU3RhdHVzOiBTdGF0dXMgeyBnZXQgfQogICAgb3BlbiBmdW5jIGNsb3NlKCkge30KICAgIG9wZW4gZnVuYyBvcGVuKCkge30KICAgIG9wZW4gZnVuYyBwcm9wZXJ0eShmb3JLZXkga2V5OiBQcm9wZXJ0eUtleSkgLT4gQW55T2JqZWN0PyB7fQogICAgb3BlbiBmdW5jIHJlbW92ZShmcm9tIGFSdW5Mb29wOiBSdW5Mb29wLCBmb3JNb2RlIG1vZGU6IFJ1bkxvb3BNb2RlKSB7fQogICAgb3BlbiBmdW5jIHNjaGVkdWxlKGluIGFSdW5Mb29wOiBSdW5Mb29wLCBmb3JNb2RlIG1vZGU6IFJ1bkxvb3BNb2RlKSB7fQogICAgb3BlbiBmdW5jIHNldFByb3BlcnR5KF8gcHJvcGVydHk6IEFueU9iamVjdD8sIGZvcktleSBrZXk6IFByb3BlcnR5S2V5KSAtPiBCb29sIHt9Cn0Kb3BlbiBjbGFzcyBUaHJlYWQgOiBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wsIF8gewogICAgb3BlbiBjbGFzcyB2YXIgY2FsbFN0YWNrUmV0dXJuQWRkcmVzc2VzOiBbTlNOdW1iZXJdIHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgdmFyIGNhbGxTdGFja1N5bWJvbHM6IFtTdHJpbmddIHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgdmFyIGN1cnJlbnQ6IFRocmVhZCB7IGdldCB9CiAgICBvcGVuIGNsYXNzIHZhciBpc01haW5UaHJlYWQ6IEJvb2wgeyBnZXQgfQogICAgb3BlbiBjbGFzcyB2YXIgbWFpblRocmVhZDogVGhyZWFkIHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgZnVuYyBkZXRhY2hOZXdUaHJlYWQoXyBibG9jazogQGVzY2FwaW5nICgpIC0+IFN3aWZ0LlZvaWQpIHt9CiAgICBvcGVuIGNsYXNzIGZ1bmMgZXhpdCgpIHt9CiAgICBvcGVuIGNsYXNzIGZ1bmMgaXNNdWx0aVRocmVhZGVkKCkgLT4gQm9vbCB7fQogICAgb3BlbiBjbGFzcyBmdW5jIHNsZWVwKGZvclRpbWVJbnRlcnZhbCBpbnRlcnZhbDogVGltZUludGVydmFsKSB7fQogICAgb3BlbiBjbGFzcyBmdW5jIHNsZWVwKHVudGlsIGRhdGU6IERhdGUpIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdChibG9jazogQGVzY2FwaW5nICgpIC0+IFN3aWZ0LlZvaWQpIHt9CiAgICBvcGVuIHZhciBpc0NhbmNlbGxlZDogQm9vbCB7IGdldCB9CiAgICBvcGVuIHZhciBpc0V4ZWN1dGluZzogQm9vbCB7IGdldCB9CiAgICBvcGVuIHZhciBpc0ZpbmlzaGVkOiBCb29sIHsgZ2V0IH0KICAgIG9wZW4gdmFyIGlzTWFpblRocmVhZDogQm9vbCB7IGdldCB9CiAgICBvcGVuIHZhciBuYW1lOiBTdHJpbmc/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHN0YWNrU2l6ZTogSW50IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciB0aHJlYWREaWN0aW9uYXJ5OiBOU011dGFibGVEaWN0aW9uYXJ5IHsgZ2V0IH0KICAgIG9wZW4gZnVuYyBjYW5jZWwoKSB7fQogICAgb3BlbiBmdW5jIG1haW4oKSB7fQogICAgb3BlbiBmdW5jIHN0YXJ0KCkge30KfQpvcGVuIGNsYXNzIFRpbWVyIDogQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBfIHsKICAgIG9wZW4gY2xhc3MgZnVuYyBzY2hlZHVsZWRUaW1lcih3aXRoVGltZUludGVydmFsIGludGVydmFsOiBUaW1lSW50ZXJ2YWwsIHJlcGVhdHM6IEJvb2wsIGJsb2NrOiBAZXNjYXBpbmcgKFRpbWVyKSAtPiBWb2lkKSAtPiBUaW1lciB7fQogICAgcHVibGljIGluaXQoZmlyZSBkYXRlOiBEYXRlLCBpbnRlcnZhbDogVGltZUludGVydmFsLCByZXBlYXRzOiBCb29sLCBibG9jazogQGVzY2FwaW5nIChUaW1lcikgLT4gU3dpZnQuVm9pZCkge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KHRpbWVJbnRlcnZhbCBpbnRlcnZhbDogVGltZUludGVydmFsLCByZXBlYXRzOiBCb29sLCBibG9jazogQGVzY2FwaW5nIChUaW1lcikgLT4gU3dpZnQuVm9pZCkge30KICAgIG9wZW4gdmFyIGZpcmVEYXRlOiBEYXRlIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBpc1ZhbGlkOiBCb29sIHsgZ2V0IH0KICAgIG9wZW4gdmFyIHRpbWVJbnRlcnZhbDogVGltZUludGVydmFsIHsgZ2V0IH0KICAgIG9wZW4gdmFyIHRvbGVyYW5jZTogVGltZUludGVydmFsIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciB1c2VySW5mbzogQW55PyB7IGdldCB9CiAgICBvcGVuIGZ1bmMgZmlyZSgpIHt9CiAgICBvcGVuIGZ1bmMgaW52YWxpZGF0ZSgpIHt9Cn0Kb3BlbiBjbGFzcyBVUkxBdXRoZW50aWNhdGlvbkNoYWxsZW5nZSA6IEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU0NvZGluZywgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wsIE5TU2VjdXJlQ29kaW5nLCBfIHsKICAgIHB1YmxpYyBpbml0KGF1dGhlbnRpY2F0aW9uQ2hhbGxlbmdlIGNoYWxsZW5nZTogVVJMQXV0aGVudGljYXRpb25DaGFsbGVuZ2UsIHNlbmRlcjogVVJMQXV0aGVudGljYXRpb25DaGFsbGVuZ2VTZW5kZXIpIHt9CiAgICBwdWJsaWMgaW5pdChwcm90ZWN0aW9uU3BhY2Ugc3BhY2U6IFVSTFByb3RlY3Rpb25TcGFjZSwgcHJvcG9zZWRDcmVkZW50aWFsIGNyZWRlbnRpYWw6IFVSTENyZWRlbnRpYWw/LCBwcmV2aW91c0ZhaWx1cmVDb3VudDogSW50LCBmYWlsdXJlUmVzcG9uc2UgcmVzcG9uc2U6IFVSTFJlc3BvbnNlPywgZXJyb3I6IEVycm9yPywgc2VuZGVyOiBVUkxBdXRoZW50aWNhdGlvbkNoYWxsZW5nZVNlbmRlcikge30KICAgIG9wZW4gdmFyIGVycm9yOiBFcnJvcj8geyBnZXQgfQogICAgb3BlbiB2YXIgZmFpbHVyZVJlc3BvbnNlOiBVUkxSZXNwb25zZT8geyBnZXQgfQogICAgb3BlbiB2YXIgcHJldmlvdXNGYWlsdXJlQ291bnQ6IEludCB7IGdldCB9CiAgICBvcGVuIHZhciBwcm9wb3NlZENyZWRlbnRpYWw6IFVSTENyZWRlbnRpYWw/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHByb3RlY3Rpb25TcGFjZTogVVJMUHJvdGVjdGlvblNwYWNlIHsgZ2V0IH0KICAgIG9wZW4gdmFyIHNlbmRlcjogVVJMQXV0aGVudGljYXRpb25DaGFsbGVuZ2VTZW5kZXI/IHsgZ2V0IH0KfQpvcGVuIGNsYXNzIFVSTENhY2hlIDogQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBfIHsKICAgIG9wZW4gY2xhc3MgdmFyIHNoYXJlZDogVVJMQ2FjaGUgeyBnZXQgc2V0IH0KICAgIHB1YmxpYyBpbml0KG1lbW9yeUNhcGFjaXR5OiBJbnQsIGRpc2tDYXBhY2l0eTogSW50LCBkaXNrUGF0aCBwYXRoOiBTdHJpbmc/KSB7fQogICAgb3BlbiB2YXIgY3VycmVudERpc2tVc2FnZTogSW50IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGN1cnJlbnRNZW1vcnlVc2FnZTogSW50IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGRpc2tDYXBhY2l0eTogSW50IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBtZW1vcnlDYXBhY2l0eTogSW50IHsgZ2V0IHNldCB9CiAgICBvcGVuIGZ1bmMgY2FjaGVkUmVzcG9uc2UoZm9yIHJlcXVlc3Q6IFVSTFJlcXVlc3QpIC0+IENhY2hlZFVSTFJlc3BvbnNlPyB7fQogICAgcHVibGljIGZ1bmMgZ2V0Q2FjaGVkUmVzcG9uc2UoZm9yIGRhdGFUYXNrOiBVUkxTZXNzaW9uRGF0YVRhc2ssIGNvbXBsZXRpb25IYW5kbGVyOiAoQ2FjaGVkVVJMUmVzcG9uc2U/KSAtPiBWb2lkKSB7fQogICAgb3BlbiBmdW5jIHJlbW92ZUFsbENhY2hlZFJlc3BvbnNlcygpIHt9CiAgICBwdWJsaWMgZnVuYyByZW1vdmVDYWNoZWRSZXNwb25zZShmb3IgZGF0YVRhc2s6IFVSTFNlc3Npb25EYXRhVGFzaykge30KICAgIG9wZW4gZnVuYyByZW1vdmVDYWNoZWRSZXNwb25zZXMoc2luY2UgZGF0ZTogRGF0ZSkge30KICAgIHB1YmxpYyBmdW5jIHN0b3JlQ2FjaGVkUmVzcG9uc2UoXyBjYWNoZWRSZXNwb25zZTogQ2FjaGVkVVJMUmVzcG9uc2UsIGZvciBkYXRhVGFzazogVVJMU2Vzc2lvbkRhdGFUYXNrKSB7fQp9Cm9wZW4gY2xhc3MgVVJMQ3JlZGVudGlhbCA6IEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU0NvZGluZywgTlNDb3B5aW5nLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCwgTlNTZWN1cmVDb2RpbmcsIF8gewogICAgcHVibGljIGluaXQodXNlcjogU3RyaW5nLCBwYXNzd29yZDogU3RyaW5nLCBwZXJzaXN0ZW5jZTogUGVyc2lzdGVuY2UpIHt9CiAgICBvcGVuIHZhciBoYXNQYXNzd29yZDogQm9vbCB7IGdldCB9CiAgICBvcGVuIHZhciBwYXNzd29yZDogU3RyaW5nPyB7IGdldCB9CiAgICBvcGVuIHZhciBwZXJzaXN0ZW5jZTogUGVyc2lzdGVuY2UgeyBnZXQgfQogICAgb3BlbiB2YXIgdXNlcjogU3RyaW5nPyB7IGdldCB9Cn0Kb3BlbiBjbGFzcyBVUkxDcmVkZW50aWFsU3RvcmFnZSA6IEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCwgXyB7CiAgICBvcGVuIGNsYXNzIHZhciBzaGFyZWQ6IFVSTENyZWRlbnRpYWxTdG9yYWdlIHsgZ2V0IH0KICAgIG9wZW4gdmFyIGFsbENyZWRlbnRpYWxzOiBbVVJMUHJvdGVjdGlvblNwYWNlOiBbU3RyaW5nOiBVUkxDcmVkZW50aWFsXV0geyBnZXQgfQogICAgb3BlbiBmdW5jIGNyZWRlbnRpYWxzKGZvciBzcGFjZTogVVJMUHJvdGVjdGlvblNwYWNlKSAtPiBbU3RyaW5nOiBVUkxDcmVkZW50aWFsXT8ge30KICAgIG9wZW4gZnVuYyBkZWZhdWx0Q3JlZGVudGlhbChmb3Igc3BhY2U6IFVSTFByb3RlY3Rpb25TcGFjZSkgLT4gVVJMQ3JlZGVudGlhbD8ge30KICAgIHB1YmxpYyBmdW5jIGdldENyZWRlbnRpYWxzKGZvciBwcm90ZWN0aW9uU3BhY2U6IFVSTFByb3RlY3Rpb25TcGFjZSwgdGFzazogVVJMU2Vzc2lvblRhc2ssIGNvbXBsZXRpb25IYW5kbGVyOiAoW1N0cmluZzogVVJMQ3JlZGVudGlhbF0/KSAtPiBWb2lkKSB7fQogICAgcHVibGljIGZ1bmMgZ2V0RGVmYXVsdENyZWRlbnRpYWwoZm9yIHNwYWNlOiBVUkxQcm90ZWN0aW9uU3BhY2UsIHRhc2s6IFVSTFNlc3Npb25UYXNrLCBjb21wbGV0aW9uSGFuZGxlcjogKFVSTENyZWRlbnRpYWw/KSAtPiBWb2lkKSB7fQogICAgb3BlbiBmdW5jIHJlbW92ZShfIGNyZWRlbnRpYWw6IFVSTENyZWRlbnRpYWwsIGZvciBzcGFjZTogVVJMUHJvdGVjdGlvblNwYWNlKSB7fQogICAgb3BlbiBmdW5jIHJlbW92ZShfIGNyZWRlbnRpYWw6IFVSTENyZWRlbnRpYWwsIGZvciBzcGFjZTogVVJMUHJvdGVjdGlvblNwYWNlLCBvcHRpb25zOiBbU3RyaW5nOiBBbnlPYmplY3RdPyA9IHgpIHt9CiAgICBwdWJsaWMgZnVuYyByZW1vdmUoXyBjcmVkZW50aWFsOiBVUkxDcmVkZW50aWFsLCBmb3IgcHJvdGVjdGlvblNwYWNlOiBVUkxQcm90ZWN0aW9uU3BhY2UsIG9wdGlvbnM6IFtTdHJpbmc6IEFueU9iamVjdF0/ID0geCwgdGFzazogVVJMU2Vzc2lvblRhc2spIHt9CiAgICBvcGVuIGZ1bmMgc2V0KF8gY3JlZGVudGlhbDogVVJMQ3JlZGVudGlhbCwgZm9yIHNwYWNlOiBVUkxQcm90ZWN0aW9uU3BhY2UpIHt9CiAgICBwdWJsaWMgZnVuYyBzZXQoXyBjcmVkZW50aWFsOiBVUkxDcmVkZW50aWFsLCBmb3IgcHJvdGVjdGlvblNwYWNlOiBVUkxQcm90ZWN0aW9uU3BhY2UsIHRhc2s6IFVSTFNlc3Npb25UYXNrKSB7fQogICAgb3BlbiBmdW5jIHNldERlZmF1bHRDcmVkZW50aWFsKF8gY3JlZGVudGlhbDogVVJMQ3JlZGVudGlhbCwgZm9yIHNwYWNlOiBVUkxQcm90ZWN0aW9uU3BhY2UpIHt9CiAgICBwdWJsaWMgZnVuYyBzZXREZWZhdWx0Q3JlZGVudGlhbChfIGNyZWRlbnRpYWw6IFVSTENyZWRlbnRpYWwsIGZvciBwcm90ZWN0aW9uU3BhY2U6IFVSTFByb3RlY3Rpb25TcGFjZSwgdGFzazogVVJMU2Vzc2lvblRhc2spIHt9Cn0Kb3BlbiBjbGFzcyBVUkxQcm90ZWN0aW9uU3BhY2UgOiBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNDb2RpbmcsIE5TQ29weWluZywgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wsIE5TU2VjdXJlQ29kaW5nLCBfIHsKICAgIHB1YmxpYyBpbml0KGhvc3Q6IFN0cmluZywgcG9ydDogSW50LCBwcm90b2NvbDogU3RyaW5nPywgcmVhbG06IFN0cmluZz8sIGF1dGhlbnRpY2F0aW9uTWV0aG9kOiBTdHJpbmc/KSB7fQogICAgcHVibGljIGluaXQocHJveHlIb3N0IGhvc3Q6IFN0cmluZywgcG9ydDogSW50LCB0eXBlOiBTdHJpbmc/LCByZWFsbTogU3RyaW5nPywgYXV0aGVudGljYXRpb25NZXRob2Q6IFN0cmluZz8pIHt9CiAgICBvcGVuIHZhciBhdXRoZW50aWNhdGlvbk1ldGhvZDogU3RyaW5nIHsgZ2V0IH0KICAgIHB1YmxpYyB2YXIgZGlzdGluZ3Vpc2hlZE5hbWVzOiBbRGF0YV0/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGhvc3Q6IFN0cmluZyB7IGdldCB9CiAgICBvcGVuIHZhciBwb3J0OiBJbnQgeyBnZXQgfQogICAgb3BlbiB2YXIgcHJvdG9jb2w6IFN0cmluZz8geyBnZXQgfQogICAgb3BlbiB2YXIgcHJveHlUeXBlOiBTdHJpbmc/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHJlYWxtOiBTdHJpbmc/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHJlY2VpdmVzQ3JlZGVudGlhbFNlY3VyZWx5OiBCb29sIHsgZ2V0IH0KfQpvcGVuIGNsYXNzIFVSTFByb3RvY29sIDogQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBfIHsKICAgIG9wZW4gY2xhc3MgZnVuYyBjYW5Jbml0KHdpdGggcmVxdWVzdDogVVJMUmVxdWVzdCkgLT4gQm9vbCB7fQogICAgb3BlbiBjbGFzcyBmdW5jIGNhbm9uaWNhbFJlcXVlc3QoZm9yIHJlcXVlc3Q6IFVSTFJlcXVlc3QpIC0+IFVSTFJlcXVlc3Qge30KICAgIG9wZW4gY2xhc3MgZnVuYyBwcm9wZXJ0eShmb3JLZXkga2V5OiBTdHJpbmcsIGluIHJlcXVlc3Q6IFVSTFJlcXVlc3QpIC0+IEFueT8ge30KICAgIG9wZW4gY2xhc3MgZnVuYyByZWdpc3RlckNsYXNzKF8gcHJvdG9jb2xDbGFzczogQW55Q2xhc3MpIC0+IEJvb2wge30KICAgIG9wZW4gY2xhc3MgZnVuYyByZW1vdmVQcm9wZXJ0eShmb3JLZXkga2V5OiBTdHJpbmcsIGluIHJlcXVlc3Q6IE5TTXV0YWJsZVVSTFJlcXVlc3QpIHt9CiAgICBvcGVuIGNsYXNzIGZ1bmMgcmVxdWVzdElzQ2FjaGVFcXVpdmFsZW50KF8gYTogVVJMUmVxdWVzdCwgdG8gYjogVVJMUmVxdWVzdCkgLT4gQm9vbCB7fQogICAgb3BlbiBjbGFzcyBmdW5jIHNldFByb3BlcnR5KF8gdmFsdWU6IEFueSwgZm9yS2V5IGtleTogU3RyaW5nLCBpbiByZXF1ZXN0OiBOU011dGFibGVVUkxSZXF1ZXN0KSB7fQogICAgb3BlbiBjbGFzcyBmdW5jIHVucmVnaXN0ZXJDbGFzcyhfIHByb3RvY29sQ2xhc3M6IEFueUNsYXNzKSB7fQogICAgcHVibGljIHJlcXVpcmVkIGluaXQocmVxdWVzdDogVVJMUmVxdWVzdCwgY2FjaGVkUmVzcG9uc2U6IENhY2hlZFVSTFJlc3BvbnNlPywgY2xpZW50OiBVUkxQcm90b2NvbENsaWVudD8pIHt9CiAgICBwdWJsaWMgcmVxdWlyZWQgY29udmVuaWVuY2UgaW5pdCh0YXNrOiBVUkxTZXNzaW9uVGFzaywgY2FjaGVkUmVzcG9uc2U6IENhY2hlZFVSTFJlc3BvbnNlPywgY2xpZW50OiBVUkxQcm90b2NvbENsaWVudD8pIHt9CiAgICBvcGVuIHZhciBjYWNoZWRSZXNwb25zZTogQ2FjaGVkVVJMUmVzcG9uc2U/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGNsaWVudDogVVJMUHJvdG9jb2xDbGllbnQ/IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciByZXF1ZXN0OiBVUkxSZXF1ZXN0IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHRhc2s6IFVSTFNlc3Npb25UYXNrPyB7IGdldCBzZXQgfQogICAgb3BlbiBmdW5jIHN0YXJ0TG9hZGluZygpIHt9CiAgICBvcGVuIGZ1bmMgc3RvcExvYWRpbmcoKSB7fQp9Cm9wZW4gY2xhc3MgVVJMUmVzcG9uc2UgOiBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNDb2RpbmcsIE5TQ29weWluZywgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wsIE5TU2VjdXJlQ29kaW5nLCBfIHsKICAgIHB1YmxpYyBpbml0KHVybDogVVJMLCBtaW1lVHlwZTogU3RyaW5nPywgZXhwZWN0ZWRDb250ZW50TGVuZ3RoIGxlbmd0aDogSW50LCB0ZXh0RW5jb2RpbmdOYW1lIG5hbWU6IFN0cmluZz8pIHt9CiAgICBvcGVuIHZhciBleHBlY3RlZENvbnRlbnRMZW5ndGg6IEludDY0IHsgZ2V0IH0KICAgIG9wZW4gdmFyIG1pbWVUeXBlOiBTdHJpbmc/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHN1Z2dlc3RlZEZpbGVuYW1lOiBTdHJpbmc/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHRleHRFbmNvZGluZ05hbWU6IFN0cmluZz8geyBnZXQgfQogICAgb3BlbiB2YXIgdXJsOiBVUkw/IHsgZ2V0IH0KfQpvcGVuIGNsYXNzIFVSTFNlc3Npb24gOiBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wsIFVSTFNlc3Npb25Qcm90b2NvbCwgXyB7CiAgICBvcGVuIGNsYXNzIHZhciBzaGFyZWQ6IFVSTFNlc3Npb24geyBnZXQgfQogICAgcHVibGljIGluaXQoY29uZmlndXJhdGlvbjogVVJMU2Vzc2lvbkNvbmZpZ3VyYXRpb24pIHt9CiAgICBwdWJsaWMgaW5pdChjb25maWd1cmF0aW9uOiBVUkxTZXNzaW9uQ29uZmlndXJhdGlvbiwgZGVsZWdhdGU6IFVSTFNlc3Npb25EZWxlZ2F0ZT8sIGRlbGVnYXRlUXVldWUgcXVldWU6IE9wZXJhdGlvblF1ZXVlPykge30KICAgIG9wZW4gdmFyIGNvbmZpZ3VyYXRpb246IFVSTFNlc3Npb25Db25maWd1cmF0aW9uIHsgZ2V0IH0KICAgIG9wZW4gdmFyIGRlbGVnYXRlOiBVUkxTZXNzaW9uRGVsZWdhdGU/IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBkZWxlZ2F0ZVF1ZXVlOiBPcGVyYXRpb25RdWV1ZSB7IGdldCB9CiAgICBvcGVuIHZhciBzZXNzaW9uRGVzY3JpcHRpb246IFN0cmluZz8geyBnZXQgc2V0IH0KICAgIG9wZW4gZnVuYyBkYXRhVGFzayh3aXRoIHJlcXVlc3Q6IFVSTFJlcXVlc3QpIC0+IFVSTFNlc3Npb25EYXRhVGFzayB7fQogICAgb3BlbiBmdW5jIGRhdGFUYXNrKHdpdGggcmVxdWVzdDogVVJMUmVxdWVzdCwgY29tcGxldGlvbkhhbmRsZXI6IEBlc2NhcGluZyAoRGF0YT8sIFVSTFJlc3BvbnNlPywgRXJyb3I/KSAtPiBWb2lkKSAtPiBVUkxTZXNzaW9uRGF0YVRhc2sge30KICAgIG9wZW4gZnVuYyBkb3dubG9hZFRhc2sod2l0aCByZXF1ZXN0OiBVUkxSZXF1ZXN0KSAtPiBVUkxTZXNzaW9uRG93bmxvYWRUYXNrIHt9CiAgICBvcGVuIGZ1bmMgZG93bmxvYWRUYXNrKHdpdGggcmVxdWVzdDogVVJMUmVxdWVzdCwgY29tcGxldGlvbkhhbmRsZXI6IEBlc2NhcGluZyAoVVJMPywgVVJMUmVzcG9uc2U/LCBFcnJvcj8pIC0+IFZvaWQpIC0+IFVSTFNlc3Npb25Eb3dubG9hZFRhc2sge30KICAgIG9wZW4gZnVuYyBkb3dubG9hZFRhc2sod2l0aFJlc3VtZURhdGEgcmVzdW1lRGF0YTogRGF0YSkgLT4gVVJMU2Vzc2lvbkRvd25sb2FkVGFzayB7fQogICAgb3BlbiBmdW5jIGRvd25sb2FkVGFzayh3aXRoUmVzdW1lRGF0YSByZXN1bWVEYXRhOiBEYXRhLCBjb21wbGV0aW9uSGFuZGxlcjogQGVzY2FwaW5nIChVUkw/LCBVUkxSZXNwb25zZT8sIEVycm9yPykgLT4gVm9pZCkgLT4gVVJMU2Vzc2lvbkRvd25sb2FkVGFzayB7fQogICAgb3BlbiBmdW5jIGZpbmlzaFRhc2tzQW5kSW52YWxpZGF0ZSgpIHt9CiAgICBvcGVuIGZ1bmMgZmx1c2goY29tcGxldGlvbkhhbmRsZXI6IEBlc2NhcGluZyAoKSAtPiBWb2lkKSB7fQogICAgb3BlbiBmdW5jIGdldEFsbFRhc2tzKGNvbXBsZXRpb25IYW5kbGVyOiBAZXNjYXBpbmcgKFtVUkxTZXNzaW9uVGFza10pIC0+IFZvaWQpIHt9CiAgICBvcGVuIGZ1bmMgZ2V0VGFza3NXaXRoQ29tcGxldGlvbkhhbmRsZXIoY29tcGxldGlvbkhhbmRsZXI6IEBlc2NhcGluZyAoW1VSTFNlc3Npb25EYXRhVGFza10sIFtVUkxTZXNzaW9uVXBsb2FkVGFza10sIFtVUkxTZXNzaW9uRG93bmxvYWRUYXNrXSkgLT4gVm9pZCkge30KICAgIG9wZW4gZnVuYyBpbnZhbGlkYXRlQW5kQ2FuY2VsKCkge30KICAgIG9wZW4gZnVuYyByZXNldChjb21wbGV0aW9uSGFuZGxlcjogQGVzY2FwaW5nICgpIC0+IFZvaWQpIHt9CiAgICBvcGVuIGZ1bmMgc3RyZWFtVGFzayh3aXRoSG9zdE5hbWUgaG9zdG5hbWU6IFN0cmluZywgcG9ydDogSW50KSAtPiBVUkxTZXNzaW9uU3RyZWFtVGFzayB7fQogICAgb3BlbiBmdW5jIHVwbG9hZFRhc2sod2l0aCByZXF1ZXN0OiBVUkxSZXF1ZXN0LCBmcm9tIGJvZHlEYXRhOiBEYXRhKSAtPiBVUkxTZXNzaW9uVXBsb2FkVGFzayB7fQogICAgb3BlbiBmdW5jIHVwbG9hZFRhc2sod2l0aCByZXF1ZXN0OiBVUkxSZXF1ZXN0LCBmcm9tIGJvZHlEYXRhOiBEYXRhPywgY29tcGxldGlvbkhhbmRsZXI6IEBlc2NhcGluZyAoRGF0YT8sIFVSTFJlc3BvbnNlPywgRXJyb3I/KSAtPiBWb2lkKSAtPiBVUkxTZXNzaW9uVXBsb2FkVGFzayB7fQogICAgb3BlbiBmdW5jIHVwbG9hZFRhc2sod2l0aCByZXF1ZXN0OiBVUkxSZXF1ZXN0LCBmcm9tRmlsZSBmaWxlVVJMOiBVUkwpIC0+IFVSTFNlc3Npb25VcGxvYWRUYXNrIHt9CiAgICBvcGVuIGZ1bmMgdXBsb2FkVGFzayh3aXRoIHJlcXVlc3Q6IFVSTFJlcXVlc3QsIGZyb21GaWxlIGZpbGVVUkw6IFVSTCwgY29tcGxldGlvbkhhbmRsZXI6IEBlc2NhcGluZyAoRGF0YT8sIFVSTFJlc3BvbnNlPywgRXJyb3I/KSAtPiBWb2lkKSAtPiBVUkxTZXNzaW9uVXBsb2FkVGFzayB7fQogICAgb3BlbiBmdW5jIHVwbG9hZFRhc2sod2l0aFN0cmVhbWVkUmVxdWVzdCByZXF1ZXN0OiBVUkxSZXF1ZXN0KSAtPiBVUkxTZXNzaW9uVXBsb2FkVGFzayB7fQp9Cm9wZW4gY2xhc3MgVVJMU2Vzc2lvbkNvbmZpZ3VyYXRpb24gOiBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNDb3B5aW5nLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCwgXyB7CiAgICBvcGVuIGNsYXNzIHZhciBkZWZhdWx0OiBVUkxTZXNzaW9uQ29uZmlndXJhdGlvbiB7IGdldCB9CiAgICBvcGVuIGNsYXNzIHZhciBlcGhlbWVyYWw6IFVSTFNlc3Npb25Db25maWd1cmF0aW9uIHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgZnVuYyBiYWNrZ3JvdW5kKHdpdGhJZGVudGlmaWVyIGlkZW50aWZpZXI6IFN0cmluZykgLT4gVVJMU2Vzc2lvbkNvbmZpZ3VyYXRpb24ge30KICAgIG9wZW4gdmFyIGFsbG93c0NlbGx1bGFyQWNjZXNzOiBCb29sIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBjb25uZWN0aW9uUHJveHlEaWN0aW9uYXJ5OiBbQW55SGFzaGFibGU6IEFueV0/IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBodHRwQWRkaXRpb25hbEhlYWRlcnM6IFtBbnlIYXNoYWJsZTogQW55XT8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGh0dHBDb29raWVBY2NlcHRQb2xpY3k6IEhUVFBDb29raWUuQWNjZXB0UG9saWN5IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBodHRwQ29va2llU3RvcmFnZTogSFRUUENvb2tpZVN0b3JhZ2U/IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBodHRwTWF4aW11bUNvbm5lY3Rpb25zUGVySG9zdDogSW50IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBodHRwU2hvdWxkU2V0Q29va2llczogQm9vbCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgaHR0cFNob3VsZFVzZVBpcGVsaW5pbmc6IEJvb2wgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGlkZW50aWZpZXI6IFN0cmluZz8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGlzRGlzY3JldGlvbmFyeTogQm9vbCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgbmV0d29ya1NlcnZpY2VUeXBlOiBVUkxSZXF1ZXN0Lk5ldHdvcmtTZXJ2aWNlVHlwZSB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgcHJvdG9jb2xDbGFzc2VzOiBbQW55Q2xhc3NdPyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgcmVxdWVzdENhY2hlUG9saWN5OiBVUkxSZXF1ZXN0LkNhY2hlUG9saWN5IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBzaGFyZWRDb250YWluZXJJZGVudGlmaWVyOiBTdHJpbmc/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHNob3VsZFVzZUV4dGVuZGVkQmFja2dyb3VuZElkbGVNb2RlOiBCb29sIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciB0aW1lb3V0SW50ZXJ2YWxGb3JSZXF1ZXN0OiBUaW1lSW50ZXJ2YWwgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHRpbWVvdXRJbnRlcnZhbEZvclJlc291cmNlOiBUaW1lSW50ZXJ2YWwgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHVybENhY2hlOiBVUkxDYWNoZT8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHVybENyZWRlbnRpYWxTdG9yYWdlOiBVUkxDcmVkZW50aWFsU3RvcmFnZT8geyBnZXQgc2V0IH0KfQpvcGVuIGNsYXNzIFVSTFNlc3Npb25EYXRhVGFzayA6IE5TQ29weWluZywgTlNPYmplY3QsIFByb2dyZXNzUmVwb3J0aW5nLCBVUkxTZXNzaW9uVGFzayB7Cn0Kb3BlbiBjbGFzcyBVUkxTZXNzaW9uRG93bmxvYWRUYXNrIDogTlNDb3B5aW5nLCBOU09iamVjdCwgUHJvZ3Jlc3NSZXBvcnRpbmcsIFVSTFNlc3Npb25UYXNrIHsKICAgIG9wZW4gZnVuYyBjYW5jZWwoYnlQcm9kdWNpbmdSZXN1bWVEYXRhIGNvbXBsZXRpb25IYW5kbGVyOiBAZXNjYXBpbmcgKERhdGE/KSAtPiBWb2lkKSB7fQp9Cm9wZW4gY2xhc3MgVVJMU2Vzc2lvblN0cmVhbVRhc2sgOiBOU0NvcHlpbmcsIE5TT2JqZWN0LCBQcm9ncmVzc1JlcG9ydGluZywgVVJMU2Vzc2lvblRhc2sgewogICAgb3BlbiBmdW5jIGNhcHR1cmVTdHJlYW1zKCkge30KICAgIG9wZW4gZnVuYyBjbG9zZVJlYWQoKSB7fQogICAgb3BlbiBmdW5jIGNsb3NlV3JpdGUoKSB7fQogICAgb3BlbiBmdW5jIHJlYWREYXRhKG9mTWluTGVuZ3RoIG1pbkJ5dGVzOiBJbnQsIG1heExlbmd0aCBtYXhCeXRlczogSW50LCB0aW1lb3V0OiBUaW1lSW50ZXJ2YWwsIGNvbXBsZXRpb25IYW5kbGVyOiBAZXNjYXBpbmcgKERhdGE/LCBCb29sLCBFcnJvcj8pIC0+IFZvaWQpIHt9CiAgICBvcGVuIGZ1bmMgc3RhcnRTZWN1cmVDb25uZWN0aW9uKCkge30KICAgIG9wZW4gZnVuYyBzdG9wU2VjdXJlQ29ubmVjdGlvbigpIHt9CiAgICBvcGVuIGZ1bmMgd3JpdGUoXyBkYXRhOiBEYXRhLCB0aW1lb3V0OiBUaW1lSW50ZXJ2YWwsIGNvbXBsZXRpb25IYW5kbGVyOiBAZXNjYXBpbmcgKEVycm9yPykgLT4gVm9pZCkge30KfQpvcGVuIGNsYXNzIFVSTFNlc3Npb25UYXNrIDogQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TQ29weWluZywgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wsIFByb2dyZXNzUmVwb3J0aW5nLCBfIHsKICAgIHB1YmxpYyBzdGF0aWMgdmFyIGRlZmF1bHRQcmlvcml0eTogRmxvYXQgeyBnZXQgfQogICAgcHVibGljIHN0YXRpYyB2YXIgaGlnaFByaW9yaXR5OiBGbG9hdCB7IGdldCB9CiAgICBwdWJsaWMgc3RhdGljIHZhciBsb3dQcmlvcml0eTogRmxvYXQgeyBnZXQgfQogICAgcHVibGljIHZhciBjb3VudE9mQnl0ZXNDbGllbnRFeHBlY3RzVG9SZWNlaXZlOiBJbnQ2NCB7IGdldCB9CiAgICBwdWJsaWMgdmFyIGNvdW50T2ZCeXRlc0NsaWVudEV4cGVjdHNUb1NlbmQ6IEludDY0IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGNvdW50T2ZCeXRlc0V4cGVjdGVkVG9SZWNlaXZlOiBJbnQ2NCB7IGdldCB9CiAgICBvcGVuIHZhciBjb3VudE9mQnl0ZXNFeHBlY3RlZFRvU2VuZDogSW50NjQgeyBnZXQgfQogICAgb3BlbiB2YXIgY291bnRPZkJ5dGVzUmVjZWl2ZWQ6IEludDY0IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGNvdW50T2ZCeXRlc1NlbnQ6IEludDY0IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGN1cnJlbnRSZXF1ZXN0OiBVUkxSZXF1ZXN0PyB7IGdldCB9CiAgICBwdWJsaWMgdmFyIGVhcmxpZXN0QmVnaW5EYXRlOiBEYXRlPyB7IGdldCB9CiAgICBvcGVuIHZhciBlcnJvcjogRXJyb3I/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIG9yaWdpbmFsUmVxdWVzdDogVVJMUmVxdWVzdD8geyBnZXQgfQogICAgb3BlbiB2YXIgcHJpb3JpdHk6IEZsb2F0IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciByZXNwb25zZTogVVJMUmVzcG9uc2U/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHN0YXRlOiBVUkxTZXNzaW9uVGFzay5TdGF0ZSB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgdGFza0Rlc2NyaXB0aW9uOiBTdHJpbmc/IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciB0YXNrSWRlbnRpZmllcjogSW50IHsgZ2V0IH0KICAgIG9wZW4gZnVuYyBjYW5jZWwoKSB7fQogICAgb3BlbiBmdW5jIHJlc3VtZSgpIHt9CiAgICBvcGVuIGZ1bmMgc3VzcGVuZCgpIHt9Cn0Kb3BlbiBjbGFzcyBVUkxTZXNzaW9uVXBsb2FkVGFzayA6IE5TQ29weWluZywgTlNPYmplY3QsIFByb2dyZXNzUmVwb3J0aW5nLCBVUkxTZXNzaW9uRGF0YVRhc2ssIFVSTFNlc3Npb25UYXNrIHsKfQpvcGVuIGNsYXNzIFVuaXQgOiBOU0NvcHlpbmcsIE5TT2JqZWN0LCBOU1NlY3VyZUNvZGluZyB7CiAgICBwdWJsaWMgc3RhdGljIHZhciBzdXBwb3J0c1NlY3VyZUNvZGluZzogQm9vbCB7IGdldCB9CiAgICBwdWJsaWMgcmVxdWlyZWQgaW5pdD8oY29kZXIgYURlY29kZXI6IE5TQ29kZXIpIHt9CiAgICBwdWJsaWMgcmVxdWlyZWQgaW5pdChzeW1ib2w6IFN0cmluZykge30KICAgIG9wZW4gdmFyIHN5bWJvbDogU3RyaW5nIHsgZ2V0IH0KICAgIG9wZW4gZnVuYyBjb3B5KHdpdGggem9uZTogTlNab25lPykgLT4gQW55IHt9CiAgICBvcGVuIGZ1bmMgZW5jb2RlKHdpdGggYUNvZGVyOiBOU0NvZGVyKSB7fQogICAgb3BlbiBmdW5jIGlzRXF1YWwoXyBvYmplY3Q6IEFueT8pIC0+IEJvb2wge30KfQpvcGVuIGNsYXNzIFVuaXRDb252ZXJ0ZXIgOiBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNPYmplY3QsIE5TT2JqZWN0UHJvdG9jb2wsIF8gewogICAgb3BlbiBmdW5jIGJhc2VVbml0VmFsdWUoZnJvbVZhbHVlIHZhbHVlOiBEb3VibGUpIC0+IERvdWJsZSB7fQogICAgb3BlbiBmdW5jIHZhbHVlKGZyb21CYXNlVW5pdFZhbHVlIGJhc2VVbml0VmFsdWU6IERvdWJsZSkgLT4gRG91YmxlIHt9Cn0Kb3BlbiBjbGFzcyBVbml0Q29udmVydGVyTGluZWFyIDogTlNDb2RpbmcsIE5TT2JqZWN0LCBOU1NlY3VyZUNvZGluZywgVW5pdENvbnZlcnRlciB7CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdChjb2VmZmljaWVudDogRG91YmxlKSB7fQogICAgcHVibGljIGluaXQoY29lZmZpY2llbnQ6IERvdWJsZSwgY29uc3RhbnQ6IERvdWJsZSkge30KICAgIG9wZW4gdmFyIGNvZWZmaWNpZW50OiBEb3VibGUgeyBnZXQgfQogICAgb3BlbiB2YXIgY29uc3RhbnQ6IERvdWJsZSB7IGdldCB9CiAgICBvcGVuIGZ1bmMgaXNFcXVhbChfIG9iamVjdDogQW55PykgLT4gQm9vbCB7fQp9Cm9wZW4gY2xhc3MgVXNlckRlZmF1bHRzIDogQ3VzdG9tRGVidWdTdHJpbmdDb252ZXJ0aWJsZSwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBfIHsKICAgIHB1YmxpYyBzdGF0aWMgdmFyIGFyZ3VtZW50RG9tYWluOiBTdHJpbmcgeyBnZXQgfQogICAgcHVibGljIHN0YXRpYyB2YXIgZGlkQ2hhbmdlTm90aWZpY2F0aW9uIHsgZ2V0IH0KICAgIHB1YmxpYyBzdGF0aWMgdmFyIGdsb2JhbERvbWFpbjogU3RyaW5nIHsgZ2V0IH0KICAgIHB1YmxpYyBzdGF0aWMgdmFyIHJlZ2lzdHJhdGlvbkRvbWFpbjogU3RyaW5nIHsgZ2V0IH0KICAgIG9wZW4gY2xhc3MgdmFyIHN0YW5kYXJkOiBVc2VyRGVmYXVsdHMgeyBnZXQgfQogICAgb3BlbiBjbGFzcyBmdW5jIHJlc2V0U3RhbmRhcmRVc2VyRGVmYXVsdHMoKSB7fQogICAgcHVibGljIGluaXQ/KHN1aXRlTmFtZSBzdWl0ZW5hbWU6IFN0cmluZz8pIHt9CiAgICBvcGVuIHZhciB2b2xhdGlsZURvbWFpbk5hbWVzOiBbU3RyaW5nXSB7IGdldCB9CiAgICBvcGVuIGZ1bmMgYWRkU3VpdGUobmFtZWQgc3VpdGVOYW1lOiBTdHJpbmcpIHt9CiAgICBvcGVuIGZ1bmMgYXJyYXkoZm9yS2V5IGRlZmF1bHROYW1lOiBTdHJpbmcpIC0+IFtBbnldPyB7fQogICAgb3BlbiBmdW5jIGJvb2woZm9yS2V5IGRlZmF1bHROYW1lOiBTdHJpbmcpIC0+IEJvb2wge30KICAgIG9wZW4gZnVuYyBkYXRhKGZvcktleSBkZWZhdWx0TmFtZTogU3RyaW5nKSAtPiBEYXRhPyB7fQogICAgb3BlbiBmdW5jIGRpY3Rpb25hcnkoZm9yS2V5IGRlZmF1bHROYW1lOiBTdHJpbmcpIC0+IFtTdHJpbmc6IEFueV0/IHt9CiAgICBvcGVuIGZ1bmMgZGljdGlvbmFyeVJlcHJlc2VudGF0aW9uKCkgLT4gW1N0cmluZzogQW55XSB7fQogICAgb3BlbiBmdW5jIGRvdWJsZShmb3JLZXkgZGVmYXVsdE5hbWU6IFN0cmluZykgLT4gRG91YmxlIHt9CiAgICBvcGVuIGZ1bmMgZmxvYXQoZm9yS2V5IGRlZmF1bHROYW1lOiBTdHJpbmcpIC0+IEZsb2F0IHt9CiAgICBvcGVuIGZ1bmMgaW50ZWdlcihmb3JLZXkgZGVmYXVsdE5hbWU6IFN0cmluZykgLT4gSW50IHt9CiAgICBvcGVuIGZ1bmMgb2JqZWN0KGZvcktleSBkZWZhdWx0TmFtZTogU3RyaW5nKSAtPiBBbnk/IHt9CiAgICBvcGVuIGZ1bmMgb2JqZWN0SXNGb3JjZWQoZm9yS2V5IGtleTogU3RyaW5nKSAtPiBCb29sIHt9CiAgICBvcGVuIGZ1bmMgb2JqZWN0SXNGb3JjZWQoZm9yS2V5IGtleTogU3RyaW5nLCBpbkRvbWFpbiBkb21haW46IFN0cmluZykgLT4gQm9vbCB7fQogICAgb3BlbiBmdW5jIHBlcnNpc3RlbnREb21haW4oZm9yTmFtZSBkb21haW5OYW1lOiBTdHJpbmcpIC0+IFtTdHJpbmc6IEFueV0/IHt9CiAgICBvcGVuIGZ1bmMgcmVnaXN0ZXIoZGVmYXVsdHMgcmVnaXN0cmF0aW9uRGljdGlvbmFyeTogW1N0cmluZzogQW55XSkge30KICAgIG9wZW4gZnVuYyByZW1vdmVPYmplY3QoZm9yS2V5IGRlZmF1bHROYW1lOiBTdHJpbmcpIHt9CiAgICBvcGVuIGZ1bmMgcmVtb3ZlUGVyc2lzdGVudERvbWFpbihmb3JOYW1lIGRvbWFpbk5hbWU6IFN0cmluZykge30KICAgIG9wZW4gZnVuYyByZW1vdmVTdWl0ZShuYW1lZCBzdWl0ZU5hbWU6IFN0cmluZykge30KICAgIG9wZW4gZnVuYyByZW1vdmVWb2xhdGlsZURvbWFpbihmb3JOYW1lIGRvbWFpbk5hbWU6IFN0cmluZykge30KICAgIG9wZW4gZnVuYyBzZXQoXyB1cmw6IFVSTD8sIGZvcktleSBkZWZhdWx0TmFtZTogU3RyaW5nKSB7fQogICAgb3BlbiBmdW5jIHNldFBlcnNpc3RlbnREb21haW4oXyBkb21haW46IFtTdHJpbmc6IEFueV0sIGZvck5hbWUgZG9tYWluTmFtZTogU3RyaW5nKSB7fQogICAgb3BlbiBmdW5jIHNldFZvbGF0aWxlRG9tYWluKF8gZG9tYWluOiBbU3RyaW5nOiBBbnldLCBmb3JOYW1lIGRvbWFpbk5hbWU6IFN0cmluZykge30KICAgIG9wZW4gZnVuYyBzdHJpbmcoZm9yS2V5IGRlZmF1bHROYW1lOiBTdHJpbmcpIC0+IFN0cmluZz8ge30KICAgIG9wZW4gZnVuYyBzdHJpbmdBcnJheShmb3JLZXkgZGVmYXVsdE5hbWU6IFN0cmluZykgLT4gW1N0cmluZ10/IHt9CiAgICBAZGlzY2FyZGFibGVSZXN1bHQgb3BlbiBmdW5jIHN5bmNocm9uaXplKCkgLT4gQm9vbCB7fQogICAgb3BlbiBmdW5jIHVybChmb3JLZXkgZGVmYXVsdE5hbWU6IFN0cmluZykgLT4gVVJMPyB7fQogICAgb3BlbiBmdW5jIHZvbGF0aWxlRG9tYWluKGZvck5hbWUgZG9tYWluTmFtZTogU3RyaW5nKSAtPiBbU3RyaW5nOiBBbnldIHt9Cn0Kb3BlbiBjbGFzcyBYTUxEVEQgOiBOU0NvcHlpbmcsIE5TT2JqZWN0LCBYTUxOb2RlLCBfTlNYTUxOb2RlQ29sbGVjdGlvblR5cGUgewogICAgb3BlbiBjbGFzcyBmdW5jIHByZWRlZmluZWRFbnRpdHlEZWNsYXJhdGlvbihmb3JOYW1lIG5hbWU6IFN0cmluZykgLT4gWE1MRFRETm9kZT8ge30KICAgIHB1YmxpYyBpbml0KCkge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KGNvbnRlbnRzT2YgdXJsOiBVUkwsIG9wdGlvbnMgbWFzazogWE1MTm9kZS5PcHRpb25zID0geCkgdGhyb3dzIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdChkYXRhOiBEYXRhLCBvcHRpb25zIG1hc2s6IFhNTE5vZGUuT3B0aW9ucyA9IHgpIHRocm93cyB7fQogICAgb3BlbiB2YXIgcHVibGljSUQ6IFN0cmluZz8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHN5c3RlbUlEOiBTdHJpbmc/IHsgZ2V0IHNldCB9CiAgICBvcGVuIGZ1bmMgYWRkQ2hpbGQoXyBjaGlsZDogWE1MTm9kZSkge30KICAgIG9wZW4gZnVuYyBhdHRyaWJ1dGVEZWNsYXJhdGlvbihmb3JOYW1lIG5hbWU6IFN0cmluZywgZWxlbWVudE5hbWU6IFN0cmluZykgLT4gWE1MRFRETm9kZT8ge30KICAgIG9wZW4gZnVuYyBlbGVtZW50RGVjbGFyYXRpb24oZm9yTmFtZSBuYW1lOiBTdHJpbmcpIC0+IFhNTERURE5vZGU/IHt9CiAgICBvcGVuIGZ1bmMgZW50aXR5RGVjbGFyYXRpb24oZm9yTmFtZSBuYW1lOiBTdHJpbmcpIC0+IFhNTERURE5vZGU/IHt9CiAgICBvcGVuIGZ1bmMgaW5zZXJ0Q2hpbGQoXyBjaGlsZDogWE1MTm9kZSwgYXQgaW5kZXg6IEludCkge30KICAgIG9wZW4gZnVuYyBpbnNlcnRDaGlsZHJlbihfIGNoaWxkcmVuOiBbWE1MTm9kZV0sIGF0IGluZGV4OiBJbnQpIHt9CiAgICBvcGVuIGZ1bmMgbm90YXRpb25EZWNsYXJhdGlvbihmb3JOYW1lIG5hbWU6IFN0cmluZykgLT4gWE1MRFRETm9kZT8ge30KICAgIG9wZW4gZnVuYyByZW1vdmVDaGlsZChhdCBpbmRleDogSW50KSB7fQogICAgb3BlbiBmdW5jIHJlcGxhY2VDaGlsZChhdCBpbmRleDogSW50LCB3aXRoIG5vZGU6IFhNTE5vZGUpIHt9CiAgICBvcGVuIGZ1bmMgc2V0Q2hpbGRyZW4oXyBjaGlsZHJlbjogW1hNTE5vZGVdPykge30KfQpvcGVuIGNsYXNzIFhNTERURE5vZGUgOiBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBIYXNoYWJsZSwgTlNDb3B5aW5nLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCwgWE1MTm9kZSwgXywgX05TWE1MTm9kZUNvbGxlY3Rpb25UeXBlIHsKICAgIHB1YmxpYyBpbml0Pyh4bWxTdHJpbmcgc3RyaW5nOiBTdHJpbmcpIHt9CiAgICBvcGVuIHZhciBkdGRLaW5kOiBYTUxEVEROb2RlLkRUREtpbmQgeyBnZXQgfQogICAgb3BlbiB2YXIgaXNFeHRlcm5hbDogQm9vbCB7IGdldCB9CiAgICBvcGVuIHZhciBub3RhdGlvbk5hbWU6IFN0cmluZz8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHB1YmxpY0lEOiBTdHJpbmc/IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBzeXN0ZW1JRDogU3RyaW5nPyB7IGdldCBzZXQgfQp9Cm9wZW4gY2xhc3MgWE1MRG9jdW1lbnQgOiBOU0NvcHlpbmcsIE5TT2JqZWN0LCBYTUxOb2RlLCBfTlNYTUxOb2RlQ29sbGVjdGlvblR5cGUgewogICAgb3BlbiBjbGFzcyBmdW5jIHJlcGxhY2VtZW50Q2xhc3MoZm9yIGNsczogQW55Q2xhc3MpIC0+IEFueUNsYXNzIHt9CiAgICBwdWJsaWMgaW5pdCgpIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdChjb250ZW50c09mIHVybDogVVJMLCBvcHRpb25zIG1hc2s6IFhNTE5vZGUuT3B0aW9ucyA9IHgpIHRocm93cyB7fQogICAgcHVibGljIGluaXQoZGF0YTogRGF0YSwgb3B0aW9ucyBtYXNrOiBYTUxOb2RlLk9wdGlvbnMgPSB4KSB0aHJvd3Mge30KICAgIHB1YmxpYyBpbml0KHJvb3RFbGVtZW50IGVsZW1lbnQ6IFhNTEVsZW1lbnQ/KSB7fQogICAgcHVibGljIGNvbnZlbmllbmNlIGluaXQoeG1sU3RyaW5nIHN0cmluZzogU3RyaW5nLCBvcHRpb25zIG1hc2s6IFhNTE5vZGUuT3B0aW9ucyA9IHgpIHRocm93cyB7fQogICAgb3BlbiB2YXIgY2hhcmFjdGVyRW5jb2Rpbmc6IFN0cmluZz8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGRvY3VtZW50Q29udGVudEtpbmQ6IFhNTERvY3VtZW50LkNvbnRlbnRLaW5kIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBkdGQ6IFhNTERURD8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGlzU3RhbmRhbG9uZTogQm9vbCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgbWltZVR5cGU6IFN0cmluZz8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHZlcnNpb246IFN0cmluZz8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHhtbERhdGE6IERhdGEgeyBnZXQgfQogICAgb3BlbiBmdW5jIGFkZENoaWxkKF8gY2hpbGQ6IFhNTE5vZGUpIHt9CiAgICBvcGVuIGZ1bmMgaW5zZXJ0Q2hpbGQoXyBjaGlsZDogWE1MTm9kZSwgYXQgaW5kZXg6IEludCkge30KICAgIG9wZW4gZnVuYyBpbnNlcnRDaGlsZHJlbihfIGNoaWxkcmVuOiBbWE1MTm9kZV0sIGF0IGluZGV4OiBJbnQpIHt9CiAgICBvcGVuIGZ1bmMgb2JqZWN0KGJ5QXBwbHlpbmdYU0xUIHhzbHQ6IERhdGEsIGFyZ3VtZW50czogW1N0cmluZzogU3RyaW5nXT8pIHRocm93cyAtPiBBbnkge30KICAgIG9wZW4gZnVuYyBvYmplY3QoYnlBcHBseWluZ1hTTFRTdHJpbmcgeHNsdDogU3RyaW5nLCBhcmd1bWVudHM6IFtTdHJpbmc6IFN0cmluZ10/KSB0aHJvd3MgLT4gQW55IHt9CiAgICBvcGVuIGZ1bmMgb2JqZWN0QnlBcHBseWluZ1hTTFQoYXQgeHNsdFVSTDogVVJMLCBhcmd1bWVudHMgYXJndW1lbnQ6IFtTdHJpbmc6IFN0cmluZ10/KSB0aHJvd3MgLT4gQW55IHt9CiAgICBvcGVuIGZ1bmMgcmVtb3ZlQ2hpbGQoYXQgaW5kZXg6IEludCkge30KICAgIG9wZW4gZnVuYyByZXBsYWNlQ2hpbGQoYXQgaW5kZXg6IEludCwgd2l0aCBub2RlOiBYTUxOb2RlKSB7fQogICAgb3BlbiBmdW5jIHJvb3RFbGVtZW50KCkgLT4gWE1MRWxlbWVudD8ge30KICAgIG9wZW4gZnVuYyBzZXRDaGlsZHJlbihfIGNoaWxkcmVuOiBbWE1MTm9kZV0/KSB7fQogICAgb3BlbiBmdW5jIHNldFJvb3RFbGVtZW50KF8gcm9vdDogWE1MRWxlbWVudCkge30KICAgIG9wZW4gZnVuYyB2YWxpZGF0ZSgpIHRocm93cyB7fQogICAgb3BlbiBmdW5jIHhtbERhdGEob3B0aW9uczogWE1MTm9kZS5PcHRpb25zID0geCkgLT4gRGF0YSB7fQp9Cm9wZW4gY2xhc3MgWE1MRWxlbWVudCA6IE5TQ29weWluZywgTlNPYmplY3QsIFhNTE5vZGUsIF9OU1hNTE5vZGVDb2xsZWN0aW9uVHlwZSB7CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdChuYW1lOiBTdHJpbmcpIHt9CiAgICBwdWJsaWMgY29udmVuaWVuY2UgaW5pdChuYW1lOiBTdHJpbmcsIHN0cmluZ1ZhbHVlIHN0cmluZzogU3RyaW5nPykge30KICAgIHB1YmxpYyBpbml0KG5hbWU6IFN0cmluZywgdXJpIFVSSTogU3RyaW5nPykge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KHhtbFN0cmluZyBzdHJpbmc6IFN0cmluZykgdGhyb3dzIHt9CiAgICBvcGVuIHZhciBhdHRyaWJ1dGVzOiBbWE1MTm9kZV0/IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBuYW1lc3BhY2VzOiBbWE1MTm9kZV0/IHsgZ2V0IHNldCB9CiAgICBvcGVuIGZ1bmMgYWRkQXR0cmlidXRlKF8gYXR0cmlidXRlOiBYTUxOb2RlKSB7fQogICAgb3BlbiBmdW5jIGFkZENoaWxkKF8gY2hpbGQ6IFhNTE5vZGUpIHt9CiAgICBvcGVuIGZ1bmMgYWRkTmFtZXNwYWNlKF8gYU5hbWVzcGFjZTogWE1MTm9kZSkge30KICAgIG9wZW4gZnVuYyBhdHRyaWJ1dGUoZm9yTG9jYWxOYW1lIGxvY2FsTmFtZTogU3RyaW5nLCB1cmkgVVJJOiBTdHJpbmc/KSAtPiBYTUxOb2RlPyB7fQogICAgb3BlbiBmdW5jIGF0dHJpYnV0ZShmb3JOYW1lIG5hbWU6IFN0cmluZykgLT4gWE1MTm9kZT8ge30KICAgIG9wZW4gZnVuYyBlbGVtZW50cyhmb3JMb2NhbE5hbWUgbG9jYWxOYW1lOiBTdHJpbmcsIHVyaSBVUkk6IFN0cmluZz8pIC0+IFtYTUxFbGVtZW50XSB7fQogICAgb3BlbiBmdW5jIGVsZW1lbnRzKGZvck5hbWUgbmFtZTogU3RyaW5nKSAtPiBbWE1MRWxlbWVudF0ge30KICAgIG9wZW4gZnVuYyBpbnNlcnRDaGlsZChfIGNoaWxkOiBYTUxOb2RlLCBhdCBpbmRleDogSW50KSB7fQogICAgb3BlbiBmdW5jIGluc2VydENoaWxkcmVuKF8gY2hpbGRyZW46IFtYTUxOb2RlXSwgYXQgaW5kZXg6IEludCkge30KICAgIG9wZW4gZnVuYyBuYW1lc3BhY2UoZm9yUHJlZml4IG5hbWU6IFN0cmluZykgLT4gWE1MTm9kZT8ge30KICAgIG9wZW4gZnVuYyBub3JtYWxpemVBZGphY2VudFRleHROb2Rlc1ByZXNlcnZpbmdDREFUQShfIHByZXNlcnZlOiBCb29sKSB7fQogICAgb3BlbiBmdW5jIHJlbW92ZUF0dHJpYnV0ZShmb3JOYW1lIG5hbWU6IFN0cmluZykge30KICAgIG9wZW4gZnVuYyByZW1vdmVDaGlsZChhdCBpbmRleDogSW50KSB7fQogICAgb3BlbiBmdW5jIHJlbW92ZU5hbWVzcGFjZShmb3JQcmVmaXggbmFtZTogU3RyaW5nKSB7fQogICAgb3BlbiBmdW5jIHJlcGxhY2VDaGlsZChhdCBpbmRleDogSW50LCB3aXRoIG5vZGU6IFhNTE5vZGUpIHt9CiAgICBvcGVuIGZ1bmMgcmVzb2x2ZU5hbWVzcGFjZShmb3JOYW1lIG5hbWU6IFN0cmluZykgLT4gWE1MTm9kZT8ge30KICAgIG9wZW4gZnVuYyByZXNvbHZlUHJlZml4KGZvck5hbWVzcGFjZVVSSSBuYW1lc3BhY2VVUkk6IFN0cmluZykgLT4gU3RyaW5nPyB7fQogICAgb3BlbiBmdW5jIHNldEF0dHJpYnV0ZXNXaXRoKF8gYXR0cmlidXRlczogW1N0cmluZzogU3RyaW5nXSkge30KICAgIG9wZW4gZnVuYyBzZXRDaGlsZHJlbihfIGNoaWxkcmVuOiBbWE1MTm9kZV0/KSB7fQp9Cm9wZW4gY2xhc3MgWE1MTm9kZSA6IEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU0NvcHlpbmcsIE5TT2JqZWN0LCBOU09iamVjdFByb3RvY29sLCBfLCBfTlNYTUxOb2RlQ29sbGVjdGlvblR5cGUgewogICAgb3BlbiBjbGFzcyBmdW5jIGF0dHJpYnV0ZSh3aXRoTmFtZSBuYW1lOiBTdHJpbmcsIHN0cmluZ1ZhbHVlOiBTdHJpbmcpIC0+IEFueSB7fQogICAgb3BlbiBjbGFzcyBmdW5jIGF0dHJpYnV0ZSh3aXRoTmFtZSBuYW1lOiBTdHJpbmcsIHVyaTogU3RyaW5nLCBzdHJpbmdWYWx1ZTogU3RyaW5nKSAtPiBBbnkge30KICAgIG9wZW4gY2xhc3MgZnVuYyBjb21tZW50KHdpdGhTdHJpbmdWYWx1ZSBzdHJpbmdWYWx1ZTogU3RyaW5nKSAtPiBBbnkge30KICAgIG9wZW4gY2xhc3MgZnVuYyBkb2N1bWVudCgpIC0+IEFueSB7fQogICAgb3BlbiBjbGFzcyBmdW5jIGRvY3VtZW50KHdpdGhSb290RWxlbWVudCBlbGVtZW50OiBYTUxFbGVtZW50KSAtPiBBbnkge30KICAgIG9wZW4gY2xhc3MgZnVuYyBkdGROb2RlKHdpdGhYTUxTdHJpbmcgc3RyaW5nOiBTdHJpbmcpIC0+IEFueT8ge30KICAgIG9wZW4gY2xhc3MgZnVuYyBlbGVtZW50KHdpdGhOYW1lIG5hbWU6IFN0cmluZykgLT4gQW55IHt9CiAgICBvcGVuIGNsYXNzIGZ1bmMgZWxlbWVudCh3aXRoTmFtZSBuYW1lOiBTdHJpbmcsIGNoaWxkcmVuOiBbWE1MTm9kZV0/LCBhdHRyaWJ1dGVzOiBbWE1MTm9kZV0/KSAtPiBBbnkge30KICAgIG9wZW4gY2xhc3MgZnVuYyBlbGVtZW50KHdpdGhOYW1lIG5hbWU6IFN0cmluZywgc3RyaW5nVmFsdWUgc3RyaW5nOiBTdHJpbmcpIC0+IEFueSB7fQogICAgb3BlbiBjbGFzcyBmdW5jIGVsZW1lbnQod2l0aE5hbWUgbmFtZTogU3RyaW5nLCB1cmk6IFN0cmluZykgLT4gQW55IHt9CiAgICBvcGVuIGNsYXNzIGZ1bmMgbG9jYWxOYW1lKGZvck5hbWUgbmFtZTogU3RyaW5nKSAtPiBTdHJpbmcge30KICAgIG9wZW4gY2xhc3MgZnVuYyBuYW1lc3BhY2Uod2l0aE5hbWUgbmFtZTogU3RyaW5nLCBzdHJpbmdWYWx1ZTogU3RyaW5nKSAtPiBBbnkge30KICAgIG9wZW4gY2xhc3MgZnVuYyBwcmVkZWZpbmVkTmFtZXNwYWNlKGZvclByZWZpeCBuYW1lOiBTdHJpbmcpIC0+IFhNTE5vZGU/IHt9CiAgICBvcGVuIGNsYXNzIGZ1bmMgcHJlZml4KGZvck5hbWUgbmFtZTogU3RyaW5nKSAtPiBTdHJpbmc/IHt9CiAgICBwdWJsaWMgY2xhc3MgZnVuYyBwcm9jZXNzaW5nSW5zdHJ1Y3Rpb24od2l0aE5hbWUgbmFtZTogU3RyaW5nLCBzdHJpbmdWYWx1ZTogU3RyaW5nKSAtPiBBbnkge30KICAgIG9wZW4gY2xhc3MgZnVuYyB0ZXh0KHdpdGhTdHJpbmdWYWx1ZSBzdHJpbmdWYWx1ZTogU3RyaW5nKSAtPiBBbnkge30KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0KGtpbmQ6IFhNTE5vZGUuS2luZCkge30KICAgIHB1YmxpYyBpbml0KGtpbmQ6IFhNTE5vZGUuS2luZCwgb3B0aW9uczogWE1MTm9kZS5PcHRpb25zID0geCkge30KICAgIG9wZW4gdmFyIGNoaWxkQ291bnQ6IEludCB7IGdldCB9CiAgICBvcGVuIHZhciBjaGlsZHJlbjogW1hNTE5vZGVdPyB7IGdldCB9CiAgICBwdWJsaWMgdmFyIGVuZEluZGV4OiBJbmRleCB7IGdldCB9CiAgICBvcGVuIHZhciBpbmRleDogSW50IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGtpbmQ6IFhNTE5vZGUuS2luZCB7IGdldCB9CiAgICBvcGVuIHZhciBsZXZlbDogSW50IHsgZ2V0IH0KICAgIG9wZW4gdmFyIGxvY2FsTmFtZTogU3RyaW5nPyB7IGdldCB9CiAgICBvcGVuIHZhciBuYW1lOiBTdHJpbmc/IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBuZXh0OiBYTUxOb2RlPyB7IGdldCB9CiAgICBvcGVuIHZhciBuZXh0U2libGluZzogWE1MTm9kZT8geyBnZXQgfQogICAgb3BlbiB2YXIgb2JqZWN0VmFsdWU6IEFueT8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHBhcmVudDogWE1MTm9kZT8geyBnZXQgfQogICAgb3BlbiB2YXIgcHJlZml4OiBTdHJpbmc/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHByZXZpb3VzOiBYTUxOb2RlPyB7IGdldCB9CiAgICBvcGVuIHZhciBwcmV2aW91c1NpYmxpbmc6IFhNTE5vZGU/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHJvb3REb2N1bWVudDogWE1MRG9jdW1lbnQ/IHsgZ2V0IH0KICAgIHB1YmxpYyB2YXIgc3RhcnRJbmRleDogSW5kZXggeyBnZXQgfQogICAgb3BlbiB2YXIgc3RyaW5nVmFsdWU6IFN0cmluZz8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHVyaTogU3RyaW5nPyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgeFBhdGg6IFN0cmluZz8geyBnZXQgfQogICAgb3BlbiB2YXIgeG1sU3RyaW5nOiBTdHJpbmcgeyBnZXQgfQogICAgcHVibGljIHN1YnNjcmlwdChpbmRleDogSW5kZXgpIC0+IFhNTE5vZGUgeyBnZXQgfSB7fQogICAgb3BlbiBmdW5jIGNhbm9uaWNhbFhNTFN0cmluZ1ByZXNlcnZpbmdDb21tZW50cyhfIGNvbW1lbnRzOiBCb29sKSAtPiBTdHJpbmcge30KICAgIG9wZW4gZnVuYyBjaGlsZChhdCBpbmRleDogSW50KSAtPiBYTUxOb2RlPyB7fQogICAgb3BlbiBmdW5jIGRldGFjaCgpIHt9CiAgICBwdWJsaWMgZnVuYyBpbmRleChhZnRlciBpOiBJbmRleCkgLT4gSW5kZXgge30KICAgIG9wZW4gZnVuYyBub2Rlcyhmb3JYUGF0aCB4cGF0aDogU3RyaW5nKSB0aHJvd3MgLT4gW1hNTE5vZGVdIHt9CiAgICBvcGVuIGZ1bmMgb2JqZWN0cyhmb3JYUXVlcnkgeHF1ZXJ5OiBTdHJpbmcpIHRocm93cyAtPiBbQW55XSB7fQogICAgb3BlbiBmdW5jIG9iamVjdHMoZm9yWFF1ZXJ5IHhxdWVyeTogU3RyaW5nLCBjb25zdGFudHM6IFtTdHJpbmc6IEFueV0/KSB0aHJvd3MgLT4gW0FueV0ge30KICAgIG9wZW4gZnVuYyBzZXRTdHJpbmdWYWx1ZShfIHN0cmluZzogU3RyaW5nLCByZXNvbHZpbmdFbnRpdGllcyByZXNvbHZlOiBCb29sKSB7fQogICAgb3BlbiBmdW5jIHhtbFN0cmluZyhvcHRpb25zOiBPcHRpb25zKSAtPiBTdHJpbmcge30KfQpvcGVuIGNsYXNzIFhNTFBhcnNlciA6IEN1c3RvbURlYnVnU3RyaW5nQ29udmVydGlibGUsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEhhc2hhYmxlLCBOU09iamVjdCwgTlNPYmplY3RQcm90b2NvbCwgXyB7CiAgICBwdWJsaWMgc3RhdGljIHZhciBlcnJvckRvbWFpbjogU3RyaW5nIHsgZ2V0IH0KICAgIHB1YmxpYyBjb252ZW5pZW5jZSBpbml0Pyhjb250ZW50c09mIHVybDogVVJMKSB7fQogICAgcHVibGljIGluaXQoZGF0YTogRGF0YSkge30KICAgIHB1YmxpYyBpbml0KHN0cmVhbTogSW5wdXRTdHJlYW0pIHt9CiAgICBvcGVuIHZhciBhbGxvd2VkRXh0ZXJuYWxFbnRpdHlVUkxzOiBTZXQ8VVJMPj8geyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIGNvbHVtbk51bWJlcjogSW50IHsgZ2V0IH0KICAgIG9wZW4gd2VhayB2YXIgZGVsZWdhdGU6IFhNTFBhcnNlckRlbGVnYXRlPyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgZXh0ZXJuYWxFbnRpdHlSZXNvbHZpbmdQb2xpY3k6IEV4dGVybmFsRW50aXR5UmVzb2x2aW5nUG9saWN5IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBsaW5lTnVtYmVyOiBJbnQgeyBnZXQgfQogICAgb3BlbiB2YXIgcGFyc2VyRXJyb3I6IEVycm9yPyB7IGdldCB9CiAgICBvcGVuIHZhciBwdWJsaWNJRDogU3RyaW5nPyB7IGdldCB9CiAgICBvcGVuIHZhciBzaG91bGRQcm9jZXNzTmFtZXNwYWNlczogQm9vbCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgc2hvdWxkUmVwb3J0TmFtZXNwYWNlUHJlZml4ZXM6IEJvb2wgeyBnZXQgc2V0IH0KICAgIG9wZW4gdmFyIHNob3VsZFJlc29sdmVFeHRlcm5hbEVudGl0aWVzOiBCb29sIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBzeXN0ZW1JRDogU3RyaW5nPyB7IGdldCB9CiAgICBvcGVuIGZ1bmMgYWJvcnRQYXJzaW5nKCkge30KICAgIG9wZW4gZnVuYyBwYXJzZSgpIC0+IEJvb2wge30KfQpwdWJsaWMgcHJvdG9jb2wgQ3VzdG9tTlNFcnJvciA6IEVycm9yIHsKICAgIHN0YXRpYyB2YXIgZXJyb3JEb21haW46IFN0cmluZyB7IGdldCB9CiAgICB2YXIgZXJyb3JDb2RlOiBJbnQgeyBnZXQgfQogICAgdmFyIGVycm9yVXNlckluZm86IFtTdHJpbmc6IEFueV0geyBnZXQgfQp9CnB1YmxpYyBwcm90b2NvbCBGaWxlTWFuYWdlckRlbGVnYXRlIDogTlNPYmplY3RQcm90b2NvbCwgXyB7CiAgICBmdW5jIGZpbGVNYW5hZ2VyKF8gZmlsZU1hbmFnZXI6IEZpbGVNYW5hZ2VyLCBzaG91bGRDb3B5SXRlbUF0IHNyY1VSTDogVVJMLCB0byBkc3RVUkw6IFVSTCkgLT4gQm9vbAogICAgZnVuYyBmaWxlTWFuYWdlcihfIGZpbGVNYW5hZ2VyOiBGaWxlTWFuYWdlciwgc2hvdWxkQ29weUl0ZW1BdFBhdGggc3JjUGF0aDogU3RyaW5nLCB0b1BhdGggZHN0UGF0aDogU3RyaW5nKSAtPiBCb29sCiAgICBmdW5jIGZpbGVNYW5hZ2VyKF8gZmlsZU1hbmFnZXI6IEZpbGVNYW5hZ2VyLCBzaG91bGRMaW5rSXRlbUF0IHNyY1VSTDogVVJMLCB0byBkc3RVUkw6IFVSTCkgLT4gQm9vbAogICAgZnVuYyBmaWxlTWFuYWdlcihfIGZpbGVNYW5hZ2VyOiBGaWxlTWFuYWdlciwgc2hvdWxkTGlua0l0ZW1BdFBhdGggc3JjUGF0aDogU3RyaW5nLCB0b1BhdGggZHN0UGF0aDogU3RyaW5nKSAtPiBCb29sCiAgICBmdW5jIGZpbGVNYW5hZ2VyKF8gZmlsZU1hbmFnZXI6IEZpbGVNYW5hZ2VyLCBzaG91bGRNb3ZlSXRlbUF0IHNyY1VSTDogVVJMLCB0byBkc3RVUkw6IFVSTCkgLT4gQm9vbAogICAgZnVuYyBmaWxlTWFuYWdlcihfIGZpbGVNYW5hZ2VyOiBGaWxlTWFuYWdlciwgc2hvdWxkTW92ZUl0ZW1BdFBhdGggc3JjUGF0aDogU3RyaW5nLCB0b1BhdGggZHN0UGF0aDogU3RyaW5nKSAtPiBCb29sCiAgICBmdW5jIGZpbGVNYW5hZ2VyKF8gZmlsZU1hbmFnZXI6IEZpbGVNYW5hZ2VyLCBzaG91bGRQcm9jZWVkQWZ0ZXJFcnJvciBlcnJvcjogRXJyb3IsIGNvcHlpbmdJdGVtQXQgc3JjVVJMOiBVUkwsIHRvIGRzdFVSTDogVVJMKSAtPiBCb29sCiAgICBmdW5jIGZpbGVNYW5hZ2VyKF8gZmlsZU1hbmFnZXI6IEZpbGVNYW5hZ2VyLCBzaG91bGRQcm9jZWVkQWZ0ZXJFcnJvciBlcnJvcjogRXJyb3IsIGNvcHlpbmdJdGVtQXRQYXRoIHNyY1BhdGg6IFN0cmluZywgdG9QYXRoIGRzdFBhdGg6IFN0cmluZykgLT4gQm9vbAogICAgZnVuYyBmaWxlTWFuYWdlcihfIGZpbGVNYW5hZ2VyOiBGaWxlTWFuYWdlciwgc2hvdWxkUHJvY2VlZEFmdGVyRXJyb3IgZXJyb3I6IEVycm9yLCBsaW5raW5nSXRlbUF0IHNyY1VSTDogVVJMLCB0byBkc3RVUkw6IFVSTCkgLT4gQm9vbAogICAgZnVuYyBmaWxlTWFuYWdlcihfIGZpbGVNYW5hZ2VyOiBGaWxlTWFuYWdlciwgc2hvdWxkUHJvY2VlZEFmdGVyRXJyb3IgZXJyb3I6IEVycm9yLCBsaW5raW5nSXRlbUF0UGF0aCBzcmNQYXRoOiBTdHJpbmcsIHRvUGF0aCBkc3RQYXRoOiBTdHJpbmcpIC0+IEJvb2wKICAgIGZ1bmMgZmlsZU1hbmFnZXIoXyBmaWxlTWFuYWdlcjogRmlsZU1hbmFnZXIsIHNob3VsZFByb2NlZWRBZnRlckVycm9yIGVycm9yOiBFcnJvciwgbW92aW5nSXRlbUF0IHNyY1VSTDogVVJMLCB0byBkc3RVUkw6IFVSTCkgLT4gQm9vbAogICAgZnVuYyBmaWxlTWFuYWdlcihfIGZpbGVNYW5hZ2VyOiBGaWxlTWFuYWdlciwgc2hvdWxkUHJvY2VlZEFmdGVyRXJyb3IgZXJyb3I6IEVycm9yLCBtb3ZpbmdJdGVtQXRQYXRoIHNyY1BhdGg6IFN0cmluZywgdG9QYXRoIGRzdFBhdGg6IFN0cmluZykgLT4gQm9vbAogICAgZnVuYyBmaWxlTWFuYWdlcihfIGZpbGVNYW5hZ2VyOiBGaWxlTWFuYWdlciwgc2hvdWxkUHJvY2VlZEFmdGVyRXJyb3IgZXJyb3I6IEVycm9yLCByZW1vdmluZ0l0ZW1BdCBVUkw6IFVSTCkgLT4gQm9vbAogICAgZnVuYyBmaWxlTWFuYWdlcihfIGZpbGVNYW5hZ2VyOiBGaWxlTWFuYWdlciwgc2hvdWxkUHJvY2VlZEFmdGVyRXJyb3IgZXJyb3I6IEVycm9yLCByZW1vdmluZ0l0ZW1BdFBhdGggcGF0aDogU3RyaW5nKSAtPiBCb29sCiAgICBmdW5jIGZpbGVNYW5hZ2VyKF8gZmlsZU1hbmFnZXI6IEZpbGVNYW5hZ2VyLCBzaG91bGRSZW1vdmVJdGVtQXQgVVJMOiBVUkwpIC0+IEJvb2wKICAgIGZ1bmMgZmlsZU1hbmFnZXIoXyBmaWxlTWFuYWdlcjogRmlsZU1hbmFnZXIsIHNob3VsZFJlbW92ZUl0ZW1BdFBhdGggcGF0aDogU3RyaW5nKSAtPiBCb29sCn0KcHVibGljIHByb3RvY29sIExvY2FsaXplZEVycm9yIDogRXJyb3IgewogICAgdmFyIGVycm9yRGVzY3JpcHRpb246IFN0cmluZz8geyBnZXQgfQogICAgdmFyIGZhaWx1cmVSZWFzb246IFN0cmluZz8geyBnZXQgfQogICAgdmFyIGhlbHBBbmNob3I6IFN0cmluZz8geyBnZXQgfQogICAgdmFyIHJlY292ZXJ5U3VnZ2VzdGlvbjogU3RyaW5nPyB7IGdldCB9Cn0KcHVibGljIHByb3RvY29sIE5TQ2FjaGVEZWxlZ2F0ZSA6IE5TT2JqZWN0UHJvdG9jb2wsIF8gewogICAgZnVuYyBjYWNoZShfIGNhY2hlOiBOU0NhY2hlPEFueU9iamVjdCwgQW55T2JqZWN0Piwgd2lsbEV2aWN0T2JqZWN0IG9iajogQW55KQp9CnB1YmxpYyBwcm90b2NvbCBOU0NvZGluZyB7CiAgICBpbml0Pyhjb2RlciBhRGVjb2RlcjogTlNDb2RlcikKICAgIGZ1bmMgZW5jb2RlKHdpdGggYUNvZGVyOiBOU0NvZGVyKQp9CnB1YmxpYyBwcm90b2NvbCBOU0NvcHlpbmcgewogICAgZnVuYyBjb3B5KCkgLT4gQW55CiAgICBmdW5jIGNvcHkod2l0aCB6b25lOiBOU1pvbmU/KSAtPiBBbnkKfQpwdWJsaWMgcHJvdG9jb2wgTlNEZWNpbWFsTnVtYmVyQmVoYXZpb3JzIHsKICAgIGZ1bmMgcm91bmRpbmdNb2RlKCkgLT4gTlNEZWNpbWFsTnVtYmVyLlJvdW5kaW5nTW9kZQogICAgZnVuYyBzY2FsZSgpIC0+IEludDE2Cn0KcHVibGljIHByb3RvY29sIE5TS2V5ZWRBcmNoaXZlckRlbGVnYXRlIDogXyB7CiAgICBmdW5jIGFyY2hpdmVyKF8gYXJjaGl2ZXI6IE5TS2V5ZWRBcmNoaXZlciwgZGlkRW5jb2RlIG9iamVjdDogQW55PykKICAgIGZ1bmMgYXJjaGl2ZXIoXyBhcmNoaXZlcjogTlNLZXllZEFyY2hpdmVyLCB3aWxsRW5jb2RlIG9iamVjdDogQW55KSAtPiBBbnk/CiAgICBmdW5jIGFyY2hpdmVyKF8gYXJjaGl2ZXI6IE5TS2V5ZWRBcmNoaXZlciwgd2lsbFJlcGxhY2Ugb2JqZWN0OiBBbnk/LCB3aXRoT2JqZWN0IG5ld09iamVjdDogQW55PykKICAgIGZ1bmMgYXJjaGl2ZXJEaWRGaW5pc2goXyBhcmNoaXZlcjogTlNLZXllZEFyY2hpdmVyKQogICAgZnVuYyBhcmNoaXZlcldpbGxGaW5pc2goXyBhcmNoaXZlcjogTlNLZXllZEFyY2hpdmVyKQp9CnB1YmxpYyBwcm90b2NvbCBOU0tleWVkVW5hcmNoaXZlckRlbGVnYXRlIDogXyB7CiAgICBmdW5jIHVuYXJjaGl2ZXIoXyB1bmFyY2hpdmVyOiBOU0tleWVkVW5hcmNoaXZlciwgY2Fubm90RGVjb2RlT2JqZWN0T2ZDbGFzc05hbWUgbmFtZTogU3RyaW5nLCBvcmlnaW5hbENsYXNzZXMgY2xhc3NOYW1lczogW1N0cmluZ10pIC0+IEFueUNsYXNzPwogICAgZnVuYyB1bmFyY2hpdmVyKF8gdW5hcmNoaXZlcjogTlNLZXllZFVuYXJjaGl2ZXIsIGRpZERlY29kZSBvYmplY3Q6IEFueT8pIC0+IEFueT8KICAgIGZ1bmMgdW5hcmNoaXZlcihfIHVuYXJjaGl2ZXI6IE5TS2V5ZWRVbmFyY2hpdmVyLCB3aWxsUmVwbGFjZSBvYmplY3Q6IEFueSwgd2l0aCBuZXdPYmplY3Q6IEFueSkKICAgIGZ1bmMgdW5hcmNoaXZlckRpZEZpbmlzaChfIHVuYXJjaGl2ZXI6IE5TS2V5ZWRVbmFyY2hpdmVyKQogICAgZnVuYyB1bmFyY2hpdmVyV2lsbEZpbmlzaChfIHVuYXJjaGl2ZXI6IE5TS2V5ZWRVbmFyY2hpdmVyKQp9CnB1YmxpYyBwcm90b2NvbCBOU0xvY2tpbmcgewogICAgZnVuYyBsb2NrKCkKICAgIGZ1bmMgdW5sb2NrKCkKfQpwdWJsaWMgcHJvdG9jb2wgTlNNdXRhYmxlQ29weWluZyB7CiAgICBmdW5jIG11dGFibGVDb3B5KCkgLT4gQW55CiAgICBmdW5jIG11dGFibGVDb3B5KHdpdGggem9uZTogTlNab25lPykgLT4gQW55Cn0KcHVibGljIHByb3RvY29sIE5TT2JqZWN0UHJvdG9jb2wgOiBfIHsKICAgIHZhciBkZWJ1Z0Rlc2NyaXB0aW9uOiBTdHJpbmcgeyBnZXQgfQogICAgdmFyIGRlc2NyaXB0aW9uOiBTdHJpbmcgeyBnZXQgfQogICAgdmFyIGhhc2g6IEludCB7IGdldCB9CiAgICBmdW5jIGlzRXF1YWwoXyBvYmplY3Q6IEFueT8pIC0+IEJvb2wKICAgIGZ1bmMgaXNQcm94eSgpIC0+IEJvb2wKICAgIGZ1bmMgc2VsZigpIC0+IFNlbGYKfQpwdWJsaWMgcHJvdG9jb2wgTlNTZWN1cmVDb2RpbmcgOiBOU0NvZGluZyB7CiAgICBzdGF0aWMgdmFyIHN1cHBvcnRzU2VjdXJlQ29kaW5nOiBCb29sIHsgZ2V0IH0KfQpwdWJsaWMgcHJvdG9jb2wgUG9ydERlbGVnYXRlIDogXyB7CiAgICBmdW5jIGhhbmRsZVBvcnRNZXNzYWdlKF8gbWVzc2FnZTogUG9ydE1lc3NhZ2UpCn0KcHVibGljIHByb3RvY29sIFByb2dyZXNzUmVwb3J0aW5nIDogTlNPYmplY3RQcm90b2NvbCwgXyB7CiAgICB2YXIgcHJvZ3Jlc3M6IFByb2dyZXNzIHsgZ2V0IH0KfQpwdWJsaWMgcHJvdG9jb2wgUmVjb3ZlcmFibGVFcnJvciA6IEVycm9yIHsKICAgIHZhciByZWNvdmVyeU9wdGlvbnM6IFtTdHJpbmddIHsgZ2V0IH0KICAgIGZ1bmMgYXR0ZW1wdFJlY292ZXJ5KG9wdGlvbkluZGV4IHJlY292ZXJ5T3B0aW9uSW5kZXg6IEludCkgLT4gQm9vbAogICAgZnVuYyBhdHRlbXB0UmVjb3Zlcnkob3B0aW9uSW5kZXggcmVjb3ZlcnlPcHRpb25JbmRleDogSW50LCByZXN1bHRIYW5kbGVyIGhhbmRsZXI6IChfIHJlY292ZXJlZDogQm9vbCkgLT4gVm9pZCkKfQpwdWJsaWMgcHJvdG9jb2wgUmVmZXJlbmNlQ29udmVydGlibGUgOiBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgSGFzaGFibGUgewp9CnB1YmxpYyBwcm90b2NvbCBTdHJlYW1EZWxlZ2F0ZSA6IF8gewogICAgZnVuYyBzdHJlYW0oXyBhU3RyZWFtOiBTdHJlYW0sIGhhbmRsZSBldmVudENvZGU6IFN0cmVhbS5FdmVudCkKfQpwdWJsaWMgcHJvdG9jb2wgVVJMQXV0aGVudGljYXRpb25DaGFsbGVuZ2VTZW5kZXIgOiBOU09iamVjdFByb3RvY29sLCBfIHsKICAgIGZ1bmMgY2FuY2VsKF8gY2hhbGxlbmdlOiBVUkxBdXRoZW50aWNhdGlvbkNoYWxsZW5nZSkKICAgIGZ1bmMgY29udGludWVXaXRob3V0Q3JlZGVudGlhbChmb3IgY2hhbGxlbmdlOiBVUkxBdXRoZW50aWNhdGlvbkNoYWxsZW5nZSkKICAgIGZ1bmMgcGVyZm9ybURlZmF1bHRIYW5kbGluZyhmb3IgY2hhbGxlbmdlOiBVUkxBdXRoZW50aWNhdGlvbkNoYWxsZW5nZSkKICAgIGZ1bmMgcmVqZWN0UHJvdGVjdGlvblNwYWNlQW5kQ29udGludWUod2l0aCBjaGFsbGVuZ2U6IFVSTEF1dGhlbnRpY2F0aW9uQ2hhbGxlbmdlKQogICAgZnVuYyB1c2UoXyBjcmVkZW50aWFsOiBVUkxDcmVkZW50aWFsLCBmb3IgY2hhbGxlbmdlOiBVUkxBdXRoZW50aWNhdGlvbkNoYWxsZW5nZSkKfQpwdWJsaWMgcHJvdG9jb2wgVVJMUHJvdG9jb2xDbGllbnQgOiBOU09iamVjdFByb3RvY29sLCBfIHsKICAgIGZ1bmMgdXJsUHJvdG9jb2woXyBwcm90b2NvbDogVVJMUHJvdG9jb2wsIGNhY2hlZFJlc3BvbnNlSXNWYWxpZCBjYWNoZWRSZXNwb25zZTogQ2FjaGVkVVJMUmVzcG9uc2UpCiAgICBmdW5jIHVybFByb3RvY29sKF8gcHJvdG9jb2w6IFVSTFByb3RvY29sLCBkaWRDYW5jZWwgY2hhbGxlbmdlOiBVUkxBdXRoZW50aWNhdGlvbkNoYWxsZW5nZSkKICAgIGZ1bmMgdXJsUHJvdG9jb2woXyBwcm90b2NvbDogVVJMUHJvdG9jb2wsIGRpZEZhaWxXaXRoRXJyb3IgZXJyb3I6IEVycm9yKQogICAgZnVuYyB1cmxQcm90b2NvbChfIHByb3RvY29sOiBVUkxQcm90b2NvbCwgZGlkTG9hZCBkYXRhOiBEYXRhKQogICAgZnVuYyB1cmxQcm90b2NvbChfIHByb3RvY29sOiBVUkxQcm90b2NvbCwgZGlkUmVjZWl2ZSBjaGFsbGVuZ2U6IFVSTEF1dGhlbnRpY2F0aW9uQ2hhbGxlbmdlKQogICAgZnVuYyB1cmxQcm90b2NvbChfIHByb3RvY29sOiBVUkxQcm90b2NvbCwgZGlkUmVjZWl2ZSByZXNwb25zZTogVVJMUmVzcG9uc2UsIGNhY2hlU3RvcmFnZVBvbGljeSBwb2xpY3k6IFVSTENhY2hlLlN0b3JhZ2VQb2xpY3kpCiAgICBmdW5jIHVybFByb3RvY29sKF8gcHJvdG9jb2w6IFVSTFByb3RvY29sLCB3YXNSZWRpcmVjdGVkVG8gcmVxdWVzdDogVVJMUmVxdWVzdCwgcmVkaXJlY3RSZXNwb25zZTogVVJMUmVzcG9uc2UpCiAgICBmdW5jIHVybFByb3RvY29sRGlkRmluaXNoTG9hZGluZyhfIHByb3RvY29sOiBVUkxQcm90b2NvbCkKfQpwdWJsaWMgcHJvdG9jb2wgVVJMU2Vzc2lvbkRhdGFEZWxlZ2F0ZSA6IE5TT2JqZWN0UHJvdG9jb2wsIFVSTFNlc3Npb25EZWxlZ2F0ZSwgVVJMU2Vzc2lvblRhc2tEZWxlZ2F0ZSB7CiAgICBmdW5jIHVybFNlc3Npb24oXyBzZXNzaW9uOiBVUkxTZXNzaW9uLCBkYXRhVGFzazogVVJMU2Vzc2lvbkRhdGFUYXNrLCBkaWRCZWNvbWUgZG93bmxvYWRUYXNrOiBVUkxTZXNzaW9uRG93bmxvYWRUYXNrKQogICAgZnVuYyB1cmxTZXNzaW9uKF8gc2Vzc2lvbjogVVJMU2Vzc2lvbiwgZGF0YVRhc2s6IFVSTFNlc3Npb25EYXRhVGFzaywgZGlkUmVjZWl2ZSBkYXRhOiBEYXRhKQogICAgZnVuYyB1cmxTZXNzaW9uKF8gc2Vzc2lvbjogVVJMU2Vzc2lvbiwgZGF0YVRhc2s6IFVSTFNlc3Npb25EYXRhVGFzaywgZGlkUmVjZWl2ZSByZXNwb25zZTogVVJMUmVzcG9uc2UsIGNvbXBsZXRpb25IYW5kbGVyOiBAZXNjYXBpbmcgKFVSTFNlc3Npb24uUmVzcG9uc2VEaXNwb3NpdGlvbikgLT4gVm9pZCkKICAgIGZ1bmMgdXJsU2Vzc2lvbihfIHNlc3Npb246IFVSTFNlc3Npb24sIGRhdGFUYXNrOiBVUkxTZXNzaW9uRGF0YVRhc2ssIHdpbGxDYWNoZVJlc3BvbnNlIHByb3Bvc2VkUmVzcG9uc2U6IENhY2hlZFVSTFJlc3BvbnNlLCBjb21wbGV0aW9uSGFuZGxlcjogQGVzY2FwaW5nIChDYWNoZWRVUkxSZXNwb25zZT8pIC0+IFZvaWQpCn0KcHVibGljIHByb3RvY29sIFVSTFNlc3Npb25EZWxlZ2F0ZSA6IE5TT2JqZWN0UHJvdG9jb2wsIF8gewogICAgZnVuYyB1cmxTZXNzaW9uKF8gc2Vzc2lvbjogVVJMU2Vzc2lvbiwgZGlkQmVjb21lSW52YWxpZFdpdGhFcnJvciBlcnJvcjogRXJyb3I/KQogICAgZnVuYyB1cmxTZXNzaW9uKF8gc2Vzc2lvbjogVVJMU2Vzc2lvbiwgZGlkUmVjZWl2ZSBjaGFsbGVuZ2U6IFVSTEF1dGhlbnRpY2F0aW9uQ2hhbGxlbmdlLCBjb21wbGV0aW9uSGFuZGxlcjogQGVzY2FwaW5nIChVUkxTZXNzaW9uLkF1dGhDaGFsbGVuZ2VEaXNwb3NpdGlvbiwgVVJMQ3JlZGVudGlhbD8pIC0+IFZvaWQpCn0KcHVibGljIHByb3RvY29sIFVSTFNlc3Npb25Eb3dubG9hZERlbGVnYXRlIDogTlNPYmplY3RQcm90b2NvbCwgVVJMU2Vzc2lvbkRlbGVnYXRlLCBVUkxTZXNzaW9uVGFza0RlbGVnYXRlIHsKICAgIGZ1bmMgdXJsU2Vzc2lvbihfIHNlc3Npb246IFVSTFNlc3Npb24sIGRvd25sb2FkVGFzazogVVJMU2Vzc2lvbkRvd25sb2FkVGFzaywgZGlkRmluaXNoRG93bmxvYWRpbmdUbyBsb2NhdGlvbjogVVJMKQogICAgZnVuYyB1cmxTZXNzaW9uKF8gc2Vzc2lvbjogVVJMU2Vzc2lvbiwgZG93bmxvYWRUYXNrOiBVUkxTZXNzaW9uRG93bmxvYWRUYXNrLCBkaWRSZXN1bWVBdE9mZnNldCBmaWxlT2Zmc2V0OiBJbnQ2NCwgZXhwZWN0ZWRUb3RhbEJ5dGVzOiBJbnQ2NCkKICAgIGZ1bmMgdXJsU2Vzc2lvbihfIHNlc3Npb246IFVSTFNlc3Npb24sIGRvd25sb2FkVGFzazogVVJMU2Vzc2lvbkRvd25sb2FkVGFzaywgZGlkV3JpdGVEYXRhIGJ5dGVzV3JpdHRlbjogSW50NjQsIHRvdGFsQnl0ZXNXcml0dGVuOiBJbnQ2NCwgdG90YWxCeXRlc0V4cGVjdGVkVG9Xcml0ZTogSW50NjQpCn0KcHVibGljIHByb3RvY29sIFVSTFNlc3Npb25TdHJlYW1EZWxlZ2F0ZSA6IE5TT2JqZWN0UHJvdG9jb2wsIFVSTFNlc3Npb25EZWxlZ2F0ZSwgVVJMU2Vzc2lvblRhc2tEZWxlZ2F0ZSB7CiAgICBmdW5jIHVybFNlc3Npb24oXyBzZXNzaW9uOiBVUkxTZXNzaW9uLCBiZXR0ZXJSb3V0ZURpc2NvdmVyZWRGb3Igc3RyZWFtVGFzazogVVJMU2Vzc2lvblN0cmVhbVRhc2spCiAgICBmdW5jIHVybFNlc3Npb24oXyBzZXNzaW9uOiBVUkxTZXNzaW9uLCByZWFkQ2xvc2VkRm9yIHN0cmVhbVRhc2s6IFVSTFNlc3Npb25TdHJlYW1UYXNrKQogICAgZnVuYyB1cmxTZXNzaW9uKF8gc2Vzc2lvbjogVVJMU2Vzc2lvbiwgc3RyZWFtVGFzazogVVJMU2Vzc2lvblN0cmVhbVRhc2ssIGRpZEJlY29tZSBpbnB1dFN0cmVhbTogSW5wdXRTdHJlYW0sIG91dHB1dFN0cmVhbTogT3V0cHV0U3RyZWFtKQogICAgZnVuYyB1cmxTZXNzaW9uKF8gc2Vzc2lvbjogVVJMU2Vzc2lvbiwgd3JpdGVDbG9zZWRGb3Igc3RyZWFtVGFzazogVVJMU2Vzc2lvblN0cmVhbVRhc2spCn0KcHVibGljIHByb3RvY29sIFVSTFNlc3Npb25UYXNrRGVsZWdhdGUgOiBOU09iamVjdFByb3RvY29sLCBVUkxTZXNzaW9uRGVsZWdhdGUgewogICAgZnVuYyB1cmxTZXNzaW9uKF8gc2Vzc2lvbjogVVJMU2Vzc2lvbiwgdGFzazogVVJMU2Vzc2lvblRhc2ssIGRpZENvbXBsZXRlV2l0aEVycm9yIGVycm9yOiBFcnJvcj8pCiAgICBmdW5jIHVybFNlc3Npb24oXyBzZXNzaW9uOiBVUkxTZXNzaW9uLCB0YXNrOiBVUkxTZXNzaW9uVGFzaywgZGlkUmVjZWl2ZSBjaGFsbGVuZ2U6IFVSTEF1dGhlbnRpY2F0aW9uQ2hhbGxlbmdlLCBjb21wbGV0aW9uSGFuZGxlcjogQGVzY2FwaW5nIChVUkxTZXNzaW9uLkF1dGhDaGFsbGVuZ2VEaXNwb3NpdGlvbiwgVVJMQ3JlZGVudGlhbD8pIC0+IFZvaWQpCiAgICBmdW5jIHVybFNlc3Npb24oXyBzZXNzaW9uOiBVUkxTZXNzaW9uLCB0YXNrOiBVUkxTZXNzaW9uVGFzaywgZGlkU2VuZEJvZHlEYXRhIGJ5dGVzU2VudDogSW50NjQsIHRvdGFsQnl0ZXNTZW50OiBJbnQ2NCwgdG90YWxCeXRlc0V4cGVjdGVkVG9TZW5kOiBJbnQ2NCkKICAgIGZ1bmMgdXJsU2Vzc2lvbihfIHNlc3Npb246IFVSTFNlc3Npb24sIHRhc2s6IFVSTFNlc3Npb25UYXNrLCBuZWVkTmV3Qm9keVN0cmVhbSBjb21wbGV0aW9uSGFuZGxlcjogQGVzY2FwaW5nIChJbnB1dFN0cmVhbT8pIC0+IFZvaWQpCiAgICBmdW5jIHVybFNlc3Npb24oXyBzZXNzaW9uOiBVUkxTZXNzaW9uLCB0YXNrOiBVUkxTZXNzaW9uVGFzaywgd2lsbEJlZ2luRGVsYXllZFJlcXVlc3QgcmVxdWVzdDogVVJMUmVxdWVzdCwgY29tcGxldGlvbkhhbmRsZXI6IEBlc2NhcGluZyAoVVJMU2Vzc2lvbi5EZWxheWVkUmVxdWVzdERpc3Bvc2l0aW9uLCBVUkxSZXF1ZXN0PykgLT4gVm9pZCkKICAgIGZ1bmMgdXJsU2Vzc2lvbihfIHNlc3Npb246IFVSTFNlc3Npb24sIHRhc2s6IFVSTFNlc3Npb25UYXNrLCB3aWxsUGVyZm9ybUhUVFBSZWRpcmVjdGlvbiByZXNwb25zZTogSFRUUFVSTFJlc3BvbnNlLCBuZXdSZXF1ZXN0IHJlcXVlc3Q6IFVSTFJlcXVlc3QsIGNvbXBsZXRpb25IYW5kbGVyOiBAZXNjYXBpbmcgKFVSTFJlcXVlc3Q/KSAtPiBWb2lkKQp9CnB1YmxpYyBwcm90b2NvbCBYTUxQYXJzZXJEZWxlZ2F0ZSA6IF8gewogICAgZnVuYyBwYXJzZXIoXyBwYXJzZXI6IFhNTFBhcnNlciwgZGlkRW5kRWxlbWVudCBlbGVtZW50TmFtZTogU3RyaW5nLCBuYW1lc3BhY2VVUkk6IFN0cmluZz8sIHF1YWxpZmllZE5hbWUgcU5hbWU6IFN0cmluZz8pCiAgICBmdW5jIHBhcnNlcihfIHBhcnNlcjogWE1MUGFyc2VyLCBkaWRFbmRNYXBwaW5nUHJlZml4IHByZWZpeDogU3RyaW5nKQogICAgZnVuYyBwYXJzZXIoXyBwYXJzZXI6IFhNTFBhcnNlciwgZGlkU3RhcnRFbGVtZW50IGVsZW1lbnROYW1lOiBTdHJpbmcsIG5hbWVzcGFjZVVSSTogU3RyaW5nPywgcXVhbGlmaWVkTmFtZSBxTmFtZTogU3RyaW5nPywgYXR0cmlidXRlcyBhdHRyaWJ1dGVEaWN0OiBbU3RyaW5nOiBTdHJpbmddKQogICAgZnVuYyBwYXJzZXIoXyBwYXJzZXI6IFhNTFBhcnNlciwgZGlkU3RhcnRNYXBwaW5nUHJlZml4IHByZWZpeDogU3RyaW5nLCB0b1VSSSBuYW1lc3BhY2VVUkk6IFN0cmluZykKICAgIGZ1bmMgcGFyc2VyKF8gcGFyc2VyOiBYTUxQYXJzZXIsIGZvdW5kQXR0cmlidXRlRGVjbGFyYXRpb25XaXRoTmFtZSBhdHRyaWJ1dGVOYW1lOiBTdHJpbmcsIGZvckVsZW1lbnQgZWxlbWVudE5hbWU6IFN0cmluZywgdHlwZTogU3RyaW5nPywgZGVmYXVsdFZhbHVlOiBTdHJpbmc/KQogICAgZnVuYyBwYXJzZXIoXyBwYXJzZXI6IFhNTFBhcnNlciwgZm91bmRDREFUQSBDREFUQUJsb2NrOiBEYXRhKQogICAgZnVuYyBwYXJzZXIoXyBwYXJzZXI6IFhNTFBhcnNlciwgZm91bmRDaGFyYWN0ZXJzIHN0cmluZzogU3RyaW5nKQogICAgZnVuYyBwYXJzZXIoXyBwYXJzZXI6IFhNTFBhcnNlciwgZm91bmRDb21tZW50IGNvbW1lbnQ6IFN0cmluZykKICAgIGZ1bmMgcGFyc2VyKF8gcGFyc2VyOiBYTUxQYXJzZXIsIGZvdW5kRWxlbWVudERlY2xhcmF0aW9uV2l0aE5hbWUgZWxlbWVudE5hbWU6IFN0cmluZywgbW9kZWw6IFN0cmluZykKICAgIGZ1bmMgcGFyc2VyKF8gcGFyc2VyOiBYTUxQYXJzZXIsIGZvdW5kRXh0ZXJuYWxFbnRpdHlEZWNsYXJhdGlvbldpdGhOYW1lIG5hbWU6IFN0cmluZywgcHVibGljSUQ6IFN0cmluZz8sIHN5c3RlbUlEOiBTdHJpbmc/KQogICAgZnVuYyBwYXJzZXIoXyBwYXJzZXI6IFhNTFBhcnNlciwgZm91bmRJZ25vcmFibGVXaGl0ZXNwYWNlIHdoaXRlc3BhY2VTdHJpbmc6IFN0cmluZykKICAgIGZ1bmMgcGFyc2VyKF8gcGFyc2VyOiBYTUxQYXJzZXIsIGZvdW5kSW50ZXJuYWxFbnRpdHlEZWNsYXJhdGlvbldpdGhOYW1lIG5hbWU6IFN0cmluZywgdmFsdWU6IFN0cmluZz8pCiAgICBmdW5jIHBhcnNlcihfIHBhcnNlcjogWE1MUGFyc2VyLCBmb3VuZE5vdGF0aW9uRGVjbGFyYXRpb25XaXRoTmFtZSBuYW1lOiBTdHJpbmcsIHB1YmxpY0lEOiBTdHJpbmc/LCBzeXN0ZW1JRDogU3RyaW5nPykKICAgIGZ1bmMgcGFyc2VyKF8gcGFyc2VyOiBYTUxQYXJzZXIsIGZvdW5kUHJvY2Vzc2luZ0luc3RydWN0aW9uV2l0aFRhcmdldCB0YXJnZXQ6IFN0cmluZywgZGF0YTogU3RyaW5nPykKICAgIGZ1bmMgcGFyc2VyKF8gcGFyc2VyOiBYTUxQYXJzZXIsIGZvdW5kVW5wYXJzZWRFbnRpdHlEZWNsYXJhdGlvbldpdGhOYW1lIG5hbWU6IFN0cmluZywgcHVibGljSUQ6IFN0cmluZz8sIHN5c3RlbUlEOiBTdHJpbmc/LCBub3RhdGlvbk5hbWU6IFN0cmluZz8pCiAgICBmdW5jIHBhcnNlcihfIHBhcnNlcjogWE1MUGFyc2VyLCBwYXJzZUVycm9yT2NjdXJyZWQgcGFyc2VFcnJvcjogRXJyb3IpCiAgICBmdW5jIHBhcnNlcihfIHBhcnNlcjogWE1MUGFyc2VyLCByZXNvbHZlRXh0ZXJuYWxFbnRpdHlOYW1lIG5hbWU6IFN0cmluZywgc3lzdGVtSUQ6IFN0cmluZz8pIC0+IERhdGE/CiAgICBmdW5jIHBhcnNlcihfIHBhcnNlcjogWE1MUGFyc2VyLCB2YWxpZGF0aW9uRXJyb3JPY2N1cnJlZCB2YWxpZGF0aW9uRXJyb3I6IEVycm9yKQogICAgZnVuYyBwYXJzZXJEaWRFbmREb2N1bWVudChfIHBhcnNlcjogWE1MUGFyc2VyKQogICAgZnVuYyBwYXJzZXJEaWRTdGFydERvY3VtZW50KF8gcGFyc2VyOiBYTUxQYXJzZXIpCn0KZXh0ZW5zaW9uIEFycmF5IHsKfQpleHRlbnNpb24gQm9vbCB7CiAgICBwdWJsaWMgaW5pdD8oZXhhY3RseSBudW1iZXI6IE5TTnVtYmVyKSB7fQogICAgcHVibGljIGluaXQodHJ1bmNhdGluZyBudW1iZXI6IE5TTnVtYmVyKSB7fQp9CmV4dGVuc2lvbiBDRkFycmF5IHsKfQpleHRlbnNpb24gQ0ZDYWxlbmRhciB7Cn0KZXh0ZW5zaW9uIENGQ2hhcmFjdGVyU2V0IHsKfQpleHRlbnNpb24gQ0ZEYXRhIHsKfQpleHRlbnNpb24gQ0ZEYXRlIHsKfQpleHRlbnNpb24gQ0ZEaWN0aW9uYXJ5IHsKfQpleHRlbnNpb24gQ0ZFcnJvciB7Cn0KZXh0ZW5zaW9uIENGS2V5ZWRBcmNoaXZlclVJRCB7Cn0KZXh0ZW5zaW9uIENGTG9jYWxlIHsKfQpleHRlbnNpb24gQ0ZOdW1iZXIgewp9CmV4dGVuc2lvbiBDRlNldCB7Cn0KZXh0ZW5zaW9uIENGU3RyaW5nIHsKfQpleHRlbnNpb24gQ0ZUaW1lWm9uZSB7Cn0KZXh0ZW5zaW9uIENGVVJMIHsKfQpleHRlbnNpb24gQ0ZVUkxTZXNzaW9uRWFzeUNvZGUgewogICAgcHVibGljIGZ1bmMgPT0obGhzOiBDRlVSTFNlc3Npb25FYXN5Q29kZSwgcmhzOiBDRlVSTFNlc3Npb25FYXN5Q29kZSkgLT4gQm9vbCB7fQp9CmV4dGVuc2lvbiBDRlVSTFNlc3Npb25JbmZvIHsKICAgIHB1YmxpYyB2YXIgZGVidWdIZWFkZXI6IFN0cmluZyB7IGdldCB9CiAgICBwdWJsaWMgZnVuYyA9PShsaHM6IENGVVJMU2Vzc2lvbkluZm8sIHJoczogQ0ZVUkxTZXNzaW9uSW5mbykgLT4gQm9vbCB7fQp9CmV4dGVuc2lvbiBDRlVSTFNlc3Npb25NdWx0aUNvZGUgewogICAgcHVibGljIGZ1bmMgPT0obGhzOiBDRlVSTFNlc3Npb25NdWx0aUNvZGUsIHJoczogQ0ZVUkxTZXNzaW9uTXVsdGlDb2RlKSAtPiBCb29sIHt9Cn0KZXh0ZW5zaW9uIENGVVJMU2Vzc2lvblBvbGwgewogICAgcHVibGljIGZ1bmMgPT0obGhzOiBDRlVSTFNlc3Npb25Qb2xsLCByaHM6IENGVVJMU2Vzc2lvblBvbGwpIC0+IEJvb2wge30KfQpleHRlbnNpb24gRGVjb2RpbmdFcnJvciB7Cn0KZXh0ZW5zaW9uIERpY3Rpb25hcnkgewp9CmV4dGVuc2lvbiBEb3VibGUgewogICAgcHVibGljIGluaXQoXyB2YWx1ZTogQ0dGbG9hdCkge30KICAgIHB1YmxpYyBpbml0PyhleGFjdGx5IG51bWJlcjogTlNOdW1iZXIpIHt9CiAgICBwdWJsaWMgaW5pdCh0cnVuY2F0aW5nIG51bWJlcjogTlNOdW1iZXIpIHt9Cn0KZXh0ZW5zaW9uIEVuY29kaW5nRXJyb3Igewp9CmV4dGVuc2lvbiBGbG9hdCB7CiAgICBwdWJsaWMgaW5pdChfIHZhbHVlOiBDR0Zsb2F0KSB7fQogICAgcHVibGljIGluaXQ/KGV4YWN0bHkgbnVtYmVyOiBOU051bWJlcikge30KICAgIHB1YmxpYyBpbml0KHRydW5jYXRpbmcgbnVtYmVyOiBOU051bWJlcikge30KfQpleHRlbnNpb24gSW50IHsKICAgIHB1YmxpYyBpbml0KF8gdmFsdWU6IENHRmxvYXQpIHt9CiAgICBwdWJsaWMgaW5pdD8oZXhhY3RseSBudW1iZXI6IE5TTnVtYmVyKSB7fQogICAgcHVibGljIGluaXQodHJ1bmNhdGluZyBudW1iZXI6IE5TTnVtYmVyKSB7fQp9CmV4dGVuc2lvbiBJbnQxNiB7CiAgICBwdWJsaWMgaW5pdChfIHZhbHVlOiBDR0Zsb2F0KSB7fQogICAgcHVibGljIGluaXQ/KGV4YWN0bHkgbnVtYmVyOiBOU051bWJlcikge30KICAgIHB1YmxpYyBpbml0KHRydW5jYXRpbmcgbnVtYmVyOiBOU051bWJlcikge30KfQpleHRlbnNpb24gSW50MzIgewogICAgcHVibGljIGluaXQoXyB2YWx1ZTogQ0dGbG9hdCkge30KICAgIHB1YmxpYyBpbml0PyhleGFjdGx5IG51bWJlcjogTlNOdW1iZXIpIHt9CiAgICBwdWJsaWMgaW5pdCh0cnVuY2F0aW5nIG51bWJlcjogTlNOdW1iZXIpIHt9Cn0KZXh0ZW5zaW9uIEludDY0IHsKICAgIHB1YmxpYyBpbml0KF8gdmFsdWU6IENHRmxvYXQpIHt9CiAgICBwdWJsaWMgaW5pdD8oZXhhY3RseSBudW1iZXI6IE5TTnVtYmVyKSB7fQogICAgcHVibGljIGluaXQodHJ1bmNhdGluZyBudW1iZXI6IE5TTnVtYmVyKSB7fQp9CmV4dGVuc2lvbiBJbnQ4IHsKICAgIHB1YmxpYyBpbml0KF8gdmFsdWU6IENHRmxvYXQpIHt9CiAgICBwdWJsaWMgaW5pdD8oZXhhY3RseSBudW1iZXI6IE5TTnVtYmVyKSB7fQogICAgcHVibGljIGluaXQodHJ1bmNhdGluZyBudW1iZXI6IE5TTnVtYmVyKSB7fQp9CmV4dGVuc2lvbiBNZWFzdXJlbWVudCB7CiAgICBwdWJsaWMgaW5pdChmcm9tIGRlY29kZXI6IERlY29kZXIpIHRocm93cyB7fQogICAgcHVibGljIHZhciBjdXN0b21NaXJyb3I6IE1pcnJvciB7IGdldCB9CiAgICBwdWJsaWMgdmFyIGRlYnVnRGVzY3JpcHRpb246IFN0cmluZyB7IGdldCB9CiAgICBwdWJsaWMgdmFyIGRlc2NyaXB0aW9uOiBTdHJpbmcgeyBnZXQgfQogICAgcHVibGljIGZ1bmMgKihsaHM6IERvdWJsZSwgcmhzOiBNZWFzdXJlbWVudDxVbml0VHlwZT4pIC0+IE1lYXN1cmVtZW50PFVuaXRUeXBlPiB7fQogICAgcHVibGljIGZ1bmMgKihsaHM6IE1lYXN1cmVtZW50PFVuaXRUeXBlPiwgcmhzOiBEb3VibGUpIC0+IE1lYXN1cmVtZW50PFVuaXRUeXBlPiB7fQogICAgcHVibGljIGZ1bmMgKyhsaHM6IE1lYXN1cmVtZW50PFVuaXRUeXBlPiwgcmhzOiBNZWFzdXJlbWVudDxVbml0VHlwZT4pIC0+IE1lYXN1cmVtZW50PFVuaXRUeXBlPiB7fQogICAgcHVibGljIGZ1bmMgKyhsaHM6IE1lYXN1cmVtZW50PFVuaXRUeXBlPiwgcmhzOiBNZWFzdXJlbWVudDxVbml0VHlwZT4pIC0+IE1lYXN1cmVtZW50PFVuaXRUeXBlPiB3aGVyZSBVbml0VHlwZSA6IERpbWVuc2lvbiB7fQogICAgcHVibGljIGZ1bmMgLShsaHM6IE1lYXN1cmVtZW50PFVuaXRUeXBlPiwgcmhzOiBNZWFzdXJlbWVudDxVbml0VHlwZT4pIC0+IE1lYXN1cmVtZW50PFVuaXRUeXBlPiB7fQogICAgcHVibGljIGZ1bmMgLShsaHM6IE1lYXN1cmVtZW50PFVuaXRUeXBlPiwgcmhzOiBNZWFzdXJlbWVudDxVbml0VHlwZT4pIC0+IE1lYXN1cmVtZW50PFVuaXRUeXBlPiB3aGVyZSBVbml0VHlwZSA6IERpbWVuc2lvbiB7fQogICAgcHVibGljIGZ1bmMgLyhsaHM6IERvdWJsZSwgcmhzOiBNZWFzdXJlbWVudDxVbml0VHlwZT4pIC0+IE1lYXN1cmVtZW50PFVuaXRUeXBlPiB7fQogICAgcHVibGljIGZ1bmMgLyhsaHM6IE1lYXN1cmVtZW50PFVuaXRUeXBlPiwgcmhzOiBEb3VibGUpIC0+IE1lYXN1cmVtZW50PFVuaXRUeXBlPiB7fQogICAgcHVibGljIGZ1bmMgPDxMZWZ0SGFuZFNpZGVUeXBlLCBSaWdodEhhbmRTaWRlVHlwZT4obGhzOiBNZWFzdXJlbWVudDxMZWZ0SGFuZFNpZGVUeXBlPiwgcmhzOiBNZWFzdXJlbWVudDxSaWdodEhhbmRTaWRlVHlwZT4pIC0+IEJvb2wge30KICAgIHB1YmxpYyBmdW5jID09PExlZnRIYW5kU2lkZVR5cGUsIFJpZ2h0SGFuZFNpZGVUeXBlPihsaHM6IE1lYXN1cmVtZW50PExlZnRIYW5kU2lkZVR5cGU+LCByaHM6IE1lYXN1cmVtZW50PFJpZ2h0SGFuZFNpZGVUeXBlPikgLT4gQm9vbCB7fQogICAgcHVibGljIG11dGF0aW5nIGZ1bmMgY29udmVydCh0byBvdGhlclVuaXQ6IFVuaXRUeXBlKSB3aGVyZSBVbml0VHlwZSA6IERpbWVuc2lvbiB7fQogICAgcHVibGljIGZ1bmMgY29udmVydGVkKHRvIG90aGVyVW5pdDogVW5pdFR5cGUpIC0+IE1lYXN1cmVtZW50PFVuaXRUeXBlPiB3aGVyZSBVbml0VHlwZSA6IERpbWVuc2lvbiB7fQogICAgcHVibGljIGZ1bmMgZW5jb2RlKHRvIGVuY29kZXI6IEVuY29kZXIpIHRocm93cyB7fQp9CmV4dGVuc2lvbiBPcHRpb25hbCB7Cn0KZXh0ZW5zaW9uIFJhbmdlIHsKICAgIHB1YmxpYyBpbml0PyhfIHJhbmdlOiBOU1JhbmdlKSB3aGVyZSBCb3VuZCA6IEJpbmFyeUludGVnZXIge30KICAgIHB1YmxpYyBpbml0PyhfIHJhbmdlOiBOU1JhbmdlLCBpbiBzdHJpbmc6IFN0cmluZykgd2hlcmUgQm91bmQgPT0gU3RyaW5nLkluZGV4IHt9Cn0KZXh0ZW5zaW9uIFNldCB7Cn0KZXh0ZW5zaW9uIFN0cmluZyB7CiAgICBwdWJsaWMgc3RhdGljIHZhciBhdmFpbGFibGVTdHJpbmdFbmNvZGluZ3M6IFtFbmNvZGluZ10geyBnZXQgfQogICAgcHVibGljIHN0YXRpYyB2YXIgZGVmYXVsdENTdHJpbmdFbmNvZGluZzogRW5jb2RpbmcgeyBnZXQgfQogICAgcHVibGljIHN0YXRpYyBmdW5jIGxvY2FsaXplZE5hbWUob2YgZW5jb2Rpbmc6IEVuY29kaW5nKSAtPiBTdHJpbmcge30KICAgIHB1YmxpYyBzdGF0aWMgZnVuYyBsb2NhbGl6ZWRTdHJpbmdXaXRoRm9ybWF0KF8gZm9ybWF0OiBTdHJpbmcsIF8gYXJndW1lbnRzOiBDVmFyQXJnLi4uKSAtPiBTdHJpbmcge30KICAgIHB1YmxpYyBpbml0PzxTPihieXRlczogUywgZW5jb2Rpbmc6IEVuY29kaW5nKSB3aGVyZSBTIDogU2VxdWVuY2UsIFMuSXRlcmF0b3IuRWxlbWVudCA9PSBVSW50OCB7fQogICAgcHVibGljIGluaXQ/KGJ5dGVzTm9Db3B5IGJ5dGVzOiBVbnNhZmVNdXRhYmxlUmF3UG9pbnRlciwgbGVuZ3RoOiBJbnQsIGVuY29kaW5nOiBFbmNvZGluZywgZnJlZVdoZW5Eb25lIGZsYWc6IEJvb2wpIHt9CiAgICBwdWJsaWMgaW5pdD8oY1N0cmluZzogVW5zYWZlUG9pbnRlcjxDQ2hhcj4sIGVuY29kaW5nIGVuYzogRW5jb2RpbmcpIHt9CiAgICBwdWJsaWMgaW5pdChjb250ZW50c09mIHVybDogVVJMKSB0aHJvd3Mge30KICAgIHB1YmxpYyBpbml0KGNvbnRlbnRzT2YgdXJsOiBVUkwsIGVuY29kaW5nIGVuYzogRW5jb2RpbmcpIHRocm93cyB7fQogICAgcHVibGljIGluaXQoY29udGVudHNPZiB1cmw6IFVSTCwgdXNlZEVuY29kaW5nOiBpbm91dCBFbmNvZGluZykgdGhyb3dzIHt9CiAgICBwdWJsaWMgaW5pdChjb250ZW50c09mRmlsZSBwYXRoOiBTdHJpbmcpIHRocm93cyB7fQogICAgcHVibGljIGluaXQoY29udGVudHNPZkZpbGUgcGF0aDogU3RyaW5nLCBlbmNvZGluZyBlbmM6IEVuY29kaW5nKSB0aHJvd3Mge30KICAgIHB1YmxpYyBpbml0KGNvbnRlbnRzT2ZGaWxlIHBhdGg6IFN0cmluZywgdXNlZEVuY29kaW5nOiBpbm91dCBFbmNvZGluZykgdGhyb3dzIHt9CiAgICBwdWJsaWMgaW5pdD8oZGF0YTogRGF0YSwgZW5jb2Rpbmc6IEVuY29kaW5nKSB7fQogICAgcHVibGljIGluaXQoZm9ybWF0OiBTdHJpbmcsIF8gYXJndW1lbnRzOiBDVmFyQXJnLi4uKSB7fQogICAgcHVibGljIGluaXQoZm9ybWF0OiBTdHJpbmcsIGFyZ3VtZW50czogW0NWYXJBcmddKSB7fQogICAgcHVibGljIGluaXQoZm9ybWF0OiBTdHJpbmcsIGxvY2FsZTogTG9jYWxlPywgXyBhcmdzOiBDVmFyQXJnLi4uKSB7fQogICAgcHVibGljIGluaXQoZm9ybWF0OiBTdHJpbmcsIGxvY2FsZTogTG9jYWxlPywgYXJndW1lbnRzOiBbQ1ZhckFyZ10pIHt9CiAgICBwdWJsaWMgaW5pdCh1dGYxNkNvZGVVbml0czogVW5zYWZlUG9pbnRlcjx1bmljaGFyPiwgY291bnQ6IEludCkge30KICAgIHB1YmxpYyBpbml0KHV0ZjE2Q29kZVVuaXRzTm9Db3B5OiBVbnNhZmVQb2ludGVyPHVuaWNoYXI+LCBjb3VudDogSW50LCBmcmVlV2hlbkRvbmUgZmxhZzogQm9vbCkge30KICAgIHB1YmxpYyBpbml0Pyh1dGY4U3RyaW5nIGJ5dGVzOiBVbnNhZmVQb2ludGVyPENDaGFyPikge30KfQpleHRlbnNpb24gU3RyaW5nLkVuY29kaW5nIHsKICAgIHB1YmxpYyB2YXIgZGVzY3JpcHRpb246IFN0cmluZyB7IGdldCB9CiAgICBwdWJsaWMgdmFyIGhhc2hWYWx1ZTogSW50IHsgZ2V0IH0KICAgIHB1YmxpYyBmdW5jID09KGxoczogU3RyaW5nLkVuY29kaW5nLCByaHM6IFN0cmluZy5FbmNvZGluZykgLT4gQm9vbCB7fQp9CmV4dGVuc2lvbiBTdHJpbmdQcm90b2NvbCB7CiAgICBwdWJsaWMgdmFyIGNhcGl0YWxpemVkOiBTdHJpbmcgeyBnZXQgfSB3aGVyZSBJbmRleCA9PSBTdHJpbmcuSW5kZXgKICAgIHB1YmxpYyB2YXIgZGVjb21wb3NlZFN0cmluZ1dpdGhDYW5vbmljYWxNYXBwaW5nOiBTdHJpbmcgeyBnZXQgfSB3aGVyZSBJbmRleCA9PSBTdHJpbmcuSW5kZXgKICAgIHB1YmxpYyB2YXIgZGVjb21wb3NlZFN0cmluZ1dpdGhDb21wYXRpYmlsaXR5TWFwcGluZzogU3RyaW5nIHsgZ2V0IH0gd2hlcmUgSW5kZXggPT0gU3RyaW5nLkluZGV4CiAgICBwdWJsaWMgdmFyIGZhc3Rlc3RFbmNvZGluZzogU3RyaW5nLkVuY29kaW5nIHsgZ2V0IH0gd2hlcmUgSW5kZXggPT0gU3RyaW5nLkluZGV4CiAgICBwdWJsaWMgdmFyIGhhc2g6IEludCB7IGdldCB9IHdoZXJlIEluZGV4ID09IFN0cmluZy5JbmRleAogICAgQGF2YWlsYWJsZShtYWNPUzEwLjExLCBpT1M5LjAsICopIHB1YmxpYyB2YXIgbG9jYWxpemVkQ2FwaXRhbGl6ZWQ6IFN0cmluZyB7IGdldCB9IHdoZXJlIEluZGV4ID09IFN0cmluZy5JbmRleAogICAgQGF2YWlsYWJsZShtYWNPUzEwLjExLCBpT1M5LjAsICopIHB1YmxpYyB2YXIgbG9jYWxpemVkTG93ZXJjYXNlOiBTdHJpbmcgeyBnZXQgfSB3aGVyZSBJbmRleCA9PSBTdHJpbmcuSW5kZXgKICAgIEBhdmFpbGFibGUobWFjT1MxMC4xMSwgaU9TOS4wLCAqKSBwdWJsaWMgdmFyIGxvY2FsaXplZFVwcGVyY2FzZTogU3RyaW5nIHsgZ2V0IH0gd2hlcmUgSW5kZXggPT0gU3RyaW5nLkluZGV4CiAgICBwdWJsaWMgdmFyIHByZWNvbXBvc2VkU3RyaW5nV2l0aENhbm9uaWNhbE1hcHBpbmc6IFN0cmluZyB7IGdldCB9IHdoZXJlIEluZGV4ID09IFN0cmluZy5JbmRleAogICAgcHVibGljIHZhciBwcmVjb21wb3NlZFN0cmluZ1dpdGhDb21wYXRpYmlsaXR5TWFwcGluZzogU3RyaW5nIHsgZ2V0IH0gd2hlcmUgSW5kZXggPT0gU3RyaW5nLkluZGV4CiAgICBwdWJsaWMgdmFyIHJlbW92aW5nUGVyY2VudEVuY29kaW5nOiBTdHJpbmc/IHsgZ2V0IH0gd2hlcmUgSW5kZXggPT0gU3RyaW5nLkluZGV4CiAgICBwdWJsaWMgdmFyIHNtYWxsZXN0RW5jb2Rpbmc6IFN0cmluZy5FbmNvZGluZyB7IGdldCB9IHdoZXJlIEluZGV4ID09IFN0cmluZy5JbmRleAogICAgcHVibGljIGZ1bmMgYWRkaW5nUGVyY2VudEVuY29kaW5nKHdpdGhBbGxvd2VkQ2hhcmFjdGVycyBhbGxvd2VkQ2hhcmFjdGVyczogQ2hhcmFjdGVyU2V0KSAtPiBTdHJpbmc/IHdoZXJlIEluZGV4ID09IFN0cmluZy5JbmRleCB7fQogICAgcHVibGljIGZ1bmMgYXBwZW5kaW5nPFQ+KF8gYVN0cmluZzogVCkgLT4gU3RyaW5nIHdoZXJlIFQgOiBTdHJpbmdQcm90b2NvbCwgSW5kZXggPT0gU3RyaW5nLkluZGV4IHt9CiAgICBwdWJsaWMgZnVuYyBhcHBlbmRpbmdGb3JtYXQ8VD4oXyBmb3JtYXQ6IFQsIF8gYXJndW1lbnRzOiBDVmFyQXJnLi4uKSAtPiBTdHJpbmcgd2hlcmUgVCA6IFN0cmluZ1Byb3RvY29sLCBJbmRleCA9PSBTdHJpbmcuSW5kZXgge30KI2lmICFERVBMT1lNRU5UX1JVTlRJTUVfU1dJRlQKICAgIEBhdmFpbGFibGUobWFjT1MxMC4xMSwgaU9TOS4wLCAqKSBwdWJsaWMgZnVuYyBhcHBseWluZ1RyYW5zZm9ybShfIHRyYW5zZm9ybTogU3RyaW5nVHJhbnNmb3JtLCByZXZlcnNlOiBCb29sKSAtPiBTdHJpbmc/IHdoZXJlIEluZGV4ID09IFN0cmluZy5JbmRleCB7fQojZW5kaWYKICAgIHB1YmxpYyBmdW5jIGNTdHJpbmcodXNpbmcgZW5jb2Rpbmc6IFN0cmluZy5FbmNvZGluZykgLT4gW0NDaGFyXT8gd2hlcmUgSW5kZXggPT0gU3RyaW5nLkluZGV4IHt9CiAgICBwdWJsaWMgZnVuYyBjYW5CZUNvbnZlcnRlZCh0byBlbmNvZGluZzogU3RyaW5nLkVuY29kaW5nKSAtPiBCb29sIHdoZXJlIEluZGV4ID09IFN0cmluZy5JbmRleCB7fQogICAgcHVibGljIGZ1bmMgY2FwaXRhbGl6ZWQod2l0aCBsb2NhbGU6IExvY2FsZT8pIC0+IFN0cmluZyB3aGVyZSBJbmRleCA9PSBTdHJpbmcuSW5kZXgge30KICAgIHB1YmxpYyBmdW5jIGNhc2VJbnNlbnNpdGl2ZUNvbXBhcmU8VD4oXyBhU3RyaW5nOiBUKSAtPiBDb21wYXJpc29uUmVzdWx0IHdoZXJlIFQgOiBTdHJpbmdQcm90b2NvbCwgSW5kZXggPT0gU3RyaW5nLkluZGV4IHt9CiAgICBwdWJsaWMgZnVuYyBjb21tb25QcmVmaXg8VD4od2l0aCBhU3RyaW5nOiBULCBvcHRpb25zOiBTdHJpbmcuQ29tcGFyZU9wdGlvbnMgPSB4KSAtPiBTdHJpbmcgd2hlcmUgVCA6IFN0cmluZ1Byb3RvY29sLCBJbmRleCA9PSBTdHJpbmcuSW5kZXgge30KICAgIHB1YmxpYyBmdW5jIGNvbXBhcmU8VD4oXyBhU3RyaW5nOiBULCBvcHRpb25zIG1hc2s6IFN0cmluZy5Db21wYXJlT3B0aW9ucyA9IHgsIHJhbmdlOiBSYW5nZTxJbmRleD4/ID0geCwgbG9jYWxlOiBMb2NhbGU/ID0geCkgLT4gQ29tcGFyaXNvblJlc3VsdCB3aGVyZSBUIDogU3RyaW5nUHJvdG9jb2wsIEluZGV4ID09IFN0cmluZy5JbmRleCB7fQogICAgcHVibGljIGZ1bmMgY29tcGxldGVQYXRoKGludG8gb3V0cHV0TmFtZTogVW5zYWZlTXV0YWJsZVBvaW50ZXI8U3RyaW5nPj8gPSB4LCBjYXNlU2Vuc2l0aXZlOiBCb29sLCBtYXRjaGVzSW50byBvdXRwdXRBcnJheTogVW5zYWZlTXV0YWJsZVBvaW50ZXI8W1N0cmluZ10+PyA9IHgsIGZpbHRlclR5cGVzOiBbU3RyaW5nXT8gPSB4KSAtPiBJbnQgd2hlcmUgSW5kZXggPT0gU3RyaW5nLkluZGV4IHt9CiAgICBwdWJsaWMgZnVuYyBjb21wb25lbnRzKHNlcGFyYXRlZEJ5IHNlcGFyYXRvcjogQ2hhcmFjdGVyU2V0KSAtPiBbU3RyaW5nXSB3aGVyZSBJbmRleCA9PSBTdHJpbmcuSW5kZXgge30KICAgIHB1YmxpYyBmdW5jIGNvbXBvbmVudHM8VD4oc2VwYXJhdGVkQnkgc2VwYXJhdG9yOiBUKSAtPiBbU3RyaW5nXSB3aGVyZSBUIDogU3RyaW5nUHJvdG9jb2wsIEluZGV4ID09IFN0cmluZy5JbmRleCB7fQogICAgcHVibGljIGZ1bmMgY29udGFpbnM8VD4oXyBvdGhlcjogVCkgLT4gQm9vbCB3aGVyZSBUIDogU3RyaW5nUHJvdG9jb2wsIEluZGV4ID09IFN0cmluZy5JbmRleCB7fQogICAgcHVibGljIGZ1bmMgZGF0YSh1c2luZyBlbmNvZGluZzogU3RyaW5nLkVuY29kaW5nLCBhbGxvd0xvc3N5Q29udmVyc2lvbjogQm9vbCA9IHgpIC0+IERhdGE/IHdoZXJlIEluZGV4ID09IFN0cmluZy5JbmRleCB7fQogICAgcHVibGljIGZ1bmMgZW51bWVyYXRlTGluZXMoaW52b2tpbmcgYm9keTogQGVzY2FwaW5nIChfIGxpbmU6IFN0cmluZywgXyBzdG9wOiBpbm91dCBCb29sKSAtPiBWb2lkKSB3aGVyZSBJbmRleCA9PSBTdHJpbmcuSW5kZXgge30KI2lmICFERVBMT1lNRU5UX1JVTlRJTUVfU1dJRlQKICAgIHB1YmxpYyBmdW5jIGVudW1lcmF0ZUxpbmd1aXN0aWNUYWdzPFQsIFI+KGluIHJhbmdlOiBSLCBzY2hlbWUgdGFnU2NoZW1lOiBULCBvcHRpb25zIG9wdHM6IE5TTGluZ3Vpc3RpY1RhZ2dlci5PcHRpb25zID0geCwgb3J0aG9ncmFwaHk6IE5TT3J0aG9ncmFwaHk/ID0geCwgaW52b2tpbmcgYm9keTogKFN0cmluZywgUmFuZ2U8SW5kZXg+LCBSYW5nZTxJbmRleD4sIGlub3V0IEJvb2wpIC0+IFZvaWQpIHdoZXJlIFIgOiBSYW5nZUV4cHJlc3Npb24sIFQgOiBTdHJpbmdQcm90b2NvbCwgSW5kZXggPT0gUi5Cb3VuZCwgSW5kZXggPT0gU3RyaW5nLkluZGV4IHt9CiNlbmRpZgogICAgcHVibGljIGZ1bmMgZW51bWVyYXRlU3Vic3RyaW5nczxSPihpbiByYW5nZTogUiwgb3B0aW9ucyBvcHRzOiBTdHJpbmcuRW51bWVyYXRpb25PcHRpb25zID0geCwgXyBib2R5OiBAZXNjYXBpbmcgKF8gc3Vic3RyaW5nOiBTdHJpbmc/LCBfIHN1YnN0cmluZ1JhbmdlOiBSYW5nZTxJbmRleD4sIF8gZW5jbG9zaW5nUmFuZ2U6IFJhbmdlPEluZGV4PiwgaW5vdXQgQm9vbCkgLT4gVm9pZCkgd2hlcmUgUiA6IFJhbmdlRXhwcmVzc2lvbiwgSW5kZXggPT0gUi5Cb3VuZCwgSW5kZXggPT0gU3RyaW5nLkluZGV4IHt9CiAgICBwdWJsaWMgZnVuYyBmb2xkaW5nKG9wdGlvbnM6IFN0cmluZy5Db21wYXJlT3B0aW9ucyA9IHgsIGxvY2FsZTogTG9jYWxlPykgLT4gU3RyaW5nIHdoZXJlIEluZGV4ID09IFN0cmluZy5JbmRleCB7fQogICAgcHVibGljIGZ1bmMgZ2V0Qnl0ZXM8Uj4oXyBidWZmZXI6IGlub3V0IFtVSW50OF0sIG1heExlbmd0aCBtYXhCdWZmZXJDb3VudDogSW50LCB1c2VkTGVuZ3RoIHVzZWRCdWZmZXJDb3VudDogVW5zYWZlTXV0YWJsZVBvaW50ZXI8SW50PiwgZW5jb2Rpbmc6IFN0cmluZy5FbmNvZGluZywgb3B0aW9uczogU3RyaW5nLkVuY29kaW5nQ29udmVyc2lvbk9wdGlvbnMgPSB4LCByYW5nZTogUiwgcmVtYWluaW5nIGxlZnRvdmVyOiBVbnNhZmVNdXRhYmxlUG9pbnRlcjxSYW5nZTxJbmRleD4+KSAtPiBCb29sIHdoZXJlIFIgOiBSYW5nZUV4cHJlc3Npb24sIEluZGV4ID09IFIuQm91bmQsIEluZGV4ID09IFN0cmluZy5JbmRleCB7fQogICAgcHVibGljIGZ1bmMgZ2V0Q1N0cmluZyhfIGJ1ZmZlcjogaW5vdXQgW0NDaGFyXSwgbWF4TGVuZ3RoOiBJbnQsIGVuY29kaW5nOiBTdHJpbmcuRW5jb2RpbmcpIC0+IEJvb2wgd2hlcmUgSW5kZXggPT0gU3RyaW5nLkluZGV4IHt9CiAgICBwdWJsaWMgZnVuYyBnZXRMaW5lU3RhcnQ8Uj4oXyBzdGFydDogVW5zYWZlTXV0YWJsZVBvaW50ZXI8SW5kZXg+LCBlbmQ6IFVuc2FmZU11dGFibGVQb2ludGVyPEluZGV4PiwgY29udGVudHNFbmQ6IFVuc2FmZU11dGFibGVQb2ludGVyPEluZGV4PiwgZm9yIHJhbmdlOiBSKSB3aGVyZSBSIDogUmFuZ2VFeHByZXNzaW9uLCBJbmRleCA9PSBSLkJvdW5kLCBJbmRleCA9PSBTdHJpbmcuSW5kZXgge30KICAgIHB1YmxpYyBmdW5jIGdldFBhcmFncmFwaFN0YXJ0PFI+KF8gc3RhcnQ6IFVuc2FmZU11dGFibGVQb2ludGVyPEluZGV4PiwgZW5kOiBVbnNhZmVNdXRhYmxlUG9pbnRlcjxJbmRleD4sIGNvbnRlbnRzRW5kOiBVbnNhZmVNdXRhYmxlUG9pbnRlcjxJbmRleD4sIGZvciByYW5nZTogUikgd2hlcmUgUiA6IFJhbmdlRXhwcmVzc2lvbiwgSW5kZXggPT0gUi5Cb3VuZCwgSW5kZXggPT0gU3RyaW5nLkluZGV4IHt9CiAgICBwdWJsaWMgZnVuYyBsZW5ndGhPZkJ5dGVzKHVzaW5nIGVuY29kaW5nOiBTdHJpbmcuRW5jb2RpbmcpIC0+IEludCB3aGVyZSBJbmRleCA9PSBTdHJpbmcuSW5kZXgge30KICAgIHB1YmxpYyBmdW5jIGxpbmVSYW5nZTxSPihmb3IgYVJhbmdlOiBSKSAtPiBSYW5nZTxJbmRleD4gd2hlcmUgUiA6IFJhbmdlRXhwcmVzc2lvbiwgSW5kZXggPT0gUi5Cb3VuZCwgSW5kZXggPT0gU3RyaW5nLkluZGV4IHt9CiNpZiAhREVQTE9ZTUVOVF9SVU5USU1FX1NXSUZUCiAgICBwdWJsaWMgZnVuYyBsaW5ndWlzdGljVGFnczxULCBSPihpbiByYW5nZTogUiwgc2NoZW1lIHRhZ1NjaGVtZTogVCwgb3B0aW9ucyBvcHRzOiBOU0xpbmd1aXN0aWNUYWdnZXIuT3B0aW9ucyA9IHgsIG9ydGhvZ3JhcGh5OiBOU09ydGhvZ3JhcGh5PyA9IHgsIHRva2VuUmFuZ2VzOiBVbnNhZmVNdXRhYmxlUG9pbnRlcjxbUmFuZ2U8SW5kZXg+XT4/ID0geCkgLT4gW1N0cmluZ10gd2hlcmUgUiA6IFJhbmdlRXhwcmVzc2lvbiwgVCA6IFN0cmluZ1Byb3RvY29sLCBJbmRleCA9PSBSLkJvdW5kLCBJbmRleCA9PSBTdHJpbmcuSW5kZXgge30KI2VuZGlmCiAgICBwdWJsaWMgZnVuYyBsb2NhbGl6ZWRDYXNlSW5zZW5zaXRpdmVDb21wYXJlPFQ+KF8gYVN0cmluZzogVCkgLT4gQ29tcGFyaXNvblJlc3VsdCB3aGVyZSBUIDogU3RyaW5nUHJvdG9jb2wsIEluZGV4ID09IFN0cmluZy5JbmRleCB7fQogICAgcHVibGljIGZ1bmMgbG9jYWxpemVkQ2FzZUluc2Vuc2l0aXZlQ29udGFpbnM8VD4oXyBvdGhlcjogVCkgLT4gQm9vbCB3aGVyZSBUIDogU3RyaW5nUHJvdG9jb2wsIEluZGV4ID09IFN0cmluZy5JbmRleCB7fQogICAgcHVibGljIGZ1bmMgbG9jYWxpemVkQ29tcGFyZTxUPihfIGFTdHJpbmc6IFQpIC0+IENvbXBhcmlzb25SZXN1bHQgd2hlcmUgVCA6IFN0cmluZ1Byb3RvY29sLCBJbmRleCA9PSBTdHJpbmcuSW5kZXgge30KICAgIHB1YmxpYyBmdW5jIGxvY2FsaXplZFN0YW5kYXJkQ29tcGFyZTxUPihfIHN0cmluZzogVCkgLT4gQ29tcGFyaXNvblJlc3VsdCB3aGVyZSBUIDogU3RyaW5nUHJvdG9jb2wsIEluZGV4ID09IFN0cmluZy5JbmRleCB7fQogICAgQGF2YWlsYWJsZShtYWNPUzEwLjExLCBpT1M5LjAsICopIHB1YmxpYyBmdW5jIGxvY2FsaXplZFN0YW5kYXJkQ29udGFpbnM8VD4oXyBzdHJpbmc6IFQpIC0+IEJvb2wgd2hlcmUgVCA6IFN0cmluZ1Byb3RvY29sLCBJbmRleCA9PSBTdHJpbmcuSW5kZXgge30KICAgIEBhdmFpbGFibGUobWFjT1MxMC4xMSwgaU9TOS4wLCAqKSBwdWJsaWMgZnVuYyBsb2NhbGl6ZWRTdGFuZGFyZFJhbmdlPFQ+KG9mIHN0cmluZzogVCkgLT4gUmFuZ2U8SW5kZXg+PyB3aGVyZSBUIDogU3RyaW5nUHJvdG9jb2wsIEluZGV4ID09IFN0cmluZy5JbmRleCB7fQogICAgcHVibGljIGZ1bmMgbG93ZXJjYXNlZCh3aXRoIGxvY2FsZTogTG9jYWxlPykgLT4gU3RyaW5nIHdoZXJlIEluZGV4ID09IFN0cmluZy5JbmRleCB7fQogICAgcHVibGljIGZ1bmMgbWF4aW11bUxlbmd0aE9mQnl0ZXModXNpbmcgZW5jb2Rpbmc6IFN0cmluZy5FbmNvZGluZykgLT4gSW50IHdoZXJlIEluZGV4ID09IFN0cmluZy5JbmRleCB7fQogICAgcHVibGljIGZ1bmMgcGFkZGluZzxUPih0b0xlbmd0aCBuZXdMZW5ndGg6IEludCwgd2l0aFBhZCBwYWRTdHJpbmc6IFQsIHN0YXJ0aW5nQXQgcGFkSW5kZXg6IEludCkgLT4gU3RyaW5nIHdoZXJlIFQgOiBTdHJpbmdQcm90b2NvbCwgSW5kZXggPT0gU3RyaW5nLkluZGV4IHt9CiNpZiAhREVQTE9ZTUVOVF9SVU5USU1FX1NXSUZUCiAgICBwdWJsaWMgZnVuYyBwYXJhZ3JhcGhSYW5nZTxSPihmb3IgYVJhbmdlOiBSKSAtPiBSYW5nZTxJbmRleD4gd2hlcmUgUiA6IFJhbmdlRXhwcmVzc2lvbiwgSW5kZXggPT0gUi5Cb3VuZCwgSW5kZXggPT0gU3RyaW5nLkluZGV4IHt9CiNlbmRpZgojaWYgIURFUExPWU1FTlRfUlVOVElNRV9TV0lGVAogICAgcHVibGljIGZ1bmMgcHJvcGVydHlMaXN0KCkgLT4gQW55IHdoZXJlIEluZGV4ID09IFN0cmluZy5JbmRleCB7fQojZW5kaWYKI2lmICFERVBMT1lNRU5UX1JVTlRJTUVfU1dJRlQKICAgIHB1YmxpYyBmdW5jIHByb3BlcnR5TGlzdEZyb21TdHJpbmdzRmlsZUZvcm1hdCgpIC0+IFtTdHJpbmc6IFN0cmluZ10gd2hlcmUgSW5kZXggPT0gU3RyaW5nLkluZGV4IHt9CiNlbmRpZgogICAgcHVibGljIGZ1bmMgcmFuZ2U8VD4ob2YgYVN0cmluZzogVCwgb3B0aW9ucyBtYXNrOiBTdHJpbmcuQ29tcGFyZU9wdGlvbnMgPSB4LCByYW5nZSBzZWFyY2hSYW5nZTogUmFuZ2U8SW5kZXg+PyA9IHgsIGxvY2FsZTogTG9jYWxlPyA9IHgpIC0+IFJhbmdlPEluZGV4Pj8gd2hlcmUgVCA6IFN0cmluZ1Byb3RvY29sLCBJbmRleCA9PSBTdHJpbmcuSW5kZXgge30KICAgIHB1YmxpYyBmdW5jIHJhbmdlT2ZDaGFyYWN0ZXIoZnJvbSBhU2V0OiBDaGFyYWN0ZXJTZXQsIG9wdGlvbnMgbWFzazogU3RyaW5nLkNvbXBhcmVPcHRpb25zID0geCwgcmFuZ2UgYVJhbmdlOiBSYW5nZTxJbmRleD4/ID0geCkgLT4gUmFuZ2U8SW5kZXg+PyB3aGVyZSBJbmRleCA9PSBTdHJpbmcuSW5kZXgge30KICAgIHB1YmxpYyBmdW5jIHJhbmdlT2ZDb21wb3NlZENoYXJhY3RlclNlcXVlbmNlKGF0IGFuSW5kZXg6IEluZGV4KSAtPiBSYW5nZTxJbmRleD4gd2hlcmUgSW5kZXggPT0gU3RyaW5nLkluZGV4IHt9CiAgICBwdWJsaWMgZnVuYyByYW5nZU9mQ29tcG9zZWRDaGFyYWN0ZXJTZXF1ZW5jZXM8Uj4oZm9yIHJhbmdlOiBSKSAtPiBSYW5nZTxJbmRleD4gd2hlcmUgUiA6IFJhbmdlRXhwcmVzc2lvbiwgSW5kZXggPT0gUi5Cb3VuZCwgSW5kZXggPT0gU3RyaW5nLkluZGV4IHt9CiAgICBwdWJsaWMgZnVuYyByZXBsYWNpbmdDaGFyYWN0ZXJzPFQsIFI+KGluIHJhbmdlOiBSLCB3aXRoIHJlcGxhY2VtZW50OiBUKSAtPiBTdHJpbmcgd2hlcmUgUiA6IFJhbmdlRXhwcmVzc2lvbiwgVCA6IFN0cmluZ1Byb3RvY29sLCBJbmRleCA9PSBSLkJvdW5kLCBJbmRleCA9PSBTdHJpbmcuSW5kZXgge30KICAgIHB1YmxpYyBmdW5jIHJlcGxhY2luZ09jY3VycmVuY2VzPFRhcmdldCwgUmVwbGFjZW1lbnQ+KG9mIHRhcmdldDogVGFyZ2V0LCB3aXRoIHJlcGxhY2VtZW50OiBSZXBsYWNlbWVudCwgb3B0aW9uczogU3RyaW5nLkNvbXBhcmVPcHRpb25zID0geCwgcmFuZ2Ugc2VhcmNoUmFuZ2U6IFJhbmdlPEluZGV4Pj8gPSB4KSAtPiBTdHJpbmcgd2hlcmUgUmVwbGFjZW1lbnQgOiBTdHJpbmdQcm90b2NvbCwgVGFyZ2V0IDogU3RyaW5nUHJvdG9jb2wsIEluZGV4ID09IFN0cmluZy5JbmRleCB7fQogICAgcHVibGljIGZ1bmMgdHJpbW1pbmdDaGFyYWN0ZXJzKGluIHNldDogQ2hhcmFjdGVyU2V0KSAtPiBTdHJpbmcgd2hlcmUgSW5kZXggPT0gU3RyaW5nLkluZGV4IHt9CiAgICBwdWJsaWMgZnVuYyB1cHBlcmNhc2VkKHdpdGggbG9jYWxlOiBMb2NhbGU/KSAtPiBTdHJpbmcgd2hlcmUgSW5kZXggPT0gU3RyaW5nLkluZGV4IHt9CiAgICBwdWJsaWMgZnVuYyB3cml0ZSh0byB1cmw6IFVSTCwgYXRvbWljYWxseSB1c2VBdXhpbGlhcnlGaWxlOiBCb29sLCBlbmNvZGluZyBlbmM6IFN0cmluZy5FbmNvZGluZykgdGhyb3dzIHdoZXJlIEluZGV4ID09IFN0cmluZy5JbmRleCB7fQogICAgcHVibGljIGZ1bmMgd3JpdGU8VD4odG9GaWxlIHBhdGg6IFQsIGF0b21pY2FsbHkgdXNlQXV4aWxpYXJ5RmlsZTogQm9vbCwgZW5jb2RpbmcgZW5jOiBTdHJpbmcuRW5jb2RpbmcpIHRocm93cyB3aGVyZSBUIDogU3RyaW5nUHJvdG9jb2wsIEluZGV4ID09IFN0cmluZy5JbmRleCB7fQp9CmV4dGVuc2lvbiBVSW50IHsKICAgIHB1YmxpYyBpbml0KF8gdmFsdWU6IENHRmxvYXQpIHt9CiAgICBwdWJsaWMgaW5pdD8oZXhhY3RseSBudW1iZXI6IE5TTnVtYmVyKSB7fQogICAgcHVibGljIGluaXQodHJ1bmNhdGluZyBudW1iZXI6IE5TTnVtYmVyKSB7fQp9CmV4dGVuc2lvbiBVSW50MTYgewogICAgcHVibGljIGluaXQoXyB2YWx1ZTogQ0dGbG9hdCkge30KICAgIHB1YmxpYyBpbml0PyhleGFjdGx5IG51bWJlcjogTlNOdW1iZXIpIHt9CiAgICBwdWJsaWMgaW5pdCh0cnVuY2F0aW5nIG51bWJlcjogTlNOdW1iZXIpIHt9Cn0KZXh0ZW5zaW9uIFVJbnQzMiB7CiAgICBwdWJsaWMgaW5pdChfIHZhbHVlOiBDR0Zsb2F0KSB7fQogICAgcHVibGljIGluaXQ/KGV4YWN0bHkgbnVtYmVyOiBOU051bWJlcikge30KICAgIHB1YmxpYyBpbml0KHRydW5jYXRpbmcgbnVtYmVyOiBOU051bWJlcikge30KfQpleHRlbnNpb24gVUludDY0IHsKICAgIHB1YmxpYyBpbml0KF8gdmFsdWU6IENHRmxvYXQpIHt9CiAgICBwdWJsaWMgaW5pdD8oZXhhY3RseSBudW1iZXI6IE5TTnVtYmVyKSB7fQogICAgcHVibGljIGluaXQodHJ1bmNhdGluZyBudW1iZXI6IE5TTnVtYmVyKSB7fQp9CmV4dGVuc2lvbiBVSW50OCB7CiAgICBwdWJsaWMgaW5pdChfIHZhbHVlOiBDR0Zsb2F0KSB7fQogICAgcHVibGljIGluaXQ/KGV4YWN0bHkgbnVtYmVyOiBOU051bWJlcikge30KICAgIHB1YmxpYyBpbml0KHRydW5jYXRpbmcgbnVtYmVyOiBOU051bWJlcikge30KfQ==")!, encoding: String.Encoding.utf8)!
    static let swift = String(data: Data(base64Encoded: "b3BlbiBjbGFzcyBNYW5hZ2VkQnVmZmVyPEhlYWRlciwgRWxlbWVudD4gewogICAgcHVibGljIHZhciBoZWFkZXI6IEhlYWRlciB7IGdldCBzZXQgfQp9CnB1YmxpYyBwcm90b2NvbCBBZGRpdGl2ZUFyaXRobWV0aWMgOiBFcXVhdGFibGUgewogICAgc3RhdGljIHZhciB6ZXJvOiBTZWxmIHsgZ2V0IH0KICAgIHByZWZpeCBmdW5jICsoeDogU2VsZikgLT4gU2VsZgogICAgZnVuYyArKGxoczogU2VsZiwgcmhzOiBTZWxmKSAtPiBTZWxmCiAgICBmdW5jICs9KGxoczogaW5vdXQgU2VsZiwgcmhzOiBTZWxmKQogICAgZnVuYyAtKGxoczogU2VsZiwgcmhzOiBTZWxmKSAtPiBTZWxmCiAgICBmdW5jIC09KGxoczogaW5vdXQgU2VsZiwgcmhzOiBTZWxmKQp9CnB1YmxpYyBwcm90b2NvbCBCaWRpcmVjdGlvbmFsQ29sbGVjdGlvbiA6IENvbGxlY3Rpb24sIFNlcXVlbmNlIHsKICAgIHZhciBsYXN0OiBFbGVtZW50PyB7IGdldCB9CiAgICBzdWJzY3JpcHQocG9zaXRpb246IEluZGV4KSAtPiBFbGVtZW50IHsgZ2V0IH0KICAgIGZ1bmMgZm9ybUluZGV4KGJlZm9yZSBpOiBpbm91dCBJbmRleCkKICAgIGZ1bmMgaW5kZXgoYmVmb3JlIGk6IEluZGV4KSAtPiBJbmRleAogICAgZnVuYyBqb2luZWQoc2VwYXJhdG9yOiBTdHJpbmcgPSB4KSAtPiBTdHJpbmcgd2hlcmUgRWxlbWVudCA9PSBTdHJpbmcKICAgIGZ1bmMgbGFzdCh3aGVyZSBwcmVkaWNhdGU6IChFbGVtZW50KSB0aHJvd3MgLT4gQm9vbCkgcmV0aHJvd3MgLT4gRWxlbWVudD8KICAgIGZ1bmMgbGFzdEluZGV4KG9mIGVsZW1lbnQ6IEVsZW1lbnQpIC0+IEluZGV4PyB3aGVyZSBFbGVtZW50IDogRXF1YXRhYmxlCiAgICBmdW5jIGxhc3RJbmRleCh3aGVyZSBwcmVkaWNhdGU6IChFbGVtZW50KSB0aHJvd3MgLT4gQm9vbCkgcmV0aHJvd3MgLT4gSW5kZXg/CiAgICBtdXRhdGluZyBmdW5jIHBvcExhc3QoKSAtPiBFbGVtZW50PyB3aGVyZSBTZWxmID09IFN1YlNlcXVlbmNlCiAgICBAZGlzY2FyZGFibGVSZXN1bHQgbXV0YXRpbmcgZnVuYyByZW1vdmVMYXN0KCkgLT4gRWxlbWVudCB3aGVyZSBTZWxmID09IFN1YlNlcXVlbmNlCiAgICBtdXRhdGluZyBmdW5jIHJlbW92ZUxhc3QoXyBrOiBJbnQpIHdoZXJlIFNlbGYgPT0gU3ViU2VxdWVuY2UKfQpwdWJsaWMgcHJvdG9jb2wgQmluYXJ5RmxvYXRpbmdQb2ludCA6IEV4cHJlc3NpYmxlQnlGbG9hdExpdGVyYWwsIEZsb2F0aW5nUG9pbnQsIEhhc2hhYmxlLCBTaWduZWROdW1lcmljLCBTdHJpZGVhYmxlIHsKICAgIHN0YXRpYyB2YXIgZXhwb25lbnRCaXRDb3VudDogSW50IHsgZ2V0IH0KICAgIHN0YXRpYyB2YXIgc2lnbmlmaWNhbmRCaXRDb3VudDogSW50IHsgZ2V0IH0KICAgIHN0YXRpYyBmdW5jIHJhbmRvbShpbiByYW5nZTogQ2xvc2VkUmFuZ2U8U2VsZj4pIC0+IFNlbGYgd2hlcmUgUmF3U2lnbmlmaWNhbmQgOiBGaXhlZFdpZHRoSW50ZWdlcgogICAgc3RhdGljIGZ1bmMgcmFuZG9tKGluIHJhbmdlOiBSYW5nZTxTZWxmPikgLT4gU2VsZiB3aGVyZSBSYXdTaWduaWZpY2FuZCA6IEZpeGVkV2lkdGhJbnRlZ2VyCiAgICBzdGF0aWMgZnVuYyByYW5kb208VD4oaW4gcmFuZ2U6IENsb3NlZFJhbmdlPFNlbGY+LCB1c2luZyBnZW5lcmF0b3I6IGlub3V0IFQpIC0+IFNlbGYgd2hlcmUgUmF3U2lnbmlmaWNhbmQgOiBGaXhlZFdpZHRoSW50ZWdlciwgVCA6IFJhbmRvbU51bWJlckdlbmVyYXRvcgogICAgc3RhdGljIGZ1bmMgcmFuZG9tPFQ+KGluIHJhbmdlOiBSYW5nZTxTZWxmPiwgdXNpbmcgZ2VuZXJhdG9yOiBpbm91dCBUKSAtPiBTZWxmIHdoZXJlIFJhd1NpZ25pZmljYW5kIDogRml4ZWRXaWR0aEludGVnZXIsIFQgOiBSYW5kb21OdW1iZXJHZW5lcmF0b3IKICAgIGluaXQoc2lnbjogRmxvYXRpbmdQb2ludFNpZ24sIGV4cG9uZW50Qml0UGF0dGVybjogUmF3RXhwb25lbnQsIHNpZ25pZmljYW5kQml0UGF0dGVybjogUmF3U2lnbmlmaWNhbmQpCiAgICB2YXIgYmluYWRlOiBTZWxmIHsgZ2V0IH0KICAgIHZhciBleHBvbmVudEJpdFBhdHRlcm46IFJhd0V4cG9uZW50IHsgZ2V0IH0KICAgIHZhciBzaWduaWZpY2FuZEJpdFBhdHRlcm46IFJhd1NpZ25pZmljYW5kIHsgZ2V0IH0KICAgIHZhciBzaWduaWZpY2FuZFdpZHRoOiBJbnQgeyBnZXQgfQp9CnB1YmxpYyBwcm90b2NvbCBCaW5hcnlJbnRlZ2VyIDogQWRkaXRpdmVBcml0aG1ldGljLCBDb21wYXJhYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBFeHByZXNzaWJsZUJ5SW50ZWdlckxpdGVyYWwsIEhhc2hhYmxlLCBOdW1lcmljLCBTdHJpZGVhYmxlIHsKICAgIHN0YXRpYyB2YXIgaXNTaWduZWQ6IEJvb2wgeyBnZXQgfQogICAgaW5pdCgpCiAgICBpbml0PFQ+KF8gc291cmNlOiBUKSB3aGVyZSBUIDogQmluYXJ5RmxvYXRpbmdQb2ludAogICAgaW5pdDxUPihfIHNvdXJjZTogVCkgd2hlcmUgVCA6IEJpbmFyeUludGVnZXIKICAgIGluaXQ8VD4oY2xhbXBpbmcgc291cmNlOiBUKSB3aGVyZSBUIDogQmluYXJ5SW50ZWdlcgogICAgaW5pdDxUPih0cnVuY2F0aW5nSWZOZWVkZWQgc291cmNlOiBUKSB3aGVyZSBUIDogQmluYXJ5SW50ZWdlcgogICAgdmFyIGJpdFdpZHRoOiBJbnQgeyBnZXQgfQogICAgdmFyIHRyYWlsaW5nWmVyb0JpdENvdW50OiBJbnQgeyBnZXQgfQogICAgdmFyIHdvcmRzOiBXb3JkcyB7IGdldCB9CiAgICBmdW5jICUobGhzOiBTZWxmLCByaHM6IFNlbGYpIC0+IFNlbGYKICAgIGZ1bmMgJT0obGhzOiBpbm91dCBTZWxmLCByaHM6IFNlbGYpCiAgICBmdW5jICYobGhzOiBTZWxmLCByaHM6IFNlbGYpIC0+IFNlbGYKICAgIGZ1bmMgJj0obGhzOiBpbm91dCBTZWxmLCByaHM6IFNlbGYpCiAgICBmdW5jIC8obGhzOiBTZWxmLCByaHM6IFNlbGYpIC0+IFNlbGYKICAgIGZ1bmMgLz0obGhzOiBpbm91dCBTZWxmLCByaHM6IFNlbGYpCiAgICBmdW5jIDw8PFJIUz4obGhzOiBTZWxmLCByaHM6IFJIUykgLT4gU2VsZiB3aGVyZSBSSFMgOiBCaW5hcnlJbnRlZ2VyCiAgICBmdW5jIDw8PTxSSFM+KGxoczogaW5vdXQgU2VsZiwgcmhzOiBSSFMpIHdoZXJlIFJIUyA6IEJpbmFyeUludGVnZXIKICAgIGZ1bmMgPD08T3RoZXI+KGxoczogU2VsZiwgcmhzOiBPdGhlcikgLT4gQm9vbCB3aGVyZSBPdGhlciA6IEJpbmFyeUludGVnZXIKICAgIGZ1bmMgPjxPdGhlcj4obGhzOiBTZWxmLCByaHM6IE90aGVyKSAtPiBCb29sIHdoZXJlIE90aGVyIDogQmluYXJ5SW50ZWdlcgogICAgZnVuYyA+PTxPdGhlcj4obGhzOiBTZWxmLCByaHM6IE90aGVyKSAtPiBCb29sIHdoZXJlIE90aGVyIDogQmluYXJ5SW50ZWdlcgogICAgZnVuYyA+PjxSSFM+KGxoczogU2VsZiwgcmhzOiBSSFMpIC0+IFNlbGYgd2hlcmUgUkhTIDogQmluYXJ5SW50ZWdlcgogICAgZnVuYyA+Pj08UkhTPihsaHM6IGlub3V0IFNlbGYsIHJoczogUkhTKSB3aGVyZSBSSFMgOiBCaW5hcnlJbnRlZ2VyCiAgICBmdW5jIF4obGhzOiBTZWxmLCByaHM6IFNlbGYpIC0+IFNlbGYKICAgIGZ1bmMgXj0obGhzOiBpbm91dCBTZWxmLCByaHM6IFNlbGYpCiAgICBmdW5jIGlzTXVsdGlwbGUob2Ygb3RoZXI6IFNlbGYpIC0+IEJvb2wKICAgIGZ1bmMgcXVvdGllbnRBbmRSZW1haW5kZXIoZGl2aWRpbmdCeSByaHM6IFNlbGYpIC0+IChxdW90aWVudCA6IFNlbGYsIHJlbWFpbmRlciA6IFNlbGYpCiAgICBmdW5jIHF1b3RpZW50QW5kUmVtYWluZGVyKGRpdmlkaW5nQnkgcmhzOiBTZWxmKSAtPiAocXVvdGllbnQgOiBTZWxmLCByZW1haW5kZXIgOiBTZWxmKQogICAgZnVuYyBzaWdudW0oKSAtPiBTZWxmCiAgICBmdW5jIHwobGhzOiBTZWxmLCByaHM6IFNlbGYpIC0+IFNlbGYKICAgIGZ1bmMgfD0obGhzOiBpbm91dCBTZWxmLCByaHM6IFNlbGYpCiAgICBwcmVmaXggZnVuYyB+KHg6IFNlbGYpIC0+IFNlbGYKfQpwdWJsaWMgcHJvdG9jb2wgQ1ZhckFyZyB7Cn0KcHVibGljIHByb3RvY29sIENhc2VJdGVyYWJsZSB7CiAgICBzdGF0aWMgdmFyIGFsbENhc2VzOiBBbGxDYXNlcyB7IGdldCB9Cn0KcHVibGljIHByb3RvY29sIENvbGxlY3Rpb24gOiBTZXF1ZW5jZSB7CiAgICB2YXIgY291bnQ6IEludCB7IGdldCB9CiAgICB2YXIgZW5kSW5kZXg6IEluZGV4IHsgZ2V0IH0KICAgIHZhciBmaXJzdDogRWxlbWVudD8geyBnZXQgfQogICAgdmFyIGluZGljZXM6IERlZmF1bHRJbmRpY2VzPFNlbGY+IHsgZ2V0IH0gd2hlcmUgRGVmYXVsdEluZGljZXM8U2VsZj4gPT0gSW5kaWNlcwogICAgdmFyIGluZGljZXM6IEluZGljZXMgeyBnZXQgfQogICAgdmFyIGlzRW1wdHk6IEJvb2wgeyBnZXQgfQogICAgdmFyIGlzRW1wdHk6IEJvb2wgeyBnZXQgfQogICAgdmFyIHN0YXJ0SW5kZXg6IEluZGV4IHsgZ2V0IH0KICAgIHN1YnNjcmlwdChib3VuZHM6IFJhbmdlPEluZGV4PikgLT4gU2xpY2U8U2VsZj4geyBnZXQgfSB3aGVyZSBTbGljZTxTZWxmPiA9PSBTdWJTZXF1ZW5jZQogICAgc3Vic2NyaXB0KGJvdW5kczogUmFuZ2U8SW5kZXg+KSAtPiBTdWJTZXF1ZW5jZSB7IGdldCB9CiAgICBzdWJzY3JpcHQoeDogVW5ib3VuZGVkUmFuZ2UpIC0+IFN1YlNlcXVlbmNlIHsgZ2V0IH0KICAgIHN1YnNjcmlwdDxSPihyOiBSKSAtPiBTdWJTZXF1ZW5jZSB7IGdldCB9IHdoZXJlIFIgOiBSYW5nZUV4cHJlc3Npb24sIEluZGV4ID09IFIuQm91bmQKICAgIGZ1bmMgZGlzdGFuY2UoZnJvbSBzdGFydDogSW5kZXgsIHRvIGVuZDogSW5kZXgpIC0+IEludAogICAgZnVuYyBmaXJzdEluZGV4KG9mIGVsZW1lbnQ6IEVsZW1lbnQpIC0+IEluZGV4PyB3aGVyZSBFbGVtZW50IDogRXF1YXRhYmxlCiAgICBmdW5jIGZpcnN0SW5kZXgod2hlcmUgcHJlZGljYXRlOiAoRWxlbWVudCkgdGhyb3dzIC0+IEJvb2wpIHJldGhyb3dzIC0+IEluZGV4PwogICAgZnVuYyBmb3JtSW5kZXgoXyBpOiBpbm91dCBJbmRleCwgb2Zmc2V0QnkgZGlzdGFuY2U6IEludCkKICAgIGZ1bmMgZm9ybUluZGV4KF8gaTogaW5vdXQgSW5kZXgsIG9mZnNldEJ5IGRpc3RhbmNlOiBJbnQsIGxpbWl0ZWRCeSBsaW1pdDogSW5kZXgpIC0+IEJvb2wKICAgIGZ1bmMgZm9ybUluZGV4KGFmdGVyIGk6IGlub3V0IEluZGV4KQogICAgZnVuYyBpbmRleChfIGk6IEluZGV4LCBvZmZzZXRCeSBkaXN0YW5jZTogSW50KSAtPiBJbmRleAogICAgZnVuYyBpbmRleChfIGk6IEluZGV4LCBvZmZzZXRCeSBkaXN0YW5jZTogSW50LCBsaW1pdGVkQnkgbGltaXQ6IEluZGV4KSAtPiBJbmRleD8KICAgIGZ1bmMgaW5kZXgoYWZ0ZXIgaTogSW5kZXgpIC0+IEluZGV4CiAgICBmdW5jIG1ha2VJdGVyYXRvcigpIC0+IEl0ZXJhdG9yCiAgICBtdXRhdGluZyBmdW5jIHBvcEZpcnN0KCkgLT4gRWxlbWVudD8gd2hlcmUgU2VsZiA9PSBTdWJTZXF1ZW5jZQogICAgZnVuYyByYW5kb21FbGVtZW50KCkgLT4gRWxlbWVudD8KICAgIGZ1bmMgcmFuZG9tRWxlbWVudDxUPih1c2luZyBnZW5lcmF0b3I6IGlub3V0IFQpIC0+IEVsZW1lbnQ/IHdoZXJlIFQgOiBSYW5kb21OdW1iZXJHZW5lcmF0b3IKICAgIEBkaXNjYXJkYWJsZVJlc3VsdCBtdXRhdGluZyBmdW5jIHJlbW92ZUZpcnN0KCkgLT4gRWxlbWVudCB3aGVyZSBTZWxmID09IFN1YlNlcXVlbmNlCiAgICBtdXRhdGluZyBmdW5jIHJlbW92ZUZpcnN0KF8gazogSW50KSB3aGVyZSBTZWxmID09IFN1YlNlcXVlbmNlCn0KcHVibGljIHByb3RvY29sIENvbXBhcmFibGUgOiBFcXVhdGFibGUgewogICAgcG9zdGZpeCBmdW5jIC4uLihtaW5pbXVtOiBTZWxmKSAtPiBQYXJ0aWFsUmFuZ2VGcm9tPFNlbGY+CiAgICBwcmVmaXggZnVuYyAuLi4obWF4aW11bTogU2VsZikgLT4gUGFydGlhbFJhbmdlVGhyb3VnaDxTZWxmPgogICAgZnVuYyAuLi4obWluaW11bTogU2VsZiwgbWF4aW11bTogU2VsZikgLT4gQ2xvc2VkUmFuZ2U8U2VsZj4KICAgIHByZWZpeCBmdW5jIC4uPChtYXhpbXVtOiBTZWxmKSAtPiBQYXJ0aWFsUmFuZ2VVcFRvPFNlbGY+CiAgICBmdW5jIC4uPChtaW5pbXVtOiBTZWxmLCBtYXhpbXVtOiBTZWxmKSAtPiBSYW5nZTxTZWxmPgogICAgZnVuYyA8KGxoczogU2VsZiwgcmhzOiBTZWxmKSAtPiBCb29sCiAgICBmdW5jIDw9KGxoczogU2VsZiwgcmhzOiBTZWxmKSAtPiBCb29sCiAgICBmdW5jIDw9KGxoczogU2VsZiwgcmhzOiBTZWxmKSAtPiBCb29sCiAgICBmdW5jID4obGhzOiBTZWxmLCByaHM6IFNlbGYpIC0+IEJvb2wKICAgIGZ1bmMgPihsaHM6IFNlbGYsIHJoczogU2VsZikgLT4gQm9vbAogICAgZnVuYyA+PShsaHM6IFNlbGYsIHJoczogU2VsZikgLT4gQm9vbAogICAgZnVuYyA+PShsaHM6IFNlbGYsIHJoczogU2VsZikgLT4gQm9vbAp9CnB1YmxpYyBwcm90b2NvbCBDdXN0b21EZWJ1Z1N0cmluZ0NvbnZlcnRpYmxlIHsKICAgIHZhciBkZWJ1Z0Rlc2NyaXB0aW9uOiBTdHJpbmcgeyBnZXQgfQp9CnB1YmxpYyBwcm90b2NvbCBDdXN0b21MZWFmUmVmbGVjdGFibGUgOiBDdXN0b21SZWZsZWN0YWJsZSB7Cn0KcHVibGljIHByb3RvY29sIEN1c3RvbVBsYXlncm91bmREaXNwbGF5Q29udmVydGlibGUgewogICAgdmFyIHBsYXlncm91bmREZXNjcmlwdGlvbjogQW55IHsgZ2V0IH0KfQpwdWJsaWMgcHJvdG9jb2wgQ3VzdG9tUmVmbGVjdGFibGUgewogICAgdmFyIGN1c3RvbU1pcnJvcjogTWlycm9yIHsgZ2V0IH0KfQpwdWJsaWMgcHJvdG9jb2wgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUgewogICAgdmFyIGRlc2NyaXB0aW9uOiBTdHJpbmcgeyBnZXQgfQp9CnB1YmxpYyBwcm90b2NvbCBFcXVhdGFibGUgewogICAgZnVuYyAhPShsaHM6IFNlbGYsIHJoczogU2VsZikgLT4gQm9vbAogICAgZnVuYyA9PShsaHM6IFNlbGYsIHJoczogU2VsZikgLT4gQm9vbAp9CnB1YmxpYyBwcm90b2NvbCBFcnJvciB7Cn0KcHVibGljIHByb3RvY29sIEV4cHJlc3NpYmxlQnlBcnJheUxpdGVyYWwgewogICAgaW5pdChhcnJheUxpdGVyYWwgZWxlbWVudHM6IEFycmF5TGl0ZXJhbEVsZW1lbnQuLi4pCn0KcHVibGljIHByb3RvY29sIEV4cHJlc3NpYmxlQnlCb29sZWFuTGl0ZXJhbCB7CiAgICBpbml0KGJvb2xlYW5MaXRlcmFsIHZhbHVlOiBCb29sZWFuTGl0ZXJhbFR5cGUpCn0KcHVibGljIHByb3RvY29sIEV4cHJlc3NpYmxlQnlEaWN0aW9uYXJ5TGl0ZXJhbCB7CiAgICBpbml0KGRpY3Rpb25hcnlMaXRlcmFsIGVsZW1lbnRzOiAoS2V5LCBWYWx1ZSkuLi4pCn0KcHVibGljIHByb3RvY29sIEV4cHJlc3NpYmxlQnlFeHRlbmRlZEdyYXBoZW1lQ2x1c3RlckxpdGVyYWwgOiBFeHByZXNzaWJsZUJ5VW5pY29kZVNjYWxhckxpdGVyYWwgewogICAgaW5pdChleHRlbmRlZEdyYXBoZW1lQ2x1c3RlckxpdGVyYWwgdmFsdWU6IEV4dGVuZGVkR3JhcGhlbWVDbHVzdGVyTGl0ZXJhbFR5cGUpCn0KcHVibGljIHByb3RvY29sIEV4cHJlc3NpYmxlQnlGbG9hdExpdGVyYWwgewogICAgaW5pdChmbG9hdExpdGVyYWwgdmFsdWU6IEZsb2F0TGl0ZXJhbFR5cGUpCn0KcHVibGljIHByb3RvY29sIEV4cHJlc3NpYmxlQnlJbnRlZ2VyTGl0ZXJhbCB7CiAgICBpbml0KGludGVnZXJMaXRlcmFsIHZhbHVlOiBJbnRlZ2VyTGl0ZXJhbFR5cGUpCn0KcHVibGljIHByb3RvY29sIEV4cHJlc3NpYmxlQnlOaWxMaXRlcmFsIHsKICAgIGluaXQobmlsTGl0ZXJhbDogVm9pZCkKfQpwdWJsaWMgcHJvdG9jb2wgRXhwcmVzc2libGVCeVN0cmluZ0ludGVycG9sYXRpb24gOiBFeHByZXNzaWJsZUJ5RXh0ZW5kZWRHcmFwaGVtZUNsdXN0ZXJMaXRlcmFsLCBFeHByZXNzaWJsZUJ5U3RyaW5nTGl0ZXJhbCwgRXhwcmVzc2libGVCeVVuaWNvZGVTY2FsYXJMaXRlcmFsIHsKICAgIGluaXQoc3RyaW5nSW50ZXJwb2xhdGlvbjogRGVmYXVsdFN0cmluZ0ludGVycG9sYXRpb24pIHdoZXJlIERlZmF1bHRTdHJpbmdJbnRlcnBvbGF0aW9uID09IFN0cmluZ0ludGVycG9sYXRpb24KICAgIGluaXQoc3RyaW5nSW50ZXJwb2xhdGlvbjogU3RyaW5nSW50ZXJwb2xhdGlvbikKfQpwdWJsaWMgcHJvdG9jb2wgRXhwcmVzc2libGVCeVN0cmluZ0xpdGVyYWwgOiBFeHByZXNzaWJsZUJ5RXh0ZW5kZWRHcmFwaGVtZUNsdXN0ZXJMaXRlcmFsLCBFeHByZXNzaWJsZUJ5VW5pY29kZVNjYWxhckxpdGVyYWwgewogICAgaW5pdChzdHJpbmdMaXRlcmFsIHZhbHVlOiBTdHJpbmdMaXRlcmFsVHlwZSkKfQpwdWJsaWMgcHJvdG9jb2wgRXhwcmVzc2libGVCeVVuaWNvZGVTY2FsYXJMaXRlcmFsIHsKICAgIGluaXQodW5pY29kZVNjYWxhckxpdGVyYWwgdmFsdWU6IFVuaWNvZGVTY2FsYXJMaXRlcmFsVHlwZSkKfQpwdWJsaWMgcHJvdG9jb2wgRml4ZWRXaWR0aEludGVnZXIgOiBBZGRpdGl2ZUFyaXRobWV0aWMsIEJpbmFyeUludGVnZXIsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEV4cHJlc3NpYmxlQnlJbnRlZ2VyTGl0ZXJhbCwgSGFzaGFibGUsIExvc3NsZXNzU3RyaW5nQ29udmVydGlibGUsIE51bWVyaWMsIFN0cmlkZWFibGUgewogICAgc3RhdGljIHZhciBiaXRXaWR0aDogSW50IHsgZ2V0IH0KICAgIHN0YXRpYyB2YXIgbWF4OiBTZWxmIHsgZ2V0IH0KICAgIHN0YXRpYyB2YXIgbWluOiBTZWxmIHsgZ2V0IH0KICAgIHN0YXRpYyBmdW5jIHJhbmRvbShpbiByYW5nZTogQ2xvc2VkUmFuZ2U8U2VsZj4pIC0+IFNlbGYKICAgIHN0YXRpYyBmdW5jIHJhbmRvbShpbiByYW5nZTogUmFuZ2U8U2VsZj4pIC0+IFNlbGYKICAgIHN0YXRpYyBmdW5jIHJhbmRvbTxUPihpbiByYW5nZTogQ2xvc2VkUmFuZ2U8U2VsZj4sIHVzaW5nIGdlbmVyYXRvcjogaW5vdXQgVCkgLT4gU2VsZiB3aGVyZSBUIDogUmFuZG9tTnVtYmVyR2VuZXJhdG9yCiAgICBzdGF0aWMgZnVuYyByYW5kb208VD4oaW4gcmFuZ2U6IFJhbmdlPFNlbGY+LCB1c2luZyBnZW5lcmF0b3I6IGlub3V0IFQpIC0+IFNlbGYgd2hlcmUgVCA6IFJhbmRvbU51bWJlckdlbmVyYXRvcgogICAgaW5pdD88Uz4oXyB0ZXh0OiBTLCByYWRpeDogSW50ID0geCkgd2hlcmUgUyA6IFN0cmluZ1Byb3RvY29sCiAgICBpbml0KGJpZ0VuZGlhbiB2YWx1ZTogU2VsZikKICAgIGluaXQobGl0dGxlRW5kaWFuIHZhbHVlOiBTZWxmKQogICAgdmFyIGJpZ0VuZGlhbjogU2VsZiB7IGdldCB9CiAgICB2YXIgYnl0ZVN3YXBwZWQ6IFNlbGYgeyBnZXQgfQogICAgdmFyIGxlYWRpbmdaZXJvQml0Q291bnQ6IEludCB7IGdldCB9CiAgICB2YXIgbGl0dGxlRW5kaWFuOiBTZWxmIHsgZ2V0IH0KICAgIHZhciBub256ZXJvQml0Q291bnQ6IEludCB7IGdldCB9CiAgICBmdW5jICYqKGxoczogU2VsZiwgcmhzOiBTZWxmKSAtPiBTZWxmCiAgICBmdW5jICYqPShsaHM6IGlub3V0IFNlbGYsIHJoczogU2VsZikKICAgIGZ1bmMgJisobGhzOiBTZWxmLCByaHM6IFNlbGYpIC0+IFNlbGYKICAgIGZ1bmMgJis9KGxoczogaW5vdXQgU2VsZiwgcmhzOiBTZWxmKQogICAgZnVuYyAmLShsaHM6IFNlbGYsIHJoczogU2VsZikgLT4gU2VsZgogICAgZnVuYyAmLT0obGhzOiBpbm91dCBTZWxmLCByaHM6IFNlbGYpCiAgICBmdW5jICY8PChsaHM6IFNlbGYsIHJoczogU2VsZikgLT4gU2VsZgogICAgZnVuYyAmPDw9KGxoczogaW5vdXQgU2VsZiwgcmhzOiBTZWxmKQogICAgZnVuYyAmPj4obGhzOiBTZWxmLCByaHM6IFNlbGYpIC0+IFNlbGYKICAgIGZ1bmMgJj4+PShsaHM6IGlub3V0IFNlbGYsIHJoczogU2VsZikKICAgIGZ1bmMgYWRkaW5nUmVwb3J0aW5nT3ZlcmZsb3coXyByaHM6IFNlbGYpIC0+IChwYXJ0aWFsVmFsdWUgOiBTZWxmLCBvdmVyZmxvdyA6IEJvb2wpCiAgICBmdW5jIGRpdmlkZWRSZXBvcnRpbmdPdmVyZmxvdyhieSByaHM6IFNlbGYpIC0+IChwYXJ0aWFsVmFsdWUgOiBTZWxmLCBvdmVyZmxvdyA6IEJvb2wpCiAgICBmdW5jIGRpdmlkaW5nRnVsbFdpZHRoKF8gZGl2aWRlbmQ6IChoaWdoIDogU2VsZiwgbG93IDogTWFnbml0dWRlKSkgLT4gKHF1b3RpZW50IDogU2VsZiwgcmVtYWluZGVyIDogU2VsZikKICAgIGZ1bmMgbXVsdGlwbGllZEZ1bGxXaWR0aChieSBvdGhlcjogU2VsZikgLT4gKGhpZ2ggOiBTZWxmLCBsb3cgOiBNYWduaXR1ZGUpCiAgICBmdW5jIG11bHRpcGxpZWRSZXBvcnRpbmdPdmVyZmxvdyhieSByaHM6IFNlbGYpIC0+IChwYXJ0aWFsVmFsdWUgOiBTZWxmLCBvdmVyZmxvdyA6IEJvb2wpCiAgICBmdW5jIHJlbWFpbmRlclJlcG9ydGluZ092ZXJmbG93KGRpdmlkaW5nQnkgcmhzOiBTZWxmKSAtPiAocGFydGlhbFZhbHVlIDogU2VsZiwgb3ZlcmZsb3cgOiBCb29sKQogICAgZnVuYyBzdWJ0cmFjdGluZ1JlcG9ydGluZ092ZXJmbG93KF8gcmhzOiBTZWxmKSAtPiAocGFydGlhbFZhbHVlIDogU2VsZiwgb3ZlcmZsb3cgOiBCb29sKQp9CnB1YmxpYyBwcm90b2NvbCBGbG9hdGluZ1BvaW50IDogQWRkaXRpdmVBcml0aG1ldGljLCBDb21wYXJhYmxlLCBFcXVhdGFibGUsIEV4cHJlc3NpYmxlQnlJbnRlZ2VyTGl0ZXJhbCwgSGFzaGFibGUsIE51bWVyaWMsIFNpZ25lZE51bWVyaWMsIFN0cmlkZWFibGUgewogICAgc3RhdGljIHZhciBncmVhdGVzdEZpbml0ZU1hZ25pdHVkZTogU2VsZiB7IGdldCB9CiAgICBzdGF0aWMgdmFyIGluZmluaXR5OiBTZWxmIHsgZ2V0IH0KICAgIHN0YXRpYyB2YXIgbGVhc3ROb256ZXJvTWFnbml0dWRlOiBTZWxmIHsgZ2V0IH0KICAgIHN0YXRpYyB2YXIgbGVhc3ROb3JtYWxNYWduaXR1ZGU6IFNlbGYgeyBnZXQgfQogICAgc3RhdGljIHZhciBuYW46IFNlbGYgeyBnZXQgfQogICAgc3RhdGljIHZhciBwaTogU2VsZiB7IGdldCB9CiAgICBzdGF0aWMgdmFyIHJhZGl4OiBJbnQgeyBnZXQgfQogICAgc3RhdGljIHZhciBzaWduYWxpbmdOYU46IFNlbGYgeyBnZXQgfQogICAgc3RhdGljIHZhciB1bHBPZk9uZTogU2VsZiB7IGdldCB9CiAgICBzdGF0aWMgZnVuYyBtYXhpbXVtKF8geDogU2VsZiwgXyB5OiBTZWxmKSAtPiBTZWxmCiAgICBzdGF0aWMgZnVuYyBtYXhpbXVtTWFnbml0dWRlKF8geDogU2VsZiwgXyB5OiBTZWxmKSAtPiBTZWxmCiAgICBzdGF0aWMgZnVuYyBtaW5pbXVtKF8geDogU2VsZiwgXyB5OiBTZWxmKSAtPiBTZWxmCiAgICBzdGF0aWMgZnVuYyBtaW5pbXVtTWFnbml0dWRlKF8geDogU2VsZiwgXyB5OiBTZWxmKSAtPiBTZWxmCiAgICBpbml0KF8gdmFsdWU6IEludCkKICAgIGluaXQoc2lnbjogRmxvYXRpbmdQb2ludFNpZ24sIGV4cG9uZW50OiBFeHBvbmVudCwgc2lnbmlmaWNhbmQ6IFNlbGYpCiAgICBpbml0KHNpZ25PZjogU2VsZiwgbWFnbml0dWRlT2Y6IFNlbGYpCiAgICB2YXIgZXhwb25lbnQ6IEV4cG9uZW50IHsgZ2V0IH0KICAgIHZhciBmbG9hdGluZ1BvaW50Q2xhc3M6IEZsb2F0aW5nUG9pbnRDbGFzc2lmaWNhdGlvbiB7IGdldCB9CiAgICB2YXIgaXNDYW5vbmljYWw6IEJvb2wgeyBnZXQgfQogICAgdmFyIGlzRmluaXRlOiBCb29sIHsgZ2V0IH0KICAgIHZhciBpc0luZmluaXRlOiBCb29sIHsgZ2V0IH0KICAgIHZhciBpc05hTjogQm9vbCB7IGdldCB9CiAgICB2YXIgaXNOb3JtYWw6IEJvb2wgeyBnZXQgfQogICAgdmFyIGlzU2lnbmFsaW5nTmFOOiBCb29sIHsgZ2V0IH0KICAgIHZhciBpc1N1Ym5vcm1hbDogQm9vbCB7IGdldCB9CiAgICB2YXIgaXNaZXJvOiBCb29sIHsgZ2V0IH0KICAgIHZhciBuZXh0RG93bjogU2VsZiB7IGdldCB9CiAgICB2YXIgbmV4dFVwOiBTZWxmIHsgZ2V0IH0KICAgIHZhciBzaWduOiBGbG9hdGluZ1BvaW50U2lnbiB7IGdldCB9CiAgICB2YXIgc2lnbmlmaWNhbmQ6IFNlbGYgeyBnZXQgfQogICAgdmFyIHVscDogU2VsZiB7IGdldCB9CiAgICBmdW5jIC8obGhzOiBTZWxmLCByaHM6IFNlbGYpIC0+IFNlbGYKICAgIGZ1bmMgLz0obGhzOiBpbm91dCBTZWxmLCByaHM6IFNlbGYpCiAgICBmdW5jIDw9KGxoczogU2VsZiwgcmhzOiBTZWxmKSAtPiBCb29sCiAgICBmdW5jID4obGhzOiBTZWxmLCByaHM6IFNlbGYpIC0+IEJvb2wKICAgIGZ1bmMgPj0obGhzOiBTZWxmLCByaHM6IFNlbGYpIC0+IEJvb2wKICAgIG11dGF0aW5nIGZ1bmMgYWRkUHJvZHVjdChfIGxoczogU2VsZiwgXyByaHM6IFNlbGYpCiAgICBmdW5jIGFkZGluZ1Byb2R1Y3QoXyBsaHM6IFNlbGYsIF8gcmhzOiBTZWxmKSAtPiBTZWxmCiAgICBtdXRhdGluZyBmdW5jIGZvcm1SZW1haW5kZXIoZGl2aWRpbmdCeSBvdGhlcjogU2VsZikKICAgIG11dGF0aW5nIGZ1bmMgZm9ybVNxdWFyZVJvb3QoKQogICAgbXV0YXRpbmcgZnVuYyBmb3JtVHJ1bmNhdGluZ1JlbWFpbmRlcihkaXZpZGluZ0J5IG90aGVyOiBTZWxmKQogICAgZnVuYyBpc0VxdWFsKHRvIG90aGVyOiBTZWxmKSAtPiBCb29sCiAgICBmdW5jIGlzTGVzcyh0aGFuIG90aGVyOiBTZWxmKSAtPiBCb29sCiAgICBmdW5jIGlzTGVzc1RoYW5PckVxdWFsVG8oXyBvdGhlcjogU2VsZikgLT4gQm9vbAogICAgZnVuYyBpc1RvdGFsbHlPcmRlcmVkKGJlbG93T3JFcXVhbFRvIG90aGVyOiBTZWxmKSAtPiBCb29sCiAgICBmdW5jIHJlbWFpbmRlcihkaXZpZGluZ0J5IG90aGVyOiBTZWxmKSAtPiBTZWxmCiAgICBtdXRhdGluZyBmdW5jIHJvdW5kKCkKICAgIG11dGF0aW5nIGZ1bmMgcm91bmQoXyBydWxlOiBGbG9hdGluZ1BvaW50Um91bmRpbmdSdWxlKQogICAgZnVuYyByb3VuZGVkKCkgLT4gU2VsZgogICAgZnVuYyByb3VuZGVkKF8gcnVsZTogRmxvYXRpbmdQb2ludFJvdW5kaW5nUnVsZSkgLT4gU2VsZgogICAgZnVuYyBzcXVhcmVSb290KCkgLT4gU2VsZgogICAgZnVuYyB0cnVuY2F0aW5nUmVtYWluZGVyKGRpdmlkaW5nQnkgb3RoZXI6IFNlbGYpIC0+IFNlbGYKfQpwdWJsaWMgcHJvdG9jb2wgSGFzaGFibGUgOiBFcXVhdGFibGUgewogICAgdmFyIGhhc2hWYWx1ZTogSW50IHsgZ2V0IH0KICAgIGZ1bmMgaGFzaChpbnRvIGhhc2hlcjogaW5vdXQgSGFzaGVyKQp9CnB1YmxpYyBwcm90b2NvbCBJdGVyYXRvclByb3RvY29sIHsKICAgIG11dGF0aW5nIGZ1bmMgbmV4dCgpIC0+IEVsZW1lbnQ/Cn0KcHVibGljIHByb3RvY29sIExhenlDb2xsZWN0aW9uUHJvdG9jb2wgOiBDb2xsZWN0aW9uLCBMYXp5U2VxdWVuY2VQcm90b2NvbCwgU2VxdWVuY2Ugewp9CnB1YmxpYyBwcm90b2NvbCBMYXp5U2VxdWVuY2VQcm90b2NvbCA6IFNlcXVlbmNlIHsKICAgIHZhciBlbGVtZW50czogRWxlbWVudHMgeyBnZXQgfQogICAgdmFyIGVsZW1lbnRzOiBTZWxmIHsgZ2V0IH0gd2hlcmUgRWxlbWVudHMgPT0gU2VsZgp9CnB1YmxpYyBwcm90b2NvbCBMb3NzbGVzc1N0cmluZ0NvbnZlcnRpYmxlIDogQ3VzdG9tU3RyaW5nQ29udmVydGlibGUgewogICAgaW5pdD8oXyBkZXNjcmlwdGlvbjogU3RyaW5nKQp9CnB1YmxpYyBwcm90b2NvbCBNaXJyb3JQYXRoIHsKfQpwdWJsaWMgcHJvdG9jb2wgTXV0YWJsZUNvbGxlY3Rpb24gOiBDb2xsZWN0aW9uLCBTZXF1ZW5jZSB7CiAgICBtdXRhdGluZyBmdW5jIHBhcnRpdGlvbihieSBiZWxvbmdzSW5TZWNvbmRQYXJ0aXRpb246IChFbGVtZW50KSB0aHJvd3MgLT4gQm9vbCkgcmV0aHJvd3MgLT4gSW5kZXgKICAgIG11dGF0aW5nIGZ1bmMgcmV2ZXJzZSgpIHdoZXJlIFNlbGYgOiBCaWRpcmVjdGlvbmFsQ29sbGVjdGlvbgogICAgbXV0YXRpbmcgZnVuYyBzaHVmZmxlKCkgd2hlcmUgU2VsZiA6IFJhbmRvbUFjY2Vzc0NvbGxlY3Rpb24KICAgIG11dGF0aW5nIGZ1bmMgc2h1ZmZsZTxUPih1c2luZyBnZW5lcmF0b3I6IGlub3V0IFQpIHdoZXJlIFNlbGYgOiBSYW5kb21BY2Nlc3NDb2xsZWN0aW9uLCBUIDogUmFuZG9tTnVtYmVyR2VuZXJhdG9yCiAgICBtdXRhdGluZyBmdW5jIHNvcnQoKSB3aGVyZSBFbGVtZW50IDogQ29tcGFyYWJsZSwgU2VsZiA6IFJhbmRvbUFjY2Vzc0NvbGxlY3Rpb24KICAgIG11dGF0aW5nIGZ1bmMgc29ydChieSBhcmVJbkluY3JlYXNpbmdPcmRlcjogKEVsZW1lbnQsIEVsZW1lbnQpIHRocm93cyAtPiBCb29sKSByZXRocm93cyB3aGVyZSBTZWxmIDogUmFuZG9tQWNjZXNzQ29sbGVjdGlvbgogICAgbXV0YXRpbmcgZnVuYyBzd2FwQXQoXyBpOiBJbmRleCwgXyBqOiBJbmRleCkKICAgIG11dGF0aW5nIGZ1bmMgc3dhcEF0KF8gaTogSW5kZXgsIF8gajogSW5kZXgpCiAgICBtdXRhdGluZyBmdW5jIHdpdGhDb250aWd1b3VzTXV0YWJsZVN0b3JhZ2VJZkF2YWlsYWJsZTxSPihfIGJvZHk6IChpbm91dCBVbnNhZmVNdXRhYmxlQnVmZmVyUG9pbnRlcjxFbGVtZW50PikgdGhyb3dzIC0+IFIpIHJldGhyb3dzIC0+IFI/Cn0KcHVibGljIHByb3RvY29sIE51bWVyaWMgOiBBZGRpdGl2ZUFyaXRobWV0aWMsIEVxdWF0YWJsZSwgRXhwcmVzc2libGVCeUludGVnZXJMaXRlcmFsIHsKICAgIGluaXQ/PFQ+KGV4YWN0bHkgc291cmNlOiBUKSB3aGVyZSBUIDogQmluYXJ5SW50ZWdlcgogICAgdmFyIG1hZ25pdHVkZTogTWFnbml0dWRlIHsgZ2V0IH0KICAgIGZ1bmMgKihsaHM6IFNlbGYsIHJoczogU2VsZikgLT4gU2VsZgogICAgZnVuYyAqPShsaHM6IGlub3V0IFNlbGYsIHJoczogU2VsZikKfQpwdWJsaWMgcHJvdG9jb2wgT3B0aW9uU2V0IDogRXF1YXRhYmxlLCBFeHByZXNzaWJsZUJ5QXJyYXlMaXRlcmFsLCBSYXdSZXByZXNlbnRhYmxlLCBTZXRBbGdlYnJhIHsKICAgIGZ1bmMgaW50ZXJzZWN0aW9uKF8gb3RoZXI6IFNlbGYpIC0+IFNlbGYKICAgIGZ1bmMgc3ltbWV0cmljRGlmZmVyZW5jZShfIG90aGVyOiBTZWxmKSAtPiBTZWxmCiAgICBmdW5jIHVuaW9uKF8gb3RoZXI6IFNlbGYpIC0+IFNlbGYKfQpwdWJsaWMgcHJvdG9jb2wgUmFuZG9tQWNjZXNzQ29sbGVjdGlvbiA6IEJpZGlyZWN0aW9uYWxDb2xsZWN0aW9uLCBDb2xsZWN0aW9uLCBTZXF1ZW5jZSB7Cn0KcHVibGljIHByb3RvY29sIFJhbmRvbU51bWJlckdlbmVyYXRvciB7CiAgICBtdXRhdGluZyBmdW5jIG5leHQoKSAtPiBVSW50NjQKICAgIG11dGF0aW5nIGZ1bmMgbmV4dDxUPigpIC0+IFQgd2hlcmUgVCA6IEZpeGVkV2lkdGhJbnRlZ2VyICYgVW5zaWduZWRJbnRlZ2VyCiAgICBtdXRhdGluZyBmdW5jIG5leHQ8VD4odXBwZXJCb3VuZDogVCkgLT4gVCB3aGVyZSBUIDogRml4ZWRXaWR0aEludGVnZXIgJiBVbnNpZ25lZEludGVnZXIKfQpwdWJsaWMgcHJvdG9jb2wgUmFuZ2VFeHByZXNzaW9uIHsKICAgIGZ1bmMgY29udGFpbnMoXyBlbGVtZW50OiBCb3VuZCkgLT4gQm9vbAogICAgZnVuYyByZWxhdGl2ZTxDPih0byBjb2xsZWN0aW9uOiBDKSAtPiBSYW5nZTxCb3VuZD4gd2hlcmUgQyA6IENvbGxlY3Rpb24sIEJvdW5kID09IEMuSW5kZXgKICAgIGZ1bmMgfj0ocGF0dGVybjogU2VsZiwgdmFsdWU6IEJvdW5kKSAtPiBCb29sCn0KcHVibGljIHByb3RvY29sIFJhbmdlUmVwbGFjZWFibGVDb2xsZWN0aW9uIDogQ29sbGVjdGlvbiwgU2VxdWVuY2UgewogICAgaW5pdCgpCiAgICBpbml0PFM+KF8gZWxlbWVudHM6IFMpIHdoZXJlIFMgOiBTZXF1ZW5jZSwgRWxlbWVudCA9PSBTLkVsZW1lbnQKICAgIGluaXQ8Uz4oXyBlbGVtZW50czogUykgd2hlcmUgUyA6IFNlcXVlbmNlLCBFbGVtZW50ID09IFMuRWxlbWVudAogICAgaW5pdChyZXBlYXRpbmcgcmVwZWF0ZWRWYWx1ZTogRWxlbWVudCwgY291bnQ6IEludCkKICAgIGluaXQocmVwZWF0aW5nIHJlcGVhdGVkVmFsdWU6IEVsZW1lbnQsIGNvdW50OiBJbnQpCiAgICBmdW5jICs8T3RoZXI+KGxoczogT3RoZXIsIHJoczogU2VsZikgLT4gU2VsZiB3aGVyZSBPdGhlciA6IFNlcXVlbmNlLCBFbGVtZW50ID09IE90aGVyLkVsZW1lbnQKICAgIGZ1bmMgKzxPdGhlcj4obGhzOiBTZWxmLCByaHM6IE90aGVyKSAtPiBTZWxmIHdoZXJlIE90aGVyIDogUmFuZ2VSZXBsYWNlYWJsZUNvbGxlY3Rpb24sIEVsZW1lbnQgPT0gT3RoZXIuRWxlbWVudAogICAgZnVuYyArPE90aGVyPihsaHM6IFNlbGYsIHJoczogT3RoZXIpIC0+IFNlbGYgd2hlcmUgT3RoZXIgOiBTZXF1ZW5jZSwgRWxlbWVudCA9PSBPdGhlci5FbGVtZW50CiAgICBmdW5jICs9PE90aGVyPihsaHM6IGlub3V0IFNlbGYsIHJoczogT3RoZXIpIHdoZXJlIE90aGVyIDogU2VxdWVuY2UsIEVsZW1lbnQgPT0gT3RoZXIuRWxlbWVudAogICAgbXV0YXRpbmcgZnVuYyBhcHBlbmQoXyBuZXdFbGVtZW50OiBfX293bmVkIEVsZW1lbnQpCiAgICBtdXRhdGluZyBmdW5jIGFwcGVuZDxTPihjb250ZW50c09mIG5ld0VsZW1lbnRzOiBfX293bmVkIFMpIHdoZXJlIFMgOiBTZXF1ZW5jZSwgRWxlbWVudCA9PSBTLkVsZW1lbnQKICAgIG11dGF0aW5nIGZ1bmMgaW5zZXJ0KF8gbmV3RWxlbWVudDogX19vd25lZCBFbGVtZW50LCBhdCBpOiBJbmRleCkKICAgIG11dGF0aW5nIGZ1bmMgaW5zZXJ0PEM+KGNvbnRlbnRzT2YgbmV3RWxlbWVudHM6IF9fb3duZWQgQywgYXQgaTogSW5kZXgpIHdoZXJlIEMgOiBDb2xsZWN0aW9uLCBDLkVsZW1lbnQgPT0gRWxlbWVudAogICAgbXV0YXRpbmcgZnVuYyBwb3BMYXN0KCkgLT4gRWxlbWVudD8gd2hlcmUgU2VsZiA6IEJpZGlyZWN0aW9uYWxDb2xsZWN0aW9uCiAgICBAZGlzY2FyZGFibGVSZXN1bHQgbXV0YXRpbmcgZnVuYyByZW1vdmUoYXQgaTogSW5kZXgpIC0+IEVsZW1lbnQKICAgIEBkaXNjYXJkYWJsZVJlc3VsdCBtdXRhdGluZyBmdW5jIHJlbW92ZShhdCBwb3NpdGlvbjogSW5kZXgpIC0+IEVsZW1lbnQKICAgIG11dGF0aW5nIGZ1bmMgcmVtb3ZlQWxsKGtlZXBpbmdDYXBhY2l0eSBrZWVwQ2FwYWNpdHk6IEJvb2wgPSB4KQogICAgbXV0YXRpbmcgZnVuYyByZW1vdmVBbGwod2hlcmUgc2hvdWxkQmVSZW1vdmVkOiAoRWxlbWVudCkgdGhyb3dzIC0+IEJvb2wpIHJldGhyb3dzCiAgICBtdXRhdGluZyBmdW5jIHJlbW92ZUFsbCh3aGVyZSBzaG91bGRCZVJlbW92ZWQ6IChFbGVtZW50KSB0aHJvd3MgLT4gQm9vbCkgcmV0aHJvd3MKICAgIEBkaXNjYXJkYWJsZVJlc3VsdCBtdXRhdGluZyBmdW5jIHJlbW92ZUxhc3QoKSAtPiBFbGVtZW50IHdoZXJlIFNlbGYgOiBCaWRpcmVjdGlvbmFsQ29sbGVjdGlvbgogICAgbXV0YXRpbmcgZnVuYyByZW1vdmVMYXN0KF8gazogSW50KSB3aGVyZSBTZWxmIDogQmlkaXJlY3Rpb25hbENvbGxlY3Rpb24KICAgIG11dGF0aW5nIGZ1bmMgcmVtb3ZlU3VicmFuZ2UoXyBib3VuZHM6IFJhbmdlPEluZGV4PikKICAgIG11dGF0aW5nIGZ1bmMgcmVtb3ZlU3VicmFuZ2UoXyBib3VuZHM6IFJhbmdlPEluZGV4PikKICAgIG11dGF0aW5nIGZ1bmMgcmVwbGFjZVN1YnJhbmdlPEMsIFI+KF8gc3VicmFuZ2U6IFIsIHdpdGggbmV3RWxlbWVudHM6IF9fb3duZWQgQykgd2hlcmUgQyA6IENvbGxlY3Rpb24sIFIgOiBSYW5nZUV4cHJlc3Npb24sIEMuRWxlbWVudCA9PSBFbGVtZW50LCBJbmRleCA9PSBSLkJvdW5kCiAgICBtdXRhdGluZyBmdW5jIHJlcGxhY2VTdWJyYW5nZTxDPihfIHN1YnJhbmdlOiBSYW5nZTxJbmRleD4sIHdpdGggbmV3RWxlbWVudHM6IF9fb3duZWQgQykgd2hlcmUgQyA6IENvbGxlY3Rpb24sIEMuRWxlbWVudCA9PSBFbGVtZW50CiAgICBtdXRhdGluZyBmdW5jIHJlc2VydmVDYXBhY2l0eShfIG46IEludCkKICAgIG11dGF0aW5nIGZ1bmMgcmVzZXJ2ZUNhcGFjaXR5KF8gbjogSW50KQp9CnB1YmxpYyBwcm90b2NvbCBSYXdSZXByZXNlbnRhYmxlIHsKICAgIGluaXQ/KHJhd1ZhbHVlOiBSYXdWYWx1ZSkKICAgIHZhciBoYXNoVmFsdWU6IEludCB7IGdldCB9IHdoZXJlIFJhd1ZhbHVlIDogSGFzaGFibGUsIFNlbGYgOiBIYXNoYWJsZQogICAgdmFyIHJhd1ZhbHVlOiBSYXdWYWx1ZSB7IGdldCB9CiAgICBmdW5jIGhhc2goaW50byBoYXNoZXI6IGlub3V0IEhhc2hlcikgd2hlcmUgUmF3VmFsdWUgOiBIYXNoYWJsZSwgU2VsZiA6IEhhc2hhYmxlCn0KcHVibGljIHByb3RvY29sIFNJTUQgOiBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBFeHByZXNzaWJsZUJ5QXJyYXlMaXRlcmFsLCBIYXNoYWJsZSwgU0lNRFN0b3JhZ2Ugewp9CnB1YmxpYyBwcm90b2NvbCBTSU1EU2NhbGFyIHsKfQpwdWJsaWMgcHJvdG9jb2wgU0lNRFN0b3JhZ2UgewogICAgaW5pdCgpCiAgICB2YXIgc2NhbGFyQ291bnQ6IEludCB7IGdldCB9CiAgICBzdWJzY3JpcHQoaW5kZXg6IEludCkgLT4gU2NhbGFyIHsgZ2V0IHNldCB9Cn0KcHVibGljIHByb3RvY29sIFNlcXVlbmNlIHsKICAgIHZhciBsYXp5OiBMYXp5U2VxdWVuY2U8U2VsZj4geyBnZXQgfQogICAgdmFyIHVuZGVyZXN0aW1hdGVkQ291bnQ6IEludCB7IGdldCB9CiAgICBmdW5jIGFsbFNhdGlzZnkoXyBwcmVkaWNhdGU6IChFbGVtZW50KSB0aHJvd3MgLT4gQm9vbCkgcmV0aHJvd3MgLT4gQm9vbAogICAgZnVuYyBjb21wYWN0TWFwPEVsZW1lbnRPZlJlc3VsdD4oXyB0cmFuc2Zvcm06IChFbGVtZW50KSB0aHJvd3MgLT4gRWxlbWVudE9mUmVzdWx0PykgcmV0aHJvd3MgLT4gW0VsZW1lbnRPZlJlc3VsdF0KICAgIGZ1bmMgY29udGFpbnMoXyBlbGVtZW50OiBFbGVtZW50KSAtPiBCb29sIHdoZXJlIEVsZW1lbnQgOiBFcXVhdGFibGUKICAgIGZ1bmMgY29udGFpbnMod2hlcmUgcHJlZGljYXRlOiAoRWxlbWVudCkgdGhyb3dzIC0+IEJvb2wpIHJldGhyb3dzIC0+IEJvb2wKICAgIGZ1bmMgY291bnQod2hlcmUgcHJlZGljYXRlOiAoRWxlbWVudCkgdGhyb3dzIC0+IEJvb2wpIHJldGhyb3dzIC0+IEludAogICAgZnVuYyBlbGVtZW50c0VxdWFsPE90aGVyU2VxdWVuY2U+KF8gb3RoZXI6IE90aGVyU2VxdWVuY2UpIC0+IEJvb2wgd2hlcmUgRWxlbWVudCA6IEVxdWF0YWJsZSwgT3RoZXJTZXF1ZW5jZSA6IFNlcXVlbmNlLCBFbGVtZW50ID09IE90aGVyU2VxdWVuY2UuRWxlbWVudAogICAgZnVuYyBlbGVtZW50c0VxdWFsPE90aGVyU2VxdWVuY2U+KF8gb3RoZXI6IE90aGVyU2VxdWVuY2UsIGJ5IGFyZUVxdWl2YWxlbnQ6IChFbGVtZW50LCBPdGhlclNlcXVlbmNlLkVsZW1lbnQpIHRocm93cyAtPiBCb29sKSByZXRocm93cyAtPiBCb29sIHdoZXJlIE90aGVyU2VxdWVuY2UgOiBTZXF1ZW5jZQogICAgZnVuYyBlbnVtZXJhdGVkKCkgLT4gRW51bWVyYXRlZFNlcXVlbmNlPFNlbGY+CiAgICBmdW5jIGZpcnN0KHdoZXJlIHByZWRpY2F0ZTogKEVsZW1lbnQpIHRocm93cyAtPiBCb29sKSByZXRocm93cyAtPiBFbGVtZW50PwogICAgZnVuYyBmbGF0TWFwPFNlZ21lbnRPZlJlc3VsdD4oXyB0cmFuc2Zvcm06IChFbGVtZW50KSB0aHJvd3MgLT4gU2VnbWVudE9mUmVzdWx0KSByZXRocm93cyAtPiBbU2VnbWVudE9mUmVzdWx0LkVsZW1lbnRdIHdoZXJlIFNlZ21lbnRPZlJlc3VsdCA6IFNlcXVlbmNlCiAgICBmdW5jIGZvckVhY2goXyBib2R5OiAoRWxlbWVudCkgdGhyb3dzIC0+IFZvaWQpIHJldGhyb3dzCiAgICBmdW5jIGpvaW5lZChzZXBhcmF0b3I6IFN0cmluZyA9IHgpIC0+IFN0cmluZyB3aGVyZSBFbGVtZW50IDogU3RyaW5nUHJvdG9jb2wKICAgIGZ1bmMgbGV4aWNvZ3JhcGhpY2FsbHlQcmVjZWRlczxPdGhlclNlcXVlbmNlPihfIG90aGVyOiBPdGhlclNlcXVlbmNlKSAtPiBCb29sIHdoZXJlIEVsZW1lbnQgOiBDb21wYXJhYmxlLCBPdGhlclNlcXVlbmNlIDogU2VxdWVuY2UsIEVsZW1lbnQgPT0gT3RoZXJTZXF1ZW5jZS5FbGVtZW50CiAgICBmdW5jIGxleGljb2dyYXBoaWNhbGx5UHJlY2VkZXM8T3RoZXJTZXF1ZW5jZT4oXyBvdGhlcjogT3RoZXJTZXF1ZW5jZSwgYnkgYXJlSW5JbmNyZWFzaW5nT3JkZXI6IChFbGVtZW50LCBFbGVtZW50KSB0aHJvd3MgLT4gQm9vbCkgcmV0aHJvd3MgLT4gQm9vbCB3aGVyZSBPdGhlclNlcXVlbmNlIDogU2VxdWVuY2UsIEVsZW1lbnQgPT0gT3RoZXJTZXF1ZW5jZS5FbGVtZW50CiAgICBmdW5jIG1hcDxUPihfIHRyYW5zZm9ybTogKEVsZW1lbnQpIHRocm93cyAtPiBUKSByZXRocm93cyAtPiBbVF0KICAgIGZ1bmMgbWF4KCkgLT4gRWxlbWVudD8gd2hlcmUgRWxlbWVudCA6IENvbXBhcmFibGUKICAgIGZ1bmMgbWF4KGJ5IGFyZUluSW5jcmVhc2luZ09yZGVyOiAoRWxlbWVudCwgRWxlbWVudCkgdGhyb3dzIC0+IEJvb2wpIHJldGhyb3dzIC0+IEVsZW1lbnQ/CiAgICBmdW5jIG1pbigpIC0+IEVsZW1lbnQ/IHdoZXJlIEVsZW1lbnQgOiBDb21wYXJhYmxlCiAgICBmdW5jIG1pbihieSBhcmVJbkluY3JlYXNpbmdPcmRlcjogKEVsZW1lbnQsIEVsZW1lbnQpIHRocm93cyAtPiBCb29sKSByZXRocm93cyAtPiBFbGVtZW50PwogICAgZnVuYyByZWR1Y2U8UmVzdWx0PihfIGluaXRpYWxSZXN1bHQ6IFJlc3VsdCwgXyBuZXh0UGFydGlhbFJlc3VsdDogKF8gcGFydGlhbFJlc3VsdDogUmVzdWx0LCBFbGVtZW50KSB0aHJvd3MgLT4gUmVzdWx0KSByZXRocm93cyAtPiBSZXN1bHQKICAgIGZ1bmMgcmVkdWNlPFJlc3VsdD4oaW50byBpbml0aWFsUmVzdWx0OiBfX293bmVkIFJlc3VsdCwgXyB1cGRhdGVBY2N1bXVsYXRpbmdSZXN1bHQ6IChfIHBhcnRpYWxSZXN1bHQ6IGlub3V0IFJlc3VsdCwgRWxlbWVudCkgdGhyb3dzIC0+IFZvaWQpIHJldGhyb3dzIC0+IFJlc3VsdAogICAgZnVuYyBzaHVmZmxlZCgpIC0+IFtFbGVtZW50XQogICAgZnVuYyBzaHVmZmxlZDxUPih1c2luZyBnZW5lcmF0b3I6IGlub3V0IFQpIC0+IFtFbGVtZW50XSB3aGVyZSBUIDogUmFuZG9tTnVtYmVyR2VuZXJhdG9yCiAgICBmdW5jIHNvcnRlZCgpIC0+IFtFbGVtZW50XSB3aGVyZSBFbGVtZW50IDogQ29tcGFyYWJsZQogICAgZnVuYyBzb3J0ZWQoYnkgYXJlSW5JbmNyZWFzaW5nT3JkZXI6IChFbGVtZW50LCBFbGVtZW50KSB0aHJvd3MgLT4gQm9vbCkgcmV0aHJvd3MgLT4gW0VsZW1lbnRdCiAgICBmdW5jIHN0YXJ0czxQb3NzaWJsZVByZWZpeD4od2l0aCBwb3NzaWJsZVByZWZpeDogUG9zc2libGVQcmVmaXgpIC0+IEJvb2wgd2hlcmUgRWxlbWVudCA6IEVxdWF0YWJsZSwgUG9zc2libGVQcmVmaXggOiBTZXF1ZW5jZSwgRWxlbWVudCA9PSBQb3NzaWJsZVByZWZpeC5FbGVtZW50CiAgICBmdW5jIHN0YXJ0czxQb3NzaWJsZVByZWZpeD4od2l0aCBwb3NzaWJsZVByZWZpeDogUG9zc2libGVQcmVmaXgsIGJ5IGFyZUVxdWl2YWxlbnQ6IChFbGVtZW50LCBQb3NzaWJsZVByZWZpeC5FbGVtZW50KSB0aHJvd3MgLT4gQm9vbCkgcmV0aHJvd3MgLT4gQm9vbCB3aGVyZSBQb3NzaWJsZVByZWZpeCA6IFNlcXVlbmNlCiAgICBmdW5jIHdpdGhDb250aWd1b3VzU3RvcmFnZUlmQXZhaWxhYmxlPFI+KF8gYm9keTogKFVuc2FmZUJ1ZmZlclBvaW50ZXI8RWxlbWVudD4pIHRocm93cyAtPiBSKSByZXRocm93cyAtPiBSPwp9CnB1YmxpYyBwcm90b2NvbCBTZXRBbGdlYnJhIDogRXF1YXRhYmxlLCBFeHByZXNzaWJsZUJ5QXJyYXlMaXRlcmFsIHsKICAgIGluaXQoKQogICAgaW5pdDxTPihfIHNlcXVlbmNlOiBfX293bmVkIFMpIHdoZXJlIFMgOiBTZXF1ZW5jZSwgRWxlbWVudCA9PSBTLkVsZW1lbnQKICAgIHZhciBpc0VtcHR5OiBCb29sIHsgZ2V0IH0KICAgIGZ1bmMgY29udGFpbnMoXyBtZW1iZXI6IEVsZW1lbnQpIC0+IEJvb2wKICAgIG11dGF0aW5nIGZ1bmMgZm9ybUludGVyc2VjdGlvbihfIG90aGVyOiBTZWxmKQogICAgbXV0YXRpbmcgZnVuYyBmb3JtU3ltbWV0cmljRGlmZmVyZW5jZShfIG90aGVyOiBfX293bmVkIFNlbGYpCiAgICBtdXRhdGluZyBmdW5jIGZvcm1VbmlvbihfIG90aGVyOiBfX293bmVkIFNlbGYpCiAgICBAZGlzY2FyZGFibGVSZXN1bHQgbXV0YXRpbmcgZnVuYyBpbnNlcnQoXyBuZXdNZW1iZXI6IF9fb3duZWQgRWxlbWVudCkgLT4gKGluc2VydGVkIDogQm9vbCwgbWVtYmVyQWZ0ZXJJbnNlcnQgOiBFbGVtZW50KQogICAgZnVuYyBpc0Rpc2pvaW50KHdpdGggb3RoZXI6IFNlbGYpIC0+IEJvb2wKICAgIGZ1bmMgaXNTdHJpY3RTdWJzZXQob2Ygb3RoZXI6IFNlbGYpIC0+IEJvb2wKICAgIGZ1bmMgaXNTdHJpY3RTdXBlcnNldChvZiBvdGhlcjogU2VsZikgLT4gQm9vbAogICAgZnVuYyBpc1N1YnNldChvZiBvdGhlcjogU2VsZikgLT4gQm9vbAogICAgZnVuYyBpc1N1cGVyc2V0KG9mIG90aGVyOiBTZWxmKSAtPiBCb29sCiAgICBmdW5jIGlzU3VwZXJzZXQob2Ygb3RoZXI6IFNlbGYpIC0+IEJvb2wKICAgIEBkaXNjYXJkYWJsZVJlc3VsdCBtdXRhdGluZyBmdW5jIHJlbW92ZShfIG1lbWJlcjogRWxlbWVudCkgLT4gRWxlbWVudD8KICAgIG11dGF0aW5nIGZ1bmMgc3VidHJhY3QoXyBvdGhlcjogU2VsZikKICAgIGZ1bmMgc3VidHJhY3RpbmcoXyBvdGhlcjogU2VsZikgLT4gU2VsZgogICAgQGRpc2NhcmRhYmxlUmVzdWx0IG11dGF0aW5nIGZ1bmMgdXBkYXRlKHdpdGggbmV3TWVtYmVyOiBfX293bmVkIEVsZW1lbnQpIC0+IEVsZW1lbnQ/Cn0KcHVibGljIHByb3RvY29sIFNpZ25lZEludGVnZXIgOiBBZGRpdGl2ZUFyaXRobWV0aWMsIEJpbmFyeUludGVnZXIsIEN1c3RvbVN0cmluZ0NvbnZlcnRpYmxlLCBFcXVhdGFibGUsIEV4cHJlc3NpYmxlQnlJbnRlZ2VyTGl0ZXJhbCwgSGFzaGFibGUsIE51bWVyaWMsIFNpZ25lZE51bWVyaWMsIFN0cmlkZWFibGUgewogICAgc3RhdGljIHZhciBtYXg6IFNlbGYgeyBnZXQgfSB3aGVyZSBTZWxmIDogRml4ZWRXaWR0aEludGVnZXIKICAgIHN0YXRpYyB2YXIgbWluOiBTZWxmIHsgZ2V0IH0gd2hlcmUgU2VsZiA6IEZpeGVkV2lkdGhJbnRlZ2VyCiAgICBmdW5jICYrKGxoczogU2VsZiwgcmhzOiBTZWxmKSAtPiBTZWxmIHdoZXJlIFNlbGYgOiBGaXhlZFdpZHRoSW50ZWdlcgogICAgZnVuYyAmLShsaHM6IFNlbGYsIHJoczogU2VsZikgLT4gU2VsZiB3aGVyZSBTZWxmIDogRml4ZWRXaWR0aEludGVnZXIKfQpwdWJsaWMgcHJvdG9jb2wgU2lnbmVkTnVtZXJpYyA6IEFkZGl0aXZlQXJpdGhtZXRpYywgRXF1YXRhYmxlLCBFeHByZXNzaWJsZUJ5SW50ZWdlckxpdGVyYWwsIE51bWVyaWMgewogICAgcHJlZml4IGZ1bmMgLShvcGVyYW5kOiBTZWxmKSAtPiBTZWxmCiAgICBwcmVmaXggZnVuYyAtKG9wZXJhbmQ6IFNlbGYpIC0+IFNlbGYKICAgIG11dGF0aW5nIGZ1bmMgbmVnYXRlKCkKfQpwdWJsaWMgcHJvdG9jb2wgU3RyaWRlYWJsZSA6IENvbXBhcmFibGUsIEVxdWF0YWJsZSB7CiAgICBmdW5jICsobGhzOiBTZWxmLCByaHM6IFN0cmlkZSkgLT4gU2VsZiB3aGVyZSBTZWxmIDogX1BvaW50ZXIKICAgIGZ1bmMgKz0obGhzOiBpbm91dCBTZWxmLCByaHM6IFN0cmlkZSkgd2hlcmUgU2VsZiA6IF9Qb2ludGVyCiAgICBmdW5jIC0obGhzOiBTZWxmLCByaHM6IFNlbGYpIC0+IFN0cmlkZSB3aGVyZSBTZWxmIDogX1BvaW50ZXIKICAgIGZ1bmMgLT0obGhzOiBpbm91dCBTZWxmLCByaHM6IFN0cmlkZSkgd2hlcmUgU2VsZiA6IF9Qb2ludGVyCiAgICBmdW5jIGFkdmFuY2VkKGJ5IG46IFN0cmlkZSkgLT4gU2VsZgogICAgZnVuYyBkaXN0YW5jZSh0byBvdGhlcjogU2VsZikgLT4gU3RyaWRlCn0KcHVibGljIHByb3RvY29sIFN0cmluZ0ludGVycG9sYXRpb25Qcm90b2NvbCB7CiAgICBpbml0KGxpdGVyYWxDYXBhY2l0eTogSW50LCBpbnRlcnBvbGF0aW9uQ291bnQ6IEludCkKICAgIG11dGF0aW5nIGZ1bmMgYXBwZW5kTGl0ZXJhbChfIGxpdGVyYWw6IFN0cmluZ0xpdGVyYWxUeXBlKQp9CnB1YmxpYyBwcm90b2NvbCBTdHJpbmdQcm90b2NvbCA6IEJpZGlyZWN0aW9uYWxDb2xsZWN0aW9uLCBDb2xsZWN0aW9uLCBDb21wYXJhYmxlLCBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBFeHByZXNzaWJsZUJ5RXh0ZW5kZWRHcmFwaGVtZUNsdXN0ZXJMaXRlcmFsLCBFeHByZXNzaWJsZUJ5U3RyaW5nSW50ZXJwb2xhdGlvbiwgRXhwcmVzc2libGVCeVN0cmluZ0xpdGVyYWwsIEV4cHJlc3NpYmxlQnlVbmljb2RlU2NhbGFyTGl0ZXJhbCwgSGFzaGFibGUsIExvc3NsZXNzU3RyaW5nQ29udmVydGlibGUsIFNlcXVlbmNlLCBUZXh0T3V0cHV0U3RyZWFtLCBUZXh0T3V0cHV0U3RyZWFtYWJsZSB7CiAgICBpbml0KGNTdHJpbmcgbnVsbFRlcm1pbmF0ZWRVVEY4OiBVbnNhZmVQb2ludGVyPENDaGFyPikKICAgIGluaXQ8QywgRW5jb2Rpbmc+KGRlY29kaW5nIGNvZGVVbml0czogQywgYXMgc291cmNlRW5jb2Rpbmc6IEVuY29kaW5nLlR5cGUpIHdoZXJlIEMgOiBDb2xsZWN0aW9uLCBFbmNvZGluZyA6IFVuaWNvZGUuRW5jb2RpbmcsIEMuSXRlcmF0b3IuRWxlbWVudCA9PSBFbmNvZGluZy5Db2RlVW5pdAogICAgaW5pdDxFbmNvZGluZz4oZGVjb2RpbmdDU3RyaW5nIG51bGxUZXJtaW5hdGVkQ29kZVVuaXRzOiBVbnNhZmVQb2ludGVyPEVuY29kaW5nLkNvZGVVbml0PiwgYXMgc291cmNlRW5jb2Rpbmc6IEVuY29kaW5nLlR5cGUpIHdoZXJlIEVuY29kaW5nIDogVW5pY29kZS5FbmNvZGluZwogICAgdmFyIHVuaWNvZGVTY2FsYXJzOiBVbmljb2RlU2NhbGFyVmlldyB7IGdldCB9CiAgICB2YXIgdXRmMTY6IFVURjE2VmlldyB7IGdldCB9CiAgICB2YXIgdXRmODogVVRGOFZpZXcgeyBnZXQgfQogICAgZnVuYyBoYXNQcmVmaXg8UHJlZml4PihfIHByZWZpeDogUHJlZml4KSAtPiBCb29sIHdoZXJlIFByZWZpeCA6IFN0cmluZ1Byb3RvY29sCiAgICBmdW5jIGhhc1N1ZmZpeDxTdWZmaXg+KF8gc3VmZml4OiBTdWZmaXgpIC0+IEJvb2wgd2hlcmUgU3VmZml4IDogU3RyaW5nUHJvdG9jb2wKICAgIGZ1bmMgbG93ZXJjYXNlZCgpIC0+IFN0cmluZwogICAgZnVuYyB1cHBlcmNhc2VkKCkgLT4gU3RyaW5nCiAgICBmdW5jIHdpdGhDU3RyaW5nPFJlc3VsdD4oXyBib2R5OiAoVW5zYWZlUG9pbnRlcjxDQ2hhcj4pIHRocm93cyAtPiBSZXN1bHQpIHJldGhyb3dzIC0+IFJlc3VsdAogICAgZnVuYyB3aXRoQ1N0cmluZzxSZXN1bHQsIEVuY29kaW5nPihlbmNvZGVkQXMgdGFyZ2V0RW5jb2Rpbmc6IEVuY29kaW5nLlR5cGUsIF8gYm9keTogKFVuc2FmZVBvaW50ZXI8RW5jb2RpbmcuQ29kZVVuaXQ+KSB0aHJvd3MgLT4gUmVzdWx0KSByZXRocm93cyAtPiBSZXN1bHQgd2hlcmUgRW5jb2RpbmcgOiBVbmljb2RlLkVuY29kaW5nCn0KcHVibGljIHByb3RvY29sIFRleHRPdXRwdXRTdHJlYW0gewogICAgbXV0YXRpbmcgZnVuYyB3cml0ZShfIHN0cmluZzogU3RyaW5nKQp9CnB1YmxpYyBwcm90b2NvbCBUZXh0T3V0cHV0U3RyZWFtYWJsZSB7CiAgICBmdW5jIHdyaXRlPFRhcmdldD4odG8gdGFyZ2V0OiBpbm91dCBUYXJnZXQpIHdoZXJlIFRhcmdldCA6IFRleHRPdXRwdXRTdHJlYW0KfQpwdWJsaWMgcHJvdG9jb2wgVW5pY29kZUNvZGVjIDogVW5pY29kZS5FbmNvZGluZyB7CiAgICBzdGF0aWMgZnVuYyBlbmNvZGUoXyBpbnB1dDogVW5pY29kZS5TY2FsYXIsIGludG8gcHJvY2Vzc0NvZGVVbml0OiAoQ29kZVVuaXQpIC0+IFZvaWQpCiAgICBpbml0KCkKICAgIG11dGF0aW5nIGZ1bmMgZGVjb2RlPEk+KF8gaW5wdXQ6IGlub3V0IEkpIC0+IFVuaWNvZGVEZWNvZGluZ1Jlc3VsdCB3aGVyZSBJIDogSXRlcmF0b3JQcm90b2NvbCwgQ29kZVVuaXQgPT0gSS5FbGVtZW50Cn0KcHVibGljIHByb3RvY29sIFVuc2lnbmVkSW50ZWdlciA6IEFkZGl0aXZlQXJpdGhtZXRpYywgQmluYXJ5SW50ZWdlciwgQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgRXhwcmVzc2libGVCeUludGVnZXJMaXRlcmFsLCBIYXNoYWJsZSwgTnVtZXJpYywgU3RyaWRlYWJsZSB7CiAgICBzdGF0aWMgdmFyIG1heDogU2VsZiB7IGdldCB9IHdoZXJlIFNlbGYgOiBGaXhlZFdpZHRoSW50ZWdlcgogICAgc3RhdGljIHZhciBtaW46IFNlbGYgeyBnZXQgfSB3aGVyZSBTZWxmIDogRml4ZWRXaWR0aEludGVnZXIKfQpleHRlbnNpb24gQXJyYXkgewogICAgcHVibGljIHZhciBjYXBhY2l0eTogSW50IHsgZ2V0IH0KICAgIHB1YmxpYyB2YXIgY291bnQ6IEludCB7IGdldCB9CiAgICBwdWJsaWMgZnVuYyB3aXRoQ29udGlndW91c1N0b3JhZ2VJZkF2YWlsYWJsZTxSPihfIGJvZHk6IChVbnNhZmVCdWZmZXJQb2ludGVyPEVsZW1lbnQ+KSB0aHJvd3MgLT4gUikgcmV0aHJvd3MgLT4gUj8ge30KICAgIHB1YmxpYyBmdW5jIHdpdGhVbnNhZmVCdWZmZXJQb2ludGVyPFI+KF8gYm9keTogKFVuc2FmZUJ1ZmZlclBvaW50ZXI8RWxlbWVudD4pIHRocm93cyAtPiBSKSByZXRocm93cyAtPiBSIHt9CiAgICBwdWJsaWMgZnVuYyB3aXRoVW5zYWZlQnl0ZXM8Uj4oXyBib2R5OiAoVW5zYWZlUmF3QnVmZmVyUG9pbnRlcikgdGhyb3dzIC0+IFIpIHJldGhyb3dzIC0+IFIge30KICAgIHB1YmxpYyBtdXRhdGluZyBmdW5jIHdpdGhVbnNhZmVNdXRhYmxlQnVmZmVyUG9pbnRlcjxSPihfIGJvZHk6IChpbm91dCBVbnNhZmVNdXRhYmxlQnVmZmVyUG9pbnRlcjxFbGVtZW50PikgdGhyb3dzIC0+IFIpIHJldGhyb3dzIC0+IFIge30KICAgIHB1YmxpYyBtdXRhdGluZyBmdW5jIHdpdGhVbnNhZmVNdXRhYmxlQnl0ZXM8Uj4oXyBib2R5OiAoVW5zYWZlTXV0YWJsZVJhd0J1ZmZlclBvaW50ZXIpIHRocm93cyAtPiBSKSByZXRocm93cyAtPiBSIHt9Cn0KZXh0ZW5zaW9uIEFycmF5U2xpY2UgewogICAgcHVibGljIHZhciBjYXBhY2l0eTogSW50IHsgZ2V0IH0KICAgIHB1YmxpYyB2YXIgY291bnQ6IEludCB7IGdldCB9CiAgICBwdWJsaWMgZnVuYyB3aXRoQ29udGlndW91c1N0b3JhZ2VJZkF2YWlsYWJsZTxSPihfIGJvZHk6IChVbnNhZmVCdWZmZXJQb2ludGVyPEVsZW1lbnQ+KSB0aHJvd3MgLT4gUikgcmV0aHJvd3MgLT4gUj8ge30KICAgIHB1YmxpYyBmdW5jIHdpdGhVbnNhZmVCdWZmZXJQb2ludGVyPFI+KF8gYm9keTogKFVuc2FmZUJ1ZmZlclBvaW50ZXI8RWxlbWVudD4pIHRocm93cyAtPiBSKSByZXRocm93cyAtPiBSIHt9CiAgICBwdWJsaWMgZnVuYyB3aXRoVW5zYWZlQnl0ZXM8Uj4oXyBib2R5OiAoVW5zYWZlUmF3QnVmZmVyUG9pbnRlcikgdGhyb3dzIC0+IFIpIHJldGhyb3dzIC0+IFIge30KICAgIHB1YmxpYyBtdXRhdGluZyBmdW5jIHdpdGhVbnNhZmVNdXRhYmxlQnVmZmVyUG9pbnRlcjxSPihfIGJvZHk6IChpbm91dCBVbnNhZmVNdXRhYmxlQnVmZmVyUG9pbnRlcjxFbGVtZW50PikgdGhyb3dzIC0+IFIpIHJldGhyb3dzIC0+IFIge30KICAgIHB1YmxpYyBtdXRhdGluZyBmdW5jIHdpdGhVbnNhZmVNdXRhYmxlQnl0ZXM8Uj4oXyBib2R5OiAoVW5zYWZlTXV0YWJsZVJhd0J1ZmZlclBvaW50ZXIpIHRocm93cyAtPiBSKSByZXRocm93cyAtPiBSIHt9Cn0KZXh0ZW5zaW9uIEF1dG9yZWxlYXNpbmdVbnNhZmVNdXRhYmxlUG9pbnRlciB7Cn0KZXh0ZW5zaW9uIENsb3NlZFJhbmdlIHsKICAgIHB1YmxpYyBpbml0KF8gb3RoZXI6IFJhbmdlPEJvdW5kPikgd2hlcmUgQm91bmQgOiBTdHJpZGVhYmxlLCBCb3VuZC5TdHJpZGUgOiBTaWduZWRJbnRlZ2VyIHt9CiAgICBwdWJsaWMgaW5pdChmcm9tIGRlY29kZXI6IERlY29kZXIpIHRocm93cyB3aGVyZSBCb3VuZCA6IERlY29kYWJsZSB7fQogICAgcHVibGljIGZ1bmMgY2xhbXBlZCh0byBsaW1pdHM6IENsb3NlZFJhbmdlKSAtPiBDbG9zZWRSYW5nZSB7fQogICAgcHVibGljIGZ1bmMgZW5jb2RlKHRvIGVuY29kZXI6IEVuY29kZXIpIHRocm93cyB3aGVyZSBCb3VuZCA6IEVuY29kYWJsZSB7fQogICAgcHVibGljIGZ1bmMgb3ZlcmxhcHMoXyBvdGhlcjogQ2xvc2VkUmFuZ2U8Qm91bmQ+KSAtPiBCb29sIHt9Cn0KZXh0ZW5zaW9uIENsb3NlZFJhbmdlLkluZGV4IHsKICAgIHB1YmxpYyBmdW5jID09KGxoczogQ2xvc2VkUmFuZ2U8Qm91bmQ+LkluZGV4LCByaHM6IENsb3NlZFJhbmdlPEJvdW5kPi5JbmRleCkgLT4gQm9vbCB7fQp9CmV4dGVuc2lvbiBDb2xsZWN0aW9uT2ZPbmUgewogICAgcHVibGljIHZhciBjb3VudDogSW50IHsgZ2V0IH0KfQpleHRlbnNpb24gQ29sbGVjdGlvbk9mT25lLkl0ZXJhdG9yIHsKfQpleHRlbnNpb24gQ29udGlndW91c0FycmF5IHsKICAgIHB1YmxpYyB2YXIgY2FwYWNpdHk6IEludCB7IGdldCB9CiAgICBwdWJsaWMgdmFyIGNvdW50OiBJbnQgeyBnZXQgfQogICAgcHVibGljIGZ1bmMgd2l0aENvbnRpZ3VvdXNTdG9yYWdlSWZBdmFpbGFibGU8Uj4oXyBib2R5OiAoVW5zYWZlQnVmZmVyUG9pbnRlcjxFbGVtZW50PikgdGhyb3dzIC0+IFIpIHJldGhyb3dzIC0+IFI/IHt9CiAgICBwdWJsaWMgZnVuYyB3aXRoVW5zYWZlQnVmZmVyUG9pbnRlcjxSPihfIGJvZHk6IChVbnNhZmVCdWZmZXJQb2ludGVyPEVsZW1lbnQ+KSB0aHJvd3MgLT4gUikgcmV0aHJvd3MgLT4gUiB7fQogICAgcHVibGljIGZ1bmMgd2l0aFVuc2FmZUJ5dGVzPFI+KF8gYm9keTogKFVuc2FmZVJhd0J1ZmZlclBvaW50ZXIpIHRocm93cyAtPiBSKSByZXRocm93cyAtPiBSIHt9CiAgICBwdWJsaWMgbXV0YXRpbmcgZnVuYyB3aXRoVW5zYWZlTXV0YWJsZUJ1ZmZlclBvaW50ZXI8Uj4oXyBib2R5OiAoaW5vdXQgVW5zYWZlTXV0YWJsZUJ1ZmZlclBvaW50ZXI8RWxlbWVudD4pIHRocm93cyAtPiBSKSByZXRocm93cyAtPiBSIHt9CiAgICBwdWJsaWMgbXV0YXRpbmcgZnVuYyB3aXRoVW5zYWZlTXV0YWJsZUJ5dGVzPFI+KF8gYm9keTogKFVuc2FmZU11dGFibGVSYXdCdWZmZXJQb2ludGVyKSB0aHJvd3MgLT4gUikgcmV0aHJvd3MgLT4gUiB7fQp9CmV4dGVuc2lvbiBEZWZhdWx0SW5kaWNlcyB7CiAgICBwdWJsaWMgc3Vic2NyaXB0KGk6IEluZGV4KSAtPiBFbGVtZW50cy5JbmRleCB7IGdldCB9IHt9Cn0KZXh0ZW5zaW9uIERpY3Rpb25hcnkgewogICAgcHVibGljIHZhciBjYXBhY2l0eTogSW50IHsgZ2V0IH0KICAgIEBhdmFpbGFibGUoc3dpZnQsIGludHJvZHVjZWQ6IDQuMCkgcHVibGljIHZhciBrZXlzOiBLZXlzIHsgZ2V0IH0KICAgIHB1YmxpYyBzdWJzY3JpcHQocG9zaXRpb246IEluZGV4KSAtPiBFbGVtZW50IHsgZ2V0IH0ge30KICAgIHB1YmxpYyBmdW5jIGNvbXBhY3RNYXBWYWx1ZXM8VD4oXyB0cmFuc2Zvcm06IChWYWx1ZSkgdGhyb3dzIC0+IFQ/KSByZXRocm93cyAtPiBbS2V5OiBUXSB7fQogICAgcHVibGljIGZ1bmMgaW5kZXgoZm9yS2V5IGtleTogS2V5KSAtPiBJbmRleD8ge30KICAgIHB1YmxpYyBmdW5jIG1hcFZhbHVlczxUPihfIHRyYW5zZm9ybTogKFZhbHVlKSB0aHJvd3MgLT4gVCkgcmV0aHJvd3MgLT4gW0tleTogVF0ge30KICAgIHB1YmxpYyBtdXRhdGluZyBmdW5jIG1lcmdlKF8gb3RoZXI6IF9fb3duZWQgW0tleTogVmFsdWVdLCB1bmlxdWluZ0tleXNXaXRoIGNvbWJpbmU6IChWYWx1ZSwgVmFsdWUpIHRocm93cyAtPiBWYWx1ZSkgcmV0aHJvd3Mge30KICAgIHB1YmxpYyBtdXRhdGluZyBmdW5jIG1lcmdlPFM+KF8gb3RoZXI6IF9fb3duZWQgUywgdW5pcXVpbmdLZXlzV2l0aCBjb21iaW5lOiAoVmFsdWUsIFZhbHVlKSB0aHJvd3MgLT4gVmFsdWUpIHJldGhyb3dzIHdoZXJlIFMgOiBTZXF1ZW5jZSwgKEtleSwgVmFsdWUpID09IFMuRWxlbWVudCB7fQogICAgQGRpc2NhcmRhYmxlUmVzdWx0IHB1YmxpYyBtdXRhdGluZyBmdW5jIHJlbW92ZShhdCBpbmRleDogSW5kZXgpIC0+IEVsZW1lbnQge30KICAgIHB1YmxpYyBtdXRhdGluZyBmdW5jIHJlbW92ZUFsbChrZWVwaW5nQ2FwYWNpdHkga2VlcENhcGFjaXR5OiBCb29sID0geCkge30KICAgIEBkaXNjYXJkYWJsZVJlc3VsdCBwdWJsaWMgbXV0YXRpbmcgZnVuYyByZW1vdmVWYWx1ZShmb3JLZXkga2V5OiBLZXkpIC0+IFZhbHVlPyB7fQogICAgcHVibGljIG11dGF0aW5nIGZ1bmMgcmVzZXJ2ZUNhcGFjaXR5KF8gbWluaW11bUNhcGFjaXR5OiBJbnQpIHt9CiAgICBAZGlzY2FyZGFibGVSZXN1bHQgcHVibGljIG11dGF0aW5nIGZ1bmMgdXBkYXRlVmFsdWUoXyB2YWx1ZTogX19vd25lZCBWYWx1ZSwgZm9yS2V5IGtleTogS2V5KSAtPiBWYWx1ZT8ge30KfQpleHRlbnNpb24gRGljdGlvbmFyeS5JbmRleCB7Cn0KZXh0ZW5zaW9uIERpY3Rpb25hcnkuSXRlcmF0b3Igewp9CmV4dGVuc2lvbiBEaWN0aW9uYXJ5LktleXMgewp9CmV4dGVuc2lvbiBEaWN0aW9uYXJ5LlZhbHVlcyB7Cn0KZXh0ZW5zaW9uIERpY3Rpb25hcnkuX1ZhcmlhbnQgewp9CmV4dGVuc2lvbiBEb3VibGUgewp9CmV4dGVuc2lvbiBEcm9wRmlyc3RTZXF1ZW5jZSB7Cn0KZXh0ZW5zaW9uIERyb3BXaGlsZVNlcXVlbmNlIHsKICAgIHB1YmxpYyBmdW5jIG1ha2VJdGVyYXRvcigpIC0+IEl0ZXJhdG9yIHt9Cn0KZXh0ZW5zaW9uIERyb3BXaGlsZVNlcXVlbmNlLkl0ZXJhdG9yIHsKfQpleHRlbnNpb24gRW1wdHlDb2xsZWN0aW9uIHsKICAgIHB1YmxpYyB2YXIgY291bnQ6IEludCB7IGdldCB9CiAgICBwdWJsaWMgZnVuYyBtYWtlSXRlcmF0b3IoKSAtPiBJdGVyYXRvciB7fQp9CmV4dGVuc2lvbiBFbXB0eUNvbGxlY3Rpb24uSXRlcmF0b3Igewp9CmV4dGVuc2lvbiBFbnVtZXJhdGVkU2VxdWVuY2Ugewp9CmV4dGVuc2lvbiBFbnVtZXJhdGVkU2VxdWVuY2UuSXRlcmF0b3Igewp9CmV4dGVuc2lvbiBGbGF0dGVuQ29sbGVjdGlvbiB7Cn0KZXh0ZW5zaW9uIEZsYXR0ZW5TZXF1ZW5jZSB7Cn0KZXh0ZW5zaW9uIEZsYXR0ZW5TZXF1ZW5jZS5JbmRleCB7Cn0KZXh0ZW5zaW9uIEZsYXR0ZW5TZXF1ZW5jZS5JdGVyYXRvciB7Cn0KZXh0ZW5zaW9uIEZsb2F0IHsKfQpleHRlbnNpb24gRmxvYXQ4MCB7Cn0KZXh0ZW5zaW9uIEluZGV4aW5nSXRlcmF0b3Igewp9CmV4dGVuc2lvbiBJbnQgewogICAgcHVibGljIGluaXQoYml0UGF0dGVybiBvYmplY3RJRDogT2JqZWN0SWRlbnRpZmllcikge30KICAgIHB1YmxpYyBpbml0KGJpdFBhdHRlcm4gcG9pbnRlcjogT3BhcXVlUG9pbnRlcj8pIHt9Cn0KZXh0ZW5zaW9uIEludDE2IHsKfQpleHRlbnNpb24gSW50MzIgewp9CmV4dGVuc2lvbiBJbnQ2NCB7Cn0KZXh0ZW5zaW9uIEludDggewp9CmV4dGVuc2lvbiBJdGVyYXRvclNlcXVlbmNlIHsKfQpleHRlbnNpb24gSm9pbmVkU2VxdWVuY2Ugewp9CmV4dGVuc2lvbiBKb2luZWRTZXF1ZW5jZS5JdGVyYXRvciB7Cn0KZXh0ZW5zaW9uIEtleVZhbHVlUGFpcnMgewp9CmV4dGVuc2lvbiBMYXp5Q29sbGVjdGlvbiB7Cn0KZXh0ZW5zaW9uIExhenlEcm9wV2hpbGVDb2xsZWN0aW9uIHsKfQpleHRlbnNpb24gTGF6eURyb3BXaGlsZVNlcXVlbmNlIHsKfQpleHRlbnNpb24gTGF6eURyb3BXaGlsZVNlcXVlbmNlLkl0ZXJhdG9yIHsKfQpleHRlbnNpb24gTGF6eUZpbHRlckNvbGxlY3Rpb24gewp9CmV4dGVuc2lvbiBMYXp5RmlsdGVyU2VxdWVuY2Ugewp9CmV4dGVuc2lvbiBMYXp5RmlsdGVyU2VxdWVuY2UuSXRlcmF0b3Igewp9CmV4dGVuc2lvbiBMYXp5TWFwQ29sbGVjdGlvbiB7Cn0KZXh0ZW5zaW9uIExhenlNYXBTZXF1ZW5jZSB7CiAgICBwdWJsaWMgdmFyIHVuZGVyZXN0aW1hdGVkQ291bnQ6IEludCB7IGdldCB9Cn0KZXh0ZW5zaW9uIExhenlNYXBTZXF1ZW5jZS5JdGVyYXRvciB7Cn0KZXh0ZW5zaW9uIExhenlQcmVmaXhXaGlsZUNvbGxlY3Rpb24gewp9CmV4dGVuc2lvbiBMYXp5UHJlZml4V2hpbGVTZXF1ZW5jZSB7Cn0KZXh0ZW5zaW9uIExhenlQcmVmaXhXaGlsZVNlcXVlbmNlLkluZGV4IHsKICAgIHB1YmxpYyBmdW5jID09KGxoczogTGF6eVByZWZpeFdoaWxlQ29sbGVjdGlvbjxCYXNlPi5JbmRleCwgcmhzOiBMYXp5UHJlZml4V2hpbGVDb2xsZWN0aW9uPEJhc2U+LkluZGV4KSAtPiBCb29sIHdoZXJlIEJhc2UgOiBDb2xsZWN0aW9uIHt9Cn0KZXh0ZW5zaW9uIExhenlQcmVmaXhXaGlsZVNlcXVlbmNlLkl0ZXJhdG9yIHsKfQpleHRlbnNpb24gTGF6eVNlcXVlbmNlIHsKfQpleHRlbnNpb24gTWFuYWdlZEJ1ZmZlciB7CiAgICBwdWJsaWMgY2xhc3MgZnVuYyBjcmVhdGUobWluaW11bUNhcGFjaXR5OiBJbnQsIG1ha2luZ0hlYWRlcldpdGggZmFjdG9yeTogKE1hbmFnZWRCdWZmZXI8SGVhZGVyLCBFbGVtZW50PikgdGhyb3dzIC0+IEhlYWRlcikgcmV0aHJvd3MgLT4gTWFuYWdlZEJ1ZmZlcjxIZWFkZXIsIEVsZW1lbnQ+IHt9CiAgICBwdWJsaWMgdmFyIGNhcGFjaXR5OiBJbnQgeyBnZXQgfQogICAgcHVibGljIGZ1bmMgd2l0aFVuc2FmZU11dGFibGVQb2ludGVyVG9FbGVtZW50czxSPihfIGJvZHk6IChVbnNhZmVNdXRhYmxlUG9pbnRlcjxFbGVtZW50PikgdGhyb3dzIC0+IFIpIHJldGhyb3dzIC0+IFIge30KICAgIHB1YmxpYyBmdW5jIHdpdGhVbnNhZmVNdXRhYmxlUG9pbnRlclRvSGVhZGVyPFI+KF8gYm9keTogKFVuc2FmZU11dGFibGVQb2ludGVyPEhlYWRlcj4pIHRocm93cyAtPiBSKSByZXRocm93cyAtPiBSIHt9CiAgICBwdWJsaWMgZnVuYyB3aXRoVW5zYWZlTXV0YWJsZVBvaW50ZXJzPFI+KF8gYm9keTogKFVuc2FmZU11dGFibGVQb2ludGVyPEhlYWRlcj4sIFVuc2FmZU11dGFibGVQb2ludGVyPEVsZW1lbnQ+KSB0aHJvd3MgLT4gUikgcmV0aHJvd3MgLT4gUiB7fQp9CmV4dGVuc2lvbiBNYW5hZ2VkQnVmZmVyUG9pbnRlciB7CiAgICBwdWJsaWMgdmFyIGJ1ZmZlcjogQW55T2JqZWN0IHsgZ2V0IH0KICAgIHB1YmxpYyB2YXIgY2FwYWNpdHk6IEludCB7IGdldCB9CiAgICBwdWJsaWMgdmFyIGhlYWRlcjogSGVhZGVyIHsgZ2V0IH0KICAgIHB1YmxpYyBtdXRhdGluZyBmdW5jIGlzVW5pcXVlUmVmZXJlbmNlKCkgLT4gQm9vbCB7fQogICAgcHVibGljIGZ1bmMgd2l0aFVuc2FmZU11dGFibGVQb2ludGVyVG9FbGVtZW50czxSPihfIGJvZHk6IChVbnNhZmVNdXRhYmxlUG9pbnRlcjxFbGVtZW50PikgdGhyb3dzIC0+IFIpIHJldGhyb3dzIC0+IFIge30KICAgIHB1YmxpYyBmdW5jIHdpdGhVbnNhZmVNdXRhYmxlUG9pbnRlclRvSGVhZGVyPFI+KF8gYm9keTogKFVuc2FmZU11dGFibGVQb2ludGVyPEhlYWRlcj4pIHRocm93cyAtPiBSKSByZXRocm93cyAtPiBSIHt9CiAgICBwdWJsaWMgZnVuYyB3aXRoVW5zYWZlTXV0YWJsZVBvaW50ZXJzPFI+KF8gYm9keTogKFVuc2FmZU11dGFibGVQb2ludGVyPEhlYWRlcj4sIFVuc2FmZU11dGFibGVQb2ludGVyPEVsZW1lbnQ+KSB0aHJvd3MgLT4gUikgcmV0aHJvd3MgLT4gUiB7fQp9CmV4dGVuc2lvbiBNZW1vcnlMYXlvdXQgewogICAgcHVibGljIHN0YXRpYyBmdW5jIGFsaWdubWVudChvZlZhbHVlIHZhbHVlOiBUKSAtPiBJbnQge30KICAgIHB1YmxpYyBzdGF0aWMgZnVuYyBvZmZzZXQob2Yga2V5OiBQYXJ0aWFsS2V5UGF0aDxUPikgLT4gSW50PyB7fQogICAgcHVibGljIHN0YXRpYyBmdW5jIHNpemUob2ZWYWx1ZSB2YWx1ZTogVCkgLT4gSW50IHt9CiAgICBwdWJsaWMgc3RhdGljIGZ1bmMgc3RyaWRlKG9mVmFsdWUgdmFsdWU6IFQpIC0+IEludCB7fQp9CmV4dGVuc2lvbiBPcHRpb25hbCB7CiAgICBwdWJsaWMgZnVuYyB+PShsaHM6IF9PcHRpb25hbE5pbENvbXBhcmlzb25UeXBlLCByaHM6IFdyYXBwZWQ/KSAtPiBCb29sIHt9Cn0KZXh0ZW5zaW9uIFBhcnRpYWxSYW5nZUZyb20gewogICAgcHVibGljIGluaXQoZnJvbSBkZWNvZGVyOiBEZWNvZGVyKSB0aHJvd3Mgd2hlcmUgQm91bmQgOiBEZWNvZGFibGUge30KICAgIHB1YmxpYyBmdW5jIGVuY29kZSh0byBlbmNvZGVyOiBFbmNvZGVyKSB0aHJvd3Mgd2hlcmUgQm91bmQgOiBFbmNvZGFibGUge30KfQpleHRlbnNpb24gUGFydGlhbFJhbmdlVGhyb3VnaCB7CiAgICBwdWJsaWMgaW5pdChmcm9tIGRlY29kZXI6IERlY29kZXIpIHRocm93cyB3aGVyZSBCb3VuZCA6IERlY29kYWJsZSB7fQogICAgcHVibGljIGZ1bmMgZW5jb2RlKHRvIGVuY29kZXI6IEVuY29kZXIpIHRocm93cyB3aGVyZSBCb3VuZCA6IEVuY29kYWJsZSB7fQp9CmV4dGVuc2lvbiBQYXJ0aWFsUmFuZ2VVcFRvIHsKICAgIHB1YmxpYyBpbml0KGZyb20gZGVjb2RlcjogRGVjb2RlcikgdGhyb3dzIHdoZXJlIEJvdW5kIDogRGVjb2RhYmxlIHt9CiAgICBwdWJsaWMgZnVuYyBlbmNvZGUodG8gZW5jb2RlcjogRW5jb2RlcikgdGhyb3dzIHdoZXJlIEJvdW5kIDogRW5jb2RhYmxlIHt9Cn0KZXh0ZW5zaW9uIFByZWZpeFNlcXVlbmNlIHsKfQpleHRlbnNpb24gUHJlZml4U2VxdWVuY2UuSXRlcmF0b3Igewp9CmV4dGVuc2lvbiBSYW5nZSB7CiAgICBwdWJsaWMgaW5pdChfIG90aGVyOiBDbG9zZWRSYW5nZTxCb3VuZD4pIHdoZXJlIEJvdW5kIDogU3RyaWRlYWJsZSwgQm91bmQuU3RyaWRlIDogU2lnbmVkSW50ZWdlciB7fQogICAgcHVibGljIGluaXQoZnJvbSBkZWNvZGVyOiBEZWNvZGVyKSB0aHJvd3Mgd2hlcmUgQm91bmQgOiBEZWNvZGFibGUge30KICAgIHB1YmxpYyBmdW5jIGNsYW1wZWQodG8gbGltaXRzOiBSYW5nZSkgLT4gUmFuZ2Uge30KICAgIHB1YmxpYyBmdW5jIGVuY29kZSh0byBlbmNvZGVyOiBFbmNvZGVyKSB0aHJvd3Mgd2hlcmUgQm91bmQgOiBFbmNvZGFibGUge30KICAgIHB1YmxpYyBmdW5jIG92ZXJsYXBzKF8gb3RoZXI6IFJhbmdlPEJvdW5kPikgLT4gQm9vbCB7fQp9CmV4dGVuc2lvbiBSZXBlYXRlZCB7Cn0KZXh0ZW5zaW9uIFJlc3VsdCB7CiAgICBwdWJsaWMgaW5pdChjYXRjaGluZyBib2R5OiAoKSB0aHJvd3MgLT4gU3VjY2Vzcykgd2hlcmUgRmFpbHVyZSA9PSBTd2lmdC5FcnJvciB7fQp9CmV4dGVuc2lvbiBSZXZlcnNlZENvbGxlY3Rpb24gewp9CmV4dGVuc2lvbiBSZXZlcnNlZENvbGxlY3Rpb24uSW5kZXggewogICAgcHVibGljIGZ1bmMgPT0obGhzOiBSZXZlcnNlZENvbGxlY3Rpb248QmFzZT4uSW5kZXgsIHJoczogUmV2ZXJzZWRDb2xsZWN0aW9uPEJhc2U+LkluZGV4KSAtPiBCb29sIHt9Cn0KZXh0ZW5zaW9uIFJldmVyc2VkQ29sbGVjdGlvbi5JdGVyYXRvciB7Cn0KZXh0ZW5zaW9uIFNldCB7CiAgICBwdWJsaWMgdmFyIGNhcGFjaXR5OiBJbnQgeyBnZXQgfQogICAgcHVibGljIHN1YnNjcmlwdChwb3NpdGlvbjogSW5kZXgpIC0+IEVsZW1lbnQgeyBnZXQgfSB7fQogICAgQGRpc2NhcmRhYmxlUmVzdWx0IHB1YmxpYyBtdXRhdGluZyBmdW5jIHJlbW92ZShhdCBwb3NpdGlvbjogSW5kZXgpIC0+IEVsZW1lbnQge30KICAgIHB1YmxpYyBtdXRhdGluZyBmdW5jIHJlbW92ZUFsbChrZWVwaW5nQ2FwYWNpdHkga2VlcENhcGFjaXR5OiBCb29sID0geCkge30KICAgIHB1YmxpYyBtdXRhdGluZyBmdW5jIHJlc2VydmVDYXBhY2l0eShfIG1pbmltdW1DYXBhY2l0eTogSW50KSB7fQp9CmV4dGVuc2lvbiBTZXQuSW5kZXggewp9CmV4dGVuc2lvbiBTZXQuSXRlcmF0b3Igewp9CmV4dGVuc2lvbiBTZXQuX1ZhcmlhbnQgewp9CmV4dGVuc2lvbiBTbGljZSB7CiAgICBwdWJsaWMgc3Vic2NyaXB0KGluZGV4OiBJbmRleCkgLT4gQmFzZS5FbGVtZW50IHsgZ2V0IHNldCB9IHdoZXJlIEJhc2UgOiBNdXRhYmxlQ29sbGVjdGlvbiB7fQp9CmV4dGVuc2lvbiBTdHJpZGVUaHJvdWdoIHsKI2lmIGZhbHNlCiAgICBwdWJsaWMgdmFyIGNvdW50OiBJbnQgeyBnZXQgfSB3aGVyZSBFbGVtZW50LlN0cmlkZSA6IEJpbmFyeUludGVnZXIKI2VuZGlmCn0KZXh0ZW5zaW9uIFN0cmlkZVRocm91Z2hJdGVyYXRvciB7Cn0KZXh0ZW5zaW9uIFN0cmlkZVRvIHsKI2lmIGZhbHNlCiAgICBwdWJsaWMgdmFyIGNvdW50OiBJbnQgeyBnZXQgfSB3aGVyZSBFbGVtZW50LlN0cmlkZSA6IEJpbmFyeUludGVnZXIKI2VuZGlmCn0KZXh0ZW5zaW9uIFN0cmlkZVRvSXRlcmF0b3Igewp9CmV4dGVuc2lvbiBTdHJpbmcuVVRGMTZWaWV3IHsKfQpleHRlbnNpb24gU3RyaW5nLlVURjhWaWV3IHsKICAgIHB1YmxpYyB2YXIgY291bnQ6IEludCB7IGdldCB9CiAgICBAYXZhaWxhYmxlKHN3aWZ0LCBpbnRyb2R1Y2VkOiA0KSBwdWJsaWMgc3Vic2NyaXB0KHI6IFJhbmdlPEluZGV4PikgLT4gU3RyaW5nLlVURjhWaWV3LlN1YlNlcXVlbmNlIHsgZ2V0IH0ge30KICAgIHB1YmxpYyBzdWJzY3JpcHQoaTogSW5kZXgpIC0+IFVURjguQ29kZVVuaXQgeyBnZXQgfSB7fQogICAgcHVibGljIGZ1bmMgd2l0aENvbnRpZ3VvdXNTdG9yYWdlSWZBdmFpbGFibGU8Uj4oXyBib2R5OiAoVW5zYWZlQnVmZmVyUG9pbnRlcjxFbGVtZW50PikgdGhyb3dzIC0+IFIpIHJldGhyb3dzIC0+IFI/IHt9Cn0KZXh0ZW5zaW9uIFN0cmluZy5VVEY4Vmlldy5JbmRleCB7CiAgICBwdWJsaWMgaW5pdD8oXyBpZHg6IFN0cmluZy5JbmRleCwgd2l0aGluIHRhcmdldDogU3RyaW5nLlVURjhWaWV3KSB7fQp9CmV4dGVuc2lvbiBTdHJpbmcuVW5pY29kZVNjYWxhckluZGV4IHsKICAgIHB1YmxpYyBpbml0PyhfIHNvdXJjZVBvc2l0aW9uOiBTdHJpbmcuSW5kZXgsIHdpdGhpbiB1bmljb2RlU2NhbGFyczogU3RyaW5nLlVuaWNvZGVTY2FsYXJWaWV3KSB7fQogICAgcHVibGljIGZ1bmMgc2FtZVBvc2l0aW9uKGluIGNoYXJhY3RlcnM6IFN0cmluZykgLT4gU3RyaW5nLkluZGV4PyB7fQp9CmV4dGVuc2lvbiBTdHJpbmcuVW5pY29kZVNjYWxhclZpZXcgewp9CmV4dGVuc2lvbiBVSW50IHsKICAgIHB1YmxpYyBpbml0KGJpdFBhdHRlcm4gb2JqZWN0SUQ6IE9iamVjdElkZW50aWZpZXIpIHt9CiAgICBwdWJsaWMgaW5pdChiaXRQYXR0ZXJuIHBvaW50ZXI6IE9wYXF1ZVBvaW50ZXI/KSB7fQp9CmV4dGVuc2lvbiBVSW50MTYgewp9CmV4dGVuc2lvbiBVSW50MzIgewogICAgcHVibGljIGluaXQoXyB2OiBVbmljb2RlLlNjYWxhcikge30KfQpleHRlbnNpb24gVUludDY0IHsKICAgIHB1YmxpYyBpbml0KF8gdjogVW5pY29kZS5TY2FsYXIpIHt9Cn0KZXh0ZW5zaW9uIFVJbnQ4IHsKICAgIHB1YmxpYyBpbml0KGFzY2lpIHY6IFVuaWNvZGUuU2NhbGFyKSB7fQp9CmV4dGVuc2lvbiBVVEYxNi5Db2RlVW5pdCB7Cn0KZXh0ZW5zaW9uIFVURjE2LlJldmVyc2VQYXJzZXIgewp9CmV4dGVuc2lvbiBVVEYzMi5QYXJzZXIgewogICAgcHVibGljIG11dGF0aW5nIGZ1bmMgcGFyc2VTY2FsYXI8ST4oZnJvbSBpbnB1dDogaW5vdXQgSSkgLT4gVW5pY29kZS5QYXJzZVJlc3VsdDxFbmNvZGluZy5FbmNvZGVkU2NhbGFyPiB3aGVyZSBJIDogSXRlcmF0b3JQcm90b2NvbCwgRW5jb2RpbmcuQ29kZVVuaXQgPT0gSS5FbGVtZW50IHt9Cn0KZXh0ZW5zaW9uIFVURjguQ29kZVVuaXQgewp9CmV4dGVuc2lvbiBVVEY4LlJldmVyc2VQYXJzZXIgewp9CmV4dGVuc2lvbiBVVEY4VmFsaWRhdGlvblJlc3VsdCB7Cn0KZXh0ZW5zaW9uIFVuaWNvZGUuQVNDSUkuUGFyc2VyIHsKICAgIHB1YmxpYyBtdXRhdGluZyBmdW5jIHBhcnNlU2NhbGFyPEk+KGZyb20gaW5wdXQ6IGlub3V0IEkpIC0+IFVuaWNvZGUuUGFyc2VSZXN1bHQ8RW5jb2RpbmcuRW5jb2RlZFNjYWxhcj4gd2hlcmUgSSA6IEl0ZXJhdG9yUHJvdG9jb2wsIEVuY29kaW5nLkNvZGVVbml0ID09IEkuRWxlbWVudCB7fQp9CmV4dGVuc2lvbiBVbmljb2RlLlNjYWxhciB7Cn0KZXh0ZW5zaW9uIFVuaWNvZGUuVVRGMTYgewogICAgcHVibGljIHN0YXRpYyB2YXIgZW5jb2RlZFJlcGxhY2VtZW50Q2hhcmFjdGVyOiBFbmNvZGVkU2NhbGFyIHsgZ2V0IH0KICAgIHB1YmxpYyBzdGF0aWMgZnVuYyBkZWNvZGUoXyBzb3VyY2U6IEVuY29kZWRTY2FsYXIpIC0+IFVuaWNvZGUuU2NhbGFyIHt9CiAgICBwdWJsaWMgc3RhdGljIGZ1bmMgZW5jb2RlKF8gc291cmNlOiBVbmljb2RlLlNjYWxhcikgLT4gRW5jb2RlZFNjYWxhcj8ge30KICAgIHB1YmxpYyBzdGF0aWMgZnVuYyB0cmFuc2NvZGU8RnJvbUVuY29kaW5nPihfIGNvbnRlbnQ6IEZyb21FbmNvZGluZy5FbmNvZGVkU2NhbGFyLCBmcm9tIF86IEZyb21FbmNvZGluZy5UeXBlKSAtPiBFbmNvZGVkU2NhbGFyPyB3aGVyZSBGcm9tRW5jb2RpbmcgOiBVbmljb2RlLkVuY29kaW5nIHt9Cn0KZXh0ZW5zaW9uIFVuaWNvZGUuVVRGMTYuRm9yd2FyZFBhcnNlciB7Cn0KZXh0ZW5zaW9uIFVuaWNvZGUuVVRGMzIgewogICAgcHVibGljIHN0YXRpYyB2YXIgZW5jb2RlZFJlcGxhY2VtZW50Q2hhcmFjdGVyOiBFbmNvZGVkU2NhbGFyIHsgZ2V0IH0KICAgIHB1YmxpYyBzdGF0aWMgZnVuYyBkZWNvZGUoXyBzb3VyY2U6IEVuY29kZWRTY2FsYXIpIC0+IFVuaWNvZGUuU2NhbGFyIHt9CiAgICBwdWJsaWMgc3RhdGljIGZ1bmMgZW5jb2RlKF8gc291cmNlOiBVbmljb2RlLlNjYWxhcikgLT4gRW5jb2RlZFNjYWxhcj8ge30KfQpleHRlbnNpb24gVW5pY29kZS5VVEY4LkZvcndhcmRQYXJzZXIgewp9CmV4dGVuc2lvbiBVbnNhZmVCdWZmZXJQb2ludGVyIHsKfQpleHRlbnNpb24gVW5zYWZlTXV0YWJsZUJ1ZmZlclBvaW50ZXIgewp9CmV4dGVuc2lvbiBVbnNhZmVNdXRhYmxlUG9pbnRlciB7Cn0KZXh0ZW5zaW9uIFVuc2FmZU11dGFibGVSYXdCdWZmZXJQb2ludGVyIHsKfQpleHRlbnNpb24gVW5zYWZlUG9pbnRlciB7Cn0KZXh0ZW5zaW9uIFVuc2FmZVJhd0J1ZmZlclBvaW50ZXIgewp9CmV4dGVuc2lvbiBaaXAyU2VxdWVuY2Ugewp9CmV4dGVuc2lvbiBaaXAyU2VxdWVuY2UuSXRlcmF0b3Igewp9")!, encoding: String.Encoding.utf8)!
    static let syntaxHighlighting = String(data: Data(base64Encoded: "LyoKIFN5bnRheCBIaWdobGlnaHRpbmcuY3NzCgogVGhpcyBzb3VyY2UgZmlsZSBpcyBwYXJ0IG9mIHRoZSBTREdTd2lmdCBvcGVuIHNvdXJjZSBwcm9qZWN0LgogaHR0cHM6Ly9zZGdnaWVzYnJlY2h0LmdpdGh1Yi5pby9TREdTd2lmdAoKIENvcHlyaWdodCDCqTIwMTjigJMyMDE5IEplcmVteSBEYXZpZCBHaWVzYnJlY2h0IGFuZCB0aGUgU0RHU3dpZnQgcHJvamVjdCBjb250cmlidXRvcnMuCgogU29saSBEZW8gZ2xvcmlhLgoKIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5jZSwgVmVyc2lvbiAyLjAuCiBTZWUgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wIGZvciBsaWNlbmNlIGluZm9ybWF0aW9uLgogKi8KCi8qIExheW91dCAqLwoKLnN3aWZ0IHsKICAgIGRpc3BsYXk6IGlubGluZTsKICAgIHdoaXRlLXNwYWNlOiBwcmUtd3JhcDsKfQouc3dpZnQuYmxvY2txdW90ZSB7CiAgICBkaXNwbGF5OiBibG9jazsKICAgIG1hcmdpbjogMS40ZW0gMDsKICAgIGJvcmRlcjogMXB4IHNvbGlkOwogICAgIGJvcmRlci1yYWRpdXM6IDAuMzUyOTRlbTsKICAgIHBhZGRpbmc6IDAuMzUyOTRlbSAwLjk0MTE4ZW07Cn0KCi8qIENvbG91ciAqLwoKLnN3aWZ0LmJsb2NrcXVvdGUgewogICAgYmFja2dyb3VuZC1jb2xvcjogI0Y5RkFGQTsKICAgIGJvcmRlci1jb2xvcjogICNFNkU2RTY7Cn0KLnN3aWZ0IHsKICAgIGNvbG9yOiAjMDAwMDAwOwp9Cgouc3dpZnQgLmtleXdvcmQgewogICAgY29sb3I6ICNBQTBEOTE7Cn0KCi5zd2lmdCAucHVuY3R1YXRpb24gewogICAgY29sb3I6ICMwMDAwMDA7Cn0KCi5zd2lmdCAuZXh0ZXJuYWwuaWRlbnRpZmllciB7CiAgICBjb2xvcjogIzVDMjY5OTsKfQouc3dpZnQgLmludGVybmFsLmlkZW50aWZpZXIgewogICAgY29sb3I6ICMzRjZFNzQ7Cn0KCi5zd2lmdCAubnVtYmVyIHsKICAgIGNvbG9yOiAjMEUwRUZGOwp9Cgouc3dpZnQgLnN0cmluZyB7CiAgICBjb2xvcjogI0M0MUExNjsKfQouc3dpZnQgLnN0cmluZ+KAkHB1bmN0dWF0aW9uIHsKICAgIGNvbG9yOiAjNjIyNzBCOwp9Cgouc3dpZnQgLmNvbXBpbGF0aW9u4oCQY29uZGl0aW9uIHsKICAgIGNvbG9yOiAjNjQzODIwOwp9Cgouc3dpZnQgLmNvbW1lbnQgewogICAgY29sb3I6ICMwMDc0MDA7Cn0KLnN3aWZ0IC5jb21tZW504oCQcHVuY3R1YXRpb24gewogICAgY29sb3I6ICMwMDNBMDA7Cn0KLnN3aWZ0IC51cmwgewogICAgY29sb3I6ICMwRTBFRkY7Cn0KCi5zd2lmdCAuY29kZSB7CiAgICBjb2xvcjogIzAwMDAwMDsKfQoKLyogRm9udCAqLwoKLnN3aWZ0IHsKICAgIGZvbnQtZmFtaWx5OiAiU0YgTW9ubyIsIE1lbmxvLCBtb25vc3BhY2UsICJTRiBQcm8gSWNvbnMiOwogICAgbGV0dGVyLXNwYWNpbmc6IC0wLjAyN2VtOwogICAgbGluZS1oZWlnaHQ6IDEuMjY2Njc7Cn0KCi5zd2lmdCAudGV4dCB7CiAgICBmb250LWZhbWlseTogIlNGIFBybyBUZXh0IiwgIlNGIFBybyBJY29ucyIsICItYXBwbGUtc3lzdGVtIiwgIkJsaW5rTWFjU3lzdGVtRm9udCIsICJIZWx2ZXRpY2EgTmV1ZSIsICJIZWx2ZXRpY2EiLCAiQXJpYWwiLCBzYW5zLXNlcmlmOwogICAgbGV0dGVyLXNwYWNpbmc6IDA7Cn0KCi5zd2lmdCAuY29tbWVudOKAkGtleXdvcmQgewogICAgZm9udC13ZWlnaHQ6IGJvbGQ7Cn0KCi5zd2lmdCAudXJsOmxpbmssIC5zd2lmdCAudXJsOnZpc2l0ZWQgewogICAgdGV4dC1kZWNvcmF0aW9uOiBub25lOwp9Ci5zd2lmdCAudXJsOmhvdmVyIHsKICAgIHRleHQtZGVjb3JhdGlvbjogdW5kZXJsaW5lOwp9Cg==")!, encoding: String.Encoding.utf8)!
    static let xctest = String(data: Data(base64Encoded: "b3BlbiBjbGFzcyBYQ1ROU05vdGlmaWNhdGlvbkV4cGVjdGF0aW9uIDogQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIFhDVGVzdEV4cGVjdGF0aW9uIHsKICAgIHB1YmxpYyBpbml0KG5hbWUgbm90aWZpY2F0aW9uTmFtZTogTm90aWZpY2F0aW9uLk5hbWUsIG9iamVjdDogQW55PyA9IHgsIG5vdGlmaWNhdGlvbkNlbnRlcjogTm90aWZpY2F0aW9uQ2VudGVyID0geCwgZmlsZTogU3RhdGljU3RyaW5nID0geCwgbGluZTogSW50ID0geCkge30KICAgIG9wZW4gdmFyIGhhbmRsZXI6IEhhbmRsZXI/IHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBub3RpZmljYXRpb25DZW50ZXI6IE5vdGlmaWNhdGlvbkNlbnRlciB7IGdldCB9CiAgICBvcGVuIHZhciBub3RpZmljYXRpb25OYW1lOiBOb3RpZmljYXRpb24uTmFtZSB7IGdldCB9CiAgICBvcGVuIHZhciBvYnNlcnZlZE9iamVjdDogQW55PyB7IGdldCB9Cn0Kb3BlbiBjbGFzcyBYQ1ROU1ByZWRpY2F0ZUV4cGVjdGF0aW9uIDogQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgSGFzaGFibGUsIFhDVGVzdEV4cGVjdGF0aW9uIHsKICAgIHB1YmxpYyBpbml0KHByZWRpY2F0ZTogTlNQcmVkaWNhdGUsIG9iamVjdDogQW55PyA9IHgsIGZpbGU6IFN0YXRpY1N0cmluZyA9IHgsIGxpbmU6IEludCA9IHgpIHt9CiAgICBvcGVuIHZhciBoYW5kbGVyOiBIYW5kbGVyPyB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgb2JqZWN0OiBBbnk/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHByZWRpY2F0ZTogTlNQcmVkaWNhdGUgeyBnZXQgfQp9Cm9wZW4gY2xhc3MgWENUV2FpdGVyIDogQ3VzdG9tU3RyaW5nQ29udmVydGlibGUsIEVxdWF0YWJsZSwgTWFuYWdlYWJsZVdhaXRlciB7CiAgICBvcGVuIGNsYXNzIGZ1bmMgd2FpdChmb3IgZXhwZWN0YXRpb25zOiBbWENUZXN0RXhwZWN0YXRpb25dLCB0aW1lb3V0OiBUaW1lSW50ZXJ2YWwsIGVuZm9yY2VPcmRlcjogQm9vbCA9IHgsIGZpbGU6IFN0YXRpY1N0cmluZyA9IHgsIGxpbmU6IEludCA9IHgpIC0+IFJlc3VsdCB7fQogICAgcHVibGljIGluaXQoZGVsZWdhdGU6IFhDVFdhaXRlckRlbGVnYXRlPyA9IHgpIHt9CiAgICBvcGVuIHZhciBkZWxlZ2F0ZTogWENUV2FpdGVyRGVsZWdhdGU/IHsgZ2V0IHNldCB9CiAgICBwdWJsaWMgdmFyIGRlc2NyaXB0aW9uOiBTdHJpbmcgeyBnZXQgfQogICAgb3BlbiB2YXIgZnVsZmlsbGVkRXhwZWN0YXRpb25zOiBbWENUZXN0RXhwZWN0YXRpb25dIHsgZ2V0IH0KICAgIHB1YmxpYyBmdW5jID09KGxoczogWENUV2FpdGVyLCByaHM6IFhDVFdhaXRlcikgLT4gQm9vbCB7fQogICAgQGRpc2NhcmRhYmxlUmVzdWx0IG9wZW4gZnVuYyB3YWl0KGZvciBleHBlY3RhdGlvbnM6IFtYQ1Rlc3RFeHBlY3RhdGlvbl0sIHRpbWVvdXQ6IFRpbWVJbnRlcnZhbCwgZW5mb3JjZU9yZGVyOiBCb29sID0geCwgZmlsZTogU3RhdGljU3RyaW5nID0geCwgbGluZTogSW50ID0geCkgLT4gUmVzdWx0IHt9Cn0Kb3BlbiBjbGFzcyBYQ1Rlc3QgewogICAgcHVibGljIGluaXQoKSB7fQogICAgb3BlbiB2YXIgbmFtZTogU3RyaW5nIHsgZ2V0IH0KICAgIG9wZW4gdmFyIHRlc3RDYXNlQ291bnQ6IEludCB7IGdldCB9CiAgICBvcGVuIHZhciB0ZXN0UnVuOiBYQ1Rlc3RSdW4/IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHRlc3RSdW5DbGFzczogQW55Q2xhc3M/IHsgZ2V0IH0KICAgIG9wZW4gZnVuYyBwZXJmb3JtKF8gcnVuOiBYQ1Rlc3RSdW4pIHt9CiAgICBvcGVuIGZ1bmMgcnVuKCkge30KICAgIG9wZW4gZnVuYyBzZXRVcCgpIHt9CiAgICBvcGVuIGZ1bmMgdGVhckRvd24oKSB7fQp9Cm9wZW4gY2xhc3MgWENUZXN0Q2FzZSA6IEFueU9iamVjdCwgUGVyZm9ybWFuY2VNZXRlckRlbGVnYXRlLCBYQ1RXYWl0ZXJEZWxlZ2F0ZSwgWENUZXN0IHsKICAgIG9wZW4gY2xhc3MgZnVuYyBzZXRVcCgpIHt9CiAgICBvcGVuIGNsYXNzIGZ1bmMgdGVhckRvd24oKSB7fQogICAgcHVibGljIHJlcXVpcmVkIGluaXQobmFtZTogU3RyaW5nLCB0ZXN0Q2xvc3VyZTogQGVzY2FwaW5nIFhDVGVzdENhc2VDbG9zdXJlKSB7fQogICAgb3BlbiB2YXIgY29udGludWVBZnRlckZhaWx1cmU6IEJvb2wgeyBnZXQgc2V0IH0KICAgIG9wZW4gZnVuYyBpbnZva2VUZXN0KCkge30KICAgIG9wZW4gZnVuYyByZWNvcmRGYWlsdXJlKHdpdGhEZXNjcmlwdGlvbiBkZXNjcmlwdGlvbjogU3RyaW5nLCBpbkZpbGUgZmlsZVBhdGg6IFN0cmluZywgYXRMaW5lIGxpbmVOdW1iZXI6IEludCwgZXhwZWN0ZWQ6IEJvb2wpIHt9Cn0Kb3BlbiBjbGFzcyBYQ1Rlc3RDYXNlUnVuIDogWENUZXN0UnVuIHsKICAgIG9wZW4gZnVuYyByZWNvcmRGYWlsdXJlKHdpdGhEZXNjcmlwdGlvbiBkZXNjcmlwdGlvbjogU3RyaW5nLCBpbkZpbGUgZmlsZVBhdGg6IFN0cmluZz8sIGF0TGluZSBsaW5lTnVtYmVyOiBJbnQsIGV4cGVjdGVkOiBCb29sKSB7fQp9Cm9wZW4gY2xhc3MgWENUZXN0RXhwZWN0YXRpb24gOiBDdXN0b21TdHJpbmdDb252ZXJ0aWJsZSwgRXF1YXRhYmxlLCBIYXNoYWJsZSB7CiAgICBwdWJsaWMgaW5pdChkZXNjcmlwdGlvbjogU3RyaW5nID0geCwgZmlsZTogU3RhdGljU3RyaW5nID0geCwgbGluZTogSW50ID0geCkge30KICAgIG9wZW4gdmFyIGFzc2VydEZvck92ZXJGdWxmaWxsOiBCb29sIHsgZ2V0IHNldCB9CiAgICBwdWJsaWMgdmFyIGRlc2NyaXB0aW9uOiBTdHJpbmcgeyBnZXQgfQogICAgb3BlbiB2YXIgZXhwZWN0YXRpb25EZXNjcmlwdGlvbjogU3RyaW5nIHsgZ2V0IHNldCB9CiAgICBvcGVuIHZhciBleHBlY3RlZEZ1bGZpbGxtZW50Q291bnQ6IEludCB7IGdldCBzZXQgfQogICAgb3BlbiB2YXIgaXNJbnZlcnRlZDogQm9vbCB7IGdldCBzZXQgfQogICAgcHVibGljIGZ1bmMgPT0obGhzOiBYQ1Rlc3RFeHBlY3RhdGlvbiwgcmhzOiBYQ1Rlc3RFeHBlY3RhdGlvbikgLT4gQm9vbCB7fQogICAgb3BlbiBmdW5jIGZ1bGZpbGwoXyBmaWxlOiBTdGF0aWNTdHJpbmcgPSB4LCBsaW5lOiBJbnQgPSB4KSB7fQogICAgcHVibGljIGZ1bmMgaGFzaChpbnRvIGhhc2hlcjogaW5vdXQgSGFzaGVyKSB7fQp9Cm9wZW4gY2xhc3MgWENUZXN0UnVuIHsKICAgIHB1YmxpYyByZXF1aXJlZCBpbml0KHRlc3Q6IFhDVGVzdCkge30KICAgIG9wZW4gdmFyIGV4ZWN1dGlvbkNvdW50OiBJbnQgeyBnZXQgfQogICAgb3BlbiB2YXIgZmFpbHVyZUNvdW50OiBJbnQgeyBnZXQgfQogICAgb3BlbiB2YXIgaGFzU3VjY2VlZGVkOiBCb29sIHsgZ2V0IH0KICAgIG9wZW4gdmFyIHN0YXJ0RGF0ZTogRGF0ZT8geyBnZXQgfQogICAgb3BlbiB2YXIgc3RvcERhdGU6IERhdGU/IHsgZ2V0IH0KICAgIHB1YmxpYyB2YXIgdGVzdDogWENUZXN0IHsgZ2V0IH0KICAgIG9wZW4gdmFyIHRlc3RDYXNlQ291bnQ6IEludCB7IGdldCB9CiAgICBvcGVuIHZhciB0ZXN0RHVyYXRpb246IFRpbWVJbnRlcnZhbCB7IGdldCB9CiAgICBvcGVuIHZhciB0b3RhbER1cmF0aW9uOiBUaW1lSW50ZXJ2YWwgeyBnZXQgfQogICAgb3BlbiB2YXIgdG90YWxGYWlsdXJlQ291bnQ6IEludCB7IGdldCB9CiAgICBvcGVuIHZhciB1bmV4cGVjdGVkRXhjZXB0aW9uQ291bnQ6IEludCB7IGdldCB9CiAgICBvcGVuIGZ1bmMgc3RhcnQoKSB7fQogICAgb3BlbiBmdW5jIHN0b3AoKSB7fQp9Cm9wZW4gY2xhc3MgWENUZXN0U3VpdGUgOiBYQ1Rlc3QgewogICAgcHVibGljIGluaXQobmFtZTogU3RyaW5nKSB7fQogICAgb3BlbiB2YXIgdGVzdHMgeyBnZXQgfQogICAgb3BlbiBmdW5jIGFkZFRlc3QoXyB0ZXN0OiBYQ1Rlc3QpIHt9Cn0Kb3BlbiBjbGFzcyBYQ1Rlc3RTdWl0ZVJ1biA6IFhDVGVzdFJ1biB7CiAgICBvcGVuIHZhciB0ZXN0UnVucyB7IGdldCB9CiAgICBvcGVuIGZ1bmMgYWRkVGVzdFJ1bihfIHRlc3RSdW46IFhDVGVzdFJ1bikge30KfQpwdWJsaWMgcHJvdG9jb2wgWENUV2FpdGVyRGVsZWdhdGUgOiBBbnlPYmplY3QgewogICAgZnVuYyBuZXN0ZWRXYWl0ZXIoXyB3YWl0ZXI6IFhDVFdhaXRlciwgd2FzSW50ZXJydXB0ZWRCeVRpbWVkT3V0V2FpdGVyIG91dGVyV2FpdGVyOiBYQ1RXYWl0ZXIpCiAgICBmdW5jIHdhaXRlcihfIHdhaXRlcjogWENUV2FpdGVyLCBkaWRGdWxmaWxsSW52ZXJ0ZWRFeHBlY3RhdGlvbiBleHBlY3RhdGlvbjogWENUZXN0RXhwZWN0YXRpb24pCiAgICBmdW5jIHdhaXRlcihfIHdhaXRlcjogWENUV2FpdGVyLCBkaWRUaW1lb3V0V2l0aFVuZnVsZmlsbGVkRXhwZWN0YXRpb25zIHVuZnVsZmlsbGVkRXhwZWN0YXRpb25zOiBbWENUZXN0RXhwZWN0YXRpb25dKQogICAgZnVuYyB3YWl0ZXIoXyB3YWl0ZXI6IFhDVFdhaXRlciwgZnVsZmlsbG1lbnREaWRWaW9sYXRlT3JkZXJpbmdDb25zdHJhaW50c0ZvciBleHBlY3RhdGlvbjogWENUZXN0RXhwZWN0YXRpb24sIHJlcXVpcmVkRXhwZWN0YXRpb246IFhDVGVzdEV4cGVjdGF0aW9uKQp9CnB1YmxpYyBwcm90b2NvbCBYQ1Rlc3RPYnNlcnZhdGlvbiA6IEFueU9iamVjdCB7CiAgICBmdW5jIHRlc3RCdW5kbGVEaWRGaW5pc2goXyB0ZXN0QnVuZGxlOiBCdW5kbGUpCiAgICBmdW5jIHRlc3RCdW5kbGVXaWxsU3RhcnQoXyB0ZXN0QnVuZGxlOiBCdW5kbGUpCiAgICBmdW5jIHRlc3RDYXNlKF8gdGVzdENhc2U6IFhDVGVzdENhc2UsIGRpZEZhaWxXaXRoRGVzY3JpcHRpb24gZGVzY3JpcHRpb246IFN0cmluZywgaW5GaWxlIGZpbGVQYXRoOiBTdHJpbmc/LCBhdExpbmUgbGluZU51bWJlcjogSW50KQogICAgZnVuYyB0ZXN0Q2FzZURpZEZpbmlzaChfIHRlc3RDYXNlOiBYQ1Rlc3RDYXNlKQogICAgZnVuYyB0ZXN0Q2FzZVdpbGxTdGFydChfIHRlc3RDYXNlOiBYQ1Rlc3RDYXNlKQogICAgZnVuYyB0ZXN0U3VpdGVEaWRGaW5pc2goXyB0ZXN0U3VpdGU6IFhDVGVzdFN1aXRlKQogICAgZnVuYyB0ZXN0U3VpdGVXaWxsU3RhcnQoXyB0ZXN0U3VpdGU6IFhDVGVzdFN1aXRlKQp9")!, encoding: String.Encoding.utf8)!

}
